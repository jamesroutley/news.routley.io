<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://pikchr.org/home/doc/trunk/doc/userman.md">Original</a>
    <h1>Pikchr: A PIC-like markup language for diagrams in technical documentation</h1>
    
    <div id="readability-page-1" class="page"><div>


<p>This is a guide to generating diagrams using Pikchr
(pronounced &#34;Picture&#34;).  This guide is
designed to teach you to use Pikchr.  It is not a reference for the
Pikchr language (that is a <a href="https://pikchr.org/home/doc/trunk/doc/grammar.md">separate document</a>) nor is it an explanation
of why you might want to use Pikchr.  The goal here is to provide
a practical and accessible tutorial on using Pikchr.</p>


<p>The design goal of Pikchr is to enable embedded line diagrams in Markdown or other
simple markup languages.  The details on how to embed Pikchr in Markdown is
<a href="https://pikchr.org/home/doc/trunk/doc/usepikchr.md">covered separately</a>.  For the purpose of this tutorial, we will only write
pure Pikchr scripts without the surrounding markup.  To experiment
with Pikchr, visit the <a href="https://pikchr.org/home/pikchrshow">/pikchrshow</a> page on the website hosting
this document (preferably in a separate window).  Type in the following
script and press the Preview button:
<a id="firstdemo"></a></p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 260.64 76.32">
<path d="M2.16,38.16L74.16,38.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M74.16,74.16L182.16,74.16L182.16,2.16L74.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="128.16" y="28.08" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Hello,</text>
<text x="128.16" y="48.24" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">World!</text>
<polygon points="254.16,38.16 242.64,42.48 242.64,33.84" style="fill:rgb(0,0,0)"></polygon>
<path d="M182.16,38.16L248.4,38.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
</svg>
</p>
<pre>     line; box &#34;Hello,&#34; &#34;World!&#34;; arrow
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>If you do this right, the output should appear as:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 260.64 76.32">
<path d="M2.16,38.16L74.16,38.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M74.16,74.16L182.16,74.16L182.16,2.16L74.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="128.16" y="28.08" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Hello,</text>
<text x="128.16" y="48.24" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">World!</text>
<polygon points="254.16,38.16 242.64,42.48 242.64,33.84" style="fill:rgb(0,0,0)"></polygon>
<path d="M182.16,38.16L248.4,38.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
</svg>
</p>
<pre>     line; box &#34;Hello,&#34; &#34;World!&#34;; arrow
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>So there you go: you&#39;ve created and rendered your first diagram using
Pikchr!  You will do well to keep that /pikchrshow screen handy, in a
separate browser window, so that you can try out scripts as you proceed
through this tutorial.</p>


<p>For this particular document, you can click on any of the diagrams
rendered by Pikchr and the display will convert to showing you the
original Pikchr source text.  Click again to go back to seeing the
rendered diagram.</p>

<p>The click-to-change-view behavior is a property of this one
particular document and is not a general capability of Pikchr. On
other documents containing Pikchr diagrams that are generated using Fossil
you can use Ctrl-click (Option-click on Macs) to toggle the view.
That is, click on the diagram while holding down the Ctrl key or the Option key.
This is not possible if
you are on a tablet or phone, since you don&#39;t have a Ctrl or Option key to hold
down there.  Other systems might not implement the view-swapping behavior
at all.  This is a platform-depending feature that is one layer above
Pikchr itself.</p>


<p>Pikchr is designed to be simple.  A Pikchr script is
just a sequence of Pikchr statements, separated by either new-lines or
semicolons.  The &#34;Hello, world!&#34; example above used three statements,
a &#34;line&#34;, a &#34;box&#34;, and an &#34;arrow&#34;, each separated by semicolons.</p>

<p>Whitespace (other than newlines) and comments are ignored.  Comments in
pikchr can be in the style of TCL, C, or C++.  That is to say, comments
consist of a &#34;<code>#</code>&#34; or &#34;<code>//</code>&#34;  and include all characters up to but
not including the next new-line, or all text
in between &#34;<code>/*</code>&#34; and the first following &#34;<code>*/</code>&#34;.
The example script above could be rewritten with each statement on
a separate line, and with comments describing what each statement is
doing:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 260.64 76.32">
<path d="M2.16,38.16L74.16,38.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M74.16,74.16L182.16,74.16L182.16,2.16L74.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="128.16" y="28.08" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Hello,</text>
<text x="128.16" y="48.24" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">World!</text>
<polygon points="254.16,38.16 242.64,42.48 242.64,33.84" style="fill:rgb(0,0,0)"></polygon>
<path d="M182.16,38.16L248.4,38.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
</svg>
</p>
<pre>    # The first component of the drawing is a line
    line
    // The second component is a box with text &#34;Hello, World!&#34;
    box &#34;Hello,&#34; &#34;World!&#34;
    /* Finally an arrow */
    arrow
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Remember that new-lines separate statements.  If you have a long statement
that needs to be split into multiple lines, escape the newline with
a backslash character and the new-line will be treated as any other space:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 260.64 76.32">
<path d="M2.16,38.16L74.16,38.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M74.16,74.16L182.16,74.16L182.16,2.16L74.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="128.16" y="28.08" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Hello,</text>
<text x="128.16" y="48.24" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">World!</text>
<polygon points="254.16,38.16 242.64,42.48 242.64,33.84" style="fill:rgb(0,0,0)"></polygon>
<path d="M182.16,38.16L248.4,38.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
</svg>
</p>
<pre>    line
    box \
       &#34;Hello,&#34; \
       &#34;World!&#34;
    arrow
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>So, a Pikchr script is just a list of statements, but what is a statement?</p>


<p><em>Most</em> statements are descriptions of a single graphic object that
becomes part of the diagram.  The first token of the statement is the
object class-name.  The following classes are currently supported:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 431.493 367.2">
<path d="M20.16,74.16L128.16,74.16L128.16,2.16L20.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="74.16" y="38.16" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">box</text>
<circle cx="218.16" cy="38.16" r="36" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<text x="218.16" y="38.16" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">circle</text>
<ellipse cx="362.16" cy="38.16" rx="54" ry="36" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></ellipse>
<text x="362.16" y="38.16" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">ellipse</text>
<path d="M38.16,189.36L110.16,189.36A36 36 0 0 0 146.16 153.36A36 36 0 0 0 110.16 117.36L38.16,117.36A36 36 0 0 0 2.16 153.36A36 36 0 0 0 38.16 189.36Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="74.16" y="153.36" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">oval</text>
<path d="M164.16,128.16L164.16,178.56A54 10.8 0 0 0 272.16 178.56L272.16,128.16A54 10.8 0 0 0 164.16 128.16A54 10.8 0 0 0 272.16 128.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="218.16" y="161.46" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">cylinder</text>
<path d="M326.16,207.36L398.16,207.36L398.16,120.96L376.56,99.36L326.16,99.36Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M376.56,99.36L376.56,120.96L398.16,120.96" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="362.16" y="153.36" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">file</text>
<path d="M2.16,268.56L74.16,268.56" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="38.16" y="256.86" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">line</text>
<polygon points="254.16,268.56 242.64,272.88 242.64,264.24" style="fill:rgb(0,0,0)"></polygon>
<path d="M182.16,268.56L248.4,268.56" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="218.16" y="256.86" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">arrow</text>
<path d="M320.207,279.899 L 331.007,279.899 Q 341.807,279.899 352.607,261.192 Q 363.407,242.486 375.72,276.315 Q 388.033,310.144 397.883,283.081 Q 407.733,256.018 418.533,256.018 L 429.333,256.018" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="363.407" y="242.486" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">spline</text>
<circle cx="38.16" cy="354.96" r="2.16" style="fill:rgb(0,0,0);stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<text x="38.16" y="328.501" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">dot</text>
<path d="M182.16,354.96Q218.16,354.96 218.16,318.96" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="182.16" y="318.96" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">arc</text>
<text x="369.36" y="354.96" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">text</text>
</svg>
</p>
<pre>box &#34;box&#34;
circle &#34;circle&#34; at 1 right of previous
ellipse &#34;ellipse&#34; at 1 right of previous
oval &#34;oval&#34; at .8 below first box
cylinder &#34;cylinder&#34; at 1 right of previous
file &#34;file&#34; at 1 right of previous
line &#34;line&#34; above from .8 below last oval.w
arrow &#34;arrow&#34; above from 1 right of previous
spline from previous+(1.8cm,-.2cm) \
   go right .15 then .3 heading 30 then .5 heading 160 then .4 heading 20 \
   then right .15
&#34;spline&#34; at 3rd vertex of previous
dot at .6 below last line
text &#34;dot&#34; with .s at .2cm above previous.n
arc from 1 right of previous dot
text &#34;arc&#34; at (previous.start, previous.end)
text &#34;text&#34; at 1.3 right of start of previous arc
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>A statement can be only the class-name and nothing else, but the class-name
is usually followed by one or more &#34;attributes&#34;.  Attributes are used
to modify the appearance of the object, or to position the object relative
to prior objects.</p>

<p>So to revisit the <a href="#firstdemo">&#34;Hello, World&#34; demonstration script above</a>,
we see that that script contains three object descriptions:</p>

<ol>
<li>A &#34;line&#34; object with no attributes (meaning that the line is shown
  with no changes to its default appearance).</li>
<li>A &#34;box&#34; object with two string literal attributes.  The string
  literal attributes cause the corresponding strings to be drawn
  inside the box.</li>
<li>An &#34;arrow&#34; object with no attributes.</li>
</ol>


<p>By default, objects are stacked beside each other from left to right.
The Pikchr layout engine keeps track of the &#34;layout direction&#34;, which
can be one of &#34;right&#34;, &#34;down&#34;, &#34;left&#34;, or &#34;up&#34;.  The layout direction
defaults to &#34;right&#34;, but you can change it using a statement which
consists of just the name of the new direction.  So,
if we insert the &#34;down&#34; statement in front of our test script, like
this:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 112.32 224.64">
<path d="M56.16,2.16L56.16,74.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M2.16,146.16L110.16,146.16L110.16,74.16L2.16,74.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="56.16" y="100.08" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Hello,</text>
<text x="56.16" y="120.24" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">World!</text>
<polygon points="56.16,218.16 51.84,206.64 60.48,206.64" style="fill:rgb(0,0,0)"></polygon>
<path d="M56.16,146.16L56.16,212.4" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
</svg>
</p>
<pre>    down
    line
    box  &#34;Hello,&#34;  &#34;World!&#34;
    arrow
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Then the objects are stacked moving downward:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 112.32 224.64">
<path d="M56.16,2.16L56.16,74.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M2.16,146.16L110.16,146.16L110.16,74.16L2.16,74.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="56.16" y="100.08" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Hello,</text>
<text x="56.16" y="120.24" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">World!</text>
<polygon points="56.16,218.16 51.84,206.64 60.48,206.64" style="fill:rgb(0,0,0)"></polygon>
<path d="M56.16,146.16L56.16,212.4" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
</svg>
</p>
<pre>    down
    line
    box  &#34;Hello,&#34;  &#34;World!&#34;
    arrow
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Or, you can change the layout direction to &#34;left&#34;:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 260.64 76.32">
<path d="M258.48,38.16L186.48,38.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M78.48,74.16L186.48,74.16L186.48,2.16L78.48,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="132.48" y="28.08" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Hello,</text>
<text x="132.48" y="48.24" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">World!</text>
<polygon points="6.48,38.16 18,33.84 18,42.48" style="fill:rgb(0,0,0)"></polygon>
<path d="M78.48,38.16L12.24,38.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
</svg>
</p>
<pre>    left
    line
    box  &#34;Hello,&#34;  &#34;World!&#34;
    arrow
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Or to &#34;up&#34;:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 112.32 224.64">
<path d="M56.16,222.48L56.16,150.48" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M2.16,150.48L110.16,150.48L110.16,78.48L2.16,78.48Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="56.16" y="104.4" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Hello,</text>
<text x="56.16" y="124.56" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">World!</text>
<polygon points="56.16,6.48 60.48,18 51.84,18" style="fill:rgb(0,0,0)"></polygon>
<path d="M56.16,78.48L56.16,12.24" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
</svg>
</p>
<pre>    up
    line
    box  &#34;Hello,&#34;  &#34;World!&#34;
    arrow
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>It is common to stack line objects (lines, arrows, splines) against
block objects (boxes, circles, ovals, etc.), but this is not required.
You can stack a bunch of block objects together.
For example:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Yields:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>More often, you want to put space in between the block objects.
The special &#34;move&#34; object exists for that purpose.  Consider:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    box; move; circle; move; cylinder
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>This script creates the same three block objects but with 
whitespace in between them:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    box; move; circle; move; cylinder
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Implementation note:  A &#34;move&#34; is really just an invisible &#34;line&#34;.  So
the following script generates the same output as the previous.
(<a href="https://pikchr.org/home/pikchrshow?content=box;line%20invisible;circle;line%20invisible;cylinder">Try it!</a>)</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    box; line invisible; circle; line invisible; cylinder
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->


<p>The automatic stacking of objects is convenient in many cases, but
most diagrams will want some objects placed somewhere other than
immediately adjacent to their predecessor.  For that reason, layout
attributes are provided that allow precise placement of objects.</p>

<p>To see how this works, consider the previous example of a box, circle,
and cylinder separated by some space.  Suppose we want to draw an arrow
that goes downward out of the box, then right, then up into the
cylinder.  The complete script might look something like this:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    box; move; circle; move; cylinder
    arrow from first box.s \
          down 1cm \
          then right until even with first cylinder \
          then to first cylinder.s
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>This script results in the following diagram:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    box; move; circle; move; cylinder
    arrow from first box.s \
          down 1cm \
          then right until even with first cylinder \
          then to first cylinder.s
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>That is indeed the image we want, but there are a lot of words on
that &#34;arrow&#34; statement!  Don&#39;t panic, though.  It&#39;s actually pretty
simple.  We&#39;ll take it apart and explain it piece by piece.</p>

<p>First note that the &#34;arrow&#34; statement is broken up into four separate
lines of text, with a &#34;<code>\</code>&#34; at the end of the first three lines to
prevent the subsequent new-line from prematurely closing the statement.
Splitting up the arrow into separate lines this way is purely for
human readability.  If you are more comfortable putting the whole
statement on one line, that is fine too.  Pikchr doesn&#39;t care.  Just
be sure to remember the backslashes if you do split lines!</p>

<p>The attributes on the &#34;arrow&#34; statement describe the path taken by
the arrow.  The first attribute is &#34;<code>from first box.s</code>&#34;.  This &#34;from&#34;
attribute specifies where the arrow starts.  In this case, it starts
at the &#34;s&#34; (or &#34;south&#34;) anchor point of the &#34;first box&#34;.  The &#34;first box&#34;
part is probably self explanatory.  (You can also write it as
&#34;1st box&#34; instead of &#34;first box&#34;, and in fact legacy-PIC requires
the use of &#34;1st&#34; instead of &#34;first&#34;.)  But what is the &#34;.s&#34; part?</p>

<p>Every block object has eight anchor points on its perimeter that are named
for compass points, like this:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 609.984 116.64">
<path d="M37.0656,94.32L145.066,94.32L145.066,22.32L37.0656,22.32Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<circle cx="37.0656" cy="22.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="37.0656" y="12.24" text-anchor="end" fill="rgb(255,0,0)" dominant-baseline="central">.nw </text>
<circle cx="37.0656" cy="58.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="37.0656" y="58.32" text-anchor="end" fill="rgb(255,0,0)" dominant-baseline="central">.w </text>
<circle cx="37.0656" cy="94.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="37.0656" y="104.4" text-anchor="end" fill="rgb(255,0,0)" dominant-baseline="central">.sw </text>
<circle cx="91.0656" cy="94.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="91.0656" y="104.4" text-anchor="middle" fill="rgb(255,0,0)" dominant-baseline="central">.s</text>
<circle cx="145.066" cy="94.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="145.066" y="104.4" text-anchor="start" fill="rgb(255,0,0)" dominant-baseline="central"> .se</text>
<circle cx="145.066" cy="58.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="145.066" y="58.32" text-anchor="start" fill="rgb(255,0,0)" dominant-baseline="central"> .e</text>
<circle cx="145.066" cy="22.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="145.066" y="12.24" text-anchor="start" fill="rgb(255,0,0)" dominant-baseline="central"> .ne</text>
<circle cx="91.0656" cy="22.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="91.0656" y="12.24" text-anchor="middle" fill="rgb(255,0,0)" dominant-baseline="central">.n</text>
<circle cx="91.0656" cy="58.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="91.0656" y="58.32" text-anchor="start" fill="rgb(255,0,0)" dominant-baseline="central"> .c</text>
<circle cx="307.066" cy="58.32" r="36" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<circle cx="281.61" cy="32.8642" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="281.61" y="22.7842" text-anchor="end" fill="rgb(255,0,0)" dominant-baseline="central">.nw </text>
<circle cx="271.066" cy="58.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="271.066" y="58.32" text-anchor="end" fill="rgb(255,0,0)" dominant-baseline="central">.w </text>
<circle cx="281.61" cy="83.7758" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="281.61" y="93.8558" text-anchor="end" fill="rgb(255,0,0)" dominant-baseline="central">.sw </text>
<circle cx="307.066" cy="94.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="307.066" y="104.4" text-anchor="middle" fill="rgb(255,0,0)" dominant-baseline="central">.s</text>
<circle cx="332.521" cy="83.7758" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="332.521" y="93.8558" text-anchor="start" fill="rgb(255,0,0)" dominant-baseline="central"> .se</text>
<circle cx="343.066" cy="58.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="343.066" y="58.32" text-anchor="start" fill="rgb(255,0,0)" dominant-baseline="central"> .e</text>
<circle cx="332.521" cy="32.8642" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="332.521" y="22.7842" text-anchor="start" fill="rgb(255,0,0)" dominant-baseline="central"> .ne</text>
<circle cx="307.066" cy="22.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="307.066" y="12.24" text-anchor="middle" fill="rgb(255,0,0)" dominant-baseline="central">.n</text>
<circle cx="307.066" cy="58.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="307.066" y="58.32" text-anchor="start" fill="rgb(255,0,0)" dominant-baseline="central"> .c</text>
<path d="M469.066,33.12L469.066,83.52A54 10.8 0 0 0 577.066 83.52L577.066,33.12A54 10.8 0 0 0 469.066 33.12A54 10.8 0 0 0 577.066 33.12" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<circle cx="469.066" cy="33.12" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="469.066" y="23.04" text-anchor="end" fill="rgb(255,0,0)" dominant-baseline="central">.nw </text>
<circle cx="469.066" cy="58.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="469.066" y="58.32" text-anchor="end" fill="rgb(255,0,0)" dominant-baseline="central">.w </text>
<circle cx="469.066" cy="83.52" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="469.066" y="93.6" text-anchor="end" fill="rgb(255,0,0)" dominant-baseline="central">.sw </text>
<circle cx="523.066" cy="94.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="523.066" y="104.4" text-anchor="middle" fill="rgb(255,0,0)" dominant-baseline="central">.s</text>
<circle cx="577.066" cy="83.52" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="577.066" y="93.6" text-anchor="start" fill="rgb(255,0,0)" dominant-baseline="central"> .se</text>
<circle cx="577.066" cy="58.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="577.066" y="58.32" text-anchor="start" fill="rgb(255,0,0)" dominant-baseline="central"> .e</text>
<circle cx="577.066" cy="33.12" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="577.066" y="23.04" text-anchor="start" fill="rgb(255,0,0)" dominant-baseline="central"> .ne</text>
<circle cx="523.066" cy="22.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="523.066" y="12.24" text-anchor="middle" fill="rgb(255,0,0)" dominant-baseline="central">.n</text>
<circle cx="523.066" cy="58.32" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<text x="523.066" y="58.32" text-anchor="start" fill="rgb(255,0,0)" dominant-baseline="central"> .c</text>
</svg>
</p>
<pre>A: box
dot color red at A.nw &#34;.nw &#34; rjust above
dot same at A.w &#34;.w &#34; rjust
dot same at A.sw &#34;.sw &#34; rjust below
dot same at A.s &#34;.s&#34; below
dot same at A.se &#34; .se&#34; ljust below
dot same at A.e &#34; .e&#34; ljust
dot same at A.ne &#34; .ne&#34; ljust above
dot same at A.n &#34;.n&#34; above
dot same at A.c &#34; .c&#34; ljust
A: circle at 1.5 right of A
dot color red at A.nw &#34;.nw &#34; rjust above
dot same at A.w &#34;.w &#34; rjust
dot same at A.sw &#34;.sw &#34; rjust below
dot same at A.s &#34;.s&#34; below
dot same at A.se &#34; .se&#34; ljust below
dot same at A.e &#34; .e&#34; ljust
dot same at A.ne &#34; .ne&#34; ljust above
dot same at A.n &#34;.n&#34; above
dot same at A.c &#34; .c&#34; ljust
A: cylinder at 1.5 right of A
dot color red at A.nw &#34;.nw &#34; rjust above
dot same at A.w &#34;.w &#34; rjust
dot same at A.sw &#34;.sw &#34; rjust below
dot same at A.s &#34;.s&#34; below
dot same at A.se &#34; .se&#34; ljust below
dot same at A.e &#34; .e&#34; ljust
dot same at A.ne &#34; .ne&#34; ljust above
dot same at A.n &#34;.n&#34; above
dot same at A.c &#34; .c&#34; ljust
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>As you can see, there is also a ninth point in the middle called &#34;.c&#34;.
Every block object has these anchor points; you can refer to them
when positioning the object itself, or when positioning other objects
relative to the block object.  In this case, we are starting the
arrow at the &#34;.s&#34; anchor of the box.</p>

<p>The next phrase on the &#34;arrow&#34; statement is &#34;<code>down 1cm</code>&#34;.  As you
might guess, this phrase causes the arrow to move downward from its
previous position (its starting point) by 1 centimeter.  This phrase
highlights a key enhancement of Pikchr over PIC, which did
everything in inches only.  No units were allowed.  Pikchr allows
you to attach units to measurements, as in this case where it is
&#34;1cm&#34;.  Internally, Pikchr still keeps track of everything in inches
for compatibility with PIC, so the &#34;1cm&#34; token is really just an
alternative spelling for the numeric constant &#34;0.39370078740157480316&#34;,
which is the inch-equivalent of 1 centimeter.  Surely you agree that
&#34;1cm&#34; is much easier to read and write!  Other units recognized by Pikchr
are &#34;px&#34; for pixels, &#34;pt&#34; for points, &#34;pc&#34; for picas, &#34;mm&#34; for millimeters,
and of course &#34;in&#34; for inches.  Inches are assumed if no units are
specified.</p>

<p>Back to our arrow: we have now established a path for the arrow
down 1 centimeter from the &#34;.s&#34; anchor of the box.  The next phrase
is:  &#34;<code>then right until even with first cylinder</code>&#34;.
You can perhaps guess that this means that the arrow should continue
to the right until it is lined up below the first cylinder.  You,
the diagram designer, don&#39;t know (and don&#39;t really want to know)
how far apart the box and the cylinder are, so you can&#39;t tell it
exactly how far to go.  This phrase is a convenient way of telling
Pikchr to &#34;make the line long enough&#34;.</p>

<p>Note that the &#34;<code>first cylinder</code>&#34; part of the &#34;until even with&#34;
phrase is actually an abbreviation for &#34;<code>first cylinder.c</code>&#34; - the
center of the cylinder.  This is what we want.  You could also
write &#34;<code>first cylinder.s</code>&#34; if you want.</p>

<p>The &#34;until even with&#34; phrase is not found in the original version of PIC.  In that
system, you would have to do some extra math to figure out the
distance for yourself, something like
&#34;<code>then right (1st cylinder.s.x - 1st box.s.x)</code>&#34;.  We think the
&#34;until even with&#34; phrase is easier to use and understand.</p>

<p>The final phrase in the &#34;arrow&#34; statement is
&#34;<code>then to first cylinder.s</code>&#34;.  This phrase tells the arrow to go
from wherever it is at the moment directly to the &#34;.s&#34; anchor
of the cylinder.</p>


<p>Notice that our sample diagram contains no coordinates and only
one hard-coded distance, the &#34;down 1cm&#34; bit in the &#34;arrow&#34; statement.  The script
is written in such a way that the script-writer does not have
to do a lot of distance calculation.  The layout compensates
automatically.</p>

<p>For example, suppose you come back to this script later and
decide you need to insert an ellipse in between the circle and
the cylinder.  This is easily accomplished:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    box; move; circle; move; ellipse; move; cylinder
    arrow from first box.s \
          down 1cm \
          then right until even with first cylinder \
          then to first cylinder.s
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>We simply add the ellipse (and an extra &#34;move&#34;) on the first line.
Even though the coordinate positions of the objects have adjusted,
the description of the arrow that connects the box to the
cylinder is not based on coordinates or absolute distances,
so it does not have to change at all.  Pikchr
compensates automatically:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    box; move; circle; move; ellipse; move; cylinder
    arrow from first box.s \
          down 1cm \
          then right until even with first cylinder \
          then to first cylinder.s
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Both PIC and Pikchr allow you to specify hard-coded coordinates
and distances when laying out your diagram, but you are encouraged
to avoid that approach.  Instead, place each new object you create
relative to the position of prior objects.
Pikchr provides many mechanisms for specifying the location
of each object in terms of the locations of its predecessors.  With
a little study of the syntax options available to you (and discussed
further below) you will be generating complex diagrams using Pikchr
in no time.</p>


<p>Both Pikchr and PIC operate on a single-pass design.  Objects
can refer to other objects that occur before them in the script, but not
to objects that occur later in the script.  Any computations that go
into placing an object occur as the object definition is parsed.  As soon
as the newline or semicolon that terminates the object definition is
reached, the size, location, and characteristics of the object are
fixed and cannot subsequently be altered.  (One exception:  sub-objects that
are part of a <code>[]</code>-container (discussed later) are placed relative to the
origin of the container.  Their shape and locations relative to each
other are fixed, but their final absolute position is not fixed until
the <code>[]</code>-container itself is fixed.)</p>

<p>The single-pass approach contributes to the conceptual simplicity of
Pikchr (and PIC).  There is no &#34;solver&#34; that has to work through
forward and backward layout constraints to find a solution.  This
simplicity of design helps to keep Pikchr scripts easy to write and
easy to understand.</p>


<p>The previous example used the phrases like &#34;<code>first box</code>&#34; and &#34;<code>first cylinder</code>&#34;
to refer to particular objects.  There are many variations on this naming
scheme:</p>

<ul>
<li>&#34;<code>previous</code>&#34; ← the previous object regardless of its class</li>
<li>&#34;<code>last circle</code>&#34; ← the most recently created circle object</li>
<li>&#34;<code>3rd last oval</code>&#34; ← the antepenultimate oval object</li>
<li>&#34;<code>17th ellipse</code>&#34; ← the seventeenth ellipse object</li>
<li>…and so forth</li>
</ul>

<p>These relative and ordinal references work, but they can be fragile.
If you go back later and insert a new
object in the stream, you can mess up the counting.  Or, for that matter,
you might just miscount.</p>

<p>In a complex diagram, it often works better to assign symbolic names to
objects, which we call “labels” in Pikchr. A label begins with a capital
letter followed by some number of regular ASCII letters, digits or
underscores, followed by a colon. This must come immediately before
an object, without an intervening newline.
Afterwards, the object can be referred to
by that label.</p>

<p>Consider how this simplifies our previous example:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    B1:  box; move;
         circle; move;
         ellipse; move;
    C1:  cylinder
         arrow from B1.s \
            down 1cm \
            then right until even with C1 \
            then to C1.s
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>By giving symbolic names to the box (B1) and cylinder (C1), the arrow path
description is simplified.  Furthermore, if the ellipse gets changed
into another cylinder, the arrow still refers to the correct cylinder.</p>

<p>The indentation of the lines following each symbolic name
above is syntactically unimportant: it serves only to improve human
readability. Nevertheless, this is typical coding style for Pikchr
and PIC before it.</p>


<p>For lines (and arrows and splines), you have to specify a path that the line
follows, a path that might involve multiple bends and turns.  Defining the location
of block objects is easier: you just provide a single location to place
the object.  Ideally, you should place the object relative to some other
object, of course.</p>

<p>Let&#39;s say you have box, and you want to position a circle 2 centimeters to the
right of that box.  You simply use an &#34;<code>at</code>&#34; attribute on the circle to tell it
to position itself 2 cm to the right of the box:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>  B1: box
      circle at 2cm right of B1
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>The resulting diagram is:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 207.706 123.659">
<path d="M2.16,74.16L110.16,74.16L110.16,2.16L2.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<circle cx="169.546" cy="38.16" r="36" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<path d="M56.16,85.4986L56.16,121.499" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M169.546,85.4986L169.546,121.499" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="56.16,112.499 63.8784,109.604 63.8784,115.393" style="fill:rgb(128,128,128)"></polygon>
<polygon points="169.546,112.499 161.827,115.393 161.827,109.604" style="fill:rgb(128,128,128)"></polygon>
<path d="M60.0192,112.499L165.687,112.499" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="112.853" y="101.333" text-anchor="middle" fill="rgb(128,128,128)" dominant-baseline="central">2cm</text>
</svg>
</p>
<pre>  B1: box
      circle at 2cm right of B1

  X1: line thin color gray down 50% from 2mm south of B1.s
  X2: line same from (last circle.s,X1.start)
      arrow &lt;-&gt; thin from 3/4&lt;X1.start,X1.end&gt; right until even with X2 \
         &#34;2cm&#34; above color gray
      assert( last arrow.width == 2cm )
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>(We’ve added gray dimension lines purely for illustration.  Click the
diagram <a href="#viewsrc">per the instructions above</a> to see that they do not
change the example, only add to it.)</p>

<p>The circle is positioned so that its <em>center</em> is 2 centimeters to the
right of the <em>center</em> of the box.  If what you really wanted is that the
left (or west) side of the circle is 2 cm to the right (or east)
of the box, then just say so:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>  B1: box
  C1: circle with .w at 2cm right of B1.e
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Normally an &#34;<code>at</code>&#34; clause will set the center of an object, but if
you add a &#34;<code>with</code>&#34; prefix you can specify any other anchor
point of the object to be the reference for positioning.  The Pikchr
script above is saying &#34;make the C1.w point be 2 cm right of B1.e&#34;.
And we have:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 297.706 123.659">
<path d="M2.16,74.16L110.16,74.16L110.16,2.16L2.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<circle cx="259.546" cy="38.16" r="36" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<path d="M110.16,85.4986L110.16,121.499" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M223.546,85.4986L223.546,121.499" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="110.16,112.499 117.878,109.604 117.878,115.393" style="fill:rgb(128,128,128)"></polygon>
<polygon points="223.546,112.499 215.827,115.393 215.827,109.604" style="fill:rgb(128,128,128)"></polygon>
<path d="M114.019,112.499L219.687,112.499" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="166.853" y="101.333" text-anchor="middle" fill="rgb(128,128,128)" dominant-baseline="central">2cm</text>
</svg>
</p>
<pre>  B1: box
  C1: circle with .w at 2cm right of B1.e

  X1: line thin color gray down 50% from 2mm south of B1.se
  X2: line same from (C1.w,X1.start)
      arrow &lt;-&gt; thin from 3/4&lt;X1.start,X1.end&gt; right until even with X2 \
         &#34;2cm&#34; above color gray
      assert( last arrow.width == 2cm )
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>That&#39;s the whole story behind positioning block objects on a diagram.
You just add an attribute of the form:</p>

<blockquote>
<p> <strong>with</strong> <em>reference-point</em> <strong>at</strong> <em>position</em></p>
</blockquote>

<p>And Pikchr will place the specified reference-point of the object at
<em>position</em>.  If you omit the &#34;<code>with</code>&#34; clause, the center of the
object (&#34;<code>.c</code>&#34;) is used as the <em>reference-point</em>.  The power of Pikchr
comes from the fact that &#34;<em>position</em>&#34; can be a rather complex expression.
The previous example used a relatively simple <em>position</em>
of &#34;<code>2cm right of B1.e</code>&#34;.  That was sufficient for our simple diagram.
More complex diagrams can have more complex <em>position</em> phrases.</p>

<h2>Automatic Layout Of Block Objects <a id="auto-layout-block"></a></h2>
<p>If you omit the &#34;<code>at</code>&#34; attribute from a block object, the object is positioned
as if you had used the following:</p>

<blockquote>
<p> <code>with .start at previous.end</code></p>
</blockquote>

<p>Except, the very first object in the script has no &#34;previous&#34; and so it
is positioned using:</p>

<blockquote>
<p> <code>with .c at (0,0)</code></p>
</blockquote>

<p>Let&#39;s talk little more about the usual case:
&#34;<code>with .start at previous.end</code>&#34;.  The &#34;<code>previous</code>&#34; keyword means the
previous object in the script.  (You can also use the keyword &#34;<code>last</code>&#34;
for this purpose.)  So we are positioning the current object relative
to the previous object.  But what about the &#34;.start&#34; and &#34;.end&#34;?</p>

<p>Remember that every object has 8 anchor points whose names correspond
to compass directions:  &#34;.n&#34;, &#34;.ne&#34;, &#34;.e&#34;, &#34;.se&#34;, &#34;.s&#34;, &#34;.sw&#34;, &#34;.w&#34;,
and &#34;.nw&#34;, plus the ninth anchor, the center point &#34;.c&#34;.  Every object
also has &#34;.start&#34; and &#34;.end&#34; anchor
points, but their position varies depending on the
layout direction that is current when the object is created.</p>

<blockquote>
<table>
<tbody><tr><th>Layout Direction</th><th>.start</th><th>.end
</th></tr><tr><td>right</td><td>.w</td><td>.e
</td></tr><tr><td>down</td><td>.n</td><td>.s
</td></tr><tr><td>left</td><td>.e</td><td>.w
</td></tr><tr><td>up</td><td>.s</td><td>.n
</td></tr></tbody></table></blockquote>

<p>Recall the earlier example that consisted of three objects stacked
together:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    right; box; circle; cylinder
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>(I added a &#34;<code>right</code>&#34; at the beginning to make the layout direction
clear, but as &#34;right&#34; is the default layout direction, so it doesn&#39;t change
anything.)</p>

<p>Armed with our new knowledge of how &#34;<code>at</code>&#34;-less block objects are
positioned, we can better understand what is going on.  The box is
the first object.  It gets positioned with its center at (0,0), which
we can show by putting a red dot at (0,0):</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    right; box; circle; cylinder
    dot color red at (0,0)
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    right; box; circle; cylinder
    dot color red at (0,0)
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Because the layout direction is &#34;right&#34;, the start and end of the box
are the .w and .e anchor points.  Prove this by putting more colored dots
at those points and rendering the result:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    right; box; circle; cylinder
    dot color green at 1st box.start
    dot color blue at 1st box.end
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    right; box; circle; cylinder
    dot color green at 1st box.start
    dot color blue at 1st box.end
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Similarly, we can show that the .start and .end of the circle are its
.w and .e anchor points.  (Add new color dots to prove this to yourself,
if you like.)  And clearly, the .start of the circle is directly on top
of the .end of the box.</p>

<p>Now consider what happens if we change the layout direction after the
circle is created but before the cylinder is created:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    right; box; circle; down; cylinder
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>This script works a little differently on Pikchr than it does on PIC.
The change in behavior is deliberate, because we feel that the Pikchr
approach is better.  On PIC, the diagram above would be rendered
like this:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    right; box; circle; cylinder with .n at previous.e
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>But on Pikchr the placement of the cylinder is different:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    right; box; circle; cylinder with .n at previous.s
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Let&#39;s take apart what is happening here.  In both systems, after
the &#34;circle&#34; object has been parsed and positioned, the .end of
the circle is the same as .e, because the layout direction is &#34;right&#34;.
If we omit the &#34;down&#34; and &#34;cylinder&#34; and draw a dot at the &#34;.end&#34; of
circle to show where it is, we can see this:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    right; box; circle
    dot color red at last circle.end
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>The next statement is &#34;down&#34;.  The &#34;down&#34; statement changes the layout
direction to &#34;down&#34; in both systems.  In legacy PIC the .end of the circle
remains at the .e anchor.  Then when the &#34;cylinder&#34; is positioned,
its &#34;.start&#34; is at .n because the layout direction is now &#34;down&#34;,
so the .n point of the cylinder is aligned to the .e point of
the circle.</p>

<p>Pikchr works like PIC with one important change: when the &#34;down&#34; statement
is evaluated, Pikchr also moves the &#34;.end&#34; of the previous object
to a new location that is appropriate for the new direction. In other
words, the down command moves the .end of the circle from .e to .s.
You can see this by setting a red dot at the .end of
the circle <em>after</em> the &#34;down&#34; command:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    right; box; circle; down
    dot color red at first circle.end
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Or, we can &#34;<code>print</code>&#34; the coordinates of the .end of the circle before
and after the &#34;down&#34; command to see that they shift:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div>
<pre>    right; box; C1: circle
    print &#34;before: &#34;, C1.end.x, &#34;, &#34;, C1.end.y
    down
    print &#34;after: &#34;, C1.end.x, &#34;, &#34;, C1.end.y
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<h2>Adjusting The Size Of Block Objects <a id="block-obj-size"></a></h2>
<p>The size of every block object is controlled by three parameters:</p>

<ul>
<li><code>width</code> (often abbreviated as <code>wid</code>)</li>
<li><code>height</code> (or <code>ht</code>)</li>
<li><code>radius</code> (or <code>rad</code>)</li>
</ul>

<p>There is also a fourth convenience parameter:</p>

<ul>
<li><code>diameter</code></li>
</ul>

<p>The <code>diameter</code> is always twice the radius. Setting the <code>diameter</code> automatically
changes the <code>radius</code> and setting the <code>radius</code> automatically changes the
<code>diameter</code>.</p>

<p>Usually the meanings of these parameters are obvious.</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 198.92 129.059">
<path d="M84.4402,78.48L192.44,78.48L192.44,6.48L84.4402,6.48Z" style="fill:none;stroke-width:3.24;stroke:rgb(0,0,0);"></path>
<path d="M73.1016,6.48L22.7016,6.48" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M73.1016,78.48L22.7016,78.48" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="29.0016" y="42.48" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">height</text>
<polygon points="29.0016,6.48 31.896,14.1984 26.1072,14.1984" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,27.36L29.0016,10.3392" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="29.0016,78.48 26.1072,70.7616 31.896,70.7616" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,57.6L29.0016,74.6208" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M84.4402,89.8186L84.4402,125.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M192.44,89.8186L192.44,125.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="138.44" y="116.819" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">width</text>
<polygon points="84.4402,116.819 92.1586,113.924 92.1586,119.713" style="fill:rgb(128,128,128)"></polygon>
<path d="M109.064,116.819L88.2994,116.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="192.44,116.819 184.722,119.713 184.722,113.924" style="fill:rgb(128,128,128)"></polygon>
<path d="M167.816,116.819L188.581,116.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
</svg>
</p>
<pre>A: box thick
line thin color gray left 70% from 2mm left of A.nw
line same from 2mm left of A.sw
text &#34;height&#34; at (7/8&lt;previous.start,previous.end&gt;,1/2&lt;1st line,2ndline&gt;)
line thin color gray from previous text.n up until even with 1st line -&gt;
line thin color gray from previous text.s down until even with 2nd line -&gt;
X1: line thin color gray down 50% from 2mm below A.sw
X2: line thin color gray down 50% from 2mm below A.se
text &#34;width&#34; at (1/2&lt;X1,X2&gt;,6/8&lt;X1.start,X1.end&gt;)
line thin color gray from previous text.w left until even with X1 -&gt;
line thin color gray from previous text.e right until even with X2 -&gt;
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>The <code>radius</code> parameter, however, sometimes has non-obvious meanings.
For example, on a box, the <code>radius</code> determines the rounding of corners:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 270.292 129.059">
<path d="M106.04,78.48L170.84,78.48A21.6 21.6 0 0 0 192.44 56.88L192.44,28.08A21.6 21.6 0 0 0 170.84 6.48L106.04,6.48A21.6 21.6 0 0 0 84.4402 28.08L84.4402,56.88A21.6 21.6 0 0 0 106.04 78.48Z" style="fill:none;stroke-width:3.24;stroke:rgb(0,0,0);"></path>
<path d="M73.1016,6.48L22.7016,6.48" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M73.1016,78.48L22.7016,78.48" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="29.0016" y="42.48" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">height</text>
<polygon points="29.0016,6.48 31.896,14.1984 26.1072,14.1984" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,27.36L29.0016,10.3392" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="29.0016,78.48 26.1072,70.7616 31.896,70.7616" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,57.6L29.0016,74.6208" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M84.4402,89.8186L84.4402,125.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M192.44,89.8186L192.44,125.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="138.44" y="116.819" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">width</text>
<polygon points="84.4402,116.819 92.1586,113.924 92.1586,119.713" style="fill:rgb(128,128,128)"></polygon>
<path d="M109.064,116.819L88.2994,116.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="192.44,116.819 184.722,119.713 184.722,113.924" style="fill:rgb(128,128,128)"></polygon>
<path d="M167.816,116.819L188.581,116.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M203.779,78.48L254.179,78.48" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M203.779,56.88L254.179,56.88" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="241.579" y="67.68" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">radius</text>
<polygon points="241.579,78.48 244.473,86.1984 238.684,86.1984" style="fill:rgb(128,128,128)"></polygon>
<path d="M241.579,82.3392L241.579,100.08" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="241.579,56.88 238.684,49.1616 244.473,49.1616" style="fill:rgb(128,128,128)"></polygon>
<path d="M241.579,53.0208L241.579,35.28" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
</svg>
</p>
<pre>A: box thick rad 0.3*boxht
line thin color gray left 70% from 2mm left of (A.w,A.n)
line same from 2mm left of (A.w,A.s)
text &#34;height&#34; at (7/8&lt;previous.start,previous.end&gt;,1/2&lt;1st line,2ndline&gt;)
line thin color gray from previous text.n up until even with 1st line -&gt;
line thin color gray from previous text.s down until even with 2nd line -&gt;
X1: line thin color gray down 50% from 2mm below (A.w,A.s)
X2: line thin color gray down 50% from 2mm below (A.e,A.s)
text &#34;width&#34; at (1/2&lt;X1,X2&gt;,6/8&lt;X1.start,X1.end&gt;)
line thin color gray from previous text.w left until even with X1 -&gt;
line thin color gray from previous text.e right until even with X2 -&gt;
X3: line thin color gray right 70% from 2mm right of (A.e,A.s)
X4: line thin color gray right 70% from A.rad above start of X3
text &#34;radius&#34; at (6/8&lt;X4.start,X4.end&gt;,1/2&lt;X3,X4&gt;)
line thin color gray from (previous,X3) down 30% &lt;-
line thin color gray from (previous text,X4) up 30% &lt;-
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>For a <a href="https://pikchr.org/home/doc/trunk/doc/cylinderobj.md">cylinder object</a> the <code>radius</code> determines the
thickness of the end caps:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 270.292 130.139">
<path d="M84.4402,23.76L84.4402,63.36A54 16.2 0 0 0 192.44 63.36L192.44,23.76A54 16.2 0 0 0 84.4402 23.76A54 16.2 0 0 0 192.44 23.76" style="fill:none;stroke-width:3.24;stroke:rgb(0,0,0);"></path>
<path d="M73.1016,7.56L22.7016,7.56" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M73.1016,79.56L22.7016,79.56" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="29.0016" y="43.56" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">height</text>
<polygon points="29.0016,7.56 31.896,15.2784 26.1072,15.2784" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,28.44L29.0016,11.4192" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="29.0016,79.56 26.1072,71.8416 31.896,71.8416" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,58.68L29.0016,75.7008" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M84.4402,90.8986L84.4402,126.899" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M192.44,90.8986L192.44,126.899" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="138.44" y="117.899" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">width</text>
<polygon points="84.4402,117.899 92.1586,115.004 92.1586,120.793" style="fill:rgb(128,128,128)"></polygon>
<path d="M109.064,117.899L88.2994,117.899" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="192.44,117.899 184.722,120.793 184.722,115.004" style="fill:rgb(128,128,128)"></polygon>
<path d="M167.816,117.899L188.581,117.899" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M203.779,23.76L254.179,23.76" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M203.779,39.96L254.179,39.96" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="241.579" y="31.86" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">radius</text>
<polygon points="241.579,39.96 244.473,47.6784 238.684,47.6784" style="fill:rgb(128,128,128)"></polygon>
<path d="M241.579,43.8192L241.579,61.56" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="241.579,23.76 238.684,16.0416 244.473,16.0416" style="fill:rgb(128,128,128)"></polygon>
<path d="M241.579,19.9008L241.579,2.16" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
</svg>
</p>
<pre>A: cylinder thick rad 150%
line thin color gray left 70% from 2mm left of (A.w,A.n)
line same from 2mm left of (A.w,A.s)
text &#34;height&#34; at (7/8&lt;previous.start,previous.end&gt;,1/2&lt;1st line,2ndline&gt;)
line thin color gray from previous text.n up until even with 1st line -&gt;
line thin color gray from previous text.s down until even with 2nd line -&gt;
X1: line thin color gray down 50% from 2mm below (A.w,A.s)
X2: line thin color gray down 50% from 2mm below (A.e,A.s)
text &#34;width&#34; at (1/2&lt;X1,X2&gt;,6/8&lt;X1.start,X1.end&gt;)
line thin color gray from previous text.w left until even with X1 -&gt;
line thin color gray from previous text.e right until even with X2 -&gt;
X3: line thin color gray right 70% from 2mm right of (A.e,A.ne)
X4: line thin color gray right 70% from A.rad below start of X3
text &#34;radius&#34; at (6/8&lt;X4.start,X4.end&gt;,1/2&lt;X3,X4&gt;)
line thin color gray from (previous,X4) down 30% &lt;-
line thin color gray from (previous text,X3) up 30% &lt;-
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>For a <a href="https://pikchr.org/home/doc/trunk/doc/fileobj.md">file object</a> the <code>radius</code> determines the size of
the page fold-over in the upper-right corner:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 234.292 182.339">
<path d="M84.4402,131.76L156.44,131.76L156.44,45.36L134.84,23.76L84.4402,23.76Z" style="fill:none;stroke-width:3.24;stroke:rgb(0,0,0);"></path>
<path d="M134.84,23.76L134.84,45.36L156.44,45.36" style="fill:none;stroke-width:3.24;stroke:rgb(0,0,0);"></path>
<path d="M73.1016,23.76L22.7016,23.76" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M73.1016,131.76L22.7016,131.76" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="29.0016" y="77.76" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">height</text>
<polygon points="29.0016,23.76 31.896,31.4784 26.1072,31.4784" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,62.64L29.0016,27.6192" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="29.0016,131.76 26.1072,124.042 31.896,124.042" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,92.88L29.0016,127.901" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M84.4402,143.099L84.4402,179.099" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M156.44,143.099L156.44,179.099" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="120.44" y="170.099" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">width</text>
<polygon points="84.4402,170.099 91.0642,167.204 91.0642,172.993" style="fill:rgb(128,128,128)"></polygon>
<path d="M91.0642,170.099L87.7522,170.099" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="156.44,170.099 149.816,172.993 149.816,167.204" style="fill:rgb(128,128,128)"></polygon>
<path d="M149.816,170.099L153.128,170.099" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M167.779,23.76L218.179,23.76" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M167.779,45.36L218.179,45.36" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="205.579" y="34.56" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">radius</text>
<polygon points="205.579,45.36 208.473,53.0784 202.684,53.0784" style="fill:rgb(128,128,128)"></polygon>
<path d="M205.579,49.2192L205.579,66.96" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="205.579,23.76 202.684,16.0416 208.473,16.0416" style="fill:rgb(128,128,128)"></polygon>
<path d="M205.579,19.9008L205.579,2.16" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
</svg>
</p>
<pre>A: file thick rad 100%
line thin color gray left 70% from 2mm left of (A.w,A.n)
line same from 2mm left of (A.w,A.s)
text &#34;height&#34; at (7/8&lt;previous.start,previous.end&gt;,1/2&lt;1st line,2ndline&gt;)
line thin color gray from previous text.n up until even with 1st line -&gt;
line thin color gray from previous text.s down until even with 2nd line -&gt;
X1: line thin color gray down 50% from 2mm below (A.w,A.s)
X2: line thin color gray down 50% from 2mm below (A.e,A.s)
text &#34;width&#34; at (1/2&lt;X1,X2&gt;,6/8&lt;X1.start,X1.end&gt;)
line thin color gray from previous text.w left until even with X1 -&gt;
line thin color gray from previous text.e right until even with X2 -&gt;
X3: line thin color gray right 70% from 2mm right of (A.e,A.n)
X4: line thin color gray right 70% from A.rad below start of X3
text &#34;radius&#34; at (6/8&lt;X4.start,X4.end&gt;,1/2&lt;X3,X4&gt;)
line thin color gray from (previous,X4) down 30% &lt;-
line thin color gray from (previous text,X3) up 30% &lt;-
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>For a <a href="https://pikchr.org/home/doc/trunk/doc/circleobj.md">circle object</a>, the width, height, and diameter
are always the same, and the radius is always half the diameter.  Changing
any parameter automatically adjusts the other three.</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 267.291 151.839">
<circle cx="127.64" cy="58.0605" r="43.2" style="fill:none;stroke-width:3.24;stroke:rgb(0,0,0);"></circle>
<path d="M73.1016,14.8605L22.7016,14.8605" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M73.1016,101.261L22.7016,101.261" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="29.0016" y="58.0605" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">height</text>
<polygon points="29.0016,14.8605 31.896,22.5789 26.1072,22.5789" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,42.9405L29.0016,18.7197" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="29.0016,101.261 26.1072,93.5421 31.896,93.5421" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,73.1805L29.0016,97.4013" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M84.4402,112.599L84.4402,148.599" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M170.84,112.599L170.84,148.599" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="127.64" y="139.599" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">width</text>
<polygon points="84.4402,139.599 92.1586,136.705 92.1586,142.494" style="fill:rgb(128,128,128)"></polygon>
<path d="M98.2642,139.599L88.2994,139.599" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="170.84,139.599 163.122,142.494 163.122,136.705" style="fill:rgb(128,128,128)"></polygon>
<path d="M157.016,139.599L166.981,139.599" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M182.179,101.261L232.579,101.261" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M182.179,58.0605L232.579,58.0605" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="219.979" y="79.6605" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">radius</text>
<polygon points="219.979,101.261 222.873,108.979 217.084,108.979" style="fill:rgb(128,128,128)"></polygon>
<path d="M219.979,105.12L219.979,122.861" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="219.979,58.0605 217.084,50.3421 222.873,50.3421" style="fill:rgb(128,128,128)"></polygon>
<path d="M219.979,54.2013L219.979,36.4605" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="97.0932,88.6075 100.504,81.1031 104.598,85.1964" style="fill:rgb(128,128,128)"></polygon>
<polygon points="158.187,27.5135 154.776,35.0179 150.683,30.9246" style="fill:rgb(128,128,128)"></polygon>
<path d="M99.822,85.8787L155.458,30.2424" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M158.187,27.5135L173.461,12.24L184.261,12.24" style="fill:none;stroke-width:1.4472;stroke-linejoin:round;stroke:rgb(128,128,128);"></path>
<text x="184.261" y="12.24" text-anchor="start" fill="rgb(0,0,0)" dominant-baseline="central"> diameter</text>
</svg>
</p>
<pre>A: circle thick rad 120%
line thin color gray left 70% from 2mm left of (A.w,A.n)
line same from 2mm left of (A.w,A.s)
text &#34;height&#34; at (7/8&lt;previous.start,previous.end&gt;,1/2&lt;1st line,2ndline&gt;)
line thin color gray from previous text.n up until even with 1st line -&gt;
line thin color gray from previous text.s down until even with 2nd line -&gt;
X1: line thin color gray down 50% from 2mm below (A.w,A.s)
X2: line thin color gray down 50% from 2mm below (A.e,A.s)
text &#34;width&#34; at (1/2&lt;X1,X2&gt;,6/8&lt;X1.start,X1.end&gt;)
line thin color gray from previous text.w left until even with X1 -&gt;
line thin color gray from previous text.e right until even with X2 -&gt;
X3: line thin color gray right 70% from 2mm right of (A.e,A.s)
X4: line thin color gray right 70% from A.rad above start of X3
text &#34;radius&#34; at (6/8&lt;X4.start,X4.end&gt;,1/2&lt;X3,X4&gt;)
line thin color gray from (previous,X3) down 30% &lt;-
line thin color gray from (previous text,X4) up 30% &lt;-
line thin color gray &lt;-&gt; from A.sw to A.ne
line thin color gray from A.ne go 0.5*A.rad ne then 0.25*A.rad east
text &#34; diameter&#34; ljust at end of previous line
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Even though they are curvy objects, the <code>radius</code> (and hence <code>diameter</code>)
has no effect on <a href="https://pikchr.org/home/doc/trunk/doc/ellipseobj.md">ellipse</a> and <a href="https://pikchr.org/home/doc/trunk/doc/ovalobj.md">oval</a> objects.
The size of those objects is determined purely by their width and height:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 198.92 129.059">
<ellipse cx="138.44" cy="42.48" rx="54" ry="36" style="fill:none;stroke-width:3.24;stroke:rgb(0,0,0);"></ellipse>
<path d="M73.1016,6.48L22.7016,6.48" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M73.1016,78.48L22.7016,78.48" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="29.0016" y="42.48" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">height</text>
<polygon points="29.0016,6.48 31.896,14.1984 26.1072,14.1984" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,27.36L29.0016,10.3392" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="29.0016,78.48 26.1072,70.7616 31.896,70.7616" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,57.6L29.0016,74.6208" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M84.4402,89.8186L84.4402,125.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M192.44,89.8186L192.44,125.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="138.44" y="116.819" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">width</text>
<polygon points="84.4402,116.819 92.1586,113.924 92.1586,119.713" style="fill:rgb(128,128,128)"></polygon>
<path d="M109.064,116.819L88.2994,116.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="192.44,116.819 184.722,119.713 184.722,113.924" style="fill:rgb(128,128,128)"></polygon>
<path d="M167.816,116.819L188.581,116.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
</svg>
</p>
<pre>A: ellipse thick
line thin color gray left 70% from 2mm left of (A.w,A.n)
line same from 2mm left of (A.w,A.s)
text &#34;height&#34; at (7/8&lt;previous.start,previous.end&gt;,1/2&lt;1st line,2ndline&gt;)
line thin color gray from previous text.n up until even with 1st line -&gt;
line thin color gray from previous text.s down until even with 2nd line -&gt;
X1: line thin color gray down 50% from 2mm below (A.w,A.s)
X2: line thin color gray down 50% from 2mm below (A.e,A.s)
text &#34;width&#34; at (1/2&lt;X1,X2&gt;,6/8&lt;X1.start,X1.end&gt;)
line thin color gray from previous text.w left until even with X1 -&gt;
line thin color gray from previous text.e right until even with X2 -&gt;
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 486.92 199.979">
<path d="M120.44,114.48L192.44,114.48A36 36 0 0 0 228.44 78.48A36 36 0 0 0 192.44 42.48L120.44,42.48A36 36 0 0 0 84.4402 78.48A36 36 0 0 0 120.44 114.48Z" style="fill:none;stroke-width:3.24;stroke:rgb(0,0,0);"></path>
<path d="M73.1016,42.48L22.7016,42.48" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M73.1016,114.48L22.7016,114.48" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="29.0016" y="78.48" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">height</text>
<polygon points="29.0016,42.48 31.896,50.1984 26.1072,50.1984" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,63.36L29.0016,46.3392" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="29.0016,114.48 26.1072,106.762 31.896,106.762" style="fill:rgb(128,128,128)"></polygon>
<path d="M29.0016,93.6L29.0016,110.621" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M84.4402,125.819L84.4402,161.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M228.44,125.819L228.44,161.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="156.44" y="152.819" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">width</text>
<polygon points="84.4402,152.819 92.1586,149.924 92.1586,155.713" style="fill:rgb(128,128,128)"></polygon>
<path d="M127.064,152.819L88.2994,152.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="228.44,152.819 220.722,155.713 220.722,149.924" style="fill:rgb(128,128,128)"></polygon>
<path d="M185.816,152.819L224.581,152.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M444.44,150.48A36 36 0 0 0 480.44 114.48L480.44,42.48A36 36 0 0 0 444.44 6.48A36 36 0 0 0 408.44 42.48L408.44,114.48A36 36 0 0 0 444.44 150.48Z" style="fill:none;stroke-width:3.24;stroke:rgb(0,0,0);"></path>
<path d="M397.102,6.48L346.702,6.48" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M397.102,150.48L346.702,150.48" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="353.002" y="78.48" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">height</text>
<polygon points="353.002,6.48 355.896,14.1984 350.107,14.1984" style="fill:rgb(128,128,128)"></polygon>
<path d="M353.002,63.36L353.002,10.3392" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="353.002,150.48 350.107,142.762 355.896,142.762" style="fill:rgb(128,128,128)"></polygon>
<path d="M353.002,93.6L353.002,146.621" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M408.44,161.819L408.44,197.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<path d="M480.44,161.819L480.44,197.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<text x="444.44" y="188.819" text-anchor="middle" fill="rgb(0,0,0)" font-size="80%" dominant-baseline="central">width</text>
<polygon points="408.44,188.819 416.159,185.924 416.159,191.713" style="fill:rgb(128,128,128)"></polygon>
<path d="M419.787,188.819L412.299,188.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
<polygon points="480.44,188.819 472.722,191.713 472.722,185.924" style="fill:rgb(128,128,128)"></polygon>
<path d="M469.093,188.819L476.581,188.819" style="fill:none;stroke-width:1.4472;stroke:rgb(128,128,128);"></path>
</svg>
</p>
<pre>A: oval thick
X0: line thin color gray left 70% from 2mm left of (A.w,A.n)
X1: line same from 2mm left of (A.w,A.s)
text &#34;height&#34; at (7/8&lt;previous.start,previous.end&gt;,1/2&lt;X0,X1&gt;)
line thin color gray from previous text.n up until even with X0 -&gt;
line thin color gray from previous text.s down until even with X1 -&gt;
X2: line thin color gray down 50% from 2mm below (A.w,A.s)
X3: line thin color gray down 50% from 2mm below (A.e,A.s)
text &#34;width&#34; at (1/2&lt;X2,X3&gt;,6/8&lt;X2.start,X2.end&gt;)
line thin color gray from previous text.w left until even with X2 -&gt;
line thin color gray from previous text.e right until even with X3 -&gt;

A: oval thick wid A.ht ht A.wid at 2.0*A.wid right of A
X0: line thin color gray left 70% from 2mm left of (A.w,A.n)
X1: line same from 2mm left of (A.w,A.s)
text &#34;height&#34; at (7/8&lt;previous.start,previous.end&gt;,1/2&lt;X0,X1&gt;)
line thin color gray from previous text.n up until even with X0 -&gt;
line thin color gray from previous text.s down until even with X1 -&gt;
X2: line thin color gray down 50% from 2mm below (A.w,A.s)
X3: line thin color gray down 50% from 2mm below (A.e,A.s)
text &#34;width&#34; small at (1/2&lt;X2,X3&gt;,6/8&lt;X2.start,X2.end&gt;)
line thin color gray from previous text.w left until even with X2 -&gt;
line thin color gray from previous text.e right until even with X3 -&gt;
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Notice that with an oval object, the semicircular end-cap is always
on the narrow end of the object.  In the default configuration where
the height is less than the width, the semicircular end-caps are on the
left and right, but if the width and height are modified so that the
width is less than the height, then semicircles appear on the top and
bottom instead.</p>

<h3>Default Sizes <a id="def-size"></a></h3>
<p>Block objects have default sizes, which are determined by variables.
For example, the width of a box is initialized with the value of the <code>boxwid</code>
variable, which defaults to <code>0.75in</code>.</p>

<p>It is common for Pikchr scripts
to change these default at or near the beginning of a script in order to adjust
the default sizes of objects defined within that script.</p>

<h3>Setting Sizes Using Attributes <a id="size-attr"></a></h3>
<p>Use the &#34;<code>width</code>&#34; (or &#34;<code>wid</code>&#34;) attribute to change the width of an object.
The argument to this attribute can be an expression — such as &#34;<code>1cm</code>&#34; or
&#34;<code>0.75*boxwid</code>&#34; — or it can be a percentage of the prior value,
such as &#34;<code>75%</code>&#34;.  This also works for &#34;<code>height</code>&#34;,
&#34;<code>radius</code>&#34;, and &#34;<code>diameter</code>&#34;.</p>

<h3>Automatic Sizing To Fit Text Annotations <a id="text-ann-size"></a></h3>
<p>If a block object contains text annotations, the &#34;<code>fit</code>&#34; attribute causes
the width and height to be adjusted so that the object neatly encloses that
text.  The &#34;<code>fit</code>&#34; attribute only considers text that is previously defined
for the object, or in other words text annotations that occur to the left
of the &#34;<code>fit</code>&#34; keyword.  The width and height can be adjusted further after
the &#34;<code>fit</code>&#34; keyword, for example to provide a larger margin around the
text.  Click on the following script to see the difference that the
&#34;<code>width 125%</code>&#34; at the end of the second box definition makes.</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 266.544 141.12">
<path d="M29.7072,52.56L236.837,52.56L236.837,2.16L29.7072,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="133.272" y="17.28" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Auto-fit text annotation</text>
<text x="133.272" y="37.44" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">as is</text>
<path d="M2.16,138.96L264.384,138.96L264.384,88.56L2.16,88.56Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="133.272" y="103.68" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Auto-fix text annotation</text>
<text x="133.272" y="123.84" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">with 125% width</text>
</svg>
</p>
<pre>    down
    box &#34;Auto-fit text annotation&#34; &#34;as is&#34; fit
    move 50%
    box &#34;Auto-fix text annotation&#34; &#34;with 125% width&#34; fit width 125%
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>If at the end of a block object definition, either the width or height of the
object is less than or equal to zero, then that dimension is increased so as to
enclose all text annotations on the object.  Thus, for example, 
you can make all of the
boxes in your diagram auto-fit around their text annotations by prefacing
your script with something like:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 301.19 74.88">
<path d="M2.16,52.56L58.8384,52.56L58.8384,22.32L2.16,22.32Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="30.4992" y="37.44" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Hello</text>
<path d="M130.838,72.72L299.03,72.72L299.03,2.16L130.838,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="214.934" y="17.28" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">A longer label</text>
<text x="214.934" y="37.44" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">with multiple lines</text>
<text x="214.934" y="57.6" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">of label text</text>
</svg>
</p>
<pre>    boxwid = 0; boxht = 0;
    box &#34;Hello&#34;;
    move
    box &#34;A longer label&#34; &#34;with multiple lines&#34; &#34;of label text&#34;
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>For all of these auto-fit features, Pikchr needs to know the dimensions of the
text annotations after rendering.  Unfortunately, that information is not
readily available, as Pikchr runs long before the generated SVG reaches the
web-browser in which it will be displayed.  Hence, Pikchr has to guess at the
text size.  Usually it does a good job of this, but it can be a little off,
especially for unusual (read: &#34;non-ASCII&#34;) characters or if the CSS for
the rendering environment sets a non-standard font face or font size.  To
compensate, the &#34;<code>charwid</code>&#34; and &#34;<code>charht</code>&#34; variables can be adjusted or
extra spaces can be added at the beginning or end of text strings.</p>

<p>These auto-fit features are a new innovation for Pikchr and are not available
in other PIC family interpreters, as far as we are aware.</p>

<h2>Attributes For Stroke Width And Drawing Colors <a id="stroke-attr"></a></h2>
<p>Various attributes can be added to both block and line objects to influence
how the objects are drawn.</p>

<ul>
<li><code>thickness</code> <em>dimension</em></li>
<li><code>thick</code></li>
<li><code>thin</code></li>
<li><code>invisible</code> (or <code>invis</code>)</li>
<li><code>color</code> <em>color</em></li>
<li><code>fill</code> <em>color</em></li>
</ul>

<p>The &#34;<code>thickness</code>&#34;, &#34;<code>thick</code>&#34;, &#34;<code>thin</code>&#34;, and &#34;<code>invisible</code>&#34; attributes control
the stroke width of the lines that construct an object.  The default stroke width
for all objects is determined by the &#34;<code>thickness</code>&#34; variable, which defaults
to &#34;<code>0.015in</code>&#34;.  The &#34;<code>thick</code>&#34; and &#34;<code>thin</code>&#34; attributes increase or decrease
the stroke width by fixed percentages.  These attributes can be repeated
to make the stroke width ever thicker or thinner, up to the limit of the object’s
dimensions where the stroke fills the entire object.  The &#34;<code>invisble</code>&#34; attribute
simply sets the stroke width to 0.</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 686.074 34.56">
<path d="M2.16,32.4L73.1232,32.4L73.1232,2.16L2.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="37.6416" y="17.28" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">normal</text>
<path d="M145.123,32.4L189.936,32.4L189.936,2.16L145.123,2.16Z" style="fill:none;stroke-width:1.4472;stroke:rgb(0,0,0);"></path>
<text x="167.53" y="17.28" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">thin</text>
<path d="M261.936,32.4L315.504,32.4L315.504,2.16L261.936,2.16Z" style="fill:none;stroke-width:3.24;stroke:rgb(0,0,0);"></path>
<text x="288.72" y="17.28" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">thick</text>
<path d="M387.504,32.4L535.536,32.4L535.536,2.16L387.504,2.16Z" style="fill:none;stroke-width:7.29;stroke:rgb(0,0,0);"></path>
<text x="461.52" y="17.28" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">thick thick thick</text>
<text x="648.605" y="17.28" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">invisible</text>
</svg>
</p>
<pre>   boxwid = 0
   boxht = 0
   right
   box &#34;normal&#34;
   move
   box &#34;thin&#34; thin
   move
   box &#34;thick&#34; thick
   move
   box &#34;thick thick thick&#34; thick thick thick
   move
   box &#34;invisible&#34; invisible
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Notice that “invisible” refers only to the object outline, not to the
whole object. You therefore cancel the “invisible” attribute with
“solid”, not “visible”:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 439.776 34.56">
<path d="M2.16,32.4L110.333,32.4L110.333,2.16L2.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="56.2464" y="17.28" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">fully visible</text>
<text x="183.254" y="17.28" text-anchor="middle" fill="rgb(128,128,128)" dominant-baseline="central">outline invisible</text>
<path d="M256.176,32.4L437.616,32.4L437.616,2.16L256.176,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(128,128,128);"></path>
<text x="346.896" y="17.28" text-anchor="middle" fill="rgb(128,128,128)" dominant-baseline="central">outline visible again</text>
</svg>
</p>
<pre>   boxwid = 0
   boxht = 0
   box &#34;fully visible&#34;
   box invisible color gray &#34;outline invisible&#34;
   box same solid &#34;outline visible again&#34; fit
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>The &#34;<code>color</code>&#34; and &#34;<code>fill</code>&#34; attributes change the foreground and background
colors of an object.  Colors can be expressed using any of <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value">the 148 standard
CSS color names</a> such as &#34;Bisque&#34; or &#34;AliceBlue&#34; or &#34;LightGray&#34;.  Color
names are not case sensitive, so &#34;bisque&#34;, &#34;BISQUE&#34;, and &#34;Bisque&#34; all mean
the same thing.  Color names can also be expressed as an integer which is
interpreted as a 24-bit RGB value.  It is convenient to express numeric
color values using hexadecimal notation.  &#34;Bisque&#34; is the same as &#34;0xffe4c4&#34;,
which is the same as &#34;16770244&#34;.  </p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 367.546 54.72">
<path d="M2.16,52.56L158.256,52.56L158.256,2.16L2.16,2.16Z" style="fill:rgb(255,228,196);stroke-width:2.16;stroke:rgb(95,158,160);"></path>
<text x="80.208" y="17.28" text-anchor="middle" fill="rgb(95,158,160)" dominant-baseline="central">Color: CadetBlue</text>
<text x="80.208" y="37.44" text-anchor="middle" fill="rgb(95,158,160)" dominant-baseline="central">Fill: Bisque</text>
<path d="M255.456,52.56L340.186,52.56A25.2 25.2 0 0 0 365.386 27.36A25.2 25.2 0 0 0 340.186 2.16L255.456,2.16A25.2 25.2 0 0 0 230.256 27.36A25.2 25.2 0 0 0 255.456 52.56Z" style="fill:rgb(65,105,225);stroke-width:2.16;stroke:rgb(255,255,255);"></path>
<text x="297.821" y="17.28" text-anchor="middle" fill="rgb(255,255,255)" dominant-baseline="central">Color: White</text>
<text x="297.821" y="37.44" text-anchor="middle" fill="rgb(255,255,255)" dominant-baseline="central">Fill: RoyalBlue</text>
</svg>
</p>
<pre>   box &#34;Color: CadetBlue&#34; &#34;Fill: Bisque&#34; fill Bisque color CadetBlue fit
   move
   oval &#34;Color: White&#34; &#34;Fill: RoyalBlue&#34; color White fill ROYALBLUE fit
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Setting the &#34;<code>fill</code>&#34; to a negative number, to &#34;None&#34;, or to &#34;Off&#34; makes the
background transparent.  That is the default.</p>

<p>The default foreground color is black.</p>

<h3>Filled Polygons <a id="filled-polys"></a></h3>
<p>The &#34;<code>fill</code>&#34; attribute does not affect the rendering of lines unless the
route of the line is terminated by the &#34;<code>close</code>&#34; attribute.  The &#34;<code>close</code>&#34;
keyword converts the line into a polygon:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 174.399 151.613">
<path d="M87.1994,2.16L172.239,149.453L2.16,149.453Z" style="fill:rgb(0,96,0);stroke-width:2.16;stroke-linejoin:round;stroke:rgb(255,255,255);"></path>
<text x="87.1994" y="87.5063" text-anchor="middle" fill="rgb(255,255,255)" dominant-baseline="central">green</text>
<text x="87.1994" y="107.666" text-anchor="middle" fill="rgb(255,255,255)" dominant-baseline="central">triangle</text>
</svg>
</p>
<pre>   line go 3cm heading 150 then 3cm west close \
                                      /* ^^^^^ nota bene! */ \
       fill 0x006000 color White &#34;green&#34; below &#34;triangle&#34; below
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Polygons are not required to have a fill color. With the default fill of “none,”
you can use the &#34;<code>close</code>&#34;
keyword to convert a polygon into a line and leave the background transparent,
but using &#34;<code>fill</code> <em>color</em>&#34; together with &#34;<code>close</code>&#34; is a common idiom.</p>

<h2>Text Annotations <a id="text-ann"></a></h2>
<p>Every object can have up to five lines of text annotation.  Each annotation
is a string literal attribute on the object definition.  By default, the
annotations are displayed around the center of the object, from top to bottom,
in the order that they appear in the input script.</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 360.115 74.88">
<path d="M2.16,72.72L137.635,72.72L137.635,2.16L2.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="69.8976" y="17.28" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">box containing</text>
<text x="69.8976" y="37.44" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">three lines</text>
<text x="69.8976" y="57.6" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">of text</text>
<polygon points="353.635,37.44 342.115,41.76 342.115,33.12" style="fill:rgb(0,0,0)"></polygon>
<path d="M209.635,37.44L347.875,37.44" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="281.635" y="25.74" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Labeled</text>
<text x="281.635" y="49.14" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">line</text>
</svg>
</p>
<pre>   box &#34;box containing&#34; &#34;three lines&#34; &#34;of text&#34; fit
   move
   arrow &#34;Labeled&#34; &#34;line&#34; wid 200%
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<h2>Text Attributes <a id="text-attr"></a></h2>
<p>The layout and font style of the annotations can be modified using keywords
that appear after each string literal.  The following modifiers are supported:</p>

<ul>
<li><strong>above</strong></li>
<li><strong>aligned</strong></li>
<li><strong>below</strong></li>
<li><strong>big</strong></li>
<li><strong>bold</strong></li>
<li><strong>mono</strong></li>
<li><strong>monospace</strong></li>
<li><strong>center</strong></li>
<li><strong>italic</strong></li>
<li><strong>ljust</strong></li>
<li><strong>rjust</strong></li>
<li><strong>small</strong></li>
</ul>

<h3>Position Text Above Or Below The Center Of The Object <a id="text-pos"></a></h3>
<p>The &#34;<code>above</code>&#34; and &#34;<code>below</code>&#34; keywords control the location of the
text above or below the center point of the object with which
the text is associated.  If there is just one text on the object
and the &#34;<code>above</code>&#34; and &#34;<code>below</code>&#34; keywords are omitted, the text is
placed directly over the center of the object.  This causes
the text to appear in the middle of lines:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 112.32 24.48">
<path d="M2.16,12.24L110.16,12.24" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="56.16" y="12.24" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">on the line</text>
</svg>
</p>
<pre>  line &#34;on the line&#34; wid 150%
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>So, if there is just a single text label on a line, you probably
want to include either the &#34;<code>above</code>&#34; or &#34;<code>below</code>&#34; keyword.</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 220.32 47.88">
<path d="M2.16,23.94L74.16,23.94" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="38.16" y="12.24" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">above</text>
<path d="M146.16,23.94L218.16,23.94" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="182.16" y="35.64" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">below</text>
</svg>
</p>
<pre>  line &#34;above&#34; above; move; line &#34;below&#34; below
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>If there are two texts on the object, they straddle the center point
above and below, even without the use of the &#34;<code>above</code>&#34; and &#34;<code>below</code>&#34;
keywords:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 220.32 47.88">
<path d="M2.16,23.94L218.16,23.94" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="110.16" y="12.24" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">text without &#34;above&#34;</text>
<text x="110.16" y="35.64" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">text without &#34;below&#34;</text>
</svg>
</p>
<pre>  line wid 300% &#34;text without \&#34;above\&#34;&#34; &#34;text without \&#34;below\&#34;&#34;
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>The &#34;<code>above</code>&#34; and &#34;<code>below</code>&#34; attributes do not stack or accumulate.  Each &#34;<code>above</code>&#34;
or &#34;<code>below</code>&#34; overrides any previous &#34;<code>above</code>&#34; or &#34;<code>below</code>&#34; for the same text.</p>

<p>If there are multiple texts and all are marked &#34;<code>above</code>&#34; or &#34;<code>below</code>&#34;, then
all are placed above or below the center point, in order of appearance.</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 364.32 88.2">
<path d="M2.16,44.1L146.16,44.1" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="74.16" y="12.24" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">first above</text>
<text x="74.16" y="32.4" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">second above</text>
<path d="M218.16,44.1L362.16,44.1" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="290.16" y="55.8" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">first below</text>
<text x="290.16" y="75.96" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">second below</text>
</svg>
</p>
<pre>  line width 200% &#34;first above&#34; above &#34;second above&#34; above
  move
  line same &#34;first below&#34; below &#34;second below&#34; below
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<h3>Justify Text Left Or Right <a id="text-just"></a></h3>
<p>As the &#34;<code>above</code>&#34; and &#34;<code>below</code>&#34; keywords control up and down positioning of
the text, so the &#34;<code>ljust</code>&#34; and &#34;<code>rjust</code>&#34; keywords control left and right
positioning.</p>

<p>For a line, the &#34;<code>ljust</code>&#34; means that the left side of the text is flush
against the center point of the line, and &#34;<code>rjust</code>&#34; means that the right
side of the text is flush against the center point of the line.
(In the following diagram, the red dot is at the center of the line.)</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 148.32 47.88">
<path d="M2.16,23.94L146.16,23.94" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="74.16" y="12.24" text-anchor="start" fill="rgb(0,0,0)" dominant-baseline="central">ljust</text>
<text x="74.16" y="35.64" text-anchor="end" fill="rgb(0,0,0)" dominant-baseline="central">rjust</text>
<circle cx="74.16" cy="23.94" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
</svg>
</p>
<pre>   line wid 200% &#34;ljust&#34; ljust above &#34;rjust&#34; rjust below
   dot color red at previous.c
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>For a block object, &#34;<code>ljust</code>&#34; shifts the text to be left justified
against the left edge of the block (with a small margin) and
&#34;<code>rjust</code>&#34; puts the text against the right side of the object (with
the same margin).</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 370.31 74.88">
<path d="M2.16,72.72L149.155,72.72L149.155,2.16L2.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="5.58" y="17.28" text-anchor="start" fill="rgb(0,0,0)" dominant-baseline="central">ljust</text>
<text x="5.58" y="37.44" text-anchor="start" fill="rgb(0,0,0)" dominant-baseline="central">longer line</text>
<text x="5.58" y="57.6" text-anchor="start" fill="rgb(0,0,0)" dominant-baseline="central">even longer line</text>
<path d="M221.155,72.72L368.15,72.72L368.15,2.16L221.155,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="364.73" y="17.28" text-anchor="end" fill="rgb(0,0,0)" dominant-baseline="central">rjust</text>
<text x="364.73" y="37.44" text-anchor="end" fill="rgb(0,0,0)" dominant-baseline="central">longer line</text>
<text x="364.73" y="57.6" text-anchor="end" fill="rgb(0,0,0)" dominant-baseline="central">even longer line</text>
</svg>
</p>
<pre>   box &#34;ljust&#34; ljust &#34;longer line&#34; ljust &#34;even longer line&#34; ljust fit
   move
   box &#34;rjust&#34; rjust &#34;longer line&#34; rjust &#34;even longer line&#34; rjust fit
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>The behavior of &#34;<code>ljust</code>&#34; and &#34;<code>rjust</code>&#34; for block objects in Pikchr differs
from legacy PIC.
In PIC, text is always justified around the center point, as in lines,
but this means there is no easy way to left justify multiple lines of
text within a &#34;box&#34; or &#34;file&#34;, so the behavior was changed for
Pikchr.</p>

<p>Pikchr allows five separate text objects inside another object by combining
&#34;<code>ljust</code>&#34;, &#34;<code>rjust</code>&#34;, and the default text centering:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 328.32 76.32">
<path d="M2.16,74.16L326.16,74.16L326.16,2.16L2.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="5.58" y="18" text-anchor="start" fill="rgb(0,0,0)" dominant-baseline="central">above-ljust</text>
<text x="322.74" y="18" text-anchor="end" fill="rgb(0,0,0)" dominant-baseline="central">above-rjust</text>
<text x="164.16" y="38.16" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">centered</text>
<text x="5.58" y="58.32" text-anchor="start" fill="rgb(0,0,0)" dominant-baseline="central">below-ljust</text>
<text x="322.74" y="58.32" text-anchor="end" fill="rgb(0,0,0)" dominant-baseline="central">below-rjust</text>
</svg>
</p>
<pre>  box wid 300% \
     &#34;above-ljust&#34; above ljust \
     &#34;above-rjust&#34; above rjust \
     &#34;centered&#34; center \
     &#34;below-ljust&#34; below ljust \
     &#34;below-rjust&#34; below rjust
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<h3>Text Attribute &#34;center&#34; <a id="text-center"></a></h3>
<p>The &#34;<code>center</code>&#34; attribute cancels all prior &#34;<code>above</code>&#34;, &#34;<code>below</code>&#34;, &#34;<code>ljust</code>&#34;, and
&#34;<code>rjust</code>&#34; attributes for the current text object.</p>

<h3>Bold And Italic Font Styles <a id="font-style"></a></h3>
<p>The &#34;<code>bold</code>&#34; and &#34;<code>italic</code>&#34; attributes cause the text object to use a bold or
italic font.  Fonts can be both bold and italic at the same time:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 108.599 74.88">
<path d="M2.16,72.72L106.439,72.72L106.439,2.16L2.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="54.2995" y="17.28" text-anchor="middle" font-weight="bold" fill="rgb(0,0,0)" dominant-baseline="central">bold</text>
<text x="54.2995" y="37.44" text-anchor="middle" font-style="italic" fill="rgb(0,0,0)" dominant-baseline="central">italic</text>
<text x="54.2995" y="57.6" text-anchor="middle" font-style="italic" font-weight="bold" fill="rgb(0,0,0)" dominant-baseline="central">bold-italic</text>
</svg>
</p>
<pre>  box &#34;bold&#34; bold &#34;italic&#34; italic &#34;bold-italic&#34; bold italic fit
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<h3>Monospace Font Family <a id="font-family"></a></h3>
<p>The &#34;<code>mono</code>&#34; or &#34;<code>monospace</code>&#34; attributes cause the text object to use a
monospace font.</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100.858 34.56">
<path d="M2.16,32.4L98.6976,32.4L98.6976,2.16L2.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="50.4288" y="17.28" text-anchor="middle" font-family="monospace" fill="rgb(0,0,0)" dominant-baseline="central">monospace</text>
</svg>
</p>
<pre>  box &#34;monospace&#34; monospace fit
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<h3>Aligned Text <a id="text-align"></a></h3>
<p>The &#34;<code>aligned</code>&#34; attribute causes text associated with a straight line
to be rotated to align with that line:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 194.78 120.96">
<polygon points="56.16,8.12076 54.1412,20.2574 46.6588,15.9374" style="fill:rgb(0,0,0)"></polygon>
<path d="M2.16,101.652L53.28,13.1091" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="29.16" y="43.1861" text-anchor="middle" fill="rgb(0,0,0)" transform="rotate(-60 29.16,54.8861)" dominant-baseline="central">aligned</text>
<polygon points="131.607,114.48 125.352,103.885 133.861,102.385" style="fill:rgb(0,0,0)"></polygon>
<path d="M112.853,8.12076L130.607,108.808" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="122.23" y="49.6004" text-anchor="middle" fill="rgb(0,0,0)" transform="rotate(80 122.23,61.3004)" dominant-baseline="central">aligned</text>
<polygon points="188.3,6.48 192.62,18 183.98,18" style="fill:rgb(0,0,0)"></polygon>
<path d="M188.3,114.48L188.3,12.24" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="188.3" y="48.78" text-anchor="middle" fill="rgb(0,0,0)" transform="rotate(-90 188.3,60.48)" dominant-baseline="central">aligned</text>
</svg>
</p>
<pre>  arrow go 150% heading 30 &#34;aligned&#34; aligned above
  move to 1cm east of previous.end
  arrow go 150% heading 170 &#34;aligned&#34; aligned above
  move to 1cm east of previous.end
  arrow go 150% north &#34;aligned&#34; aligned above
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>To display rotated text not associated with a line, attach the
text to a line that is marked &#34;<code>invisible</code>&#34;</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 58.32 148.32">
<path d="M2.16,146.16L56.16,146.16L56.16,2.16L2.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="29.16" y="74.16" text-anchor="middle" fill="rgb(0,0,0)" transform="rotate(-90 29.16,74.16)" dominant-baseline="central">rotated text</text>
</svg>
</p>
<pre>  box ht 200% wid 50%
  line invis from previous.s to previous.n &#34;rotated text&#34; aligned
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>Note that the direction of aligned text is the same as the direction of
the line itself, so if you draw a line from right to left, the aligned
text will appear upside down:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192.061 67.3369">
<circle cx="25.1645" cy="25.1645" r="23.0045" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<text x="25.1645" y="25.1645" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">C1</text>
<circle cx="166.897" cy="42.1724" r="23.0045" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<text x="166.897" y="42.1724" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">C0</text>
<polygon points="48.0051,27.9054 59.9578,24.9887 58.9284,33.5672" style="fill:rgb(0,0,0)"></polygon>
<path d="M144.056,39.4315L53.7241,28.5916" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="96.0306" y="21.9684" text-anchor="middle" fill="rgb(0,0,0)" transform="rotate(-173.1572266 96.0306,33.6684)" dominant-baseline="central">aligned</text>
</svg>
</p>
<pre>  circle &#34;C1&#34; fit
  circle &#34;C0&#34; at C1+(2.5cm,-0.3cm) fit
  arrow from C0 to C1 &#34;aligned&#34; aligned above chop
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>If you need aligned text on an arrow that goes from right to left,
and you do not want the text to be rendered upside-down, draw
the arrow from left to right and include the &#34;<code>&lt;-</code>&#34; attribute
so that the arrowhead is at the beginning rather than at the end:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192.061 67.3369">
<circle cx="25.1645" cy="25.1645" r="23.0045" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<text x="25.1645" y="25.1645" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">C1</text>
<circle cx="166.897" cy="42.1724" r="23.0045" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></circle>
<text x="166.897" y="42.1724" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">C0</text>
<polygon points="48.0051,27.9054 59.9578,24.9887 58.9284,33.5672" style="fill:rgb(0,0,0)"></polygon>
<path d="M53.7241,28.5916L144.056,39.4315" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="96.0306" y="21.9684" text-anchor="middle" fill="rgb(0,0,0)" transform="rotate(6.842773413 96.0306,33.6684)" dominant-baseline="central">aligned</text>
</svg>
</p>
<pre>  circle &#34;C1&#34; fit
  circle &#34;C0&#34; at C1+(2.5cm,-0.3cm) fit
  arrow from C1 to C0 &#34;aligned&#34; aligned above &lt;- chop
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<h3>Adjusting The Font Size <a id="font-size"></a></h3>
<p>The &#34;<code>big</code>&#34; and &#34;<code>small</code>&#34; attributes cause the text to be a little
larger or a little smaller, respectively.  Two &#34;<code>big</code>&#34; attributes cause
the text to be larger still; similarly, two &#34;<code>small</code>&#34; attributes make it
smaller-than-small. Text size does not increase or decrease beyond two
&#34;<code>big</code>&#34; or &#34;<code>small</code>&#34; keywords.</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 112.32 148.32">
<path d="M2.16,146.16L110.16,146.16L110.16,2.16L2.16,2.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="56.16" y="41.5008" text-anchor="middle" fill="rgb(0,0,0)" font-size="64%" dominant-baseline="central">small small</text>
<text x="56.16" y="56.016" text-anchor="middle" fill="rgb(0,0,0)" font-size="80%" dominant-baseline="central">small</text>
<text x="56.16" y="74.16" text-anchor="middle" font-style="italic" fill="rgb(0,0,0)" dominant-baseline="central">(normal)</text>
<text x="56.16" y="96.84" text-anchor="middle" fill="rgb(0,0,0)" font-size="125%" dominant-baseline="central">big</text>
<text x="56.16" y="125.19" text-anchor="middle" fill="rgb(0,0,0)" font-size="156.25%" dominant-baseline="central">big big</text>
</svg>
</p>
<pre>  box &#34;small small&#34; small small &#34;small&#34; small \
    &#34;(normal)&#34; italic \
    &#34;big&#34; big &#34;big big&#34; big big ht 200%
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>A &#34;<code>big</code>&#34; keyword cancels any prior &#34;<code>small</code>&#34; keywords on the same text,
and a &#34;<code>small</code>&#34; keyword cancels any prior &#34;<code>big</code>&#34; keywords.</p>

<h2>Text Is Positioned Around The Center Of The Object <a id="text-center"></a></h2>
<p>The anchor point for text annotations is usually the center of the bounding box for
the whole object.  This is intuitive for block objects and straight lines.
But for multi-segment lines, the text might not be near
the line itself.  For example, in the following four-segment arrow,
the red box is the bounding box and the red dot shows the center of the
bounding box.  The text label is aligned relative to the center of the
bounding box, which is not close to any part of the actual line.</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 224.073 150.372">
<circle cx="109.877" cy="73.0261" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<polygon points="217.593,143.892 209.304,134.801 217.326,131.592" style="fill:rgb(0,0,0)"></polygon>
<path d="M2.16,87.1994L87.1994,2.16L143.892,30.5065L160.9,2.16L215.454,138.544" style="fill:none;stroke-width:2.16;stroke-linejoin:round;stroke:rgb(0,0,0);"></path>
<text x="109.877" y="73.0261" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">text</text>
<path d="M2.16,143.892L217.593,143.892L217.593,2.16L2.16,2.16Z" style="fill:none;stroke-width:0.969624;stroke:rgb(255,0,0);"></path>
</svg>
</p>
<pre>arrow up 1.5cm right 1.5cm then down .5cm right 1cm then up .5cm right .3cm \
   then down 2.5cm right 1cm &#34;text&#34;
box color red thin thin width previous.wid height previous.ht \
   with .c at previous.c
dot at last arrow.c color red behind last arrow
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>If you need to position text beside one specific segment of a multi-segment
line, consider creating a separate &#34;<code>invis</code>&#34; line over top of that line
segment and attaching the text to the &#34;invis&#34; line instead.  Here is the
same arrow as before, but with the text attached to a separate &#34;invis&#34; line
that overlays the second segment of the arrow:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 224.073 161.495">
<circle cx="109.877" cy="84.1487" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<polygon points="217.593,155.015 209.304,145.923 217.326,142.714" style="fill:rgb(0,0,0)"></polygon>
<path d="M2.16,98.322L87.1994,13.2826L143.892,41.6291L160.9,13.2826L215.454,149.667" style="fill:none;stroke-width:2.16;stroke-linejoin:round;stroke:rgb(0,0,0);"></path>
<path d="M2.16,155.015L217.593,155.015L217.593,13.2826L2.16,13.2826Z" style="fill:none;stroke-width:0.969624;stroke:rgb(255,0,0);"></path>
<text x="115.546" y="37.5358" text-anchor="middle" fill="rgb(0,0,0)" transform="rotate(26.56505118 115.546,27.4558)" dominant-baseline="central">text</text>
</svg>
</p>
<pre>arrow up 1.5cm right 1.5cm then down .5cm right 1cm then up .5cm right .3cm \
   then down 2.5cm right 1cm
box color red thin thin width previous.wid height previous.ht \
   with .c at previous.c
dot at last arrow.c color red behind last arrow
line invis from 2nd vertex of last arrow to 3rd vertex of last arrow \
   &#34;text&#34; below aligned
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>The anchor point for text is <em>usually</em> the center of the object, but
in some cases, the anchor point might be fudged a little.  This happens,
for example for cylinder objects:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 112.32 76.32">
<path d="M2.16,15.12L2.16,61.2A54 12.96 0 0 0 110.16 61.2L110.16,15.12A54 12.96 0 0 0 2.16 15.12A54 12.96 0 0 0 110.16 15.12" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="56.16" y="37.8" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">text in a</text>
<text x="56.16" y="57.96" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">cylinder</text>
<circle cx="56.16" cy="38.16" r="2.16" style="fill:rgb(255,0,0);stroke-width:2.16;stroke:rgb(255,0,0);"></circle>
<circle cx="56.16" cy="47.88" r="2.16" style="fill:rgb(0,0,255);stroke-width:2.16;stroke:rgb(0,0,255);"></circle>
</svg>
</p>
<pre>C1: cylinder &#34;text in a&#34; &#34;cylinder&#34; rad 120%
    dot color red at C1.c
    dot color blue at 0.75*C1.rad below C1.c
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>The red dot is on the center of the cylinder and the blue dot shows the
anchor point for the text.  The text is a little lower for cylinders because
that looks better.  With out this adjustment of the text center point, the
cylinder text would look goofy:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 112.32 76.32">
<path d="M2.16,15.12L2.16,61.2A54 12.96 0 0 0 110.16 61.2L110.16,15.12A54 12.96 0 0 0 2.16 15.12A54 12.96 0 0 0 110.16 15.12" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="56.16" y="28.08" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">text in a</text>
<text x="56.16" y="48.24" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">cylinder</text>
</svg>
</p>
<pre>C1: cylinder rad 120%
    text &#34;text in a&#34; &#34;cylinder&#34; at C1.c
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->


<p>A &#34;container&#34; is a list of one or more objects contained within &#34;<code>[</code>...<code>]</code>&#34;.
A container is a collection of one or more objects that looks like a single
object to the remainder of the script.</p>

<p>For example:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400.32 148.32">
<path d="M74.16,110.16L146.16,110.16A36 36 0 0 0 182.16 74.16A36 36 0 0 0 146.16 38.16L74.16,38.16A36 36 0 0 0 38.16 74.16A36 36 0 0 0 74.16 110.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="110.16" y="74.16" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Hello</text>
<polygon points="254.16,74.16 242.64,78.48 242.64,69.84" style="fill:rgb(0,0,0)"></polygon>
<path d="M182.16,74.16L248.4,74.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M260.16,110.16L356.16,110.16A6 6 0 0 0 362.16 104.16L362.16,44.16A6 6 0 0 0 356.16 38.16L260.16,38.16A6 6 0 0 0 254.16 44.16L254.16,104.16A6 6 0 0 0 260.16 110.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="308.16" y="74.16" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">World</text>
<path d="M2.16,146.16L398.16,146.16L398.16,2.16L2.16,2.16Z" style="fill:none;stroke-width:1.4472;stroke:rgb(0,0,0);"></path>
</svg>
</p>
<pre>    A: [
      oval &#34;Hello&#34;
      arrow
      box &#34;World&#34; radius 4px
    ]
    Border: box thin width A.width+0.5in height A.height+0.5in at A.center
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>The &#34;A&#34; container is composed of an oval, and arrow, and a box with rounded
corners.  But to the subsequent &#34;Border&#34; box, the &#34;A&#34; container appears to
be a single object.  The Border box can reference the overall width and height
and the center point of the A container in order to size and position itself to
enclose the container with a 0.25in border:</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400.32 148.32">
<path d="M74.16,110.16L146.16,110.16A36 36 0 0 0 182.16 74.16A36 36 0 0 0 146.16 38.16L74.16,38.16A36 36 0 0 0 38.16 74.16A36 36 0 0 0 74.16 110.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="110.16" y="74.16" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Hello</text>
<polygon points="254.16,74.16 242.64,78.48 242.64,69.84" style="fill:rgb(0,0,0)"></polygon>
<path d="M182.16,74.16L248.4,74.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M260.16,110.16L356.16,110.16A6 6 0 0 0 362.16 104.16L362.16,44.16A6 6 0 0 0 356.16 38.16L260.16,38.16A6 6 0 0 0 254.16 44.16L254.16,104.16A6 6 0 0 0 260.16 110.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="308.16" y="74.16" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">World</text>
<path d="M2.16,146.16L398.16,146.16L398.16,2.16L2.16,2.16Z" style="fill:none;stroke-width:1.4472;stroke:rgb(0,0,0);"></path>
</svg>
</p>
<pre>    A: [
      oval &#34;Hello&#34;
      arrow
      box &#34;World&#34; radius 4px
    ]
    Border: box thin width A.width+0.5in height A.height+0.5in at A.center
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>A container is mostly useful for adding a border around a collection of
objects, as shown above, or adding a caption to a diagram.  The following
diagram shows what a caption might look like.
(Click to see the Pikchr source text.)</p>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->
<div><p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 328.32 115.92">
<path d="M38.16,74.16L110.16,74.16A36 36 0 0 0 146.16 38.16A36 36 0 0 0 110.16 2.16L38.16,2.16A36 36 0 0 0 2.16 38.16A36 36 0 0 0 38.16 74.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="74.16" y="38.16" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">Hello</text>
<polygon points="218.16,38.16 206.64,42.48 206.64,33.84" style="fill:rgb(0,0,0)"></polygon>
<path d="M146.16,38.16L212.4,38.16" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<path d="M224.16,74.16L320.16,74.16A6 6 0 0 0 326.16 68.16L326.16,8.16A6 6 0 0 0 320.16 2.16L224.16,2.16A6 6 0 0 0 218.16 8.16L218.16,68.16A6 6 0 0 0 224.16 74.16Z" style="fill:none;stroke-width:2.16;stroke:rgb(0,0,0);"></path>
<text x="272.16" y="38.16" text-anchor="middle" fill="rgb(0,0,0)" dominant-baseline="central">World</text>
<text x="164.16" y="103.68" text-anchor="middle" font-style="italic" fill="rgb(0,0,0)" dominant-baseline="central">Diagram Caption</text>
</svg>
</p>
<pre>    A: [
      oval &#34;Hello&#34;
      arrow
      box &#34;World&#34; radius 4px
    ]
    Caption: text &#34;Diagram Caption&#34; italic with .n at 0.1in below A.s
</pre>
</div>
<!--CF4A511661FC98ECEC0AF1E0E49A8F449507E835235529C1D6B981F666FD863C-->

<p>In legacy PIC, layout direction changes (the &#34;up&#34;, &#34;down&#34;, &#34;left&#34;, and &#34;right&#34;
commands) and variable definitions within a container only affect subsequent
statements within the same container.  Once the container closes, the prior direction
and variable values are restored.  Pikchr does not work this way.  In
Pikchr, layout direction changes and variable definitions that occur within
a container continue to be in effect after the container.</p>


<p>Objects are normally drawn in the order in which they are defined.  Thus
objects that are toward the end of the script that overlap with objects
near the beginning will appear to be on top.</p>

<p>Sometimes it is desirable for a later object to appear to be behind an
early object.  This is useful, for example, when using a box to form a
colored background for a group of prior objects.  The
<a href="https://pikchr.org/home/doc/trunk/doc/behind.md">&#34;<code>behind</code>&#34; attribute</a> with a argument that is the label
for any prior object can be added to cause the object that holds the
behind attribute to be drawn before the object that the behind
attribute references.</p>


<p>Though based on the decades-old PIC language, Pikchr itself is a relatively
new system.  However it has already proven itself to be amazingly useful for
helping to illustrate concepts in technical documentation written using Markdown.</p>

<p>This document has provided an overview of how Pikchr works.  For more
details and other perspectives, see the following resources:</p>

<ul>
<li><a href="https://pikchr.org/home/uv/pic.pdf">The original Kernighan paper on PIC</a></li>
<li><a href="https://pikchr.org/home/uv/dpic-doc.pdf">DPIC documentation</a></li>
<li><a href="https://pikchr.org/home/uv/gpic.pdf">ESR&#39;s documentation on GnuPIC</a></li>
<li><a href="https://pikchr.org/home/doc/trunk/doc/grammar.md">Pikchr Language Spec</a></li>
<li><a href="https://pikchr.org/home/doc/trunk/doc/differences.md">Differences between PIC and Pikchr</a></li>
<li><a href="https://pikchr.org/home/doc/trunk/doc/purpose.md">The scope and purpose of Pikchr</a></li>
<li><a href="https://pikchr.org/home/doc/trunk/doc/teardown01.md">Step-by-step example of writing a Pikchr document</a></li>
</ul>

</div></div>
  </body>
</html>
