<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://n-e-r-v-o-u-s.com/blog/?p=9827">Original</a>
    <h1>The Flummoxagon</h1>
    
    <div id="readability-page-1" class="page"><div>
						
<figure><p>
<iframe title="How to Flummoxagon" src="https://player.vimeo.com/video/1124590990?dnt=1&amp;app_id=122963" width="500" height="281" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" referrerpolicy="strict-origin-when-cross-origin"></iframe>
</p></figure>



<p>We’re excited to announce <a href="https://n-e-r-v-o-u-s.com/shop/product.php?code=440">Flummoxagon</a>, a new geometric puzzle game that might just leave you flummoxed. Imagine a mash-up of Pentominoes and Sudoku. Your goal is to fit all the pieces into the hexagon frame but there’s a twist, pieces of the same color can’t touch.  </p>



<p>It’s a fiendishly fun mix of Tetris-style block packing and logic-based constraint solving. The game ships with 13 gameboards, featuring puzzles from beginner to advanced, and new boards are <a href="https://n-e-r-v-o-u-s.com/flummoxagon/">added weekly to our website</a>.</p>



<figure data-wp-context="{&#34;imageId&#34;:&#34;68eba04465186&#34;}" data-wp-interactive="core/image"><img decoding="async" width="825" height="549" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6092-2-825x549.jpg" alt="" srcset="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6092-2-825x549.jpg 825w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6092-2-412x274.jpg 412w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6092-2-768x511.jpg 768w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6092-2-850x565.jpg 850w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6092-2.jpg 1200w" sizes="(max-width: 825px) 100vw, 825px"/></figure>



<p>You can <strong>buy Flummoxagon now</strong> in<a href="https://n-e-r-v-o-u-s.com/shop/product.php?code=440"> our shop</a> for $45. For the first month, take <strong>20% off</strong> with the coupon code <strong>FLUMMOX</strong> (ends 10/31/2025).</p>



<h2>How do you play?</h2>



<p>Flummoxagon is made up of <strong>48 tiles</strong> representing every shape you can make by joining up to 5 hexagons. All the tiles fit into a hexagonal frame and they come in <strong>4 colors</strong>. There are 12 pieces of each color and 54 hexagons of each color (except green since there are an odd number of hexagons in the grid). The challenge is to place every piece into the frame <strong>without letting two tiles of the same color touch</strong>.  Now, there are hundreds of thousands of ways to do this; however, <strong>finding one on your own is nearly impossible</strong> (though let us know if you manage it!). </p>



<figure data-wp-context="{&#34;imageId&#34;:&#34;68eba044658f6&#34;}" data-wp-interactive="core/image"><img loading="lazy" decoding="async" width="825" height="369" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/instructionCard-825x369.png" alt="" srcset="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/instructionCard-825x369.png 825w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/instructionCard-412x184.png 412w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/instructionCard-768x343.png 768w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/instructionCard-1536x687.png 1536w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/instructionCard-850x380.png 850w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/instructionCard.png 2000w" sizes="auto, (max-width: 825px) 100vw, 825px"/></figure>



<p>Instead of an empty grid, to play the Flummoxagon, you start with a <strong>partially filled gameboard </strong>that only has one unique solution, just like a Sudoku. Each gameboard creates a challenging puzzle to solve. The puzzle ships with 13 of these gameboards of varying levels of difficulty, and we add <a href="https://n-e-r-v-o-u-s.com/flummoxagon/"><strong>new puzzles weekly</strong></a> on our website for endless challenges.</p>



<h2>How did we get here?</h2>



<p>Jules has been interested in these kinds of tiling patterns since before he worked at Nervous System. He built a solver for placing tiles on a grid which is a version of a problem called an “exact cover.” Instead of a puzzle, he used it to make patterns which he turned into cast vessels. When he started working here, he wanted to use it to make a puzzle, which he did for friends and family. The first version had no colors. There were two problems turning this into a product. First, it already exists. Other people have made polyhex puzzles before. Second, more interestingly, was the playability. It took him 20-30 minutes to solve the puzzle. Even though the puzzle has millions of solutions without colors, there’s not really much of a reason to find another one. That gave us the idea to add a coloring to the pieces. This gives you a way to meaningfully differentiate solutions. You could ignore colors, you could say all like colors need to touch, or (like the classic map coloring problem) that no two alike colors could touch. That gives you a reason to put it together multiple times.</p>



<figure>
<figure><img loading="lazy" decoding="async" width="825" height="825" data-id="9854" src="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6260-825x825.jpg" alt="" srcset="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6260-825x825.jpg 825w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6260-412x412.jpg 412w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6260-150x150.jpg 150w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6260-768x768.jpg 768w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6260-1536x1536.jpg 1536w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6260-2048x2048.jpg 2048w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6260-850x850.jpg 850w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6260-75x75.jpg 75w" sizes="auto, (max-width: 825px) 100vw, 825px"/><figcaption>one of Jules’ cast vessels</figcaption></figure>



<figure><img loading="lazy" decoding="async" width="825" height="825" data-id="9853" src="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6262-825x825.jpg" alt="" srcset="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6262-825x825.jpg 825w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6262-412x412.jpg 412w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6262-150x150.jpg 150w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6262-768x768.jpg 768w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6262-1536x1536.jpg 1536w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6262-2048x2048.jpg 2048w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6262-850x850.jpg 850w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/IMGP6262-75x75.jpg 75w" sizes="auto, (max-width: 825px) 100vw, 825px"/><figcaption>an un-colored polyhex puzzle prototype</figcaption></figure>
</figure>



<p>However, we quickly realized that even though there are still hundreds of thousands of solutions to the puzzle with the coloring rule, actually finding one as a human is extremely difficult. Maybe someone could do it, but it would take a lot of luck, a lot of time, or both. So it doesn’t add a lot of playability if one of the ways you can do it is essentially impossible (unless you’re a masochist). This led us to the insight that really makes this puzzle fun. What if instead of doing the full colored puzzle, we find partial sets of tiles where there is only one unique solution? This adds enough constraints to the problem that it becomes feasible. Now we’ve created something that’s more like Sudoku than a tiling puzzle. Each scenario presents a new set of constraints to solve. And we have near endless possibilities for designing new puzzle scenarios that range from easy to extremely difficult. We didn’t just make 1 new way of putting together the puzzle, we made a whole new family of puzzles.</p>



<p>This also justified having an automatic solver, which is what we were actually excited about in the first place. The original version of the puzzle didn’t really need the solver at all. Sure, you could find thousands of solutions, but to what end? Now the solver is an integral ingredient in the puzzle. Not only do we use it to generate scenarios, we also use it to grade the difficulty of them (without having to do every one ourselves).</p>



<h2>Technical Details</h2>



<p>The tiling solver is really the crux of this project. The method is from the famous computer scientist Donald Knuth and involves a clever representation of the problem to enable efficiently searching for solutions. Consider the problem of placing the polyhex tiles of size one through three onto the pictured grid.</p>


<div>
<figure><img loading="lazy" decoding="async" width="800" height="328" src="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules_diagram1.png" alt="" srcset="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules_diagram1.png 800w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules_diagram1-412x169.png 412w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules_diagram1-768x315.png 768w" sizes="auto, (max-width: 800px) 100vw, 800px"/></figure></div>


<p>In exact cover, there is a universe of elements and a collection of subsets of those elements. The problem is to choose some of those subsets so that each element in the universe is represented exactly once. In the case of tile placement, there is one element for each cell in the grid to be covered, and one element for each tile’s name. Every valid tile placement is represented by a corresponding subset of these elements. If we number the grid and tiles as shown, we could represent placing the single hex tile in the upper left hex of the grid as <strong>{5,12} </strong>or placing the straight three tile hex along the bottom of the grid as <strong>{7,8,9,14}</strong>. We could then represent all possible tile placements as an array with columns identified to the grid cells and tile names and with one row for every possible tile placement.</p>


<div>
<figure><img loading="lazy" decoding="async" width="825" height="739" src="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules_diagram2b-825x739.png" alt="" srcset="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules_diagram2b-825x739.png 825w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules_diagram2b-412x369.png 412w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules_diagram2b-768x688.png 768w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules_diagram2b-850x761.png 850w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules_diagram2b.png 1200w" sizes="auto, (max-width: 825px) 100vw, 825px"/></figure></div>


<p>The columns of the above array represent constraints that must be fulfilled in every tiling of the grid; each cell must be covered by a single tile and each tile must be placed into the grid exactly once. In order to represent the constraint that no two tiles of the same color may touch, you can introduce “optional columns” representing a color touching an edge in the grid. For each edge in the grid, four columns are added to our array, one for each color. These columns are not required to be covered at all, but are required not to be covered more than once, as that would represent two tiles of the same color touching. </p>



<figure data-wp-context="{&#34;imageId&#34;:&#34;68eba04466701&#34;}" data-wp-interactive="core/image"><img loading="lazy" decoding="async" width="825" height="660" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-5-825x660.png" alt="" srcset="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-5-825x660.png 825w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-5-412x329.png 412w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-5-768x614.png 768w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-5-850x680.png 850w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-5.png 1037w" sizes="auto, (max-width: 825px) 100vw, 825px"/></figure>



<p>Donald Knuth popularized a simple algorithm for solving this problem called <a href="https://en.wikipedia.org/wiki/Knuth%27s_Algorithm_X">Algorithm X</a>. Algorithm X is based on the observation that each column can be considered sequentially when searching for a solution. Choose a column to cover, then choose a row that covers that column. Then look along the row you chose and delete every other row that shares a column with that row, since those rows can’t be part of a solution with the row you already chose. </p>



<figure data-wp-context="{&#34;imageId&#34;:&#34;68eba04466d4f&#34;}" data-wp-interactive="core/image"><img loading="lazy" decoding="async" width="825" height="509" data-wp-class--hide="state.isContentHidden" data-wp-class--show="state.isContentVisible" data-wp-init="callbacks.setButtonStyles" data-wp-on-async--click="actions.showLightbox" data-wp-on-async--load="callbacks.setButtonStyles" data-wp-on-async-window--resize="callbacks.setButtonStyles" src="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules3-825x509.png" alt="" srcset="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules3-825x509.png 825w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules3-412x254.png 412w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules3-768x473.png 768w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules3-1536x947.png 1536w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules3-850x524.png 850w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/jules3.png 2000w" sizes="auto, (max-width: 825px) 100vw, 825px"/></figure>



<p>If the array has an empty column with no rows to fill it then you have to backtrack by adding all the rows you deleted in the last step back into the array and choosing another row. Then if there are no more rows to choose from in your chosen column you also need to backtrack. If all the columns are covered, then you have found a solution.  </p>



<p>The naïve approach of deleting and re-adding rows to an array has two problems: The first is that the arrays that show up in covering problems tend to be very sparse and so are expensive to store as solid blocks of zeroes and ones. The second is that repeatedly deleting and re-adding rows to an array is very time consuming.</p>



<p>Knuth introduced a technique called Dancing Links that makes this kind of search much more efficient. The idea hinges on the reversibility of deleting an element from a linked list. In a doubly linked list, each element points to its neighbors, and to travel along it either left or right you just follow the arrows from one element to the next. </p>


<div>
<figure><img loading="lazy" decoding="async" width="412" height="93" src="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-6-412x93.png" alt="" srcset="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-6-412x93.png 412w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-6-825x185.png 825w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-6-768x172.png 768w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-6-850x191.png 850w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-6.png 1051w" sizes="auto, (max-width: 412px) 100vw, 412px"/></figure></div>


<p>To delete <em>x</em> from the list, you need to make the neighbors of <em>x</em> point past <em>x</em> to each other. Importantly, this doesn’t change the things <em>x</em> itself is pointing to:</p>


<div>
<figure><img loading="lazy" decoding="async" width="412" height="105" src="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-7-412x105.png" alt="" srcset="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-7-412x105.png 412w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-7-825x210.png 825w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-7-768x196.png 768w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-7-850x216.png 850w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-7.png 1033w" sizes="auto, (max-width: 412px) 100vw, 412px"/></figure></div>


<p>R[L[<em>x</em>]] = R[<em>x</em>] and L[R[<em>x</em>]] = L[<em>x</em>]</p>



<p>To put <em>x</em> back into the list, you can just say that the things <em>x</em> is pointing to should point back to it:</p>


<div>
<figure><img loading="lazy" decoding="async" width="412" height="93" src="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-8-412x93.png" alt="" srcset="https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-8-412x93.png 412w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-8-825x185.png 825w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-8-768x172.png 768w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-8-850x191.png 850w, https://n-e-r-v-o-u-s.com/blog/wp-content/uploads/2025/10/image-8.png 1051w" sizes="auto, (max-width: 412px) 100vw, 412px"/></figure></div>


<p>R[L[<em>x</em>]] = <em>x</em> and L[R[<em>x</em>]] = <em>x</em></p>



<p>You can use this idea to represent the array as a linked structure where every element points to its four neighbors in row and column, and rather than erasing rows from the array you can “cover” and “uncover” them using these operations. This representation is much smaller in memory, and it avoids the problem of clearing and reallocating memory, making it much faster.</p>




											</div></div>
  </body>
</html>
