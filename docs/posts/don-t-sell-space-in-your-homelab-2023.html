<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://grumpy.systems/2023/please-dont-sell-space-in-your-homelab/">Original</a>
    <h1>Don&#39;t sell space in your homelab (2023)</h1>
    
    <div id="readability-page-1" class="page"><div><p>Hanging out in subreddits like <a href="https://reddit.com/r/homelab/">/r/homelab</a>,
<a href="https://reddit.com/r/servers">/r/servers</a>, and
<a href="https://reddit.com/r/datahoarder">/r/datahoarder</a>, I see this question asked
too many times:</p><blockquote>I have extra space in my home server, how can I sell this for other people to
use?</blockquote><p>My answer (and a lot of other people’s answer): <strong>don’t</strong>.</p><h2 id="were-really-not-trying-to-ruin-your-dreams">We’re Really Not Trying To Ruin Your Dreams</h2><p>If you come across this post, or if this was sent to you, know that we aren’t
doing this for the sole purpose of ruining your day. We tell you this because
playing with other people’s services and money introduces a host of potential
issues, stuff that a lot of people aren’t able to solve on their own.</p><p>Personally, I work for a medium sized hosting company in their support
department, so I see the challenges we have to solve every day. Challenges that
you <em>have to</em> solve for your idea to work and not open you up to a ton of legal
risk.</p><p>I promise I’m not trying to gatekeep, but if you have to ask for basic help in a
forum, you won’t be able to solve these challenges.</p><h2 id="why-its-a-bad-idea">Why It’s A Bad Idea</h2><p>When you go down this road, you have a ton of challenges you have to solve. If
you play with other people’s data and money, you’re going to have to solve
nearly all of these problems.</p><h3 id="before-you-even-start">Before You Even Start</h3><ul><li><strong>You’ll need hardware</strong> - “But I already have <em>a</em> server!” you yell into your
screen. No, you’ll need more. If you have your customers on one server and
it fails, what now? Do your customers just sit offline for a week while you
build a new server?</li><li><strong>You’ll need better internet</strong> - Your residential ISP isn’t going to be OK
with you doing this. You’ll need a business class connection at a minimum and
preferably one with lots of bandwidth. Also, what’s your plan if this fails
for a few days?</li><li><strong>You’ll need public IPs</strong> - You need to be in possession of a public IP for
all your customers, because hosting customers aren’t happy with CG-NAT. ISPs
will sell these to you, but at a cost.</li><li><strong>You’ll need a better location</strong> - Your basement isn’t a very good
datacenter. Business want their stuff in places with redundant power, backup
generators, higher priority on the power grid during outages, redundant fiber
into the building, fire suppression, tight physical security, etc.</li><li><strong>You’ll need legal protection</strong> - We’ll dig into this more, but depending on
what your customers do there may be legal risk for you.</li><li><strong>You’ll need a way to bill people</strong> - If you collect money, you’ll need tax
registrations, business filings with your locality, bank accounts to collect
fees, invoicing and billing software, etc. All very much in the realm of
possible but more chores for just a few dollars per month.</li><li><strong>You’ll need to figure out how much to charge</strong> - The services you’re
competing with have this down to a science and can be quite cheap. If you go
against them, you’ll need to understand how much <em>you</em> need to charge to break
even and understand what your customers would be willing to pay for what
you’re offering.</li><li><strong>You’ll need remote access</strong> - If you sell someone a VPS, they will need to
install an operating system, reboot it, and manage certain things offsite.
Sure, you can do this for all your customers by hand, but this won’t scale
past a few customers. You’ll need a way for them to log in and manage or
troubleshoot things.</li><li><strong>You’ll need good insurance</strong> - And probably a good lawyer. You’re running a
business now so you need to ensure that you’re protecting yourself and your
personal assets in case things go very wrong.</li></ul><h3 id="scary-stuff">Scary Stuff</h3><p>Those legal protections I mention? Not optional.</p><p>Depending on the law, people doing these things might cause your ISP to drop
your connection or (worse) land you in legal trouble. You need to have plans on
how to mitigate these issues (if you can), and have appropriate legal experts
make sure you aren’t opening yourself up for prosecution.</p><p>Also, this is just stuff <em>I’ve seen</em> at my job.</p><ul><li><strong>People launching DDoS Attacks</strong> - You have a cheap server with a cheap
internet connection, why not use it for some help in a DDoS Attack?</li><li><strong>Torrents or pirating</strong> - A seedbox would be a nice addition to your homelab
after all.</li><li><strong>Proxies for other things</strong> - Customers might use your IP to proxy all sorts
of weird and nasty traffic. This lands you in hot water with sites that track
down your IP.</li><li><strong>Crypto</strong> - Sure, you might have 20 NFT’s of weird looking primates, but are
you accounting for all your customers using all their allocated CPU all the
time? If you over provision to make more money, this will impact all your
other customers.</li><li><strong>Very Illegal Things</strong> - Things that require trigger warnings and obviously
violate a ton of laws. If you don’t have the right boxes ticked, legally
speaking, this can land you in prison.</li></ul><p>Let’s not mention the fun privacy laws too! Do your customers host any data for
people in the EU, Canada, or California? Process any payments on their site?
Congratulations! You now get to comply with all these laws that also come with
fines!</p><ul><li><strong>GDPR</strong> - Company <em>ending</em> fines if you screw this one up.</li><li><strong>CCPA</strong> - California privacy laws.</li><li><strong>PIPEDA and CPPA</strong> - For our friends up North</li><li><strong>PCI</strong> - Security related to payment cards.</li></ul><p>These also come with some added benefits like mandated controls in your new
company, mandated reported, third-party audits, etc.</p><p>One thing to keep in mind too is seizure. If your customer is doing illegal
things and attracts the attention of any three-letter government agencies,
they’ll come take your server (and probably other things). Feds have raided
datacenters and taken servers used in things like botnets, and they probably
don’t care too much that your other customers share hardware.</p><h3 id="now-that-youre-running">Now That You’re Running</h3><p>So you’ve passed the first gauntlet and set up your service. Neat! Now let’s
run a successful hosting operations:</p><ul><li><strong>You need support</strong> - Sure, this may be just you, but you need someone
dedicated during the work day to help customers in case they have problems.</li><li><strong>Your customers will blame you for everything</strong> - Speaking from experience,
hosting customers tend to like to blame the hosting provider. Be ready to
deal with people pointing fingers at everything but their bad code.</li><li><strong>Backups and disaster recovery</strong> - What happens if one drive fails? Or all
of them? Do you have backups you can restore quickly? What about fires or
floods? Ransomware?</li><li><strong>On-Call</strong> - If you have customers that expect certain uptime levels, being
down overnight because you’re asleep isn’t an option. You’ll need to be
available or have someone be available to help them.</li><li><strong>Hardware Upgrades</strong> - Customers might not want to run their apps on a 10
year old processor. Do you have money set aside to upgrade things?</li><li><strong>Uptime and Reliability</strong> - Your customers likely expect a high level of
service, so you need to work to maintain that level of trust. Business
customers especially don’t like wasting money, or even feeling like they’re
wasting money.</li></ul><h2 id="oh-and-security">Oh, and Security</h2><p>This deserves it’s own section because I cannot downplay how crucial this is
going to be. Customers are <strong>going</strong> to run unpatched and insecure apps on your
servers and a few of them are probably going to get hacked. It happens,
literally, every day.</p><h3 id="isolation">Isolation</h3><p>The first thing is isolation. Not only do you need to keep this all isolated
from the rest of your house, you need to keep your customers isolated from each
other. Customers are going to run unpatched and vulnerable software and get
hacked, so it’s crucial that one customer doesn’t have the ability to compromise
the entire virtual host or other machines.</p><p>You also have to be very aware of the speculative execution issues lots of
processors recently had, because those have a very real and direct effect on
setups like this. Those problems can leak customer data between their VMs.</p><p>Also, containers are likely out of the question. If you give your customers
root (which you probably will if you host things as a VPS), it’s possible to
break out of a container and move into the host system. It’s not something that
is trivial, but configuration problems can make it a pretty low hurdle.</p><h3 id="patches-and-0-days">Patches and 0-Days</h3><p>Keeping your setup updates is now mandatory. Every piece needs to always be up
to date, because a small foothold is all it takes for someone to gain entry.</p><p>Your customers are also going to hound you for every CVE that hits the news,
even if you aren’t affected. You’ll need to review them and either update
things quickly or let them know you aren’t vulnerable.</p><p>If you <em>are</em> vulnerable and something gets compromised, hopefully the isolation
you setup keeps it contained to a single customer. If, say, you get your entire
host hit with a crypto locker and no backups, that’s the end of your journey.</p><h3 id="customer-data">Customer Data</h3><p>You also now have data for your customers and your customers’ customers in your
equipment. Encryption at rest is mandatory, at a minimum.</p><p>This is also where those fun privacy laws kick in, because <em>you</em> may be on the
hook for damages caused by lost or stolen customer data.</p><h2 id="wrapping-up">Wrapping Up</h2><p>Please don’t sell space in your home server.</p><p>Some arguments can be made that by setting low expectations or hosting stuff
like game servers you can work around these issues, but the <em>vast</em> majority of
them still remain. Things like security need consideration regardless of what
you host.</p><p>If you’re set on using up extra CPU cycles, here are some options:</p><ul><li><strong>Host more of your stuff</strong> - Maybe you do need that extra media server or a seedbox.</li><li><strong>Host stuff for friends</strong> - Friends are different because you probably trust
them. A lot of the issues of customers taking advantage of you are mitigated
by being friends.</li><li><strong>Donate CPU cycles</strong> - Projects like <a href="https://boinc.berkeley.edu/">BOINC</a> and
<a href="https://foldingathome.org">Folding@Home</a> let you run workloads for academic
research that can help other people too.</li><li><strong>Downsize</strong> - I know it’s hard to talk about, but if your quad CPU, 2TB RAM
monster can’t run because it’s too expensive and you need the money, get
something smaller that’s better suited for your workloads.</li></ul></div></div>
  </body>
</html>
