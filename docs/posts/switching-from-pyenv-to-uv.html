<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html">Original</a>
    <h1>Switching from Pyenv to Uv</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="articleBody text">
    <section id="premise"><h2>Premise</h2>
<p>The <a href="https://astral.sh/blog/uv-unified-python-packaging">0.4.0 release of uv</a>
does everything I currently do with pip, pyenv, pipx, pip-tools, and
pipdeptree. Because of that, I&#39;m in the process of switching to uv.</p>
<p>This blog post covers switching from pyenv to uv.</p>
</section><section id="history"><h2>History</h2>
<ul>
<li><p>2024-08-29: Initial writing.</p></li>
<li><p>2024-09-12: Minor updates and publishing.</p></li>
<li><p>2024-09-20: Rename uv-sync (which is confusing) to uv-python-symlink.</p></li>
</ul></section><section id="start-state"><h2>Start state</h2>
<p>I&#39;m running Ubuntu Linux 24.04. I have pyenv installed using the
<a href="https://github.com/pyenv/pyenv?tab=readme-ov-file#automatic-installer">the automatic installer</a>.
pyenv is located in <code><span>$HOME/.pyenv/bin/</span></code>.</p>
<p>I have the following Pythons installed with pyenv:</p>
<div><pre><a id="rest_code_3925ec662c4746c2a657fa11f458ae94-1" name="rest_code_3925ec662c4746c2a657fa11f458ae94-1" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_3925ec662c4746c2a657fa11f458ae94-1"></a>$<span> </span>pyenv<span> </span>versions
<a id="rest_code_3925ec662c4746c2a657fa11f458ae94-2" name="rest_code_3925ec662c4746c2a657fa11f458ae94-2" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_3925ec662c4746c2a657fa11f458ae94-2"></a><span>  </span>system
<a id="rest_code_3925ec662c4746c2a657fa11f458ae94-3" name="rest_code_3925ec662c4746c2a657fa11f458ae94-3" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_3925ec662c4746c2a657fa11f458ae94-3"></a><span>  </span><span>3</span>.7.17
<a id="rest_code_3925ec662c4746c2a657fa11f458ae94-4" name="rest_code_3925ec662c4746c2a657fa11f458ae94-4" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_3925ec662c4746c2a657fa11f458ae94-4"></a><span>  </span><span>3</span>.8.19
<a id="rest_code_3925ec662c4746c2a657fa11f458ae94-5" name="rest_code_3925ec662c4746c2a657fa11f458ae94-5" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_3925ec662c4746c2a657fa11f458ae94-5"></a><span>  </span><span>3</span>.9.19
<a id="rest_code_3925ec662c4746c2a657fa11f458ae94-6" name="rest_code_3925ec662c4746c2a657fa11f458ae94-6" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_3925ec662c4746c2a657fa11f458ae94-6"></a>*<span> </span><span>3</span>.10.14<span> </span><span>(</span><span>set</span><span> </span>by<span> </span>/home/willkg/mozilla/everett/.python-version<span>)</span>
<a id="rest_code_3925ec662c4746c2a657fa11f458ae94-7" name="rest_code_3925ec662c4746c2a657fa11f458ae94-7" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_3925ec662c4746c2a657fa11f458ae94-7"></a><span>  </span><span>3</span>.11.9
<a id="rest_code_3925ec662c4746c2a657fa11f458ae94-8" name="rest_code_3925ec662c4746c2a657fa11f458ae94-8" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_3925ec662c4746c2a657fa11f458ae94-8"></a><span>  </span><span>3</span>.12.3
</pre></div>
<p>I&#39;m not sure why I have 3.7 still installed. I don&#39;t think I use that for
anything.</p>
<p>My default version is 3.10.14 for some reason. I&#39;m not sure why I haven&#39;t
updated that to 3.12, yet.</p>
<p>In my 3.10.14, I have the following Python packages installed:</p>
<div><pre><a id="rest_code_8a45ba257f464c43b37c570e3003eb76-1" name="rest_code_8a45ba257f464c43b37c570e3003eb76-1" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-1"></a>$<span> </span>pip<span> </span>freeze
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-2" name="rest_code_8a45ba257f464c43b37c570e3003eb76-2" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-2"></a><span>appdirs</span><span>==</span><span>1</span>.4.4
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-3" name="rest_code_8a45ba257f464c43b37c570e3003eb76-3" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-3"></a><span>argcomplete</span><span>==</span><span>3</span>.1.1
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-4" name="rest_code_8a45ba257f464c43b37c570e3003eb76-4" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-4"></a><span>attrs</span><span>==</span><span>22</span>.2.0
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-5" name="rest_code_8a45ba257f464c43b37c570e3003eb76-5" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-5"></a><span>cffi</span><span>==</span><span>1</span>.15.1
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-6" name="rest_code_8a45ba257f464c43b37c570e3003eb76-6" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-6"></a><span>click</span><span>==</span><span>8</span>.1.3
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-7" name="rest_code_8a45ba257f464c43b37c570e3003eb76-7" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-7"></a><span>colorama</span><span>==</span><span>0</span>.4.6
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-8" name="rest_code_8a45ba257f464c43b37c570e3003eb76-8" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-8"></a><span>diskcache</span><span>==</span><span>5</span>.4.0
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-9" name="rest_code_8a45ba257f464c43b37c570e3003eb76-9" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-9"></a><span>distlib</span><span>==</span><span>0</span>.3.8
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-10" name="rest_code_8a45ba257f464c43b37c570e3003eb76-10" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-10"></a><span>distro</span><span>==</span><span>1</span>.8.0
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-11" name="rest_code_8a45ba257f464c43b37c570e3003eb76-11" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-11"></a><span>filelock</span><span>==</span><span>3</span>.14.0
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-12" name="rest_code_8a45ba257f464c43b37c570e3003eb76-12" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-12"></a>glean-parser<span>==</span><span>6</span>.1.1
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-13" name="rest_code_8a45ba257f464c43b37c570e3003eb76-13" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-13"></a>glean-sdk<span>==</span><span>50</span>.1.4
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-14" name="rest_code_8a45ba257f464c43b37c570e3003eb76-14" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-14"></a><span>Jinja2</span><span>==</span><span>3</span>.1.2
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-15" name="rest_code_8a45ba257f464c43b37c570e3003eb76-15" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-15"></a><span>jsonschema</span><span>==</span><span>4</span>.17.3
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-16" name="rest_code_8a45ba257f464c43b37c570e3003eb76-16" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-16"></a><span>MarkupSafe</span><span>==</span><span>2</span>.0.1
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-17" name="rest_code_8a45ba257f464c43b37c570e3003eb76-17" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-17"></a><span>MozPhab</span><span>==</span><span>1</span>.5.1
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-18" name="rest_code_8a45ba257f464c43b37c570e3003eb76-18" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-18"></a><span>packaging</span><span>==</span><span>24</span>.0
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-19" name="rest_code_8a45ba257f464c43b37c570e3003eb76-19" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-19"></a><span>pathspec</span><span>==</span><span>0</span>.11.0
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-20" name="rest_code_8a45ba257f464c43b37c570e3003eb76-20" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-20"></a><span>pbr</span><span>==</span><span>6</span>.0.0
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-21" name="rest_code_8a45ba257f464c43b37c570e3003eb76-21" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-21"></a><span>pipx</span><span>==</span><span>1</span>.5.0
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-22" name="rest_code_8a45ba257f464c43b37c570e3003eb76-22" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-22"></a><span>platformdirs</span><span>==</span><span>4</span>.2.1
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-23" name="rest_code_8a45ba257f464c43b37c570e3003eb76-23" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-23"></a><span>pycparser</span><span>==</span><span>2</span>.21
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-24" name="rest_code_8a45ba257f464c43b37c570e3003eb76-24" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-24"></a><span>pyrsistent</span><span>==</span><span>0</span>.19.3
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-25" name="rest_code_8a45ba257f464c43b37c570e3003eb76-25" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-25"></a>python-hglib<span>==</span><span>2</span>.6.2
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-26" name="rest_code_8a45ba257f464c43b37c570e3003eb76-26" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-26"></a><span>PyYAML</span><span>==</span><span>6</span>.0
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-27" name="rest_code_8a45ba257f464c43b37c570e3003eb76-27" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-27"></a>sentry-sdk<span>==</span><span>1</span>.16.0
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-28" name="rest_code_8a45ba257f464c43b37c570e3003eb76-28" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-28"></a><span>stevedore</span><span>==</span><span>5</span>.2.0
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-29" name="rest_code_8a45ba257f464c43b37c570e3003eb76-29" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-29"></a><span>tomli</span><span>==</span><span>2</span>.0.1
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-30" name="rest_code_8a45ba257f464c43b37c570e3003eb76-30" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-30"></a><span>userpath</span><span>==</span><span>1</span>.8.0
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-31" name="rest_code_8a45ba257f464c43b37c570e3003eb76-31" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-31"></a><span>virtualenv</span><span>==</span><span>20</span>.26.2
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-32" name="rest_code_8a45ba257f464c43b37c570e3003eb76-32" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-32"></a>virtualenv-clone<span>==</span><span>0</span>.5.7
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-33" name="rest_code_8a45ba257f464c43b37c570e3003eb76-33" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-33"></a><span>virtualenvwrapper</span><span>==</span><span>6</span>.1.0
<a id="rest_code_8a45ba257f464c43b37c570e3003eb76-34" name="rest_code_8a45ba257f464c43b37c570e3003eb76-34" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_8a45ba257f464c43b37c570e3003eb76-34"></a><span>yamllint</span><span>==</span><span>1</span>.29.0
</pre></div>
<p>That probably means I installed the following in the Python 3.10.14 Python
environment:</p>
<ul>
<li><p>MozPhab</p></li>
<li><p>pipx</p></li>
<li><p>virtualenvwrapper</p></li>
</ul>
<p>Maybe I installed some other things for some reason lost in the sands of time.</p>
<p>Then I had a whole bunch of things installed with pipx.</p>
<p>I have many open source projects all of which have a <code><span>.python-version</span></code> file
listing the Python versions the project uses.</p>
<p>I think that covers the start state.</p>
</section><section id="steps"><h2>Steps</h2>
<p>First, I made a list of things I had.</p>
<ul>
<li>
<p>I listed all the versions of Python I have installed so I know what I need
to reinstall with uv.</p>

</li>
<li>
<p>I listed all the packages I have installed in my 3.10.14 environment (the
default one).</p>

</li>
<li>
<p>I listed all the packages I installed with pipx.</p>

</li>
</ul>
<p>I uninstalled all the packages I installed with pipx.</p>

<p>Then I uninstalled pyenv and everything it uses. I followed the
<a href="https://github.com/pyenv/pyenv?tab=readme-ov-file#uninstalling-pyenv">pyenv uninstall instructions</a>:</p>

<p>Then I removed the bits in my shell that add to the <code>PATH</code> and set up pyenv
and virtualenvwrapper.</p>
<p>Then I started a new shell that didn&#39;t have all the pyenv and virtualenvwrapper
stuff in it.</p>
<p>Then I installed uv using the
<a href="https://docs.astral.sh/uv/getting-started/installation/#standalone-installer">uv standalone installer</a>.</p>
<p>Then I ran <code>uv <span>--version</span></code> to make sure it was installed.</p>
<p>Then I
<a href="https://docs.astral.sh/uv/getting-started/installation/#shell-autocompletion">installed the shell autocompletion</a>.</p>
<div><pre><a id="rest_code_1963e014717b46a18690284624283941-1" name="rest_code_1963e014717b46a18690284624283941-1" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_1963e014717b46a18690284624283941-1"></a>$<span> </span><span>echo</span><span> </span><span>&#39;eval &#34;$(uv generate-shell-completion bash)&#34;&#39;</span><span> </span>&gt;&gt;<span> </span>~/dotfiles/bash.d/20-uv.bash
</pre></div>
<p>Then I started a new shell to pick up those changes.</p>
<p>Then I installed Python versions:</p>
<div><pre><a id="rest_code_b5a4077f83a04119b442d3a97121a561-1" name="rest_code_b5a4077f83a04119b442d3a97121a561-1" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_b5a4077f83a04119b442d3a97121a561-1"></a>$<span> </span>uv<span> </span>python<span> </span>install<span> </span><span>3</span>.8<span> </span><span>3</span>.9<span> </span><span>3</span>.10<span> </span><span>3</span>.11<span> </span><span>3</span>.12
<a id="rest_code_b5a4077f83a04119b442d3a97121a561-2" name="rest_code_b5a4077f83a04119b442d3a97121a561-2" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_b5a4077f83a04119b442d3a97121a561-2"></a>Searching<span> </span><span>for</span><span> </span>Python<span> </span>versions<span> </span>matching:<span> </span>Python<span> </span><span>3</span>.10
<a id="rest_code_b5a4077f83a04119b442d3a97121a561-3" name="rest_code_b5a4077f83a04119b442d3a97121a561-3" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_b5a4077f83a04119b442d3a97121a561-3"></a>Searching<span> </span><span>for</span><span> </span>Python<span> </span>versions<span> </span>matching:<span> </span>Python<span> </span><span>3</span>.11
<a id="rest_code_b5a4077f83a04119b442d3a97121a561-4" name="rest_code_b5a4077f83a04119b442d3a97121a561-4" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_b5a4077f83a04119b442d3a97121a561-4"></a>Searching<span> </span><span>for</span><span> </span>Python<span> </span>versions<span> </span>matching:<span> </span>Python<span> </span><span>3</span>.12
<a id="rest_code_b5a4077f83a04119b442d3a97121a561-5" name="rest_code_b5a4077f83a04119b442d3a97121a561-5" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_b5a4077f83a04119b442d3a97121a561-5"></a>Searching<span> </span><span>for</span><span> </span>Python<span> </span>versions<span> </span>matching:<span> </span>Python<span> </span><span>3</span>.8
<a id="rest_code_b5a4077f83a04119b442d3a97121a561-6" name="rest_code_b5a4077f83a04119b442d3a97121a561-6" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_b5a4077f83a04119b442d3a97121a561-6"></a>Searching<span> </span><span>for</span><span> </span>Python<span> </span>versions<span> </span>matching:<span> </span>Python<span> </span><span>3</span>.9
<a id="rest_code_b5a4077f83a04119b442d3a97121a561-7" name="rest_code_b5a4077f83a04119b442d3a97121a561-7" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_b5a4077f83a04119b442d3a97121a561-7"></a>Installed<span> </span><span>5</span><span> </span>versions<span> </span><span>in</span><span> </span><span>8</span>.14s
<a id="rest_code_b5a4077f83a04119b442d3a97121a561-8" name="rest_code_b5a4077f83a04119b442d3a97121a561-8" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_b5a4077f83a04119b442d3a97121a561-8"></a><span> </span>+<span> </span>cpython-3.8.19-linux-x86_64-gnu
<a id="rest_code_b5a4077f83a04119b442d3a97121a561-9" name="rest_code_b5a4077f83a04119b442d3a97121a561-9" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_b5a4077f83a04119b442d3a97121a561-9"></a><span> </span>+<span> </span>cpython-3.9.19-linux-x86_64-gnu
<a id="rest_code_b5a4077f83a04119b442d3a97121a561-10" name="rest_code_b5a4077f83a04119b442d3a97121a561-10" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_b5a4077f83a04119b442d3a97121a561-10"></a><span> </span>+<span> </span>cpython-3.10.14-linux-x86_64-gnu
<a id="rest_code_b5a4077f83a04119b442d3a97121a561-11" name="rest_code_b5a4077f83a04119b442d3a97121a561-11" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_b5a4077f83a04119b442d3a97121a561-11"></a><span> </span>+<span> </span>cpython-3.11.9-linux-x86_64-gnu
<a id="rest_code_b5a4077f83a04119b442d3a97121a561-12" name="rest_code_b5a4077f83a04119b442d3a97121a561-12" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_b5a4077f83a04119b442d3a97121a561-12"></a><span> </span>+<span> </span>cpython-3.12.5-linux-x86_64-gnu
</pre></div>
<p>When I type &#34;python&#34;, I want it to be a Python managed by uv. Also, I like
having &#34;pythonX.Y&#34; symlinks, so I created a <code><span>uv-python-symlink-sync</span></code> script
which creates symlinks to uv-managed Python versions:</p>
<p><a href="https://github.com/willkg/dotfiles/blob/main/dotfiles/bin/uv-python-symlink">https://github.com/willkg/dotfiles/blob/main/dotfiles/bin/uv-python-symlink</a></p>
<p>Then I installed all my tools using <code>uv tool install</code>.</p>
<div><pre><a id="rest_code_9fbe55d11628459c801f165d217af5fd-1" name="rest_code_9fbe55d11628459c801f165d217af5fd-1" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_9fbe55d11628459c801f165d217af5fd-1"></a>$<span> </span>uv<span> </span>tool<span> </span>install<span> </span>PACKAGE
</pre></div>
<p>For <code>tox</code>, I had to install the <code><span>tox-uv</span></code> package in the <code>tox</code>
environment:</p>
<div><pre><a id="rest_code_d84ddabe28c74f8dbac40c81a42f97b4-1" name="rest_code_d84ddabe28c74f8dbac40c81a42f97b4-1" href="https://bluesock.org/~willkg/blog/dev/switch_pyenv_to_uv.html#rest_code_d84ddabe28c74f8dbac40c81a42f97b4-1"></a>$<span> </span>uv<span> </span>tool<span> </span>install<span> </span>--with<span> </span>tox-uv<span> </span>tox
</pre></div>
<p>Now I&#39;ve got everything I do mostly working.</p>
</section><section id="so-what-does-that-give-me"><h2>So what does that give me?</h2>
<p>I installed uv and I can upgrade uv using <code>uv self update</code>.</p>
<p>Python interpreters are managed using <code>uv python</code>. I can create symlinks to
interpreters using <code><span>uv-sync</span></code> script. Adding new interpreters and removing old
ones is pretty straight-forward.</p>
<p>When I type <code>python</code>, it opens up a Python shell with the latest uv-managed
Python version. I can type <code>pythonX.Y</code> and get specific shells.</p>
<p>I can use tools written in Python and manage them with <code>uv tool</code> including
ones where I want to install them in an &#34;editable&#34; mode.</p>
<p>I can write scripts that require dependencies and it&#39;s a lot easier to run them
now.</p>
<p>I can create and manage virtual environments with <code>uv venv</code>.</p>
</section><section id="next-steps"><h2>Next steps</h2>
<p>Delete all the <code><span>.python-version</span></code> files I&#39;ve got.</p>
<p>Update documentation for my projects and add a <code>uv tool install PACKAGE</code>
option to installation instructions.</p>
<p>Probably discover some additional things to add to this doc.</p>
</section><section id="thanks"><h2>Thanks</h2>
<p>Thank you to the Astral crew who wrote uv.</p>
<p>Thank you to Rob Hudson who goaded me into posting this finally rather than sit
on it another month.</p>
</section>
</div></div>
  </body>
</html>
