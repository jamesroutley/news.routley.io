<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/nbarkhina/N64Wasm">Original</a>
    <h1>N64 WASM</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p dir="auto">Thanks for checking out N64 Wasm! An N64 emulator that runs in the browser. It is a port of the excellent RetroArch ParaLLEl Core to WebAssembly. This project started because I wanted to have a well playing open-source N64 emulator designed for the web. I also wanted to learn OpenGL and this was a good way to dive in. Game compatibility is decent with a good portion of the 3D games playable and at full speed on a mid-range computer - Mario 64, Ocarina of Time etc... There is currently an issue with some 2D games such as Dr Mario 64 and Pokemon Puzzle League which I am still investigating. I also tested on the iPhone 13 Pro and Xbox Series X Browser and it works great.</p>
<p dir="auto">Supports the following features -</p>
<ul dir="auto">
<li>Gamepad Support (Xbox and PS4 Controller tested)</li>
<li>Button and Keyboard Remapping</li>
<li>Save States
<ul dir="auto">
<li>They save in your browser so you can close and come back later</li>
</ul>
</li>
<li>Import/Export Save Files (see settings.js)</li>
<li>Zoom Controls</li>
<li>Full Screen</li>
<li>Audio Support</li>
<li>Cloud Save States (Host your own server)</li>
</ul>
<p dir="auto">You can try it here: <a href="https://www.neilb.net/n64wasm/" rel="nofollow">https://www.neilb.net/n64wasm/</a></p>

<p dir="auto">I used WSL on Windows but any Linux environment would work as well. First Install Emscripten version 2.0.7</p>
<ul dir="auto">
<li>create a folder somewhere in your environment to install emscripten</li>
<li>git clone <a href="https://github.com/emscripten-core/emsdk.git">https://github.com/emscripten-core/emsdk.git</a></li>
<li>cd emsdk</li>
<li>./emsdk install 2.0.7</li>
<li>./emsdk activate 2.0.7</li>
<li>source ./emsdk_env.sh</li>
<li>navigate back to the code folder in the N64Wasm repo</li>
<li>run <code>make</code></li>
<li>then copy these 3 files from the code\ folder into the dist\ folder
<ul dir="auto">
<li>n64wasm.data</li>
<li>n64wasm.js</li>
<li>n64wasm.wasm</li>
</ul>
</li>
</ul>

<p dir="auto">This emulator supports hosting the app yourself with your own rom list. Create a folder called <code>roms</code> in the dist\ folder and copy them there. Then go into <code>romlist.js</code> and uncomment the code and populate the paths and names of your roms.</p>
<div data-snippet-clipboard-copy-content="
var ROMLIST = [
    {url:&#34;roms/rom1.z64&#34;,title:&#34;Game 1&#34;},
    {url:&#34;roms/rom2.v64&#34;,title:&#34;Game 2&#34;},
    {url:&#34;roms/rom3.v64&#34;,title:&#34;Game 3&#34;},
];
"><pre><span>var</span> <span>ROMLIST</span> <span>=</span> <span>[</span>
    <span>{</span><span>url</span>:<span>&#34;roms/rom1.z64&#34;</span><span>,</span><span>title</span>:<span>&#34;Game 1&#34;</span><span>}</span><span>,</span>
    <span>{</span><span>url</span>:<span>&#34;roms/rom2.v64&#34;</span><span>,</span><span>title</span>:<span>&#34;Game 2&#34;</span><span>}</span><span>,</span>
    <span>{</span><span>url</span>:<span>&#34;roms/rom3.v64&#34;</span><span>,</span><span>title</span>:<span>&#34;Game 3&#34;</span><span>}</span><span>,</span>
<span>]</span><span>;</span></pre></div>
<p dir="auto">This will then display a dropdown on the UI to select a game</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nbarkhina/N64Wasm/blob/master/screenshots/romlist.PNG"><img src="https://github.com/nbarkhina/N64Wasm/raw/master/screenshots/romlist.PNG" alt="romlist"/></a></p>
<p dir="auto">You can also enable Cloud Save States with some additional configuration. See this <a href="https://github.com/nbarkhina/N64Wasm/blob/master/server/README.md">README</a> for information on how to set that up.</p>

<p dir="auto">If you want to actually do debugging you will want to get the Windows version working on your machine. Debugging in WebAssembly is practically non-existant other than logging print statements. I did all of my debugging and testing using the Windows version with Visual Studio 2019 and then would compile the web version with Emscripten. Make sure you are on a computer that has a graphics card which supports OpenGL.</p>
<ul dir="auto">
<li>To get it up and running open up the N64_Wasm.vcxproj file in notepad and update the paths
<ul dir="auto">
<li>update all the paths for the includes and libraries to where these are on your machine</li>
<li>the ones referencing the code folders should be where your source code is</li>
<li>now you can open up N64_Wasm.vcxproj using Visual Studio 2019</li>
</ul>
</li>
<li>Get the Libraries and headers for the following
<ul dir="auto">
<li>the actual versions could vary but these were the ones I used</li>
<li>SDL2 - version 2.0.14</li>
<li>SDL2 Image - version 2.0.5</li>
<li>SDL2 TTF - version 2.0.15</li>
<li>GLEW - version 2.2.0</li>
</ul>
</li>
<li>Copy a rom to your working directory
<ul dir="auto">
<li>and replace the name of that rom in mymain.cpp</li>
<li><code>sprintf(rom_name, &#34;%s&#34;, &#34;game.z64&#34;);</code></li>
</ul>
</li>
<li>Note - running in Release mode runs much faster than in Debug though you won&#39;t be able to set breakpoints</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nbarkhina/N64Wasm/blob/master/screenshots/pcversion.png"><img src="https://github.com/nbarkhina/N64Wasm/raw/master/screenshots/pcversion.png" alt="pcversion"/></a></p>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nbarkhina/N64Wasm/blob/master/screenshots/screenshot1.PNG"><img src="https://github.com/nbarkhina/N64Wasm/raw/master/screenshots/screenshot1.PNG" alt="screenshot"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/nbarkhina/N64Wasm/blob/master/screenshots/screenshot2.PNG"><img src="https://github.com/nbarkhina/N64Wasm/raw/master/screenshots/screenshot2.PNG" alt="screenshot"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/nbarkhina/N64Wasm/blob/master/screenshots/screenshot3.PNG"><img src="https://github.com/nbarkhina/N64Wasm/raw/master/screenshots/screenshot3.PNG" alt="screenshot"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/nbarkhina/N64Wasm/blob/master/screenshots/screenshot4.PNG"><img src="https://github.com/nbarkhina/N64Wasm/raw/master/screenshots/screenshot4.PNG" alt="screenshot"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/nbarkhina/N64Wasm/blob/master/screenshots/screenshot5.PNG"><img src="https://github.com/nbarkhina/N64Wasm/raw/master/screenshots/screenshot5.PNG" alt="screenshot"/></a></p>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nbarkhina/N64Wasm/blob/master/screenshots/iphone.jpg"><img src="https://github.com/nbarkhina/N64Wasm/raw/master/screenshots/iphone.jpg" alt="screenshot"/></a></p>

<ul dir="auto">
<li>ParaLLEl N64 Core <a href="https://github.com/libretro/parallel-n64">https://github.com/libretro/parallel-n64</a></li>
</ul>
</article>
        </div></div>
  </body>
</html>
