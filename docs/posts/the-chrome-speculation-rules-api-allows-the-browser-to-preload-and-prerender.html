<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.docuseal.com/blog/make-any-website-load-faster-with-6-lines-html">Original</a>
    <h1>The Chrome Speculation Rules API allows the browser to preload and prerender</h1>
    
    <div id="readability-page-1" class="page"><p>
  Put this HTML tag into the &lt;head&gt; of your website for near-instant navigation.
</p><div>

<p>Ever clicked a link and had the next page appear almost instantly? That magical, speedy experience is becoming easier to achieve thanks to the Chrome Speculation Rules API. This new browser feature helps make navigation feel instant with just a few lines of HTML.</p>



<p>The Chrome Speculation Rules API allows developers to declaratively tell the browser which pages to preload and prerender, providing a near-instant loading experience:</p>

<ul>
  <li>
    <p><code>&#34;prefetch&#34;</code> tells the browser to only download the top-level HTML document for a linked page. It doesn’t render the page or fetch its sub-resources. This is less resource-intensive than prerendering but still saves time by having the HTML ready in the cache.</p>
  </li>
  <li>
    <p><code>&#34;prerender&#34;</code> instructs the browser to not only download a page but also to fully render it in a hidden, background process. This includes fetching all sub-resources like CSS, JavaScript, and images, and executing the JavaScript. When the user clicks the link, the page can be swapped into view almost instantly.</p>
  </li>
  <li>
    <p><code>&#34;eagerness&#34;: &#34;moderate&#34;</code> is interpreted by browsers as: “Start the action 200ms after the user hovers their mouse over a link.”</p>
  </li>
</ul>

<p><img src="https://www.docuseal.com/packs/static/images/blog/speculation-rule-performance-198b9cd203eb8222a544.jpg" alt="Speculation Rule Performance"/></p>

<p>Here’s a typical scenario:</p>

<ul>
  <li>A user is reading a page on your website.</li>
  <li>They move their mouse cursor and let it rest over a link (e.g., “Services”).</li>
  <li>The browser interprets this hover as a sign of intent. After a very brief delay (e.g., ~200 milliseconds, to avoid firing on accidental mouse-overs), it triggers the prerender or prefetch action for the “Services” page.</li>
  <li>If the user then clicks the link, the page is already loaded (or at least partially loaded) in the background, resulting in a near-instant navigation.</li>
</ul>

<p>Previously, for the docuseal.com website, we used <a href="https://github.com/hotwired/turbo" target="_blank" rel="noopener nofollow">Hotwired Turbo</a> to achieve SPA-like navigation and to preload pages when hovering over links. Now, our website implements <a href="https://developer.chrome.com/docs/web-platform/speculation-rules/" target="_blank" rel="noopener nofollow">speculation rules</a>, which allowed us to remove the Hotwired Turbo dependency and load heavy pages faster through prerendering.</p>

<h2 id="limitations">Limitations</h2>

<p>Speculation Rules API is supported only in Chrome 121 and later versions.</p>

<p><img src="https://www.docuseal.com/packs/static/images/blog/speculation-rule-support-10af8c09a98b9afe05a3.jpg" alt="Speculation Rule Limitations"/></p>

<p>For Firefox and Safari users, we created a short script to preload pages on hover so that they can be cached by the browser and reused once the hovered link is clicked. This also allows for near-instant navigation on browsers that do not support the Speculation Rules API. Heavy pages like the API might take a bit longer to load comparing to Chrome due to the lack of a pre-rendering mechanism natively supported by other browsers.</p>

</div><p>In order for this script to work on Firefox and Safari, pages should contain a <code>Cache-Control</code> header with a <code>max-age</code> value so that the preloaded page is cached on hover and then reused on link click.</p></div>
  </body>
</html>
