<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/possibilities/claude-composer">Original</a>
    <h1>Show HN: Claude Composer</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<blockquote>
<p dir="auto">A tool for enhancing Claude Code with automation, configuration, and better UX</p>
</blockquote>

<ul dir="auto">
<li><strong>Reduced interruptions</strong>: Auto-handles permission dialogs based on configurable rules</li>
<li><strong>Flexible control</strong>: Rulesets define which actions to allow automatically</li>
<li><strong>Tool management</strong>: Toolsets configure which tools Claude can use</li>
<li><strong>Enhanced visibility</strong>: System notifications keep you informed</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="# Install
npm install -g claude-composer

# Initialize configuration
claude-composer cc-init

# Run with default settings
claude-composer

# Use different rulesets
claude-composer --ruleset internal:yolo  # Accept all prompts
claude-composer --ruleset internal:safe  # Manual confirmation only"><pre><span><span>#</span> Install</span>
npm install -g claude-composer

<span><span>#</span> Initialize configuration</span>
claude-composer cc-init

<span><span>#</span> Run with default settings</span>
claude-composer

<span><span>#</span> Use different rulesets</span>
claude-composer --ruleset internal:yolo  <span><span>#</span> Accept all prompts</span>
claude-composer --ruleset internal:safe  <span><span>#</span> Manual confirmation only</span></pre></div>

<p dir="auto"><strong>Prerequisites</strong>: Node.js 18+, npm/yarn/pnpm, Claude Code installed</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Global install
pnpm add -g claude-composer
# or
yarn global add claude-composer
# or
npm install -g claude-composer"><pre><span><span>#</span> Global install</span>
pnpm add -g claude-composer
<span><span>#</span> or</span>
yarn global add claude-composer
<span><span>#</span> or</span>
npm install -g claude-composer</pre></div>

<p dir="auto">Run <code>claude-composer cc-init</code> to create configuration:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Global config (default)
claude-composer cc-init

# Project-specific config
claude-composer cc-init --project"><pre><span><span>#</span> Global config (default)</span>
claude-composer cc-init

<span><span>#</span> Project-specific config</span>
claude-composer cc-init --project</pre></div>

<div data-snippet-clipboard-copy-content="~/.claude-composer/          # Global
├── config.yaml
├── rulesets/*.yaml         # Custom rulesets
└── toolsets/*.yaml         # Custom toolsets

.claude-composer/           # Project-specific
├── config.yaml
├── rulesets/*.yaml
└── toolsets/*.yaml"><pre><code>~/.claude-composer/          # Global
├── config.yaml
├── rulesets/*.yaml         # Custom rulesets
└── toolsets/*.yaml         # Custom toolsets

.claude-composer/           # Project-specific
├── config.yaml
├── rulesets/*.yaml
└── toolsets/*.yaml
</code></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# config.yaml
rulesets:
  - internal:cautious
  - my-custom-rules

toolsets:
  - internal:core
  - my-tools

roots:
  - ~/projects/work
  - ~/projects/personal

show_notifications: true
sticky_notifications: false"><pre><span><span>#</span> config.yaml</span>
<span>rulesets</span>:
  - <span>internal:cautious</span>
  - <span>my-custom-rules</span>

<span>toolsets</span>:
  - <span>internal:core</span>
  - <span>my-tools</span>

<span>roots</span>:
  - <span>~/projects/work</span>
  - <span>~/projects/personal</span>

<span>show_notifications</span>: <span>true</span>
<span>sticky_notifications</span>: <span>false</span></pre></div>
<p dir="auto">See <a href="https://github.com/possibilities/claude-composer/blob/main/docs/configuration.md">docs/configuration.md</a> for details.</p>

<p dir="auto">Control which permission dialogs are automatically accepted.</p>

<ul dir="auto">
<li><strong><code>internal:safe</code></strong>: All dialogs require manual confirmation</li>
<li><strong><code>internal:cautious</code></strong>: Auto-accepts project operations, confirms global ones</li>
<li><strong><code>internal:yolo</code></strong>: Accepts all operations without confirmation</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="# Built-in
claude-composer --ruleset internal:cautious

# Custom global
claude-composer --ruleset my-workflow

# Project-specific
claude-composer --ruleset project:backend

# Chain multiple
claude-composer --ruleset internal:cautious --ruleset my-overrides"><pre><span><span>#</span> Built-in</span>
claude-composer --ruleset internal:cautious

<span><span>#</span> Custom global</span>
claude-composer --ruleset my-workflow

<span><span>#</span> Project-specific</span>
claude-composer --ruleset project:backend

<span><span>#</span> Chain multiple</span>
claude-composer --ruleset internal:cautious --ruleset my-overrides</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# .claude-composer/rulesets/backend.yaml
name: backend
description: Backend development rules

accept_project_edit_file_prompts:
  paths:
    - &#39;src/**/*.js&#39;
    - &#39;test/**&#39;
    - &#39;!**/*.env&#39;

accept_project_bash_command_prompts: true
accept_fetch_content_prompts: false"><pre><span><span>#</span> .claude-composer/rulesets/backend.yaml</span>
<span>name</span>: <span>backend</span>
<span>description</span>: <span>Backend development rules</span>

<span>accept_project_edit_file_prompts</span>:
  <span>paths</span>:
    - <span><span>&#39;</span>src/**/*.js<span>&#39;</span></span>
    - <span><span>&#39;</span>test/**<span>&#39;</span></span>
    - <span><span>&#39;</span>!**/*.env<span>&#39;</span></span>

<span>accept_project_bash_command_prompts</span>: <span>true</span>
<span>accept_fetch_content_prompts</span>: <span>false</span></pre></div>
<p dir="auto">See <a href="https://github.com/possibilities/claude-composer/blob/main/docs/rulesets.md">docs/rulesets.md</a> for complete documentation.</p>

<p dir="auto">Configure which tools Claude can use and MCP server connections.</p>

<ul dir="auto">
<li><strong><code>internal:core</code></strong>: Provides Context7 documentation tools</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="# Built-in
claude-composer --toolset internal:core

# Custom
claude-composer --toolset my-tools

# Multiple
claude-composer --toolset internal:core --toolset project:dev-tools"><pre><span><span>#</span> Built-in</span>
claude-composer --toolset internal:core

<span><span>#</span> Custom</span>
claude-composer --toolset my-tools

<span><span>#</span> Multiple</span>
claude-composer --toolset internal:core --toolset project:dev-tools</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# .claude-composer/toolsets/dev-tools.yaml
allowed:
  - Read
  - Write
  - Edit
  - Bash

disallowed:
  - WebSearch

mcp:
  my-server:
    type: stdio
    command: node
    args: [./tools/mcp-server.js]"><pre><span><span>#</span> .claude-composer/toolsets/dev-tools.yaml</span>
<span>allowed</span>:
  - <span>Read</span>
  - <span>Write</span>
  - <span>Edit</span>
  - <span>Bash</span>

<span>disallowed</span>:
  - <span>WebSearch</span>

<span>mcp</span>:
  <span>my-server</span>:
    <span>type</span>: <span>stdio</span>
    <span>command</span>: <span>node</span>
    <span>args</span>: <span>[./tools/mcp-server.js]</span></pre></div>
<p dir="auto">See <a href="https://github.com/possibilities/claude-composer/blob/main/docs/toolsets.md">docs/toolsets.md</a> for details.</p>


<div dir="auto" data-snippet-clipboard-copy-content="# Configuration
--ruleset &lt;name...&gt;              # Use specified rulesets
--toolset &lt;name...&gt;              # Use specified toolsets
--ignore-global-config           # Ignore global config

# Safety
--dangerously-allow-in-dirty-directory
--dangerously-allow-without-version-control
--dangerously-suppress-automatic-acceptance-confirmation

# Notifications
--show-notifications / --no-show-notifications
--sticky-notifications / --no-sticky-notifications

# Debug
--quiet                          # Suppress preflight messages
--allow-buffer-snapshots         # Enable Ctrl+Shift+S snapshots
--log-all-pattern-matches        # Log to ~/.claude-composer/logs/"><pre><span><span>#</span> Configuration</span>
--ruleset <span>&lt;</span>name...<span>&gt;</span>              <span><span>#</span> Use specified rulesets</span>
--toolset <span>&lt;</span>name...<span>&gt;</span>              <span><span>#</span> Use specified toolsets</span>
--ignore-global-config           <span><span>#</span> Ignore global config</span>

<span><span>#</span> Safety</span>
--dangerously-allow-in-dirty-directory
--dangerously-allow-without-version-control
--dangerously-suppress-automatic-acceptance-confirmation

<span><span>#</span> Notifications</span>
--show-notifications / --no-show-notifications
--sticky-notifications / --no-sticky-notifications

<span><span>#</span> Debug</span>
--quiet                          <span><span>#</span> Suppress preflight messages</span>
--allow-buffer-snapshots         <span><span>#</span> Enable Ctrl+Shift+S snapshots</span>
--log-all-pattern-matches        <span><span>#</span> Log to ~/.claude-composer/logs/</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="# Initialize configuration
claude-composer cc-init [options]
  --project                      # Create in current directory
  --use-yolo-ruleset            # Use YOLO ruleset
  --use-cautious-ruleset        # Use cautious ruleset
  --use-safe-ruleset            # Use safe ruleset
  --use-core-toolset            # Enable core toolset"><pre><span><span>#</span> Initialize configuration</span>
claude-composer cc-init [options]
  --project                      <span><span>#</span> Create in current directory</span>
  --use-yolo-ruleset            <span><span>#</span> Use YOLO ruleset</span>
  --use-cautious-ruleset        <span><span>#</span> Use cautious ruleset</span>
  --use-safe-ruleset            <span><span>#</span> Use safe ruleset</span>
  --use-core-toolset            <span><span>#</span> Enable core toolset</span></pre></div>
<p dir="auto">All unrecognized options pass through to Claude Code.</p>
<p dir="auto">See <a href="https://github.com/possibilities/claude-composer/blob/main/docs/cli-reference.md">docs/cli-reference.md</a> for complete reference.</p>

<ul dir="auto">
<li><code>CLAUDE_COMPOSER_CONFIG_DIR</code> - Override config directory</li>
<li><code>CLAUDE_COMPOSER_NO_NOTIFY</code> - Disable notifications</li>
<li><code>FORCE_COLOR</code> - Control color output</li>
</ul>
<p dir="auto">See <a href="https://github.com/possibilities/claude-composer/blob/main/docs/environment-variables.md">docs/environment-variables.md</a> for details.</p>

<p dir="auto">Define trusted parent directories to auto-accept initial trust prompts:</p>
<div dir="auto" data-snippet-clipboard-copy-content="roots:
  - ~/projects # Trusts ~/projects/my-app, not ~/projects/my-app/src
  - $WORK_DIR/repos # Environment variable expansion supported"><pre><span>roots</span>:
  - <span>~/projects </span><span><span>#</span> Trusts ~/projects/my-app, not ~/projects/my-app/src</span>
  - <span>$WORK_DIR/repos </span><span><span>#</span> Environment variable expansion supported</span></pre></div>
<p dir="auto">See <a href="https://github.com/possibilities/claude-composer/blob/main/docs/roots-config.md">docs/roots-config.md</a> for details.</p>


<div dir="auto" data-snippet-clipboard-copy-content="npm run release:patch  # Bug fixes
npm run release:minor  # New features
npm run release:major  # Breaking changes"><pre>npm run release:patch  <span><span>#</span> Bug fixes</span>
npm run release:minor  <span><span>#</span> New features</span>
npm run release:major  <span><span>#</span> Breaking changes</span></pre></div>
<p dir="auto">See <a href="https://github.com/possibilities/claude-composer/blob/main/docs/release-process.md">docs/release-process.md</a> for details.</p>
</article></div></div>
  </body>
</html>
