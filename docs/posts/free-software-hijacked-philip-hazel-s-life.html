<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://lwn.net/SubscriberLink/978463/608c876c1153fd31/">Original</a>
    <h1>Free software hijacked Philip Hazel&#39;s life</h1>
    
    <div id="readability-page-1" class="page"><div>
<center>
<table>
<tbody><tr><td>
<h3>Welcome to LWN.net</h3>
<p>
The following subscription-only content has been made available to you 
by an LWN subscriber.  Thousands of subscribers depend on LWN for the 
best news from the Linux and free software communities.  If you enjoy this 
article, please consider accepting the discount offer on the right.  Thank you
for visiting LWN.net!
</p></td><td>
<div>
<h3>Special discount offer</h3>
           <p>
           <a href="https://lwn.net/Promo/sl-discount-3/claim">Subscribe to LWN now</a> at the
           &#34;professional hacker&#34; level for at least six months,
           and you will
           receive a special discount of 25%.
           
</p></div>
</td>
</tr>

</tbody></table>
</center>

<p>Philip Hazel was 51 when he began the <a href="https://www.exim.org/">Exim</a> message transfer agent (MTA)
project in 1995, which
led to the <a href="https://github.com/PCRE2Project/pcre2">Perl-Compatible Regular
Expressions</a> (PCRE) project in 1998. At 80,
he&#39;s maintained PCRE, and its successor PCRE2, for more than 27
years. For those doing the math, that&#39;s a year longer than LWN has
been in publication. Exim maintenance was handed off around the time
of his retirement in 2007. Now, he is ready to hand off PCRE2 as well,
if a successor can be found.</p>

<h4>Punch cards to flat screens</h4>

<p>Hazel&#39;s tenure as a free-software developer is exceptional, if not
record-breaking in its length. Linus Torvalds began
working on Linux in 1991 as a college student and is still leading its development 33 years
later with no signs of slowing. However, as Hazel <a href="https://drive.google.com/file/d/10TAOEgIL--CmzqOl0fkdP-cagjSLBM4J/view?usp=sharing">wrote</a>
in his technical memoir <em>From Punched Cards To Flat Screens</em>,
he began contributing to free software &#34;<q>nearer the end than the
start</q>&#34; of his career.</p>

<!-- middle-ad -->

<p>At the start of his career, Hazel was introduced to computers as an
undergraduate when the University of Cape Town (UCT) received its
first computer: an <a href="https://en.wikipedia.org/wiki/ICT_1301">International Computers
and Tabulators (ICT) 1301</a>, with a dazzling capacity to read as
many as 600 punched cards per minute. He attended introductory
programming lectures, read the Manchester <a href="https://en.wikipedia.org/wiki/Autocode">Autocode</a> programming
manual from cover to cover, and began writing test programs encoded onto paper punch cards:</p>

<blockquote>
If you were lucky and your program worked, the output appeared on the
printer; more often that not (at least at the start) all you got was
an error message, which meant that you had to fix your program, return
to the back of the queue, and hope to get another run before the end
of the session. The more attempts it took to get a program to work,
the more useful scrap paper one accumulated.
</blockquote>

<p>He later moved on to the University of Cambridge as a PhD
student. Cambridge was blessed with four computers when Hazel arrived
in 1967: a <a href="https://en.wikipedia.org/wiki/Titan_(1963_computer)">Titan</a>,
<a href="https://en.wikipedia.org/wiki/IBM_1130">IBM 1130</a>, <a href="https://en.wikipedia.org/wiki/IBM_System/360">IBM 360</a>, and
<a href="https://en.wikipedia.org/wiki/PDP-7">PDP-7</a>. Because Hazel
knew the Manchester Autocode language, which is similar to Titan Autocode, he
was given an account on the Titan &#34;<q>and that was the start of the
slippery slope down which I have been sliding ever since</q>&#34;.</p>

<p>That slope, as well-detailed in Hazel&#39;s memoir (and mercilessly
abbreviated here), ultimately led to his joining the Cambridge
Computing Service as a software developer in 1971. During his tenure
at Cambridge, and at home, Hazel had the opportunity to work with a
number of interesting systems including the PDP-11, Ultrix,
Sinclair ZX-81, and BBC Micro. In 1990 the Computing Service
decided to set up a cluster of Unix systems for the use of staff and
graduate students, and he began working with Sun boxes
running SunOS. This coincided with the transition from the <a href="https://en.wikipedia.org/wiki/X.25">X.25</a> wide-area network
standard to the Internet Protocol (IP).</p>

<p>Hazel was responsible for the email service, and found it difficult
to configure <a href="https://www.proofpoint.com/us/products/email-protection/open-source-email-solution">Sendmail</a>
to choose between IP and X.25 to
deliver email. A colleague suggested that he try the free-software <a href="https://en.wikipedia.org/wiki/Smail">Smail</a> MTA instead. Hazel
took him up on the suggestion and added two features to Smail to
manage the DNS lookups and decide whether to send mail via SMTP or
X.25. While managing Smail for Cambridge, he submitted additional
features to cope with messages that had bad senders:</p>

<blockquote>
If such a message could not be delivered, the bad sender meant that an error report could
also not be delivered, and the postmaster (me) had to intervene to sort things
out. By rejecting messages whose sender address could not be verified, I pushed
the onus of dealing with this problem out to the sending MTA. This kind of
checking is now standard MTA practice (along with many other checks for
spam and viruses).
</blockquote>

<p>This was a small start that led Hazel to thinking about more
checking and verification that would be needed for MTAs. He
considered, but decided against, trying to modify Smail. It was
written in pre-standard C and carried &#34;<q>a lot of <a href="https://en.wikipedia.org/wiki/UUCP">UUCP</a> baggage</q>&#34;. Hazel
wanted to write an MTA for modern (at the time) operating systems with
standard C compilers and runtimes, and permanent connections to a
TCP/IP network. He began working on the Experimental Internet Mailer
(Exim) in March 1995. By November it was &#34;<q>just about able to send
and receive emails</q>&#34;.</p>

<h4>Exim</h4>

<p>Hazel had informed a colleague, Piete Brooks, that he was working
on Exim. Brooks wanted to try it out, but Hazel demurred because he
had not written any documentation. (This may be the first known case
of a programmer refusing to distribute undocumented code...) Brooks
response was &#34;<q>I don&#39;t want the documentation, I want the
code.</q>&#34; Even so, Hazel insisted on writing a first cut of the Exim
manual before packaging up the code and sending it off to meet its fate.</p>

<p>Brooks put the code into service right away, and started
telling others about it. Hazel put Exim releases on a public FTP site,
and gave a talk on Exim at a &#34;Campus Mail Day&#34; in Aberdeen, which led
to more usage. A request from Richard Stallman persuaded him to switch
from a homegrown license for Exim to the GPL. It began being ported to
other operating systems, and eventually found its way to Linux in 1997
or 1998, &#34;<q>which by then had become an operating system that could be
used in production environments</q>&#34;. Over time, Exim would become
(and still is) a popular MTA used all over the planet. Its adoption
far exceeded Hazel&#39;s expectations:</p>

<blockquote>
<p>I never expected commercial sites to get involved, nor for it to
become the default MTA in any operating systems. In short, I did not
foresee that it would grow into the fully-fledged open source
development project that it has.</p>
</blockquote>

<h4>PCRE</h4>

<p>Regular expressions play a rather large part in managing mail, and
Hazel wanted to have more flexible regular expressions for Exim than were
present in Smail. He chose a regular-expression library
written by Henry Spencer for early versions of Exim, but found it
limiting compared to Perl&#39;s extended pattern-matching features. He
thought about lifting Perl&#39;s implementation, but it was too integrated
to be easily adapted to Exim. &#34;<q>In the end, I solved the problem the
way programmers generally solve their problems: by writing something
myself.</q>&#34; That, of course, became PCRE.</p>

<p>Hazel bundled PCRE with Exim and also released it as a standalone
library. Like Exim, it filled a need that he did not even realize
existed. PCRE was adopted by Apache HTTPD, and Hazel was
&#34;<q>particularly gratified</q>&#34; to find that it had been included with
the <a href="https://www.postfix.org/">Postfix</a> MTA. After a while, PCRE looked beyond Perl
to include features such as recursion inside a regular expression, and
named subpatterns (borrowed from Python), as well as other ideas taken
from other regular-expression implementations.</p>

<p>In 2014, Hazel decided that PCRE&#39;s API was &#34;<q>not capable of much
further extension</q>&#34; and began working on a new, incompatible,
version of the code. The first PCRE2 release (starting at version
10.00 to avoid confusion with then-current PCRE 8.x releases) was <a href="https://lists.exim.org/lurker/message/20150105.162835.0666407a.en.html">announced</a>
in January 2015. Hazel continued supporting PCRE until its <a href="https://lists.exim.org/lurker/message/20210615.162400.c16ff8a3.en.html">final release</a> in 2021. PCRE2 <a href="https://groups.google.com/g/pcre2-dev/c/OUI1FYTcm_E">moved to GitHub</a> in 2022. The most recent release of PCRE2, <a href="https://github.com/PCRE2Project/pcre2/releases/tag/pcre2-10.44">10.44</a>,
came out on June 7, 2024.</p>

<p>Hazel wrote that PCRE may now be even
more important than Exim was &#34;<q>because of its widespread use in many
different applications and operating systems</q>&#34;. Indeed, just
looking to see the installed software that depends on the PCRE2
library on Fedora 40 turns up use by Git, Grep, MariaDB, nmap,
SELinux&#39;s command-line tools, Sway, Wget 2, and quite a few others.</p>

<p>In his memoir, Hazel had written that it felt right to pass
maintenance of Exim on to others after so long. &#34;<q>More than a decade on one
project is long enough.</q>&#34; In his 2017 update to the memoir, he
noted that the sentence had come back to bite him: He was still
working on PCRE 19 years after he started to write it. Little did he
suspect he would still be maintaining it in 2024. He would like to <a href="https://github.com/PCRE2Project/pcre2/issues/426">hand it
off</a> while he can help with the transition.</p>

<h4>Passing the torch</h4>

<p>I emailed Hazel with a few questions about his thoughts on
long-term free-software maintenance, changes to the industry, and what
he might do once PCRE was handed off. Hazel wrote that he does not
have any post-PCRE plans. All of <a href="http://quercite.dx.am/">his projects</a>, with the exception of the <a href="https://github.com/PhilipHazel/b2pf">base to presentation
form</a> (B2PF) library for converting Unicode characters for
printing, were started while he was still working. &#34;Since I retired I
haven&#39;t felt a lack of anything enough to spur me into writing something
new&#34;. He added that he would continue to maintain his non-PCRE2
projects &#34;if necessary&#34; and would help with PCRE2 if needed.</p>

<p>When asked how new generations of tools, and developers, had
changed his work habits, Hazel replied that he has changed
little. &#34;I am sufficiently old that I am well stuck in my ways, and
haven&#39;t changed how I do things since the 90s&#34; with the exception
of moving development to GitHub. He admitted that he was not good at
anticipating or keeping up with trends in development. For example, he
said he was not aware of Unicode when he began PCRE development, so it
was written to support ASCII and with a limit of 64K for compiled
patterns. Others had to persuade him to extend PCRE with Unicode
support, and the option for larger patterns. Contributors,
he said, have not changed. The world has, though:</p>

<blockquote>
When I was born, there were no digital computers, though their
predecessors, for example the Colossus at Bletchley Park, were around. The
world has gone from nothing to where we are now in just one lifetime.
Incredible! What particularly amazes me more than the CPU power is the
amount of storage that I carry in my pocket.
</blockquote>

<p>Hazel did offer some advice for those starting new software
projects, though he noted he was not the first to make this point:</p>

<blockquote>
It&#39;s worth remembering that the effort needed to maintain a piece of
successful software over its lifetime far outweighs the effort of
writing it in the first place. In the case of PCRE there have been
several major re-designs and re-writes of the internals as
well as continual extensions to the user-visible features.
</blockquote>

<p>He also suggested that developers think about how software would be
tested as it is designed: &#34;Effort put into building test harnesses is
never wasted.&#34;</p>

<p>I asked Hazel, given the recent <a href="https://lwn.net/Articles/967866/">XZ backdoor</a> attempt, how
he intended to vet any prospective PCRE2 maintainers. He replied that it
was a good question &#34;to which I have no answer. I will have to see
who (if anyone) makes an offer&#34;. To date, he said he had received
&#34;no communications whatsoever&#34; about taking over the
project. Perhaps, once the word gets out more widely, a qualified
maintainer will step forward to take PCRE2 into the future.</p></div></div>
  </body>
</html>
