<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://nicole.express/2022/the-sega-master-system-yet-again.html">Original</a>
    <h1>The Sega System E: The Master System Supergrafx</h1>
    
    <div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>If you’ve read this blog, you know that I like my hardware a little janky and a little weird. A classic example: the <a href="https://nicole.express/2020/super-ultra-mega-tera-grafx.html">SuperGrafx</a>. The beautiful three-chip architecture of the PC Engine, but two of one chip, and a video priority controller whose job is to wrangle things together. But for the really weird stuff, you need to go to the arcades. Let’s take a look at the predecessor of the <a href="https://nicole.express/2022/system-system-c-system-c-c-system.html">System C</a>. How did Sega reuse the Master System hardware in the arcade?</p>

<h2 id="the-system-e">The System E</h2>

<p>With the <a href="https://nicole.express/2021/sega-sammy-atomiswave.html">Sammy Atomiswave</a> and <a href="https://nicole.express/2021/segasonic-the-saturn.html">Sega ST-V</a>, we saw arcade platforms that were pretty close to their home counterparts, just with the use of flash memory or ROM rather than optical discs. The Sega System C, meanwhile, was in some ways pared down from its console equivalent: trading the Z80 and Master System compatibility modes for more colors and a faster CPU. A fair trade, all things considered, but a bit more distant.</p>

<p>So where does the System E fall? The System E is just outright weird. We’ll start by taking a look at the PCB.</p>

<p><img src="https://nicole.express/assets/img/sysse/theman.JPEG" title="why were there stickers on those RAM chips, anyway" alt="System E circuitboard"/></p>

<p>The first thing you might notice is that unlike pretty much every arcade board we’ve covered on this blog, this doesn’t use an edge connector. Instead, the buttons and power are provided through pin connectors. That isn’t that weird, really, but it’s less common for the sorts of arcade machines I cover on this blog, as generally it’s associated with games that use non-standard controls, like driving games. These games generally aren’t easily swapped out, and to date I have no proper arcade cabinets.</p>

<p><img src="https://nicole.express/assets/img/sysse/hoj.png" title="truly a masterpiece of sprite scaling" alt="Hang On Jr attract mode, showing the Master System-styled graphics and INSERT COIN text"/></p>

<p>My suspicion is that this is because the first game for the System E was <em>Hang-On Jr.</em>, and therefore, the system uses block connectors of the sort you’d expect for a <em>Hang-On</em>. (Though the pinouts are not the same) But I’m not really sure. In any case, this isn’t a <em>Hang-On Jr.</em> board, and I was able to eventually get my hands on an adapter that provides a nice, normal JAMMA edge connector. It’ll be okay.</p>

<p><img src="https://nicole.express/assets/img/sysse/adapt.JPEG" title="I have to admit this is a nice way of handling it" alt="System E adapted to JAMMA"/></p>

<p>Phew. We wouldn’t want anything to challenge us.</p>

<h3 id="the-hardware">The hardware</h3>

<p>So what makes the System E different from a Master System? (After all, the Master System doesn’t use an edge connector either, unless you count the expansion slot) Early models of the Master System (i.e., everything with the <a href="https://nicole.express/2021/i-am-the-mark-iii.html#but-should-i-try-to-use-them-all">double-size sprites bug</a>) are powered by the 315-5124 Video Display Processor (VDP). It can do one background layer and one sprite layer, but this isn’t just a VDP. It also includes the clone TI SN76489 sound chip.</p>

<p>Well, of those wonder chips, the System E has <em>two</em>.</p>

<p><img src="https://nicole.express/assets/img/sysse/2vdps.JPEG" title="since the Master System also has an 8-bit CPU and a 16-bit graphics chip, this really is Super" alt="Two VDPs on the System E circuitboard"/></p>

<p>The Master System VDP is a direct descendant of the TMS9918A video chip, also used in the SG-1000 and <a href="https://nicole.express/2021/palcom-ntsc-edition.html">MSX machines</a>. That chip has an interesting feature; it’s designed to overlay its video on top of another TMS9918A; the videos will sync, as long as they’re reset at the same time and share the same clock.</p>

<p><img src="https://nicole.express/assets/img/msxtv/ti-tells-all.png" title="A diagram!" alt="Diagram of how to attach two VDPs. They share a crystal and a reset signal."/></p>

<p>It looks like the Master System VDP retained some of this capability. The System E, therefore, provides <em>two</em> background layers and <em>two</em> sprite layers, but with the caveats you’d expect from a simple overlay. There’s no video priority controller like the SuperGrafx, so one VDP’s output is put on top of another, using the background color as transparency. This puts some limitations on how the layers can interact.</p>

<p>Oh, and it’s got <em>eight</em> sound channels. It’s just like the <a href="https://nicole.express/2021/stop-mocking-me.html">Mockingboard!</a> Well, with the SN76486 rather than the AY-3-8913. I keep thinking those are interchangeable.</p>



<p>In any case, we’re not done yet.</p>

<h3 id="vram">VRAM</h3>

<p>The Sega Master System has 16kiB of video RAM. On one hand, this seems pretty respectable; video RAM-using NES games generally have just 8kiB plus the 2kiB built in. (Plus 256kiB OAM) But Master System tiles are 16-colors, so that RAM gets eaten up fast. Unfortunately, that 16kiB amount is pretty much hard-wired into the VDP, and can’t be expanded.</p>

<p>Consider background tiles. While each background tile on the tilemap has 16-bits to define it (as opposed to 8-bits on the NES), only 9 of those are given up for the pattern location. 2<sup>9</sup> = 512 tiles, just enough to fill 16kiB. And sprites are even more limited.</p>

<p>So, now that I said it’s impossible to give the VDP more than 16kiB VRAM, let’s take a look at the System E. It has 64kiB of VRAM; 32kiB for each VDP. Was Sega just wasting RAM chips?</p>

<p><img src="https://nicole.express/assets/img/sysse/vram.JPEG" title="seriously what&#39;s with the stickers it&#39;s bothering me" alt="Four rows two high of VRAM chips"/></p>

<p>Nope. This is just like the sorts of tricks we saw with <a href="https://nicole.express/2022/the-nes-as-an-artifact.html">NES cartridges</a>, the Apple II’s language card, as well as pretty much anything else that has a limited number of bus wires: bankswitching. The Z80 CPU can switch between two 16kiB banks of VRAM on the fly. Remember, the Master System has a full line interrupt, similar to MMC3 and MMC5, so a lot of tricks are possible here.</p>

<p>And, to sweeten the pot, the RAM that’s not being accessed by the VDP can be accessed by the CPU. Usually, to access VRAM, the Master System would need to go through a port on the VDP; writing directly is much faster. This also allows the extra VRAM to be used as extra work RAM, say, if the VDP in question is only being used to draw a status bar and doesn’t need the extra bank.</p>

<p><img src="https://nicole.express/assets/img/sysse/cartridge.JPEG" title="at least none of the encrypted Z80s used a suicide battery, as far as I know" alt="Cartridge on the System E motherboard"/></p>

<p>The ROMs and the Z80 CPU sit on a daughterboard, allowing for games to be swapped out (and for Sega to use encrypted CPUs, though thankfully they didn’t always do that). The bank-switching for the ROMs is similar to the <a href="https://www.smspower.org/Tags/Slot2Mapping">“Slot 2”</a> mapping scheme used by most Master System software.</p>

<p>This was sold to me with the note that these aren’t the original ROMs. As we’ll see, they contain the western version of a game, even though it was imported from Japan.</p>

<p>Overall, the System E is a clever extension of the Master System’s tech. So what did they do with it?</p>

<h2 id="if-theres-no-s-its-not-a-trademark-violation">If there’s no S, it’s not a trademark violation</h2>

<p>Remember <a href="https://nicole.express/2022/the-master-of-disguise.html#astro"><em>Astro Flash</em></a>, the Master System game released as <em>TransBot</em> in the west, the shooter where you play as a transforming robot?</p>

<p><img src="https://nicole.express/assets/img/seo-what/af-2.jpg" title="destroy the confederacy of independent systems" alt="Astro Flash gameplay"/></p>

<p>Sega apparently decided that <em>TransBot</em> was just too subtle, and Americans might not get what they were going for. So when they released the arcade version of <em>Astro Flash</em> to the west, they called it: <em>Transformer</em>.</p>

<p><img src="https://nicole.express/assets/img/sysse/tf-title.jpg" title="no way we&#39;d get sued now" alt="Transformer title screen. Transformer, singular"/></p>



<p><em>Transformer</em> is definitely a better-<em>looking</em> game than <em>TransBot</em>. It has multiple nice layers of parallax scrolling (though it looks like all on one background layer) and an overlay with the status bar on the top and bottom of the screen.</p>

<p><video src="/assets/img/sysse/Oh jeez.mp4" width="75%" autoplay="" loop="" muted=""> You don&#39;t have a video tag support or something? So you can&#39;t see this footage of *Super Mario Bros*/*Transformer*? Ah too bad.</video></p>

<p>Unfortunately I don’t find the game as fun as <em>TransBot</em>. Rather than have the random weapon system, weapons improve straightforwardly by filling the bar at the bottom of the screen, which you do by killing enemies rather than dodging them. You lose all of this progress when you die, though.</p>

<p><img src="https://nicole.express/assets/img/sysse/tf-weapon.jpg" title="pew pew" alt="Transformer gameplay, showing"/></p>

<p>I believe what’s happening here in terms of layers is that one VDP is doing the background and the game sprites, and one VDP is being used only for the status bars. The second foreground VDP is also used for the text; you can see it overlapping a sprite that overlaps the background. Not possible on a stock Master System!</p>

<p><img src="https://nicole.express/assets/img/sysse/tf-gover.jpg" title="no more transforming for YOU, young man... or young lady... idk" alt="Transformer game over"/></p>

<p>So if this wasn’t a <em>Transformer</em> originally… what was it?</p>

<h2 id="the-blocks-fall-into-place">The blocks fall into place</h2>

<p>This board was converted to <em>Transformer</em> by an owner who had it before the owner who sold it to me, so it’s hard to say anything definitively about it. But it does have something scratched into it.</p>

<p><img src="https://nicole.express/assets/img/sysse/tetr.JPEG" title="I mean maybe it&#39;s a coincidence" alt="&#39;{TETRIO} scratched into a circuit board"/></p>

<p>“TETRIO”, to me, implies that this may very well be the famous game <em>Tetris</em>. The original Sega <em>Tetris</em> was released for the more powerful System 16 hardware in 1988.</p>

<p><img src="https://nicole.express/assets/img/sysse/sys16.png" title="I like this more than the Atari Games version we got in the US" alt="Tetris System 16 title screen"/></p>

<p>But <em>Tetris</em> on the System 16 was a hit. Sega couldn’t produce System 16 boards fast enough; they ended up using both System 16A and 16B boards to fill the gap, licensed their game out to Taito to run on their B-System and H-System platforms (converting games like <em>Nastar Warrior</em>), and apparently, they still had System E’s in storage to use up as well. <em>Tetris</em> would be the last title on the platform.</p>

<p>So can we convert this back to a <em>Tetris</em>?</p>

<p>As it turns out, the same person who I bought the JAMMA adapter from, Arcade Otaku forum user <a href="https://forum.arcadeotaku.com/viewtopic.php?f=36&amp;t=38245">Kold666</a>, also sells a replacement ROM board. So let’s fill it with EEPROMs, and maintain both capabilities.</p>

<p><img src="https://nicole.express/assets/img/sysse/sink.JPEG" title="noooo my bits are decaying put stickers on fast" alt="Two ROM boards for the System E, the original and the new one, both populated with ROMs"/></p>

<p>One thing that’s interesting is that while <em>Transformer</em> fills all ROM slots, <em>Tetris</em> only fills three ROM slots. At 32kiB each, that makes <em>Transformer</em> 160kiB, and <em>Tetris</em> 96kiB. While <em>TransBot</em> was only a 32kiB Sega Card, later Master System games would get as high as Four Mega (512kiB), so the System E was not competing with home-spec for very long.</p>

<h3 id="tetris"><em>Tetris</em></h3>

<p><img src="https://nicole.express/assets/img/sysse/tr-title.jpg" title="Tetris for people who like Phantasy Star II battle scenes" alt="Tetris title screen on the System E. It is lower resolution and much lower in color depth"/></p>

<p>System E <em>Tetris</em> really does feel like a downgrade from System 16 <em>Tetris</em>. Of course, they’re both very basic takes on the game, without any sort of multi-player or alternate game modes beyond the marathon. They’re both also very unforgiving; Sega’s arcade <em>Tetris</em> was the inspiration for the famously difficult <em>Tetris The Grand Master</em> series. But the System E also removes much of the aesthetic. The fact that it includes a “how to play” screen and top scores feels almost luxurious.</p>

<p><img src="https://nicole.express/assets/img/sysse/tr-how.jpg" title="Tetris for people who like Phantasy Star II battle scenes" alt="Tetris how to play screen on the System E. How to play?"/></p>

<p>The game itself features the <em>Tetremix</em> theme of all early Sega Tetris releases, played by the SN76489A square waves. While it does have a version of the “danger” track <a href="https://tcrf.net/Tetris_(Arcade,_System_E)">in the code</a>, it never uses it, only “Tetremix” getting faster and faster. It has a single “futuristic” background which never changes, unlike the set of digitized backgrounds the other Sega arcade versions of <em>Tetris</em> used.</p>

<p><img src="https://nicole.express/assets/img/sysse/tr-play.jpg" title="At least the piece colors are nice and bright... not like there are many not-bright colors in the palette" alt="Tetris on the System E, as described above"/></p>

<p>It doesn’t even have a monkey to mock you for losing!</p>

<p><img src="https://nicole.express/assets/img/sysse/tr-compare.png" title="I did do better on the System E version" alt="Tetris game over compared between versions."/></p>

<p>That being said, it’s still a perfectly acceptable version of <em>Tetris</em>. As you’d expect from an early version, it’s harsher on the player than a modern game, without infinite spinning and a less forgiving random piece algorithm. (In fact, I think it’s just RNG) I’ve been watching a lot of tournaments of “Classic Tetris” (the Nintendo NES release, or something else imitating it) lately, and I wonder how a skilled player of that would handle this game.</p>

<h3 id="was-it-a-tetris">Was it a Tetris?</h3>

<p>So let’s take another look at those VRAM chips.</p>

<p><img src="https://nicole.express/assets/img/sysse/vram.JPEG" title="video ram, video ram, does whatever, a video cam" alt="Four rows two high of VRAM chips"/></p>

<p>Notice that they’re all dated 1987– in fact, I can’t find any chips later than that. That’s actually more accurate for a game that was originally a <em>Transformer</em> (original release 1986) than a <em>Tetris</em>. Perhaps it was an <em>Astro Flash</em> that became a <em>Tetris</em> and then a <em>Transformer</em>– unfortunately, the thing about boards like this is that we don’t really know their provenance. Maybe Sega really did just have warehouses full of these boards and used <em>Tetris</em> to get rid of them.</p>

<h2 id="what-does-the-e-in-system-e-stand-for-anyways">What does the E in System E stand for anyways</h2>

<p>So that’s a quick overview of the System E. It’s not the end of the game for me with this board; I have some additional plans; but <em>Tetris</em> and <em>Transformer</em> stand up as fairly typical examples of the library: nothing that special, but competently done. System E games look inferior to the later <a href="https://nicole.express/2021/sega-system-1-system-1.html">System 1</a> and System 2 titles hitting the market, let alone System 16 or the Super Scaler games, but I imagine they were also much cheaper. Surely.</p>

<p>So until now, may your pieces be stacked high! Or, uh, may they not be. Be better at <em>Tetris</em> than me.</p>

<p><img src="https://nicole.express/assets/img/sysse/tr-over.jpg" title="try not to do this" alt="Tetris how to play warning you about a game over"/></p>

  </div>

  
</article>

      </div>
    </div></div>
  </body>
</html>
