<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.raphkoster.com/2009/01/08/database-sharding-came-from-uo/">Original</a>
    <h1>Database â€œShardingâ€ came from Ultima Online?</h1>
    
    <div id="readability-page-1" class="page"><div>
<div>
<p><a href="https://startuplessonslearned.blogspot.com/2009/01/sharding-for-startups.html#comment-form"><span title="L"><span>L</span></span>essons Learned: Sharding for startups </a>is a technical post about database scalability. What caught my eye was the <em>term</em>. What an odd term â€” â€œsharding.â€ Why would a database be described that way?</p>
<p>So I started reading a bit about it. It basically means running a bunch of parallel databases and looking into the right one, rather than trying to cram everything into one.</p>
<p>Near as I can tell, a quick Google seems to say that the term came about <a href="http://highscalability.com/unorthodox-approach-database-design-coming-shard">because of a guy who worked at Friendster and Flickr, </a>and seems to . Wikipedia has only had <a href="https://en.wikipedia.org/wiki/Shard_(database_architecture)">an article</a> for a little while. In the comment thread at Lessons Learned, thereâ€™s mention of the term being used in 2006.</p>
<p>Flickr, of course, was born as an MMO called <a href="https://en.wikipedia.org/wiki/Game_Neverending"><em>Game Neverending</em></a>. In fact, I was quoted in Ludicorpâ€™s business plan, and Stewart Butterfield had asked if I could be an advisor, but I couldnâ€™t do it at the time because of my contract with Sony. Sigh. Anyway, I would be <em>shocked</em> if the term â€œshardâ€ hadnâ€™t been thrown around those officesâ€¦ because in MMOs, of course, â€œshardsâ€ has a very specific meaning and history.</p>

<p>It means database partitioning â€” of worlds. Parallel worlds each running the same static template database source, but evolving different runtime databases. But these were just called â€œserversâ€ â€” like, <em>Meridian 59</em> had bunches of them, and they had numbers instead of the common practice of names that is in use today.</p>
<div><p><img decoding="async" title="A snippet from the UO intro movie" src="https://upload.wikimedia.org/wikipedia/en/c/cb/Mondain-uo-intro.jpg" alt="A snippet from the UO intro movie" width="283" height="160" data-lazy-src="https://upload.wikimedia.org/wikipedia/en/c/cb/Mondain-uo-intro.jpg?is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></p><p>A snippet from the UO intro movie</p></div>
<p>No, â€œshardsâ€ came about specifically because when we realized we would need to run multiple whole copies of <em>Ultima Online</em> for users to connect to, we needed to come up with a fiction for it. I went off and read a whole mess of stuff about early Ultima lore and tried to come up with a fictional justification. What I ended up with <a href="https://en.wikipedia.org/wiki/Britannia_(Ultima_Online)">is described here pretty well</a>: that the evil wizard Mondain had attempted to gain control over Sosaria by trapping its essence in a crystal. When the Stranger at the end of Ultima I defeated Mondain and shattered the crystal, the crystal <strong>shards</strong> each held a refracted copy of Sosaria.</p>
<p>It was a very very specific word chosen because, well, it was a piece of a crystal, which was a completely fictional invention. If Mondain had captured Sosaria on a parchment or in a painting, I would have said â€œa tatterâ€ or a â€œfragmentâ€ or some such. But in the original U1, it specifically said he had used a crystal to gain power. We even talked about terms like â€œmultiverseâ€ and the like at the time and dismissed them as comic-book geeky and not really Ultima-flavoredâ€¦ so â€œshardâ€ it was.</p>
<p>Now, from there time kept marching forward as each parallel Sosaria evolved in tandem. (UO was supposed to be between U3 and U4, in terms of chronology). The difference is, some of them got the Avatar (sent by the Time Lord) and some didnâ€™t. Some of them were captured by The Guardian, and we invented the notion that Shadowlords were essentially evil beings created from shards he had captured. In fact, the beta test shard eventually was captured in this way â€” if you read up on it, youâ€™ll find that really, there should be a fourth Shadowlord running around now.</p>
<div><p><a href="http://flickr.com/photos/37996580417@N01/6819311"><img decoding="async" title="Original planned UO map" src="https://farm1.static.flickr.com/6/6819311_40cd3d3801.jpg?v=0" alt="Original planned UO map, photo by Cory Doctorow, CC BY-SA" width="400" height="300" data-lazy-src="https://farm1.static.flickr.com/6/6819311_40cd3d3801.jpg?v=0&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></a></p><p>Original planned UO map, photo by Cory Doctorow, CC BY-SA</p></div>
<p>(Originally, the landmass of <em>Second Age</em> was supposed to be Ambrosia from Ultima III, and thereâ€™s actually a spot up north that is where Exodus is supposed to go. We even made the art for the whirlpool that is supposed to go there, and then just never put it in. But thatâ€™s a whole other storyâ€¦)</p>
<p>(Ohâ€¦ and then why does the Stranger in the original UO intro movie have an Ankh on his chest? Because U9 was in development aready, and nobody had time to make a new model. ğŸ™‚ So itâ€™s the same 3d model as was used in U9, which didnâ€™t ship until <em>years</em> later. So expedience led to a fictional glitch.)</p>
<p>In any case, we called parallel servers â€œshardsâ€ and it became a term used occasionally though not universally as a term of art within the field. Youâ€™ll hear folks who worked on MMOs in the 90s use server and shard interchangeably â€” sometimes saying â€œshardâ€ to reference a parallel server cluster rather than a physical server.</p>
<p>So, did this database term come from a doc that I dashed off one afternoon in 1996? Ummâ€¦ I am not sure. Seems like an interesting coincidence, if not.</p>
<p>I wonder if I still have that docâ€¦</p>

 </div>
</div></div>
  </body>
</html>
