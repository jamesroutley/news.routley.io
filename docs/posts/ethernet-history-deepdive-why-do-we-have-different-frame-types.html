<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://lostintransit.se/2024/08/21/ethernet-history-deepdive-why-do-we-have-different-frame-types/">Original</a>
    <h1>Ethernet History Deepdive – Why Do We Have Different Frame Types?</h1>
    
    <div id="readability-page-1" class="page"><div>
		
<p id="block-706b03a9-219d-4673-ac8a-34ca394ae3f4">In my previous post <a href="https://lostintransit.se/2024/07/16/encapsulation-of-pdus-on-trunk-ports/" target="_blank" rel="noreferrer noopener">Encapsulation of PDUs On Trunk Ports</a>, I showed what happens to PDUs when you change the configuration of a trunk. You may have noticed that there are typically <a href="https://lostintransit.se/2012/06/06/the-history-of-ethernet-dix-vs-802-3/" target="_blank" rel="noreferrer noopener">three different types of Ethernet</a> encapsulations that we see:</p>



<ul id="block-85b10207-6a1b-4d4b-ac37-2a1b2b858349">
<li>Ethernet II.</li>



<li>802.2 LLC.</li>



<li>802 SNAP.</li>
</ul>



<p id="block-f1a546d0-d9da-45cd-9d35-68a0d33e2b05">Historically, there were even more than three, but we’re ignoring that for now. Why do we have three? To understand this, we need to go back in history.</p>



<h2 id="block-07303e87-756f-4c2d-ac04-b9c093f745b1">The Origin of Ethernet</h2>



<p id="block-c9395c2c-fcf1-417a-a8da-df8f91fcc26c">In the early 70’s, Robert Metcalfe, inspired by ARPANET and ALOHAnet had been working on developing what we today know as Ethernet. He published a paper in 1976, together with David Boggs, named <strong>Ethernet: Distributed Packet Switching for Local Computer Networks</strong>:</p>



<figure id="block-dc56d3c7-dfd2-4d9a-8714-11f7ffac4c76"><a href="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_paper_1975.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_paper_1975.png" alt="This image has an empty alt attribute; its file name is Ethernet_paper_1975.png"/></a></figure>



<p id="block-7024551d-b0cf-4b04-b5b3-40ef41a0b917">In the paper, they describe the addressing used in Ethernet:</p>



<blockquote>
<p id="block-68c3e499-df3e-41a3-8c17-de018e830dd9">3.3 Addressing</p>
</blockquote>



<p id="block-d601bd26-268f-430c-8835-a5e7346419b7">Interestingly, a packet with a destination of zero is a broadcast. Broadcasts use all ones now as you know.</p>



<p id="block-755b6f21-b48a-4f59-b2a2-bd368e2c1db6">There is then also an image showing what the packet looks like:</p>



<figure id="block-ba209e34-0e26-412e-b723-174ca80948a6"><a href="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_header_1975.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_header_1975.png" alt="This image has an empty alt attribute; its file name is Ethernet_header_1975.png"/></a></figure>



<p id="block-c87e7731-315e-4065-953b-0b754d1ec637">There are many similarities to the Ethernet II header, but notice that the destination and source address were only 8 bits at the time! This makes sense when you consider that Ethernet was originally designed to connect Xerox Altos, the first personal computer:</p>



<figure><a href="https://lostintransit.se/wp-content/uploads/2024/08/Xerox_Alto_mit_Rechner.jpg"><img fetchpriority="high" decoding="async" width="330" height="440" src="https://lostintransit.se/wp-content/uploads/2024/08/Xerox_Alto_mit_Rechner.jpg" alt="" srcset="https://lostintransit.se/wp-content/uploads/2024/08/Xerox_Alto_mit_Rechner.jpg 330w, https://lostintransit.se/wp-content/uploads/2024/08/Xerox_Alto_mit_Rechner-225x300.jpg 225w" sizes="(max-width: 330px) 100vw, 330px"/></a></figure>



<p>The Alto had a 8-bit serial number, and because the expectation was that there wouldn’t be more than 255 Altos, it was enough to have 8 bits for addressing.</p>



<p id="block-c87e7731-315e-4065-953b-0b754d1ec637">Note that while EtherType isn’t show in the packet header above, it’s described verbally in another part of the paper:</p>



<blockquote>
<p>The first 16 bits of all Ethernet packets contain its interface-interpretable destination and source</p>
</blockquote>



<p id="block-83264243-ba0e-4060-b6ee-f31bf6c63b02">This paper was published when Robert was still at Xerox, at the Palo Alto Research Center (PARC).</p>



<h2 id="block-40c5a9f0-282c-4d5e-9696-2bb06d936fb4">The Forming of DIX Consortium</h2>



<p id="block-fba9e2ec-2714-4df5-a377-9f380e3b0263">A little before project 802 had been formed, Metcalfe had co-founded 3Com. This is also when DEC, Intel, and Xerox formed the so called DIX consortium in the fall of 1979. Originally, it was Xerox that owned the trademark of Ethernet. These three companies working together in networking may seem strange today, but at the time they were all massive companies with large market share. These three companies had the engineers and products that were needed to develop Ethernet.</p>



<h2 id="block-8bd7bef2-6777-43f5-be46-a903b0d1362b">The Forming of Project 802</h2>



<p id="block-12e80d23-593c-4f91-a294-e5e8330f219f">In the fall of 1979, a man named Maris Graube, working for Tektronix at the time, had initiated the process at IEEE of forming a project for standardizing LANs. The Project Authorization Request (PAR) is shown below:</p>



<figure id="block-a4d44b0e-60ad-4e29-a17e-94a4f5264e23"><a href="https://lostintransit.se/wp-content/uploads/2024/07/PAR_approval.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/PAR_approval.png" alt="This image has an empty alt attribute; its file name is PAR_approval.png"/></a></figure>



<p id="block-d42cbffc-fba6-46e4-b553-cebd3c78ccc7">They were given the number 802 (just the next number that was available) and so Project 802 with the goal of standardizing local and metropolitan area networks (LANMAN) had been formed.</p>



<p>The goal of P802 was to agree upon functional requirements and develop a standard for it, rather than having commercial products brought into the standards process.</p>



<p>It’s also important to note that the International Organization for Standardization (ISO), were working on defining the Open Systems Interconnection (OSI) reference model. Additionally, TCP/IP was also being defined by Cerf, Kahn, and the others participating in IETF standards process.</p>



<h2 id="block-5ae7a398-6ac8-4037-a37a-0b2385ebde9c">DIX Goes to IEEE</h2>



<p id="block-417ea731-93b5-4d81-b084-c3c3943d270e">The very first meeting for Project 802 was at the Jack Tar hotel in San Francisco in February in 1980. It was in May that things got really interesting, though! In May of 1980, DIX brought Ethernet to the IEEE, intent on Ethernet becoming the de facto standard for LANs. They had been working on Ethernet for several years at this point and the other main competitor, Arcnet, weren’t going to propose their technology to IEEE. The goal of project 802 was obviously to come up with ONE standard for LANs. DIX from their point of view had the solution and probably didn’t expect much resistance. They had also via a press released promised to release Ethernet version 1 on September 30th 1980. Graube, as chair of P802, wasn’t exactly thrilled with the actions of DIX:</p>



<ul id="block-f0b7c0a3-3ce7-48f1-b35a-d8d664190045">
<li>Project 802 was supposed to develop a standard for LANs, based on requirements that would be agreed upon.</li>



<li>They wanted to avoid companies coming in with their solutions and trying to get them passed.</li>



<li>DIX claimed they already had the technology and were somewhat trying to bypass the IEEE process.</li>



<li>DIX had gone to the press, announcing that Ethernet version 1 would be published on 30th of September 1980.</li>
</ul>



<p id="block-90f562ed-4fcb-481c-9940-e3f0eb924d51">Trying to get a standard approved is a very political process. There are many parties involved representing different companies. What do you think happened when DIX presented Ethernet to all the other parties in the meeting? Did they give them a standing ovation? No, as always when you present a technology, people start picking it apart. Some of the objections were around:</p>



<ul id="block-4d87658a-dcba-4e58-8e1b-e2a2292a9488">
<li>Probalistic vs deterministic communication.</li>



<li>Bus topology.</li>



<li>Performance under high loads.</li>



<li>Delivery was not guaranteed.</li>



<li>Collisions and error handling.</li>
</ul>



<p id="block-73f6e864-8b89-4c4f-91e6-6ed880f0a07d">In addition to that, IBM were not interested in passing a standard that they hadn’t developed. The so called not invented here syndrome. They didn’t really have anything else at the time, but weren’t going to back something not coming out of IBM. General Motors were also not happy with Ethernet as they were representing the automotive industry, which according to them had other needs. They were representing the Token Bus camp, another token-based LAN.</p>



<h2 id="block-5a4f28a5-a82d-4525-9a12-8d3637ed5d45">P802 Split Into Three Groups</h2>



<p id="block-6bd67785-709c-4325-922e-689eb1ced9da">After the first few P802 meetings, it was becoming clear that they couldn’t agree on one LAN standard, a failure for 802 at the time. They decided to divide the project into subcommitees. Hence, 802 was split into:</p>



<ul id="block-a7476184-65cb-4def-9887-3438cb5798b2">
<li>Physical Level.</li>



<li>Link Level.</li>



<li>High-Level Interface.</li>
</ul>



<p id="block-c31ea7c1-eac9-485b-804d-3502937d914b">The Link Level (datalink in OSI terms) would consist of Medium Access Control (MAC) and Logical Link Control (LLC). The High-Level Interface is layers three and up in the OSI reference model.</p>



<h2 id="block-581062f3-907f-4d13-9d15-9b8513245445">The Different Camps in IEEE</h2>



<p id="block-5949b919-9818-4858-aa1c-159bc279beff">After the meeting in May, IEEE continued to have meetings and there were four different camps advocating for different solutions:</p>



<ul id="block-25181166-7c1c-4934-a081-ace9604860af">
<li>The CSMA/CD camp advocating for Ethernet, led by DIX.</li>



<li>PROWAY advocates, advocating for a token technology.</li>



<li>IBM, rumored to favor token ring, but unwilling to make their intentions clear.</li>



<li>A chaotic camp, consisting of firms advocating for their proprietary technologies.</li>
</ul>



<h2 id="block-eda0ff4a-8ae2-41d2-ba17-c3d2060aa122">Ethernet Version 1</h2>



<p id="block-db0f46fc-7379-4e21-a7b1-38015f080ff5">Then, on September 30th, DIX released Ethernet version 1 as promised. <a href="https://archive.computerhistory.org/resources/access/text/2013/05/102746652-05-01-acc.pdf" target="_blank" rel="noreferrer noopener">Phil Kaufman</a> of Intel describes how they printed 25000 copies of it:</p>



<blockquote>
<p>The result of that was, with much agony, the Blue Book, which, as I recall, was printed by Intel</p>
</blockquote>



<figure id="block-1394ea31-6b44-420f-9401-bad79009b268"><a href="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_v1_1980.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_v1_1980.png" alt="This image has an empty alt attribute; its file name is Ethernet_v1_1980.png"/></a></figure>



<p id="block-e216ba4a-dadb-4dd7-8401-3401168ed6b8">In this paper, they mention that the goal is to support ISO higher layers:</p>



<figure id="block-81f69c65-d895-4b0b-9847-f98998f02e12"><a href="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_v1_layers.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_v1_layers.png" alt="This image has an empty alt attribute; its file name is Ethernet_v1_layers.png"/></a></figure>



<p id="block-9ef963e3-3aeb-4fbf-a72b-f9802fdb7c78">The header has changed significantly since the paper in 1976:</p>



<figure id="block-7315e1df-22ae-492a-96b0-0554ee72008d"><a href="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_v1_header.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_v1_header.png" alt="This image has an empty alt attribute; its file name is Ethernet_v1_header.png"/></a></figure>



<p id="block-66354153-2667-4017-bcaf-166b698a4e66">Ironically, this version of the header published in 1980 is what we still use to this day. The main changes from the paper in 1976 are:</p>



<ul id="block-636f82ae-55e0-4dc6-9c2c-d7d58e0266cb">
<li>The destination and source address is now 6 octets (48 bits) as opposed to 8 bits.</li>



<li>The concept of multicast by setting a bit to one in the destination address.</li>



<li>Broadcast is now all ones instead of all zeroes.</li>



<li>Data is 46-1500 octets. Previously, it wasn’t well defined what the maximum size was.</li>



<li>The FCS is 4 octets (32 bits) instead of 16 bits.</li>
</ul>



<p id="block-e30f794c-dda7-429f-9ee3-6bb1e7a5973c">The header is 18 octets, meaning the minimum size frame is 64 octets, and maximum size frame is 1518 octets, which is exactly what is being used today.</p>



<h2 id="block-4135c20a-3426-4984-adb0-437491adb25f">Token Proponents Try to Sink CSMA/CD</h2>



<p id="block-17ec9c46-7b5e-433e-8f24-e81fc6b223ed">DIX had released Ethernet version 1 to the public while the work in IEEE was still ongoing. There was a meeting to be held in December 1980, where there was going to be a vote on CSMA/CD (Ethernet) vs token passing technology. There were large companies, such as IBM, determined to sink CSMA/CD at this meeting. From DIX’s point of view, they were going to go forward with Ethernet, regardless of the outcome of IEEE. However, when voting for the two technologies, token passing couldn’t get the two thirds of votes as needed, and neither could Ethernet! Instead, it was decided that there would be two additional subcommittees, for a total of five, where both CSMA/CD and tokens had their own committee:</p>



<figure id="block-a3c816d6-dd72-46d4-a2e7-89a304179cf2"><a href="https://lostintransit.se/wp-content/uploads/2024/07/Dec_1980_subcommittees.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/Dec_1980_subcommittees.png" alt="This image has an empty alt attribute; its file name is Dec_1980_subcommittees.png"/></a></figure>



<h2 id="block-697da662-fe85-4ca3-b1ba-548d1f99b643">LAN Status Report from 1981</h2>



<p id="block-53c5ee64-6554-4b5e-97d9-cd8e345854c2">It’s difficult to find all the details of what went on during these years, but there is an interesting status report from 1981 by G.J. Clancy, Jr., and T.J. Harrison:</p>



<figure id="block-752aaeb5-3ad9-481d-b564-ecee36f118ca"><a href="https://lostintransit.se/wp-content/uploads/2024/07/Status_report_1981.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/Status_report_1981-1024x534.png" alt="This image has an empty alt attribute; its file name is Status_report_1981-1024x534.png"/></a></figure>



<p id="block-549f9e2b-ae81-4312-895e-5ea028efe786">In this status report, the goals of the Data Link and Media Access Control (DLMAC) working group are listed as:</p>



<ul id="block-e4688f8b-f7d0-4dfa-a820-8432ac4decb1">
<li><strong>HDLC Convergence</strong> – HDLC is widely understood and implemented so HDLC should be used if appropriate to do so.</li>



<li><strong>Topological Independence</strong> – Support topologies such as bus, ring, tree, and star.</li>



<li><strong>Transmission Rate Independence</strong> – The data link layer should not be affected by different transmission rates.</li>



<li><strong>Media Independence</strong> – Ability to use different media such as coaxial, fiber, and twisted pair, without affecting data link layer.</li>



<li><strong>Encoding Technique Independence</strong> – Different transmission rates require different encoding, this shouldn’t affect data link layer.</li>
</ul>



<p id="block-861b9ad3-871c-4bc6-bf55-c6ccafde21e4">The report also says:</p>



<blockquote>
<p id="block-774d151c-0d86-4b35-8061-fc0e9eceeb43">In its earlier versions, the proposal recognized the need to interconnect with other networks by providing a “multi link” sublayer at the top of Layer two which provided for the existence of unique interfaces and protocols into the network layer of existing or future networks. At its most recent meeting, the subcommittee further refined and detailed this requirement by providing a mechanism for multiple Service Access Points (SAPs) at the interface between the Link and Network layers. The SAPs provide for multiple connections, identified by unique addresses, as might be required to accomodate multiple “sessions” in the sense of the OSI model.</p>
</blockquote>



<p id="block-14e89df4-16ba-43a7-a67d-71ae71e63f96">The concept of SAPs is something that came out of the OSI reference model.</p>



<p id="block-14e89df4-16ba-43a7-a67d-71ae71e63f96">It was the division of data link into MAC and LLC that was going to allow the MAC layer to be transparent to the upper layers. It would also allow interconnectivity between different LANs data link layers. The diagram below shows how different MAC layers can work with different upper layers:</p>



<figure id="block-d69a89a6-a969-40fb-b94f-df0c4aaa05cf"><a href="https://lostintransit.se/wp-content/uploads/2024/07/IEEE_protocols_OSI-1.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/IEEE_protocols_OSI-1.png" alt="This image has an empty alt attribute; its file name is IEEE_protocols_OSI-1.png"/></a></figure>



<p>The intent here was to have all the protocols coming through 802, such as 802.3, 802.4, and 802.5, use LLC as the layer towards upper layers, allowing for different MAC layers.</p>



<h2 id="block-697da662-fe85-4ca3-b1ba-548d1f99b643">IEEE P802 Drafts and ECMA</h2>



<p id="block-d6a9f698-766d-45a8-93f4-3d8d74318b03">In 1981, P802 created a number of drafts for a LAN standard. The first draft, Draft A was released in May 1981 and Draft B in October. However, calling it a standard was a stretch as these initial drafts had both CSMA/CD and token mechanisms. In fact, rather than telling the readers what to do, which is usually what a standard does, they were telling you what you could do. Do you want baseband or broadband signaling? Do you want coax, fiber, or copper? Do you want CSMA/CD or token passing? There was still a lot of work to be done before this could be passed as a standard. </p>



<p id="block-d6a9f698-766d-45a8-93f4-3d8d74318b03">The CSMA/CD camp, led by DIX, were getting frustrated by the lack of progress in the IEEE standardization process. To try to push things forward, they turned to European Computer Manufacturers Association (ECMA) which had been successful in the work of standardizing OSI protocols. In November of 1981, ECMA created technical group TG LN under Technical Committee 24 to develop LAN standards.</p>



<p>ECMA, working with Xerox, DEC, Siemens, and Olivetti, created a CSMA/CD draft that was closer to what was published in DIX “Blue Book” than the CSMA/CD proposal coming from 802. Additionally, 24 companies had made public their intention to introduce Ethernet products.</p>



<p>When 802 met in March of 1982, it was decided that they would align with ECMA’s proposal, which was the opposite of what had been decided the month before.</p>



<h2 id="block-49cd6ced-f800-4610-85e0-f2354479b70e">ECMA Ratifies a LAN Standard</h2>



<p id="block-516deb91-23d5-446c-90d6-ea60b209d241">In June of 1982, ECMA ratified a LAN standard that was very close to the initial proposal from DIX. In July, 19 companies announced public support for the ECMA CSMA/CD standard. Additionally, press also reported on Ethernet semiconductor chip announcements. The picture below shows a version of the ECMA standard from September 1982:</p>



<figure id="block-9da556c5-2076-4b10-b23f-72014737fe12"><a href="https://lostintransit.se/wp-content/uploads/2024/07/ECMA_1982.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/ECMA_1982.png" alt="This image has an empty alt attribute; its file name is ECMA_1982.png"/></a></figure>



<p id="block-f5a65bcb-9c77-4b4f-a060-e8c582092daf">Note that the ECMA version did use LLC, rather than EtherType:</p>



<figure id="block-bca8168e-a315-41d7-8a73-d4fd891337eb"><a href="https://lostintransit.se/wp-content/uploads/2024/07/ECMA_header.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/ECMA_header.png" alt="This image has an empty alt attribute; its file name is ECMA_header.png"/></a></figure>



<h2 id="block-153aa522-9eae-42f5-8698-7f60993526c6">P802 Fragments Further</h2>



<p id="block-6ebf8489-a646-45bc-94ba-491ecc97e01c">Ironically, once the camps supporting token passing couldn’t sink CSMA/CD, they started to fraction further into two camps:</p>



<ul id="block-62685bfe-edc3-4767-a72b-19c8fef644f9">
<li>Token bus.</li>



<li>Token ring.</li>
</ul>



<p id="block-acd0ff0e-1914-4d73-97f7-ba0060f22ee1">In August of 1982, P802 was fragmented further into three distinct subcommittees:</p>



<ul id="block-9cc93730-c26b-481f-a072-cddc9aaf166a">
<li>802.3 – CSMA/CD.</li>



<li>802.4 – Token bus.</li>



<li>802.5 – Token ring.</li>
</ul>



<p id="block-0ee02723-af79-4ee2-b135-9c8eeff7ab0c">The intention was to use 802.2 Logical Link Control for all of them according to this structure where 802.1 is overseeing the entire architecture and direction:</p>



<figure id="block-78c6bbd0-16c5-40ef-96a9-cf92580ca896"><a href="https://lostintransit.se/wp-content/uploads/2024/07/IEEE_working_groups.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/IEEE_working_groups.png" alt="This image has an empty alt attribute; its file name is IEEE_working_groups.png"/></a></figure>



<h2 id="block-243e6f87-f1c6-4b1e-b9b4-3f293a6164ea">DIX Ethernet II</h2>



<p id="block-27bded98-bc79-4c3e-aef6-d39b26310f1d">In November 1982, DIX released version 2 of Ethernet:</p>



<figure id="block-4bb8b656-93da-4b26-b38d-fe2fb36231ac"><a href="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_II_paper.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_II_paper.png" alt="This image has an empty alt attribute; its file name is Ethernet_II_paper.png"/></a></figure>



<p id="block-6865ba05-91a7-4fe7-8d83-206d3b37c2a4">This document had been reworked from 1980 based on the work in the IEEE and ECMA. In the preface of this document, there is some interesting information. They mention differences from v1:</p>



<blockquote>
<p id="block-4772a70b-bb5f-41df-8e63-e76d4c31c5b4">Version 2.0 of the Ethernet specification reflects the experience of the three corporations in designing equipment to the Version 1.0 specification. Version 2.0 includes network management functions and better defines the details of the physical channel signaling. Version 2.0 is upward compatible with Version 1.0. Equipment designed to the two specifications is interoperable.</p>
</blockquote>



<p id="block-a84b81dc-2d3d-4854-b5b9-857e66d1fbc2">On the compatibility with IEEE and ECMA:</p>



<blockquote>
<p id="block-0e6f99a8-73ba-474a-8599-c9023c17afbd">Version 2.0 of the Ethernet specification is substantially compatible with standards for CSMA/CD local area networks being developed by IEEE and ECMA. The three corporations have been active participants in these standard efforts and have now endorsed their documents. Version 2.0 of the Ethernet specification is an interim document. We expect that future work will take place in these standards bodies.</p>
</blockquote>



<p id="block-abf43c4b-df21-4ba5-a838-0751a5efdb6d">The physical- and data link layers are described as:</p>



<figure id="block-1ad5192f-727d-4d73-9b67-49dccfa5af03"><a href="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_II_physical_and_link_layer.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_II_physical_and_link_layer-1024x563.png" alt="This image has an empty alt attribute; its file name is Ethernet_II_physical_and_link_layer-1024x563.png"/></a></figure>



<p id="block-beb54976-0788-4066-ae18-f045d1ac7373">Interestingly, DIX stuck with their original header as opposed to using LLC as IEEE and ECMA intended:</p>



<figure id="block-b8230739-db67-4eae-9a78-3801eaa2932e"><a href="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_II_header.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/Ethernet_II_header.png" alt="This image has an empty alt attribute; its file name is Ethernet_II_header.png"/></a></figure>



<p>The outcome of all of the work from P802 was basically:</p>



<ul>
<li>Ethernet switched from DIX physical interface specs to 802.3.</li>



<li>While the Ethernet II header was more common, there were also some systems using 802.3 framing.</li>



<li>To separate between the two, Ethernet II uses only EtherType values that have a value of 1536 or greater (0x600).</li>
</ul>



<p id="block-49f47ab3-eb04-40c2-8e9e-5c9b6db1cd3f">The Ethernet II header is shown below:</p>



<figure><a href="https://lostintransit.se/wp-content/uploads/2024/08/Ethernet_II_header_ppt.png"><img decoding="async" width="918" height="98" src="https://lostintransit.se/wp-content/uploads/2024/08/Ethernet_II_header_ppt.png" alt="" srcset="https://lostintransit.se/wp-content/uploads/2024/08/Ethernet_II_header_ppt.png 918w, https://lostintransit.se/wp-content/uploads/2024/08/Ethernet_II_header_ppt-300x32.png 300w, https://lostintransit.se/wp-content/uploads/2024/08/Ethernet_II_header_ppt-768x82.png 768w" sizes="(max-width: 918px) 100vw, 918px"/></a></figure>



<p id="block-49f47ab3-eb04-40c2-8e9e-5c9b6db1cd3f">What about the other two frame types I mentioned initally?</p>



<h2 id="block-5edd0ef0-b5b9-4e6c-995c-1eec18f2346b">802.2 LLC</h2>



<p id="block-22681bf5-0f07-4fe8-8e44-3b224fa65900">As I mentioned previously, the intention with 802.2 LLC was to have it be a layer above the MAC layer, to make the MAC layer transparent to upper layers and also to facilitate for interconnections between different LANs data link layers. I also mentioned that LLC was inspired by HDLC.</p>



<p id="block-b9ac408e-e6e6-4323-98ab-e98d3135ca7e">802.2 LLC was originally published in 1985 (IEEE 802.2-1985):</p>



<figure id="block-bc19dcca-03ea-4b98-9fec-bfabd12c3033"><a href="https://lostintransit.se/wp-content/uploads/2024/07/LLC_1985.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/07/LLC_1985.png" alt="This image has an empty alt attribute; its file name is LLC_1985.png"/></a></figure>



<p id="block-8063175f-89d4-436d-8e14-4c943c60de25">The standard initially deals with 802.3, 802.4, and 802.5:</p>



<blockquote>
<p id="block-0110203b-8ea4-4b1e-998b-54f13aeb6153">This family of standards deals with the physical and data link layers as defined by the ISO Open System Interconnection Reference Model. The access standards define three types of medium access technologies and associated physical media, each appropriate for particular applications or system objectives. The standards defining these technologies are</p>
</blockquote>



<p>Let’s dive into the format of the LLC PDU.</p>



<h3 id="block-a69640d3-a110-479a-aacc-169d7520ab40">LLC PDUs</h3>



<p id="block-bc5d5f5c-2225-4e0c-aec8-64a74563feec">The LLC PDU is shown below:</p>



<figure id="block-a7e83118-4dca-4e26-b690-2eed0de7b512"><a href="https://lostintransit.se/wp-content/uploads/2024/08/LLC_PDU.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/08/LLC_PDU.png" alt="This image has an empty alt attribute; its file name is LLC_PDU.png"/></a></figure>



<p id="block-b3286bf7-4c2b-4cb7-924b-0789e42a2ef3">The following fields are in the PDU:</p>



<ul id="block-9ec257a9-76a8-41fd-91d5-03d2025122d3">
<li><strong>DSAP</strong> – Destination SAP indicates the Destination Service Access Point.</li>



<li><strong>SSAP</strong> – Source SAP indicates the Source Service Access Point.</li>



<li><strong>Control</strong> – Designates command and response functions.</li>



<li><strong>Information</strong> – Payload from upper layers.</li>
</ul>



<p id="block-218e577f-dfde-4f66-a6d1-d76e44087084">Notice the use of the Control field, which is the same as used in HDLC. The picture below shows a comparison of LLC to HDLC where 802.3 is used with LLC:</p>



<figure id="block-b1e0666c-804c-4b45-9e6e-210662f5c50d"><a href="https://lostintransit.se/wp-content/uploads/2024/08/LLC_compared_to_HDLC-1.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/08/LLC_compared_to_HDLC-1.png" alt="This image has an empty alt attribute; its file name is LLC_compared_to_HDLC-1.png"/></a></figure>



<p id="block-33182329-4c9c-46ea-b763-38895f6620a0">Compared to HDLC, the address and FCS is handled by the MAC layer. Additionally, LLC has the DSAP and SSAP that can be used to identify upper layer protocols/applications. </p>



<p id="block-79ac3943-39da-41cf-9d2f-c47bb1bb4fd7">The use of 802.3 with LLC was what IEEE was intending to standardize on for CSMA/CD, but as you know, the Ethernet II frame is what prevailed. There’s a lot more to the DSAP that I’ll cover in a future post. For now, think of the DSAP as the equivalent of EtherType. There’s an issue with the DSAP, though.</p>



<p id="block-d63e73ec-de58-4fbc-9b0e-d0e9c7e44d11">Let’s take a closer look at the DSAP:</p>



<figure id="block-a0fbb064-beb0-49da-93e5-518b91e860b2"><a href="https://lostintransit.se/wp-content/uploads/2024/08/LLC_DSAP.png"><img decoding="async" src="https://lostintransit.se/wp-content/uploads/2024/08/LLC_DSAP.png" alt="This image has an empty alt attribute; its file name is LLC_DSAP.png"/></a></figure>



<p id="block-62fdba4c-5c87-4566-8273-6916e49eeacc">The DSAP consists of eight bits, but since one bit is used to indicate if it’s an individual or group DSAP, that means only seven bits remain for assignment to upper layer protocols. Additionally, all DSAPs with an address starting with a one (X1DDDDDD) are reserved by IEEE, meaning that there are actually only 6 bits that can be used to assign DSAPs, for a total of 64 (2^6) values. With EtherType being 16 bits, it allows for a theoretical maximum of 65536 values, while DSAP only has 64! Having only 64 values is not enough which leads us to 802 SNAP.</p>



<h2>802 SNAP</h2>



<p>Having only 64 values to assign to upper layer wasn’t going to be enough. What could be done to provide more values? An addition was made to the 802 standard, defined in 802.1. Subnetwork Access Protocol (SNAP) is defined as follows:</p>



<blockquote>
<p>The reserved LLC address for use with SNAP is called the SNAP address. It is defined to be the bit pattern</p>




</blockquote>



<p>What this is telling us is that two SAPs are reserved in LLC to indicate SNAP is being used:</p>



<ul>
<li><strong>AA</strong> – (10101010).</li>



<li><strong>AB</strong> – (10101011).</li>
</ul>



<p>The SNAP extension is five octets, where three octets are used as an OUI to identify the organization, and two octets to identify the protocol. The format of the SNAP frame is shown below:</p>



<figure><a href="https://lostintransit.se/wp-content/uploads/2024/08/802-SNAP-header.png"><img decoding="async" width="1024" height="90" src="https://lostintransit.se/wp-content/uploads/2024/08/802-SNAP-header-1024x90.png" alt="" srcset="https://lostintransit.se/wp-content/uploads/2024/08/802-SNAP-header-1024x90.png 1024w, https://lostintransit.se/wp-content/uploads/2024/08/802-SNAP-header-300x26.png 300w, https://lostintransit.se/wp-content/uploads/2024/08/802-SNAP-header-768x67.png 768w, https://lostintransit.se/wp-content/uploads/2024/08/802-SNAP-header.png 1175w" sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>



<p>Below is an example of a PVST+ BPDU:</p>



<pre data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="false" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">Frame 2: 64 bytes on wire (512 bits), 64 bytes captured (512 bits)
IEEE 802.3 Ethernet 
    Destination: 01:00:0c:cc:cc:cd
    Source: 52:54:00:04:2a:87
    Length: 50
Logical-Link Control
    DSAP: SNAP (0xaa)
    SSAP: SNAP (0xaa)
    Control field: U, func=UI (0x03)
    Organization Code: 00:00:0c (Cisco Systems, Inc)
    PID: PVSTP+ (0x010b)
Spanning Tree Protocol</pre>



<p>Note the following:</p>



<ul>
<li>The frame is 64 bytes, 14 bytes of Ethernet and 50 bytes of payload.</li>



<li>The length is 50 bytes, which is the payload excluding Ethernet header.</li>



<li>Both DSAP and SSAP are set to 0xaa to indicate 802 SNAP frame.</li>



<li>Control is set to 0x03 which is used for unnumbered frames.</li>



<li>The organization code identifies the organization as Cisco.</li>



<li>The protocol code identifies the protocol as PVST+.</li>
</ul>



<p>The benefit of using 802 SNAP is that a vendor can define their own protocols associated with their OUI, as opposed to requesting an EtherType from IEEE. However, the use of SNAP is an additional eight bytes, three bytes of LLC, and five bytes of SNAP. This means that the payload is decreased by eight bytes. The 802 SNAP frame is less efficient than Ethernet II. This is not really an issue today as SNAP is mainly used for control protocols, not user data. There was a time when 802 SNAP was also used for user data, though.</p>



<h2>Summary</h2>



<p>The history of Ethernet is fascinating. The reason why we have three different frame types is that DIX used the Ethernet II frame that is prevalent today, while IEEE intended to use a different frame format that could be used for different MAC layers, such as token bus, token ring, FDDI, and so on. The IEEE were also inspired by HDLC, and modeled their frame header more in alignment with the OSI reference model that had the concept of SAPs. When they discovered that the number of available SAPs weren’t enough, they made an addition to the 802 standard to support SNAP frames. In networks today, Ethernet II is dominant, but some control protocols may use LLC and/or SNAP frames.</p>
<p><span>Ethernet History Deepdive – Why Do We Have Different Frame Types?</span></p>			<div><p>
				Tagged on: <a href="https://lostintransit.se/tag/802-3/" rel="tag">802.3</a>    <a href="https://lostintransit.se/tag/dix/" rel="tag">DIX</a>    <a href="https://lostintransit.se/tag/ethernet/" rel="tag">Ethernet</a>    <a href="https://lostintransit.se/tag/llc/" rel="tag">LLC</a>    <a href="https://lostintransit.se/tag/sap/" rel="tag">SAP</a>    <a href="https://lostintransit.se/tag/snap/" rel="tag">SNAP</a>			</p></div>
				</div></div>
  </body>
</html>
