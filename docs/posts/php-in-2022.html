<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://stitcher.io/blog/php-in-2022">Original</a>
    <h1>PHP in 2022</h1>
    
    <div id="readability-page-1" class="page"><p>
        Scout APM helps PHP developers pinpoint N+1 queries, memory leaks &amp; more so you
        can troubleshoot fast &amp; get back to coding faster. <a href="https://ter.li/yvaix5" target="_blank" rel="noopener noreferrer sponsored">Start your free 14-day trial today</a>.
    </p><article>
        

                    
        
        
        <p>It&#39;s the fourth time I&#39;m writing a yearly &#34;PHP in 20XX&#34; post, and I must admit I&#39;ve never been as excited about it is this year: we&#39;ve seen awesome new features added to PHP, with stuff like attributes, enums, promoted properties and fibers; and on top of that, the static analysis community is making great progress, my personal favourite feature is PhpStorm now supporting generics <em>when</em> writing code.</p>
<p>Exciting times are ahead, let&#39;s take a look at modern day PHP!</p>
<hr/>
<h2 id="php-8.1"><a href="#php-8.1">#</a> PHP 8.1</h2>
<p>I can&#39;t help but start this list with <a href="https://stitcher.io/blog/new-in-php-81">the newest PHP version</a>, released just a little more than one month ago. My main projects are already being prepared to run on PHP 8.1 in production, which I must admit I&#39;m very excited about. You might not expect it from a minor release — there are no major breaking changes and only deprecation notices added — but PHP 8.1 brings some very cool features. here&#39;s my personal top three.</p>
<p><a href="https://stitcher.io/blog/php-enums">Enums</a> are now built-into the language:</p>
<pre><code data-lang="php"><span>enum</span> <span>Status</span>
{
    <span>case</span> <span>draft</span>;
    <span>case</span> <span>published</span>;
    <span>case</span> <span>archived</span>;
    
    <span>public</span> <span><span>function</span> <span>color</span><span>()</span>: <span>string</span>
    </span>{
        <span>return</span> <span>match</span>(<span>$this</span>) 
        {
            <span>Status</span>::<span>draft</span> =&gt; <span>&#39;grey&#39;</span>,   
            <span>Status</span>::<span>published</span> =&gt; <span>&#39;green&#39;</span>,   
            <span>Status</span>::<span>archived</span> =&gt; <span>&#39;red&#39;</span>,   
        };
    }
}</code></pre>
<p>We&#39;re able to use <code><span>new</span></code> <a href="https://stitcher.io/blog/php-81-new-in-initializers">in initializers</a>:</p>
<pre><code data-lang="php"><span><span>class</span> <span>PostStateMachine</span>
</span>{
    <span>public</span> <span><span>function</span> <span>__construct</span><span>(
        <span>private</span> <span>State</span> <span>$state</span> = <span>new</span> <span>Draft</span><span>()</span>,
    )</span> </span>{
    }
}</code></pre>
<p>And, of course, <a href="https://stitcher.io/blog/php-81-readonly-properties">readonly properties</a>:</p>
<pre><code data-lang="php"><span><span>class</span> <span>PostData</span>
</span>{
    <span>public</span> <span><span>function</span> <span>__construct</span><span>(
        <span>public</span> <span>readonly</span> <span>string</span> <span>$title</span>,
        <span>public</span> <span>readonly</span> <span>PostState</span> <span>$state</span>,
        <span>public</span> <span>readonly</span> <span>DateTimeImmutable</span> <span>$publishedAt</span>,
    )</span> </span>{}
}</code></pre>
<p>Which, combined with PHP 8.0&#39;s <a href="https://stitcher.io/blog/constructor-promotion-in-php-8">promoted properties</a>, make for some very clean data classes. Just to visualise the difference, here&#39;s that same class, with the same functionality, written in PHP 5.6:</p>
<pre><code data-lang="php"><span><span>class</span> <span>BlogData</span>
</span>{
    
    <span>private</span> <span>$title</span>;
    
    
    <span>private</span> <span>$state</span>;
    
    
    <span>private</span> <span>$publishedAt</span>;
   
   
    <span>public</span> <span><span>function</span> <span>__construct</span><span>(
        $title,
        $state,
        $publishedAt = <span>null</span>
    )</span> </span>{
        <span>$this</span>-&gt;<span>title</span> = $title;
        <span>$this</span>-&gt;<span>state</span> = $state;
        <span>$this</span>-&gt;<span>publishedAt</span> = $publishedAt;
    }
    
    
    <span>public</span> <span><span>function</span> <span>getTitle</span><span>()</span>
    </span>{
        <span>return</span> <span>$this</span>-&gt;<span>title</span>;    
    }
    
    
    <span>public</span> <span><span>function</span> <span>getState</span><span>()</span> 
    </span>{
        <span>return</span> <span>$this</span>-&gt;<span>state</span>;    
    }
    
    
    <span>public</span> <span><span>function</span> <span>getPublishedAt</span><span>()</span> 
    </span>{
        <span>return</span> <span>$this</span>-&gt;<span>publishedAt</span>;    
    }
}</code></pre>
<p>Can you see why I&#39;m excited? PHP is getting these awesome syntax improvements with every release. It&#39;s only getting more and more fun to write it! Of course, there are a lot more features added in modern PHP, check out my 3-minute video if you want a quick rundown, or you can scroll to keep reading — there&#39;s much more exciting about PHP in 2022!</p>
<iframe width="560" height="420" src="https://www.youtube.com/embed/W3p8BGeiTwQ" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
<h2 id="static-analysis"><a href="#static-analysis">#</a> Static Analysis</h2>
<p>I&#39;ve already briefly mentioned it: static analysis in PHP is growing significantly.</p>
<ul>
<li>Frameworks like Laravel are embracing <a href="https://github.com/laravel/framework/pull/38538">static typing</a> more and more (writing code and docblocks with the sole purpose of helping static analysis);</li>
<li>PhpStorm <a href="https://blog.jetbrains.com/phpstorm/2021/07/phpstorm-2021-2-beta/">added support</a> for generic types, it&#39;s a pretty big deal if you can write generic code and have your IDE understand it <em>while</em> you&#39;re writing it;</li>
<li>
<a href="https://packagist.org/packages/phpstan/phpstan/stats">PhpStan</a> and <a href="https://packagist.org/packages/vimeo/psalm/stats">psalm</a> are only growing; and finally</li>
<li>my own newsletter <a href="https://road-to-php.com/static">series about static analysis</a> has been doing pretty well with over 1500 participants, more and more people are getting interested in the topic.</li>
</ul>
<p>If you just want a quick read about why static analysis matters in PHP, and why I&#39;m so excited about it, you could check out this blog post: &#34;<a href="https://stitcher.io/blog/we-dont-need-runtime-type-checks">We don&#39;t need runtime type checks</a>&#34;.</p>
<p>
        Do you want to learn more about PHP 8.1? There&#39;s <a href="https://road-to-php.com/">The Road to PHP 8.1</a>.
        For the next 10 days, you&#39;ll receive a daily email covering a new and exiting feature of PHP 8.1; afterwards you&#39;ll be automatically unsubscribed, so no spam or followup.
        <a href="https://road-to-php.com/">Subscribe now!</a>
    </p>

<h2 id="the-php-foundation"><a href="#the-php-foundation">#</a> The PHP foundation</h2>
<p>Two months ago, the PHP world got some pretty big news, maybe even the biggest news of 2021: Nikita, one of most active core maintainers is stepping down to work on LLVM, but at the same time there&#39;s also a new initiative backed by several big companies to finally make core development sustainable.</p>
<p>In short, there&#39;s the <a href="https://opencollective.com/phpfoundation">PHP Foundation</a>, a non-profit with the only goal to fund PHP core development. The initiative is driven by JetBrains, who have already pledged $100,000 to the project. Alongside many others, they have now raised $329,920.75; a good start!</p>
<p>That money is used to fund core development, and opens doors for people to work on PHP who were previously unable. You can read more about the Foundation&#39;s mission and goals in <a href="https://blog.jetbrains.com/phpstorm/2021/11/the-php-foundation/">JetBrains&#39; blog post</a>.</p>
<h2 id="the-ecosystem"><a href="#the-ecosystem">#</a> The ecosystem</h2>
<p>Just like every year, I can&#39;t go without mentioning Packagist, now with over 3 million registered versions and more than 300.000 packages. As you can see, the ecosystem just keeps growing and growing, 2022 won&#39;t be any different.</p>
<p><a href="https://stitcher.io/resources/img/blog/php-in-2022/01.png"><img src="https://stitcher.io/resources/img/blog/php-in-2022/01.png" srcset="/resources/img/blog/php-in-2022/01-2084x822.png 2084w, /resources/img/blog/php-in-2022/01-1804x712.png 1804w, /resources/img/blog/php-in-2022/01-2330x920.png 2330w, /resources/img/blog/php-in-2022/01-1042x411.png 1042w, /resources/img/blog/php-in-2022/01-1473x581.png 1473w" sizes="" alt=""/></a></p>
<p>Oh, by the way, just recently Packagist passed the milestone of having handled over more than 50 billion installs. Congrats Packagist!</p>
<h2 id="async-php"><a href="#async-php">#</a> Async PHP</h2>
<p>One exciting development in the async community, is that the developers from both Amp and ReactPHP — the two major async players — have come together to make a fiber-compatible event loop implementation called <a href="https://github.com/revoltphp/event-loop">Revolt PHP</a>.</p>
<p>In comparison to the community at large, async PHP is only used by a small portion of it; but nevertheless it&#39;s still to see the async community is going strong and embracing modern PHP.</p>
<h2 id="serverless-php"><a href="#serverless-php">#</a> Serverless PHP</h2>
<p>An interesting development I&#39;ve been following along the sideline, is serverless PHP. My buddy <a href="https://twitter.com/matthieunapoli">Matthieu Napoli</a> is making it his mission to educate PHP developers about this relatively new way of using PHP, and he seems to be doing pretty well. You can check out <a href="https://bref.sh/">Bref</a>, his open source project to make serverless PHP easy, or check out <a href="https://gumroad.com/a/575280243">his course</a> about serverless PHP in 2022.</p>
<p>I haven&#39;t had any use cases for it myself, but I know more and more people running serverless PHP in production, so it&#39;s definitely something worth keeping an eye on.</p>
<div><p>
    Noticed a tpyo? You can <a href="https://github.com/brendt/stitcher.io" target="_blank" rel="noopener noreferrer">submit a PR</a> to fix it.

    If you want to stay up to date about what&#39;s happening on this blog, you can follow me
    on <a href="https://mobile.twitter.com/brendt_gd" target="_blank" rel="noopener noreferrer">Twitter</a> or subscribe to my newsletter:

    </p>
</div>

<p>These are the things that stood out the most to me personally in 2021, and that make me excited for PHP in 2022. Awesome new syntax, stability for core development thanks to the PHP Foundation, static analysis is growing stronger and better, and lots of interesting developments across the community.</p>
<p>What are you most excited about? Let me know on <a target="_blank" href="https://twitter.com/brendt_gd">Twitter</a> or via <a href="mailto:brendt@stitcher.io">email</a>; I&#39;d love to hear your thoughts!</p>


                    
        
            </article></div>
  </body>
</html>
