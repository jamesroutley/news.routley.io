<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://jdk.java.net/19/release-notes">Original</a>
    <h1>JDK 19 Release Notes</h1>
    
    <div id="readability-page-1" class="page"><div id="main">

<section>
<p>These notes describe important changes, enhancements, removed
APIs and features, deprecated APIs and features, and other
information about JDK 19 and Java SE 19. In some cases, the
descriptions provide links to additional detailed information about
an issue or a change. This page does not duplicate the descriptions
provided by the <a href="https://cr.openjdk.java.net/~iris/se/19/latestSpec/">Java SE 19
( JSR 394) Platform Specification</a>, which provides informative
background for all specification changes and might also include the
identification of removed or deprecated APIs and features not
described here. The Java SE 19 ( JSR 394) specification provides
links to:</p>
<ul>
<li>
<p><strong>Annex 1:</strong> The complete <a href="https://cr.openjdk.java.net/~iris/se/19/latestSpec//api/index.html">
Java SE 19 API Specification</a>.</p>
</li>
<li>
<p><strong>Annex 2:</strong> An <a href="https://cr.openjdk.java.net/~iris/se/19/latestSpec/apidiffs/overview-summary.html">
annotated API specification</a> showing the exact differences
between Java SE 17 and Java SE 19. Informative background for these
changes may be found in the list of approved Change Specification
Requests for this release.</p>
</li>
<li>
<p><strong>Annex 3:</strong> Java SE 19 Editions of <a href="https://cr.openjdk.java.net/~iris/se/18/latestSpec/java-se-19-annex-3.html">
The Java Language Specification</a> and <a href="https://cr.openjdk.java.net/~iris/se/19/latestSpec/java-se-19-annex-3.html">
The Java Virtual Machine Specification</a>. The Java SE 19 Editions
contain all corrections and clarifications made since the Java SE
17 Editions, as well as additions for new features.</p>
</li>
</ul>
<p>You should be aware of the content in the Java SE 19 ( JSR 394)
specification as well as the items described in this page.</p>
<p>The descriptions on this Release Notes page also identify
potential compatibility issues that you might encounter when
migrating to JDK 19. The <a href="https://wiki.openjdk.java.net/display/csr/Kinds+of+Compatibility">Kinds
of Compatibility</a> page on the OpenJDK wiki identifies the
following three types of potential compatibility issues for Java
programs that might be used in these release notes:</p>
<ul>
<li>
<p><strong>Source:</strong> Source compatibility preserves the
ability to compile existing source code without error.</p>
</li>
<li>
<p><strong>Binary:</strong> Binary compatibility is defined in The
Java Language Specification as preserving the ability to link
existing class files without error.</p>
</li>
<li>
<p><strong>Behavioral:</strong> Behavioral compatibility includes
the semantics of the code that is executed at runtime.</p>
</li>
</ul>
<p>See <a href="https://bugs.openjdk.java.net/issues/?filter=41881">CSRs Approved
for JDK 19</a> for the list of CSRs closed in JDK 19 and the
<a href="https://wiki.openjdk.java.net/display/csr/Main">Compatibility
&amp; Specification Review (CSR)</a> page on the OpenJDK wiki for
general information about compatibility.</p>
<p>The full version string for this release is build 19+36 (where
&#34;+&#34; means &#34;build&#34;). The version number is 19.</p>
<p><strong>IANA Data 2022a</strong></p>
<p>JDK 19 contains IANA time zone data versions 2022a. For more
information, refer to <a href="https://www.oracle.com/java/technologies/tzdata-versions.html">Timezone
Data Versions in the JRE Software</a>.</p>
<p><strong>The follow are highlights of significant
changes</strong></p>
<div><p><b><a href="https://bugs.openjdk.org/browse/JDK-8260244">JEP
405</a> Record Patterns (Preview)</b></p>
<p>Enhance the Java programming language with <em>record
patterns</em> to deconstruct record values. Record patterns and
type patterns can be nested to enable a powerful, declarative, and
composable form of data navigation and processing. This is a
<a href="https://openjdk.java.net/jeps/12">preview language
feature</a>.</p>
</div>
<div><p><b><a href="https://bugs.openjdk.org/browse/JDK-8276797">JEP
422</a> Linux/RISC-V Port</b></p>
<p>Port the JDK to Linux/RISC-V.</p>
</div>
<div><p><b><a href="https://bugs.openjdk.org/browse/JDK-8282048">JEP
424</a> Foreign Function &amp; Memory API (Preview)</b></p>
<p>Introduce an API by which Java programs can interoperate with
code and data outside of the Java runtime. By efficiently invoking
foreign functions (i.e., code outside the JVM), and by safely
accessing foreign memory (i.e., memory not managed by the JVM), the
API enables Java programs to call native libraries and process
native data without the brittleness and danger of JNI. This is a
<a href="https://openjdk.java.net/jeps/12">preview API</a>.</p>
</div>
<div><p><b><a href="https://bugs.openjdk.org/browse/JDK-8277131">JEP
425</a> Virtual Threads (Preview)</b></p>
<p>Introduce <em>virtual threads</em> to the Java Platform. Virtual
threads are lightweight threads that dramatically reduce the effort
of writing, maintaining, and observing high-throughput concurrent
applications. This is a <a href="https://openjdk.java.net/jeps/12">preview API</a>.</p>
</div>
<div><p><b><a href="https://bugs.openjdk.org/browse/JDK-8280173">JEP
426</a> Vector API (Fourth Incubator)</b></p>
<p>Introduce an API to express vector computations that reliably
compile at runtime to optimal vector instructions on supported CPU
architectures, thus achieving performance superior to equivalent
scalar computations.</p>
</div>
<div><p><b><a href="https://bugs.openjdk.org/browse/JDK-8282272">JEP
427</a> Pattern Matching for switch (Third Preview)</b></p>
<p>Enhance the Java programming language with pattern matching for
<code>switch</code> expressions and statements. Extending pattern
matching to <code>switch</code> allows an expression to be tested
against a number of patterns, each with a specific action, so that
complex data-oriented queries can be expressed concisely and
safely. This is a <a href="https://openjdk.java.net/jeps/12">preview language
feature</a>.</p>
</div>
<div><p><b><a href="https://bugs.openjdk.org/browse/JDK-8277129">JEP
428</a> Structured Concurrency (Incubator)</b></p>
<p>Simplify multithreaded programming by introducing an API for
<em>structured concurrency</em>. Structured concurrency treats
multiple tasks running in different threads as a single unit of
work, thereby streamlining error handling and cancellation,
improving reliability, and enhancing observability. This is an
<a href="https://openjdk.org/jeps/11">incubating API</a>.</p>
</div>
<h2>Contents</h2>
<ul>
<li><a href="#newfeatures">New Features</a></li>
<li><a href="#removed">Removed Features and Options</a></li>
<li><a href="#deprecated">Deprecated Features and Options</a></li>
<li><a href="#knownissues">Known Issues</a></li>
<li><a href="#notes">Other Notes</a></li>
</ul>
</section>
<section id="newfeatures">
<h2>New Features</h2>
<p>This section describes some of the enhancements in Java SE 19
and JDK 19. In some cases, the descriptions provide links to
additional detailed information about an issue or a change. The
APIs described here are provided with the Oracle JDK. It includes a
complete implementation of the Java SE 19 Platform and additional
Java APIs to support developing, debugging, and monitoring Java
applications. Another source of information about important
enhancements and new features in Java SE 19 and JDK 19 is the
<a href="https://cr.openjdk.java.net/~iris/se/19/latestSpec/">Java
SE 19 ( JSR 394)</a> Platform Specification, which documents the
changes to the specification made between Java SE 17 and Java SE
19. This document includes descriptions of those new features and
enhancements that are also changes to the specification. The
descriptions also identify potential compatibility issues that you
might encounter when migrating to JDK 19.</p>
<section id="JDK-8280494">
<h3>(D)TLS Signature Schemes <span>(<a href="https://bugs.openjdk.org/browse/JDK-8280494">JDK-8280494</a>)</span><a href="#JDK-8280494" title="Direct link to this note"></a></h3>
<section>security-libs/javax.net.ssl</section>
<section>
<p>New Java SE APIs,
<code>javax.net.ssl.getSignatureSchemes()</code> and
<code>javax.net.ssl.setSignatureSchemes()</code>, have been added
to allow applications to customize the signature schemes used in
individual TLS or DTLS connections.</p>
<p>Note that the underlying provider may define the default
signature schemes for each TLS or DTLS connection. Applications may
also use the existing &#34;jdk.tls.client.SignatureSchemes&#34; and/or
&#34;jdk.tls.server.SignatureSchemes&#34; system properties to customize
the provider-specific default signature schemes. If not
<code>null</code>, the signature schemes passed to the
<code>setSignatureSchemes()</code> method will override the default
signature schemes for the specified TLS or DTLS connections.</p>
<p>Note that a provider may not have been updated to support the
new APIs and in that case may ignore the signature schemes that are
set. The JDK <code>SunJSSE</code> provider supports this method. It
is recommended that 3rd party providers add support for these
methods when they add support for JDK 19 or later releases.</p>
</section>
</section>
<section id="JDK-8283620">
<h3>New System Properties for <code>System.out</code> and
<code>System.err</code> <span>(<a href="https://bugs.openjdk.org/browse/JDK-8283620">JDK-8283620</a>)</span><a href="#JDK-8283620" title="Direct link to this note"></a></h3>
<section>core-libs/java.lang</section>
<section>
<p>Two new system properties, <code>stdout.encoding</code> and
<code>stderr.encoding</code>, have been added. The value of these
system properties is the encoding used by the standard output and
standard error streams (<code>System.out</code> and
<code>System.err</code>).</p>
<p>The default values of these system properties depend on the
platform. The values take on the value of the
<code>native.encoding</code> property when the platform does not
provide streams for the console. The properties can be overridden
on the launcher&#39;s command line option (with <code>-D</code>) to set
them to <code>UTF-8</code> where required.</p>
</section>
</section>
<section id="JDK-8268081">
<h3>Support Unicode 14.0 <span>(<a href="https://bugs.openjdk.org/browse/JDK-8268081">JDK-8268081</a>)</span><a href="#JDK-8268081" title="Direct link to this note"></a></h3>
<section>core-libs/java.lang</section>
<section>
<p>This release upgrades Unicode support to 14.0, which includes
the following:</p>
<p>The <code>java.lang.Character</code> class supports Unicode
Character Database of 14.0 level, which adds 838 characters, for a
total of 144,697 characters. These additions include 5 new scripts,
for a total of 159 scripts, as well as 37 new emoji characters. The
<code>java.text.Bidi</code> and <code>java.text.Normalizer</code>
classes support 14.0 level of Unicode Standard Annexes, #9 and #15,
respectively. The <code>java.util.regex</code> package supports
Extended Grapheme Clusters based on 14.0 level of Unicode Standard
Annex #29 For more detail about Unicode 14.0, refer to the <a href="https://unicode.org/versions/Unicode14.0.0/">Unicode Consortium&#39;s
release note</a>.</p>
</section>
</section>
<section id="JDK-8279842">
<h3>HTTPS Channel Binding Support for Java GSS/Kerberos
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8279842">JDK-8279842</a>)</span><a href="#JDK-8279842" title="Direct link to this note"></a></h3>
<section>core-libs/java.net</section>
<section>
<p>Support has been added for TLS channel binding tokens for
Negotiate/Kerberos authentication over HTTPS through
javax.net.HttpsURLConnection.</p>
<p>Channel binding tokens are increasingly required as an enhanced
form of security. They work by communicating from a client to a
server the client&#39;s understanding of the binding between connection
security, as represented by a TLS server cert, and higher level
authentication credentials, such as a username and password. The
server can then detect if the client has been fooled by a MITM and
shutdown the session or connection.</p>
<p>The feature is controlled through a new system property
<code>jdk.https.negotiate.cbt</code> which is described fully in
<a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/net/doc-files/net-properties.html#jdk.https.negotiate.cbt">
Networking Properties</a>.</p>
</section>
</section>
<section id="JDK-8176706">
<h3>Additional Date-Time Formats <span>(<a href="https://bugs.openjdk.org/browse/JDK-8176706">JDK-8176706</a>)</span><a href="#JDK-8176706" title="Direct link to this note"></a></h3>
<section>core-libs/java.time</section>
<section>
<p>Additional date/time formats are now introduced in
<code>java.time.format.DateTimeFormatter/DateTimeFormatterBuilder</code>
classes. In prior releases, only 4 predefined styles, i.e.,
<code>FormatStyle.FULL/LONG/MEDIUM/SHORT</code> are available. Now
the users can specify their own flexible style with this new
<code>DateTimeFormatter.ofLocalizedPattern(String
requestedTemplate)</code> method. For example,</p>
<pre><code>DateTimeFormatter.ofLocalizedPattern(&#34;yMMM&#34;)
</code></pre>
<p>produces a formatter, which can format a date in a localized
manner, such as &#34;Feb 2022&#34; in the <code>US</code> locale, while
&#34;2022年2月&#34; in the Japanese locale. Supporting method
<code>DateTimeFormatterBuilder.appendLocalized(String
requestedTemplate)</code>is also provided.</p>
</section>
</section>
<section id="JDK-8277204">
<h3>Support for PAC-RET Protection on Linux/AArch64 <span>(<a href="https://bugs.openjdk.org/browse/JDK-8277204">JDK-8277204</a>)</span><a href="#JDK-8277204" title="Direct link to this note"></a></h3>
<section>hotspot/compiler</section>
<section>
<p>Support for PAC-RET protection on the Linux/AArch64 platform has
been introduced.</p>
<p>When enabled, OpenJDK will use hardware features from the
ARMv8.3 Pointer Authentication Code (PAC) extension to protect
against Return Orientated Programming (ROP) attacks. For more
information on the PAC extension see <a href="https://documentation-service.arm.com/static/602a81dbbc293d2cd05e6b09">
&#34;Providing protection for complex software&#34;</a> or the &#34;Pointer
authentication in AArch64 state&#34; section in the <a href="https://developer.arm.com/documentation/ddi0487/latest/">Arm
ARM</a>.</p>
<p>To take advantage of this feature, first OpenJDK must be built
with the configuration flag <code>--enable-branch-protection</code>
using GCC 9.1.0+ or LLVM 10+ . Then, the runtime flag
<code>-XX:UseBranchProtection=standard</code> will enable PAC-RET
protection if the system supports it and the <code>java</code>
binary was compiled with branch-protection enabled; otherwise the
flag is silently ignored. Alternatively,
<code>-XX:UseBranchProtection=pac-ret</code> will also enable
PAC-RET protection, but in this case if the system does not support
it or the <code>java</code> binary was not compiled with
branch-protection enabled, then a warning will be printed.</p>
</section>
</section>
<section id="JDK-8261455">
<h3>Automatic Generation of the CDS Archive <span>(<a href="https://bugs.openjdk.org/browse/JDK-8261455">JDK-8261455</a>)</span><a href="#JDK-8261455" title="Direct link to this note"></a></h3>
<section>hotspot/runtime</section>
<section>
<p>The JVM option <code>-XX:+AutoCreateSharedArchive</code> can be
used to automatically create or update a CDS archive for an
application. For example:</p>
<p><code>java -XX:+AutoCreateSharedArchive
-XX:SharedArchiveFile=app.jsa -cp app.jar App</code></p>
<p>The specified archive will be written if it does not exist, or
if it was generated by a different version of the JDK.</p>
</section>
</section>
<section id="JDK-6782021">
<h3>Windows KeyStore Updated to Include Access to the Local Machine
Location <span>(<a href="https://bugs.openjdk.org/browse/JDK-6782021">JDK-6782021</a>)</span><a href="#JDK-6782021" title="Direct link to this note"></a></h3>
<section>security-libs/java.security</section>
<section>
<p>The Windows KeyStore support in the SunMSCAPI provider has been
expanded to include access to the local machine location. The new
keystore types are:</p>
<ul>
<li>&#34;Windows-MY-LOCALMACHINE&#34;</li>
<li>&#34;Windows-ROOT-LOCALMACHINE&#34;</li>
</ul>
<p>The following keystore types were also added, allowing
developers to make it clear they map to the current user:</p>
<ul>
<li>&#34;Windows-MY-CURRENTUSER&#34; (same as &#34;Windows-MY&#34;)</li>
<li>&#34;Windows-ROOT-CURRENTUSER&#34; (same as &#34;Windows-ROOT&#34;)</li>
</ul>
</section>
</section>
<section id="JDK-8277976">
<h3>Break up SEQUENCE in
X509Certificate::getSubjectAlternativeNames and
X509Certificate::getIssuerAlternativeNames in otherName
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8277976">JDK-8277976</a>)</span><a href="#JDK-8277976" title="Direct link to this note"></a></h3>
<section>security-libs/java.security</section>
<section>
<p>The JDK implementation of
<code>X509Certificate::getSubjectAlternativeNames</code> and
<code>X509Certificate::getIssuerAlternativeNames</code> has been
enhanced to additionally return the <code>type-id</code> and
<code>value</code> fields of an <code>otherName</code>. The
<code>value</code> field is returned as a String if it is encoded
as a character string or otherwise as a byte array, which is
helpful as it avoids having to parse the ASN.1 DER encoded form of
the name.</p>
</section>
</section>
<section id="JDK-8281175">
<h3>Add a -providerPath Option to jarsigner <span>(<a href="https://bugs.openjdk.org/browse/JDK-8281175">JDK-8281175</a>)</span><a href="#JDK-8281175" title="Direct link to this note"></a></h3>
<section>security-libs/jdk.security</section>
<section>
<p>A new option <code>-providerPath</code> has been added to
<code>jarsigner</code>. One can use this option to specify the
class path of an alternate keystore implementation. It can be used
together with the <code>-providerClass</code> option.</p>
</section>
</section>
<section id="JDK-8279064">
<h3>New Options for ktab to Provide Non-Default Salt <span>(<a href="https://bugs.openjdk.org/browse/JDK-8279064">JDK-8279064</a>)</span><a href="#JDK-8279064" title="Direct link to this note"></a></h3>
<section>security-libs/org.ietf.jgss:krb5</section>
<section>
<p>Two new options are added to the <code>ktab</code> command when
adding new keytab entries. When <code>ktab -a username password -s
altsalt</code> is called, <code>altsalt</code> is used instead of
the default salt. When <code>ktab -a username password -f</code> is
called, the tool will contact the KDC to fetch the actual salt
used.</p>
</section>
</section>
</section>
<section id="removed">
<h2>Removed Features and Options</h2>
<p>This section describes the APIs, features, and options that were
removed in Java SE 19 and JDK 19. The APIs described here are those
that are provided with the Oracle JDK. It includes a complete
implementation of the Java SE 19 Platform and additional Java APIs
to support developing, debugging, and monitoring Java applications.
Another source of information about important enhancements and new
features in Java SE 19 and JDK 19 is the <a href="https://cr.openjdk.java.net/~iris/se/19/latestSpec/">Java SE 19
( JSR 394)</a> Platform Specification, which documents changes to
the specification made between Java SE 17 and Java SE 19. This
document includes the identification of removed APIs and features
not described here. The descriptions below might also identify
potential compatibility issues that you could encounter when
migrating to JDK 19. See <a href="https://bugs.openjdk.java.net/issues/?filter=41881">CSRs Approved
for JDK 18</a> for the list of CSRs closed in JDK 19.</p>
<section id="JDK-8212136">
<h3>Remove Finalizer Implementation in SSLSocketImpl <span>(<a href="https://bugs.openjdk.org/browse/JDK-8212136">JDK-8212136</a>)</span><a href="#JDK-8212136" title="Direct link to this note"></a></h3>
<section>security-libs/javax.net.ssl</section>
<section>
<p>The finalizer implementation in SSLSocket has been removed, with
the underlying native resource releases now done by the Socket
implementation. With this update, the TLS close_notify messages
will no longer be emitted if SSLSocket is not explicitly
closed.</p>
<p>Not closing Sockets properly is an error condition that should
be avoided. Applications should always close sockets and not rely
on garbage collection.</p>
</section>
</section>
<section id="JDK-8286304">
<h3>Removal of Diagnostic Flag GCParallelVerificationEnabled
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8286304">JDK-8286304</a>)</span><a href="#JDK-8286304" title="Direct link to this note"></a></h3>
<section>hotspot/gc</section>
<section>
<p>The diagnostic flag <code>GCParallelVerificationEnabled</code>
has been removed.</p>
<p>There are no known advantages of disabling parallel heap
verification, so this flag has never been used except with its
default value. This default value enabled multi-threaded
verification for a very long time with no issues. Single-threaded
heap verification would even be much slower than verification
already is.</p>
</section>
</section>
</section>
<section id="deprecated">
<h2>Deprecated Features and Options</h2>
<p>Additional sources of information about the APIs, features, and
options deprecated in Java SE 19 and JDK 19 include:</p>
<ul>
<li>The <a href="https://cr.openjdk.java.net/~iris/se/19/latestSpec/api/deprecated-list.html">
Deprecated API</a> page identifies all deprecated APIs including
those deprecated in Java SE 19.</li>
<li>The <a href="https://cr.openjdk.java.net/~iris/se/19/latestSpec/">Java SE 19
( JSR 394)</a> specification documents changes to the specification
made between Java SE 17 and Java SE 19 that include the
identification of deprecated APIs and features not described
here.</li>
<li><a href="http://openjdk.java.net/jeps/277">JEP 277: Enhanced
Deprecation</a> provides a detailed description of the deprecation
policy. You should be aware of the updated policy described in this
document.</li>
</ul>
<p>You should be aware of the contents in those documents as well
as the items described in this release notes page.</p>
<p>The descriptions of deprecated APIs might include references to
the deprecation warnings of <code>forRemoval=true</code> and
<code>forRemoval=false</code>. The <code>forRemoval=true</code>
text indicates that a deprecated API might be removed from the next
major release. The <code>forRemoval=false</code> text indicates
that a deprecated API is not expected to be removed from the next
major release but might be removed in some later release.</p>
<p>The descriptions below also identify potential compatibility
issues that you might encounter when migrating to JDK 19. See [CSRs
Approved for JDK 19]
(https://bugs.openjdk.java.net/issues/?filter=42710) for the list
of CSRs closed in JDK 19.</p>
<section id="JDK-8284161">
<h3>java.lang.ThreadGroup Is degraded <span>(<a href="https://bugs.openjdk.org/browse/JDK-8284161">JDK-8284161</a>)</span><a href="#JDK-8284161" title="Direct link to this note"></a></h3>
<section>core-libs/java.lang</section>
<section>
<p>Legacy <code>java.lang.ThreadGroup</code> has been degraded in
this release. It is no longer possible to explicitly destroy a
thread group. In its place, <code>ThreadGroup</code> is changed to
no longer keep a strong reference to subgroups. A thread group is
thus eligible to be GC&#39;ed when there are no live threads in the
group and nothing else is keeping the thread group alive.</p>
<p>The behavior of several methods, deprecated for removal in prior
releases, are changed as follows:</p>
<ul>
<li>
<p>The <code>destroy</code> method does nothing.</p>
</li>
<li>
<p>The <code>isDestroyed</code> method returns false.</p>
</li>
<li>
<p>The <code>setDaemon</code> and <code>isDaemon</code> methods
set/get a daemon status that is not used for anything.</p>
</li>
<li>
<p>The <code>suspend</code>, <code>resume</code>, and
<code>stop</code> methods throw
<code>UnsupportedOperationException</code>.</p>
</li>
</ul>
<p>For further details, see the <a href="https://openjdk.java.net/jeps/425#java-lang-ThreadGroup">JEP 425,
section java.lang.ThreadGroup</a>.</p>
</section>
</section>
<section id="JDK-8282819">
<h3>Deprecation of Locale Class Constructors <span>(<a href="https://bugs.openjdk.org/browse/JDK-8282819">JDK-8282819</a>)</span><a href="#JDK-8282819" title="Direct link to this note"></a></h3>
<section>core-libs/java.util:i18n</section>
<section>
<p>New <code>Locale.of()</code> factory methods replace deprecated
<code>Locale</code> constructors. The factory methods are efficient
and reuse existing <code>Locale</code> instances.
<code>Locale</code>s are also provided by
<code>Locale.forLanguageTag()</code> and
<code>Locale.Builder</code>.</p>
</section>
</section>
<section id="JDK-8254935">
<h3>PSSParameterSpec(int) Constructor and DEFAULT Static Constant
Are Deprecated <span>(<a href="https://bugs.openjdk.org/browse/JDK-8254935">JDK-8254935</a>)</span><a href="#JDK-8254935" title="Direct link to this note"></a></h3>
<section>security-libs/java.security</section>
<section>
<p>It is recommended to construct PSSParameterSpec explicitly with
all desired values instead of using the DEFAULT static constant or
the single argument constructor which takes the salt length. Both
use the default values in the initial version of the PKCS#1
standard and some of these values are no longer recommended due to
advances in cryptanalysis.</p>
</section>
</section>
<section id="JDK-8284553">
<h3>OAEPParameterSpec.DEFAULT Static Constant Is Deprecated
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8284553">JDK-8284553</a>)</span><a href="#JDK-8284553" title="Direct link to this note"></a></h3>
<section>security-libs/javax.crypto</section>
<section>
<p>It is recommended to construct OAEPParameterSpec explicitly with
desired values instead of using the DEFAULT static constant. The
DEFAULT static constant uses the default values in the initial
version of the PKCS#1 standard and some of these values are no
longer recommended due to advances in cryptanalysis.</p>
</section>
</section>
</section>
<section id="knownissues">
<h2>Known Issues</h2>
<section id="JDK-8284161">
<h3>ForkJoinPool and ThreadPoolExecutor do not use Thread::start to
Start Worker Threads <span>(<a href="https://bugs.openjdk.org/browse/JDK-8284161">JDK-8284161</a>)</span><a href="#JDK-8284161" title="Direct link to this note"></a></h3>
<section>core-libs/java.util.concurrent</section>
<section>
<p><code>java.util.concurrent.ForkJoinPool</code> and
<code>java.util.concurrent.ThreadPoolExecutor</code> have changed
in this release to not start worker threads with the
<code>Thread.start</code> method. This may impact code that
constructs a <code>ForkJoinPool</code> or
<code>ThreadPoolExecutor</code> with a thread factory that creates
worker <code>Thread</code>s that override the no-arg
<code>start</code> method. The overridden <code>start</code> method
will not be invoked when worker threads are started. The change in
behavior does not impact code that overrides the
<code>ForkJoinWorkerThread.onStart()</code> method. The
<code>onStart()</code> method will continue to be invoked by fork
join worker threads when they start. A future release will
re-examine the issue of thread factories creating threads that
override the <code>start</code> method.</p>
</section>
</section>
<section id="JDK-8292327">
<h3>InflaterInputStream.read Throws EOFException <span>(<a href="https://bugs.openjdk.org/browse/JDK-8292327">JDK-8292327</a>)</span><a href="#JDK-8292327" title="Direct link to this note"></a></h3>
<section>core-libs/java.util.jar</section>
<section>
<p>A change to <code>java.util.zip.InflaterInputStream</code> in
this release means it is possible that reading uncompressed bytes
with this API can fail with an unexpected
<code>java.io.EOFException</code>.</p>
<p>The issue arises when reading uncompressed bytes with a byte
array that isn&#39;t large enough to fit all bytes that have been
uncompressed. In that case, the additional uncompressed bytes are
buffered by the implementation to be consumed by the next call to
the <code>read</code> method. If the compressed stream is at end of
stream then a subsequent <code>read</code> of the uncompressed data
will fail incorrectly with <code>EOFException</code>.</p>
<p>This issue will be fixed in a future update. It may be possible
to workaround the issue in some cases by calling <code>read</code>
with a larger bye array.</p>
</section>
</section>
<section id="JDK-8292654">
<h3>G1 Remembered set memory footprint regression after <a href="https://bugs.openjdk.org/browse/JDK-8286115">JDK-8286115</a>
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8292654">JDK-8292654</a>)</span><a href="#JDK-8292654" title="Direct link to this note"></a></h3>
<section>hotspot/gc</section>
<section>
<p><a href="https://bugs.openjdk.org/browse/JDK-8286115">JDK-8286115</a>
changed ergonomic sizing of a component of the remembered sets in
G1. This change causes increased native memory usage of the Hotspot
VM for applications that create large remembered sets with the G1
collector.</p>
<p>In an internal benchmark total GC component native memory usage
rose by almost 10% (from 1.2GB to 1.3GB).</p>
<p>This issue can be worked around by passing double the value of
<code>G1RemSetArrayOfCardsEntries</code> as printed by running the
application with <code>-XX:+PrintFlagsFinal
-XX:+UnlockExperimentalVMOptions</code> to your application.</p>
<p>E.g. pass <code>-XX:+UnlockExperimentalVMOptions
-XX:G1RemSetArrayOfCardsEntries=128</code> if a previous run showed
a value of <code>64</code> for
<code>G1RemSetArrayOfCardsEntries</code> in the output of
<code>-XX:+PrintFlagsFinal</code>.</p>
<p>This issue has been addressed in JDK 19.0.1 or later.</p>
</section>
</section>
</section>
<section id="notes">
<h2>Other Notes</h2>
<p>The following notes describe additional changes and information
about this release. In some cases, the following descriptions
provide links to additional detailed information about an issue or
a change.</p>
<section id="JDK-8284378">
<h3>Metal Is now the Default Java 2D Rendering Pipeline on macOS
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8284378">JDK-8284378</a>)</span><a href="#JDK-8284378" title="Direct link to this note"></a></h3>
<section>client-libs/2d</section>
<section>
<p>Previously JDK desktop applications using Swing and Java2D (tm)
would render using OpenGL on macOS. As of this release of JDK, they
now are rendered using Apple&#39;s new Metal accelerated graphics API.
This has been available since JDK 17 (<a href="https://openjdk.org/jeps/382">JEP 382</a>), but was not
automatically enabled. Now it is enabled by default. Applications
will not need to take any action, as they will automatically
benefit from faster graphics with lower power consumption, and the
use of a more modern stable graphics API which will be able to work
better on current and future Apple Mac systems. Any user who would
prefer to continue to use OpenGL whilst it is still supported can
disable rendering with Metal by starting their application with
either &#34;java -Dsun.java2d.metal=false&#34; or &#34;java
-Dsun.java2d.opengl=true&#34; and it will run with OpenGL as it used to
in JDK 17.</p>
</section>
</section>
<section id="JDK-8286176">
<h3>JNI GetVersion Returns JNI_VERSION_19 <span>(<a href="https://bugs.openjdk.org/browse/JDK-8286176">JDK-8286176</a>)</span><a href="#JDK-8286176" title="Direct link to this note"></a></h3>
<section>hotspot/runtime</section>
<section>
<p>The Java Native Interface function <code>GetVersion</code> has
been changed in this release to return <code>JNI_VERSION_19</code>
(value <code>0x00130000</code>).</p>
</section>
</section>
<section id="JDK-7192189">
<h3>Fully Support Endpoint Identification Algorithm in RFC 6125
<span>(<a href="https://bugs.openjdk.org/browse/JDK-7192189">JDK-7192189</a>)</span><a href="#JDK-7192189" title="Direct link to this note"></a></h3>
<section>security-libs/javax.net.ssl</section>
<section>
<p>The JDK <code>SunJSSE</code> provider implementation has been
enhanced to be fully compliant with RFC 6125. Prior to this
release, the implementation was compliant except for one case,
which has now been addressed: the implementation will not attempt
to match wildcard domains in TLS certificates where the wildcard
character comprises a label other than the left-most label.</p>
<p>If necessary, applications can workaround this restriction by
implementing their own <code>HostnameVerifier</code> or
<code>TrustManager</code>.</p>
</section>
</section>
<section id="JDK-8273914">
<h3>Indy String Concat Changes Order of Operations <span>(<a href="https://bugs.openjdk.org/browse/JDK-8273914">JDK-8273914</a>)</span><a href="#JDK-8273914" title="Direct link to this note"></a></h3>
<section>tools/javac</section>
<section>
<p>String concatenation has been changed to evaluate each argument
and eagerly convert it to a string, in left-to-right order. This
fixes a bug in the invokedynamic-based string concatentation
strategies introduced in <a href="http://openjdk.java.net/jeps/280">JEP 280</a>.</p>
<p>For example, the following now prints <code>&#34;foofoobar&#34;</code>,
not <code>&#34;foobarfoobar&#34;</code>:</p>
<pre><code>    StringBuilder builder = new StringBuilder(&#34;foo&#34;);
    System.err.println(&#34;&#34; + builder + builder.append(&#34;bar&#34;));
</code></pre></section>
</section>
<section id="JDK-8285445">
<h3>New System Property to Disable Windows Alternate Data Stream
Support in java.io.File <span>(<a href="https://bugs.openjdk.org/browse/JDK-8285445">JDK-8285445</a>)</span><a href="#JDK-8285445" title="Direct link to this note"></a></h3>
<section>core-libs/java.io</section>
<section>
<p>The Windows implementation of <code>java.io.File</code> allows
access to NTFS Alternate Data Streams (ADS) by default. Such
streams have a structure like “filename:streamname”. A system
property <code>jdk.io.File.enableADS</code> has been added to
control this behavior. To disable ADS support in
<code>java.io.File</code>, the system property
<code>jdk.io.File.enableADS</code> should be set to
<code>false</code> (case ignored). Stricter path checking however
prevents the use of special devices such as <code>NUL:</code></p>
</section>
</section>
<section id="JDK-4511638">
<h3>Double.toString(double) and Float.toString(float) may Return
Slightly Different Results <span>(<a href="https://bugs.openjdk.org/browse/JDK-4511638">JDK-4511638</a>)</span><a href="#JDK-4511638" title="Direct link to this note"></a></h3>
<section>core-libs/java.lang</section>
<section>
<p>The specification of these methods is now tighter than in
earlier releases and the new implementation fully adheres to
it.</p>
<p>As a consequence, some returned strings are now shorter than
when using earlier releases, and for inputs at the extremes of the
subnormal ranges near zero, might look differently. However, the
number of cases where there&#39;s a difference in output is quite small
compared to the sheer number of possible <code>double</code> and
<code>float</code> inputs.</p>
<p>One example is <code>Double.toString(2e23)</code>, which now
returns <code>&#34;2.0E23&#34;</code>, whereas in earlier releases it
returns <code>&#34;1.9999999999999998E23&#34;</code>. Another example, in
the <code>double</code> subnormal range, is
<code>Double.toString(1e-323)</code> which now returns
<code>&#34;9.9E-324&#34;</code>, as mandated by the new specification.</p>
</section>
</section>
<section id="JDK-8284161">
<h3>Thread Context ClassLoader Changed to be a Special Inheritable
thread-local <span>(<a href="https://bugs.openjdk.org/browse/JDK-8284161">JDK-8284161</a>)</span><a href="#JDK-8284161" title="Direct link to this note"></a></h3>
<section>core-libs/java.lang</section>
<section>
<p>The thread context <code>ClassLoader</code> is specified in this
release to be a special inheritable thread-local. This change
should be transparent to existing code with the exception of code
that uses the 5-arg <code>Thread</code> constructor (added in Java
9) to create a <code>Thread</code> that does not inherit the
initial values of inheritable thread-locals from the constructing
thread. With this release, invoking the 5-arg <code>Thread</code>
constructor with the parameter
<code>inheritInheritableThreadLocals</code> set to
<code>false</code> will create a <code>Thread</code> that does not
inherit the initial value of the context <code>ClassLoader</code>
from the constructing thread. The
<code>Thread.setContextClassLoader</code> method may be used to
change the context <code>ClassLoader</code> of the new thread if
needed.</p>
<p>For further details, see the <a href="https://openjdk.java.net/jeps/425#Thread-local-variables">JEP 425,
section Thread-local variables</a>.</p>
</section>
</section>
<section id="JDK-8284161">
<h3>Source and Binary Incompatible Changes to java.lang.Thread
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8284161">JDK-8284161</a>)</span><a href="#JDK-8284161" title="Direct link to this note"></a></h3>
<section>core-libs/java.lang</section>
<section>
<p>The are a few source and binary incompatible changes that may
impact code that extends <code>java.lang.Thread</code>.</p>
<ul>
<li>
<p><code>Thread</code> defines several new methods in this release.
If code in an existing source file extends <code>Thread</code> and
a method in the subclass conflicts with any of the new
<code>Thread</code> methods then the file will not compile without
change.</p>
</li>
<li>
<p><code>Thread.Builder</code> is added as a nested interface. If
code in an existing source file extends <code>Thread</code>,
imports a class named <code>Builder</code>, and code in the
subclass references &#34;Builder&#34; as a simple name, then the file will
not compile without change.</p>
</li>
<li>
<p><code>Thread.isVirtual()</code>, <code>Thread.threadId()</code>
and <code>Thread.join(Duration)</code> are added as final methods.
If there is existing compiled code that extends <code>Thread</code>
and the subclass declares a method with the same name, parameters,
and return type as any of these methods then
<code>IncompatibleClassChangeError</code> will be thrown at
run-time if the subclass is loaded.</p>
</li>
</ul>
<p>For further details, see the <a href="https://openjdk.java.net/jeps/425#java-lang-Thread">JEP 425,
section java.lang.Thread</a>.</p>
</section>
</section>
<section id="JDK-8282008">
<h3>Incorrect Handling of Quoted Arguments in ProcessBuilder
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8282008">JDK-8282008</a>)</span><a href="#JDK-8282008" title="Direct link to this note"></a></h3>
<section>core-libs/java.lang</section>
<section>
<p>ProcessBuilder on Windows is restored to address a regression
caused by <a href="https://bugs.openjdk.org/browse/JDK-8250568">JDK-8250568</a>.
Previously, an argument to ProcessBuilder that started with a
double-quote and ended with a backslash followed by a double-quote
was passed to a command incorrectly and may cause the command to
fail. For example the argument <code>&#34;C:\Program Files&#34;</code>,
would be seen by the command with extra double-quotes. This update
restores the long standing behavior that does not treat the
backslash before the final double-quote specially.</p>
</section>
</section>
<section id="JDK-8280357">
<h3>User&#39;s Home Directory set to $HOME if Invalid <span>(<a href="https://bugs.openjdk.org/browse/JDK-8280357">JDK-8280357</a>)</span><a href="#JDK-8280357" title="Direct link to this note"></a></h3>
<section>core-libs/java.lang</section>
<section>
<p>On Linux and macOS, the system property <code>user.home</code>
is set to the home directory provided by the operating system. If
the directory name provided is empty or only a single character,
the value of the environment variable <code>HOME</code> is used
instead.</p>
<p>The directory name and the value of $HOME are usually the same
and valid. The fallback to <code>$HOME</code> is unusual and
unlikely to occur except in environments such as
<code>systemd</code> on Linux or when running in a container such
as Docker.</p>
</section>
</section>
<section id="JDK-8281462">
<h3>Make Annotation toString Output for enum Constants Usable for
Source Input <span>(<a href="https://bugs.openjdk.org/browse/JDK-8281462">JDK-8281462</a>)</span><a href="#JDK-8281462" title="Direct link to this note"></a></h3>
<section>core-libs/java.lang:reflect</section>
<section>
<p>The exact <code>toString</code> format for annotations is not
specified; however, the <code>toString</code> output is intended to
be usable for source input. The <code>toString</code> output of
enum constants was changed to two ways so that it would be usable
as source input:</p>
<ul>
<li>The name of the constant is used (rather than the output is its
<code>toString</code> method)</li>
<li>For the name of the enum class, its canonical name rather than
its binary name is used.</li>
</ul>
</section>
</section>
<section id="JDK-8262442">
<h3>Improved HTTP Proxy Detection on Windows <span>(<a href="https://bugs.openjdk.org/browse/JDK-8262442">JDK-8262442</a>)</span><a href="#JDK-8262442" title="Direct link to this note"></a></h3>
<section>core-libs/java.net</section>
<section>
<p>When multiple Windows proxy configuration options are available,
proxy selector now attempts all options in sequence until a proxy
is selected or all options have been tried. Previously, only the
first option was tried. For example, if automatic proxy detection
was enabled, manual proxy setup was never used.</p>
</section>
</section>
<section id="JDK-8278067">
<h3>Make HttpURLConnection Default Keep Alive Timeout Configurable
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8278067">JDK-8278067</a>)</span><a href="#JDK-8278067" title="Direct link to this note"></a></h3>
<section>core-libs/java.net</section>
<section>
<p>Two system properties have been added which control the keep
alive behavior of HttpURLConnection in the case where the server
does not specify a keep alive time. Two properties are defined for
controlling connections to servers and proxies separately. They are
<code>http.keepAlive.time.server</code> and
<code>http.keepAlive.time.proxy</code> respectively. More
information about them can be found in <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/net/doc-files/net-properties.html">
Networking Properties</a>.</p>
</section>
</section>
<section id="JDK-8281561">
<h3>MD5 and SHA-1 Are Disabled by Default for HTTP Digest
Authentication <span>(<a href="https://bugs.openjdk.org/browse/JDK-8281561">JDK-8281561</a>)</span><a href="#JDK-8281561" title="Direct link to this note"></a></h3>
<section>core-libs/java.net</section>
<section>
<p>The MD5 and SHA-1 message digest algorithms have been disabled
by default for HTTP Digest authentication. MD5 and SHA-1 are
considered insecure and are deprecated generally. Accordingly, they
have both been disabled by default for some usages of HTTP Digest
authentication with java.net.HttpURLConnection. They can re-enabled
on an opt-in basis by setting a new system property. More
information can be found in <a href="https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/net/doc-files/net-properties.html">
Networking Properties</a>.</p>
</section>
</section>
<section id="JDK-8284930">
<h3>The Mark and Reset Methods of InputStream and FilterInputStream
Are no Longer Synchronized <span>(<a href="https://bugs.openjdk.org/browse/JDK-8284930">JDK-8284930</a>)</span><a href="#JDK-8284930" title="Direct link to this note"></a></h3>
<section>core-libs/java.nio</section>
<section>
<p>The <code>synchronized</code> keyword is removed from the
<code>mark</code> and <code>reset</code> methods of
<code>java.io.InputStream</code> and
<code>java.io.FilterInputStream</code>. This keyword serves no
purpose as the other methods in these classes do not
synchronize.</p>
</section>
</section>
<section id="JDK-5041655">
<h3>FileChannel.lock/tryLock Changed to Treat Size 0 to Mean the
Locked Region Goes to end of File <span>(<a href="https://bugs.openjdk.org/browse/JDK-5041655">JDK-5041655</a>)</span><a href="#JDK-5041655" title="Direct link to this note"></a></h3>
<section>core-libs/java.nio</section>
<section>
<p>The method <code>java.nio.channels.FileChannel.lock(long
position, long size, boolean shared)</code> has been changed such
that a size value of zero means to lock all bytes from the
specified starting position to the end of the file, regardless of
whether the file is subsequently extended or truncated.</p>
</section>
</section>
<section id="JDK-8267820">
<h3>Files.copy Copies POSIX Attributes to Target on Foreign File
System <span>(<a href="https://bugs.openjdk.org/browse/JDK-8267820">JDK-8267820</a>)</span><a href="#JDK-8267820" title="Direct link to this note"></a></h3>
<section>core-libs/java.nio</section>
<section>
<p>The method <code>java.nio.file.Files.copy(Path,Path)</code> has
been changed to copy POSIX file attributes from the source file to
the destination file when the two files are associated with
different file system providers, for example copying a file from
the default file system to a zip file system. Both the source and
target file systems must support the POSIX file attribute view. The
POSIX attributes copied are constrained to the file access
permissions; owner and group owner of the file are not copied.</p>
</section>
</section>
<section id="JDK-8286763">
<h3>FileChannel.transferFrom May Transfer Fewer Bytes Than Expected
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8286763">JDK-8286763</a>)</span><a href="#JDK-8286763" title="Direct link to this note"></a></h3>
<section>core-libs/java.nio</section>
<section>
<p>The performance of <code>FileChannel.transferFrom()</code> has
been improved significantly on Linux kernel version 4.5 and later
for the case where the method is used to transfer bytes from one
<code>FileChannel</code> to another. This change adds to the
preexisting set of scenarios in which the number of bytes actually
transferred might be less than the number requested to be
transferred. That is to say, the value returned by
<code>transferFrom()</code> can be less than the value of the
<code>count</code> parameter: a “short transfer.” This is permitted
by the specification, but might impact broken code that ignores the
returned count and assumes it is always equal to
<code>count</code>.</p>
</section>
</section>
<section id="JDK-8279185">
<h3>Support for IsoFields in
JapaneseDate/MinguoDate/ThaiBuddhistDate <span>(<a href="https://bugs.openjdk.org/browse/JDK-8279185">JDK-8279185</a>)</span><a href="#JDK-8279185" title="Direct link to this note"></a></h3>
<section>core-libs/java.time</section>
<section>
<p>Three chronologies in <code>java.time.chrono</code> package,
namely <code>JapaneseChronology</code>,
<code>MinguoChronology</code>, and
<code>ThaiBuddhistChronology</code> now support ISO-based fields,
such as <code>IsoFields.QUARTER_OF_YEAR</code>. These chronologies
implement the new method, <code>isIsoBased()</code> which has been
added in the <code>java.time.chrono.Chronology</code> interface.
The boolean returned from this method indicates if the implementing
chronology is <code>ISO</code> chronology based, which means it has
the same year/month structure as <code>IsoChronology</code>.</p>
<p>Here is an example:</p>
<pre><code>JapaneseDate.now().getLong(IsoFields.QUARTER_OF_YEAR)
</code></pre>
<p>will return the correct quarter-of-year value, which used to be
throwing an <code>UnsupportedTemporalTypeException</code> with
prior JDK releases.</p>
</section>
</section>
<section id="JDK-8282081">
<h3>java.time.DateTimeFormatter: Wrong Definition of Symbol F
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8282081">JDK-8282081</a>)</span><a href="#JDK-8282081" title="Direct link to this note"></a></h3>
<section>core-libs/java.time</section>
<section>
<p>The definition and its implementation of the pattern symbol
<code>F</code> in
<code>java.time.format.DateTimeFormatter/Builder</code> has been
modified. It was tied with
<code>ChronoField.ALIGNED_DAY_OF_WEEK_IN_MONTH</code> field, which
did not agree with <code>java.text.SimpleDateFormat</code> and
Unicode Consortium&#39;s LDML. With this release, it represents
<code>ChronoField.ALIGNED_WEEK_OF_MONTH</code> field. For example,
the number <code>2</code> means &#34;the 2nd Wednesday in July.&#34;</p>
</section>
</section>
<section id="JDK-8264160">
<h3>Regex b Character Class now Matches ASCII Characters Only by
Default <span>(<a href="https://bugs.openjdk.org/browse/JDK-8264160">JDK-8264160</a>)</span><a href="#JDK-8264160" title="Direct link to this note"></a></h3>
<section>core-libs/java.util.regex</section>
<section>
<p>The <code>b</code> metacharacter now matches ASCII word
characters by default in the same way that the <code>w</code>
metacharacter does. For <code>b</code> to match Unicode characters,
the UNICODE_CHARACTER_CLASS must be set in the same way that it
would need to be set for <code>w</code> to match Unicode
characters.</p>
</section>
</section>
<section id="JDK-8265315">
<h3>Support for CLDR Version 41 <span>(<a href="https://bugs.openjdk.org/browse/JDK-8265315">JDK-8265315</a>)</span><a href="#JDK-8265315" title="Direct link to this note"></a></h3>
<section>core-libs/java.util:i18n</section>
<section>
<p>Locale data based on Unicode Consortium&#39;s CLDR has been upgraded
to version 41. For the detailed locale data changes, please refer
to the Unicode Consortium&#39;s [CLDR release notes](<a href="https://cldr.unicode.org/index/downloads/cldr-41">https://cldr.unicode.org/index/downloads/cldr-41</a>](<a href="https://cldr.unicode.org/index/downloads/cldr-41">https://cldr.unicode.org/index/downloads/cldr-41</a>).</p>
</section>
</section>
<section id="JDK-8272317">
<h3>jstatd No Longer Requires a SecurityManager <span>(<a href="https://bugs.openjdk.org/browse/JDK-8272317">JDK-8272317</a>)</span><a href="#JDK-8272317" title="Direct link to this note"></a></h3>
<section>core-svc/tools</section>
<section>
<p><code>jstatd</code> no longer requires a Security Manager and
policy file. Running with <code>-Djava.security.policy=</code> to
set a policy has no effect.</p>
<p>Internally to <code>jstatd</code>, an
<code>ObjectInputFilter</code> is used to allow only essential
classes to be deserialized over the RMI connection.</p>
</section>
</section>
<section id="JDK-8284161">
<h3>JVM TI Changes to Support Virtual Threads <span>(<a href="https://bugs.openjdk.org/browse/JDK-8284161">JDK-8284161</a>)</span><a href="#JDK-8284161" title="Direct link to this note"></a></h3>
<section>hotspot/jvmti</section>
<section>
<p>The JVM Tool Interface (JVM TI) has been updated in this release
to support virtual threads. Maintainers of agents that use JVM TI
are strongly recommended to read <a href="https://openjdk.java.net/jeps/425">JEP 425</a> and the JVM TI 19.0
specification. The following is a summary of the JVM TI support for
virtual threads:</p>
<ul>
<li>
<p>Most JVM TI functions that are called with a jthread (i.e., a
JNI reference to a Thread object) can be called with a reference to
a virtual thread. The functions that are not supported on virtual
threads are <code>PopFrame</code>, <code>ForceEarlyReturn</code>,
<code>StopThread</code>, <code>AgentStartFunction</code> and
<code>GetThreadCpuTime</code>. The <code>SetLocal*</code> functions
support setting local variables in the top-most frame of virtual
threads that are suspended at a breakpoint or single step event but
are allowed to fail with <code>JVMTI_ERROR_OPAQUE_FRAME</code> in
other scenarios.</p>
</li>
<li>
<p>All JVM TI events, with the exception of those posted during
early VM startup or during heap iteration, can have event callbacks
invoked in the context of a virtual thread.</p>
</li>
<li>
<p>The <code>GetAllThreads</code> and
<code>GetAllStackTraces</code> functions are specified to return
all platform threads rather than all threads.</p>
</li>
<li>
<p>New functions <code>SuspendAllVirtualThreads</code> and
<code>ResumeAllVirtualThreads</code> are added to support bulk
suspend and resume of virtual threads. New events
<code>VirtualThreadStart</code> and <code>VirtualThreadEnd</code>
are added to support tracking of virtual threads. A new capability,
<code>can_support_virtual_threads</code> is used to enable the use
of the new functions and events.</p>
</li>
</ul>
<p>Existing JVM TI agents will mostly work as before, but may
encounter errors if they invoke functions that are not supported on
virtual threads. These will arise when an agent that is unaware of
virtual threads is used with an application that uses virtual
threads. The change to <code>GetAllThreads</code> to return an
array containing only the platform threads may be an issue for some
agents. Existing agents that enable the <code>ThreadStart</code>
and <code>ThreadEnd</code> events for all threads may encounter
performance issues until they are upgraded to have finer control of
these events.</p>
</section>
</section>
<section id="JDK-8281181">
<h3>CPU Shares Ignored When Computing Active Processor Count
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8281181">JDK-8281181</a>)</span><a href="#JDK-8281181" title="Direct link to this note"></a></h3>
<section>hotspot/runtime</section>
<section>
<p>Previous JDK releases used an incorrect interpretation of the
Linux cgroups parameter &#34;cpu.shares&#34;. This might cause the JVM to
use fewer CPUs than available, leading to an under utilization of
CPU resources when the JVM is used inside a container.</p>
<p>Starting from this JDK release, by default, the JVM no longer
considers &#34;cpu.shares&#34; when deciding the number of threads to be
used by the various thread pools. The
<code>-XX:+UseContainerCpuShares</code> command-line option can be
used to revert to the previous behavior. This option is deprecated
and may be removed in a future JDK release.</p>
</section>
</section>
<section id="JDK-8286908">
<h3>getParameters of ECDSA Signature Objects Always Return null
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8286908">JDK-8286908</a>)</span><a href="#JDK-8286908" title="Direct link to this note"></a></h3>
<section>security-libs/java.security</section>
<section>
<p>In order to be compliant to <a href="https://datatracker.ietf.org/doc/html/rfc5758#section-3.2">RFC
5758 Section 3.2</a>, the <code>Signature::getParameters</code>
method on an ECDSA signature object from the SunEC security
provider will always return <code>null</code>, even if an earlier
<code>setParameter</code> method has been called on this
object.</p>
</section>
</section>
<section id="JDK-8286090">
<h3>RC2 and ARCFOUR Algorithms Added to
jdk.security.legacyAlgorithms Security Property <span>(<a href="https://bugs.openjdk.org/browse/JDK-8286090">JDK-8286090</a>)</span><a href="#JDK-8286090" title="Direct link to this note"></a></h3>
<section>security-libs/java.security</section>
<section>
<p>The RC2 and ARCFOUR (RC4) algorithms have been added to the
&#34;jdk.security.legacyAlgorithms&#34; security property in the
<code>java.security</code> configuration file. The
<code>keytool</code> tool issues warnings when a weak RC2 or
ARCFOUR algorithm is used for its commands associated with secret
key entries in the keystore.</p>
</section>
</section>
<section id="JDK-8255552">
<h3>DES, DESede and MD5 Algorithms Added to
jdk.security.legacyAlgorithms Security Property <span>(<a href="https://bugs.openjdk.org/browse/JDK-8255552">JDK-8255552</a>)</span><a href="#JDK-8255552" title="Direct link to this note"></a></h3>
<section>security-libs/java.security</section>
<section>
<p>The DES, DESede and MD5 algorithms have been added to the
&#34;jdk.security.legacyAlgorithms&#34; security property in the
<code>java.security</code> configuration file. The
<code>keytool</code> tool issues warnings when a weak DES or DESede
algorithm is used for its commands associated with secret key
entries in the keystore.</p>
</section>
</section>
<section id="JDK-8267319">
<h3>Use Larger Default key Sizes if not Explicitly Specified
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8267319">JDK-8267319</a>)</span><a href="#JDK-8267319" title="Direct link to this note"></a></h3>
<section>security-libs/java.security</section>
<section>
<p>JDK providers use provider-specific default values if the caller
does not specify a key size when using a
<code>KeyPairGenerator</code> or <code>KeyGenerator</code> object
to generate a key pair or secret key. With this enhancement, the
default key sizes for various crypto algorithms have been increased
as follows:</p>
<ul>
<li>RSA, RSASSA-PSS, DH: from 2048 to 3072</li>
<li>EC: from 256 to 384</li>
<li>AES: from 128 to 256 (if permitted by crypto policy), falls
back to 128 otherwise.</li>
</ul>
<p>In addition, the <code>jarsigner</code> tool will now use
SHA-384 instead of SHA-256 as the default digest algorithm. The
default signature algorithm for the <code>jarsigner</code> tool has
also been adjusted accordingly. SHA-384 is used instead of SHA-256
except for longer key sizes whose security strength matches
SHA-512. Note that for DSA keys, <code>jarsigner</code> will
continue using SHA256withDSA as the default signature algorithm.
This ensures maximum interoperability with older JDK releases. For
more details, please refer to the <code>keytool</code> and
<code>jarsigner</code> documentation.</p>
</section>
</section>
<section id="JDK-8163327">
<h3>TLS Cipher Suites Using 3DES Removed From the Default Enabled
List <span>(<a href="https://bugs.openjdk.org/browse/JDK-8163327">JDK-8163327</a>)</span><a href="#JDK-8163327" title="Direct link to this note"></a></h3>
<section>security-libs/javax.net.ssl</section>
<section>
<p>The following TLS cipher suites that use the obsolete 3DES
algorithm have been removed from the default list of enabled cipher
suites:</p>
<ul>
<li>TLS_ECDHE_ECDSA_WITH_3DES_EDE_CBC_SHA</li>
<li>TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA</li>
<li>SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA</li>
<li>SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA</li>
<li>TLS_ECDH_ECDSA_WITH_3DES_EDE_CBC_SHA</li>
<li>TLS_ECDH_RSA_WITH_3DES_EDE_CBC_SHA</li>
<li>SSL_RSA_WITH_3DES_EDE_CBC_SHA</li>
</ul>
<p>Note that cipher suites using 3DES are already disabled by
default in the <code>jdk.tls.disabledAlgorithms</code> security
property. You may use these suites at your own risk by removing
3DES_EDE_CBC from the <code>jdk.tls.disabledAlgorithms</code>
security property and re-enabling the suites via the
<code>setEnabledCipherSuites()</code> method of the
<code>SSLSocket</code>, <code>SSLServerSocket</code> or
<code>SSLEngine</code> classes. Alternatively, if an application is
using the <code>HttpsURLConnection</code> class, the
<code>https.cipherSuites</code> system property can be used to
re-enable the suites.</p>
</section>
</section>
<section id="JDK-8282080">
<h3>Lambda Deserialization Fails for Object Method References on
Interfaces <span>(<a href="https://bugs.openjdk.org/browse/JDK-8282080">JDK-8282080</a>)</span><a href="#JDK-8282080" title="Direct link to this note"></a></h3>
<section>tools/javac</section>
<section>
<p>Deserialization of serialized method references to Object
methods, which was using an interface as the type on which the
method is invoked, can now be deserialized again. Note the
classfiles need to be recompiled to allow the deserialization.</p>
</section>
</section>
<section id="JDK-8248863">
<h3>JavaDoc Search Enhancements <span>(<a href="https://bugs.openjdk.org/browse/JDK-8248863">JDK-8248863</a>)</span><a href="#JDK-8248863" title="Direct link to this note"></a></h3>
<section>tools/javadoc(tool)</section>
<section>
<p>API documentation generated by JavaDoc now provides a standalone
search page and the search syntax has been enhanced to allow for
multiple search terms.</p>
</section>
</section>
<section id="JDK-8250950">
<h3>Allow per-user and System Wide Configuration of a jpackaged app
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8250950">JDK-8250950</a>)</span><a href="#JDK-8250950" title="Direct link to this note"></a></h3>
<section>tools/jpackage</section>
<section>
<p>jpackaged applications support both system-wide and per-user
configuration.</p>
<p>jpackage application launcher will look up the corresponding
<code>.cfg</code> file not only in the application installation
directory (the system-wide installation location) but also in
user-specific locations. User-specific directories for
<code>.cfg</code> file look up are:</p>
<p>Linux</p>
<pre><code>~/.local/${PACKAGE_NAME}
~/.${PACKAGE_NAME}
</code></pre>
<p>macOS</p>
<pre><code>~/Library/Application Support/${PACKAGE_NAME}
</code></pre>
<p>Windows</p>
<pre><code>%LocalAppData%%PACKAGE_NAME%
%AppData%%PACKAGE_NAME%
</code></pre>
<p>where <code>${PACKAGE_NAME}</code> and
<code>%PACKAGE_NAME%</code> refer to jpackaged application
name.</p>
</section>
</section>
<section id="JDK-8274148">
<h3>JShell Highlights Deprecated Elements, Variables, and Keywords
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8274148">JDK-8274148</a>)</span><a href="#JDK-8274148" title="Direct link to this note"></a></h3>
<section>tools/jshell</section>
<section>
<p>JShell now marks deprecated elements and highlights variables
and keywords in the console.</p>
</section>
</section>
<section id="JDK-8236569">
<h3>-Xss may be Rounded up to a Multiple of the System Page Size
<span>(<a href="https://bugs.openjdk.org/browse/JDK-8236569">JDK-8236569</a>)</span><a href="#JDK-8236569" title="Direct link to this note"></a></h3>
<section>tools/launcher</section>
<section>
<p>The actual java thread stack size may differ from the value
specified by <code>-Xss</code> command line option; it may be
rounded up to a multiple of the system page size when required by
the operating system.</p>
</section>
</section>
</section>
</div></div>
  </body>
</html>
