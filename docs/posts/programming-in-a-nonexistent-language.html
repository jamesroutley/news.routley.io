<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://shannondybvig.com/posts/programming-in-a-nonexistent-language/">Original</a>
    <h1>Programming in a Nonexistent Language</h1>
    
    <div id="readability-page-1" class="page"><div>
        
        <p><em>Note: this is not a technical post. It is a shy love letter to language design and compilers</em></p>
<p>I spent yesterday afternoon programming in a language that does not yet exist.</p>
<p>I set a goal of designing and implementing a language in an afternoon, and making a game in that language. At <a href="https://www.recurse.com/" target="_blank" rel="noopener">RC</a> we are encouraged to work at the edge of our abilities, and in week three we try to push way beyond that edge on Impossible Stuff Day. When I started RC, there were two realms of study I was interested in: I wanted to write software to make hardware do things (designing a small CPU or building a robot) and I wanted to do something with compilers, maybe write a tiny language. I’ve started on the hardware end of things with making <a href="https://shannondybvig.com/posts/tiny-pong-on-microbit-v2/" target="_blank" rel="noopener">TinyPong for the micro:bit-v2</a> and working through Nand2Tetris, but I hadn’t approached the other side of my interests beyond reading the start of <em>Crafting Interpreters</em>.</p>
<p>My goals for this moonshot day:</p>
<ul>
<li>Design a language</li>
<li>Write a compiler for it</li>
<li>Develop a game in that new language</li>
</ul>
<p>Simple, right?</p>
<p>Before starting on this endeavor I revisited a book I haven’t opened in a very long time.</p>
<p><img src="https://shannondybvig.com/posts/programming-in-a-nonexistent-language/compilers-textbook.webp" alt="Compilers:Principles, Techniques, &amp; Tools"/></p>
<figcaption>It has a dragon wearing a purple sweater that reads &#34;Complexity of Compiler Design&#34; o n the front -- how could I not love it?</figcaption>
<p>Compilers was my favorite course in college. As I recall, the class was heavy on theory and abstract representations, with only a few exercises using yacc and flex.</p>
<p>My approach for the day was to first try writing in this new language, then describe the formal grammar, then write a lexical analyzer for it, and hopefully find my way through the rest as I got there. The only requirement I came in with was that I be able to make games with the language – beyond that, I had no preconceived ideas of what it would be.</p>
<p>I called my language <em>crocus</em> for the afternoon (there is a crocus language already, so I’ll have to come up with another name). The crocus is an important piece of imagery for me this year, and it felt fitting for a first language attempt as well: emerging as the first signs of life after winter, even when there is still snow from the winter preceding.</p>
<p>As I wrote in crocus for the first time, I thought about what the language could be capable of while also working through the logic of the individual programs, and how the language might map to ASTs and whether it matched itself. How code maps to memory and makes use of resources is always a consideration when I program, but possibilities open up when it hasn’t yet been implemented. The language and its compiler do not yet have limitations, in style or efficiency.</p>
<div><pre tabindex="0"><code data-lang="bash"><span><span>// a sample visual game in crocus
</span></span><span><span>
</span></span><span><span>use slib, game
</span></span><span><span>
</span></span><span><span>enclose, to selves <span>{</span>
</span></span><span><span>    ./image
</span></span><span><span>    ./font
</span></span><span><span>    ./story
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span>once <span>{</span>
</span></span><span><span>    always, <span>until</span> exception <span>&amp;&amp;</span> minding State <span>{</span>
</span></span><span><span>        <span>set</span> background, scene<span>;</span>
</span></span><span><span>        change<span>;</span>
</span></span><span><span>        resolve consequences, minding change<span>;</span>
</span></span><span><span>    <span>}</span>
</span></span><span><span><span>}</span>
</span></span></code></pre></div><p>My coding became playful. I tried on many different styles, making the language more verbose or concise, poetries both flowing and brusque. Crocus trended towards being static and object-oriented, but it didn’t stay there. I danced between lines of code and their abstractions, rewriting as I played with formal notation and disambiguation. As the afternoon unfolded, so did I, until suddenly the welling in my chest became tears, overcome with vastness, deep joy, and relief. I haven’t sought this part of myself in a very long time, afraid that if I looked it wouldn’t be there anymore – but it was, just as happy and relieved to be found again.</p>
<p><img src="https://shannondybvig.com/posts/programming-in-a-nonexistent-language/vastness.webp" alt="Ink drawing of layered clouds above a blank expanse"/></p>
<figcaption>I drew this as I felt through the aftermath of my afternoon developing crocus</figcaption>
<p>I didn’t finish crocus in a day. I expect to dabble in a variety of language attempts over the next nine weeks, and maybe one will become a large project.</p>

      </div></div>
  </body>
</html>
