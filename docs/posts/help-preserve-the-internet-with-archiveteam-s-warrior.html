<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://selfhostedheaven.com/posts/20220228-help-out-archiving/">Original</a>
    <h1>Help preserve the internet with Archiveteam&#39;s warrior</h1>
    
    <div id="readability-page-1" class="page"><section>
      <p>The internet is a volatile space. Stuff is being removed or cencored every minute of the day, servers crash all the time, and people stop paying for hosting. You might not notice it immediately, but information on the internet is not permanent. If only we could make a backup of the internet…</p>
<p>Well, it seems you can help! Do you have an underutilized internet connection? You can help out by archiving news stories, videos, social media posts and more. This way we can make sure as little as possible is lost. Archived material can be used as evidence, research material, documenting history and culture and a lot more.</p>
<p>In light of the recent events in Ukraine, you can also help. Footage and social media posts are getting censored heavily in this war and it is really important to make sure none of it gets lost. For evidence, for journalistic reason and to learn from it for the future. Follow along, because we are going to start archiving with Archiveteam’s Warrior application.</p>
<div>
    <h2 id="what-is-archiveteam-anyway">
        What is Archiveteam anyway?
        <a data-clipboard-text="https://selfhostedheaven.com/posts/20220228-help-out-archiving/#what-is-archiveteam-anyway" aria-label="Anchor What is Archiveteam anyway?" href="#what-is-archiveteam-anyway">
            <svg><use xlink:href="#gblog_link"></use></svg>
        </a>
    </h2>
</div>
<p>Archiveteam is not one person, but a loose collective of people dedicated to preserving online history. They have archived a lot of different things, from smaller websites to large websites and collections. Some notable examples are the YouTube dislike counts, Geocities (remember those?), public Google Drive and Mediafire files and a lot more. They do a lot to preserve the online world as we know it since 2009.</p>
<p>Today you could join this loose collective by installing their ‘Warrior’, which is an automated program that accepts work from a central server and archives it. The archived material is (most of the time) added to the Internet Archive, so it can be accessed using the Wayback Machine.</p>

<p>The <a href="https://wiki.archiveteam.org/index.php/ArchiveTeam_Warrior">official documentation</a> has a <code>docker run</code> command listed as a one-liner to start the warrior. I really don’t like this approach. It is not easily transferred to other servers and I like to be able to make small adjustments in a file if something needs to change. Another problem that is in my opinion a little bit bigger is that it does not store the configuration between updates. This means that you have to set it up again each time the container is updated; not ideal!</p>
<p>That’s why we are going to set up a good ol&#39; <code>docker-compose.yml</code> file. The configuration will be done using environment variables, since there is not a whole lot to set up. The Docker Compose file can also be downloaded from the <a href="https://github.com/selfhosted-heaven/archiveteam-warrior-docker-compose">Selfhosted Heaven Github page</a>.</p>
<div><div>
<table><tbody><tr><td>
<pre><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span><span>26
</span><span>27
</span><span>28
</span></code></pre></td>
<td>
<pre><code data-lang="Docker">version: <span>&#34;3.7&#34;</span><span>
</span><span></span>services:<span>
</span><span></span>    archiveteam-watchtower:<span>
</span><span></span>        container_name: archiveteam-watchtower<span>
</span><span></span>        image: containrrr/watchtower<span>
</span><span></span>        labels:<span>
</span><span></span>            - com.centurylinklabs.watchtower.enable<span>=</span>true<span>
</span><span></span>            - com.centurylinklabs.watchtower.scope<span>=</span>archiveteam-warrior<span>
</span><span></span>        volumes:<span>
</span><span></span>            - <span>&#39;/var/run/docker.sock:/var/run/docker.sock&#39;</span><span>
</span><span></span>        command: <span>&#39;--label-enable --cleanup --interval 3600 --scope archiveteam-warrior&#39;</span><span>
</span><span></span>        restart: unless-stopped<span>
</span><span>
</span><span></span>    archiveteam-warrior:<span>
</span><span></span>        container_name: archiveteam-warrior<span>
</span><span></span>        image: atdr.meo.ws/archiveteam/warrior-dockerfile<span>
</span><span></span>        environment:<span>
</span><span></span>            - <span>DOWNLOADER</span><span>=</span>selfhostedheaven <span># Change this to your nickname</span><span>
</span><span></span>            - <span>SELECTED_PROJECT</span><span>=</span>auto<span>
</span><span></span>            - <span>CONCURRENT_ITEMS</span><span>=</span><span>6</span><span>
</span><span></span>        stop_signal: SIGINT<span>
</span><span></span>        stop_grace_period: 5m<span>
</span><span></span>        labels:<span>
</span><span></span>            - com.centurylinklabs.watchtower.enable<span>=</span>true<span>
</span><span></span>            - com.centurylinklabs.watchtower.scope<span>=</span>archiveteam-warrior<span>
</span><span></span>        ports:<span>
</span><span></span>            - <span>&#39;8001:8001&#39;</span><span>
</span><span></span>        restart: unless-stopped</code></pre></td></tr></tbody></table>
</div>
</div>
<p>There are two containers in this Docker Compose file: <code>watchtower</code> and the warrior itself. Watchtower is a container that can automatically containers to the newest release. This is needed for the warrior, because you need to have the newest version of the warrior to accept work from the central server.</p>
<p>The configuration is stored in the environment. I’ve set up my nickname for the leaderboard to <code>selfhostedheaven</code> and I let the warrior automatically decide which project has the most urgency. At the moment for me, it is Reddit, but you could override this with one of the other projects available.</p>
<p>I have a total of 6 concurrent items, since it seems to be a good middleground for the capabilities of my server and internet connection. Lower this if you have little available storage space or little bandwidth available.</p>
<p>Now that everything is set up: start it up with my favorite command: <code>docker-compose up -d</code> and you’re done! The warrior is now picking up work and helps archive the internet.</p>
<div>
    <h2 id="seeing-the-warriors-activity">
        Seeing the Warrior’s Activity
        <a data-clipboard-text="https://selfhostedheaven.com/posts/20220228-help-out-archiving/#seeing-the-warriors-activity" aria-label="Anchor Seeing the Warrior’s Activity" href="#seeing-the-warriors-activity">
            <svg><use xlink:href="#gblog_link"></use></svg>
        </a>
    </h2>
</div>
<p>The warrior’s activity can be monitored using the webinterface. You can access it in your browser with <code>http://&lt;ip_address_of_system&gt;:8001</code>. The interface is pretty simple to understand. There is really only one main screen where all the magic happens. On the main screen of the Archiveteam Warrior you can see which project is currently being worked on, what each worker is doing and how much data is already transferred from the project and to the tracker.</p>





  

  
  
  
  

  


  <div>
    <figure>
      <a href="https://selfhostedheaven.com/posts/20220228-help-out-archiving/images/warrior-current-project-page.webp">
        <picture>
          <source srcset="/posts/20220228-help-out-archiving/images/warrior-current-project-page_huf96818ce512e93c38975550640ed6221_269444_600x0_resize_q75_h2_box.webp 600w, /posts/20220228-help-out-archiving/images/warrior-current-project-page_huf96818ce512e93c38975550640ed6221_269444_1200x0_resize_q75_h2_box.webp 1200w" sizes="100vw"/>
          <img loading="lazy" src="https://selfhostedheaven.com/posts/20220228-help-out-archiving/images/warrior-current-project-page_huf96818ce512e93c38975550640ed6221_269444_1800x0_resize_q75_h2_box.webp" alt="Monitor the Warrior on the Current Project Page"/>
        </picture>
      </a>
      
        <figcaption>
          Monitor the Warrior on the Current Project Page
        </figcaption>
      
    </figure>
  </div>


<p>Currently, my warrior is working on archiving Reddit (do you already follow the <a href="https://reddit.com/r/selfhosted">selfhosted subreddit?</a>), but you could choose one of the other projects they are working on.</p>





  

  
  
  
  

  


  <div>
    <figure>
      <a href="https://selfhostedheaven.com/posts/20220228-help-out-archiving/images/warrior-current-projects.webp">
        <picture>
          <source srcset="/posts/20220228-help-out-archiving/images/warrior-current-projects_huf77cd0f4bf8b264b8bd065cc160fb2d9_60908_600x0_resize_q75_h2_box.webp 600w, /posts/20220228-help-out-archiving/images/warrior-current-projects_huf77cd0f4bf8b264b8bd065cc160fb2d9_60908_1200x0_resize_q75_h2_box.webp 1200w" sizes="100vw"/>
          <img loading="lazy" src="https://selfhostedheaven.com/posts/20220228-help-out-archiving/images/warrior-current-projects_huf77cd0f4bf8b264b8bd065cc160fb2d9_60908_1800x0_resize_q75_h2_box.webp" alt="The current archival projects"/>
        </picture>
      </a>
      
        <figcaption>
          The current archival projects
        </figcaption>
      
    </figure>
  </div>


<p>Although you would not see your work directly, you can actually <a href="http://tracker.archiveteam.org/reddit/">see how you are</a> doing compared to others! Call it ‘gamification’, but it is pretty cool to see all the activity from the workers flying by on the screen in the leaderboard.</p>





  

  
  
  
  

  


  <div>
    <figure>
      <a href="https://selfhostedheaven.com/posts/20220228-help-out-archiving/images/warrior-leaderboard.webp">
        <picture>
          <source srcset="/posts/20220228-help-out-archiving/images/warrior-leaderboard_hu5d4d69ebe6923749b13b8eee2e3c9727_129120_600x0_resize_q75_h2_box.webp 600w, /posts/20220228-help-out-archiving/images/warrior-leaderboard_hu5d4d69ebe6923749b13b8eee2e3c9727_129120_1200x0_resize_q75_h2_box.webp 1200w" sizes="100vw"/>
          <img loading="lazy" src="https://selfhostedheaven.com/posts/20220228-help-out-archiving/images/warrior-leaderboard_hu5d4d69ebe6923749b13b8eee2e3c9727_129120_1800x0_resize_q75_h2_box.webp" alt="Who has archived the most in this project?"/>
        </picture>
      </a>
      
        <figcaption>
          Who has archived the most in this project?
        </figcaption>
      
    </figure>
  </div>



<p>I know this is a little bit different then my usual blogposts, but I feel it’s important to get as many people help archiving the internet as possible. Especially since censorship is at an all-time high and we need to be able to see the truth. Archiving is a small step in the big picture, but I believe it really helps in the long term.</p>
<p>Will you help archive the internet?</p>

    </section></div>
  </body>
</html>
