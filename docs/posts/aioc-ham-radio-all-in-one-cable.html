<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/skuep/AIOC">Original</a>
    <h1>AIOC: Ham Radio All-in-One-Cable</h1>
    
    <div id="readability-page-1" class="page"><div data-view-component="true">      
      
      <div>
  



<div data-modal-dialog-overlay="">
  <modal-dialog role="dialog" id="warn-tag-match-create-branch-dialog" aria-modal="true" aria-labelledby="warn-tag-match-create-branch-dialog-header" data-view-component="true">
      <header>
        
      </header>
    <div>
      
          <p>      A tag already exists with the provided branch name. Many Git commands accept both tag and branch names, so creating this branch may cause unexpected behavior. Are you sure you want to create this branch?
</p>

    </div>
      
</modal-dialog></div>



  

  

  <include-fragment data-test-selector="overview-actions-fragment" src="/skuep/AIOC/overview_actions/master"></include-fragment>


    <p><span>
      
<get-repo>
    
    <details data-action="toggle:get-repo#onDetailsToggle">
        <summary data-hydro-click="{&#34;event_type&#34;:&#34;repository.click&#34;,&#34;payload&#34;:{&#34;repository_id&#34;:546064104,&#34;target&#34;:&#34;CLONE_OR_DOWNLOAD_BUTTON&#34;,&#34;originating_url&#34;:&#34;https://github.com/skuep/AIOC&#34;,&#34;user_id&#34;:null}}" data-hydro-click-hmac="2df2c5faeab6cea87a838f4ca40b86b23c79c12c326e47961ae3be337d86dcd0" data-view-component="true">    Code<span></span>
</summary>      
    </details>


</get-repo>

        
    </span>
</p></div>




      


<div>
  <div>
    <h2>Latest commit</h2>
    <div data-issue-and-pr-hovercards-enabled="">
      
  <div>
    
<div>
  <p><a data-test-selector="commits-avatar-stack-avatar-link" data-hovercard-type="user" data-hovercard-url="/users/skuep/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/skuep">
        <img data-test-selector="commits-avatar-stack-avatar-image" src="https://avatars.githubusercontent.com/u/5630293?s=48&amp;v=4" width="24" height="24" alt="@skuep"/>
</a>  </p>
</div>

  </div>
  
  
      
    </div>
  </div>
    <h2 id="files">Files</h2>
    


    <p><a data-hotkey="y" href="https://github.com/skuep/AIOC/tree/8a3a96d1e77972e86060e54a91a379a3d0ddadca">Permalink</a></p><div data-view-component="true">
  <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path>
</svg><p>
  
    Failed to load latest commit information.


  
</p></div>  <div data-hpc="">
    <div role="grid" aria-labelledby="files">
      <div role="row">
        <p>Type</p>
        <p>Name</p>
        <p>Latest commit message</p>
        <p>Commit time</p>
      </div>

        
        
        
        
        
        
        
    </div>
    
  </div>




</div>

  
      <readme-toc>

      <div id="readme" data-tagsearch-path="README.md" data-tagsearch-lang="Markdown">

        

          <div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">This is the Ham Radio <em>All-in-one-Cable</em>.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/skuep/AIOC/blob/master/doc/images/k1-aioc-wouxun.jpg?raw=true"><img src="https://github.com/skuep/AIOC/raw/master/doc/images/k1-aioc-wouxun.jpg?raw=true" alt="AIOC with Wouxun and Direwolf" title="AIOC with Wouxun and Direwolf"/></a></p>
<h2 dir="auto"><a id="user-content-what-does-it-do" aria-hidden="true" href="#what-does-it-do"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>What does it do?</h2>
<p dir="auto">The AIOC is a small adapter with a USB-C connector that enumerates itself as a sound-card (e.g. for APRS purposes)
and a virtual tty (&#34;COM Port&#34;) for programming and asserting the PTT (Push-To-Talk).</p>
<h2 dir="auto"><a id="user-content-features" aria-hidden="true" href="#features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Features</h2>
<ul dir="auto">
<li>Digital mode interface (similar to digirig)</li>
<li>Programming Cable Function via virtual Serial Port</li>
<li>Compact form-factor (DIY molded enclosure TBD)</li>
<li>Based on easy-to-hack STM32F302 with internal ADC/DAC (Programmable via USB bootloader using <a href="#how-to-program">DFU</a>)</li>
<li>Tested with Wouxun UV-9D Mate and Baofeng UV-5R</li>
<li>Works with Direwolf (Notes on APRSdroid <a href="#notes-on-aprsdroid">below</a>)</li>
</ul>
<h2 dir="auto"><a id="user-content-future-work" aria-hidden="true" href="#future-work"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Future Work</h2>
<ul dir="auto">
<li>Enclosure (DIY using 3D-Printed mold and Resin)</li>
<li>Maybe integrate a TNC Modem with KISS interface? (I am not sure if that is worth the effort)</li>
<li>Maybe change the USB-C connector type due to sporadic connection issues with JLCPCB&#39;s SMT reflow process</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/skuep/AIOC/blob/master/doc/images/k1-aioc-photo.jpg?raw=true"><img src="https://github.com/skuep/AIOC/raw/master/doc/images/k1-aioc-photo.jpg?raw=true" alt="Top side of PCB" title="Top side of PCB"/></a></p>
<h2 dir="auto"><a id="user-content-how-to-fab" aria-hidden="true" href="#how-to-fab"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How To Fab</h2>
<ul dir="auto">
<li>Go to JLCPCB.com and upload the GERBER-k1-aioc.zip package (under <code>kicad/k1-aioc/jlcpcb</code>)
<ul dir="auto">
<li>Select PCB Thickness 1.2mm (that is what I recommend with the TRS connectors I used)</li>
<li>You may want to select LeadFree HASL</li>
<li>Select Silkscreen/Soldermask color to your liking</li>
</ul>
</li>
<li>Check &#34;PCB Assembly&#34;
<ul dir="auto">
<li>PCBA Type &#34;Economic&#34;</li>
<li>Assembly Side &#34;Top Side&#34;</li>
<li>Tooling Holes &#34;Added by Customer&#34;</li>
<li>Press Confirm</li>
<li>Click &#34;Add BOM File&#34; and upload <code>BOM-k1-aioc.csv</code></li>
<li>Click &#34;Add CPL File&#34; and upload <code>POS-k1-aioc.csv</code></li>
<li>Press Next</li>
<li>Look Through components, see if something is missing or problematic and press Next</li>
<li>Check everything looks good and Save to Cart</li>
</ul>
</li>
</ul>
<h2 dir="auto"><a id="user-content-how-to-build" aria-hidden="true" href="#how-to-build"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How To Build</h2>
<ul dir="auto">
<li>You need to use Monacor PG-204P and PG-203P or compatible TRS connectors (2 solder lugs and a big tab for the sleeve connection)</li>
<li>Cut the 2.5mm and 3.5mm TRS sleeve tab where the hole is located</li>
<li>Put both TRS connectors into the solder guide (or a cheap HT that you don&#39;t mind potentially damaging). Make sure, that they are seated all the way in</li>
<li>Solder sleeve tab on the back side for both TRS connectors first</li>
<li>Turn around PCB and solder remaining solder lugs</li>
</ul>
<h2 dir="auto"><a id="user-content-how-to-program" aria-hidden="true" href="#how-to-program"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How To Program</h2>
<ul dir="auto">
<li>Short outermost pins on the programming header. This will set the device into bootloader mode in the next step.</li>
<li>Connect USB-C cable to the AIOC PCB</li>
<li>Use a tool like <code>dfu-util</code> to program the Release Binary like this:
<div data-snippet-clipboard-copy-content="dfu-util -a 0 -s 0x08000000 -D aioc-fw.bin"><pre><code>dfu-util -a 0 -s 0x08000000 -D aioc-fw.bin
</code></pre></div>
<strong>Note</strong> that a <code>libusb</code> driver is required for this. On Windows there are additional steps required as shown <a href="https://yeswolf.github.io/dfu" rel="nofollow">here</a> (<em>DFuSe Utility and dfu-util</em>). On other operating systems (e.g. Linux, MacOS), this just works â„¢ (provided libusb is installed on your system).</li>
<li>Remove short from first step, unplug and replug the device, it should now enumerate as the AIOC device</li>
</ul>
<h2 dir="auto"><a id="user-content-how-to-use-with-direwolf-for-aprs" aria-hidden="true" href="#how-to-use-with-direwolf-for-aprs"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How To use with Direwolf for APRS</h2>
<ul dir="auto">
<li>Follow the regular setup guide with direwolf to determine the correct audio device to use</li>
<li>Configure the device as follows
<div data-snippet-clipboard-copy-content="[...]
ADEVICE  plughw:&lt;x&gt;,0
ARATE 48000
[...]
PTT /dev/ttyACM0 RTS -DTR
[...]"><pre><code>[...]
ADEVICE  plughw:&lt;x&gt;,0
ARATE 48000
[...]
PTT /dev/ttyACM0 RTS -DTR
[...]
</code></pre></div>
</li>
</ul>
<h2 dir="auto"><a id="user-content-how-to-use-with-chirp-for-programming" aria-hidden="true" href="#how-to-use-with-chirp-for-programming"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How To use with CHIRP for programming</h2>
<ul dir="auto">
<li>Start CHIRP</li>
<li>Select Radio-&gt;Download from Radio</li>
<li>Select the new COM/ttyACM port and start</li>
</ul>
<h2 dir="auto"><a id="user-content-notes-on-aprsdroid" aria-hidden="true" href="#notes-on-aprsdroid"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Notes on APRSdroid</h2>
<p dir="auto">Although theoretically not an issue, currently APRSdroid is not supported due to the following two issues:</p>
<ul dir="auto">
<li>According to <a data-error-text="Failed to load title" data-id="203886651" data-permission-text="Title is private" data-url="https://github.com/ge0rg/aprsdroid/issues/156" data-hovercard-type="issue" data-hovercard-url="/ge0rg/aprsdroid/issues/156/hovercard" href="https://github.com/ge0rg/aprsdroid/issues/156">ge0rg/aprsdroid#156</a> the sample-rate is fixed to 22050 Hz.
Currently, only 48000 Hz is supported by the AIOC (and 24000 Hz or 12000 Hz would be possible to implement).
However it should be possible to also support 22050 Hz although with an approximate frequency error of 90ppm (which however should be fine for APRS)</li>
<li>Currently APRSdroid does not support any PTT control via a serial interface. See <a data-error-text="Failed to load title" data-id="1247135108" data-permission-text="Title is private" data-url="https://github.com/ge0rg/aprsdroid/issues/324" data-hovercard-type="issue" data-hovercard-url="/ge0rg/aprsdroid/issues/324/hovercard" href="https://github.com/ge0rg/aprsdroid/issues/324">ge0rg/aprsdroid#324</a>
However my previous experience is, that the Android kernel brings support for ttyACM devices (which is perfect) so implementing this feature should be no problem.</li>
</ul>
</article>
          </div>
      </div>

  </readme-toc>


</div></div>
  </body>
</html>
