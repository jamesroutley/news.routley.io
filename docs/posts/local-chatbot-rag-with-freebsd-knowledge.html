<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://hackacad.net/post/2025-07-12-local-chatbot-rag-with-freebsd-knowledge/">Original</a>
    <h1>Local Chatbot RAG with FreeBSD Knowledge</h1>
    
    <div id="readability-page-1" class="page"><div>
      
  <article>
    
    <div>
      <p>Out of multiple conversations with people at BSD conferences, I noticed that many would love to see a chatbot that provides precise information on FreeBSD—for users, admins, and developers.</p>
<p>I strongly believe that there should <em>not</em> be an official <code>chat.freebsd.org</code>. Local chatbots work well and can be tweaked to fit personal needs.</p>
<blockquote>
<p>This documentation is written for macOS with Apple Silicon (because of the GPU support), but should work on other OSes as well.</p></blockquote>
<hr/>
<h2 id="step-1-install-ollama-api-for-multiple-llms">Step 1: Install Ollama (API for Multiple LLMs)</h2>
<pre><code>brew install ollama
ollama pull gemma3:latest
</code></pre>
<p>You can try deepseek-r1:latest or even deepseek-r1:70b on more powerful GPUs.</p>
<h2 id="step-2-install-open-webui-for-a-ui-and-built-in-vector-database">Step 2: Install Open-WebUI for a UI and Built-in Vector Database</h2>
<pre><code>curl -LsSf https://astral.sh/uv/install.sh | sh
DATA_DIR=~/.open-webui uvx --python 3.11 open-webui@latest serve
</code></pre>
<p>Now browse to http://localhost:5000/</p>
<p>Welcome to your own, local chatbot!</p>
<h2 id="step-3-feed-knowledge-to-the-model">Step 3: Feed Knowledge to the Model</h2>
<p>This is where the real work begins:
You need to tell the LLM what’s right or wrong, what’s necessary, and how FreeBSD differs from Linux.</p>
<h3 id="31-download-the-freebsd-documentation">3.1 Download the FreeBSD Documentation</h3>
<p>Follow this guide for more details.</p>
<p>Install dependencies (use apt, yum etc. according to your OS):</p>
<p><code>brew install hugo ruby git bmake</code></p>
<p>Update your shell configuration:</p>
<pre><code>echo &#39;export PATH=&#34;$(brew --prefix ruby)/bin:$PATH&#34;&#39; &gt;&gt; ~/.zshrc
echo &#39;export PATH=&#34;$(brew --prefix hugo)/bin:$PATH&#34;&#39; &gt;&gt; ~/.zshrc
echo &#39;export GEM_PATH=&#34;$(gem environment gemdir)&#34;&#39; &gt;&gt; ~/.zshrc
echo &#39;export PATH=&#34;${GEM_PATH}/bin:$PATH&#34;&#39; &gt;&gt; ~/.zshrc
source ~/.zshrc
</code></pre>
<p>Install required gems:</p>
<p><code>sudo gem install rouge asciidoctor asciidoctor-pdf asciidoctor-epub3</code></p>
<p>Clone and build the FreeBSD documentation:</p>
<pre><code>git clone https://git.FreeBSD.org/doc.git ~/doc
cd ~/doc/documentation
bmake run USE_RUBYGEMS=YES RUBY_CMD=$(brew --prefix ruby)/bin/ruby
</code></pre>
<blockquote>
<p>More information can be found here: <a href="https://docs.freebsd.org/en/books/fdp-primer/overview/#mac-os-installation-process">https://docs.freebsd.org/en/books/fdp-primer/overview/#mac-os-installation-process</a></p></blockquote>
<h3 id="32-upload-documentation-to-open-webui">3.2 Upload Documentation to Open-WebUI</h3>
<p>Go to: http://localhost:5000/workspace/knowledge</p>
<pre><code>Click +

Add a knowledge base called &#34;FreeBSD Official Docs&#34;

Add the folder: ~/doc/documentation/public/en/books
</code></pre>
<h3 id="33-create-a-model-workspace">3.3 Create a Model Workspace</h3>
<p>Go to: http://127.0.0.1:5000/workspace/models</p>
<pre><code>Add a new workspace called &#34;FreeBSD Helper&#34;

Base Model: gemma3:latest
(Or whatever you downloaded via `ollama pull`)
</code></pre>
<p>System Prompt</p>
<pre><code>Your are a bot that helps to use, administrate and develop everything that has to do with FreeBSD.
You give technical responses and be very precise. Make sure you use proper FreeBSD tools and don&#39;t mistake it with Linux.
You online use the knowledge provided.
</code></pre>
<p>Select Knowledge: “FreeBSD Official Docs”</p>
<h2 id="step-4-chat-away">Step 4: Chat Away</h2>
<p>Now open a new chat window and select “FreeBSD Helper” as your model.</p>
<p>You might be tempted to add more data, but remember:</p>
<pre><code>The more unstructured the data, the more likely the LLM will give poor results. 
E. g. if you give it your PDF invoices it will just fail. 
(There are tool for parsing them correctly, but that&#39;s not part of this post. Wouldn&#39;t fit into 10 posts :-) )
</code></pre>
<p>You can use the slider on the top left and lower the value Temperature, this will give you more precise answers.</p>
<p>The hardest part is getting the source data into proper shape—which, thankfully, has already been done by the amazing FreeBSD documentation team.</p>

    </div>
    
  </article>

    </div></div>
  </body>
</html>
