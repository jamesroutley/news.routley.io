<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://diffusion.csail.mit.edu">Original</a>
    <h1>MIT 6.S184: Introduction to Flow Matching and Diffusion Models</h1>
    
    <div id="readability-page-1" class="page"><div id="content">
    
    <h2>MIT Computer Science Class 6.S184: Generative AI with Stochastic Differential Equations</h2>
<p>
Diffusion and flow-based models have become the state of the art for generative AI across a wide range of data modalities, including images, videos, shapes, molecules, music, and more! This course aims to build up the mathematical framework underlying these models from first principles. At the end of the class, students will have built a toy image diffusion model from scratch, and along the way, will have gained hands-on experience with the mathematical toolbox of stochastic differential equations that is useful in many other fields. This course is ideal for students who want to develop a principled understanding of the theory and practice of generative AI.
</p>
  <p>
  The course notes serve as the backbone of the course and provide a self-contained explanation of all material in the class. In contrast, lectures slides will generally not be self-contained and are intended to provide accompanying visualizations during the lecture. You may view the notes by clicking on the colored link below.
  </p>
  


<table>
  <tbody><tr>
    <th>Lecture</th>
    <th>Topic</th>
    <th>Slides</th>
    <th>Recording</th>
  </tr>
  
  <tr>
    <td>1</td>
    <td>
      <span>Flow and Diffusion Models</span>
      <ul>
        <li>Introduction to generative models</li>
        <li>Ordinary and stochastic differential equations</li>
        <li>Sampling from flow and diffusion models</li>
      </ul>
    </td>
    <td><a href="https://diffusion.csail.mit.edu/docs/slides_lecture_1.pdf" target="_blank">[slides 1]</a></td>
    <td>
      <iframe src="https://www.youtube.com/embed/GCoP2w-Cqtg?si=SY3y8IRN_kCFjDt0" frameborder="0" allowfullscreen=""></iframe>
      <br/>
      <!-- <a href="https://www.youtube.com/watch?v=bBA0Ueb80hg" target="_blank" class="watch-youtube">▶ Watch on YouTube</a> -->
    </td>
  </tr>

  <tr>
    <td>2</td>
    <td>
      <span>Constructing a Training Target</span>
      <ul>
        <li>Conditional and marginal probability paths</li>
        <li>Continuity and Fokker-Planck equations</li>
        <li>Marginal vector field and marginal score function</li>
      </ul>
    </td>
    <td><a href="https://diffusion.csail.mit.edu/docs/slides_lecture_2.pdf" target="_blank">[slides 2]</a></td>
    <td>
      <iframe src="https://www.youtube.com/embed/yFD-JSSG-D0?si=75ROyI54iBZ7WnAO" frameborder="0" allowfullscreen=""></iframe>
      <br/>
      <!-- <a href="https://www.youtube.com/watch?v=VIDEO_ID_2" target="_blank" class="watch-youtube">▶ Watch on YouTube</a> -->
    </td>
  </tr>

  <tr>
    <td>3</td>
    <td>
      <span>Training Flow and Diffusion Models</span>
      <ul>
        <li>Flow matching</li>
        <li>Score matching</li>
        <li>Various approaches to diffusion models</li>
      </ul>
    </td>
    <td><a href="https://diffusion.csail.mit.edu/docs/slides_lecture_3.pdf" target="_blank">[slides 3]</a></td>
    <td>
      <iframe src="https://www.youtube.com/embed/HhfLo1_yza4?si=Xf09xmI6fG_4ibKo" frameborder="0" allowfullscreen=""></iframe>
      <br/>
      <!-- <a href="https://www.youtube.com/watch?v=VIDEO_ID_3" target="_blank" class="watch-youtube">▶ Watch on YouTube</a> -->
    </td>
  </tr>
  <tr>
    <td>4</td>
    <td>
      <span>Building an Image Generator</span>
      <ul>
        <li>Guidance and conditional generation</li>
        <li>Neural network architectures</li>
        <li>Survey of state-of-the-art models</li>
      </ul>
    </td>
    <td><a href="https://diffusion.csail.mit.edu/docs/slides_lecture_4.pdf" target="_blank"> [slides 4] </a></td>
    <td>
      <iframe src="https://www.youtube.com/embed/nfrZ30mnwP0?si=80pQcYMj6Ml85pjJ" frameborder="0" allowfullscreen=""></iframe>
      <br/>
      <!-- <a href="https://www.youtube.com/watch?v=VIDEO_ID_3" target="_blank" class="watch-youtube">▶ Watch on YouTube</a> -->
    </td>
  </tr>
  <tr>
    <td>5</td>
    <td>
      <span>Generative Robotics</span>
      <ul>
        <li>Guest lecture by Benjamin Burchfiel (Toyota Research)</li>
        <li>Large behavior models</li>
        <li>Diffusion models for robotics</li>
      </ul>
    </td>
    <td><a href="" target="_blank"> N/A</a></td>
    <td>
      <iframe src="https://www.youtube.com/embed/7tsCN2hRBMg?si=r2KwAAJWnsPlWN47" frameborder="0" allowfullscreen=""></iframe>
      <br/>
      <!-- <a href="https://www.youtube.com/watch?v=VIDEO_ID_3" target="_blank" class="watch-youtube">▶ Watch on YouTube</a> -->
    </td>
  </tr>
  <tr>
    <td>6</td>
    <td>
      <span>Generative Protein Design</span>
      <ul>
        <li>Guest lecture by Jason Yim (MIT)</li>
        <li>Designing new proteins with AI</li>
        <li>Flow matching for protein structure generation</li>
      </ul>
    </td>
    <td><a href="https://diffusion.csail.mit.edu/docs/slides_lecture_6.pdf" target="_blank"> [slides 6]</a></td>
    <td>
      <iframe src="https://www.youtube.com/embed/hi_s4T1-gBY?si=WEJX9Vv4ThmwaAaY" frameborder="0" allowfullscreen=""></iframe>
      <br/>
      <!-- <a href="https://www.youtube.com/watch?v=VIDEO_ID_3" target="_blank" class="watch-youtube">▶ Watch on YouTube</a> -->
    </td>
  </tr>
</tbody></table>

<!-- <table class="schedule-table">
  <tr>
    <th>Lecture</th>
    <th>Topic</th>
    <th>Slides</th>
    <th>Recording</th>
  </tr>
  <tr>
    <td>Lecture 1</td>
    <td>Flow and Diffusion Models</td>
    <td><a href="docs/slides_lecture_1.pdf" target="_blank">[Slides]</a></td>
    <td>
      <div style="position: relative; display: inline-block;">
        <iframe width="280" height="157" src="https://www.youtube.com/embed/bBA0Ueb80hg?si=dqakGUwXyPAa5RsL" 
            title="YouTube video player" frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
        </iframe>
        
        <a href="https://www.youtube.com/watch?v=bBA0Ueb80hg" target="_blank" 
           style="position: absolute; bottom: 5px; right: 5px; background: rgba(0,0,0,0.7); 
                  color: white; padding: 4px 8px; text-decoration: none; border-radius: 3px; font-size: 12px;">
            Watch on YouTube
        </a>
    </div>
  </td>
  </tr>
  <tr>
    <td>Lecture 2</td>
    <td>Constructing a Training Target</td>
    <td><a href="docs/slides_lecture_1.pdf" target="_blank">[Slides]</a></td>
    <td>
      <div style="position: relative; display: inline-block;">
        <iframe width="280" height="157" src="https://www.youtube.com/embed/bBA0Ueb80hg?si=dqakGUwXyPAa5RsL" 
            title="YouTube video player" frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
        </iframe>
        
        <a href="https://www.youtube.com/watch?v=bBA0Ueb80hg" target="_blank" 
           style="position: absolute; bottom: 5px; right: 5px; background: rgba(0,0,0,0.7); 
                  color: white; padding: 4px 8px; text-decoration: none; border-radius: 3px; font-size: 12px;">
            Watch on YouTube
        </a>
    </div>
  </td>
  </tr>
  <tr>
    <td>Lecture 3</td>
    <td>Flow Matching and Score Matching</td>
    <td><a href="docs/slides_lecture_1.pdf" target="_blank">[Slides]</a></td>
    <td>
      <div style="position: relative; display: inline-block;">
        <iframe width="280" height="157" src="https://www.youtube.com/embed/bBA0Ueb80hg?si=dqakGUwXyPAa5RsL" 
            title="YouTube video player" frameborder="0" 
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
            referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
        </iframe>
        
        <a href="https://www.youtube.com/watch?v=bBA0Ueb80hg" target="_blank" 
           style="position: absolute; bottom: 5px; right: 5px; background: rgba(0,0,0,0.7); 
                  color: white; padding: 4px 8px; text-decoration: none; border-radius: 3px; font-size: 12px;">
            Watch on YouTube
        </a>
    </div>
  </td>
  </tr>
</table> -->
<!-- <strong>Lectures</strong>: Lectures will be held from 11:00am - 12:30pm, in Room <a href="https://whereis.mit.edu/?go=E25"> E25-111</a>. Notes, slides, and video recordings will be linked below once available. Registered students may also view recordings on Canvas via Panopto.<br />
<ul>
    <li>
    <strong>Tuesday, 1/21/2025</strong>: Flow and Diffusion Models <a href="docs/lecture-notes.pdf" style="color: rgb(255, 196, 0);">[notes]</a><a href="docs/slides_lecture_1.pdf" target="_blank" style="color: rgb(255, 196, 0);">[slides]</a> <a href="https://mit.hosted.panopto.com/Panopto/Pages/Sessions/List.aspx?folderID=33a0af0b-dd76-4213-b033-b26700e17e3f" style="color: rgb(255, 196, 0);">[recording</a>]
    </li>
    <li>
        <strong>Wed, 1/22/2025</strong>: The Marginal Vector Field and Score <a href="docs/lecture-notes.pdf" style="color: rgb(255, 196, 0);">[notes]</a><a href="docs/slides_lecture_2.pdf" target="_blank" style="color: rgb(255, 196, 0);">[slides]</a> <a href="https://mit.hosted.panopto.com/Panopto/Pages/Sessions/List.aspx?folderID=33a0af0b-dd76-4213-b033-b26700e17e3f" style="color: rgb(255, 196, 0);">[recording</a>]
    </li>
    <li>
        <strong>Thu, 1/23/2025</strong>: Flow Matching and Score Matching <a href="docs/lecture-notes.pdf" style="color: rgb(255, 196, 0);">[notes]</a><a href="docs/slides_lecture_3.pdf" target="_blank" style="color: rgb(255, 196, 0);">[slides]</a> <a href="https://mit.hosted.panopto.com/Panopto/Pages/Sessions/List.aspx?folderID=33a0af0b-dd76-4213-b033-b26700e17e3f" style="color: rgb(255, 196, 0);">[recording</a>]
    </li>
    <li>
        <strong>Monday, 1/27/2025</strong>: Conditional Image Generation<a href="docs/lecture-notes.pdf" style="color: rgb(255, 196, 0);">[notes]<a><a href="docs/slides_lecture_4.pdf" target="_blank" style="color: rgb(255, 196, 0);">[slides]</a> <a href="https://mit.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=39574796-6c7a-4691-8e9a-b26700e2c8f2" style="color: rgb(255, 196, 0);">[recording</a>]
        <ul>
          <li> Classifier-Free Guidance
          <li> Neural Network Architectures
          <li> Alignment: Carles Domingo-Enrich (Microsoft Research) <a href="docs/guest_slides_lecture_4.pdf" target="_blank" style="color: rgb(255, 196, 0);">[slides]</a>
          </li>
      </ul>
    </li>
    <li>
        <strong>Thursday, 1/30/2025</strong>: Guest lecture: Diffusion models across applications.
        <ul>
            <li> Robotics: Benjamin Burchfiel (Toyota Research Institute) <a href="https://mit.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=39574796-6c7a-4691-8e9a-b26700e2c8f2" style="color: rgb(255, 196, 0);">[recording</a>] </li> 
            <li> Protein design: Jason Yim (MIT) <a href="docs/slides_lecture_5_jason.pdf" target="_blank" style="color: rgb(255, 196, 0);">[slides]</a> <a href="https://mit.hosted.panopto.com/Panopto/Pages/Viewer.aspx?id=39574796-6c7a-4691-8e9a-b26700e2c8f2" style="color: rgb(255, 196, 0);">[recording</a>] </li>
        </ul>
    </li>
</ul> -->

<!-- <strong>Office hours</strong>: Office hours will be held at the following dates and times:
<ul>
    <li>
    <strong>Week One</strong>: 
    <ul>
    <li>  1/22/2025 @ 3:00pm-4:30pm (Room <a href="https://whereis.mit.edu/?go=37">37-212 </a>)
    <li>  1/24/2025 @ 11:00am-12:30pm (Room <a href="https://whereis.mit.edu/?go=37">37-212 </a>)
    </ul>
    </li>
    <li>
    <strong>Week Two</strong>: 
    <ul>
      <li> 1/28/2025 @ 11:00am-12:30pm (Room <a href="https://whereis.mit.edu/?go=E25">E25-111 </a>)
      <li> 1/29/2025 @ 11:00am-12:30pm (Room <a href="https://whereis.mit.edu/?go=37">37-212 </a>)
      <li> 1/31/2025 @ 11:00am-12:30pm (Room <a href="https://whereis.mit.edu/?go=37">37-212 </a>)
      </ul>
    </li>
</ul> -->



<p>

There are 3 <b>labs</b> given as exercises accompanying the class to give you <b>hands-on practical experience</b>. The labs will guide you through building a flow matching and diffusion model from scratch step-by-step. To do the exercises, perform the following steps:
</p><ol>
  <li>Click on the <b>&#34;Open in Colab&#34;</b> link to open the lab in Google Drive.</li>
  <li>Click on the <b>&#34;Open in Google Colaboratory&#34;</b> link at the center top of the page. A jupyter notebook should appear.</li>
  <li>Click on <b>&#34;File&#34; → &#34;Save a copy in Drive&#34;</b> to save a copy of the lab to your own Google Drive.</li>
  <li>Follow the instructions in the lab to complete the exercises.</li>
</ol>




<p>
  <strong>Stuck?</strong> Solutions can be found 
  <a href="https://github.com/eje24/iap-diffusion-labs">here</a>.
</p>

<!-- <h1 id="labs">Labs</h1>

There will be 3 <b>labs</b> given as homework which culminate in a conditional flow matching model. The labs will guide you through building this model from scratch step-by-step.

<ul>
  <li>
    <strong> Lab 1</strong>:
    Working with SDEs [<a href="https://drive.google.com/file/d/1kT_epFEuPD_uAHzKVWufovMf5Ro0lER1/view?usp=sharing"style="color: rgb(255, 196, 0);">Colab</a>]
  </li>
  <li>
    <strong> Lab 2</strong>:
    Flow Matching and Score Matching [<a href="https://drive.google.com/file/d/1Su2zbsubk0GB7obELDLpD7vHmE2huW-_/view?usp=sharing"style="color: rgb(255, 196, 0);">Colab</a>]

  </li>
  <li>
    <strong> Lab 3</strong>:
    Conditional Image Generation [<a href="https://drive.google.com/file/d/1crSvL3ongtw0H0qO1DhnfQHW-biTasGb/view?usp=sharing"style="color: rgb(255, 196, 0);">Colab</a>]

  </li>
</ul>
Stuck? Solutions can be found <a href="https://github.com/eje24/iap-diffusion-labs">here</a>. -->

<!-- <h1 id="schedule">Grading<a id="schedule"></a></h1> -->
<!---->
<!-- Grading will be P/D/F, 18 points and above required to receive credit. The total points are calculated as follows: -->
<!-- <ul> -->
<!-- <li> Participation/attendance (10 points)  -->
<!-- </li> -->
<!-- <li>  -->
<!--     Labs (15 points, 5 points each) -->
<!-- </li> -->
<!-- </ul> -->



<p>This class was co-taught by <a href="https://www.peterholderrieth.com/">Peter</a> and <a href="https://eerives.me/">Ezra</a>. We are fortunate to have <a href="https://people.csail.mit.edu/tommi/">Tommi Jaakkola</a> as our sponsor and advisor.<br/></p>


 
<p><strong>Prerequisites:</strong> Linear algebra, real analysis, and basic probability theory. Students should be familiar with Python and have some experience with PyTorch.

</p><p><strong>Questions?</strong> Email either <a href="mailto:phold@mit.edu">Peter</a> or <a href="mailto:erives@mit.edu">Ezra</a>!</p>

<p><strong>Remark about LLMs:</strong> This course does not cover large language models (LLMs). LLMs involve discrete data such as text, while this course focuses on data lying in continuous spaces such as images, videos, and protein structures. 

</p><h2 id="acknowledgements">Acknowledgements</h2><p>
We would like to thank the following individuals and organizations without whose support this course would not be possible:
</p><ul>
	<li>Professor <a href="https://people.csail.mit.edu/tommi/">Tommi Jaakkola</a>  without whose support this class would not be possible</li>
	<li>Lisa Bella, Ellen Reid, and everyone else at <a href="https://www.eecs.mit.edu/">MIT EECS</a> for their generous support</li>
	<li>Christian Fiedler, Tim Griesbach, Benedikt Geiger, and Albrecht Holderrieth for invaluable feedback on the lecture notes</li>
	<li>Elaine Mello from MIT Open Learning for support with lecture recordings</li>
	<li>Ashay Athalye from Students for Open and Universal Learning for helping to edit and publish lecture recordings</li>
	<li>Cameron Diao, Tally Portnoi, Andi Qu, and many others for providing invaluable feedback on the labs</li>
	<li><a href="https://github.com/missing-semester/missing-semester">The Missing Semester of Your CS Education</a> upon whose website this one was inspired</li>
	<li>Participants in the original course offering (MIT 6.S184/6.S975, taught over IAP 2025), as well as readers like you for your interest in this course</li>
</ul><p>
Thank you!
</p><hr/>




    </div></div>
  </body>
</html>
