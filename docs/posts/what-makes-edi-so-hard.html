<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.stedi.com/blog/what-makes-edi-so-hard">Original</a>
    <h1>What makes EDI so hard?</h1>
    
    <div id="readability-page-1" class="page"><div><p>EDI – Electronic Data Interchange – is an umbrella term for many different “standardized” frameworks for exchanging business-to-business transactions. It dates back to the 1960s and remains a pain point in every commercial industry from supply chain and logistics to healthcare and finance. What makes it so hard? Why is it still an unsolved problem despite many decades of immense usage?</p><p>These are the questions we get most often from developers – both developers who want to become Stedi customers and developers who want to join us to help build Stedi. And these are our favorite questions to answer, too – the world of EDI is complex, opaque, and arcane, but it’s also enormously powerful, underpinning huge swaths of the world economy.</p><p>The problem is that there just aren’t any good, developer-focused resources out there that can help make sense of EDI from the ground up. The result is that this wonderfully rich ecosystem has been locked away from the sweeping changes that are happening in the broader world of technology.</p><p>We have a 60+ person-strong engineering team at this point, and so we’ve had the good fortune of ramping up a number of people from zero to a solid working knowledge of how the whole EDI picture fits together. It helps to start at the highest level and get more and more specific as you go; this piece you’re reading now is the first one that our engineers read when they join our team – a sort of orientation to the wide, wide world of EDI – and we’ve decided to post it publicly to help others ramp up, too.</p><h3 data-heading="trade"><a href="https://www.stedi.com/blog/what-makes-edi-so-hard#trade">Trade</a></h3><p>At the most basic level, there are many thousands of businesses on Earth; those businesses provide a wide variety of goods and services to end consumers. Since few businesses have the resources or the desire to be completely self-sufficient, they must exchange goods and services between one another in order to deliver finished products. This mechanism is known as <em>trade</em>.</p><p>When two businesses wish to conduct trade, they must exchange certain business documents, or <em>transactions</em>, which contain information necessary to conduct the business at hand. There are hundreds of conceivable <em>transaction types</em> for all manner of situations; some are common across many industries, like Purchase Orders and Invoices, and some are specific to a class of business, such as <a href="https://edi.stedi.com/x12-008020/204">Load Tenders</a> or <a href="https://edi.stedi.com/x12-008020/211">Bills of Lading</a>, which pertain only to logistics.</p><p>Businesses used to exchange paper transactions and record those transactions into a hand-written book called a ledger (which is why we refer to accounting as “the books,” and people who work with accounting systems as “bookkeepers”), but modern businesses use one or many software applications, called <em>business systems</em>, to facilitate operations. There are many types of business systems, ranging from generic software suites like Oracle, SAP, and NetSuite to vertical-specific products that serve some particular industry, like purpose-built systems for healthcare, agriculture, or education.</p><p>Each business system uses a different internal transaction format, which makes it impossible to directly import a transaction from one business system into another; even if both businesses were using the exact same version of SAP – say, SAP ERP 6.0 – the litany of configuration and customization options (each of which affects the system’s transaction format) renders the likelihood of direct interoperability extraordinarily improbable. These circumstances necessitate the conversion of data from one format to another prior to ingestion into a new system.</p><h3 data-heading="data-conversion"><a href="https://www.stedi.com/blog/what-makes-edi-so-hard#data-conversion">Data conversion</a></h3><p>The most popular method of data conversion is human data entry. Customer <em>A</em> creates Purchase Order <em>n</em> in NetSuite (its business system) and emails a PDF of Purchase Order <em>n</em> to Vendor <em>B</em>. A clerical worker employed by Vendor <em>B</em> enters the data from Purchase Order <em>n</em> into SAP (its business system). The clerk “maps” data from one format to another as necessary – for example, if Customer <em>A</em>’s PDF includes a field called “PO No.”, and Vendor <em>B</em>’s business system requires a field called “Purchase Order #”.</p><p>People are smart – you can think of a person sort of like AI, except that it actually works – and are able to handle these sort of mappings on-the-fly with little training. But manual data entry is costly, error-prone, and impractical at high volumes, so businesses often choose to pursue some method of transaction automation, or <em>trading partner integration</em>, in order to programmatically ingest transactions and avoid manual data entry.</p><p>Since each business has multiple trading partners, and each of its trading partner operates on different business systems, “point to point” integration of these transactions (that is, mapping Walmart’s internal database format directly to the QuickBooks JSON API) would require the recipient to have detailed knowledge of many different transaction formats – for example, a company selling to three customers running on NetSuite, SAP, and QuickBooks, respectively, would need to understand NetSuite XML, SAP IDoc, and QuickBooks JSON. Maintaining familiarity with so many systems isn’t practical; to avoid this explosion of complexity, businesses instead use commonly-accepted intermediary formats, which are broadly known as Electronic Data Interchange – EDI.</p><h3 data-heading="edi"><a href="https://www.stedi.com/blog/what-makes-edi-so-hard#edi">EDI</a></h3><p>EDI is an umbrella term for many different “standardized” frameworks for exchanging business-to-business transactions, but it is often used synonymously with two of the most popular standards – X12, used primarily in North America, and EDIFACT, which is prevalent throughout Europe. It’s important to note that EDI isn’t designed to solve all of the problems of B2B transaction exchange; rather, it is designed to eliminate only the unrealistic requirement that a trading partner be able to understand each of its trading partner’s internal syntax and vocabulary.</p><p>Instead of businesses having to work with many different syntaxes (e.g., JSON, XML, CSV) and vocabularies (e.g., PO No. and Purchase Order #), frameworks like X12 and EDIFACT provide highly structured, opinionated alternatives intended to reduce the surface area of knowledge required to successfully integrate with trading partners. All documents conforming to a given standard follow that standard’s syntax, allowing an adoptee of the standard to work with just <em>one</em> syntax for all trading partners who have also adopted that syntax.</p><p>Further, standards work to reduce variation in vocabulary and the placement of fields, where possible. The <a href="https://edi.stedi.com/x12-008010">X12 standard</a>, for example, has an <a href="https://edi.stedi.com/x12-008010/element/92">element type 92</a> which enumerates <em>Purchase Order Type Codes</em>; the enumerated value <em>Dropship</em> reflects X12’s opinion that POs that might be colloquially referred to as <code>Drop Ship</code>, <code>Drop Shipment</code>, or <code>Dropship</code> will all be referenced as <em>Dropship</em>, which limits the vocabulary for which an adoptee might have to account. Similarly, X12 has designated the 850 <a href="https://edi.stedi.com/x12-008010/850">Purchase Order</a>’s <a href="https://edi.stedi.com/x12-008010/element/324">BEG03</a> element – that is, the value provided in the <em>third</em> position of the <a href="https://edi.stedi.com/x12-008010/segment/BEG">BEG</a> segment in the <em>850 Purchase Order</em> transaction set – as the proper location for specifying the Purchase Order number. This reduces some of the burden of mapping a transaction into or out of an adoptee’s business system; only one value for drop shipping and one location for PO number must be mapped.</p><p><picture><img alt="BEG segment" src="https://www.stedi.com/images/blog/what-makes-edi-so-hard/edi-beg-segment.png"/></picture></p><p>Of course, the vast majority of fields cannot be standardized to this degree. Take, for example, the product identifier of a line item on a Purchase Order – while X12 specifies that the 850 Purchase Order’s <a href="https://edi.stedi.com/x12-008010/element/234">PO107</a> element should be used to specify the <a href="https://edi.stedi.com/x12-008010/element/235">product identifier</a> value, the standard cannot possibly mandate which type of product identifier should be used. Some companies use SKUs (Stock Keeping Units), while others use Part Numbers, UPCs (Universal Product Codes), or GTINs (Global Trade Item Numbers); all in all, the X12 standard specifies a dictionary of <a href="https://edi.stedi.com/x12-008010/element/235">544</a> different possible product identifier values that can be populated in the <code>PO106</code> element.</p><p><picture><img alt="PO1 segment" src="https://www.stedi.com/images/blog/what-makes-edi-so-hard/edi-po1-segment.png"/></picture></p><h3 data-heading="the-problem-with-standards"><a href="https://www.stedi.com/blog/what-makes-edi-so-hard#the-problem-with-standards">The problem with standards</a></h3><p>What we’re seeing here is that while a standard can be opinionated about the <em>structure</em> of a document and the <em>naming</em> of fields, it cannot be opinionated about the <em>contents</em> of a business transaction – the contents of a business transaction are dictated by the idiosyncrasies of the business itself. If a standard doesn’t provide enough flexibility to account for the particulars of a given business, businesses would choose not to opt into the standard. A standard like X12, then, does not provide an <em>opinionated definition of transactions</em> – it provides a <em>structured superset of all the possible values of commerce</em>.</p><p>Intermediary formats – that is, EDI – make life somewhat easier by limiting the number of different formats that a business must understand in order to work with a wide array of trading partners; a US-based brand selling to dozens of US-based retailers likely only needs to work with the X12 format. However, the brand still needs to account for the different ways that each retailer uses X12. Again, X12 is just a dictionary of possible values – since Walmart and Amazon run their businesses in different ways (and on different business systems), their implementation of an X12 intermediary format will differ, too.</p><p>A simple example may be that Walmart allows customers to include a gift message at the <em>order</em> level (“Happy Birthday – and Merry Christmas!”), whereas Amazon allows its customers to specify gift messages at the <em>line item</em> level (“Happy Birthday!” at line item #1, “and Merry Christmas!” at line item #2). This difference in implementation of <em>gift message</em> means that a brand selling to both Amazon and Walmart would need to account for these differences when ‘mapping’ the respective fields to its business system.</p><p>Such per-trading-partner nuances cannot be avoided – because different businesses operate in different ways, a single, canonical, ultra-opinionated representation of, say, a Purchase Order, is unlikely to ever exist. In other words, the per-trading-partner setup process is driven by <em>inherent complexity</em> – that is, complexity necessitated by the unavoidable circumstances of the problem at hand. And because field mappings such as these affect real-world transactions, they cannot be done with a probabilistic machine learning approach; for example, mapping “Shipper Address” to “Shipping Address” would result in orders being shipped to the shipper’s own warehouse, rather than the customers’ respective addresses. While there are many ways to build business-to-business integrations, any solution must account for a setup process that involves per-trading-partner, human-driven field mappings.</p><p>There are other areas of inherent complexity in EDI, too. Because businesses change over time, the configurations of the businesses’ respective business systems must change, too; an example might be a retailer adding DHL as a shipping option, whereas it previously only offered FedEx. Those changes must be communicated to trading partners so that field mappings can be updated appropriately; because such communications and updates involve ‘best efforts’ from humans, some percentage of them will be missed or completed incorrectly, leading to integration failures on subsequent transactions. Even without inter-business changes, errors happen – for example, a business system’s API keys might expire, or the system might experience intermittent downtime. Such errors will need to be reviewed, retried, and resolved. Just as every solution’s setup process will always require per-trading-partner, human-driven field mappings, every solution must also provide functionality for managing configuration changes on the control plane and intermittent errors on the data plane.</p><h3 data-heading="business-physics"><a href="https://www.stedi.com/blog/what-makes-edi-so-hard#business-physics">Business physics</a></h3><p>The &#39;laws of physics&#39; of the business universe, then, are as follows:</p><ol><li>There are many businesses, and those businesses must conduct business-to-business trade in order to deliver end products and services;</li><li>Those businesses run on a large but bounded number of business systems;</li><li>Due to the heterogeneity of business practices, those business systems offer configuration options that result in an unbounded number of different configurations;</li><li>The heterogeneity of configurations makes it impossible for a single unified format, therefore necessitating a per-trading-partner setup process;</li><li>The business impact of incorrect setup requires that a human be involved in setup;</li><li>Businesses are not static, so configuration will change over time, again necessitating human input;</li><li>Business systems are not perfectly reliable;</li><li>Because neither human input not business systems are perfectly reliable, intermittent errors will occur on an ongoing basis;</li><li>Errors must be resolved in order to maintain a reliable flow of business.</li></ol><p>Any generalized business integration system must account for all these constraints. The so-called Law of Sufficient Variety summarizes this nicely: “in order to ensure stability, a control system must be able to, at a minimum, represent all possible states of the system it controls.” Failing that, it must limit scope in some way – say, by only handling a subset of transaction types, industries, business systems, or use cases. But since limiting <em>scope</em> definitionally means limiting <em>market size</em>, any sufficiently-ambitious effort to develop a business integration system must not limit scope at all: it must provide mechanisms to work with any <em>configuration</em> of any <em>business system</em>, in any <em>industry</em>, across 300+ business-to-business <em>transaction types</em>, in any <em>format</em>, as well as provision for any evolutions that might develop in the future.</p><p>Such is the challenge of developing a generalized business integration system.</p><h2 data-heading="a-familiar-problem"><a href="https://www.stedi.com/blog/what-makes-edi-so-hard#a-familiar-problem">A familiar problem</a></h2><p>The good news is that such circumstances (an unbounded set of heterogeneous, complex, mission-critical, web-scale use cases) are not unique to business integrations – they mirror the circumstances found in the broader world of software development.</p><p>If, instead of setting out to create <em>a software application for developing business integrations</em>, one were to set out to create <em>a software application for developing software applications</em>, one would encounter the same challenges – to continue with the Law of Sufficient Variety, <em>a system for developing software</em> would need to be able to represent <em>all possible states of the software</em> it wishes to develop.</p><p>This, of course, isn’t reasonable – it isn’t feasible to design a single <em>software application for developing software applications</em>. Instead of a single application, successful platforms like Amazon Web Services provide a series of many small, relatively simple building blocks – primitives – that can be composed to represent virtually any larger application. AWS, then, can be thought of as <em>a catalog of software applications for developing software applications</em>. Using AWS’s array of offerings, software developers today can build web-scale applications with considerably less code and less knowledge of underlying concepts.</p><h2 data-heading="stedis-approach"><a href="https://www.stedi.com/blog/what-makes-edi-so-hard#stedis-approach">Stedi’s approach</a></h2><p>Whereas AWS is <em>a catalog of developer-focused software applications for developing software applications</em>, Stedi is <em>a catalog of developer-focused software applications for developing business integrations</em>.</p><p>Stedi’s platform serves three types of developers:</p><ul><li>Developers that need to build integrations to support their own business (e.g. an ecommerce retailer that wants to exchange EDI files with its suppliers);</li><li>Developers that need to build EDI functionality into their own software offerings (e.g. a digital freight forwarder, transportation management system, or fulfillment provider that wants to embed self-service EDI integration into their platform);</li><li>Developers at EDI providers or VANs that need to modernize their technology stack (e.g. a retail-specific EDI software provider that wants to replace legacy infrastructure or tools).</li></ul><p>Using Stedi’s platform, developers can compose massively scalable and reliable integration systems of their own. Stedi’s catalog of developer-focused products includes two powerful building blocks, with many more in development:</p><ul><li><strong><a href="https://twitter.com/zackkanter/status/1466546341132210180?s=20">EDI Core</a><em> (Generally Available as of October 2021)</em></strong>, a flexible, API-driven EDI-to-JSON parser and validator, capable of validating against generic or company-specific standards.</li></ul><p><picture><img alt="EDI Inspector" src="https://www.stedi.com/images/blog/what-makes-edi-so-hard/edi-inspector.png"/></picture></p><ul><li><strong><a href="https://twitter.com/tlakomy/status/1470374323999453185?s=20">Mappings</a><em> (Generally Available as of November 2021)</em></strong>, a powerful JSON-to-JSON data transformation engine that allows developers to define mappings in an intuitive UI and invoke those mappings programmatically via API.</li></ul><p><picture><img alt="Mappings" src="https://www.stedi.com/images/blog/what-makes-edi-so-hard/mappings.png"/></picture></p><h2 data-heading="working-in-public"><a href="https://www.stedi.com/blog/what-makes-edi-so-hard#working-in-public">Working in public</a></h2><p>Over the coming months, we’ll be posting more of our internal guides to help others ramp up on the EDI universe. We’d love to <a href="mailto:team@stedi.com">hear from you</a> in the meantime.</p><div><p>Subscribe to blog updates to keep in touch</p></div></div></div>
  </body>
</html>
