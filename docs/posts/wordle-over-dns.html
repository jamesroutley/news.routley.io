<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://dgl.cx/2022/02/wordle-over-dns">Original</a>
    <h1>Show HN: Wordle over DNS</h1>
    
    <div id="readability-page-1" class="page"><div>


<p><i>Why not? It&#39;s all the rage.</i></p><p>
If you&#39;re not intricately familiar with DNS then you might have heard it
likened to a phone book; you look up a name and get a number. That is true, one
of the most common uses is looking up an <tt>A</tt> record (for IPv4 addresses) or an
<tt>AAAA</tt> record (for IPv6). However there are <a href="https://en.wikipedia.org/wiki/List_of_DNS_record_types">many other record
types</a>, including text records (<tt>TXT</tt>) and these can be used for many
purposes.
</p>

<p>
I wrote <a href="https://dgl.cx/wikipedia-dns">Wikipedia over DNS</a> a long
time ago, which puts a summary of Wikipedia articles into TXT records. It&#39;s
amazing how much can be put into TXT records. They are sadly, although in
keeping with their name designed for text and characters outside the ASCII
range will be escaped by most tools. Meaning emoji doesn&#39;t just work, a key
aspect of Wordle. However it&#39;s easy to write a shell function to reverse that
and do unescaping. Then we can serve that command over DNS too, so it&#39;s easy to
get hold of!
</p>

<p>
So, here is Wordle over DNS:
<br/>

</p><pre><code>$ host -t txt wd.ip.wtf
wd.ip.wtf descriptive text &#34;Welcome to Wordle over DNS! Today&#39;s puzzle is #1: &lt;guess&gt;.1.wd.ip.wtf&#34;
wd.ip.wtf descriptive text &#34;This shell function makes it easier to play&#34;
  &#34;wd() { dig +short txt $1.1.wd.ip.wtf | perl -pe&#39;s/\\([0-9]{1,3})/chr$1/eg&#39;; }&#34;

</code></pre>

<p>
For the sake of this example I&#39;ve replaced the <tt>1</tt> with <tt>example</tt> which is one
I prepared earlier so I&#39;m not revealing an actual answer.
</p>

<pre><code>$ wd() { dig +short txt $1.example.wd.ip.wtf | perl -pe&#39;s/\\([0-9]{1,3})/chr$1/eg&#39;; }
$ wd crane
&#34;⬜⬜🟨🟨🟨&#34;
$ wd reads
&#34;⬜🟨🟨⬜🟩&#34;
$ wd sense
&#34;🟨🟨🟨⬜⬜&#34;
$ wd names
&#34;🟩🟩🟩🟩🟩&#34;
</code></pre>

<p>
[Note crane <a href="https://www.youtube.com/watch?v=fRed0Xmc2Wg">was
considered</a> one of the best openers, but this is using its own list of
words, so that&#39;s not really true here.]</p>

<p>If you don&#39;t have easy access to DNS, you can use the shell at <a href="http://ip.wtf/sh">http://ip.wtf/sh</a> to make DNS queries using the
<tt>host</tt> command.</p>

<h3>Implementation</h3>

<p>
This is implemented as a very simple standalone DNS server in Go using <a href="https://github.com/miekg/dns">miekg&#39;s DNS
library</a>. Code is on <a href="https://github.com/dgl/wordle-dns">GitHub</a>
(contains spoilers!).
</p>

</div></div>
  </body>
</html>
