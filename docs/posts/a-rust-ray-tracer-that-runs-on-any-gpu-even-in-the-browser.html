<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/tchauffi/rust-rasterizer">Original</a>
    <h1>Show HN: a Rust ray tracer that runs on any GPU ‚Äì even in the browser</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<blockquote>
<p dir="auto">A high-performance path tracing renderer with CPU, GPU, and real-time interactive implementations</p>
</blockquote>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tchauffi/rust-rasterizer/blob/main/doc/bunny_rotated.png"><img src="https://github.com/tchauffi/rust-rasterizer/raw/main/doc/bunny_rotated.png" alt="Example Render"/></a></p>

<p dir="auto"><strong>Try it online:</strong> <a href="https://tchauffi.github.io/rust-rasterizer/" rel="nofollow">Live WebGPU Raytracer</a></p>
<p dir="auto"><strong>Run locally:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/tchauffi/rust-rasterizer.git
cd rust-rasterizer
cargo run --bin live_raytracer --release"><pre>git clone https://github.com/tchauffi/rust-rasterizer.git
<span>cd</span> rust-rasterizer
cargo run --bin live_raytracer --release</pre></div>
<p dir="auto">Use your mouse to rotate the camera and press <code>SPACE</code> to toggle rendering modes!</p>

<p dir="auto">This project demonstrates three different approaches to ray tracing - a rendering technique that simulates how light behaves in the real world to create photorealistic images:</p>
<ol dir="auto">
<li><strong>üñ•Ô∏è CPU Raytracer</strong> - Traditional software rendering with full path tracing</li>
<li><strong>‚ö° GPU Raytracer</strong> - Hardware-accelerated offline rendering using compute shaders</li>
<li><strong>üéÆ Live GPU Raytracer</strong> - Real-time interactive raytracer you can navigate and explore</li>
</ol>
<p dir="auto">Whether you&#39;re learning about ray tracing, exploring Rust graphics programming, or looking for a starting point for your own renderer, this project provides working examples of multiple rendering approaches.</p>

<ul dir="auto">
<li><strong>Multiple Rendering Backends</strong>: Choose between CPU, offline GPU, or real-time GPU rendering</li>
<li><strong>Path Tracing</strong>: Physically-based lighting with multiple light bounces for realistic illumination</li>
<li><strong>Mesh Support</strong>: Load and render complex .obj models with triangle meshes</li>
<li><strong>HDR Environment Maps</strong>: Support for high dynamic range .exr skyboxes</li>
<li><strong>Interactive Controls</strong>: Real-time camera navigation with mouse controls</li>
<li><strong>WebAssembly Support</strong>: Runs in the browser using WebGPU</li>
<li><strong>Multiple Materials</strong>: Diffuse, metallic surface properties</li>
<li><strong>Acceleration Structures</strong>: BVH for efficient ray-mesh intersection</li>
<li><strong>Progressive Rendering</strong>: Denoising and sample accumulation for high-quality images</li>
</ul>
<div dir="auto"><h2 tabindex="-1" dir="auto">üì¶ Installation &amp; Usage</h2><a id="user-content--installation--usage" aria-label="Permalink: üì¶ Installation &amp; Usage" href="#-installation--usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">üñ•Ô∏è CPU Raytracer (Software Rendering)</h3><a id="user-content-Ô∏è-cpu-raytracer-software-rendering" aria-label="Permalink: üñ•Ô∏è CPU Raytracer (Software Rendering)" href="#Ô∏è-cpu-raytracer-software-rendering"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The CPU version renders scenes using traditional CPU-based raytracing and outputs to a PPM image file. Best for learning how raytracing works under the hood.</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Build and run (outputs to stdout, redirect to file)
cargo run --release &gt; output.ppm

# Or build first, then run
cargo build --release
./target/release/rust-raytracer &gt; output.ppm"><pre><span><span>#</span> Build and run (outputs to stdout, redirect to file)</span>
cargo run --release <span>&gt;</span> output.ppm

<span><span>#</span> Or build first, then run</span>
cargo build --release
./target/release/rust-raytracer <span>&gt;</span> output.ppm</pre></div>
<p dir="auto"><strong>Use this when:</strong></p>
<ul dir="auto">
<li>Learning raytracing fundamentals</li>
<li>Debugging rendering algorithms</li>
<li>No GPU compute support available</li>
</ul>
<p dir="auto"><strong>Features:</strong></p>
<ul dir="auto">
<li>Full path tracing with multiple bounces</li>
<li>Direct and indirect lighting</li>
<li>Mesh support (.obj files)</li>
<li>Sphere primitives</li>
</ul>
<div dir="auto"><h3 tabindex="-1" dir="auto">‚ö° GPU Raytracer (Offline Rendering)</h3><a id="user-content--gpu-raytracer-offline-rendering" aria-label="Permalink: ‚ö° GPU Raytracer (Offline Rendering)" href="#-gpu-raytracer-offline-rendering"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The GPU version uses compute shaders to accelerate rendering, outputting to a PPM file. Significantly faster than CPU rendering for high-quality images.</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Build and run
cargo run --bin gpu_raytracer --release &gt; output.ppm

# Or build separately
cargo build --bin gpu_raytracer --release
./target/release/gpu_raytracer &gt; output.ppm"><pre><span><span>#</span> Build and run</span>
cargo run --bin gpu_raytracer --release <span>&gt;</span> output.ppm

<span><span>#</span> Or build separately</span>
cargo build --bin gpu_raytracer --release
./target/release/gpu_raytracer <span>&gt;</span> output.ppm</pre></div>
<p dir="auto"><strong>Use this when:</strong></p>
<ul dir="auto">
<li>Rendering high-quality final images</li>
<li>Need faster rendering than CPU</li>
<li>Don&#39;t need real-time interaction</li>
</ul>
<p dir="auto"><strong>Features:</strong></p>
<ul dir="auto">
<li>GPU-accelerated compute shader rendering</li>
<li>Same scene quality as CPU version</li>
<li>Significantly faster rendering times (10-100x speedup)</li>
<li>Hardware-accelerated ray-triangle intersection</li>
</ul>
<div dir="auto"><h3 tabindex="-1" dir="auto">üéÆ Live GPU Raytracer (Interactive Real-time)</h3><a id="user-content--live-gpu-raytracer-interactive-real-time" aria-label="Permalink: üéÆ Live GPU Raytracer (Interactive Real-time)" href="#-live-gpu-raytracer-interactive-real-time"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The live version provides a real-time interactive window where you can navigate the scene. Perfect for exploring scenes and iterating on designs.</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Run the live raytracer
cargo run --bin live_raytracer --release"><pre><span><span>#</span> Run the live raytracer</span>
cargo run --bin live_raytracer --release</pre></div>
<p dir="auto"><strong>Use this when:</strong></p>
<ul dir="auto">
<li>Exploring and navigating scenes interactively</li>
<li>Setting up camera angles for final renders</li>
<li>Demonstrating raytracing in real-time</li>
<li>Debugging scene geometry</li>
</ul>
<p dir="auto"><strong>Controls:</strong></p>
<ul dir="auto">
<li><strong>Mouse</strong>: Click and drag to rotate the camera</li>
<li><strong>SPACE</strong>: Toggle between raytracing and normals visualization modes</li>
<li><strong>Window Title</strong>: Displays current mode and FPS</li>
</ul>
<p dir="auto"><strong>Features:</strong></p>
<ul dir="auto">
<li>Real-time GPU raytracing (30-60 FPS on modern GPUs)</li>
<li>Interactive camera controls</li>
<li>Two rendering modes:
<ul dir="auto">
<li><strong>Raytracing</strong>: Full path tracing with lighting and shadows</li>
<li><strong>Normals</strong>: Fast visualization showing surface normals (useful for debugging)</li>
</ul>
</li>
<li>Live FPS counter in window title</li>
<li>WebAssembly support for browser-based rendering</li>
</ul>

<ul dir="auto">
<li><strong>Rust</strong>: Latest stable version (install from <a href="https://rustup.rs/" rel="nofollow">rustup.rs</a>)</li>
<li><strong>GPU versions</strong>: A GPU with compute shader support
<ul dir="auto">
<li>Vulkan (Linux, Windows, Android)</li>
<li>Metal (macOS, iOS)</li>
<li>DirectX 12 (Windows)</li>
</ul>
</li>
<li><strong>Web version</strong>: A browser with WebGPU support (Chrome 113+, Edge 113+, Firefox with flag)</li>
</ul>

<p dir="auto">The project can be built for WebAssembly and deployed to GitHub Pages:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Install trunk (if not already installed)
cargo install trunk

# Build for web
trunk build --release

# The output will be in the dist/ directory"><pre><span><span>#</span> Install trunk (if not already installed)</span>
cargo install trunk

<span><span>#</span> Build for web</span>
trunk build --release

<span><span>#</span> The output will be in the dist/ directory</span></pre></div>

<p dir="auto">Performance varies based on hardware and scene complexity:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Renderer</th>
<th>Resolution</th>
<th>FPS/Time</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>1920x1080</td>
<td>~30-60s</td>
<td>Single-threaded, full quality</td>
</tr>
<tr>
<td>GPU Offline</td>
<td>1920x1080</td>
<td>~3-5s</td>
<td>High-quality final render</td>
</tr>
<tr>
<td>GPU Live</td>
<td>800x600</td>
<td>30-60 FPS</td>
<td>Real-time, interactive</td>
</tr>
<tr>
<td>WebGPU</td>
<td>800x600</td>
<td>25-50 FPS</td>
<td>15-20% slower than native</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<blockquote>
<p dir="auto"><strong>Note</strong>: Benchmarks are approximate and measured on modern hardware (M1/M2 Mac or RTX 3000+ series GPU). Your results may vary.</p>
</blockquote>

<p dir="auto"><strong>Completed:</strong></p>
<ul>
<li> Sphere ray tracing</li>
<li> Direct and indirect lighting calculations</li>
<li> Triangle meshes and .obj loading</li>
<li> GPU acceleration with compute shaders</li>
<li> Shadows and reflections</li>
<li> Interactive real-time viewer</li>
<li> WebAssembly/WebGPU support</li>
<li> BVH acceleration structure for faster ray-mesh</li>
<li> Progressive rendering with denoising</li>
</ul>
<p dir="auto"><strong>Planned:</strong></p>
<p dir="auto">intersection</p>
<ul>
<li> Texture mapping (UV coordinates and image textures)</li>
<li> Additional material types (glass, subsurface scattering)</li>
<li> Scene file format for easy scene definition</li>
<li> Camera controls (zoom, pan, dolly)</li>
</ul>

<p dir="auto">Built with Rust and powered by:</p>
<ul dir="auto">
<li><a href="https://wgpu.rs/" rel="nofollow">wgpu</a> - Cross-platform graphics API</li>
<li><a href="https://www.egui.rs/" rel="nofollow">egui</a> - Immediate mode GUI</li>
<li><a href="https://trunkrs.dev/" rel="nofollow">trunk</a> - WASM web bundler</li>
</ul>
<hr/>
<p dir="auto"><strong>Made with ‚ù§Ô∏è by <a href="https://github.com/tchauffi">tchauffi</a></strong></p>
<p dir="auto">Star ‚≠ê this repository if you find it helpful!</p>
</article></div></div>
  </body>
</html>
