<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://lwn.net/SubscriberLink/1035491/d8100135a8ae4246/">Original</a>
    <h1>Removing Guix from Debian</h1>
    
    <div id="readability-page-1" class="page"><div>

<p>As a rule, if a package is shipped with a Debian release, users can
count on it being available, and updated, for the entire
life of the release. If package <em>foo</em> is included in the stable
<span>release—currently</span> Debian 13
<span>(&#34;trixie&#34;)—a</span> user can
reasonably expect that it will continue to be available with security
backports as long as that release is supported, though it may not be
included in Debian 14 (&#34;forky&#34;). However, it is likely that the
<a href="https://guix.gnu.org/en/">Guix</a> package manager will soon
be removed from the repositories for Debian 13 and
Debian 12 (&#34;bookworm&#34;, also called oldstable).</p>

<p>Debian has the <a href="https://lwn.net/Articles/1017315/">Advanced
Package Tool</a> (APT) for package management, of course, but Guix
offers a different approach and can be used in conjunction with other
distribution package managers. Guix is inspired by <a href="https://github.com/NixOS/nix?tab=readme-ov-file#nix">Nix</a>&#39;s
functional package management; it offers transactional upgrades and
rollbacks, package management for unprivileged users, and more. Unlike
Nix, its packages are <a href="https://guix.gnu.org/manual/en/html_node/Defining-Packages.html">defined</a>
using the <a href="https://www.gnu.org/software/guile/">Guile</a>
implementation of the <a href="https://www.scheme.org/">Scheme</a> programming
language. There is also a GNU Guix distribution as well; LWN <a href="https://lwn.net/Articles/962788/">covered</a> both NixOS and
Guix in February 2024, and <a href="https://lwn.net/Articles/981124/">looked at</a> Nix alternative <a href="https://lix.systems/">Lix</a> in July 2024.</p>

<p>On June 24, the Guix project <a href="https://guix.gnu.org/en/blog/2025/privilege-escalation-vulnerabilities-2025/">disclosed
several security vulnerabilities</a> that affected the <a href="https://guix.gnu.org/manual/en/html_node/Invoking-guix_002ddaemon.html"><tt>guix-daemon</tt></a>,
which is a program that is used to build software and
access the <a href="https://guix.gnu.org/manual/en/html_node/The-Store.html">store</a>
where successful builds are kept. Two of the vulnerabilities, <a href="https://nvd.nist.gov/vuln/detail/CVE-2025-46415">CVE-2025-46415</a>
and <a href="https://nvd.nist.gov/vuln/detail/CVE-2025-46416">CVE-2025-46416</a>,
would allow a local user to gain the privileges of any build users,
manipulate build output, as well as gain the privileges of the daemon
user. The vulnerabilities also impacted <a href="https://discourse.nixos.org/t/security-advisory-privilege-escalations-in-nix-lix-and-guix/66017">Nix</a>
and <a href="https://lix.systems/blog/2025-06-24-lix-cves/">Lix</a>
package managers.</p>

<blockquote>
<b>No AI slop, all substance: subscribe to LWN today</b>
<p>
LWN has always been about quality over quantity; we need your help
to continue publishing in-depth, reader-focused articles about Linux
and the free-software community. Please subscribe today to support our work
and keep LWN on the air; we are offering <a href="https://lwn.net/Promo/no-slop/claim">a free one-month trial subscription</a> to get you started.
</p></blockquote>
<p>The disclosure blog post gave instructions on how to mitigate the
vulnerabilities by updating <tt>guix-daemon</tt> using the
&#34;<tt>guix pull</tt>&#34; command, but the project did not make a new
Guix release. The last actual release from the project
was <a href="https://guix.gnu.org/en/blog/2022/gnu-guix-1.4.0-released/">version 1.4.0</a>,
which was announced in December 2022. The Guix project has a
rolling-release model, with sporadic releases, and does not maintain
stable branches with security updates. This may not pose a problem for
users getting Guix directly from the project, but it poses some
obstacles for inclusion in other Linux distributions.</p>

<h4>Debian package</h4>

<p>Salvatore Bonaccorso filed a <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1108318">bug</a>
against <a href="https://packages.debian.org/source/trixie/guix">Debian&#39;s
<tt>guix</tt> package</a>
on June 25 to report the vulnerabilities. Vagrant
Cascadian, the maintainer of the package, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1108318#10">replied</a>
on July 15, and said that the fixes for the security
vulnerabilities had been &#34;<q>commingled with a lot of other upstream
changes</q>&#34;, and it would be &#34;<q>trickier than in the past</q>&#34; to try
to backport the fixes without the other changes in Guix. He said he
had just managed to &#34;<q>get something to compile</q>&#34; with the
security fixes applied, using a <a href="https://codeberg.org/GNUtoo/guix-security-fixes">backport
repository</a> maintained by Denis &#39;GNUtoo&#39; Carikli.</p>

<p>Carikli had <a href="https://yhetil.org/guix-devel/20250708210158.4963b38a@primarylaptop.localdomain/">brought
up</a> the difficulty of backporting Guix fixes on the guix-devel
mailing list on July 8. Various distributions had Guix versions
1.2.0, 1.3.0, and 1.4.0, with Debian shipping 1.2.0 and 1.4.0 and used
as the upstream for other distributions&#39; packages:</p>

<blockquote>
But the Debian package maintainer has the almost impossible task to
backport all the security fixes without a community nor help behind
[maintaining it] and as things are going, this will probably lead to
the Debian guix package being removed with cascading effect for the
other distributions.
</blockquote>

<p>He said he had applied about 50 patches that involve <tt>guix-daemon</tt>
between the 1.4.0 release and the last-known security fix. He also
noted that his effort would probably not be suitable for Linux
distributions that ship a Guix package. He wondered what the best way
would be to collaborate on a branch that distributions could pull from
for updates.</p>

<p>Liam Hupfer <a href="https://yhetil.org/guix-devel/87sej6asy2.fsf@hpfr.net/">said</a>
that &#34;<q>we gave up and shipped the last commit on master mentioned in
the recent CVE disclosure</q>&#34; for Nix. He said he would also like to
see Guix figure out backporting patches, but could Cascadian consider
the Nix approach until then?</p>

<p>No, that approach would not make sense, Cascadian <a href="https://yhetil.org/guix-devel/87frf3sv7p.fsf@wireframe/">said</a>. If
Guix was &#34;<q>truly a rolling release</q>&#34;, then it may just not make
sense to maintain distribution packages:</p>

<blockquote>
<p>Up till recently, it has always been possible to backport changes with
relative ease, but that was perhaps just lack of development... the
recent unprivileged daemon stuff really made backporting patches
harder. [...]</p>

<p>In the Debian release model, ideally we would avoid bringing in
unrelated patchsets (e.g. the unprivileged daemon code bringing in an
entire network stack?) but that might be too hard to pull off. Not sure
if the security team would accept a patchset that includes more than the
minimum necessary to fix the security issues.</p>
</blockquote>

<p>Without a branch that contained backported patches, they would be
inclined &#34;<q>to recommend dropping the Guix package in Debian</q>&#34;.</p>

<p>On August 27, they did just that. Cascadian filed a <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1112248#5">bug</a>
to remove <tt>guix</tt> from Debian 11 (&#34;bullseye&#34;), bookworm,
and trixie. They also filed a <a href="https://bugs.debian.org/1112143">bug</a> to
remove the package from the upcoming forky release. Adam D. Barratt <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1112250#12">replied</a>
and said that it would not be possible to remove <tt>guix</tt> from
bullseye, which is now an <a href="https://wiki.debian.org/LTS">LTS
release</a>; only updates from the security archive were now
allowed.</p>

<p>There are no dependencies on <tt>guix</tt>, so the removal of the
package should not affect any other Debian packages in the trixie and
bookworm releases.</p>

<h4>What&#39;s next?</h4>

<p>I emailed Cascadian to find out what the next steps would be for
the package in those releases. They said that the package is likely to
be removed from the upcoming <a href="https://wiki.debian.org/DebianReleases/PointReleases">point
releases</a> for trixie and bookworm. Users who have it installed
already will be stuck at the old version, unless they take manual
steps to update. Cascadian said this was not a great outcome &#34;<q>but
better than keeping it available for people to install the vulnerable
version</q>&#34;.</p>

<p>The <tt>guix</tt> package should not have landed in trixie at all,
Cascadian said, &#34;<q>my understanding was that [the bug report] should
have blocked it from being released</q>&#34;. However, it seems there was
enough activity on the bug that prevented Debian&#39;s autoremoval
mechanisms from triggering and pulling the package from the final
release. &#34;<q>There apparently is not manual review of all blockers in
the current Debian release process</q>&#34;. Even if the timing had been
better for the trixie release, though, the same fixes would need to
have been applied to bookworm and older releases.</p>

<p>Cascadian said that it has been a fair amount of work to keep Guix
working on Debian. For example, he has had to maintain various Guile
dependencies, and deal with the fact that Guix uses &#34;<q>fairly
old</q>&#34; GCC versions whereas Debian usually ships the latest GCC
version available for a given release. At some point, they said,
&#34;<q>you have to evaluate whether that work is worth it</q>&#34; when the
upstream provides a binary that people can install.</p>

<p>Guix is better for having been packaged for Debian and run through
Debian&#39;s <a href="https://lintian.debian.org/">Lintian</a>
tool. Cascadian said that they have probably fixed more typos in Guix
than anyone else, and have found other problems while checking that
the builds of Guix are reproducible. &#34;<q>Any time you run a piece of
software through processes outside of the primary development
workflow, you find surprises worth fixing.</q>&#34;</p>

<h4>Regular releases</h4>

<p>There is an effort in the Guix project to create yearly releases. In
May, Steve George proposed that the project adopt a <a href="https://codeberg.org/guix/guix-consensus-documents/src/branch/main/001-gcd-process.md#summary">Guix
Consensus Document</a> for &#34;<a href="https://consensus.guix.gnu.org/gcd/005-regular-releases.html">Regular
and efficient releases</a>&#34;, and it was accepted by the project in
July. It calls for a release every year in June, with a one-time
exception for a November 2025 release, and a short development
cycle for the June 2026 release. Even so, that will not provide
stable branches for Debian and other distributions to pull from; it
will just shorten the interval and feature differences between major
releases.</p>

<p>Debian users will, of course, still be able to use Guix by <a href="https://guix.gnu.org/manual/en/html_node/Binary-Installation.html">installing
it using binaries provided by the Guix project</a>. That will, at
least potentially, leave some users out in the cold—Debian
currently provides a <tt>guix</tt> package for x86-64, Arm64, PowerPC,
RISC-V, 32-bit Arm, and 32-bit x86. The Guix project itself does does
not have RISC-V binaries, though it does cover the other
architectures.</p>

<p>It is fairly unusual for a package to be removed from a stable or
oldstable release. For example, the bookworm release has been out for
more than two years, but a <a href="https://bugs.debian.org/cgi-bin/pkgreport.cgi?dist=unstable;include=subject%3ARM;tag=bookworm">search</a>
of the Debian bug database only shows one
package—<tt>guix</tt>—that has the &#34;RM&#34; tag in the subject
to flag a package for removal. </p>

<p>According to Debian&#39;s <a href="https://qa.debian.org/popcon.php?package=guix">popularity
contest (popcon) statistics</a>, there are not quite 230 systems with
Guix installed. Popcon statistics only hint at the actual number of
package installs, but assuming they are approximately accurate, then
removing Guix will not inconvenience a significant number of Debian
users. It will, however, mean that fewer people are poking at Guix
with an intent to making it work on distributions like Debian, while finding
distribution-specific bugs.</p>

</div></div>
  </body>
</html>
