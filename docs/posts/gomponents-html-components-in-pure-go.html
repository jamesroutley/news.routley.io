<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.gomponents.com">Original</a>
    <h1>Show HN: Gomponents, HTML components in pure Go</h1>
    
    <div id="readability-page-1" class="page"><div><h2>Try HTML components in pure Go.</h2><p><em>gomponents</em> are HTML components in pure Go. They render to HTML 5, and make it easy for you to build reusable components. So you can focus on building your app instead of learning yet another templating language.</p><pre><code>$ go get maragu.dev/gomponents</code></pre><p><a href="https://github.com/maragudk/gomponents">See gomponents on Github</a></p><p>Does your company depend on this project? <a href="mailto:markus@maragu.dk?Subject=Supporting%20your%20project">Contact me at markus@maragu.dk</a> to discuss options for a one-time or recurring invoice to ensure its continued thriving.</p><h3>Video introduction</h3><p>Into video? See this lightning talk from GopherCon 2021.</p><iframe src="https://www.youtube-nocookie.com/embed/5XiewS8ZbH8?start=570" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><h3>Components are just functions</h3><p>Have a look at this component. If you know HTML, you know what it does. Easy, right?</p><pre><code>import (
	. &#34;maragu.dev/gomponents&#34;
	. &#34;maragu.dev/gomponents/html&#34;
)

func Navbar() Node {
	return Nav(Class(&#34;navbar&#34;),
		Ol(
			Li(A(Href(&#34;/&#34;), Text(&#34;Home&#34;))),
			Li(A(Href(&#34;/contact&#34;), Text(&#34;Contact&#34;))),
			Li(A(Href(&#34;/about&#34;), Text(&#34;About&#34;))),
		),
	)
}
</code></pre><p>Let&#39;s deduplicate a bit.</p><pre><code>import (
	. &#34;maragu.dev/gomponents&#34;
	. &#34;maragu.dev/gomponents/html&#34;
)

func Navbar() Node {
	return Nav(Class(&#34;navbar&#34;),
		Ol(
			NavbarItem(&#34;Home&#34;, &#34;/&#34;),
			NavbarItem(&#34;Contact&#34;, &#34;/contact&#34;),
			NavbarItem(&#34;About&#34;, &#34;/about&#34;),
		),
	)
}

func NavbarItem(name, path string) Node {
	return Li(A(Href(path), Text(name)))
}
</code></pre><h3>Inline if</h3><p>Sometimes you only want to show a component based on some condition. Enter <code>If</code>:</p><pre><code>import (
	. &#34;maragu.dev/gomponents&#34;
	. &#34;maragu.dev/gomponents/html&#34;
)

func Navbar(loggedIn bool) Node {
	return Nav(Class(&#34;navbar&#34;),
		Ol(
			NavbarItem(&#34;Home&#34;, &#34;/&#34;),
			NavbarItem(&#34;Contact&#34;, &#34;/contact&#34;),
			NavbarItem(&#34;About&#34;, &#34;/about&#34;),

			If(loggedIn,
				NavbarItem(&#34;Log out&#34;, &#34;/logout&#34;),
			),
		),
	)
}

func NavbarItem(name, path string) Node {
	return Li(A(Href(path), Text(name)))
}
</code></pre><p>PS: There&#39;s also <code>Iff</code>, which takes a callback function instead, to avoid those pesky nil pointer errors.</p><h3>Map data to components</h3><p>What if you have data and want to map it to components? No problem.</p><pre><code>import (
	. &#34;maragu.dev/gomponents&#34;
	. &#34;maragu.dev/gomponents/html&#34;
)

type NavLink struct {
	Name string
	Path string
}

func Navbar(loggedIn bool, links []NavLink) Node {
	return Nav(Class(&#34;navbar&#34;),
		Ol(
			Map(links, func(l NavLink) Node {
				return NavbarItem(l.Name, l.Path)
			}),

			If(loggedIn,
				NavbarItem(&#34;Log out&#34;, &#34;/logout&#34;),
			),
		),
	)
}

func NavbarItem(name, path string) Node {
	return Li(A(Href(path), Text(name)))
}
</code></pre><h3>Styling</h3><p>Want to apply CSS classes based on state? Use the <code>Classes</code> helper.</p><pre><code>import (
	. &#34;maragu.dev/gomponents&#34;
	. &#34;maragu.dev/gomponents/components&#34;
	. &#34;maragu.dev/gomponents/html&#34;
)

type NavLink struct {
	Name string
	Path string
}

func Navbar(loggedIn bool, links []NavLink, currentPath string) Node {
	return Nav(Class(&#34;navbar&#34;),
		Ol(
			Map(links, func(l NavLink) Node {
				return NavbarItem(l.Name, l.Path, l.Path == currentPath)
			}),

			If(loggedIn,
				NavbarItem(&#34;Log out&#34;, &#34;/logout&#34;, false),
			),
		),
	)
}

func NavbarItem(name, path string, active bool) Node {
	return Li(A(Href(path), Text(name)), Classes{
		&#34;navbar-item&#34;: true,
		&#34;active&#34;:      active,
		&#34;inactive&#34;:    !active,
	})
}
</code></pre><h3>Sometimes you just want HTML</h3><p>Miss those <code>&lt;tags&gt;</code> or need to inject HTML from somewhere else? Use <code>Raw</code>.</p><pre><code>import (
	. &#34;maragu.dev/gomponents&#34;
	. &#34;maragu.dev/gomponents/components&#34;
	. &#34;maragu.dev/gomponents/html&#34;
)

type NavLink struct {
	Name string
	Path string
}

func Navbar(loggedIn bool, links []NavLink, currentPath string) Node {
	return Nav(Class(&#34;navbar&#34;),
		Raw(`&lt;span class=&#34;logo&#34;&gt;&lt;img src=&#34;logo.png&#34;&gt;&lt;/span&gt;`),

		Ol(
			Map(links, func(l NavLink) Node {
				return NavbarItem(l.Name, l.Path, l.Path == currentPath)
			}),

			If(loggedIn,
				NavbarItem(&#34;Log out&#34;, &#34;/logout&#34;, false),
			),
		),
	)
}

func NavbarItem(name, path string, active bool) Node {
	return Li(A(Href(path), Text(name)), Classes{
		&#34;navbar-item&#34;: true,
		&#34;active&#34;:      active,
		&#34;inactive&#34;:    !active,
	})
}
</code></pre><h3>It&#39;s all just Go</h3><p>Your editor helps you with auto-completion. It&#39;s type-safe. Nice formatting using gofmt. You can even use the debugger. And all common HTML elements and attributes are included!</p><h2>Get started</h2><pre><code>$ go get maragu.dev/gomponents</code></pre><h3>Examples &amp; templates</h3><p><a href="https://github.com/maragudk/gomponents/tree/main/internal/examples/app">There‚Äôs an example app inside the gomponents repository</a>. It‚Äôs a simple web server that serves two HTML pages using gomponents and TailwindCSS.</p><p>There‚Äôs also the <a href="https://github.com/maragudk/gomponents-starter-kit">gomponents starter kit</a>, a full template repository for building a web app with gomponents, TailwindCSS, and HTMX.</p><h3>Online HTML-to-gomponents converter</h3><p><a href="https://github.com/PiotrKowalski">Piotr Kowalski</a> created an <a href="https://htg.piotrkowalski.me">online HTML-to-gomponents</a> converter tool!</p><h3>The end</h3><p>See also <a href="https://github.com/maragudk/gomponents">the Github repository</a> or <a href="https://www.maragu.dk/blog/gomponents-declarative-view-components-in-go/">the blog post that started it all</a>.</p><p>PS: <a href="https://maragu.gumroad.com/l/gomponents">Buy the Official gomponents &lt;marquee&gt; Element here! üòÅ</a></p></div></div>
  </body>
</html>
