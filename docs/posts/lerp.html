<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://rachsmith.com/lerp/">Original</a>
    <h1>Lerp</h1>
    
    <div id="readability-page-1" class="page"><div>
  <div>
        <p>
When <a href="https://blog.codepen.io/2020/08/28/posts-sunset/">CodePen blogs</a> were a thing I added a bunch of posts to mine. Some of the content still holds up in 2023 so I decided to repost my favourites on this site.
</p>
<p>Today I want to talk about a little animation trick that I use all the time called <strong>lerp</strong>. Lerp is the nickname for Linear Interpolation between two points. It’s a fairly simple effect to implement but can really improve the look of your animations if you’re moving an object from a point A to point B.</p>
<h2 id="how-does-it-work">How does it work?</h2>
<p>Given you have a current position for an object, and a position you want to move that object towards - you can linearly interpolate to a percentage of the distance between those points, and update the position by that amount on each frame.</p>
<pre is:raw=""><code><span><span>// to run on each frame</span></span>
<span><span>function</span><span> </span><span>lerp</span><span>(</span><span>position</span><span>,</span><span> </span><span>targetPosition</span><span>)</span><span> </span><span>{</span></span>
<span><span>// update position by 20% of the distance between position and target position</span></span>
<span><span>  </span><span>position</span><span>.</span><span>x</span><span> </span><span>+=</span><span> (</span><span>targetPosition</span><span>.</span><span>x</span><span> </span><span>-</span><span> </span><span>position</span><span>.</span><span>x</span><span>)</span><span>*</span><span>0.2</span><span>;</span></span>
<span><span>  </span><span>position</span><span>.</span><span>y</span><span> </span><span>+=</span><span> (</span><span>targetPosition</span><span>.</span><span>y</span><span> </span><span>-</span><span> </span><span>position</span><span>.</span><span>y</span><span>)</span><span>*</span><span>0.2</span><span>;</span></span>
<span><span>}</span></span></code></pre>
<p>By doing this, the amount the object moves becomes smaller as the distance between position and target decreases. This means the object will slow down as it gets closer to its target, creating a nice easing effect.</p>
<h2 id="lerp-in-action---some-examples">Lerp in action - some examples</h2>
<p>Here is an example of a ball following the user’s mouse or touch. If we make the ball move to the place the mouse is as soon as it moves, the ball movement can be very fast and/or disjointed. We might also be able to see separate “ball frames” if we move our mouse really fast.</p>
<p data-height="300" data-theme-id="31536" data-default-tab="result" data-slug-hash="avXmyV" data-user="rachsmith">
  <span>See the Pen <a href="https://codepen.io/rachsmith/pen/avXmyV">
  Follow the mouse - no lerp</a> by Rachel Smith (<a href="https://codepen.io/rachsmith">@rachsmith</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>

<p>Here’s the same demo, except this time we’re using lerp. Instead of moving the ball right to the mouse position, we’ll move it 10% of the distance towards that position on each frame.</p>
<p data-height="300" data-theme-id="31536" data-default-tab="result" data-slug-hash="yYZapV" data-user="rachsmith">
  <span>See the Pen <a href="https://codepen.io/rachsmith/pen/yYZapV">
  Follow the mouse - with lerp</a> by Rachel Smith (<a href="https://codepen.io/rachsmith">@rachsmith</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<p>Notice the ball movement is a lot smoother and an overall more pleasing effect.</p>
<p>Here’s another example of using lerp. This time we’ve got a scrolling indicator that updates as you scroll down the “page”.</p>
<p data-height="300" data-theme-id="31536" data-default-tab="result" data-slug-hash="rOPMvz" data-user="rachsmith">
  <span>See the Pen <a href="https://codepen.io/rachsmith/pen/rOPMvz">
  Scrolling - no lerp</a> by Rachel Smith (<a href="https://codepen.io/rachsmith">@rachsmith</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<p data-height="300" data-theme-id="31536" data-default-tab="result" data-slug-hash="epxdxe" data-user="rachsmith">
  <span>See the Pen <a href="https://codepen.io/rachsmith/pen/epxdxe">
  Scrolling - with lerp</a> by Rachel Smith (<a href="https://codepen.io/rachsmith">@rachsmith</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<p>If we add lerp to this example we’re lerping the indicator towards the scroll percentage instead of pointing it at the actual position - this smoothes out the movement of the indicator.</p>
<p>So, the lerp “trick” is a great tool to have up our web animation sleeves to combat linear or jagged movement.</p>
      </div>
</div></div>
  </body>
</html>
