<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://letsencrypt.org/2026/02/18/dns-persist-01.html">Original</a>
    <h1>DNS-Persist-01: A New Model for DNS-Based Challenge Validation</h1>
    
    <div id="readability-page-1" class="page"><div>
      <p>When you request a certificate from Let’s Encrypt, our servers validate that you control the hostnames in that certificate using <a href="https://letsencrypt.org/docs/challenge-types/">ACME challenges</a>. For subscribers who need wildcard certificates or who prefer not to expose infrastructure to the public Internet, the DNS-01 challenge type has long been the only choice. DNS-01 works well. It is widely supported and battle-tested, but it comes with operational costs: DNS propagation delays, recurring DNS updates at renewal time, and automation that often requires distributing DNS credentials throughout your infrastructure.</p>
<p>We are implementing support for a new ACME challenge type, DNS-PERSIST-01, based on a new <a href="https://datatracker.ietf.org/doc/html/draft-ietf-acme-dns-persist-00">IETF draft specification</a>. As the name implies, it uses DNS as the validation mechanism, but replaces repeated demonstrations of control with a persistent authorization record bound to a specific ACME account and CA. The draft describes this method as being “particularly suited for environments where traditional challenge methods are impractical, such as IoT deployments, multi-tenant platforms, and scenarios requiring batch certificate operations”.</p>
<h2 id="dns-01-proves-control-repeatedly">DNS-01 Proves Control Repeatedly</h2>
<p>With DNS-01, validation relies on a one-time token generated by us. Your ACME client publishes a TXT record containing that token at <code>_acme-challenge.&lt;YOUR_DOMAIN&gt;</code>, and we query DNS to confirm that it matches the expected value. Because each authorization requires a new token, DNS updates become part of the issuance workflow. The benefit is that each successful validation provides fresh proof that you currently control DNS for the name being issued.</p>
<p>In practice, this often means DNS API credentials live somewhere in your issuance pipeline, validation attempts involve waiting for DNS propagation, and DNS changes happen frequently — sometimes many times per day in large deployments. Many subscribers accept these tradeoffs, but others would prefer to keep DNS updates and sensitive credentials out of their issuance path.</p>

<p>DNS-PERSIST-01 approaches validation differently. Instead of publishing a new challenge record for each issuance, you publish a standing authorization in the form of a TXT record that identifies both the CA and the specific ACME account you authorize to issue for this domain.</p>
<p>For the hostname example.com, the record would live at <code>_validation-persist.example.com</code>:</p>
<div><pre tabindex="0"><code data-lang="dns"><span><span><span>_validation-persist.example.com. </span><span>IN</span><span> </span><span>TXT</span><span> </span><span>(</span><span>
</span></span></span><span><span><span>  </span><span>&#34;</span><span>letsencrypt.org</span><span>;&#34;</span><span>
</span></span></span><span><span><span>  </span><span>&#34;</span><span> </span><span>accounturi=https://</span><span>acme-v02.api.letsencrypt.org</span><span>/acme/acct/</span><span>1234567890</span><span>&#34;</span><span>
</span></span></span><span><span><span></span><span>)</span><span>
</span></span></span></code></pre></div><p>Once this record exists, it can be reused for new issuance and all subsequent renewals. Operationally, this removes DNS changes from the critical path.</p>
<h2 id="security-and-operational-tradeoffs">Security and Operational Tradeoffs</h2>
<p>With DNS-01, the sensitive asset is DNS write access. In many deployments, DNS API credentials are distributed throughout issuance and renewal pipelines, increasing the number of places an attacker might compromise them. DNS-PERSIST-01 instead binds authorization directly to an ACME account, allowing DNS write access to remain more tightly controlled after initial setup. The tradeoff is that, because the authorization record persists over time, protecting the ACME account key becomes the central concern.</p>
<h2 id="controlling-scope-and-lifetime">Controlling Scope and Lifetime</h2>
<p>DNS-PERSIST-01 also introduces explicit scope controls. Without additional parameters, authorization applies only to the validated Fully Qualified Domain Name (FQDN) and remains valid indefinitely.</p>
<h3 id="wildcard-certificates">Wildcard Certificates</h3>
<p>Adding policy=wildcard broadens the authorization scope to include the validated FQDN, wildcard certificates such as <code>*.example.com</code>, and subdomains whose suffix matches the validated FQDN:</p>
<div><pre tabindex="0"><code data-lang="dns"><span><span><span>_validation-persist.example.com. </span><span>IN</span><span> </span><span>TXT</span><span> </span><span>(</span><span>
</span></span></span><span><span><span>  </span><span>&#34;</span><span>letsencrypt.org</span><span>;&#34;</span><span>
</span></span></span><span><span><span>  </span><span>&#34;</span><span> </span><span>accounturi=https://</span><span>acme-v02.api.letsencrypt.org</span><span>/acme/acct/</span><span>1234567890</span><span>;&#34;</span><span>
</span></span></span><span><span><span>  </span><span>&#34;</span><span> </span><span>policy=wildcard&#34;</span><span>
</span></span></span><span><span><span></span><span>)</span><span>
</span></span></span></code></pre></div><h3 id="optional-expiration">Optional Expiration</h3>
<p>Subscribers who aren’t comfortable with authorization persisting indefinitely can include an optional <code>persistUntil</code> timestamp. This limits how long the record may be used for new validations, but also means it must be updated or replaced before it expires. Anyone using this feature should ensure they have adequate reminders or monitoring in place so that authorization does not expire unexpectedly. The timestamp is expressed as UTC seconds since 1970-01-01:</p>
<div><pre tabindex="0"><code data-lang="dns"><span><span><span>_validation-persist.example.com. </span><span>IN</span><span> </span><span>TXT</span><span> </span><span>(</span><span>
</span></span></span><span><span><span>  </span><span>&#34;</span><span>letsencrypt.org</span><span>;&#34;</span><span>
</span></span></span><span><span><span>  </span><span>&#34;</span><span> </span><span>accounturi=https://</span><span>acme-v02.api.letsencrypt.org</span><span>/acme/acct/</span><span>1234567890</span><span>;&#34;</span><span>
</span></span></span><span><span><span>  </span><span>&#34;</span><span> </span><span>persistUntil=</span><span>1767225600</span><span>&#34;</span><span>
</span></span></span><span><span><span></span><span>)</span><span>
</span></span></span></code></pre></div><h3 id="authorizing-multiple-cas">Authorizing Multiple CAs</h3>
<p>Multiple CAs can be simultaneously authorized by publishing multiple TXT records at <code>_validation-persist.&lt;YOUR_DOMAIN&gt;</code>, each containing the issuer-domain-name of the CA you intend to authorize. During validation, each CA queries the same DNS label and evaluates only the records that match its own issuer-domain-name.</p>
<h2 id="rollout-timeline">Rollout Timeline</h2>
<p>The CA/Browser Forum ballot <a href="https://cabforum.org/2025/10/09/ballot-sc-088v3-dns-txt-record-with-persistent-value-dcv-method">SC-088v3</a>, defining “3.2.2.4.22 DNS TXT Record with Persistent Value”, passed unanimously in October 2025, and the IETF ACME working group adopted the draft that same month. While the document remains an active IETF draft, the core mechanisms described here are not expected to change substantially.</p>
<p>Support for the draft specification is available now in <a href="https://github.com/letsencrypt/pebble">Pebble</a>, a miniature version of <a href="https://github.com/letsencrypt/boulder">Boulder</a>, our production CA software. Work is also in progress on a <a href="https://go-acme.github.io/lego/usage/cli/">lego-cli</a> client implementation to make it easier for subscribers to experiment with and adopt. Staging rollout is planned for late Q1 2026, with a production rollout targeted for some time in Q2 2026.</p>

      

    </div></div>
  </body>
</html>
