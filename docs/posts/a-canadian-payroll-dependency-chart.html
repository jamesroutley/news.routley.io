<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.daemonology.net/blog/2023-12-31-Canadian-payroll-dependency-chart.html">Original</a>
    <h1>A Canadian payroll dependency chart</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>
The Canada Revenue Agency publishes, on a regular basis (they&#39;re now up to
the 119th edition), a document entitled
<a href="https://www.canada.ca/en/revenue-agency/services/forms-publications/payroll/t4127-payroll-deductions-formulas/t4127-jan/t4127-jan-payroll-deductions-formulas-computer-programs.html">&#34;Payroll
Deductions Formulas&#34;</a>.  This document contains all of the formulas needed
to calculate payroll deductions collected by the CRA: Canada Pension Plan,
Employment Insurance, and Income Tax.  As someone running a
<a href="https://www.tarsnap.com">small business in Canada</a> and not wanting
to use an external payroll provider, I implement these formulas myself in a
spreadsheet.
</p><p>
Unfortunately, like most aspects of the tax system, this steadily increases
in complexity, and this year with the Canada Pension Plan including not just
&#34;base&#34; premiums and &#34;additional&#34; premiums but also &#34;second additional
premiums&#34;, I needed to rewrite my spreadsheet from scratch; and also very
unfortunately, the authors of the document have failed to grasp an essential
detail of software: You have to calculate values before you use them.  This
results in a document requiring constant jumping back and forth to find
where each value is calculated — before <i>or after</i> it is used.
</p><p>
To help myself keep everything straight, I decided to draw a dependency chart
using GraphViz.  There are 79 nodes in the graph, starting with values like
&#34;Year&#39;s Annual Maximum Pensionable Earnings&#34; ($73200 in the 2024 tax year),
and ending up with &#34;Total payroll deductions&#34;.  Note that I did not write the
formulas onto the chart — I simply recorded which other values they
depend upon, so someone (aka myself) looking at the chart can figure out
what to calculate first without going around in circles.
</p><p>
Oh, and to keep things simple, I assumed I wasn&#39;t dealing with commissioned
employees, employees entering or exiting the Canada Pension Plan, or anyone
resident in Quebec, Nova Scotia, Yukon, or Ontario (each of which has their
own special tax complications).
</p><p>
Here&#39;s what it looks like; click for a full size version (warning, 5627x2033
image):
</p>



<p><a href="https://disqus.com">blog comments powered by <span>Disqus</span></a>
</p></div></div>
  </body>
</html>
