<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bun.sh/blog/bun-v0.5.0">Original</a>
    <h1>Bun v0.5</h1>
    
    <div id="readability-page-1" class="page"><article><p>Bun v0.5 is packed with new features including npm <code>workspaces</code>, <code>Bun.dns</code>, and support for <code>node:readline</code>. There&#39;s improved compatibility with <code>node:tls</code> and <code>node:net</code> so several database drivers now work in Bun for the first time, including Postgres.js, <code>mysql2</code>, <code>node-redis</code>, and others. Bun also continues to get faster and more stable — <code>Buffer</code> instantiation is 10x faster, <code>crypto.createHasher()</code> is 50x faster, and <code>bun install</code> got dozens of bugfixes.</p><div><pre><code><span><span># Install Bun</span></span>
<span><span>curl https://bun.sh/install </span><span>|</span><span> bash</span></span>
<span></span>
<span><span># Upgrade to latest release of Bun</span></span>
<span><span>bun upgrade</span></span></code></pre></div><h2 level="2" id="workspaces-in-package-json"><a href="#workspaces-in-package-json">Workspaces in <code>package.json</code></a></h2><p>Bun now supports <a href="https://docs.npmjs.com/cli/v9/using-npm/workspaces?v=true#description"><code>workspaces</code></a> in <code>package.json</code>, and it&#39;s fast. Bun installs the <a href="https://github.com/remix-run/remix">Remix</a> monorepo in about 500ms on Linux.</p><ul><li>28x faster than <code>npm install</code></li><li>12x faster than <code>yarn install</code> (v1)</li><li>8x faster than <code>pnpm install</code></li></ul><figure><a href="https://user-images.githubusercontent.com/709451/212829600-77df9544-7c9f-4d8d-a984-b2cd0fd2aa52.png"><img src="https://user-images.githubusercontent.com/709451/212829600-77df9544-7c9f-4d8d-a984-b2cd0fd2aa52.png" alt=""/></a></figure><h3 level="3" id="what-are-workspaces?"><a href="#what-are-workspaces?">What are workspaces?</a></h3><p>Workspaces make it easy to develop complex software as a <em>monorepo</em> consisting of several independent packages. To try it, specify a list of sub-packages in the <code>workspaces</code> field of your <code>package.json</code>; it&#39;s conventional to place these sub-packages in a directory called <code>packages</code>.</p><div><pre><code><span><span>{</span></span>
<span><span>  </span><span>&#34;</span><span>name</span><span>&#34;</span><span>:</span><span> </span><span>&#34;</span><span>my-project</span><span>&#34;</span><span>,</span></span>
<span><span>  </span><span>&#34;</span><span>version</span><span>&#34;</span><span>:</span><span> </span><span>&#34;</span><span>1.0.0</span><span>&#34;</span><span>,</span></span>
<span><span>  </span><span>&#34;</span><span>workspaces</span><span>&#34;</span><span>:</span><span> [</span><span>&#34;</span><span>packages/a</span><span>&#34;</span><span>, </span><span>&#34;</span><span>packages/b</span><span>&#34;</span><span>]</span></span>
<span><span>}</span></span></code></pre></div><p>Bun doesn&#39;t support globs for workspace names yet, but this is coming soon!</p><p>This has a couple major benefits.</p><ul><li><strong>Code can be split into logical parts.</strong> If one package relies on another, you can simply add it as a dependency with <code>bun add</code>. If package <code>b</code> depends on <code>a</code>, <code>bun install</code> will symlink your local <code>packages/a</code> directory into the <code>node_modules</code> folder of <code>b</code>, instead of trying to download it from the npm registry.</li><li><strong>Dependencies can be de-duplicated.</strong> If <code>a</code> and <code>b</code> share a common dependency, it will be <em>hoisted</em> to the root <code>node_modules</code> directory. This reduces redundant disk usage and minimizes &#34;dependency hell&#34; issues associated with having multiple versions of a package installed simultaneously.</li></ul><h2 level="2" id="bun-dns-and-node-dns"><a href="#bun-dns-and-node-dns"><code>Bun.dns</code> and <code>node:dns</code></a></h2><p>Bun can now resolve domain names using the built-in <code>Bun.dns</code> API. At the moment, <code>Bun.dns</code> exposes a single function: <code>lookup</code>.</p><div><pre><code><span><span>import</span><span> { dns } </span><span>from</span><span> </span><span>&#34;</span><span>bun</span><span>&#34;</span><span>;</span></span>
<span></span>
<span><span>const</span><span> records </span><span>=</span><span> </span><span>await</span><span> dns.</span><span>lookup</span><span>(</span><span>&#34;</span><span>example.com</span><span>&#34;</span><span>, { family</span><span>:</span><span> </span><span>4</span><span> });</span></span>
<span><span>console.</span><span>log</span><span>(records); </span><span>// [{ address: &#34;93.184.216.34&#34; }]</span></span></code></pre></div><p>We&#39;ve also added a <a href="https://github.com/oven-sh/bun/issues/1744">minimal</a> implementation of Node.js&#39; <a href="https://nodejs.org/api/dns.html#dns"><code>node:dns</code></a> that uses <code>Bun.dns</code> under the hood. It&#39;s powered by <a href="https://c-ares.org/">c-ares</a> and non-blocking <code>getaddrinfo</code> on MacOS.</p><div><pre><code><span><span>import</span><span> { resolve4 } </span><span>from</span><span> </span><span>&#34;</span><span>node:dns/promises</span><span>&#34;</span><span>;</span></span>
<span></span>
<span><span>const</span><span> records </span><span>=</span><span> </span><span>await</span><span> </span><span>resolve4</span><span>(</span><span>&#34;</span><span>example.com</span><span>&#34;</span><span>);</span></span>
<span><span>console.</span><span>log</span><span>(records); </span><span>// [ &#34;93.184.216.34&#34; ]</span></span></code></pre></div><h2 level="2" id="sockets-using-node-tls-and-node-net"><a href="#sockets-using-node-tls-and-node-net">Sockets using <code>node:tls</code> and <code>node:net</code></a></h2><p>Bun now supports the creation of sockets using <a href="https://nodejs.org/api/net.html#netconnect"><code>net.connect()</code></a> and <a href="https://nodejs.org/api/tls.html#tlsconnectoptions-callback"><code>tls.connect()</code></a>. This unblocks several database driver libraries. A handful of representative examples:</p><p>Connect to Postgres in Bun using <strong><a href="https://github.com/porsager/postgres">Postgres.js</a></strong> by <a href="https://github.com/porsager">@porsager</a>:</p><div><pre><code><span><span>import</span><span> postgres </span><span>from</span><span> </span><span>&#34;</span><span>postgres</span><span>&#34;</span><span>;</span></span>
<span></span>
<span><span>const</span><span> sql </span><span>=</span><span> </span><span>postgres</span><span>();</span></span>
<span><span>const</span><span> [{ version }] </span><span>=</span><span> </span><span>await</span><span> </span><span>sql</span><span>`SELECT version()`</span><span>;</span></span>
<span></span>
<span><span>console.</span><span>log</span><span>(version); </span><span>// &#34;PostgreSQL 14.2 ...&#34;</span></span></code></pre></div><p>Connect to MySQL in Bun using <strong><a href="https://github.com/sidorares/node-mysql2"><code>mysql2</code></a></strong> client by <a href="https://github.com/sidorares">@sidorares</a>:</p><div><pre><code><span><span>import</span><span> { createConnection } </span><span>from</span><span> </span><span>&#34;</span><span>mysql2/promise</span><span>&#34;</span><span>;</span></span>
<span></span>
<span><span>const</span><span> connection </span><span>=</span><span> </span><span>await</span><span> </span><span>createConnection</span><span>({</span></span>
<span><span>  host</span><span>:</span><span> </span><span>&#34;</span><span>localhost</span><span>&#34;</span><span>,</span></span>
<span><span>  user</span><span>:</span><span> </span><span>&#34;</span><span>root</span><span>&#34;</span><span>,</span></span>
<span><span>  database</span><span>:</span><span> </span><span>&#34;</span><span>test</span><span>&#34;</span><span>,</span></span>
<span><span>});</span></span>
<span></span>
<span><span>const</span><span> [rows] </span><span>=</span><span> </span><span>await</span><span> connection.</span><span>execute</span><span>(</span><span>&#34;</span><span>SELECT 1+2 AS count</span><span>&#34;</span><span>);</span></span>
<span><span>console.</span><span>log</span><span>(rows); </span><span>// [{ count: 3 }]</span></span></code></pre></div><p>Connect to Redis from Bun using the official <a href="https://github.com/redis/node-redis">Node.js client</a>:</p><div><pre><code><span><span>import</span><span> { createClient } </span><span>from</span><span> </span><span>&#34;</span><span>redis</span><span>&#34;</span><span>;</span></span>
<span></span>
<span><span>const</span><span> client </span><span>=</span><span> </span><span>createClient</span><span>();</span></span>
<span><span>await</span><span> client.</span><span>connect</span><span>();</span></span>
<span></span>
<span><span>await</span><span> client.</span><span>set</span><span>(</span><span>&#34;</span><span>key</span><span>&#34;</span><span>, </span><span>&#34;</span><span>Hello!</span><span>&#34;</span><span>);</span></span>
<span><span>const</span><span> value </span><span>=</span><span> </span><span>await</span><span> client.</span><span>get</span><span>(</span><span>&#34;</span><span>key</span><span>&#34;</span><span>);</span></span>
<span></span>
<span><span>console.</span><span>log</span><span>(value); </span><span>// &#34;Hello!&#34;</span></span></code></pre></div><h2 level="2" id="support-for-node-readline"><a href="#support-for-node-readline">Support for <code>node:readline</code></a></h2><p>Bulding CLI tools should be much easier now that Bun supports the <a href="https://nodejs.org/api/readline.html#readline"><code>node:readline</code></a> module.</p><div><pre><code><span><span>import</span><span> </span><span>*</span><span> </span><span>as</span><span> readline </span><span>from</span><span> </span><span>&#34;</span><span>node:readline/promises</span><span>&#34;</span><span>;</span></span>
<span></span>
<span><span>const</span><span> rl </span><span>=</span><span> readline.</span><span>createInterface</span><span>({</span></span>
<span><span>  input</span><span>:</span><span> process.stdin,</span></span>
<span><span>  output</span><span>:</span><span> process.stdout,</span></span>
<span><span>  terminal</span><span>:</span><span> </span><span>true</span><span>,</span></span>
<span><span>});</span></span>
<span></span>
<span><span>const</span><span> answer </span><span>=</span><span> </span><span>await</span><span> rl.</span><span>question</span><span>(</span><span>&#34;</span><span>How fast is Bun from 1 to 10?</span><span>\n</span><span>&#34;</span><span>);</span></span>
<span><span>if</span><span> (</span><span>parseInt</span><span>(answer) </span><span>&gt;</span><span> </span><span>10</span><span>) {</span></span>
<span><span>  console.</span><span>log</span><span>(</span><span>&#34;</span><span>Good answer!</span><span>&#34;</span><span>);</span></span>
<span><span>}</span></span></code></pre></div><p>Running this script yields:</p><div><pre><code><span><span>$ bun readline.ts</span></span>
<span><span>How fast is Bun from 1 to 10</span><span>?</span></span>
<span><span>&gt;</span><span> 11</span></span>
<span><span>Good answer</span><span>!</span></span></code></pre></div><p>A <a href="https://github.com/whatwg/websockets/issues/16">long-standing</a> feature request on the <code>WebSocket</code> <a href="https://github.com/whatwg/websockets">spec</a> is the ability to set custom headers when opening a WebSocket. While this hasn&#39;t yet landed in the WebSocket standard, Bun now implements it. This allows users to customize the headers used for the <code>WebSocket</code> client <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API/Writing_WebSocket_servers#client_handshake_request">handshake request</a>.</p><div><pre><code><span><span>const</span><span> ws </span><span>=</span><span> </span><span>new</span><span> </span><span>WebSocket</span><span>(</span><span>&#34;</span><span>ws://localhost/chat</span><span>&#34;</span><span>, {</span></span>
<span><span>  headers</span><span>:</span><span> {</span></span>
<span><span>    Authorization</span><span>:</span><span> </span><span>&#34;</span><span>...</span><span>&#34;</span><span>,</span></span>
<span><span>  },</span></span>
<span><span>});</span></span></code></pre></div><h2 level="2" id="improvements-to-bun-wiptest"><a href="#improvements-to-bun-wiptest">Improvements to <code>bun wiptest</code></a></h2><p>While <code>bun wiptest</code> is still a work in progress, we continue to increase Bun&#39;s compatibility with Jest.</p><h3 level="3" id="test-skip"><a href="#test-skip"><code>test.skip()</code></a></h3><p>You can use <a href="https://jestjs.io/docs/api#testskipname-fn"><code>test.skip()</code></a> to skip unwanted tests.</p><div><pre><code><span><span>import</span><span> { describe, test, expect } </span><span>from</span><span> </span><span>&#34;</span><span>bun:test</span><span>&#34;</span><span>;</span></span>
<span></span>
<span><span>describe</span><span>(</span><span>&#34;</span><span>fetch()</span><span>&#34;</span><span>, () </span><span>=&gt;</span><span> {</span></span>
<span><span>  test.</span><span>skip</span><span>(</span><span>&#34;</span><span>can connect to localhost</span><span>&#34;</span><span>, </span><span>async</span><span> () </span><span>=&gt;</span><span> {</span></span>
<span><span>    </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> </span><span>fetch</span><span>(</span><span>&#34;</span><span>http://localhost</span><span>&#34;</span><span>);</span></span>
<span><span>    </span><span>expect</span><span>(response.ok).</span><span>toBe</span><span>(</span><span>true</span><span>);</span></span>
<span><span>  });</span></span>
<span></span>
<span><span>  </span><span>test</span><span>(</span><span>&#34;</span><span>can connect to example.com</span><span>&#34;</span><span>, </span><span>async</span><span> () </span><span>=&gt;</span><span> {</span></span>
<span><span>    </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> </span><span>fetch</span><span>(</span><span>&#34;</span><span>http://example.com</span><span>&#34;</span><span>);</span></span>
<span><span>    </span><span>expect</span><span>(response.ok).</span><span>toBe</span><span>(</span><span>true</span><span>);</span></span>
<span><span>  });</span></span>
<span><span>});</span></span></code></pre></div><p>When you skip a test, it will appear as grayed out in the test output.</p><figure><a href="https://user-images.githubusercontent.com/3238291/213013552-ec093bff-f070-46cb-a365-5f548346dd04.png"><img src="https://user-images.githubusercontent.com/3238291/213013552-ec093bff-f070-46cb-a365-5f548346dd04.png" alt="bun wiptest output"/></a></figure><h3 level="3" id="expect-fn-tothrow"><a href="#expect-fn-tothrow"><code>expect(fn).toThrow()</code></a></h3><p>You can use <a href="https://jestjs.io/docs/expect#tothrowerror"><code>expect(fn).toThrow()</code></a> to catch expected errors.</p><div><pre><code><span><span>import</span><span> { test, expect } </span><span>from</span><span> </span><span>&#34;</span><span>bun:test</span><span>&#34;</span><span>;</span></span>
<span></span>
<span><span>test</span><span>(</span><span>&#34;</span><span>catch error</span><span>&#34;</span><span>, </span><span>async</span><span> () </span><span>=&gt;</span><span> {</span></span>
<span><span>  </span><span>expect</span><span>(() </span><span>=&gt;</span><span> {</span></span>
<span><span>    </span><span>throw</span><span> </span><span>new</span><span> </span><span>Error</span><span>();</span></span>
<span><span>  }).</span><span>toThrow</span><span>();</span></span>
<span><span>});</span></span></code></pre></div><h3 level="3" id="describe-labels-are-included-in-the-output"><a href="#describe-labels-are-included-in-the-output"><code>describe</code> labels are included in the output</a></h3><p>Previously, nested <code>describe</code> labels were not included in the test runner output. Thanks to @ethanburrell, this has been fixed.</p><p>Before:</p><p>After:</p><div><pre><code><span><span>✓ outer </span><span>&gt;</span><span> inner </span><span>&gt;</span><span> my test</span></span></code></pre></div><p>Test file:</p><div><pre><code><span><span>import</span><span> { describe, test } </span><span>from</span><span> </span><span>&#34;</span><span>bun:test</span><span>&#34;</span><span>;</span></span>
<span></span>
<span><span>describe</span><span>(</span><span>&#34;</span><span>outer</span><span>&#34;</span><span>, () </span><span>=&gt;</span><span> {</span></span>
<span><span>  </span><span>describe</span><span>(</span><span>&#34;</span><span>inner</span><span>&#34;</span><span>, () </span><span>=&gt;</span><span> {</span></span>
<span><span>    </span><span>test</span><span>(</span><span>&#34;</span><span>my test</span><span>&#34;</span><span>, () </span><span>=&gt;</span><span> {});</span></span>
<span><span>  });</span></span>
<span><span>});</span></span></code></pre></div><h2 level="2" id="performance-boosts"><a href="#performance-boosts">Performance boosts</a></h2><h3 level="3" id="10x-faster-new-buffer"><a href="#10x-faster-new-buffer">10x faster <code>new Buffer()</code></a></h3><p>Previously, the <code>Buffer</code> implementation in Bun was using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf#syntax"><code>Object.setPrototypeOf()</code></a> to create each new instance. Eliminating this bottleneck makes it 10x faster to instantiate a small <a href="https://nodejs.org/api/buffer.html#buffer"><code>Buffer</code></a> in Bun.</p><figure><a href="https://user-images.githubusercontent.com/3238291/213013338-8b6c4e3c-3855-44cc-855e-3bfd455fc464.png"><img src="https://user-images.githubusercontent.com/3238291/213013338-8b6c4e3c-3855-44cc-855e-3bfd455fc464.png" alt="10x faster Buffer"/></a></figure><h3 level="3" id="50x-faster-crypto-createhash"><a href="#50x-faster-crypto-createhash">50x faster <code>crypto.createHash()</code></a></h3><p>Previously, Bun was using a pure JavaScript implementation of <a href="https://nodejs.org/api/crypto.html#cryptocreatehashalgorithm-options"><code>crypto.createHash()</code></a>. Now it&#39;s implemented using native code from <a href="https://github.com/boringssl/boringssl">BoringSSL</a>, yielding a 50x speed improvement.</p><h2 level="2" id="support-for-https-proxy"><a href="#support-for-https-proxy">Support for <code>HTTPS_PROXY</code></a></h2><p>Bun will now recognize the <code>HTTPS_PROXY</code>, <code>HTTP_PROXY</code>, and <code>NO_PROXY</code> enviroment variables when making outgoing HTTP requests, which includes <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch"><code>fetch()</code></a> and <code>bun install</code>. These variables allow you to specify a proxy to forward, or not forward, certain HTTP requests and are useful when running Bun within a corporate firewall.</p><div><pre><code><span><span>export</span><span> HTTPS_PROXY=</span><span>&#34;</span><span>http://proxy.example.com:8080</span><span>&#34;</span></span>
<span><span>export</span><span> NO_PROXY=</span><span>&#34;</span><span>localhost,noproxy.example.com</span><span>&#34;</span></span></code></pre></div><p>If you want to learn more about these variables, GitLab wrote a nice <a href="https://about.gitlab.com/blog/2021/01/27/we-need-to-talk-no-proxy/">explainer</a>.</p><h2 level="2" id="module-resolution-changes"><a href="#module-resolution-changes">Module resolution changes</a></h2><p>There are two changes to module resolution that may impact a few packages.</p><ol><li>Bun no longer checks the <a href="https://docs.npmjs.com/cli/v9/configuring-npm/package-json#browser"><code>browser</code></a> property in <code>package.json</code>. This is because some packages would disable Node.js functionality, which is not what we want for Bun.</li><li>For better Node.js &amp; npm compatibility, Bun&#39;s JavaScript runtime now reads the <code>&#34;node&#34;</code> export condition in package.json <a href="https://nodejs.org/api/packages.html#exports"><code>exports</code></a>.</li></ol><p>The order Bun&#39;s JavaScript runtime reads package.json <code>&#34;exports&#34;</code> conditions is:</p><div><pre><code><span><span>[</span><span>&#34;</span><span>bun</span><span>&#34;</span><span>, </span><span>&#34;</span><span>worker</span><span>&#34;</span><span>, </span><span>&#34;</span><span>module</span><span>&#34;</span><span>, </span><span>&#34;</span><span>node</span><span>&#34;</span><span>, </span><span>&#34;</span><span>browser</span><span>&#34;</span><span>, </span><span>&#34;</span><span>default</span><span>&#34;</span><span>];</span></span></code></pre></div><p>This means that if a package has a <code>&#34;node&#34;</code> export condition, it will be used instead of the <code>&#34;default&#34;</code> or <code>&#34;browser&#34;</code> export condition.</p><h2 level="2" id="changelog"><a href="#changelog">Changelog</a></h2><p>While we continue to add new features to Bun, we&#39;re still focused on improving stability and fixing bugs. This release fixes a number of issues</p><h3 level="3" id="fixes-to-bun-install"><a href="#fixes-to-bun-install">Fixes to <code>bun install</code></a></h3><p>Several bugs with Bun&#39;s package manager are fixed in this release, mostly by <a href="https://github.com/alexlamsl">@alexlamsl</a>. Thanks Alex!</p><table><thead></thead><tbody><tr><td><a href="https://github.com/oven-sh/bun/pull/1664"><code>#1664</code></a></td><td>Previously, scoped and private packages configured with <code>bun install</code> would have a registry of <code>localhost</code>, which made very little sense. We&#39;ve fixed this and private registries will now default to the default registry if not specified, which is usually <code>registry.npmjs.org</code></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1667"><code>#1667</code></a></td><td>Typically, npm clients are supposed to pass the <code>npm-auth-type</code> header, but <code>bun install</code> wasn&#39;t. We&#39;ve fixed this and now <code>bun install</code> will pass the <code>npm-auth-type</code> header</td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/a345efd270bcd19672b13b363d287354113b7aba"><code>a345efd</code></a></td><td>In some CI environments, like Vercel, linking <code>node_modules/.bin</code> would fail because the <code>/proc</code> filesystem (used to resolve absolute file paths) wasn&#39;t mounted. We&#39;ve fixed this by falling back to <code>fchdir</code> and <code>getcwd</code> when <code>/proc/fd</code> is not available</td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/385c81d67be14abaaa938c0d7d46acd90d714392"><code>385c81d</code></a></td><td>A crash sometimes happened when running <code>bun add &lt;package&gt;</code> if the <code>&#34;dependencies&#34;</code> list went from empty to not empty in a <code>package.json</code></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1665"><code>#1665</code></a></td><td>Use <code>npm</code> as default registry when scopes are configured</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1671"><code>#1671</code></a></td><td>Fix logging verbosity in <code>bun install</code></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1799"><code>#1799</code></a></td><td>Fix lifecycle script execution in <code>bun install</code></td></tr></tbody></table><h3 level="3" id="new-apis"><a href="#new-apis">New APIs</a></h3><table><thead></thead><tbody><tr><td><a href="https://github.com/oven-sh/bun/commit/6260aaac5fc5be7296be1414bc06977df168ec07"><code>6260aaa</code></a></td><td>Implements <a href="https://nodejs.org/api/crypto.html#cryptoscryptpassword-salt-keylen-options-callback"><code>crypto.scrypt()</code></a> and more <a href="https://nodejs.org/api/crypto.html#crypto"><code>node:crypto</code></a> APIs</td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/d726a17aca6a0b7e98ee86c193158e7860bb0834"><code>d726a17</code></a></td><td>Implements <code>Bun.RIPEMD160</code></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/940ecd05a8a3a1f0326256148a93306b71936c1e"><code>940ecd0</code></a></td><td>Implements <a href="https://nodejs.org/api/process.html#processuptime"><code>process.uptime()</code></a> and <a href="https://nodejs.org/api/process.html#processumaskmask"><code>process.umask()</code></a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/85eda2058755261bf5ac64a3d82112d7bad5419c"><code>85eda20</code></a></td><td>Implements <code>Bun.CryptoHasher</code></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1727"><code>#1727</code></a></td><td>Implements <a href="https://jestjs.io/docs/expect#tothrowerror"><code>expect().toThrow()</code></a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1659"><code>#1659</code></a></td><td>Implements <a href="https://nodejs.org/api/buffer.html#bufswap16"><code>Buffer.{swap16,swap32,swap64}</code></a> — <a href="https://github.com/malcolmstill">@malcolmstill</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/c18165b30fdb7cae91ce22d2a0f80ac2636e8544"><code>c18165b</code></a></td><td>Adds support for <code>ttl: true</code> in <a href="https://github.com/oven-sh/bun#bunlisten--bunconnect---tcptls-sockets"><code>Bun.listen()</code></a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/734b5b89da07fa074ea1c2a1013f32a56fc58637"><code>734b5b8</code></a></td><td>Adds a <code>closeActiveConnections</code> parameter to <code>Server.stop()</code> and <code>Socket.stop()</code></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/8e9af05d"><code>8e9af05d</code></a></td><td>Changes <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSocket"><code>WebSocket</code></a> to accept URLs with <code>http</code> or <code>https</code> protocol</td></tr></tbody></table><h3 level="3" id="additional-fixes"><a href="#additional-fixes">Additional fixes</a></h3><table><thead></thead><tbody><tr><td><a href="https://github.com/oven-sh/bun/pull/1670"><code>#1670</code></a></td><td>Fix incorrect <code>206 Partial Content</code> response</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1674"><code>#1674</code></a></td><td>Fixes a bug where <code>console.log({ name: &#34;&#34; })</code> would print incorrect formatting</td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/3d60b870ee0d206d79eb4dda22dec7da55d91184"><code>3d60b87</code></a></td><td>Fixes <a href="https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream/pipeTo"><code>ReadableStream.pipeTo()</code></a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1689"><code>#1689</code></a></td><td>Fixes <code>bun wiptest</code> not waiting for async lifecycle hooks</td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1700"><code>#1700</code></a></td><td>Fixes lingering processes with <a href="https://github.com/oven-sh/bun#bunlisten--bunconnect---tcptls-sockets"><code>Bun.listen()</code></a> and <a href="https://github.com/oven-sh/bun#bunlisten--bunconnect---tcptls-sockets"><code>Bun.connect()</code></a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1705"><code>#1705</code></a> <a href="https://github.com/oven-sh/bun/pull/1730"><code>#1730</code></a></td><td>Fixes the <code>connectError</code> callback not being invoked with <a href="https://github.com/oven-sh/bun#bunlisten--bunconnect---tcptls-sockets"><code>Bun.listen()</code></a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/issues/1695"><code>#1695</code></a></td><td>Fixes a transpiler bug that affected <code>@tensorflow/tfjs-backend-wasm</code> — <a href="https://github.com/theoparis">@theoparis</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/issues/1716"><code>#1716</code></a></td><td>Fixes <a href="https://nodejs.org/api/util.html#class-utiltextdecoder"><code>TextDecoder</code></a> being exported as <a href="https://nodejs.org/api/util.html#class-utiltextencoder"><code>TextEncoder</code></a> (oops!) — <a href="https://github.com/torbjorn-kvist">@torbjorn-kvist</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1734"><code>#1734</code></a></td><td>Fixes unhandled <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> rejections not causing an error exit code</td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/fadd1c0152ebce389f7d8fa0c297208cd71ff5c0"><code>fadd1c0</code></a></td><td>Fixes when <a href="https://github.com/oven-sh/bun#bunlisten--bunconnect---tcptls-sockets"><code>Bun.connect()</code></a> would not reject on connection error</td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/2392e48e9da65dbecdfa9b16446c739c7618e5a1"><code>2392e48</code></a></td><td>Fixes when an uncaught error in a <a href="https://jestjs.io/docs/api#describename-fn"><code>describe</code></a> block would exit <code>bun wiptest</code></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/88ffdc5fec9d2f99e891fc6a282c940f08428cfb"><code>88ffdc5</code></a></td><td>Fixes a transpiler bug with <code>export default class implements</code></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1800"><code>#1800</code></a></td><td>Fixes <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response"><code>Response</code></a> not accepting a <code>status</code> under 2xx</td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/7dd28bbdd99b31cc88abe4b309ed52aff64be9c2"><code>7dd28bb</code></a></td><td>Fixes an issue where <a href="https://github.com/oven-sh/bun#bunwhich--find-the-path-to-a-binary"><code>Bun.which()</code></a> would inadvertently detect a directory on macOS</td></tr><tr><td><code>—</code></td><td>Fix various bugs and improved compatibility with <a href="https://nodejs.org/api/n-api.html">Node-API</a>: <a href="https://github.com/oven-sh/bun/commit/59655d0587c58db1babd4438827e0323698ca3d8"><code>59655d0</code></a> <a href="https://github.com/oven-sh/bun/commit/f79301c620cc25b97008e424e1f974b749f5bc69"><code>f79301c</code></a> <a href="https://github.com/oven-sh/bun/commit/994e58b5ea29532ade0e1a517284af4645a39a98"><code>994e58b</code></a> <a href="https://github.com/oven-sh/bun/commit/c505f172b84f5359aa186513f3ef7d6394bfc7b2"><code>c505f17</code></a> <a href="https://github.com/oven-sh/bun/commit/02f0212cbd8e834d16057d0eaf9b35eef4954866"><code>02f0212</code></a> <a href="https://github.com/oven-sh/bun/commit/d54e23ca33cc95199a58d958abf990d9a6e1eb26"><code>d54e23c</code></a> <a href="https://github.com/oven-sh/bun/commit/59655d0587c58db1babd4438827e0323698ca3d8"><code>59655d0</code></a> <a href="https://github.com/oven-sh/bun/commit/f79301c620cc25b97008e424e1f974b749f5bc69"><code>f79301c</code></a></td></tr></tbody></table><h2 level="2" id="contributors"><a href="#contributors">Contributors</a></h2><p>Thank you to everyone who contributed to Bun v0.5!</p><ul><li><a href="https://github.com/Vexu">@Vexu</a> for helping upgrade Bun to the lastest version of <a href="https://ziglang.org/">Zig</a></li><li><a href="https://github.com/oven-sh/bun/commits?author=alexlamsl&amp;since=2022-12-22&amp;until=2023-01-17">@alexlamsl</a> for <code>npm</code> workspaces, <code>net.Socket</code>, improvements to <code>bun install</code>, and many <em>many</em> fixed bugs</li><li><a href="https://github.com/oven-sh/bun/commits?author=ThatOneBro&amp;since=2022-12-22&amp;until=2023-01-17">@ThatOneBro</a> for <code>node:readline</code></li><li><a href="https://github.com/oven-sh/bun/commits?author=colinhacks&amp;since=2022-12-22&amp;until=2023-01-17">@colinhacks</a> for introducing canary builds at <code>bun-types@canary</code></li><li><a href="https://github.com/oven-sh/bun/commits?author=cirospaciari&amp;since=2022-12-22&amp;until=2023-01-17">@cirospaciari</a> for implementing <code>HTTP_PROXY</code> support</li><li><a href="https://github.com/oven-sh/bun/commits?author=srh&amp;since=2022-12-22&amp;until=2023-01-17">@srh</a>, <a href="https://github.com/oven-sh/bun/commits?author=lucifer1004&amp;since=2022-12-22&amp;until=2023-01-17">@lucifer1004</a>, <a href="https://github.com/oven-sh/bun/commits?author=u9g&amp;since=2022-12-22&amp;until=2023-01-17">@u9g</a>, <a href="https://github.com/oven-sh/bun/commits?author=eltociear&amp;since=2022-12-22&amp;until=2023-01-17">@eltociear</a>, <a href="https://github.com/oven-sh/bun/commits?author=jiaz&amp;since=2022-12-22&amp;until=2023-01-17">@jiaz</a>, <a href="https://github.com/oven-sh/bun/commits?author=malcolmstill&amp;since=2022-12-22&amp;until=2023-01-17">@malcolmstill</a>, and <a href="https://github.com/oven-sh/bun/commits?author=ethanburrell&amp;since=2022-12-22&amp;until=2023-01-17">@ethanburrell</a> for contributing to Bun</li></ul></article></div>
  </body>
</html>
