<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://chipsandcheese.com/p/inside-nvidia-gb10s-memory-subsystem">Original</a>
    <h1>Nvidia GB10&#39;s Memory Subsystem, from the CPU Side</h1>
    
    <div id="readability-page-1" class="page"><div><div dir="auto"><p>GB10 is a collaboration between Nvidia and Mediatek that brings Nvidia’s Blackwell architecture into an integrated GPU. GB10’s GPU has 48 Blackwell SMs, matching the RTX 5070 in core count. The CPU side has 10 Cortex X925 and 10 Cortex A725 cores and is therefore quite powerful. Feeding all of that compute power requires a beefy memory subsystem, and can lead to difficult tradeoffs. Analyzing GB10’s memory subsystem from the CPU side will be the focus of this article. To keep article length manageable, I’ll further focus on Nvidia and Mediatek’s memory subsystems and design decisions. Core architecture and GB10’s GPU will be an exercise for another time.</p><p>We’d like to thank Zach at ZeroOne Technology for allowing us SSH access to his DGX Spark unit for CPU testing.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!OGNa!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffbc6d88c-c362-4ea6-8a86-f677313342a1_1600x1016.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!OGNa!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffbc6d88c-c362-4ea6-8a86-f677313342a1_1600x1016.png 424w, https://substackcdn.com/image/fetch/$s_!OGNa!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffbc6d88c-c362-4ea6-8a86-f677313342a1_1600x1016.png 848w, https://substackcdn.com/image/fetch/$s_!OGNa!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffbc6d88c-c362-4ea6-8a86-f677313342a1_1600x1016.png 1272w, https://substackcdn.com/image/fetch/$s_!OGNa!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffbc6d88c-c362-4ea6-8a86-f677313342a1_1600x1016.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!OGNa!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffbc6d88c-c362-4ea6-8a86-f677313342a1_1600x1016.png" width="1456" height="925" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/fbc6d88c-c362-4ea6-8a86-f677313342a1_1600x1016.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:925,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:false,&#34;topImage&#34;:true,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!OGNa!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffbc6d88c-c362-4ea6-8a86-f677313342a1_1600x1016.png 424w, https://substackcdn.com/image/fetch/$s_!OGNa!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffbc6d88c-c362-4ea6-8a86-f677313342a1_1600x1016.png 848w, https://substackcdn.com/image/fetch/$s_!OGNa!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffbc6d88c-c362-4ea6-8a86-f677313342a1_1600x1016.png 1272w, https://substackcdn.com/image/fetch/$s_!OGNa!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ffbc6d88c-c362-4ea6-8a86-f677313342a1_1600x1016.png 1456w" sizes="100vw" fetchpriority="high"/></picture><div></div></div></a><figcaption></figcaption></figure></div><p>CPU cores on GB10 are split into two clusters. Each cluster has five A725 cores and five X925 cores. Core numbering starts with the A725 cores within each cluster, and the two clusters come after each other. All of the A725 cores run at 2.8 GHz. X925 cores clock up to 3.9 GHz on the first cluster, and up to 4 GHz on the second.</p><p>Arm’s A725 and X925 have configurable cache capacities. GB10 opts for 64 KB L1 instruction and data caches on both cores. All A725 cores get 512 KB L2 caches, and all X925 cores get 2 MB of L2. A725’s L2 is 8-way set associative and offers latency at just 9 cycles. In actual time, that comes out to 3.2 nanoseconds and is good considering the low 2.8 GHz clock speed. However, L3 latency is poor at over 21 ns, or &gt;60 cycles.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!1SpH!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc968adfe-bccb-4a3f-991c-91e9f07dae3e_1600x689.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!1SpH!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc968adfe-bccb-4a3f-991c-91e9f07dae3e_1600x689.png 424w, https://substackcdn.com/image/fetch/$s_!1SpH!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc968adfe-bccb-4a3f-991c-91e9f07dae3e_1600x689.png 848w, https://substackcdn.com/image/fetch/$s_!1SpH!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc968adfe-bccb-4a3f-991c-91e9f07dae3e_1600x689.png 1272w, https://substackcdn.com/image/fetch/$s_!1SpH!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc968adfe-bccb-4a3f-991c-91e9f07dae3e_1600x689.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!1SpH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc968adfe-bccb-4a3f-991c-91e9f07dae3e_1600x689.png" width="1456" height="627" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/c968adfe-bccb-4a3f-991c-91e9f07dae3e_1600x689.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:627,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:false,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!1SpH!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc968adfe-bccb-4a3f-991c-91e9f07dae3e_1600x689.png 424w, https://substackcdn.com/image/fetch/$s_!1SpH!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc968adfe-bccb-4a3f-991c-91e9f07dae3e_1600x689.png 848w, https://substackcdn.com/image/fetch/$s_!1SpH!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc968adfe-bccb-4a3f-991c-91e9f07dae3e_1600x689.png 1272w, https://substackcdn.com/image/fetch/$s_!1SpH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc968adfe-bccb-4a3f-991c-91e9f07dae3e_1600x689.png 1456w" sizes="100vw"/></picture><div></div></div></a></figure></div><p>Testing cores across both clusters indicates that the first CPU cluster has 8 MB of L3, while the second has 16 MB. I’ll refer to these as Cluster 0 and Cluster 1 respectively. Both clusters have the same L3 latency from an A725 core, despite the capacity difference. 512 KB isn’t a lot of L2 capacity when L3 latency is this high. Likely, selecting the 512 KB L2 option reduces core area and lets GB10 implement more cores. Doing so makes sense considering that A725 cores aren’t meant to individually deliver high single threaded performance. That task is best left to the X925 cores.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!ekGi!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fce17a01b-c3ed-42cd-9337-abaa9545d161_1600x689.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!ekGi!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fce17a01b-c3ed-42cd-9337-abaa9545d161_1600x689.png 424w, https://substackcdn.com/image/fetch/$s_!ekGi!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fce17a01b-c3ed-42cd-9337-abaa9545d161_1600x689.png 848w, https://substackcdn.com/image/fetch/$s_!ekGi!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fce17a01b-c3ed-42cd-9337-abaa9545d161_1600x689.png 1272w, https://substackcdn.com/image/fetch/$s_!ekGi!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fce17a01b-c3ed-42cd-9337-abaa9545d161_1600x689.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!ekGi!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fce17a01b-c3ed-42cd-9337-abaa9545d161_1600x689.png" width="1456" height="627" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/ce17a01b-c3ed-42cd-9337-abaa9545d161_1600x689.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:627,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!ekGi!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fce17a01b-c3ed-42cd-9337-abaa9545d161_1600x689.png 424w, https://substackcdn.com/image/fetch/$s_!ekGi!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fce17a01b-c3ed-42cd-9337-abaa9545d161_1600x689.png 848w, https://substackcdn.com/image/fetch/$s_!ekGi!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fce17a01b-c3ed-42cd-9337-abaa9545d161_1600x689.png 1272w, https://substackcdn.com/image/fetch/$s_!ekGi!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fce17a01b-c3ed-42cd-9337-abaa9545d161_1600x689.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><p>GB10’s X925 cores have 2 MB, 8-way set associative L2 caches with 12 cycle latency. L3 latency is surprisingly much better at ~56 cycles or ~14 ns, even though the A725 and X925 cores share the same L3. While it’s not a spectacular L3 latency result, it’s at least similar to Intel’s Arrow Lake L3 in nanosecond terms. Combined with the larger L2, that gives GB10’s X925 cores a cache setup that’s better balanced to deliver high performance.</p><p>A 16 MB system level cache (SLC) sits after L3. It’s hard to see from latency plots due to its small capacity relative to the CPU L3 caches. Latency data from cluster 0 suggests SLC latency is around 42 or 47 ns, depending on whether it’s accessed from a X925 or A725 core respectively. System level caches aren’t tightly coupled to any compute block, which typically means lower performance in exchange for being able to service many blocks across the chip. Nvidia states that the system level cache “enables power-efficient data sharing between engines” in addition to serving as the CPU’s L4 cache. Allowing data exchange between the CPU and GPU without a round trip to DRAM may well be the SLC’s most important function.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!ds8p!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2febfce0-d7a7-409c-9755-8d1d94df1bcb_647x174.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!ds8p!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2febfce0-d7a7-409c-9755-8d1d94df1bcb_647x174.png 424w, https://substackcdn.com/image/fetch/$s_!ds8p!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2febfce0-d7a7-409c-9755-8d1d94df1bcb_647x174.png 848w, https://substackcdn.com/image/fetch/$s_!ds8p!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2febfce0-d7a7-409c-9755-8d1d94df1bcb_647x174.png 1272w, https://substackcdn.com/image/fetch/$s_!ds8p!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2febfce0-d7a7-409c-9755-8d1d94df1bcb_647x174.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!ds8p!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2febfce0-d7a7-409c-9755-8d1d94df1bcb_647x174.png" width="647" height="174" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/2febfce0-d7a7-409c-9755-8d1d94df1bcb_647x174.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:174,&#34;width&#34;:647,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!ds8p!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2febfce0-d7a7-409c-9755-8d1d94df1bcb_647x174.png 424w, https://substackcdn.com/image/fetch/$s_!ds8p!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2febfce0-d7a7-409c-9755-8d1d94df1bcb_647x174.png 848w, https://substackcdn.com/image/fetch/$s_!ds8p!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2febfce0-d7a7-409c-9755-8d1d94df1bcb_647x174.png 1272w, https://substackcdn.com/image/fetch/$s_!ds8p!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2febfce0-d7a7-409c-9755-8d1d94df1bcb_647x174.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p>AMD’s Zen 5 in Strix Halo has smaller but faster core-private caches. GB10’s X925 and A725 cores have good cycle count latencies, but Zen 5 can clock so much higher that its caches end up being faster, if just barely so at L2. AMD’s L3 design continues to impress, delivering lower latency even though it has twice as much capacity.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!80cv!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff599c79b-5efc-41ad-a95b-2a8eae942892_1600x689.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!80cv!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff599c79b-5efc-41ad-a95b-2a8eae942892_1600x689.png 424w, https://substackcdn.com/image/fetch/$s_!80cv!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff599c79b-5efc-41ad-a95b-2a8eae942892_1600x689.png 848w, https://substackcdn.com/image/fetch/$s_!80cv!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff599c79b-5efc-41ad-a95b-2a8eae942892_1600x689.png 1272w, https://substackcdn.com/image/fetch/$s_!80cv!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff599c79b-5efc-41ad-a95b-2a8eae942892_1600x689.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!80cv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff599c79b-5efc-41ad-a95b-2a8eae942892_1600x689.png" width="1456" height="627" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/f599c79b-5efc-41ad-a95b-2a8eae942892_1600x689.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:627,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!80cv!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff599c79b-5efc-41ad-a95b-2a8eae942892_1600x689.png 424w, https://substackcdn.com/image/fetch/$s_!80cv!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff599c79b-5efc-41ad-a95b-2a8eae942892_1600x689.png 848w, https://substackcdn.com/image/fetch/$s_!80cv!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff599c79b-5efc-41ad-a95b-2a8eae942892_1600x689.png 1272w, https://substackcdn.com/image/fetch/$s_!80cv!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff599c79b-5efc-41ad-a95b-2a8eae942892_1600x689.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><p>DRAM latency is a bright spot for GB10. 113 ns might feel slow coming from a typical DDR5-equipped desktop, but it’s excellent for LPDDR5X. Strix Halo for comparison has over 140 ns of DRAM latency, as does Intel’s Meteor Lake. Faster LPDDR5X may play a role in GB10’s latency figures. Hot Chips slides say GB10 can run its memory bus at up to 9400 MT/s, and dmidecode reports 8533 MT/s. Placing CPU cores on the same die as the memory controllers may also contribute to lower latency.</p><p>Core-private bandwidth figures are straightforward. A725 cores can read from L1 at 48 bytes per cycle, and appear to have a 32B/cycle datapath to L2. A single A725 core can read from L3 at ~55 GB/s. X925 has more impressive bandwidth. It can read 64B/cycle from L1D, likely has a 64B/cycle path to L2, and can sustain nearly 90 GB/s of read bandwidth from L3. Single core DRAM bandwidth is also higher from a X925 core, at 38 GB/s compared to 26 GB/s from an A725 core. </p><p>A single AMD Zen 5 or Zen 4 core can pull over 50 GB/s from DRAM, or well north of 100 GB/s from L3. It’s an interesting difference that suggests AMD lets a single core queue up more memory requests, but low threaded workloads rarely demand that much bandwidth and I suspect it doesn’t make a big difference.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!D4fc!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81d46f5a-ac08-4652-a152-34fb86aee471_1600x753.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!D4fc!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81d46f5a-ac08-4652-a152-34fb86aee471_1600x753.png 424w, https://substackcdn.com/image/fetch/$s_!D4fc!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81d46f5a-ac08-4652-a152-34fb86aee471_1600x753.png 848w, https://substackcdn.com/image/fetch/$s_!D4fc!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81d46f5a-ac08-4652-a152-34fb86aee471_1600x753.png 1272w, https://substackcdn.com/image/fetch/$s_!D4fc!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81d46f5a-ac08-4652-a152-34fb86aee471_1600x753.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!D4fc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81d46f5a-ac08-4652-a152-34fb86aee471_1600x753.png" width="1456" height="685" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/81d46f5a-ac08-4652-a152-34fb86aee471_1600x753.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:685,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!D4fc!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81d46f5a-ac08-4652-a152-34fb86aee471_1600x753.png 424w, https://substackcdn.com/image/fetch/$s_!D4fc!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81d46f5a-ac08-4652-a152-34fb86aee471_1600x753.png 848w, https://substackcdn.com/image/fetch/$s_!D4fc!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81d46f5a-ac08-4652-a152-34fb86aee471_1600x753.png 1272w, https://substackcdn.com/image/fetch/$s_!D4fc!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F81d46f5a-ac08-4652-a152-34fb86aee471_1600x753.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><p>Shared components in the memory hierarchy face more pressure in multithreaded workloads, because having more cores active tends to multiply bandwidth demands. Normally I test multithreaded bandwidth by having each thread traverse a separate array. That prevents access combining, because no two threads will request the same address. It also shows the sum of cache capacities, because each core can keep a different part of the test data footprint in its private caches. GB10 has 15 MB of L2 across cores in each cluster, but only 8 or 16 MB of L3. Any size that fits within L3 will have a substantial part contained within L2.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!VQqK!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f919f7e-06c6-446b-9610-d1058874adac_1600x606.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!VQqK!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f919f7e-06c6-446b-9610-d1058874adac_1600x606.png 424w, https://substackcdn.com/image/fetch/$s_!VQqK!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f919f7e-06c6-446b-9610-d1058874adac_1600x606.png 848w, https://substackcdn.com/image/fetch/$s_!VQqK!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f919f7e-06c6-446b-9610-d1058874adac_1600x606.png 1272w, https://substackcdn.com/image/fetch/$s_!VQqK!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f919f7e-06c6-446b-9610-d1058874adac_1600x606.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!VQqK!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f919f7e-06c6-446b-9610-d1058874adac_1600x606.png" width="1456" height="551" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/7f919f7e-06c6-446b-9610-d1058874adac_1600x606.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:551,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!VQqK!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f919f7e-06c6-446b-9610-d1058874adac_1600x606.png 424w, https://substackcdn.com/image/fetch/$s_!VQqK!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f919f7e-06c6-446b-9610-d1058874adac_1600x606.png 848w, https://substackcdn.com/image/fetch/$s_!VQqK!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f919f7e-06c6-446b-9610-d1058874adac_1600x606.png 1272w, https://substackcdn.com/image/fetch/$s_!VQqK!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7f919f7e-06c6-446b-9610-d1058874adac_1600x606.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!mBWw!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F86091e62-c57b-4a1f-9d92-6ad6452216e1_1600x736.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!mBWw!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F86091e62-c57b-4a1f-9d92-6ad6452216e1_1600x736.png 424w, https://substackcdn.com/image/fetch/$s_!mBWw!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F86091e62-c57b-4a1f-9d92-6ad6452216e1_1600x736.png 848w, https://substackcdn.com/image/fetch/$s_!mBWw!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F86091e62-c57b-4a1f-9d92-6ad6452216e1_1600x736.png 1272w, https://substackcdn.com/image/fetch/$s_!mBWw!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F86091e62-c57b-4a1f-9d92-6ad6452216e1_1600x736.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!mBWw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F86091e62-c57b-4a1f-9d92-6ad6452216e1_1600x736.png" width="1456" height="670" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/86091e62-c57b-4a1f-9d92-6ad6452216e1_1600x736.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:670,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!mBWw!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F86091e62-c57b-4a1f-9d92-6ad6452216e1_1600x736.png 424w, https://substackcdn.com/image/fetch/$s_!mBWw!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F86091e62-c57b-4a1f-9d92-6ad6452216e1_1600x736.png 848w, https://substackcdn.com/image/fetch/$s_!mBWw!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F86091e62-c57b-4a1f-9d92-6ad6452216e1_1600x736.png 1272w, https://substackcdn.com/image/fetch/$s_!mBWw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F86091e62-c57b-4a1f-9d92-6ad6452216e1_1600x736.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><p>Pointing all threads to the same array carries the risk of overestimating bandwidth if accesses get combined, but that seems to happen only after a shared cache. I initially validated bandwidth testing methodologies on Zen 2 and Skylake. There, shared array results generally aligned with L3 performance counter data. Using shared array results on GB10 provides another data point to evaluate L3 performance. Taken together with results using thread-private arrays, they suggest GB10 has much lower L3 bandwidth than AMD’s Strix Halo. However, it’s still respectable at north of 200 GB/s and likely to be adequate.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!f-OD!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb75a6ac-5daa-4875-ae86-4f73fe4a1319_853x271.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!f-OD!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb75a6ac-5daa-4875-ae86-4f73fe4a1319_853x271.png 424w, https://substackcdn.com/image/fetch/$s_!f-OD!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb75a6ac-5daa-4875-ae86-4f73fe4a1319_853x271.png 848w, https://substackcdn.com/image/fetch/$s_!f-OD!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb75a6ac-5daa-4875-ae86-4f73fe4a1319_853x271.png 1272w, https://substackcdn.com/image/fetch/$s_!f-OD!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb75a6ac-5daa-4875-ae86-4f73fe4a1319_853x271.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!f-OD!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb75a6ac-5daa-4875-ae86-4f73fe4a1319_853x271.png" width="853" height="271" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/eb75a6ac-5daa-4875-ae86-4f73fe4a1319_853x271.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:271,&#34;width&#34;:853,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!f-OD!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb75a6ac-5daa-4875-ae86-4f73fe4a1319_853x271.png 424w, https://substackcdn.com/image/fetch/$s_!f-OD!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb75a6ac-5daa-4875-ae86-4f73fe4a1319_853x271.png 848w, https://substackcdn.com/image/fetch/$s_!f-OD!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb75a6ac-5daa-4875-ae86-4f73fe4a1319_853x271.png 1272w, https://substackcdn.com/image/fetch/$s_!f-OD!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feb75a6ac-5daa-4875-ae86-4f73fe4a1319_853x271.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><p><span>GB10’s two CPU clusters have asymmetrical external bandwidth, in addition to L3 capacity. Cluster 0 feels a bit like a Strix Halo CCX (Core Complex). Cluster 1 gives off AMD GMI-Wide vibes, with over 100 GB/s of read bandwidth. Switching to a 1:1 ratio of reads and writes dramatically increases measured bandwidth, suggesting the clusters have independent read and write paths with similar width. GB10’s CPU clusters are built using </span><a href="https://developer.arm.com/documentation/102547/0201/The-DynamIQ-Shared-Unit-120/DynamIQ-Shared-Unit-120-configuration-options?lang=en" rel="">Arm’s DynamIQ Shared Unit 120 </a><span>(DSU-120), which can be configured with up to four 256-bit CHI interfaces, so perhaps two clusters have different interface counts. </span></p><p>Much like Strix Halo, GB10’s CPU side enjoys more bandwidth than a typical client setup, but can’t fully utilize the 256-bit LPDDR5X bus. CPU workloads tend to be more latency sensitive and less bandwidth hungry. Memory subsystems in both large iGPU chips reflect that, and emphasize caching to improve CPU performance.</p><p>Observations above point to Cluster 1 being performance optimized, while Cluster 0 focuses on density. Cache is one of the biggest area consumers in a modern chip so cutting L3 capacity to 8 MB is almost certainly an area concession. Cluster 0 may also have a narrower external interface as running fewer wires outside the cluster could save area as well. But Nvidia and Mediatek stop short of fully specializing each cluster.</p><p>Both Cluster 0 and Cluster 1 have the same core configuration of five X925 cores and five A725 cores. The X925 cores focus on the highest performance whereas the A725 cores focus on density. As a result the A725 cores feel out of place on a high performance cluster, especially with 512 KB of L2 in front of a L3 with over 20 ns of latency.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!D1eb!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fc9cdcd-dd0b-4126-b6d7-089818ea8c34_1600x849.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!D1eb!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fc9cdcd-dd0b-4126-b6d7-089818ea8c34_1600x849.png 424w, https://substackcdn.com/image/fetch/$s_!D1eb!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fc9cdcd-dd0b-4126-b6d7-089818ea8c34_1600x849.png 848w, https://substackcdn.com/image/fetch/$s_!D1eb!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fc9cdcd-dd0b-4126-b6d7-089818ea8c34_1600x849.png 1272w, https://substackcdn.com/image/fetch/$s_!D1eb!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fc9cdcd-dd0b-4126-b6d7-089818ea8c34_1600x849.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!D1eb!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fc9cdcd-dd0b-4126-b6d7-089818ea8c34_1600x849.png" width="1456" height="773" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/5fc9cdcd-dd0b-4126-b6d7-089818ea8c34_1600x849.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:773,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!D1eb!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fc9cdcd-dd0b-4126-b6d7-089818ea8c34_1600x849.png 424w, https://substackcdn.com/image/fetch/$s_!D1eb!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fc9cdcd-dd0b-4126-b6d7-089818ea8c34_1600x849.png 848w, https://substackcdn.com/image/fetch/$s_!D1eb!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fc9cdcd-dd0b-4126-b6d7-089818ea8c34_1600x849.png 1272w, https://substackcdn.com/image/fetch/$s_!D1eb!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F5fc9cdcd-dd0b-4126-b6d7-089818ea8c34_1600x849.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a><figcaption>Both lscpu and microbenchmark results agree that only the second cluster has a 16 MB L3 cache</figcaption></figure></div><p>I wonder if going all-in on cluster specialization would be a better idea by concentrating the ten A725 cores into Cluster 0 for density and the ten X925 cores into Cluster 1 for high performance. Going from two heterogeneous clusters to two homogeneous clusters would simplify the OS scheduler as well. For example, the OS scheduler would also have an easier time containing workloads to a single cluster, letting the hardware clock or power down the second cluster. </p><p>Latency and bandwidth can go hand in hand. High bandwidth demands cause requests to back up in various queues throughout the memory subsystem, pushing up average request latency. Ideally, a memory subsystem can provide high bandwidth while preventing bandwidth hungry threads from starving out latency sensitive ones. Here, I’m testing latency from a X925 core with various combinations of other cores generating bandwidth load from within the same cluster.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!nBbg!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8402694d-6c22-47c7-84aa-0fa5e5fdf59e_1181x576.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!nBbg!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8402694d-6c22-47c7-84aa-0fa5e5fdf59e_1181x576.png 424w, https://substackcdn.com/image/fetch/$s_!nBbg!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8402694d-6c22-47c7-84aa-0fa5e5fdf59e_1181x576.png 848w, https://substackcdn.com/image/fetch/$s_!nBbg!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8402694d-6c22-47c7-84aa-0fa5e5fdf59e_1181x576.png 1272w, https://substackcdn.com/image/fetch/$s_!nBbg!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8402694d-6c22-47c7-84aa-0fa5e5fdf59e_1181x576.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!nBbg!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8402694d-6c22-47c7-84aa-0fa5e5fdf59e_1181x576.png" width="1181" height="576" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/8402694d-6c22-47c7-84aa-0fa5e5fdf59e_1181x576.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:576,&#34;width&#34;:1181,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!nBbg!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8402694d-6c22-47c7-84aa-0fa5e5fdf59e_1181x576.png 424w, https://substackcdn.com/image/fetch/$s_!nBbg!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8402694d-6c22-47c7-84aa-0fa5e5fdf59e_1181x576.png 848w, https://substackcdn.com/image/fetch/$s_!nBbg!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8402694d-6c22-47c7-84aa-0fa5e5fdf59e_1181x576.png 1272w, https://substackcdn.com/image/fetch/$s_!nBbg!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F8402694d-6c22-47c7-84aa-0fa5e5fdf59e_1181x576.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><p>Both clusters hit their maximum bandwidth figures with all A725 generating bandwidth load. Adding bandwidth demands from X925 cores decreases aggregate bandwidth while pushing latency up. Reversing the core load order suggests the X925 cores specifically cause contention in the memory subsystem. Latency reaches a maximum with four X925 cores asking for as much bandwidth they can get. It’s almost like the X925 cores don’t know when to slow down to avoid monopolizing memory subsystem resources. When the A725 cores come into play, GB10 seems to realize what’s going on and starts to balance bandwidth demands better. Bandwidth improves, and surprisingly, latency does too.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!0t3e!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F665ef4f2-841b-4cd7-9ce7-86cc4dbd767c_1181x577.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!0t3e!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F665ef4f2-841b-4cd7-9ce7-86cc4dbd767c_1181x577.png 424w, https://substackcdn.com/image/fetch/$s_!0t3e!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F665ef4f2-841b-4cd7-9ce7-86cc4dbd767c_1181x577.png 848w, https://substackcdn.com/image/fetch/$s_!0t3e!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F665ef4f2-841b-4cd7-9ce7-86cc4dbd767c_1181x577.png 1272w, https://substackcdn.com/image/fetch/$s_!0t3e!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F665ef4f2-841b-4cd7-9ce7-86cc4dbd767c_1181x577.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!0t3e!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F665ef4f2-841b-4cd7-9ce7-86cc4dbd767c_1181x577.png" width="1181" height="577" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/665ef4f2-841b-4cd7-9ce7-86cc4dbd767c_1181x577.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:577,&#34;width&#34;:1181,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!0t3e!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F665ef4f2-841b-4cd7-9ce7-86cc4dbd767c_1181x577.png 424w, https://substackcdn.com/image/fetch/$s_!0t3e!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F665ef4f2-841b-4cd7-9ce7-86cc4dbd767c_1181x577.png 848w, https://substackcdn.com/image/fetch/$s_!0t3e!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F665ef4f2-841b-4cd7-9ce7-86cc4dbd767c_1181x577.png 1272w, https://substackcdn.com/image/fetch/$s_!0t3e!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F665ef4f2-841b-4cd7-9ce7-86cc4dbd767c_1181x577.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><p>Cluster 1 is worse at controlling latency despite having more bandwidth on tap. It’s unexpected after testing AMD’s GMI-Wide setup, where higher off-cluster bandwidth translated to better latency control under high bandwidth load.</p><p>Loading cores across both clusters shows GB10 maintaining lower latency than Strix Halo over the achieved bandwidth range. GB10’s combination of lower baseline latency and high external bandwidth from Cluster 1 put it well ahead.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!gOfH!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc206f5d7-d764-4be6-9182-e46e013faba5_1238x735.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!gOfH!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc206f5d7-d764-4be6-9182-e46e013faba5_1238x735.png 424w, https://substackcdn.com/image/fetch/$s_!gOfH!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc206f5d7-d764-4be6-9182-e46e013faba5_1238x735.png 848w, https://substackcdn.com/image/fetch/$s_!gOfH!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc206f5d7-d764-4be6-9182-e46e013faba5_1238x735.png 1272w, https://substackcdn.com/image/fetch/$s_!gOfH!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc206f5d7-d764-4be6-9182-e46e013faba5_1238x735.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!gOfH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc206f5d7-d764-4be6-9182-e46e013faba5_1238x735.png" width="1238" height="735" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/c206f5d7-d764-4be6-9182-e46e013faba5_1238x735.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:735,&#34;width&#34;:1238,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!gOfH!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc206f5d7-d764-4be6-9182-e46e013faba5_1238x735.png 424w, https://substackcdn.com/image/fetch/$s_!gOfH!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc206f5d7-d764-4be6-9182-e46e013faba5_1238x735.png 848w, https://substackcdn.com/image/fetch/$s_!gOfH!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc206f5d7-d764-4be6-9182-e46e013faba5_1238x735.png 1272w, https://substackcdn.com/image/fetch/$s_!gOfH!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc206f5d7-d764-4be6-9182-e46e013faba5_1238x735.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><p>Throwing GB10’s iGPU into the mix presents an additional challenge. Increasing bandwidth demands from the iGPU drive up CPU-side latency, much like on Strix Halo. GB10 enjoys better baseline DRAM latency than Strix Halo, and maintains better latency at modest GPU bandwidth demands.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!7f7W!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17c313bb-00b3-45a8-a6a1-4242d3ca5fb2_1497x728.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!7f7W!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17c313bb-00b3-45a8-a6a1-4242d3ca5fb2_1497x728.png 424w, https://substackcdn.com/image/fetch/$s_!7f7W!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17c313bb-00b3-45a8-a6a1-4242d3ca5fb2_1497x728.png 848w, https://substackcdn.com/image/fetch/$s_!7f7W!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17c313bb-00b3-45a8-a6a1-4242d3ca5fb2_1497x728.png 1272w, https://substackcdn.com/image/fetch/$s_!7f7W!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17c313bb-00b3-45a8-a6a1-4242d3ca5fb2_1497x728.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!7f7W!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17c313bb-00b3-45a8-a6a1-4242d3ca5fb2_1497x728.png" width="1456" height="708" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/17c313bb-00b3-45a8-a6a1-4242d3ca5fb2_1497x728.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:708,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!7f7W!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17c313bb-00b3-45a8-a6a1-4242d3ca5fb2_1497x728.png 424w, https://substackcdn.com/image/fetch/$s_!7f7W!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17c313bb-00b3-45a8-a6a1-4242d3ca5fb2_1497x728.png 848w, https://substackcdn.com/image/fetch/$s_!7f7W!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17c313bb-00b3-45a8-a6a1-4242d3ca5fb2_1497x728.png 1272w, https://substackcdn.com/image/fetch/$s_!7f7W!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F17c313bb-00b3-45a8-a6a1-4242d3ca5fb2_1497x728.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><p>However, GB10 does let high GPU bandwidth demands squeeze out the CPU. Latency from the CPU side goes beyond 351 ns with the GPU pulling 231 GB/s.</p><p>I only generate bandwidth load from the GPU in the test above, and run a single CPU latency test thread. Mixing high CPU and GPU bandwidth demands makes the situation more complicated.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!XOSw!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda74f114-d3ff-4804-aa9f-e5d4d0bf4f5f_1413x733.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!XOSw!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda74f114-d3ff-4804-aa9f-e5d4d0bf4f5f_1413x733.png 424w, https://substackcdn.com/image/fetch/$s_!XOSw!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda74f114-d3ff-4804-aa9f-e5d4d0bf4f5f_1413x733.png 848w, https://substackcdn.com/image/fetch/$s_!XOSw!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda74f114-d3ff-4804-aa9f-e5d4d0bf4f5f_1413x733.png 1272w, https://substackcdn.com/image/fetch/$s_!XOSw!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda74f114-d3ff-4804-aa9f-e5d4d0bf4f5f_1413x733.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!XOSw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda74f114-d3ff-4804-aa9f-e5d4d0bf4f5f_1413x733.png" width="1413" height="733" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/da74f114-d3ff-4804-aa9f-e5d4d0bf4f5f_1413x733.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:733,&#34;width&#34;:1413,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!XOSw!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda74f114-d3ff-4804-aa9f-e5d4d0bf4f5f_1413x733.png 424w, https://substackcdn.com/image/fetch/$s_!XOSw!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda74f114-d3ff-4804-aa9f-e5d4d0bf4f5f_1413x733.png 848w, https://substackcdn.com/image/fetch/$s_!XOSw!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda74f114-d3ff-4804-aa9f-e5d4d0bf4f5f_1413x733.png 1272w, https://substackcdn.com/image/fetch/$s_!XOSw!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fda74f114-d3ff-4804-aa9f-e5d4d0bf4f5f_1413x733.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><p>With two X925 cores on cluster 1 pulling as much bandwidth as they can get their hands on, and the GPU doing the same, latency from the highest performance X925 core goes up to nearly 400 ns. Splitting out achieved bandwidth from the CPU and GPU further shows the GPU squeezing out the CPU bandwidth test threads.</p><p>Memory accesses typically traverse the cache hierarchy in a vertical fashion, where cache misses at one level go through to a lower level. However, the memory subsystem may have to carry out transfers between caches at the same level in order to maintain cache coherency. Doing so can be rather complex. The memory subsystem has to determine which peer cache, if any, might have a more up-to-date copy of a line. Arm’s DSU-120 has a Snoop Control Unit, which uses snoop filters to orchestrate peer-to-peer cache transfers within a core complex. Nvidia/Mediatek’s High Performance Coherent Fabric is responsible for maintaining coherency across clusters.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!A5OR!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F99c6035b-23f2-401d-8ee1-582b1c7424da_1555x749.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!A5OR!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F99c6035b-23f2-401d-8ee1-582b1c7424da_1555x749.png 424w, https://substackcdn.com/image/fetch/$s_!A5OR!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F99c6035b-23f2-401d-8ee1-582b1c7424da_1555x749.png 848w, https://substackcdn.com/image/fetch/$s_!A5OR!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F99c6035b-23f2-401d-8ee1-582b1c7424da_1555x749.png 1272w, https://substackcdn.com/image/fetch/$s_!A5OR!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F99c6035b-23f2-401d-8ee1-582b1c7424da_1555x749.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!A5OR!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F99c6035b-23f2-401d-8ee1-582b1c7424da_1555x749.png" width="1456" height="701" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/99c6035b-23f2-401d-8ee1-582b1c7424da_1555x749.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:701,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!A5OR!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F99c6035b-23f2-401d-8ee1-582b1c7424da_1555x749.png 424w, https://substackcdn.com/image/fetch/$s_!A5OR!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F99c6035b-23f2-401d-8ee1-582b1c7424da_1555x749.png 848w, https://substackcdn.com/image/fetch/$s_!A5OR!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F99c6035b-23f2-401d-8ee1-582b1c7424da_1555x749.png 1272w, https://substackcdn.com/image/fetch/$s_!A5OR!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F99c6035b-23f2-401d-8ee1-582b1c7424da_1555x749.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><p>GB10’s cluster boundaries are clearly visible with a coloring scheme applied across all result points. Results within each cluster are also far from uniform. Setting separate color schemes for intra-cluster and cross-cluster points highlights this. X925 cores in general give better intra-cluster latency results. Best case latencies involve transfers between X925 cores in the same cluster. Worst case latencies show up between A725 cores on different clusters, and can reach 240 ns.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!LvCb!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7bd7a5f-65d0-4953-96e7-8c996ca18141_1555x749.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!LvCb!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7bd7a5f-65d0-4953-96e7-8c996ca18141_1555x749.png 424w, https://substackcdn.com/image/fetch/$s_!LvCb!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7bd7a5f-65d0-4953-96e7-8c996ca18141_1555x749.png 848w, https://substackcdn.com/image/fetch/$s_!LvCb!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7bd7a5f-65d0-4953-96e7-8c996ca18141_1555x749.png 1272w, https://substackcdn.com/image/fetch/$s_!LvCb!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7bd7a5f-65d0-4953-96e7-8c996ca18141_1555x749.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!LvCb!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7bd7a5f-65d0-4953-96e7-8c996ca18141_1555x749.png" width="1456" height="701" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/f7bd7a5f-65d0-4953-96e7-8c996ca18141_1555x749.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:701,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!LvCb!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7bd7a5f-65d0-4953-96e7-8c996ca18141_1555x749.png 424w, https://substackcdn.com/image/fetch/$s_!LvCb!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7bd7a5f-65d0-4953-96e7-8c996ca18141_1555x749.png 848w, https://substackcdn.com/image/fetch/$s_!LvCb!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7bd7a5f-65d0-4953-96e7-8c996ca18141_1555x749.png 1272w, https://substackcdn.com/image/fetch/$s_!LvCb!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Ff7bd7a5f-65d0-4953-96e7-8c996ca18141_1555x749.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><p>Compared to Strix Halo, GB10’s core-to-core latency figures are high overall. Strix Halo manages to keep cross-cluster latencies at around 100 ns. It’s worse than what AMD achieves on desktop parts, but is substantially better than the 200 ns seen on GB10. Within clusters, AMD keeps everything below 50 ns while GB10 only manages 50-60 ns in the best case.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/$s_!K8JY!,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F873abc2c-03b9-47e3-a223-6b838a8146b3_1600x758.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/$s_!K8JY!,w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F873abc2c-03b9-47e3-a223-6b838a8146b3_1600x758.png 424w, https://substackcdn.com/image/fetch/$s_!K8JY!,w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F873abc2c-03b9-47e3-a223-6b838a8146b3_1600x758.png 848w, https://substackcdn.com/image/fetch/$s_!K8JY!,w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F873abc2c-03b9-47e3-a223-6b838a8146b3_1600x758.png 1272w, https://substackcdn.com/image/fetch/$s_!K8JY!,w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F873abc2c-03b9-47e3-a223-6b838a8146b3_1600x758.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/$s_!K8JY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F873abc2c-03b9-47e3-a223-6b838a8146b3_1600x758.png" width="1456" height="690" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/873abc2c-03b9-47e3-a223-6b838a8146b3_1600x758.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:690,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null,&#34;isProcessing&#34;:false,&#34;align&#34;:null,&#34;offset&#34;:false}" alt="" srcset="https://substackcdn.com/image/fetch/$s_!K8JY!,w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F873abc2c-03b9-47e3-a223-6b838a8146b3_1600x758.png 424w, https://substackcdn.com/image/fetch/$s_!K8JY!,w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F873abc2c-03b9-47e3-a223-6b838a8146b3_1600x758.png 848w, https://substackcdn.com/image/fetch/$s_!K8JY!,w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F873abc2c-03b9-47e3-a223-6b838a8146b3_1600x758.png 1272w, https://substackcdn.com/image/fetch/$s_!K8JY!,w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F873abc2c-03b9-47e3-a223-6b838a8146b3_1600x758.png 1456w" sizes="100vw" loading="lazy"/></picture><div></div></div></a></figure></div><p>GB10’s CPU setup feels very density optimized compared to Strix Halo’s.GB10 has 20 CPU cores to Strix Halo’s 16, and gets there using a highly heterogeneous CPU configuration that’s light on cache. My initial thought is that all else being equal, I would prefer 32 MB of fast cache in a single level over 16 MB of L3 and 16 MB of slower system level cache. That said, performance is a complicated topic and I’m still working on benchmarking both Strix Halo and GB10. GB10’s memory subsystem has bright points too. Its DRAM latency is outstanding for a LPDDR5X implementation. Mediatek has also seen fit to give one cluster over 100 GB/s of external read bandwidth, which is something AMD hasn’t done on any client design to date.</p><p>CPU-side bandwidth is another interesting detail, and has a lot of common traits across both chips. CPU cores can’t access full LPDDR5X bandwidth on both GB10 and Strix Halo. The 256-bit memory bus is aimed at feeding the GPU, not the CPU. High GPU bandwidth demands can squeeze out the CPU in both memory subsystems. Perhaps Nvidia/Meditek and AMD both optimized for workloads that don’t simultaneously demand high CPU and GPU performance.</p><p>I hope to see Nvidia and AMD continue to iterate on large iGPU designs. Products like GB10 and Strix Halo allow smaller form factors, and sidestep VRAM capacity issues that plague current discrete GPUs. They’re fascinating from an enthusiast point of view. Hopefully both companies will improve their designs and make them more affordable going forward.</p><p><span>Again, we’d like to thank Zach at ZeroOne for providing SSH access to his Spark. If you like the content then consider heading over to the </span><a href="https://www.patreon.com/ChipsandCheese" rel="">Patreon</a><span> or </span><a href="https://www.paypal.com/donate/?hosted_button_id=4EMPH66SBGVSQ" rel="">PayPal</a><span> if you want to toss a few bucks to Chips and Cheese, also consider joining the </span><a href="https://discord.gg/TwVnRhxgY2" rel="">Discord</a><span>. </span></p></div></div></div>
  </body>
</html>
