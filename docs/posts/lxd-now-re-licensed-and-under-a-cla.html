<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://stgraber.org/2023/12/12/lxd-now-re-licensed-and-under-a-cla/">Original</a>
    <h1>LXD now re-licensed and under a CLA</h1>
    
    <div id="readability-page-1" class="page"><div>
			    
<figure><a href="https://stgraber.org/wp-content/uploads/2023/12/image-1.png"><img fetchpriority="high" decoding="async" width="1024" height="512" src="data:image/svg+xml,%3Csvg%20xmlns=&#39;http://www.w3.org/2000/svg&#39;%20viewBox=&#39;0%200%201024%20512&#39;%3E%3C/svg%3E" data-src="https://stgraber.org/wp-content/uploads/2023/12/image-1-1024x512.png" alt="" data-srcset="https://stgraber.org/wp-content/uploads/2023/12/image-1-1024x512.png 1024w, https://stgraber.org/wp-content/uploads/2023/12/image-1-300x150.png 300w, https://stgraber.org/wp-content/uploads/2023/12/image-1-768x384.png 768w, https://stgraber.org/wp-content/uploads/2023/12/image-1.png 1200w" data-sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>



<h2>The facts</h2>



<p>As of earlier today, right before the release of <a href="https://discourse.ubuntu.com/t/lxd-5-20-has-been-released/40865" target="_blank" rel="noreferrer noopener">LXD 5.20</a>, Canonical made a couple of changes to LXD which are sure to have a serious impact to LXD users and downstream projects that integrate with LXD or provide solutions based on it.</p>



<p>The first is the re-licensing of LXD from the Apache2 license to the AGPLv3 license.</p>



<p>The second is the addition of the Canonical CLA as requirement for all further contributions.</p>



<h2>Disclaimer</h2>



<p>What’s below is my personal analysis of the situation, it is not legal advice, anyone affected is very strongly encouraged to seek proper legal advice from their counsel.</p>



<h2>Real license of LXD</h2>



<p>Per the commit message performing the re-licensing, all further contributions will be under the AGPLv3 license and all contributions from Canonical employees have been re-licensed to AGPLv3.</p>



<p>However, Canonical does not own the copyright on any contribution from non-employees, such as the many changes they have imported from Incus over the past few months. Those therefore remain under the Apache2 license that they were contributed under.</p>



<p>As a result, Canonical cannot release LXD under the AGPLv3 license and likely never will be able to.</p>



<p>This is likely to make it very “fun” for anyone performing licensing reviews to evaluate LXD for adoption in their environment.</p>



<h2>Impact to LXD users</h2>



<p>For LXD users, other than potentially triggering corporate policies that ban the use of AGPLv3 software (more common than one may think), the impact should be minimal. It’s still the same LXD and it’s still open source software.</p>



<p>However, if you were altering LXD in any way, then you will need to familiarize yourself with the AGPLv3 license as unlike Apache2, it does require any changes be made available under the AGPLv3 even if you don’t expose your users to your modified binaries. This is the main design characteristics of the AGPLv3 license, it was meant to force those operating modified versions of open source as a hosted service to share their modifications.</p>



<h2>Impact to downstreams (consumer of LXD Go packages)</h2>



<p>Up until now, all the Go packages of LXD were under the Apache2 license, that was fitting quite well in the Go ecosystem where the Apache2, BSDs and MIT licenses are very popular.</p>



<p>Now with this change, you need to realize that you may start to include/bundle AGPLv3 code within your own project. This a copyleft license and so may require re-licensing of your own project to comply with it.</p>



<p>Again, this is quite the can of worms, with my usual recommendation being “stay away”, but if you must use any of LXD’s Go packages, I’d strongly recommend talking to a lawyer to fully understand your exposure to that new license.</p>



<h2>Impact on Incus</h2>



<p>Now for what obviously impacts me the most, what this is going to do to Incus.</p>



<p>As a brief reminder <a href="https://github.com/lxc/incus" data-type="link" data-id="https://github.com/lxc/incus" target="_blank" rel="noreferrer noopener">Incus</a> is a fork of LXD which was started in August 2023.</p>



<p>This change from Canonical is going to be causing two unfortunate side effects:</p>



<ul>
<li>Incus will no longer be including changes originating from LXD as that would require us to include AGPLv3 code into our codebase and so get us into the same mixed license mess as LXD now put itself. This is obviously unacceptable to us, we very much like licensing clarity and quite enjoy the Apache2 license.</li>



<li>LXD will similarly no longer be able to take changes from Incus, as those are going to remain under the Apache2 license and more importantly, will not have been released under the Canonical CLA.</li>
</ul>



<p>To enforce that second part, the tooling we’ve been using thus far to monitor LXD changes and automatically backport them to Incus will be used to detect any changes to LXD which originated from Incus. Unless the author gave express consent for them to be released under a different license and under the Canonical CLA, those changes should not be included in LXD.</p>



<p>Incus is also a consumer of the LXD Go API in the <code>lxd-to-incus</code> tool. Thankfully, we have no need for anything recent in there, so will simply be making sure that we never import code past the licensing change.</p>



<h2>Conclusion</h2>



<p>Overall, I’m very disappointed, although absolutely not surprised in seeing this change happen.</p>



<p>But it’s also a very odd move by Canonical as it puts LXD into a problematic grey area as far as its true license is concerned which will likely seriously hurt its adoption both by companies and distributions.</p>



<p>In any case, I’d urge anyone who has concerns about this change to reach out to their legal representation and maybe consider switching over to Incus where we will happily keep releasing our CLA-free Apache2 licensed fork of this once great project.</p>



<h2>Update <a rel="tag" href="https://stgraber.org/tag/1/">#1</a></h2>



<p>I’ve seen a number of people point out that Apache2 is compatible with the AGPLv3 and that’s certainly correct, however compatibility doesn’t mean that the code in question suddenly becomes AGPLv3, it means that it can be included in an AGPLv3 project. So I’d still expect there to be good tracking of the license of the individual files / code chunks so that someone can tell whether a particular piece of code is AGPLv3 or Apache2, this is currently not possible.</p>



<p>The <a href="https://github.com/canonical/lxd/blob/main/AUTHORS" target="_blank" rel="noreferrer noopener">code</a> mentions headers (probably SPDX) to be present whenever code isn’t AGPLv3, but no such headers were introduced at time of writing.</p>



<p>The announcement also very specifically spells out that past contributions are not being re-licensed and therefore remain under the Apache2 license, though again, there is currently no way to identify what contributions that is. So this still leads to LXD now being a mix of AGPLv3 and Apache2 with no way to figure out which is which.</p>



<p>All that’s known for sure is that all new contributions are to be under AGPLv3 and must be from copyright holders (author or employer) who has signed the Canonical CLA. Those two will preclude the inclusion of any Incus code in LXD moving forward.</p>
			    			</div></div>
  </body>
</html>
