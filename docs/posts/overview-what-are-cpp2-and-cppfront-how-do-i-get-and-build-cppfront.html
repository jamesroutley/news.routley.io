<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://hsutter.github.io/cppfront/">Original</a>
    <h1>Overview: What are Cpp2 and cppfront? How do I get and build cppfront?</h1>
    
    <div id="readability-page-1" class="page"><div data-md-component="container">
      
      
        
          
        
      
      <main data-md-component="main">
        <div>
          
            
              
              
            
            
              
              
            
          
          
            <div data-md-component="content">
              <article>
                
                  



<div><p><span>hello.cpp2</span></p><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span>main</span><span>:</span><span> </span><span>()</span><span> </span><span>=</span><span> </span><span>{</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span>    </span><span>std</span><span>::</span><span>cout</span><span> </span><span>&lt;&lt;</span><span> </span><span>&#34;Hello, world!</span><span>\n</span><span>&#34;</span><span>;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span>}</span>
</code></pre></div>
<h2 id="what-is-cpp2"><a id="what-is-cpp2"></a> What is Cpp2?</h2>
<p>&#34;Cpp2,&#34; short for &#34;C++ syntax 2,&#34; is my (<a href="https://github.com/hsutter">Herb Sutter&#39;s</a>) personal project to try to make writing ordinary C++ types/functions/objects be much <strong>simpler and safer</strong>, without breaking backward compatibility.</p>
<p><strong>What it isn&#39;t.</strong> Cpp2 is not a successor or alternate language with its own divergent or incompatible ecosystem. For example, it does not have its own nonstandard incompatible modules/concepts/etc. that compete with the Standard C++ features; it does not replace your Standard C++ compiler or other tools; and it does not require any changes to your Standard C++ compiler or standard library or other libraries or tools to keep fully using all of them.</p>
<p><strong>What it is.</strong> Cpp2 aims to be another &#34;skin&#34; for C++ itself, just a simpler and safer way to write ordinary C++ types/functions/objects, and a faster way to experiment with proposals for future new Standard C++ features in a simpler compiler and syntax flavor. It seamlessly uses Standard C++ modules and concepts requirements and other features, and it works with all existing C++20 or higher compilers and libraries and tools right out of the box with no changes required to use them all seamlessly and directly with zero overhead.</p>
<p>Bjarne Stroustrup said it best:</p>
<blockquote>
<p>&#34;Inside C++, there is a much smaller and cleaner language struggling to get out.&#34; </p>
<p>&#34;Say 10% of the size of C++ in definition and similar in front-end compiler size. ... most of the simplification would come from generalization.&#34; </p>
</blockquote>
<p><strong>My goal is to try to prove that Stroustrup is right:</strong> that it&#39;s possible and desirable to have true C++ with all its expressive power and control and with full backward compatibility, but in a flavor that&#39;s 10x simpler with fewer quirks and special cases to remember, <sup id="fnref:simpler"><a href="#fn:simpler">1</a></sup> and 50x safer where it&#39;s far easier to not write security bugs by accident.</p>
<p>We can&#39;t make an improvement that large to C++ via gradual evolution to today&#39;s syntax, because some important changes would require changing the meaning of code written in today&#39;s syntax. For example, we can never change a language feature default in today&#39;s syntax, not even if the default creates a security vulnerability pitfall, because changing a default would break vast swathes of existing code. Having a distinct alternative syntax gives us a &#34;bubble of new code&#34; that doesn&#39;t exist today, and have:</p>
<ul>
<li>
<p><strong>Freedom to make any desired improvement, without breaking any of today&#39;s code.</strong> Cpp2 is designed to take all the consensus C++ best-practices guidance we already teach, and make them the default when using &#34;syntax 2.&#34; Examples: Writing unsafe type casts is just not possible in Cpp2 syntax; and Cpp2 can change language defaults to make them simpler and safer. You can always &#34;break the glass&#34; when needed to violate the guidance, but you have to opt out explicitly to write unsafe code, so if the program has a bug you can grep for those places to look at first. For details, see <a href="https://github.com/hsutter/cppfront/wiki/Design-note%3A-Unsafe-code">Design note: unsafe code</a>.</p>
</li>
<li>
<p><strong>Perfect link compatibility always on, perfect source compatibility always available (but you pay for it only if you use it).</strong> Any type/function/object/namespace written in either syntax is always still just a normal C++ type/function/object/namespace, so any code or library written in either Cpp2 or today&#39;s C++ syntax (&#34;Cpp1&#34; for short) can seamlessly call each other, with no wrapping/marshaling/thunking. You can write a &#34;mixed&#34; source file that has both Cpp2 and Cpp1 code and get perfect backward C++ source compatibility (even SFINAE and macros), or you can write a &#34;pure&#34; all-Cpp2 source file and write code in a 10x simpler syntax.</p>
</li>
</ul>
<h2 id="what-is-cppfront"><a id="what-is-cppfront"></a> What is cppfront?</h2>
<p><a href="https://github.com/hsutter/cppfront"><strong>Cppfront</strong></a> is a compiler that compiles Cpp2 syntax to today&#39;s Cpp1 syntax. This lets you start trying out Cpp2 syntax in any existing C++ project and build system just by renaming a source file from <code>.cpp</code> to <code>.cpp2</code> and <a href="#adding-cppfront-in-your-ide-build-system">adding a build step</a>, and the result Just Works with every C++20 or higher compiler and all existing C++ tools (debuggers, build systems, sanitizers, etc.).</p>
<p>This deliberately follows Bjarne Stroustrup&#39;s wise approach with <a href="https://en.wikipedia.org/wiki/Cfront"><strong>cfront</strong></a>, the original C++ compiler: In the 1980s and 1990s, Stroustrup created cfront to translate C++ to pure C, and similarly ensured that C++ could be interleaved with C in the same source file, and that C++ could always call any C code with no wrapping/marshaling/thunking. By providing a C++ compiler that emitted pure C, Stroustrup ensured full compatibility with the C ecosystems that already existed, and made it easy for people to start trying out C++ code in any existing C project by adding just another build step to translate the C++ to C first, and the result Just Worked with existing C tools.</p>
<h2 id="how-do-i-get-and-build-cppfront"><a id="build-cppfront"></a> How do I get and build cppfront?</h2>
<p>The full source code for cppfront is at the <a href="https://github.com/hsutter/cppfront"><strong>Cppfront GitHub repo</strong></a>.</p>
<p>Cppfront builds with any recent C++ compiler. Go to the <code>/cppfront/source</code> directory, and run one of the following:</p>
<p><img width="120" src="https://user-images.githubusercontent.com/1801526/188906112-ef377a79-b6a9-4a30-b318-10b51d8ea934.png"/></p>
<div><p><span>MSVC build instructions (Visual Studio 2019 version 16.11 or higher)</span></p><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>cl<span> </span>cppfront.cpp<span> </span>-std:c++20<span> </span>-EHsc
</code></pre></div>
<div><p><span>GCC build instructions (GCC 10 or higher)</span></p><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>g++<span> </span>cppfront.cpp<span> </span>-std<span>=</span>c++20<span> </span>-o<span> </span>cppfront
</code></pre></div>
<div><p><span>Clang build instructions (Clang 12 or higher)</span></p><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>clang++<span> </span>cppfront.cpp<span> </span>-std<span>=</span>c++20<span> </span>-o<span> </span>cppfront
</code></pre></div>
<p>That&#39;s it!</p>
<h3 id="next-hello-world">âž¤ Next: <a href="https://hsutter.github.io/cppfront/welcome/hello-world/">Hello, world!</a></h3>













                
              </article>
            </div>
          
          
  


        </div>
        
          
        
      </main>
      
        
      
    </div></div>
  </body>
</html>
