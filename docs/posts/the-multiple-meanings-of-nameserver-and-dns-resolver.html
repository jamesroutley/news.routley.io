<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://jvns.ca/blog/2022/02/14/some-dns-terminology/">Original</a>
    <h1>The multiple meanings of &#34;nameserver&#34; and &#34;DNS resolver&#34;</h1>
    
    

<p>I&rsquo;m working on a zine about DNS right now, so I&rsquo;ve been thinking about DNS
terminology a lot more than a normal person. Here&rsquo;s something slightly
confusing I&rsquo;ve noticed about DNS terminology!</p>

<p>Two of the most common DNS server terms (&ldquo;nameserver&rdquo; and &ldquo;DNS resolver&rdquo;)
have different meanings depending on the situation.</p>

<p>Now this isn&rsquo;t a problem if you already understand how DNS works &ndash; I can
easily figure out what type of &ldquo;nameserver&rdquo; is being discussed based on
context.</p>

<p>But it can be a problem if you&rsquo;re trying to learn how DNS works and you don&rsquo;t
realize that those words might refer to different things depending on the
context &ndash; it&rsquo;s confusing! So I&rsquo;m going to explain the different possible
meanings and how to figure out which meaning is intended.</p>

<h3 id="the-2-meanings-of-nameserver">the 2 meanings of &ldquo;nameserver&rdquo;</h3>

<p>There are 2 types of nameservers, and which one the term &ldquo;nameserver&rdquo; means
depends on the context.</p>

<p><strong>Meaning 1: &ldquo;authoritative&rdquo; nameservers</strong></p>

<p>When you update the DNS records for a domain, those records are stored on a
server called an <strong>authoritative nameserver</strong>.</p>

<p>This is what &ldquo;nameserver&rdquo; means in the context of a <strong>specific domain</strong>. Here are a few examples:</p>

<ul>
<li>&ldquo;Connect a domain you already own to Wix by changing its <em>name servers</em>.&rdquo;</li>
<li>&ldquo;Almost all domains rely on multiple <em>nameservers</em> to increase reliability:
if one nameserver goes down or is unavailable, DNS queries can go to
another one.&rdquo;</li>
<li>&ldquo;You can update the <em>nameserver</em> records yourself by following the steps
your domain registrar may provide in the help content at their website&rdquo;</li>
</ul>

<p><strong>Meaning 2. &ldquo;recursive&rdquo; nameservers, also known as &ldquo;DNS resolvers&rdquo;</strong></p>

<p>These servers cache DNS records. Your browser doesn&rsquo;t make a request to an
authoritative nameserver directly. Instead it makes a request to a DNS resolver (aka recursive nameserver)
which figures out what the right authoritative nameserver to talk to is, gets
the record, and caches the result.</p>

<p>This is what &ldquo;nameserver&rdquo; means in the context of <strong>you browsing the internet</strong>.
(&ldquo;your computer&rsquo;s nameservers&rdquo;). Here are a few examples:</p>

<ul>
<li>&ldquo;Changing <em>nameservers</em> can be a pain on some devices and require multiple
clicks through a user interface. On Windows 10, for example&hellip;&rdquo;</li>
<li>&ldquo;Are your DNS <em>nameservers</em> impeding your Internet experience? NEW RELEASE
adds nameservers  1.1.1.1,  1.0.0.1  and  9.9.9.9&rdquo;</li>
<li>&ldquo;Configure your network settings to use the IP addresses 8.8.8.8 and 8.8.4.4 as your DNS servers&rdquo;</li>
</ul>

<p>I prefer to use the term &ldquo;DNS resolver&rdquo; even though it has 2 meanings because
it&rsquo;s much more commonly used than &ldquo;recursive nameserver&rdquo;.</p>

<h3 id="meanings-of-dns-resolver">meanings of &ldquo;DNS resolver&rdquo;</h3>

<p>A DNS resolver can either be a library or a server. (I&rsquo;m sorry, I know I said
that a DNS resolver is a server earlier. But sometimes it&rsquo;s a library.)</p>

<p><strong>Meaning 1a: &ldquo;stub resolver&rdquo; (library version)</strong></p>

<p>A &ldquo;stub resolver&rdquo; is something (it can be either a library or a DNS server)
which doesn&rsquo;t know how to resolve DNS names itself, it&rsquo;s just in charge of
forwarding DNS queries to the &ldquo;real&rdquo; DNS resolver. Let&rsquo;s talk about stub resolvers that are libraries first.</p>

<p>For example, the <code>getaddrinfo</code> function from libc doesn&rsquo;t know how to look up
DNS records itself, it just knows to look in <code>/etc/resolv.conf</code> and forward the
query to whatever DNS server(s) it finds there.</p>

<p>How you can tell if this is what&rsquo;s meant: if it&rsquo;s part of your computer&rsquo;s
operating system and/or if it&rsquo;s a library, it&rsquo;s a stub resolver.</p>

<p>Examples of this meaning of &ldquo;DNS resolver&rdquo;:</p>

<ul>
<li>&ldquo;The <em>resolver</em> is a set of routines in the C library that provide access to
the Internet Domain Name System (DNS)&rdquo;</li>
<li>&ldquo;These are the DNS servers used to resolve web addresses. You can list up to
three, and the <em>resolver</em> tries each of them, one by one, until it finds one
that works.&rdquo;</li>
<li>&ldquo;If the command succeeds, you will receive the following message &ldquo;Successfully flushed the <em>DNS Resolver</em> Cache.&ldquo;&rdquo;</li>
</ul>

<p><strong>Meaning 1b: &ldquo;stub resolver&rdquo; (server version)</strong></p>

<p>Stub resolvers aren&rsquo;t always libraries though, like <code>systemd-resolved</code> and
<code>dnsmasq</code> are stub resolvers but they&rsquo;re servers. Your router might be running
<code>dnsmasq</code>.</p>

<p>This is also known as a &ldquo;DNS forwarder&rdquo;.</p>

<p>How you can tell if this is what&rsquo;s meant: if your router is running it or it&rsquo;s
part of your OS, it&rsquo;s probably a stub resolver.</p>

<p><strong>Meaning 2: a recursive nameserver (a server)</strong></p>

<p>A &ldquo;recursive nameserver&rdquo; (like we talked about before) is a server that knows
how to find the authoritative nameservers for a domain. This is the kind of DNS resolver I was talking about in this <a href="https://jvns.ca/blog/2022/02/01/a-dns-resolver-in-80-lines-of-go/">A toy DNS resolver</a>
post a couple of weeks ago (though mine wasn&rsquo;t a server).</p>

<p>How to tell if this is what&rsquo;s meant: if it&rsquo;s <code>unbound</code>, <code>bind</code>, 8.8.8.8,
1.1.1.1, or run by your ISP, then it&rsquo;s a recursive nameserver.</p>

<p>Examples of this meaning of &ldquo;DNS resolver&rdquo;:</p>

<ul>
<li>&ldquo;The DNS Resolver in pfSenseÂ® software utilizes unbound, which is a
validating, recursive, caching <em>DNS resolver</em>&hellip;&rdquo;</li>
<li>&ldquo;We invite you to try Google Public DNS as your primary or secondary <em>DNS resolver</em>&hellip;&rdquo;</li>
<li>&ldquo;I work for a reasonably large mobile service provider and we are in the process of implementing our own <em>DNS resolver</em>&hellip;&rdquo;</li>
</ul>

<h3 id="the-most-popular-dns-server-words">the most popular DNS server words</h3>

<p>I also did a quick unscientific survey of which terms to refer to DNS servers
were the most common by counting Google results. Here&rsquo;s what I found:</p>

<ul>
<li>dns server: 8,000,000</li>
<li>nameserver: 4,200,000</li>
<li>dns resolver: 933,000</li>
<li>public DNS server: 204,000</li>
<li>root nameserver: 42,000</li>
<li>recursive resolver: 38,500</li>
<li>stub resolver: 26,100</li>
<li>authoritative nameserver: 17,000</li>
<li>dns resolution service: 9,450</li>
<li>TLD nameserver: 7,500</li>
<li>dns recursor: 5,300</li>
<li>recursive nameserver: 5,060</li>
</ul>

<p>Basically what this tells me is that by a pretty big margin, the most popular
words used when talking about DNS serves are &ldquo;nameserver&rdquo;, and &ldquo;DNS resolver&rdquo;.</p>

<p>The more specific terms like &ldquo;recursive nameserver&rdquo;, &ldquo;authoritative
nameserver&rdquo;, and &ldquo;stub resolver&rdquo; are much less common.</p>

<h3 id="that-s-all">that&rsquo;s all!</h3>

<p>I hope this helps some folks understand what these words mean! The terminology
is a bit messier than I&rsquo;d like, but it seems better to me to explain it than to
use less-ambiguous language that isn&rsquo;t as commonly used in practice.</p>

  </body>
</html>
