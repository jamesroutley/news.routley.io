<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/h2337/connmap">Original</a>
    <h1>Show HN: X11 desktop widget that shows location of your network peers on a map</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/h2337/connmap/refs/heads/master/logo.svg"><img src="https://raw.githubusercontent.com/h2337/connmap/refs/heads/master/logo.svg"/></a></p>

<p dir="auto">connmap is an X11 desktop widget that shows location of your current network peers on a world map.
(Works on Wayland as well!)</p>
<p dir="auto"> 
  <a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/h2337/connmap/refs/heads/master/sample.png"><img src="https://raw.githubusercontent.com/h2337/connmap/refs/heads/master/sample.png"/></a>
</p>

<p dir="auto">Clone the repository <code>git clone https://github.com/h2337/connmap --depth 1</code>, install the dependencies (see below), run <code>make install</code>, then run the resulting executable <code>./connmap.elf</code>.</p>
<p dir="auto">If you want to run it without attaching it to the terminal then add ampersand at the end of the command: <code>./connmal.elf &amp;</code>.</p>
<p dir="auto">You can also add it to your i3wm config to run at startup (make sure it is in the PATH):</p>
<div data-snippet-clipboard-copy-content="exec --no-startup-id connmap.elf"><pre><code>exec --no-startup-id connmap.elf
</code></pre></div>

<p dir="auto">Build dependencies: <code>xlib</code>, <code>libxext</code>, <code>libxfixes</code>, <code>libcairo2</code></p>
<p dir="auto">Installation dependencies: <code>unzip</code></p>
<p dir="auto">Runtime dependencies: <code>iproute2</code></p>
<p dir="auto">Installation for Arch Linux:</p>
<div data-snippet-clipboard-copy-content="sudo pacman -S --needed iproute2 libx11 libxext libxfixes cairo unzip"><pre><code>sudo pacman -S --needed iproute2 libx11 libxext libxfixes cairo unzip
</code></pre></div>
<p dir="auto">Installation for Ubuntu:</p>
<div data-snippet-clipboard-copy-content="sudo apt install iproute2 libx11-dev libxext-dev libxfixes-dev libcairo2-dev unzip"><pre><code>sudo apt install iproute2 libx11-dev libxext-dev libxfixes-dev libcairo2-dev unzip
</code></pre></div>

<p dir="auto">Installation will create <code>~/.config/connmap/connmaprc</code>. Default <code>connmaprc</code> looks like this:</p>
<div data-snippet-clipboard-copy-content="location_x 20
location_y 500
map_width 1000
black false
update_interval 1"><pre><code>location_x 20
location_y 500
map_width 1000
black false
update_interval 1
</code></pre></div>
<ul dir="auto">
<li>
<p dir="auto"><code>location_x</code>/<code>location_y</code> specifies the initial widget location in your desktop (you can later drag/drop the widget with mouse if you are not using a desktop environment that treats mouse drag as multi-select).</p>
</li>
<li>
<p dir="auto"><code>map_width</code> specifies the custom pixel width of the map. Height is automatically calculated as width/2. Examples:</p>
<ul dir="auto">
<li><code>map_width 500</code> creates a 500×250px map</li>
<li><code>map_width 1000</code> creates a 1000×500px map</li>
<li><code>map_width 1500</code> creates a 1500×750px map</li>
<li><code>map_width 2000</code> creates a 2000×1000px map</li>
</ul>
</li>
<li>
<p dir="auto">Setting <code>black</code> to true will draw map outline in black instead of white.</p>
</li>
<li>
<p dir="auto"><code>update_interval</code> is seconds the application will sleep for before fetching the updated list of network connections.</p>
</li>
</ul>

<ul dir="auto">
<li>
<p dir="auto">Tested only with i3wm, might not work as expected in other DE/WM.</p>
</li>
<li>
<p dir="auto">Only IPv4 is supported.</p>
</li>
</ul>
</article></div></div>
  </body>
</html>
