<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/adhocteam/pushup">Original</a>
    <h1>Pushup: a new compiler for making web apps in Go</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/adhocteam/pushup/actions/workflows/go.yml/badge.svg"><img src="https://github.com/adhocteam/pushup/actions/workflows/go.yml/badge.svg" alt="workflow status"/></a>
<a href="https://bytes.zone/adhocteam/pushup/blob/main/code_of_conduct.md"><img src="https://camo.githubusercontent.com/966523edeac6e0c8fc3afeb347df2aaccd7407c0885946e96aa3c5297ebecb59/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f436f6e7472696275746f72253230436f76656e616e742d322e312d3462616161612e737667" alt="Contributor Covenant" data-canonical-src="https://img.shields.io/badge/Contributor%20Covenant-2.1-4baaaa.svg"/></a></p>
<h2 dir="auto"><a id="user-content-project-status" aria-hidden="true" href="#project-status"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Project status</h2>
<p dir="auto">Pushup is an experiment. In terms of the development life cycle, it should be considered <strong>preview</strong> pre-release software: it is largely functional, likely has significant bugs (including potential for data loss) and/or subpar performance, but is suitable for demos and testing. It has a decent unit test suite, including fuzzing test cases for the parser. Don&#39;t count on it for anything serious yet, and expect significant breaking changes.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://bytes.zone/adhocteam/pushup/blob/main/example-syntax-highlighting.png"><img src="https://bytes.zone/adhocteam/pushup/raw/main/example-syntax-highlighting.png" alt="screenshot of syntax highlighting of an example Pushup page"/></a></p>
<ul dir="auto">
<li><a href="#pushup---a-page-oriented-web-framework-for-go">Pushup - a page-oriented web framework for Go</a>
<ul dir="auto">
<li><a href="#what-is-pushup">What is Pushup?</a>
<ul dir="auto">
<li><a href="#pages-in-pushup">Pages in Pushup</a></li>
</ul>
</li>
<li><a href="#getting-started">Getting started</a>
<ul dir="auto">
<li><a href="#installing-pushup">Installing Pushup</a>
<ul dir="auto">
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#install-an-official-release">Install an official release</a></li>
<li><a href="#install-via-git">Install via git</a></li>
<li><a href="#install-via-go-install">Install via <code>go install</code></a></li>
</ul>
</li>
<li><a href="#creating-a-new-pushup-project">Creating a new Pushup project</a></li>
</ul>
</li>
<li><a href="#example-demo-app">Example demo app</a></li>
<li><a href="#go-modules-and-pushup-projects">Go modules and Pushup projects</a></li>
<li><a href="#project-directory-structure">Project directory structure</a></li>
<li><a href="#pages">Pages</a></li>
<li><a href="#layouts">Layouts</a></li>
<li><a href="#static-media">Static media</a></li>
<li><a href="#file-based-routing">File-based routing</a>
<ul dir="auto">
<li><a href="#dynamic-routes">Dynamic routes</a></li>
</ul>
</li>
<li><a href="#enhanced-hypertext">Enhanced hypertext</a>
<ul dir="auto">
<li><a href="#inline-partials">Inline partials</a></li>
</ul>
</li>
<li><a href="#basic-web-framework-functionality">Basic web framework functionality</a>
<ul dir="auto">
<li><a href="#escaping">Escaping</a></li>
</ul>
</li>
<li><a href="#pushup-syntax">Pushup syntax</a>
<ul dir="auto">
<li><a href="#how-it-works">How it works</a></li>
<li><a href="#directives">Directives</a>
<ul dir="auto">
<li><a href="#import"><code>^import</code></a></li>
<li><a href="#layout"><code>^layout</code></a>
<ul dir="auto">
<li><a href="#layout----no-layout"><code>^layout !</code> - no layout</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#go-code-blocks">Go code blocks</a>
<ul dir="auto">
<li><a href="#"><code>^{</code></a></li>
<li><a href="#handler"><code>^handler</code></a></li>
</ul>
</li>
<li><a href="#control-flow-statements">Control flow statements</a>
<ul dir="auto">
<li><a href="#if"><code>^if</code></a></li>
<li><a href="#for"><code>^for</code></a></li>
</ul>
</li>
<li><a href="#expressions">Expressions</a>
<ul dir="auto">
<li><a href="#simple-expressions">Simple expressions</a></li>
<li><a href="#explicit-expressions">Explicit expressions</a></li>
</ul>
</li>
<li><a href="#layout-and-templates">Layout and templates</a>
<ul dir="auto">
<li><a href="#section"><code>^section</code></a></li>
<li><a href="#partial"><code>^partial</code></a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#vim-syntax-file">Vim syntax file</a></li>
</ul>
</li>
</ul>
<p dir="auto">Pushup is an experimental new project that is exploring the viability of a new
approach to web frameworks in Go.</p>
<p dir="auto">Pushup seeks to make building page-oriented, server-side web apps using Go
easy. It embraces the server, while acknowledging the reality of modern web
apps and their improvements to UI interactivity over previous generations.</p>
<h2 dir="auto"><a id="user-content-what-is-pushup" aria-hidden="true" href="#what-is-pushup"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>What is Pushup?</h2>
<p dir="auto">Pushup is a program that compiles projects developed with the Pushup markup
language into standalone web app servers.</p>
<p dir="auto">There are three main aspects to Pushup:</p>
<ol dir="auto">
<li>An opinionated project/app directory structure that enables <strong>file-based
routing</strong>,</li>
<li>A <strong>lightweight markup</strong> alternative to traditional web framework templates
that combines Go code for control flow and imperative, view-controller-like
code with HTML markup, and</li>
<li>A <strong>compiler</strong> that parses that markup and generates pure Go code,
building standalone web apps on top of the Go stdlib <code>net/http</code> package.</li>
</ol>
<h3 dir="auto"><a id="user-content-pages-in-pushup" aria-hidden="true" href="#pages-in-pushup"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Pages in Pushup</h3>
<p dir="auto">The core object in Pushup is the &#34;page&#34;: a file with the <code>.up</code> extension that
is a mix of HTML, Go code, and a lightweight markup language that glues them
together. Pushup pages participate in URL routing by virtue of their path in
the filesystem. Pushup pages are compiled into pure Go which is then built
along with a thin runtime into a standalone web app server (which is all
<code>net/http</code> under the hood).</p>
<p dir="auto">The main proposition motivating Pushup is that the page is the right level of
abstraction for most kinds of server-side web apps.</p>
<p dir="auto">The syntax of the Pushup markup language looks like this:</p>
<div data-snippet-clipboard-copy-content="
^import &#34;time&#34;

^{
    title := &#34;Hello, from Pushup!&#34;
}

&lt;h1&gt;^title&lt;/h1&gt;

&lt;p&gt;The time is now ^time.Now().String().&lt;/p&gt;

^if time.Now().Weekday() == time.Friday {
    &lt;p&gt;It&#39;s Friday! Enjoy the start to your weekend.&lt;/p&gt;
} ^else {
    &lt;p&gt;Have a great day, we&#39;re glad you&#39;re here.&lt;/p&gt;
}
"><pre lang="pushup"><code>
^import &#34;time&#34;

^{
    title := &#34;Hello, from Pushup!&#34;
}

&lt;h1&gt;^title&lt;/h1&gt;

&lt;p&gt;The time is now ^time.Now().String().&lt;/p&gt;

^if time.Now().Weekday() == time.Friday {
    &lt;p&gt;It&#39;s Friday! Enjoy the start to your weekend.&lt;/p&gt;
} ^else {
    &lt;p&gt;Have a great day, we&#39;re glad you&#39;re here.&lt;/p&gt;
}

</code></pre></div>
<p dir="auto">You would then place this code in a file somewhere in your <code>app/pages</code>
directory, like <code>hello.up</code>. The <code>.up</code> extension is important and tells
the compiler that it is a Pushup page. Once you build and run your Pushup app,
that page is automatically mapped to the URL path <code>/hello</code>.</p>
<h2 dir="auto"><a id="user-content-getting-started" aria-hidden="true" href="#getting-started"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Getting started</h2>
<p dir="auto">To make a new Pushup app, first install the main Pushup executable.</p>
<h3 dir="auto"><a id="user-content-installing-pushup" aria-hidden="true" href="#installing-pushup"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installing Pushup</h3>
<h4 dir="auto"><a id="user-content-prerequisites" aria-hidden="true" href="#prerequisites"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Prerequisites</h4>
<ul dir="auto">
<li>go 1.18 or later</li>
</ul>
<p dir="auto">Make sure the directory where the go tool installs executables is in your
<code>$PATH</code>. It is <code>$(go env GOPATH)/bin</code>. You can check if this is the case with:</p>
<div dir="auto" data-snippet-clipboard-copy-content="echo $PATH | grep $(go env GOPATH)/bin &gt; /dev/null &amp;&amp; echo yes || echo no"><pre><span>echo</span> <span>$PATH</span> <span>|</span> grep <span><span>$(</span>go env GOPATH<span>)</span></span>/bin <span>&gt;</span> /dev/null <span>&amp;&amp;</span> <span>echo</span> yes <span>||</span> <span>echo</span> no</pre></div>
<h4 dir="auto"><a id="user-content-install-an-official-release" aria-hidden="true" href="#install-an-official-release"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Install an official release</h4>
<p dir="auto">Download Pushup for your platform from <a href="https://github.com/adhocteam/pushup/releases">the releases page</a>.</p>
<h4 dir="auto"><a id="user-content-install-via-git" aria-hidden="true" href="#install-via-git"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Install via git</h4>
<div dir="auto" data-snippet-clipboard-copy-content="git clone git@github.com:AdHocRandD/pushup.git
cd pushup
make"><pre>git clone git@github.com:AdHocRandD/pushup.git
<span>cd</span> pushup
make</pre></div>
<h4 dir="auto"><a id="user-content-install-via-go-install" aria-hidden="true" href="#install-via-go-install"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Install via <code>go install</code></h4>
<p dir="auto">Make sure you have Go installed (at least version 1.18), and type:</p>
<div dir="auto" data-snippet-clipboard-copy-content="go install github.com/adhocteam/pushup@latest"><pre>go install github.com/adhocteam/pushup@latest</pre></div>
<h3 dir="auto"><a id="user-content-creating-a-new-pushup-project" aria-hidden="true" href="#creating-a-new-pushup-project"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Creating a new Pushup project</h3>
<p dir="auto">To create a new Pushup project, use the <code>pushup new</code> command.</p>

<p dir="auto">Without any additional arguments, it will attempt to create a scaffolded new
project in the current directory. However, the directory must be completely
empty, or the command will abort. To simulataneously make a new directory
and generate a scaffolded project, pass a relative path as argument:</p>

<p dir="auto">The scaffolded new project directory consists of a directory structure for
.up files and auxiliary project Go code, and a go.mod file.</p>
<p dir="auto">Change to the new project directory if necessary, then do a <code>pushup run</code>,
which compiles the Pushup project to Go code, builds the app, and starts up
the server.</p>

<p dir="auto">If all goes well, you should see a message on the terminal that the Pushup app
is running and listening on a port:</p>
<div data-snippet-clipboard-copy-content="↑↑ Pushup ready and listening on 0.0.0.0:8080 ↑↑"><pre><code>↑↑ Pushup ready and listening on 0.0.0.0:8080 ↑↑
</code></pre></div>
<p dir="auto">By default it listens on port 8080, but with the <code>-port</code> or <code>-unix-socket</code>
flags you can pick your own listener.</p>
<p dir="auto">Open <a href="http://localhost:8080/" rel="nofollow">http://localhost:8080/</a> in your browser to see
the default layout and a welcome index page.</p>
<h2 dir="auto"><a id="user-content-example-demo-app" aria-hidden="true" href="#example-demo-app"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Example demo app</h2>
<p dir="auto">See the <a href="https://bytes.zone/adhocteam/pushup/blob/main/example">example</a> directory for a demo Pushup app that demonstrates
many of the concepts in Pushup and implements a few small common patterns like
some HTMX examples and a simple CRUD app.</p>
<p dir="auto">Click on &#34;view source&#34; at the bottom of any page in the example app to see the
source of the .up page for that route, including the source of the &#34;view
source&#34; .up page itself. This is a good way to see how to write Pushup
syntax.</p>
<h2 dir="auto"><a id="user-content-go-modules-and-pushup-projects" aria-hidden="true" href="#go-modules-and-pushup-projects"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Go modules and Pushup projects</h2>
<p dir="auto">Pushup treats projects as their own self-contained Go module. The build
process assumes this is the case by default. But it is possible to include a
Pushup project as part of a parent Go module. See the the <code>-module</code> option to
<code>pushup new</code>, and the <code>-build-pkg</code> option to the <code>pushup run</code> command.</p>
<h2 dir="auto"><a id="user-content-project-directory-structure" aria-hidden="true" href="#project-directory-structure"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Project directory structure</h2>
<p dir="auto">Pushup projects have a particular directory structure that the compiler expects
before building. The most minimal Pushup project would look like:</p>
<div data-snippet-clipboard-copy-content="app
├── layouts
├── pages
│   └── index.up
├── pkg
└── static
go.mod"><pre><code>app
├── layouts
├── pages
│   └── index.up
├── pkg
└── static
go.mod
</code></pre></div>
<h2 dir="auto"><a id="user-content-pages" aria-hidden="true" href="#pages"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Pages</h2>
<p dir="auto">Pushup pages are the main units in Pushup. They are a combination of logic and
content. It may be helpful to think of them as both the controller and the view
in a MVC-like system, but colocated together in the same file.</p>
<p dir="auto">They are also the basis of file-based routing: the name of the Pushup file,
minus the .up extension, is mapped to the portion of the URL path for
routing.</p>
<h2 dir="auto"><a id="user-content-layouts" aria-hidden="true" href="#layouts"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Layouts</h2>
<p dir="auto">Layouts are HTML templates that used in common across multiple pages. They are
just HTML, with Pushup syntax as necessary. Each page renders its contents, and
then the layout inserts the page contents into the template with the
<code>^outputSection(&#34;contents&#34;)</code> Pushup expression.</p>
<h2 dir="auto"><a id="user-content-static-media" aria-hidden="true" href="#static-media"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Static media</h2>
<p dir="auto">Static media files like CSS, JS, and images, can be added to the <code>app/static</code>
project directory. These will be embedded directly in the project executable
when it is built, and are accessed via a straightforward mapping under the
&#34;/static/&#34; URL path.</p>
<h2 dir="auto"><a id="user-content-file-based-routing" aria-hidden="true" href="#file-based-routing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>File-based routing</h2>
<p dir="auto">Pushup maps file locations to URL route paths. So <code>about.up</code> becomes
<code>/about</code>, and <code>foo/bar/baz.up</code> becomes <code>/foo/bar/baz</code>. More TK ...</p>
<h3 dir="auto"><a id="user-content-dynamic-routes" aria-hidden="true" href="#dynamic-routes"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Dynamic routes</h3>
<p dir="auto">If the filename of a Pushup page starts with a <code>$</code> dollar sign, the portion
of the URL path that matches will be available to the page via the <code>getParam()</code>
Pushup API method.</p>
<p dir="auto">For example, let&#39;s say there is a Pushup page at <code>app/pages/people/$id.up</code>.
If a browser visits the URL <code>/people/1234</code>, the page can access it like a named
parameter with the API method <code>getParam()</code>, for example:</p>
<div data-snippet-clipboard-copy-content="&lt;p&gt;ID: ^getParam(req, &#34;id&#34;)&lt;/p&gt;"><pre lang="pushup"><code>&lt;p&gt;ID: ^getParam(req, &#34;id&#34;)&lt;/p&gt;
</code></pre></div>
<p dir="auto">would output:</p>

<p dir="auto">The name of the parameter is the word following the <code>$</code> dollar sign, up to a dot
or a slash. Conceptually, the URL route is <code>/people/:id</code>, where <code>:id</code> is the
named parameter that is substituted for the actual value in the request URL.</p>
<p dir="auto">Directories can be dynamic, too. <code>app/pages/products/$pid/details.up</code> maps
to <code>/products/:pid/details</code>.</p>
<p dir="auto">Multiple named parameters are allowed, for example, <code>app/pages/users/$uid/projects/$pid.up</code>
maps to <code>/users/:uid/projects/:pid</code>.</p>
<h2 dir="auto"><a id="user-content-enhanced-hypertext" aria-hidden="true" href="#enhanced-hypertext"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Enhanced hypertext</h2>
<h3 dir="auto"><a id="user-content-inline-partials" aria-hidden="true" href="#inline-partials"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Inline partials</h3>
<p dir="auto">Inline partials allow pages to denote subsections of themselves, and allow
for these subsections (the inline partials) to be rendered and returned to
the client independently, without having to render the entire enclosing page.</p>
<p dir="auto">Typically, partials in templating languages are stored in their own files,
which are then transcluded into other templates. Inline partials, however, are
partials declared and defined in-line a parent or including template.</p>
<p dir="auto">Inline partials are useful when combined with enhanced hypertext solutions
(eg., <a href="https://htmx.org/" rel="nofollow">htmx</a>). The reason is that these sites make AJAX
requests for partial HTML responses to update portions of an already-loaded
document. Partial responses should not have enclosing markup such as base
templates applied by the templating engine, since that would break the of the
document they are being inserted into. Inline partials in Pushup automatically
disable layouts so that partial responses have just the content they define.</p>
<p dir="auto">The ability to quickly define partials, and not have to deal with complexities
like toggling off layouts, makes it easier to build enhanced hypertext sites.</p>
<h2 dir="auto"><a id="user-content-basic-web-framework-functionality" aria-hidden="true" href="#basic-web-framework-functionality"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Basic web framework functionality</h2>
<p dir="auto">All modern web frameworks should implement a standard set of functionality,
spanning from safety to convenience. As of this writing, Pushup does not yet
implement them all, but aspires to prior to any public release.</p>
<h3 dir="auto"><a id="user-content-escaping" aria-hidden="true" href="#escaping"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Escaping</h3>
<p dir="auto">By default, all content is HTML-escaped, so in general it is safe to directly
place user-supplied data into Pushup pages. (Note that the framework does
not (yet) do this in your Go code, data from form submissions and URL queries
should be validated and treated as unsafe.)</p>
<p dir="auto">For example, if you wanted to display on the page the query a user searched for,
this is safe:</p>
<div data-snippet-clipboard-copy-content="^{ query := req.FormValue(&#34;query&#34;) }
&lt;p&gt;You search for: &lt;b&gt;^query&lt;/b&gt;&lt;/p&gt;"><pre lang="pushup"><code>^{ query := req.FormValue(&#34;query&#34;) }
&lt;p&gt;You search for: &lt;b&gt;^query&lt;/b&gt;&lt;/p&gt;
</code></pre></div>
<h2 dir="auto"><a id="user-content-pushup-syntax" aria-hidden="true" href="#pushup-syntax"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Pushup syntax</h2>
<h3 dir="auto"><a id="user-content-how-it-works" aria-hidden="true" href="#how-it-works"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How it works</h3>
<p dir="auto">Pushup is a mix of a new syntax consisting of Pushup directives and keywords,
Go code, and HTML markup.</p>
<p dir="auto">Parsing a .up file always starts out in HTML mode, so you can just put
plain HTML in a file and that&#39;s a valid Pushup page.</p>
<p dir="auto">When the parser encounters a &#39;^&#39; character (caret, ASCII 0x5e) while in
HTML mode, it switches to parsing Pushup syntax, which consists of simple
directives, control flow statements, block delimiters, and Go expressions. It
then switches to the Go code parser. Once it detects the end of the directive,
statement, or expression, it switches back to HTML mode, and parsing continues
in a similar fashion.</p>
<p dir="auto">Pushup uses the tokenizers from the <a href="https://pkg.go.dev/go/scanner#Scanner" rel="nofollow">go/scanner</a> and
<a href="https://pkg.go.dev/golang.org/x/net/html#Tokenizer" rel="nofollow">golang.org/x/net/html</a> packages, so it should be able to handle
any valid syntax from either language.</p>
<h3 dir="auto"><a id="user-content-directives" aria-hidden="true" href="#directives"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Directives</h3>
<h4 dir="auto"><a id="user-content-import" aria-hidden="true" href="#import"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>^import</code></h4>
<p dir="auto">Use <code>^import</code> to import a Go package into the current Pushup page. The syntax
for <code>^import</code> is the same as a regular <a href="https://go.dev/ref/spec#Import_declarations" rel="nofollow">Go import declaration</a></p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="^import &#34;strings&#34;
^import &#34;strconv&#34;"><pre lang="pushup"><code>^import &#34;strings&#34;
^import &#34;strconv&#34;
</code></pre></div>

<h4 dir="auto"><a id="user-content-layout" aria-hidden="true" href="#layout"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>^layout</code></h4>
<p dir="auto">Layouts are HTML templates that enclose the contents of a Pushup page.</p>
<p dir="auto">The <code>^layout</code> directive instructs Pushup what layout to apply the contents of
the current page.</p>
<p dir="auto">The name of the layout following the directive is the filename in the
<code>layouts</code> directory minus the <code>.up</code> extension. For example, <code>^layout main</code>
would try to apply the layout located at <code>app/layouts/main.up</code>.</p>
<p dir="auto"><code>^layout</code> is optional - if it is not specified, pages automatically get the
&#34;default&#34; layout (<code>app/layouts/default.up</code>).</p>
<p dir="auto">Example:</p>

<h5 dir="auto"><a id="user-content-layout----no-layout" aria-hidden="true" href="#layout----no-layout"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>^layout !</code> - no layout</h5>
<p dir="auto">A page may choose to have no layout applied - that is, the contents of the page
itself are sent directly to the client with no enclosing template. In this case,
use the <code>!</code> name:</p>

<h3 dir="auto"><a id="user-content-go-code-blocks" aria-hidden="true" href="#go-code-blocks"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Go code blocks</h3>
<h4 dir="auto"><a id="" aria-hidden="true" href="#"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>^{</code></h4>
<p dir="auto">To include statements of Go in a Pushup page, type <code>^{</code> followed by your
Go code, terminating with a closing <code>}</code>.</p>
<p dir="auto">The scope of a <code>^{ ... }</code> in the compiled Go code is equal to its surrounding
markup, so you can define a variable and immediately use it:</p>
<div data-snippet-clipboard-copy-content="^{
	name := &#34;world&#34;
}
&lt;h1&gt;Hello, ^name!&lt;/h1&gt;"><pre lang="pushup"><code>^{
	name := &#34;world&#34;
}
&lt;h1&gt;Hello, ^name!&lt;/h1&gt;
</code></pre></div>
<p dir="auto">Because the Pushup parser is only looking for a balanced closing <code>}</code>, blocks
can be one-liners:</p>
<div data-snippet-clipboard-copy-content="^{ name := &#34;world&#34;; greeting := &#34;Hello&#34; }
&lt;h1&gt;^greeting, ^name!&lt;/h1&gt;"><pre lang="pushup"><code>^{ name := &#34;world&#34;; greeting := &#34;Hello&#34; }
&lt;h1&gt;^greeting, ^name!&lt;/h1&gt;
</code></pre></div>
<p dir="auto">A Pushup page can have zero or many <code>^{ ... }</code> blocks.</p>
<h4 dir="auto"><a id="user-content-handler" aria-hidden="true" href="#handler"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>^handler</code></h4>
<p dir="auto">A handler is similar to <code>^{ ... }</code>. The difference is that there may be at most
one handler per page, and it is run prior to any other code or markup on the
page.</p>
<p dir="auto">A handler is the appropriate place to do &#34;controller&#34;-like (in the MVC sense)
actions, such as HTTP redirects and errors. In other words, any control flow
based on the nature of the request, for example, redirecting after a successful
POST to create a new object in a CRUD operation.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="^handler {
    if req.Method == &#34;POST&#34; &amp;&amp; formValid(req) {
		if err := createObjectFromForm(req.Form); err == nil {
			return http.Redirect(w, req, &#34;/success/&#34;, http.StatusSeeOther)
			return nil
		} else {
			// error handling
			...
	}
	...
}
..."><pre lang="pushup"><code>^handler {
    if req.Method == &#34;POST&#34; &amp;&amp; formValid(req) {
		if err := createObjectFromForm(req.Form); err == nil {
			return http.Redirect(w, req, &#34;/success/&#34;, http.StatusSeeOther)
			return nil
		} else {
			// error handling
			...
	}
	...
}
...
</code></pre></div>
<p dir="auto">Note that handlers (and all Pushup code) run in a method on a receiver that
implements Pushup&#39;s <code>Responder</code> interface, which is</p>
<div dir="auto" data-snippet-clipboard-copy-content="interface Responder {
	Respond(http.ResponseWriter, *http.Request) error
}"><pre><span>interface</span> <span>Responder</span> {
	<span>Respond</span>(http.<span>ResponseWriter</span>, <span>*</span>http.<span>Request</span>) <span>error</span>
}</pre></div>
<p dir="auto">To exit from a page early in a handler (i.e., prior to any normal content being
rendered), return from the method with a nil (for success) or an error (which
will in general respond with HTTP 500 to the client).</p>
<h3 dir="auto"><a id="user-content-control-flow-statements" aria-hidden="true" href="#control-flow-statements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Control flow statements</h3>
<h4 dir="auto"><a id="user-content-if" aria-hidden="true" href="#if"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>^if</code></h4>
<p dir="auto"><code>^if</code> takes a boolean Go expression and a block to conditionally render.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="^if query := req.FormValue(&#34;query&#34;); query != &#34;&#34; {
	&lt;p&gt;Query: ^query&lt;/p&gt;
}"><pre lang="pushup"><code>^if query := req.FormValue(&#34;query&#34;); query != &#34;&#34; {
	&lt;p&gt;Query: ^query&lt;/p&gt;
}
</code></pre></div>
<h4 dir="auto"><a id="user-content-for" aria-hidden="true" href="#for"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>^for</code></h4>
<p dir="auto"><code>^for</code> takes a Go &#34;for&#34; statement condition, clause, or range, and a block,
and repeatedly executes the block.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="^for i := 0; i &lt; 10; i++ {
	&lt;p&gt;Number ^i&lt;/p&gt;
}"><pre lang="pushup"><code>^for i := 0; i &lt; 10; i++ {
	&lt;p&gt;Number ^i&lt;/p&gt;
}
</code></pre></div>
<h3 dir="auto"><a id="user-content-expressions" aria-hidden="true" href="#expressions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Expressions</h3>
<h4 dir="auto"><a id="user-content-simple-expressions" aria-hidden="true" href="#simple-expressions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Simple expressions</h4>
<p dir="auto">Simple Go expressions can be written with just <code>^</code> followed by the expression.
&#34;Simple&#34; means:</p>
<ul dir="auto">
<li>variable names (eg., <code>^x</code>)</li>
<li>dotted field name access of structs (eg., <code>^account.name</code>)</li>
<li>function and method calls (eg., <code>^strings.Repeat(&#34;x&#34;, 3)</code>)</li>
<li>index expressions (eg., <code>a[x]</code>)</li>
</ul>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="^{ name := &#34;Paul&#34; }
&lt;p&gt;Hello, ^name!&lt;/p&gt;"><pre lang="pushup"><code>^{ name := &#34;Paul&#34; }
&lt;p&gt;Hello, ^name!&lt;/p&gt;
</code></pre></div>
<p dir="auto">Outputs:</p>

<p dir="auto">Notice that the parser stops on the &#34;!&#34; because it knows it is not part of a
Go variable name.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="&lt;p&gt;The URL path: ^req.URL.Path&lt;/p&gt;"><pre lang="pushup"><code>&lt;p&gt;The URL path: ^req.URL.Path&lt;/p&gt;
</code></pre></div>
<p dir="auto">Outputs:</p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;p&gt;The URL path: /foo/bar&lt;/p&gt;"><pre><span>&lt;</span><span>p</span><span>&gt;</span>The URL path: /foo/bar<span>&lt;/</span><span>p</span><span>&gt;</span></pre></div>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="^import &#34;strings&#34;
&lt;p&gt;^strings.Repeat(&#34;Hello&#34;, 3)&lt;/p&gt;"><pre lang="pushup"><code>^import &#34;strings&#34;
&lt;p&gt;^strings.Repeat(&#34;Hello&#34;, 3)&lt;/p&gt;
</code></pre></div>
<p dir="auto">Outputs:</p>

<h4 dir="auto"><a id="user-content-explicit-expressions" aria-hidden="true" href="#explicit-expressions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Explicit expressions</h4>
<p dir="auto">Explicit expressions are written with <code>^</code> and followed by any valid Go
expression grouped by parentheses.</p>
<p dir="auto">Example:</p>
<div data-snippet-clipboard-copy-content="^{ numPeople := 4 }
&lt;p&gt;With ^numPeople people there are ^(numPeople * 2) hands&lt;/p&gt;"><pre lang="pushup"><code>^{ numPeople := 4 }
&lt;p&gt;With ^numPeople people there are ^(numPeople * 2) hands&lt;/p&gt;
</code></pre></div>
<p dir="auto">Outputs:</p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;p&gt;With 4 people there are 8 hands&lt;/p&gt;"><pre><span>&lt;</span><span>p</span><span>&gt;</span>With 4 people there are 8 hands<span>&lt;/</span><span>p</span><span>&gt;</span></pre></div>
<h3 dir="auto"><a id="user-content-layout-and-templates" aria-hidden="true" href="#layout-and-templates"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Layout and templates</h3>
<h4 dir="auto"><a id="user-content-section" aria-hidden="true" href="#section"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>^section</code></h4>
<p dir="auto">Pushup layouts can have sections within the HTML document that Pushup pages
can define with their own content to be rendered into those locations.</p>
<p dir="auto">For example, a layout could have a sidebar section, and each page can set
its own sidebar content.</p>
<p dir="auto">In a Pushup page, sections are defined with the keyword like so:</p>
<div data-snippet-clipboard-copy-content="^section sidebar {
    &lt;article&gt;
        &lt;h1&gt;This is my sidebar content&lt;/h1&gt;
        &lt;p&gt;More to come&lt;/p&gt;
    &lt;/article&gt;
}"><pre lang="pushup"><code>^section sidebar {
    &lt;article&gt;
        &lt;h1&gt;This is my sidebar content&lt;/h1&gt;
        &lt;p&gt;More to come&lt;/p&gt;
    &lt;/article&gt;
}
</code></pre></div>
<p dir="auto">Layouts can output sections with the <code>outputSection</code> function.</p>
<div data-snippet-clipboard-copy-content="&lt;aside&gt;
    ^outputSection(&#34;sidebar&#34;)
&lt;/aside&gt;"><pre lang="pushup"><code>&lt;aside&gt;
    ^outputSection(&#34;sidebar&#34;)
&lt;/aside&gt;
</code></pre></div>
<p dir="auto">Layouts can also make sections optional, by first checking if a page has set a
section with <code>sectionDefined()</code>, which returns a boolean.</p>
<div data-snippet-clipboard-copy-content="^if sectionDefined(&#34;sidebar&#34;) {
    &lt;aside&gt;
        ^outputSection(&#34;sidebar&#34;)
    &lt;/aside&gt;
}"><pre lang="pushup"><code>^if sectionDefined(&#34;sidebar&#34;) {
    &lt;aside&gt;
        ^outputSection(&#34;sidebar&#34;)
    &lt;/aside&gt;
}
</code></pre></div>
<p dir="auto">Checking for if a section was set by a page lets a layout designer provide
default markup that can be overridden by a page.</p>
<div data-snippet-clipboard-copy-content="^if sectionDefined(&#34;title&#34;) {
    &lt;title&gt;
        ^outputSection(&#34;title&#34;)
    &lt;/title&gt;
} ^else {
    &lt;title&gt;Welcome to our site&lt;/title&gt;
}"><pre lang="pushup"><code>^if sectionDefined(&#34;title&#34;) {
    &lt;title&gt;
        ^outputSection(&#34;title&#34;)
    &lt;/title&gt;
} ^else {
    &lt;title&gt;Welcome to our site&lt;/title&gt;
}
</code></pre></div>
<h4 dir="auto"><a id="user-content-partial" aria-hidden="true" href="#partial"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>^partial</code></h4>
<p dir="auto">Pushup pages can declare and define inline partials with the <code>^partial</code>
keyword.</p>
<div data-snippet-clipboard-copy-content="...
&lt;section&gt;
    &lt;p&gt;Elements&lt;/p&gt;
    ^partial list {
            &lt;ul&gt;
                &lt;li&gt;Ag&lt;/li&gt;
                &lt;li&gt;Na&lt;/li&gt;
                &lt;li&gt;C&lt;/li&gt;
            &lt;/ul&gt;
    }
&lt;/section&gt;
..."><pre lang="pushup"><code>...
&lt;section&gt;
    &lt;p&gt;Elements&lt;/p&gt;
    ^partial list {
            &lt;ul&gt;
                &lt;li&gt;Ag&lt;/li&gt;
                &lt;li&gt;Na&lt;/li&gt;
                &lt;li&gt;C&lt;/li&gt;
            &lt;/ul&gt;
    }
&lt;/section&gt;
...
</code></pre></div>
<p dir="auto">A request to the page containing the initial partial will render normally,
as if the block where not wrapped in <code>^partial list {</code> ... <code>}</code>.</p>
<p dir="auto">A request to the page with the name of the partial appended to the URL path
will respond with just the content scoped by the partial block.</p>
<p dir="auto">For example, if the page above had the route <code>/elements/</code>, then a request to
<code>/elements/list</code> would output:</p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;ul&gt;
    &lt;li&gt;Ag&lt;/li&gt;
    &lt;li&gt;Na&lt;/li&gt;
    &lt;li&gt;C&lt;/li&gt;
&lt;/ul&gt;"><pre><span>&lt;</span><span>ul</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span>Ag<span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span>Na<span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span>C<span>&lt;/</span><span>li</span><span>&gt;</span>
<span>&lt;/</span><span>ul</span><span>&gt;</span></pre></div>
<p dir="auto">Inline partials can nest arbitrarily deep.</p>
<div data-snippet-clipboard-copy-content="...
^partial leagues {
    &lt;p&gt;Leagues&lt;/p&gt;
    ^partial teams {
        &lt;p&gt;Teams&lt;/p&gt;
        ^partial players {
            &lt;p&gt;Players&lt;/p&gt;
        }
    }
}
..."><pre lang="pushup"><code>...
^partial leagues {
    &lt;p&gt;Leagues&lt;/p&gt;
    ^partial teams {
        &lt;p&gt;Teams&lt;/p&gt;
        ^partial players {
            &lt;p&gt;Players&lt;/p&gt;
        }
    }
}
...
</code></pre></div>
<p dir="auto">To request a nested partial, make sure the URL path is preceded by
each containing partial&#39;s name and a forward slash, for example,
<code>/sports/leagues/teams/players</code>.</p>
<h2 dir="auto"><a id="user-content-vim-syntax-file" aria-hidden="true" href="#vim-syntax-file"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Vim syntax file</h2>
<p dir="auto">There is a vim plugin in the <code>vim-pushup</code> directory. You should be able to symlink it into your plugin manager&#39;s path. Alternatively, to install it manually:</p>
<ul dir="auto">
<li>Locate or create a <code>syntax</code> directory in your vim config directory (Usually <code>~/.vim/syntax</code> for vim or <code>~/.config/nvim/syntax</code> for neovim)</li>
<li>Copy <a href="https://github.com/adhocteam/pushup/blob/main/vim-pushup/syntax/pushup.vim"><code>syntax/pushup.vim</code></a> into that directory</li>
<li>Locate or create a <code>ftdetect</code> directory in your vim config directory (Usually <code>~/.vim/syntax</code> for vim or <code>~/.config/nvim/syntax</code> for neovim)</li>
<li>Copy <a href="https://github.com/adhocteam/pushup/blob/main/vim-pushup/ftdetect/pushup.vim"><code>ftdetect/pushup.vim</code></a> into that directory</li>
</ul>
</article>
          </div></div>
  </body>
</html>
