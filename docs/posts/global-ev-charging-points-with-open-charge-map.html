<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://tech.marksblogg.com/open-charge-map-global-ev-charging-point-dataset.html">Original</a>
    <h1>Global EV Charging Points with Open Charge Map</h1>
    
    <div id="readability-page-1" class="page"><div id="article_text">
            <p>Open Charge Map (OCM) aims to document the world&#39;s Electric Vehicle (EV) Charging Points. To date, they have produced a dataset of over 200K+ charging point locations around the world. Data is sourced both from volunteers as well as official sources.</p>
<p>The project is led by <a href="https://www.linkedin.com/in/webprofusion/">Christopher Cook</a>, a software developer from Perth, Australia, who has been working on OCM since its inception in 2011.</p>
<p>Below is a heat map of the OCM dataset.</p>
<p><a href="https://tech.marksblogg.com/theme/images/openchargemap.opertional.jpg"><img alt="Operational Charge Points around the World." src="https://tech.marksblogg.com/theme/images/openchargemap.opertional.jpg"/></a></p><p>In the EU at least, Charge Point Location density resembles that of the population density map for this region.</p>
<p><a href="https://tech.marksblogg.com/theme/images/openchargemap.opertional.europe.jpg"><img alt="Operational Charge Points in Europe, the Middle East and North Africa" src="https://tech.marksblogg.com/theme/images/openchargemap.opertional.europe.jpg"/></a></p><p>When you open the OCM website or app, you&#39;ll see a map of charging points.</p>
<p><a href="https://tech.marksblogg.com/theme/images/openchargemap.overview.png"><img alt="Open Charge Map Overview" src="https://tech.marksblogg.com/theme/images/openchargemap.overview.png"/></a></p><p>Each point contains information on the number of station / bays available at the charging location as well as the sockets supported and power delivery. There will be an indication if the station is operational or not, if it&#39;s accessible to the public and pricing details.</p>
<p><a href="https://tech.marksblogg.com/theme/images/openchargemap.location.png"><img alt="Open Charge Map Location Details" src="https://tech.marksblogg.com/theme/images/openchargemap.location.png"/></a></p><p>Users can also submit photographs of the location, its equipment and the surrounding area.</p>
<p><a href="https://tech.marksblogg.com/theme/images/openchargemap.photo.png"><img alt="Open Charge Map Location Photo" src="https://tech.marksblogg.com/theme/images/openchargemap.photo.png"/></a></p><p>In this blog post, I&#39;ll walk through making the OCM dataset analytics-ready and walk through some analysis of the dataset.</p>
<div id="my-workstation">
<h2>My Workstation</h2>
<p>I&#39;m using a 6 GHz Intel Core <a href="https://www.intel.com/content/www/us/en/products/sku/236773/intel-core-i9-processor-14900k-36m-cache-up-to-6-00-ghz/specifications.html">i9-14900K</a> CPU. It has 8 performance cores and 16 efficiency cores with a total of 32 threads and 32 MB of L2 cache. It has a liquid cooler attached and is housed in a spacious, full-sized, Cooler Master HAF 700 computer case. I&#39;ve come across videos on YouTube where people have managed to overclock the i9-14900KF to <a href="https://www.youtube.com/watch?v=fb7pl7PZOYo">9.1 GHz</a>.</p>
<p>The system has 48 GB of DDR5 RAM clocked at 5,200 MHz and a 5th-generation, Crucial T700 4 TB NVMe M.2 SSD which can read at speeds up to 12,400 MB/s. There is a heatsink on the SSD to help keep its temperature down. This is my system&#39;s C drive.</p>
<p>There is also an 8 TB mechanical disk that I use to hold GIS datasets. This is my system&#39;s F drive.</p>
<p>The system is powered by a 1,200-watt, fully modular, Corsair Power Supply and is sat on an ASRock Z790 Pro RS Motherboard.</p>
<p>I&#39;m running Ubuntu 22 LTS via Microsoft&#39;s Ubuntu for Windows on Windows 11 Pro. In case you&#39;re wondering why I don&#39;t run a Linux-based desktop as my primary work environment, I&#39;m still using an Nvidia GTX 1080 GPU which has better driver support on Windows and I use ArcGIS Pro from time to time which only supports Windows natively.</p>
</div>
<div id="installing-prerequisites">
<h2>Installing Prerequisites</h2>
<p>I&#39;ll first install some dependencies.</p>
<div><pre><span></span>$<span> </span>sudo<span> </span>apt<span> </span>update
$<span> </span>sudo<span> </span>apt<span> </span>install<span> </span><span>\</span>
<span>    </span>git<span> </span><span>\</span>
<span>    </span>jq<span> </span><span>\</span>
<span>    </span>libimage-exiftool-perl<span> </span><span>\</span>
<span>    </span>python3-virtualenv
</pre></div>
<p>Below I&#39;ll set up the Python Virtual Environment.</p>
<div><pre><span></span>$<span> </span>virtualenv<span> </span>~/.ev
$<span> </span><span>source</span><span> </span>~/.ev/bin/activate
$<span> </span>python<span> </span>-m<span> </span>pip<span> </span>install<span> </span><span>\</span>
<span>    </span>rich
</pre></div>
<p>Below I&#39;ll download and install v0.10.1 of the official binary for DuckDB.</p>
<div><pre><span></span>$<span> </span><span>cd</span><span> </span>~
$<span> </span>wget<span> </span>-c<span> </span>https://github.com/duckdb/duckdb/releases/download/v0.10.1/duckdb_cli-linux-amd64.zip
$<span> </span>unzip<span> </span>-j<span> </span>duckdb_cli-linux-amd64.zip
$<span> </span>chmod<span> </span>+x<span> </span>duckdb
</pre></div>
<p>I&#39;ll install a few extensions for DuckDB and make sure they load automatically each time I launch the client.</p>

<div><pre><span></span><span>INSTALL</span><span> </span><span>json</span><span>;</span>
<span>INSTALL</span><span> </span><span>parquet</span><span>;</span>
<span>INSTALL</span><span> </span><span>spatial</span><span>;</span>
</pre></div>

<div><pre><span></span><span>.</span><span>timer</span><span> </span><span>on</span>
<span>.</span><span>width</span><span> </span><span>180</span>
<span>LOAD</span><span> </span><span>json</span><span>;</span>
<span>LOAD</span><span> </span><span>parquet</span><span>;</span>
<span>LOAD</span><span> </span><span>spatial</span><span>;</span>
</pre></div>
<p>The maps in this post were rendered with <a href="https://www.qgis.org/en/site/forusers/download.html">QGIS</a> version 3.36. QGIS is a desktop application that runs on Windows, macOS and Linux. The software is very popular in the geospatial industry and was launched almost 15 million times in May last year.</p>
<p>I used QGIS&#39; <a href="https://geoinformaticsworld.com/how-to-download-and-install-google-earth-images-in-qgis-using-tiles-plugin/">Tile+ plugin</a> to add satellite basemaps. Tile+ can be installed from its ZIP distributable.</p>
<p>The steps needed to reproduce the basemap used in this post can be found in my <a href="https://tech.marksblogg.com/aircraft-route-analysis-adsb.html">Aircraft Route Analysis</a> post.</p>
</div>
<div id="downloading-open-charge-map-s-data">
<h2>Downloading Open Charge Map&#39;s Data</h2>
<p>The following will clone 204,187 files totalling 307 MB from GitHub. This repository is refreshed monthly.</p>
<div><pre><span></span>$<span> </span>git<span> </span>clone<span> </span>https://github.com/openchargemap/ocm-export<span> </span>~/open_charge_map
</pre></div>
<p>I&#39;ll also download a dataset that will help me categorise countries into groups. For instance, Scandinavia, Finland and the Baltics will be classed as &#39;northernEurope&#39;.</p>
<div><pre><span></span>$<span> </span>git<span> </span>clone<span> </span>https://github.com/vijinho/ISO-Country-Data<span> </span>~/ISO-Country-Data
</pre></div>
</div>
<div id="open-charge-map-s-data-structure">
<h2>Open Charge Map&#39;s Data Structure</h2>
<p>OCM breaks up data by country and location. Below is an example from a location in Estonia.</p>
<div><pre><span></span>$<span> </span><span>cd</span><span> </span>~/open_charge_map
$<span> </span>jq<span> </span>-S<span> </span><span>&#39;del(.AddressInfo)&#39;</span><span> </span>data/EE/OCM-11842.json
</pre></div>
<div><pre><span></span><span>{</span>
<span>  </span><span>&#34;Connections&#34;</span><span>:</span><span> </span><span>[</span>
<span>    </span><span>{</span>
<span>      </span><span>&#34;Amps&#34;</span><span>:</span><span> </span><span>120</span><span>,</span>
<span>      </span><span>&#34;ConnectionTypeID&#34;</span><span>:</span><span> </span><span>2</span><span>,</span>
<span>      </span><span>&#34;CurrentTypeID&#34;</span><span>:</span><span> </span><span>30</span><span>,</span>
<span>      </span><span>&#34;ID&#34;</span><span>:</span><span> </span><span>9252</span><span>,</span>
<span>      </span><span>&#34;LevelID&#34;</span><span>:</span><span> </span><span>3</span><span>,</span>
<span>      </span><span>&#34;PowerKW&#34;</span><span>:</span><span> </span><span>50</span><span>,</span>
<span>      </span><span>&#34;Quantity&#34;</span><span>:</span><span> </span><span>1</span><span>,</span>
<span>      </span><span>&#34;StatusTypeID&#34;</span><span>:</span><span> </span><span>50</span><span>,</span>
<span>      </span><span>&#34;Voltage&#34;</span><span>:</span><span> </span><span>500</span>
<span>    </span><span>},</span>
<span>    </span><span>{</span>
<span>      </span><span>&#34;Amps&#34;</span><span>:</span><span> </span><span>32</span><span>,</span>
<span>      </span><span>&#34;ConnectionTypeID&#34;</span><span>:</span><span> </span><span>25</span><span>,</span>
<span>      </span><span>&#34;CurrentTypeID&#34;</span><span>:</span><span> </span><span>20</span><span>,</span>
<span>      </span><span>&#34;ID&#34;</span><span>:</span><span> </span><span>25811</span><span>,</span>
<span>      </span><span>&#34;LevelID&#34;</span><span>:</span><span> </span><span>2</span><span>,</span>
<span>      </span><span>&#34;PowerKW&#34;</span><span>:</span><span> </span><span>22</span><span>,</span>
<span>      </span><span>&#34;Quantity&#34;</span><span>:</span><span> </span><span>1</span><span>,</span>
<span>      </span><span>&#34;StatusTypeID&#34;</span><span>:</span><span> </span><span>50</span><span>,</span>
<span>      </span><span>&#34;Voltage&#34;</span><span>:</span><span> </span><span>400</span>
<span>    </span><span>}</span>
<span>  </span><span>],</span>
<span>  </span><span>&#34;DataProviderID&#34;</span><span>:</span><span> </span><span>1</span><span>,</span>
<span>  </span><span>&#34;DateCreated&#34;</span><span>:</span><span> </span><span>&#34;2012-08-03T13:08:00Z&#34;</span><span>,</span>
<span>  </span><span>&#34;DateLastStatusUpdate&#34;</span><span>:</span><span> </span><span>&#34;2014-05-29T04:52:00Z&#34;</span><span>,</span>
<span>  </span><span>&#34;DateLastVerified&#34;</span><span>:</span><span> </span><span>&#34;2014-05-29T04:52:00Z&#34;</span><span>,</span>
<span>  </span><span>&#34;GeneralComments&#34;</span><span>:</span><span> </span><span>&#34;Charger number 37001&#34;</span><span>,</span>
<span>  </span><span>&#34;ID&#34;</span><span>:</span><span> </span><span>11842</span><span>,</span>
<span>  </span><span>&#34;NumberOfPoints&#34;</span><span>:</span><span> </span><span>1</span><span>,</span>
<span>  </span><span>&#34;OperatorID&#34;</span><span>:</span><span> </span><span>76</span><span>,</span>
<span>  </span><span>&#34;StatusTypeID&#34;</span><span>:</span><span> </span><span>50</span><span>,</span>
<span>  </span><span>&#34;SubmissionStatusTypeID&#34;</span><span>:</span><span> </span><span>200</span><span>,</span>
<span>  </span><span>&#34;UUID&#34;</span><span>:</span><span> </span><span>&#34;810B3C57-F495-4028-B364-937576BD75AB&#34;</span><span>,</span>
<span>  </span><span>&#34;UsageCost&#34;</span><span>:</span><span> </span><span>&#34;5€/up to 60min&#34;</span><span>,</span>
<span>  </span><span>&#34;UsageTypeID&#34;</span><span>:</span><span> </span><span>1</span>
<span>}</span>
</pre></div>
<p>Each file is a location which will be run by a network operator. Each location will have one or more charging stations / bays. A station can have one or more sockets as well as various power delivery specifications. These sockets and power delivery specifications are listed individually in the &#39;Connections&#39; dictionary and each connection will have a quantity associated with it.</p>
<p>In the above example, only a single vehicle can be charged at any one time at this location and both a 50 kW, DC, 120A, 500V CHAdeMO socket as well as a 22 kW, AC (Three-Phase), 32A, 400V Type 2 socket are supported.</p>
<p>The location files use primary keys for many attributes. Their corresponding records can be found in a <tt>referencedata.json</tt> file included in the git repository. Below are the 13 reference table names for this project.</p>
<div><pre><span></span>$<span> </span>jq<span> </span>-S<span> </span><span>&#39;.|keys&#39;</span><span> </span>referencedata.json
</pre></div>
<div><pre><span></span><span>[</span>
<span>  </span><span>&#34;ChargerTypes&#34;</span><span>,</span>
<span>  </span><span>&#34;CheckinStatusTypes&#34;</span><span>,</span>
<span>  </span><span>&#34;ConnectionTypes&#34;</span><span>,</span>
<span>  </span><span>&#34;Countries&#34;</span><span>,</span>
<span>  </span><span>&#34;CurrentTypes&#34;</span><span>,</span>
<span>  </span><span>&#34;DataProviders&#34;</span><span>,</span>
<span>  </span><span>&#34;DataTypes&#34;</span><span>,</span>
<span>  </span><span>&#34;MetadataGroups&#34;</span><span>,</span>
<span>  </span><span>&#34;Operators&#34;</span><span>,</span>
<span>  </span><span>&#34;StatusTypes&#34;</span><span>,</span>
<span>  </span><span>&#34;SubmissionStatusTypes&#34;</span><span>,</span>
<span>  </span><span>&#34;UsageTypes&#34;</span><span>,</span>
<span>  </span><span>&#34;UserCommentTypes&#34;</span>
<span>]</span>
</pre></div>
<p>Below are the primary keys and attributes for the charger types.</p>
<div><pre><span></span>$<span> </span>jq<span> </span>-S<span> </span>.ChargerTypes<span> </span>referencedata.json
</pre></div>
<div><pre><span></span><span>[</span>
<span>  </span><span>{</span>
<span>    </span><span>&#34;Comments&#34;</span><span>:</span><span> </span><span>&#34;Under 2 kW, usually domestic socket types&#34;</span><span>,</span>
<span>    </span><span>&#34;ID&#34;</span><span>:</span><span> </span><span>1</span><span>,</span>
<span>    </span><span>&#34;IsFastChargeCapable&#34;</span><span>:</span><span> </span><span>false</span><span>,</span>
<span>    </span><span>&#34;Title&#34;</span><span>:</span><span> </span><span>&#34;Level 1 : Low (Under 2kW)&#34;</span>
<span>  </span><span>},</span>
<span>  </span><span>{</span>
<span>    </span><span>&#34;Comments&#34;</span><span>:</span><span> </span><span>&#34;Over 2 kW, usually non-domestic socket type&#34;</span><span>,</span>
<span>    </span><span>&#34;ID&#34;</span><span>:</span><span> </span><span>2</span><span>,</span>
<span>    </span><span>&#34;IsFastChargeCapable&#34;</span><span>:</span><span> </span><span>false</span><span>,</span>
<span>    </span><span>&#34;Title&#34;</span><span>:</span><span> </span><span>&#34;Level 2 : Medium (Over 2kW)&#34;</span>
<span>  </span><span>},</span>
<span>  </span><span>{</span>
<span>    </span><span>&#34;Comments&#34;</span><span>:</span><span> </span><span>&#34;40KW and Higher&#34;</span><span>,</span>
<span>    </span><span>&#34;ID&#34;</span><span>:</span><span> </span><span>3</span><span>,</span>
<span>    </span><span>&#34;IsFastChargeCapable&#34;</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>    </span><span>&#34;Title&#34;</span><span>:</span><span> </span><span>&#34;Level 3:  High (Over 40kW)&#34;</span>
<span>  </span><span>}</span>
<span>]</span>
</pre></div>
</div>
<div id="charge-station-imagery">
<h2>Charge Station Imagery</h2>
<p>User-submitted photographs are also listed in this dataset. Within any one location, one or more images may be available. A URL to a thumbnail as well as the original image are listed.</p>
<div><pre><span></span>$<span> </span>jq<span> </span>-S<span> </span><span>&#39;.MediaItems[0]&#39;</span><span> </span>data/EE/OCM-103624.json
</pre></div>
<div><pre><span></span><span>{</span>
<span>  </span><span>&#34;ChargePointID&#34;</span><span>:</span><span> </span><span>103624</span><span>,</span>
<span>  </span><span>&#34;Comment&#34;</span><span>:</span><span> </span><span>&#34;&#34;</span><span>,</span>
<span>  </span><span>&#34;DateCreated&#34;</span><span>:</span><span> </span><span>&#34;2020-07-26T12:19:00Z&#34;</span><span>,</span>
<span>  </span><span>&#34;ID&#34;</span><span>:</span><span> </span><span>23192</span><span>,</span>
<span>  </span><span>&#34;IsEnabled&#34;</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>  </span><span>&#34;IsExternalResource&#34;</span><span>:</span><span> </span><span>false</span><span>,</span>
<span>  </span><span>&#34;IsFeaturedItem&#34;</span><span>:</span><span> </span><span>false</span><span>,</span>
<span>  </span><span>&#34;IsVideo&#34;</span><span>:</span><span> </span><span>false</span><span>,</span>
<span>  </span><span>&#34;ItemThumbnailURL&#34;</span><span>:</span><span> </span><span>&#34;https://media.openchargemap.io/images/EE/OCM103624/OCM-103624.thmb.2020072612183898.jpg&#34;</span><span>,</span>
<span>  </span><span>&#34;ItemURL&#34;</span><span>:</span><span> </span><span>&#34;https://media.openchargemap.io/images/EE/OCM103624/OCM-103624.orig.2020072612183898.jpg&#34;</span><span>,</span>
<span>  </span><span>&#34;User&#34;</span><span>:</span><span> </span><span>{</span>
<span>    </span><span>&#34;ID&#34;</span><span>:</span><span> </span><span>26470</span><span>,</span>
<span>    </span><span>&#34;Username&#34;</span><span>:</span><span> </span><span>&#34;erkkiat&#34;</span>
<span>  </span><span>}</span>
<span>}</span>
</pre></div>
<p>The original images make up ~30 GB altogether. There are a few 20 MB PNGs, especially for Italy and Spain, but for the most part, images are ~2 MB. The vast majority of these photos were taken in Europe with the US and Australia being the only other locations of any significance. Below is the proportion of disk space used by the images broken down by region and country.</p>
<p><a href="https://tech.marksblogg.com/theme/images/openchargemap.image.sizes.png"><img alt="Image Sizes by Country in Open Charge Map" src="https://tech.marksblogg.com/theme/images/openchargemap.image.sizes.png"/></a></p><p>The original images don&#39;t look to have been through any processing, either to reduce their size or to remove any metadata. Many images contain more than 100 pieces of metadata, such as the image below.</p>
<div><pre><span></span>$<span> </span>wget<span> </span>https://media.openchargemap.io/images/ES/OCM64603/OCM-64603.orig.2016031412054624.jpg
$<span> </span>exiftool<span> </span>OCM-64603.orig.2016031412054624.jpg<span> </span><span>|</span><span> </span>tail<span> </span>-n20
</pre></div>
<div><pre><span></span>Image Height                    : 3264
Encoding Process                : Baseline DCT, Huffman coding
Bits Per Sample                 : 8
Color Components                : 3
Y Cb Cr Sub Sampling            : YCbCr4:2:0 (2 2)
Aperture                        : 2.4
Image Size                      : 2448x3264
Megapixels                      : 8.0
Shutter Speed                   : 1/1374
Create Date                     : 2016:03:05 11:27:08.053521
Date/Time Original              : 2016:03:05 11:27:08.053521
Modify Date                     : 2016:03:05 11:27:08.053521
Thumbnail Image                 : (Binary data 5911 bytes, use -b option to extract)
GPS Altitude                    : 70 m Above Sea Level
GPS Date/Time                   : 2016:03:05 10:26:59Z
GPS Latitude                    : 42 deg 10&#39; 36.89&#34; N
GPS Longitude                   : 3 deg 6&#39; 29.49&#34; E
Focal Length                    : 4.0 mm
GPS Position                    : 42 deg 10&#39; 36.89&#34; N, 3 deg 6&#39; 29.49&#34; E
Light Value                     : 12.9
</pre></div>
<p>Some photos are great research material with equipment and signage clearly presented. Others show the surrounding area and landscape which could be a replacement for Google Street View. This is handy as it can show if there is a canopy or if it&#39;s in underground / sheltered parking of some sort.</p>
<p>Below is an image found in the Brazilian dataset showing two charging bays in a parking garage.</p>
<p><a href="https://tech.marksblogg.com/theme/images/OCM-208604.orig.2023092923395150.jpg"><img alt="Open Charge Map Image" src="https://tech.marksblogg.com/theme/images/OCM-208604.orig.2023092923395150.jpg"/></a></p><p>Surprisingly few people submit photographs of charging point failures. I found this one in the Brazilian dataset.</p>
<p><a href="https://tech.marksblogg.com/theme/images/OCM-188915.orig.2023062821055190.jpg"><img alt="Open Charge Map Image" src="https://tech.marksblogg.com/theme/images/OCM-188915.orig.2023062821055190.jpg"/></a></p><p>Instructions to not leave your vehicle while charging in Jordan.</p>
<p><a href="https://tech.marksblogg.com/theme/images/OCM-188313.orig.2022051605065602.jpg"><img alt="Open Charge Map Image" src="https://tech.marksblogg.com/theme/images/OCM-188313.orig.2022051605065602.jpg"/></a></p><p>Below is a photo of a canopy covering the charging bays in Malaysia.</p>
<p><a href="https://tech.marksblogg.com/theme/images/OCM-192078.orig.2022032014494888.jpg"><img alt="Open Charge Map Image" src="https://tech.marksblogg.com/theme/images/OCM-192078.orig.2022032014494888.jpg"/></a></p><p>Not much space to park in Cyprus.</p>
<p><a href="https://tech.marksblogg.com/theme/images/OCM-195419.orig.2022091714464459.jpg"><img alt="Open Charge Map Image" src="https://tech.marksblogg.com/theme/images/OCM-195419.orig.2022091714464459.jpg"/></a></p><p>Below is a photo of a charging point User Interface.</p>
<p><a href="https://tech.marksblogg.com/theme/images/OCM-190922.orig.2023060816205510.jpg"><img alt="Open Charge Map Image" src="https://tech.marksblogg.com/theme/images/OCM-190922.orig.2023060816205510.jpg"/></a></p><p>Some people are kind enough to photograph the specifications on the sides of the charging point machines.</p>
<p><a href="https://tech.marksblogg.com/theme/images/OCM-7836.orig.2022121112064950.jpg"><img alt="Open Charge Map Image" src="https://tech.marksblogg.com/theme/images/OCM-7836.orig.2022121112064950.jpg"/></a></p><p>Photos often give away what sort of area you&#39;ll be waiting around in.</p>
<p><a href="https://tech.marksblogg.com/theme/images/OCM-125304.orig.2019041312211315.jpg"><img alt="Open Charge Map Image" src="https://tech.marksblogg.com/theme/images/OCM-125304.orig.2019041312211315.jpg"/></a>
</p></div>
<div id="building-an-analysis-ready-dataset">
<h2>Building an Analysis-Ready Dataset</h2>
<p>Below I&#39;ll denormalise the OCM dataset by connection. I&#39;ll also use the foreign keys to join to the reference datasets. The data will be first exported into JSONL before being imported into DuckDB using its internal file format.</p>

<div><pre><span></span><span>from</span>   <span>glob</span>          <span>import</span> <span>glob</span>
<span>import</span> <span>json</span>
<span>from</span>   <span>urllib.parse</span>  <span>import</span> <span>urlparse</span>

<span>from</span>   <span>rich.progress</span> <span>import</span> <span>track</span>


<span># Lookups / Reference Data</span>
<span>recs</span> <span>=</span> <span>json</span><span>.</span><span>loads</span><span>(</span><span>open</span><span>(</span><span>&#39;referencedata.json&#39;</span><span>,</span> <span>&#39;r&#39;</span><span>)</span><span>.</span><span>read</span><span>())</span>

<span>lookups</span> <span>=</span> <span>{}</span>

<span>for</span> <span>x</span> <span>in</span> <span>recs</span><span>.</span><span>keys</span><span>():</span>
    <span>lookups</span><span>[</span><span>x</span><span>]</span> <span>=</span> <span>{}</span>

    <span>for</span> <span>rec</span> <span>in</span> <span>recs</span><span>[</span><span>x</span><span>]:</span>
        <span>id_</span> <span>=</span> <span>rec</span><span>[</span><span>&#39;ID&#39;</span><span>]</span>
        <span>del</span> <span>rec</span><span>[</span><span>&#39;ID&#39;</span><span>]</span>
        <span>lookups</span><span>[</span><span>x</span><span>][</span><span>id_</span><span>]</span> <span>=</span> <span>rec</span>

<span># Regions</span>
<span>regions</span> <span>=</span> <span>json</span><span>.</span><span>loads</span><span>(</span><span>open</span><span>(</span><span>&#39;/home/mark/ISO-Country-Data/regions.json&#39;</span><span>,</span> <span>&#39;r&#39;</span><span>)</span><span>.</span><span>read</span><span>())</span>

<span># Connections</span>
<span>station_keys</span> <span>=</span> <span>(</span>
    <span>&#39;DateLastVerified&#39;</span><span>,</span>
    <span>&#39;ID&#39;</span><span>,</span>
    <span>&#39;UUID&#39;</span><span>,</span>
    <span>&#39;DataProviderID&#39;</span><span>,</span>
    <span>&#39;UsageTypeID&#39;</span><span>,</span>
    <span>&#39;UsageCost&#39;</span><span>,</span>
    <span>&#39;NumberOfPoints&#39;</span><span>,</span>
    <span>&#39;StatusTypeID&#39;</span><span>,</span>
    <span>&#39;DateLastStatusUpdate&#39;</span><span>,</span>
    <span>&#39;DateCreated&#39;</span><span>,</span>
    <span>&#39;SubmissionStatusTypeID&#39;</span><span>,</span>
    <span>&#39;ProviderBrand&#39;</span><span>)</span>

<span>with</span> <span>open</span><span>(</span><span>&#39;connections.json&#39;</span><span>,</span> <span>&#39;w&#39;</span><span>)</span> <span>as</span> <span>f</span><span>:</span>
    <span>for</span> <span>filename</span> <span>in</span> <span>track</span><span>(</span><span>glob</span><span>(</span><span>&#39;*/OCM-*.json&#39;</span><span>)):</span>
        <span>recs</span> <span>=</span> <span>json</span><span>.</span><span>loads</span><span>(</span><span>open</span><span>(</span><span>filename</span><span>,</span> <span>&#39;r&#39;</span><span>)</span><span>.</span><span>read</span><span>())</span>

        <span>if</span> <span>&#39;RelatedURL&#39;</span> <span>in</span> <span>recs</span><span>[</span><span>&#39;AddressInfo&#39;</span><span>]:</span>
            <span>recs</span><span>[</span><span>&#39;ProviderBrand&#39;</span><span>]</span> <span>=</span> \
                <span>urlparse</span><span>(</span><span>recs</span><span>[</span><span>&#39;AddressInfo&#39;</span><span>][</span><span>&#39;RelatedURL&#39;</span><span>])</span>\
                    <span>.</span><span>netloc</span>\
                    <span>.</span><span>replace</span><span>(</span><span>&#39;www.&#39;</span><span>,</span> <span>&#39;&#39;</span><span>)</span>\
                    <span>.</span><span>split</span><span>(</span><span>&#39;.&#39;</span><span>)[</span><span>0</span><span>]</span>

        <span>country_iso2</span> <span>=</span> <span>filename</span><span>.</span><span>split</span><span>(</span><span>&#39;/&#39;</span><span>)[</span><span>0</span><span>]</span><span>.</span><span>upper</span><span>()</span><span>.</span><span>strip</span><span>()</span>

        <span>region</span> <span>=</span> <span>None</span>

        <span>for</span> <span>region_</span><span>,</span> <span>countries</span> <span>in</span> <span>regions</span><span>.</span><span>items</span><span>():</span>
            <span>if</span> <span>country_iso2</span> <span>in</span> <span>countries</span><span>:</span>
                <span>region</span> <span>=</span> <span>region_</span>
                <span>break</span>

        <span>if</span> <span>region</span> <span>is</span> <span>None</span> <span>and</span> <span>country_iso2</span> <span>==</span> <span>&#39;XK&#39;</span><span>:</span>
            <span>region</span> <span>=</span> <span>&#39;southernEurope&#39;</span>

        <span>dp_</span> <span>=</span> <span>{}</span> <span>if</span> <span>&#39;DataProviderID&#39;</span> <span>not</span> <span>in</span> <span>recs</span><span>.</span><span>keys</span><span>()</span>         <span>else</span> <span>lookups</span><span>[</span><span>&#39;DataProviders&#39;</span><span>]</span><span>.</span><span>get</span><span>(</span><span>recs</span><span>[</span><span>&#39;DataProviderID&#39;</span><span>],</span> <span>{})</span>

        <span>if</span> <span>&#39;DataProviderStatusType&#39;</span> <span>in</span> <span>dp_</span><span>.</span><span>keys</span><span>():</span>
            <span>for</span> <span>k</span><span>,</span> <span>v</span> <span>in</span> <span>dp_</span><span>[</span><span>&#39;DataProviderStatusType&#39;</span><span>]</span><span>.</span><span>items</span><span>():</span>
                <span>dp_</span><span>[</span><span>k</span><span>]</span> <span>=</span> <span>v</span>
            <span>del</span> <span>dp_</span><span>[</span><span>&#39;DataProviderStatusType&#39;</span><span>]</span>

        <span>op_</span> <span>=</span> <span>{}</span> <span>if</span> <span>&#39;OperatorID&#39;</span> <span>not</span> <span>in</span> <span>recs</span><span>.</span><span>keys</span><span>()</span>             <span>else</span> <span>lookups</span><span>[</span><span>&#39;Operators&#39;</span><span>]</span><span>.</span><span>get</span><span>(</span><span>recs</span><span>[</span><span>&#39;OperatorID&#39;</span><span>],</span> <span>{})</span>
        <span>st_</span> <span>=</span> <span>{}</span> <span>if</span> <span>&#39;StatusTypeID&#39;</span> <span>not</span> <span>in</span> <span>recs</span><span>.</span><span>keys</span><span>()</span>           <span>else</span> <span>lookups</span><span>[</span><span>&#39;StatusTypes&#39;</span><span>]</span><span>.</span><span>get</span><span>(</span><span>recs</span><span>[</span><span>&#39;StatusTypeID&#39;</span><span>],</span> <span>{})</span>
        <span>us_</span> <span>=</span> <span>{}</span> <span>if</span> <span>&#39;UsageTypeID&#39;</span> <span>not</span> <span>in</span> <span>recs</span><span>.</span><span>keys</span><span>()</span>            <span>else</span> <span>lookups</span><span>[</span><span>&#39;UsageTypes&#39;</span><span>]</span><span>.</span><span>get</span><span>(</span><span>recs</span><span>[</span><span>&#39;UsageTypeID&#39;</span><span>],</span> <span>{})</span>
        <span>ss_</span> <span>=</span> <span>{}</span> <span>if</span> <span>&#39;SubmissionStatusTypeID&#39;</span> <span>not</span> <span>in</span> <span>recs</span><span>.</span><span>keys</span><span>()</span> <span>else</span> <span>lookups</span><span>[</span><span>&#39;SubmissionStatusTypes&#39;</span><span>]</span><span>.</span><span>get</span><span>(</span><span>recs</span><span>[</span><span>&#39;SubmissionStatusTypeID&#39;</span><span>],</span> <span>{})</span>

        <span>for</span> <span>rec</span> <span>in</span> <span>recs</span><span>[</span><span>&#39;Connections&#39;</span><span>]:</span>
            <span>ct_</span> <span>=</span> <span>{}</span> <span>if</span> <span>&#39;ConnectionTypeID&#39;</span> <span>not</span> <span>in</span> <span>rec</span><span>.</span><span>keys</span><span>()</span> <span>else</span> <span>lookups</span><span>[</span><span>&#39;ConnectionTypes&#39;</span><span>]</span><span>.</span><span>get</span><span>(</span><span>rec</span><span>[</span><span>&#39;ConnectionTypeID&#39;</span><span>],</span> <span>{})</span>
            <span>cu_</span> <span>=</span> <span>{}</span> <span>if</span> <span>&#39;CurrentTypeID&#39;</span> <span>not</span> <span>in</span> <span>rec</span><span>.</span><span>keys</span><span>()</span>    <span>else</span> <span>lookups</span><span>[</span><span>&#39;CurrentTypes&#39;</span><span>]</span><span>.</span><span>get</span><span>(</span><span>rec</span><span>[</span><span>&#39;CurrentTypeID&#39;</span><span>],</span> <span>{})</span>
            <span>cs_</span> <span>=</span> <span>{}</span> <span>if</span> <span>&#39;StatusTypeID&#39;</span> <span>not</span> <span>in</span> <span>rec</span><span>.</span><span>keys</span><span>()</span>     <span>else</span> <span>lookups</span><span>[</span><span>&#39;StatusTypes&#39;</span><span>]</span><span>.</span><span>get</span><span>(</span><span>rec</span><span>[</span><span>&#39;StatusTypeID&#39;</span><span>],</span> <span>{})</span>

            <span>f</span><span>.</span><span>write</span><span>(</span><span>json</span><span>.</span><span>dumps</span><span>({</span><span>**</span><span>{</span><span>&#39;AddressCountryIso2&#39;</span><span>:</span> <span>country_iso2</span><span>,</span>
                                   <span>&#39;AddressWorldRegion&#39;</span><span>:</span> <span>region</span><span>},</span>
                                <span>**</span><span>{</span><span>&#39;Connector&#39;</span> <span>+</span> <span>k</span><span>:</span> <span>v</span>         <span>for</span> <span>k</span><span>,</span> <span>v</span> <span>in</span> <span>rec</span><span>.</span><span>items</span><span>()},</span>
                                <span>**</span><span>{</span><span>&#39;Address&#39;</span> <span>+</span> <span>k</span><span>:</span> <span>v</span>         <span>for</span> <span>k</span><span>,</span> <span>v</span> <span>in</span> <span>recs</span><span>[</span><span>&#39;AddressInfo&#39;</span><span>]</span><span>.</span><span>items</span><span>()},</span>
                                <span>**</span><span>{</span><span>&#39;DataProvider&#39;</span> <span>+</span> <span>k</span><span>:</span> <span>v</span>         <span>for</span> <span>k</span><span>,</span> <span>v</span> <span>in</span> <span>dp_</span><span>.</span><span>items</span><span>()},</span>
                                <span>**</span><span>{</span><span>&#39;Operator&#39;</span> <span>+</span> <span>k</span><span>:</span> <span>v</span>             <span>for</span> <span>k</span><span>,</span> <span>v</span> <span>in</span> <span>op_</span><span>.</span><span>items</span><span>()},</span>
                                <span>**</span><span>{</span><span>&#39;StatusType&#39;</span> <span>+</span> <span>k</span><span>:</span> <span>v</span>           <span>for</span> <span>k</span><span>,</span> <span>v</span> <span>in</span> <span>st_</span><span>.</span><span>items</span><span>()},</span>
                                <span>**</span><span>{</span><span>&#39;UsageType&#39;</span> <span>+</span> <span>k</span><span>:</span> <span>v</span>            <span>for</span> <span>k</span><span>,</span> <span>v</span> <span>in</span> <span>us_</span><span>.</span><span>items</span><span>()},</span>
                                <span>**</span><span>{</span><span>&#39;SubmissionStatusType&#39;</span> <span>+</span> <span>k</span><span>:</span> <span>v</span> <span>for</span> <span>k</span><span>,</span> <span>v</span> <span>in</span> <span>ss_</span><span>.</span><span>items</span><span>()},</span>
                                <span>**</span><span>{</span><span>&#39;ConnectionType&#39;</span> <span>+</span> <span>k</span><span>:</span> <span>v</span>       <span>for</span> <span>k</span><span>,</span> <span>v</span> <span>in</span> <span>ct_</span><span>.</span><span>items</span><span>()},</span>
                                <span>**</span><span>{</span><span>&#39;CurrentType&#39;</span> <span>+</span> <span>k</span><span>:</span> <span>v</span>          <span>for</span> <span>k</span><span>,</span> <span>v</span> <span>in</span> <span>cu_</span><span>.</span><span>items</span><span>()},</span>
                                <span>**</span><span>{</span><span>&#39;ConnectionStatusType&#39;</span> <span>+</span> <span>k</span><span>:</span> <span>v</span> <span>for</span> <span>k</span><span>,</span> <span>v</span> <span>in</span> <span>cs_</span><span>.</span><span>items</span><span>()},</span>
                                <span>**</span><span>{</span><span>&#39;Location&#39;</span> <span>+</span> <span>k</span><span>:</span> <span>recs</span><span>.</span><span>get</span><span>(</span><span>k</span><span>,</span> <span>None</span><span>)</span>
                                <span>for</span> <span>k</span> <span>in</span> <span>station_keys</span><span>}})</span> <span>+</span> <span>&#39;</span><span>\n</span><span>&#39;</span><span>)</span>
</pre></div>
<p>The following will convert the JSONL into a DuckDB table using its internal file format.</p>
<div><pre><span></span>$<span> </span>~/duckdb<span> </span>-c<span> </span><span>&#34;CREATE OR REPLACE TABLE connections aS</span>
<span>                    SELECT *</span>
<span>                    FROM &#39;connections.json&#39;;&#34;</span><span> </span><span>\</span>
<span>           </span>connections.duckdb
</pre></div>
<p>The resulting DuckDB file is 98 MB and consists of 373,428 records. Below is an example record.</p>
<div><pre><span></span>$<span> </span>~/duckdb<span> </span>-json<span> </span><span>\</span>
<span>           </span>-c<span> </span><span>&#34;SELECT *</span>
<span>               FROM connections</span>
<span>               WHERE AddressCountryIso2 = &#39;EE&#39;</span>
<span>               LIMIT 1;&#34;</span><span> </span><span>\</span>
<span>           </span>connections.duckdb<span> </span><span>\</span>
<span>    </span><span>|</span><span> </span>tail<span> </span>-n1<span> </span><span>\</span>
<span>    </span><span>|</span><span> </span>jq<span> </span>-S<span> </span>.
</pre></div>
<div><pre><span></span><span>[</span>
<span>  </span><span>{</span>
<span>    </span><span>&#34;AddressAccessComments&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;AddressAddressLine1&#34;</span><span>:</span><span> </span><span>&#34;Mere Boulevard 7&#34;</span><span>,</span>
<span>    </span><span>&#34;AddressAddressLine2&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;AddressContactEmail&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;AddressContactTelephone1&#34;</span><span>:</span><span> </span><span>&#34;+372 4473888&#34;</span><span>,</span>
<span>    </span><span>&#34;AddressContactTelephone2&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;AddressCountryID&#34;</span><span>:</span><span> </span><span>74</span><span>,</span>
<span>    </span><span>&#34;AddressCountryIso2&#34;</span><span>:</span><span> </span><span>&#34;EE&#34;</span><span>,</span>
<span>    </span><span>&#34;AddressDistanceUnit&#34;</span><span>:</span><span> </span><span>0</span><span>,</span>
<span>    </span><span>&#34;AddressID&#34;</span><span>:</span><span> </span><span>103970</span><span>,</span>
<span>    </span><span>&#34;AddressLatitude&#34;</span><span>:</span><span> </span><span>58.380532</span><span>,</span>
<span>    </span><span>&#34;AddressLongitude&#34;</span><span>:</span><span> </span><span>24.491924</span><span>,</span>
<span>    </span><span>&#34;AddressPostcode&#34;</span><span>:</span><span> </span><span>&#34;80010&#34;</span><span>,</span>
<span>    </span><span>&#34;AddressRelatedURL&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;AddressStateOrProvince&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;AddressTitle&#34;</span><span>:</span><span> </span><span>&#34;Villa Ammende hotel and restaurant&#34;</span><span>,</span>
<span>    </span><span>&#34;AddressTown&#34;</span><span>:</span><span> </span><span>&#34;Pärnu&#34;</span><span>,</span>
<span>    </span><span>&#34;AddressWorldRegion&#34;</span><span>:</span><span> </span><span>&#34;northernEurope&#34;</span><span>,</span>
<span>    </span><span>&#34;ConnectionStatusTypeIsOperational&#34;</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>    </span><span>&#34;ConnectionStatusTypeIsUserSelectable&#34;</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>    </span><span>&#34;ConnectionStatusTypeTitle&#34;</span><span>:</span><span> </span><span>&#34;Operational&#34;</span><span>,</span>
<span>    </span><span>&#34;ConnectionTypeFormalName&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;ConnectionTypeIsDiscontinued&#34;</span><span>:</span><span> </span><span>false</span><span>,</span>
<span>    </span><span>&#34;ConnectionTypeIsObsolete&#34;</span><span>:</span><span> </span><span>false</span><span>,</span>
<span>    </span><span>&#34;ConnectionTypeTitle&#34;</span><span>:</span><span> </span><span>&#34;Tesla (Model S/X)&#34;</span><span>,</span>
<span>    </span><span>&#34;ConnectorAmps&#34;</span><span>:</span><span> </span><span>32</span><span>,</span>
<span>    </span><span>&#34;ConnectorComments&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;ConnectorConnectionTypeID&#34;</span><span>:</span><span> </span><span>30</span><span>,</span>
<span>    </span><span>&#34;ConnectorCurrentTypeID&#34;</span><span>:</span><span> </span><span>20</span><span>,</span>
<span>    </span><span>&#34;ConnectorID&#34;</span><span>:</span><span> </span><span>146294</span><span>,</span>
<span>    </span><span>&#34;ConnectorLevelID&#34;</span><span>:</span><span> </span><span>2</span><span>,</span>
<span>    </span><span>&#34;ConnectorPowerKW&#34;</span><span>:</span><span> </span><span>22</span><span>,</span>
<span>    </span><span>&#34;ConnectorQuantity&#34;</span><span>:</span><span> </span><span>1</span><span>,</span>
<span>    </span><span>&#34;ConnectorReference&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;ConnectorStatusTypeID&#34;</span><span>:</span><span> </span><span>50</span><span>,</span>
<span>    </span><span>&#34;ConnectorVoltage&#34;</span><span>:</span><span> </span><span>400</span><span>,</span>
<span>    </span><span>&#34;CurrentTypeDescription&#34;</span><span>:</span><span> </span><span>&#34;Alternating Current - Three Phase&#34;</span><span>,</span>
<span>    </span><span>&#34;CurrentTypeTitle&#34;</span><span>:</span><span> </span><span>&#34;AC (Three-Phase)&#34;</span><span>,</span>
<span>    </span><span>&#34;DataProviderComments&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;DataProviderDateLastImported&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;DataProviderID&#34;</span><span>:</span><span> </span><span>1</span><span>,</span>
<span>    </span><span>&#34;DataProviderIsApprovedImport&#34;</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>    </span><span>&#34;DataProviderIsOpenDataLicensed&#34;</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>    </span><span>&#34;DataProviderIsProviderEnabled&#34;</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>    </span><span>&#34;DataProviderIsRestrictedEdit&#34;</span><span>:</span><span> </span><span>false</span><span>,</span>
<span>    </span><span>&#34;DataProviderLicense&#34;</span><span>:</span><span> </span><span>&#34;Licensed under Creative Commons Attribution 4.0 International (CC BY 4.0)&#34;</span><span>,</span>
<span>    </span><span>&#34;DataProviderTitle&#34;</span><span>:</span><span> </span><span>&#34;Manual Data Entry&#34;</span><span>,</span>
<span>    </span><span>&#34;DataProviderWebsiteURL&#34;</span><span>:</span><span> </span><span>&#34;http://openchargemap.org&#34;</span><span>,</span>
<span>    </span><span>&#34;LocationDataProviderID&#34;</span><span>:</span><span> </span><span>1</span><span>,</span>
<span>    </span><span>&#34;LocationDateCreated&#34;</span><span>:</span><span> </span><span>&#34;2018-05-05 05:44:00&#34;</span><span>,</span>
<span>    </span><span>&#34;LocationDateLastStatusUpdate&#34;</span><span>:</span><span> </span><span>&#34;2020-07-27 14:52:00&#34;</span><span>,</span>
<span>    </span><span>&#34;LocationDateLastVerified&#34;</span><span>:</span><span> </span><span>&#34;2020-07-27 14:52:00&#34;</span><span>,</span>
<span>    </span><span>&#34;LocationID&#34;</span><span>:</span><span> </span><span>103624</span><span>,</span>
<span>    </span><span>&#34;LocationNumberOfPoints&#34;</span><span>:</span><span> </span><span>2</span><span>,</span>
<span>    </span><span>&#34;LocationProviderBrand&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;LocationStatusTypeID&#34;</span><span>:</span><span> </span><span>50</span><span>,</span>
<span>    </span><span>&#34;LocationSubmissionStatusTypeID&#34;</span><span>:</span><span> </span><span>200</span><span>,</span>
<span>    </span><span>&#34;LocationUUID&#34;</span><span>:</span><span> </span><span>&#34;56ae3b26-c6c0-4770-98bb-aa2beb850147&#34;</span><span>,</span>
<span>    </span><span>&#34;LocationUsageCost&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;LocationUsageTypeID&#34;</span><span>:</span><span> </span><span>4</span><span>,</span>
<span>    </span><span>&#34;OperatorAddressInfo&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;OperatorBookingURL&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;OperatorComments&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;OperatorContactEmail&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;OperatorFaultReportEmail&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;OperatorIsPrivateIndividual&#34;</span><span>:</span><span> </span><span>false</span><span>,</span>
<span>    </span><span>&#34;OperatorIsRestrictedEdit&#34;</span><span>:</span><span> </span><span>false</span><span>,</span>
<span>    </span><span>&#34;OperatorPhonePrimaryContact&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;OperatorPhoneSecondaryContact&#34;</span><span>:</span><span> </span><span>null</span><span>,</span>
<span>    </span><span>&#34;OperatorTitle&#34;</span><span>:</span><span> </span><span>&#34;Tesla (Tesla-only charging)&#34;</span><span>,</span>
<span>    </span><span>&#34;OperatorWebsiteURL&#34;</span><span>:</span><span> </span><span>&#34;http://www.teslamotors.com&#34;</span><span>,</span>
<span>    </span><span>&#34;StatusTypeIsOperational&#34;</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>    </span><span>&#34;StatusTypeIsUserSelectable&#34;</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>    </span><span>&#34;StatusTypeTitle&#34;</span><span>:</span><span> </span><span>&#34;Operational&#34;</span><span>,</span>
<span>    </span><span>&#34;SubmissionStatusTypeIsLive&#34;</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>    </span><span>&#34;SubmissionStatusTypeTitle&#34;</span><span>:</span><span> </span><span>&#34;Submission Published&#34;</span><span>,</span>
<span>    </span><span>&#34;UsageTypeIsAccessKeyRequired&#34;</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>    </span><span>&#34;UsageTypeIsMembershipRequired&#34;</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>    </span><span>&#34;UsageTypeIsPayAtLocation&#34;</span><span>:</span><span> </span><span>false</span><span>,</span>
<span>    </span><span>&#34;UsageTypeTitle&#34;</span><span>:</span><span> </span><span>&#34;Public - Membership Required&#34;</span>
<span>  </span><span>}</span>
<span>]</span>
</pre></div>
</div>
<div id="charging-points-around-the-world">
<h2>Charging Points Around The World</h2>
<p>I&#39;ll break down the number of charging locations by region. These will be broken up into categories of how many stations / bays are available at each location. So far, there is only one location in the world, located in Sweden, with more than 500 bays.</p>
<div><pre><span></span>$<span> </span>~/duckdb<span> </span>connections.duckdb
</pre></div>
<div><pre><span></span><span>SELECT</span><span>   </span><span>AddressWorldRegion</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>==</span><span> </span><span>1</span><span>)</span><span>   </span><span>AS</span><span> </span><span>&#34;1&#34;</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&gt;=</span><span> </span><span>2</span><span>    </span><span>AND</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&lt;</span><span> </span><span>5</span><span>)</span><span>   </span><span>AS</span><span> </span><span>&#34;2_4&#34;</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&gt;=</span><span> </span><span>5</span><span>    </span><span>AND</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&lt;</span><span> </span><span>20</span><span>)</span><span>  </span><span>AS</span><span> </span><span>&#34;5_19&#34;</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&gt;=</span><span> </span><span>20</span><span>   </span><span>AND</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&lt;</span><span> </span><span>50</span><span>)</span><span>  </span><span>AS</span><span> </span><span>&#34;20_49&#34;</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&gt;=</span><span> </span><span>50</span><span>   </span><span>AND</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&lt;</span><span> </span><span>500</span><span>)</span><span> </span><span>AS</span><span> </span><span>&#34;50_499&#34;</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&gt;=</span><span> </span><span>500</span><span>)</span><span> </span><span>AS</span><span> </span><span>&#34;500_plus&#34;</span><span>,</span>
<span>FROM</span><span>     </span><span>connections</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>AddressWorldRegion</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>2</span><span> </span><span>DESC</span><span>;</span>
</pre></div>
<div><pre><span></span>┌────────────────────┬───────┬───────┬───────┬───────┬────────┬──────────┐
│ AddressWorldRegion │   1   │  2_4  │ 5_19  │ 20_49 │ 50_499 │ 500_plus │
│      varchar       │ int64 │ int64 │ int64 │ int64 │ int64  │  int64   │
├────────────────────┼───────┼───────┼───────┼───────┼────────┼──────────┤
│ westernEurope      │ 11561 │ 13919 │  1561 │   122 │     10 │        0 │
│ northernEurope     │  7861 │ 16216 │  5126 │   418 │     98 │        1 │
│ southernEurope     │  6676 │ 17910 │  1607 │    80 │     10 │        0 │
│ northernAmerica    │  3634 │  5589 │  2458 │   193 │     13 │        0 │
│ easternEurope      │  2630 │  1590 │    68 │     1 │      0 │        0 │
│ australia          │   906 │   989 │   136 │     1 │      0 │        0 │
│ westernAsia        │   774 │   360 │    37 │     1 │      0 │        0 │
│ eastAsia           │   446 │   148 │    25 │    18 │      0 │        0 │
│ caribbean          │   341 │    39 │     0 │     0 │      0 │        0 │
│ southAmerica       │   267 │    95 │     7 │     2 │      0 │        0 │
│ southeastAsia      │   247 │   162 │    12 │     1 │      0 │        0 │
│ polynesia          │   156 │     7 │     1 │     0 │      0 │        0 │
│ centralAmerica     │   115 │    45 │     1 │     0 │      0 │        0 │
│ northAfrica        │    98 │    49 │     3 │     0 │      0 │        0 │
│ southernAsia       │    91 │    30 │     1 │     0 │      0 │        0 │
│ southernAfrica     │    35 │   107 │     0 │     0 │      0 │        0 │
│ eastAfrica         │    15 │     7 │     2 │     0 │      0 │        0 │
│ westAfrica         │     2 │     0 │     1 │     0 │      0 │        0 │
│ centralAsia        │     2 │     1 │     1 │     0 │      0 │        0 │
├────────────────────┴───────┴───────┴───────┴───────┴────────┴──────────┤
│ 19 rows                                                      7 columns │
└────────────────────────────────────────────────────────────────────────┘
</pre></div>
<p>This is a breakdown for countries outside of Europe, North America and Australia. Some of these countries are fairly small and have very good charging point coverage but others, I suspect, are vastly underrepresented in this dataset, like China with 126 locations listed.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>AddressCountryIso2</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>==</span><span> </span><span>1</span><span>)</span><span>   </span><span>AS</span><span> </span><span>&#34;1&#34;</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&gt;=</span><span> </span><span>2</span><span>    </span><span>AND</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&lt;</span><span> </span><span>5</span><span>)</span><span>   </span><span>AS</span><span> </span><span>&#34;2_4&#34;</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&gt;=</span><span> </span><span>5</span><span>    </span><span>AND</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&lt;</span><span> </span><span>20</span><span>)</span><span>  </span><span>AS</span><span> </span><span>&#34;5_19&#34;</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&gt;=</span><span> </span><span>20</span><span>   </span><span>AND</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&lt;</span><span> </span><span>50</span><span>)</span><span>  </span><span>AS</span><span> </span><span>&#34;20_49&#34;</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&gt;=</span><span> </span><span>50</span><span>   </span><span>AND</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&lt;</span><span> </span><span>500</span><span>)</span><span> </span><span>AS</span><span> </span><span>&#34;50_499&#34;</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>LocationNumberOfPoints</span><span> </span><span>&gt;=</span><span> </span><span>500</span><span>)</span><span> </span><span>AS</span><span> </span><span>&#34;500_plus&#34;</span><span>,</span>
<span>FROM</span><span>     </span><span>connections</span>
<span>WHERE</span><span>    </span><span>AddressWorldRegion</span><span> </span><span>NOT</span><span> </span><span>LIKE</span><span> </span><span>&#39;%Europe&#39;</span>
<span>AND</span><span>      </span><span>AddressWorldRegion</span><span> </span><span>!=</span><span> </span><span>&#39;northernAmerica&#39;</span>
<span>AND</span><span>      </span><span>AddressCountryIso2</span><span> </span><span>!=</span><span> </span><span>&#39;AU&#39;</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>AddressCountryIso2</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>2</span><span> </span><span>DESC</span>
<span>LIMIT</span><span> </span><span>20</span><span>;</span>
</pre></div>
<div><pre><span></span>┌────────────────────┬───────┬───────┬───────┬───────┬────────┬──────────┐
│ AddressCountryIso2 │   1   │  2_4  │ 5_19  │ 20_49 │ 50_499 │ 500_plus │
│      varchar       │ int64 │ int64 │ int64 │ int64 │ int64  │  int64   │
├────────────────────┼───────┼───────┼───────┼───────┼────────┼──────────┤
│ TR                 │   522 │   177 │    13 │     1 │      0 │        0 │
│ NZ                 │   389 │   510 │    72 │     1 │      0 │        0 │
│ DO                 │   331 │     6 │     0 │     0 │      0 │        0 │
│ JP                 │   226 │    13 │     1 │     0 │      0 │        0 │
│ BR                 │   206 │    51 │     3 │     1 │      0 │        0 │
│ IL                 │   166 │    81 │    20 │     0 │      0 │        0 │
│ CL                 │   156 │     7 │     1 │     0 │      0 │        0 │
│ CN                 │   121 │     4 │     1 │     0 │      0 │        0 │
│ CR                 │   111 │    45 │     1 │     0 │      0 │        0 │
│ ID                 │   110 │    78 │     1 │     0 │      0 │        0 │
│ MY                 │    95 │    78 │    10 │     1 │      0 │        0 │
│ MA                 │    71 │    29 │     2 │     0 │      0 │        0 │
│ HK                 │    67 │   117 │    20 │    18 │      0 │        0 │
│ IN                 │    48 │    13 │     0 │     0 │      0 │        0 │
│ AE                 │    48 │    65 │     4 │     0 │      0 │        0 │
│ LK                 │    40 │    16 │     1 │     0 │      0 │        0 │
│ ZA                 │    34 │   106 │     0 │     0 │      0 │        0 │
│ JO                 │    34 │    34 │     0 │     0 │      0 │        0 │
│ TW                 │    32 │    12 │     3 │     0 │      0 │        0 │
│ UY                 │    25 │     9 │     1 │     0 │      0 │        0 │
├────────────────────┴───────┴───────┴───────┴───────┴────────┴──────────┤
│ 20 rows                                                      7 columns │
└────────────────────────────────────────────────────────────────────────┘
</pre></div>
<p>Much of the data has been submitted by volunteers but there are also official sources as well. Below are the most significant official sources broken down by region.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>AddressWorldRegion</span><span>,</span>
<span>         </span><span>REPLACE</span><span>(</span><span>SPLIT_PART</span><span>(</span><span>REPLACE</span><span>(</span><span>REPLACE</span><span>(</span><span>DataProviderWebsiteURL</span><span>,</span><span> </span><span>&#39;http://&#39;</span><span>,</span><span> </span><span>&#39;&#39;</span><span>),</span><span> </span><span>&#39;https://&#39;</span><span>,</span><span> </span><span>&#39;&#39;</span><span>),</span><span> </span><span>&#39;/&#39;</span><span>,</span><span> </span><span>1</span><span>),</span><span> </span><span>&#39;www.&#39;</span><span>,</span><span> </span><span>&#39;&#39;</span><span>)</span><span> </span><span>AS</span><span> </span><span>domain</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>n_locations</span>
<span>FROM</span><span>     </span><span>connections</span>
<span>WHERE</span><span>    </span><span>DataProviderWebsiteURL</span><span> </span><span>!=</span><span> </span><span>&#39;http://openchargemap.org&#39;</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>1</span><span>,</span><span> </span><span>2</span>
<span>HAVING</span><span>   </span><span>n_locations</span><span> </span><span>&gt;</span><span> </span><span>50</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>1</span><span>,</span><span> </span><span>3</span><span> </span><span>DESC</span><span>;</span>
</pre></div>
<div><pre><span></span>┌────────────────────┬─────────────────────────┬─────────────┐
│ AddressWorldRegion │         domain          │ n_locations │
│      varchar       │         varchar         │    int64    │
├────────────────────┼─────────────────────────┼─────────────┤
│ eastAsia           │ chademo.com             │        1268 │
│ eastAsia           │ oplaadpalen.nl          │         182 │
│ eastAsia           │ carstations.com         │         117 │
│ easternEurope      │ sitronics-electro.com   │          93 │
│ northernAmerica    │ afdc.energy.gov         │       57074 │
│ northernAmerica    │ carstations.com         │        2464 │
│ northernEurope     │ chargepoints.dft.gov.uk │       11864 │
│ northernEurope     │ nobil.no                │        9081 │
│ northernEurope     │ ev.lakd.lt              │         234 │
│ southernEurope     │ mobie.pt                │         751 │
│ southernEurope     │ oplaadpalen.nl          │          59 │
│ westernEurope      │ bundesnetzagentur.de    │       10533 │
│ westernEurope      │ data.gouv.fr            │       10230 │
│ westernEurope      │ oplaadpalen.nl          │        7698 │
├────────────────────┴─────────────────────────┴─────────────┤
│ 14 rows                                          3 columns │
└────────────────────────────────────────────────────────────┘
</pre></div>
<p>There has been a move to either partly or fully automate data imports. Below is a breakdown by each location&#39;s last update as to which process was used to refresh its record.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>SUBSTR</span><span>(</span><span>LocationDateLastStatusUpdate</span><span>::</span><span>TEXT</span><span>,</span><span> </span><span>1</span><span>,</span><span> </span><span>4</span><span>)</span><span> </span><span>last_update</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>DataProviderTitle</span><span> </span><span>=</span><span> </span><span>&#39;Manual Data Entry&#39;</span><span>)</span><span> </span><span>as</span><span> </span><span>manual</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>DataProviderTitle</span><span> </span><span>=</span><span> </span><span>&#39;Partially Automated (Ad-Hoc Import)&#39;</span><span>)</span><span> </span><span>as</span><span> </span><span>partly</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>DataProviderTitle</span><span> </span><span>=</span><span> </span><span>&#39;Automated Import&#39;</span><span>)</span><span> </span><span>as</span><span> </span><span>automated</span>
<span>FROM</span><span>     </span><span>connections</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>last_update</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>last_update</span><span> </span><span>DESC</span><span>;</span>
</pre></div>
<div><pre><span></span>┌─────────────┬────────┬────────┬───────────┐
│ last_update │ manual │ partly │ automated │
│   varchar   │ int64  │ int64  │   int64   │
├─────────────┼────────┼────────┼───────────┤
│ 2024        │   5362 │   6288 │     42766 │
│ 2023        │  25136 │   2764 │     17231 │
│ 2022        │  11433 │      0 │      5729 │
│ 2021        │   5590 │    253 │     10592 │
│ 2020        │   9507 │      7 │      9275 │
│ 2019        │   7478 │    127 │      4861 │
│ 2018        │   8151 │      1 │        25 │
│ 2017        │   8546 │      1 │      2484 │
│ 2016        │   4568 │     18 │      7857 │
│ 2015        │   3902 │      0 │       105 │
│ 2014        │    650 │      0 │       120 │
│ 2013        │    523 │      0 │         3 │
│ 2012        │    182 │      1 │         0 │
│ 2011        │     89 │      0 │         0 │
│ 2010        │     25 │      0 │         0 │
├─────────────┴────────┴────────┴───────────┤
│ 15 rows                         4 columns │
└───────────────────────────────────────────┘
</pre></div>
<p>There has been a considerable amount of effort put into refreshing data. Below is a breakdown of the number of locations refreshed before and after 2021.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>AddressWorldRegion</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>SUBSTR</span><span>(</span><span>LocationDateLastVerified</span><span>::</span><span>VARCHAR</span><span>,</span><span> </span><span>1</span><span>,</span><span> </span><span>4</span><span>)::</span><span>INT</span><span> </span><span>&lt;</span><span> </span><span>2021</span><span>)</span><span>  </span><span>AS</span><span> </span><span>&#34;before_2021&#34;</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>SUBSTR</span><span>(</span><span>LocationDateLastVerified</span><span>::</span><span>VARCHAR</span><span>,</span><span> </span><span>1</span><span>,</span><span> </span><span>4</span><span>)::</span><span>INT</span><span> </span><span>&gt;=</span><span> </span><span>2021</span><span>)</span><span> </span><span>AS</span><span> </span><span>&#34;2021_onward&#34;</span>
<span>FROM</span><span>     </span><span>connections</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>AddressWorldRegion</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>2</span><span> </span><span>DESC</span><span>;</span>
</pre></div>
<div><pre><span></span>┌────────────────────┬─────────────┬─────────────┐
│ AddressWorldRegion │ before_2021 │ 2021_onward │
│      varchar       │    int64    │    int64    │
├────────────────────┼─────────────┼─────────────┤
│ westernEurope      │       28264 │       19871 │
│ northernAmerica    │       19253 │       53468 │
│ northernEurope     │       10155 │       32841 │
│ southernEurope     │        7443 │       19981 │
│ eastAsia           │        1860 │          46 │
│ easternEurope      │        1758 │        2650 │
│ australia          │         480 │        1560 │
│ westernAsia        │         388 │         943 │
│ centralAmerica     │          52 │         109 │
│ southeastAsia      │          37 │         385 │
│ southernAsia       │          21 │         101 │
│ southernAfrica     │          16 │         126 │
│ southAmerica       │          15 │         357 │
│ northAfrica        │          13 │         137 │
│ caribbean          │           9 │         371 │
│ polynesia          │           5 │         172 │
│ eastAfrica         │           3 │          21 │
│ centralAsia        │           2 │           2 │
│ westAfrica         │           0 │           3 │
├────────────────────┴─────────────┴─────────────┤
│ 19 rows                              3 columns │
└────────────────────────────────────────────────┘
</pre></div>
</div>
<div id="charging-point-operators">
<h2>Charging Point Operators</h2>
<p>ChargePoint, Tesla, BlinkCharging, flo and Shell Recharge Solutions are the most significant operators with more than 3K locations and a significant presence outside of their home market.</p>
<div><pre><span></span><span>CREATE</span><span> </span><span>OR</span><span> </span><span>REPLACE</span><span> </span><span>TEMPORARY</span><span> </span><span>TABLE</span><span> </span><span>op_locations</span><span> </span><span>AS</span>
<span>    </span><span>SELECT</span><span>   </span><span>SPLIT_PART</span><span>(</span><span>OperatorTitle</span><span>,</span><span> </span><span>&#39; (&#39;</span><span>,</span><span> </span><span>1</span><span>)</span><span> </span><span>AS</span><span> </span><span>OperatorTitle</span><span>,</span>
<span>             </span><span>AddressCountryIso2</span><span>,</span>
<span>             </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>n_locations</span>
<span>    </span><span>FROM</span><span>     </span><span>connections</span>
<span>    </span><span>WHERE</span><span>    </span><span>LENGTH</span><span>(</span><span>OperatorTitle</span><span>)</span><span> </span><span>&gt;</span><span> </span><span>1</span>
<span>    </span><span>AND</span><span>      </span><span>OperatorTitle</span><span> </span><span>NOT</span><span> </span><span>LIKE</span><span> </span><span>&#39;(Unknown Operator)&#39;</span>
<span>    </span><span>AND</span><span>      </span><span>OperatorTitle</span><span> </span><span>NOT</span><span> </span><span>LIKE</span><span> </span><span>&#39;(Business Owner at Location)&#39;</span>
<span>    </span><span>GROUP</span><span> </span><span>BY</span><span> </span><span>1</span><span>,</span><span> </span><span>2</span>
<span>    </span><span>HAVING</span><span>   </span><span>n_locations</span><span> </span><span>&gt;</span><span> </span><span>1000</span><span>;</span>

<span>CREATE</span><span> </span><span>OR</span><span> </span><span>REPLACE</span><span> </span><span>TEMPORARY</span><span> </span><span>TABLE</span><span> </span><span>op_locations_fillin</span><span> </span><span>AS</span>
<span>    </span><span>SELECT</span><span> </span><span>SPLIT_PART</span><span>(</span><span>OperatorTitle</span><span>,</span><span> </span><span>&#39; (&#39;</span><span>,</span><span> </span><span>1</span><span>)</span><span> </span><span>AS</span><span> </span><span>OperatorTitle</span><span>,</span>
<span>           </span><span>AddressCountryIso2</span><span>,</span>
<span>           </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>n_locations</span>
<span>    </span><span>FROM</span><span>   </span><span>connections</span>
<span>    </span><span>WHERE</span><span>  </span><span>SPLIT_PART</span><span>(</span><span>OperatorTitle</span><span>,</span><span> </span><span>&#39; (&#39;</span><span>,</span><span> </span><span>1</span><span>)</span><span> </span><span>IN</span><span> </span><span>(</span>
<span>                </span><span>SELECT</span><span> </span><span>DISTINCT</span><span> </span><span>OperatorTitle</span>
<span>                </span><span>FROM</span><span>            </span><span>op_locations</span><span>)</span>
<span>    </span><span>AND</span><span>    </span><span>AddressCountryIso2</span><span> </span><span>IN</span><span> </span><span>(</span>
<span>                </span><span>SELECT</span><span> </span><span>DISTINCT</span><span> </span><span>AddressCountryIso2</span>
<span>                </span><span>FROM</span><span>            </span><span>op_locations</span><span>)</span>
<span>    </span><span>GROUP</span><span> </span><span>BY</span><span> </span><span>1</span><span>,</span><span> </span><span>2</span><span>;</span>

<span>WITH</span><span> </span><span>pivot_alias</span><span> </span><span>AS</span><span> </span><span>(</span>
<span>    </span><span>PIVOT</span><span>    </span><span>op_locations_fillin</span>
<span>    </span><span>ON</span><span>       </span><span>AddressCountryIso2</span>
<span>    </span><span>USING</span><span>    </span><span>SUM</span><span>(</span><span>n_locations</span><span>)</span>
<span>    </span><span>GROUP</span><span> </span><span>BY</span><span> </span><span>OperatorTitle</span>
<span>)</span>
<span>SELECT</span><span>   </span><span>OperatorTitle</span><span>,</span>
<span>         </span><span>US</span><span>,</span>
<span>         </span><span>CA</span><span>,</span>
<span>         </span><span>*</span><span> </span><span>EXCLUDE</span><span>(</span><span>OperatorTitle</span><span>,</span><span> </span><span>US</span><span>,</span><span> </span><span>CA</span><span>)</span>
<span>FROM</span><span>     </span><span>pivot_alias</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>US</span><span> </span><span>DESC</span><span>;</span>
</pre></div>
<div><pre><span></span>┌──────────────────────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┬────────┐
│      OperatorTitle       │   US   │   CA   │   DE   │   ES   │   FR   │   GB   │   IT   │   NL   │   PT   │
│         varchar          │ int128 │ int128 │ int128 │ int128 │ int128 │ int128 │ int128 │ int128 │ int128 │
├──────────────────────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┼────────┤
│ ChargePoint              │  23374 │   2483 │     19 │        │     53 │    317 │     14 │     20 │        │
│ Tesla                    │   7242 │    825 │    790 │     83 │    532 │    631 │    711 │    128 │    178 │
│ Blink Charging           │   6432 │     27 │        │        │        │    552 │        │        │        │
│ EV Connect               │   1687 │     64 │        │        │        │        │        │        │        │
│ Shell Recharge Solutions │   1289 │     95 │    823 │        │      4 │    273 │      1 │   1228 │        │
│ eVgo Network             │   1220 │        │        │        │        │        │        │        │        │
│ PEA Volta                │   1191 │      1 │        │        │        │        │        │        │        │
│ flo                      │    783 │   2958 │        │        │        │        │        │        │        │
│ Enel X                   │     16 │        │        │      1 │        │      2 │   4124 │        │        │
│ EV-Box                   │      3 │        │      9 │        │      3 │     17 │     24 │   2055 │        │
│ Endesa                   │        │        │        │   1291 │        │        │        │        │        │
│ Izivia                   │        │        │        │        │   1406 │        │        │        │        │
│ Mobie.pt                 │        │        │        │        │        │        │        │        │   1769 │
│ EVnetNL                  │        │        │      6 │        │        │        │        │   1788 │        │
│ ubitricity               │        │        │     57 │        │      3 │   5253 │        │        │        │
│ POD Point                │        │        │        │        │        │   3342 │        │      1 │        │
│ Chargeplace Scotland     │        │        │        │        │        │   1359 │        │        │        │
│ Innogy SE                │        │        │   2205 │        │        │      1 │        │        │        │
│ Circuit Electrique       │        │   2089 │        │        │        │        │        │        │        │
│ EnBW                     │        │        │   1268 │        │        │        │        │        │        │
│ Char.gy                  │        │        │        │        │        │   2862 │        │        │        │
│ Source London            │        │        │        │        │        │   1172 │        │        │        │
│ Mercadona                │        │        │        │   1071 │        │        │        │        │        │
│ BP Pulse                 │        │        │        │     73 │        │   2157 │        │        │        │
│ SureCharge               │        │        │        │        │        │   1780 │        │        │        │
│ Iberdrola                │        │        │        │   1734 │        │        │        │        │     36 │
│ ladenetz.de              │        │        │   1488 │        │        │        │        │      2 │        │
├──────────────────────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┴────────┤
│ 27 rows                                                                                        10 columns │
└───────────────────────────────────────────────────────────────────────────────────────────────────────────┘
</pre></div>
</div>
<div id="charging-infrastructure">
<h2>Charging Infrastructure</h2>
<p>Below are the most popular connection types in Europe.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>ConnectionTypeTitle</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>*</span><span>)</span>
<span>FROM</span><span>     </span><span>connections</span>
<span>WHERE</span><span>    </span><span>AddressWorldRegion</span><span> </span><span>LIKE</span><span> </span><span>&#39;%Europe&#39;</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>1</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>2</span><span> </span><span>DESC</span>
<span>LIMIT</span><span>    </span><span>10</span><span>;</span>
</pre></div>
<div><pre><span></span>┌───────────────────────────────────┬──────────────┐
│        ConnectionTypeTitle        │ count_star() │
│              varchar              │    int64     │
├───────────────────────────────────┼──────────────┤
│ Type 2 (Socket Only)              │       147088 │
│ CCS (Type 2)                      │        32961 │
│ CEE 7/4 - Schuko - Type F         │        23758 │
│ Type 2 (Tethered Connector)       │        22946 │
│ CHAdeMO                           │        21898 │
│ Unknown                           │        12391 │
│ Tesla (Model S/X)                 │         4749 │
│ SCAME Type 3A (Low Power)         │         2257 │
│ SCAME Type 3C (Schneider-Legrand) │         2159 │
│ Type 1 (J1772)                    │         1445 │
├───────────────────────────────────┴──────────────┤
│ 10 rows                                2 columns │
└──────────────────────────────────────────────────┘
</pre></div>
<p>Below are the most popular connection types in North America.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>ConnectionTypeTitle</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>*</span><span>)</span>
<span>FROM</span><span>     </span><span>connections</span>
<span>WHERE</span><span>    </span><span>AddressWorldRegion</span><span> </span><span>=</span><span> </span><span>&#39;northernAmerica&#39;</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>1</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>2</span><span> </span><span>DESC</span>
<span>LIMIT</span><span>    </span><span>10</span><span>;</span>
</pre></div>
<div><pre><span></span>┌───────────────────────────┬──────────────┐
│    ConnectionTypeTitle    │ count_star() │
│          varchar          │    int64     │
├───────────────────────────┼──────────────┤
│ Type 1 (J1772)            │        56622 │
│ CCS (Type 1)              │         9869 │
│ CHAdeMO                   │         7554 │
│ Tesla (Model S/X)         │         6356 │
│ NACS / Tesla Supercharger │         2663 │
│ NEMA 5-20R                │         1375 │
│ Unknown                   │          443 │
│ NEMA 5-15R                │          247 │
│ NEMA 14-50                │          231 │
│ Avcon Connector           │           44 │
├───────────────────────────┴──────────────┤
│ 10 rows                        2 columns │
└──────────────────────────────────────────┘
</pre></div>
<p>There is a wide variety of power delivery specifications for each connection type. These are the most popular in Europe.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>ConnectionTypeTitle</span><span>          </span><span>AS</span><span> </span><span>Connector</span><span>,</span>
<span>         </span><span>ConnectorVoltage</span><span>             </span><span>AS</span><span> </span><span>Voltage</span><span>,</span>
<span>         </span><span>ConnectorAmps</span><span>                </span><span>AS</span><span> </span><span>Amps</span><span>,</span>
<span>         </span><span>ConnectorPowerKW</span><span>             </span><span>AS</span><span> </span><span>PowerKW</span><span>,</span>
<span>         </span><span>CurrentTypeTitle</span><span>             </span><span>AS</span><span> </span><span>Current</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>AS</span><span> </span><span>n_locations</span>
<span>FROM</span><span>     </span><span>connections</span>
<span>WHERE</span><span>    </span><span>AddressWorldRegion</span><span> </span><span>LIKE</span><span> </span><span>&#39;%Europe&#39;</span>
<span>AND</span><span>      </span><span>ConnectorVoltage</span><span> </span><span>&gt;</span><span> </span><span>0</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>1</span><span>,</span><span> </span><span>2</span><span>,</span><span> </span><span>3</span><span>,</span><span> </span><span>4</span><span>,</span><span> </span><span>5</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>6</span><span> </span><span>DESC</span>
<span>LIMIT</span><span>    </span><span>20</span><span>;</span>
</pre></div>
<div><pre><span></span>┌──────────────────────────────┬─────────┬───────┬─────────┬───────────────────┬─────────────┐
│          Connector           │ Voltage │ Amps  │ PowerKW │      Current      │ n_locations │
│           varchar            │  int64  │ int64 │ double  │      varchar      │    int64    │
├──────────────────────────────┼─────────┼───────┼─────────┼───────────────────┼─────────────┤
│ Type 2 (Socket Only)         │     400 │    32 │    22.0 │ AC (Three-Phase)  │       22279 │
│ Type 2 (Socket Only)         │     230 │    32 │     7.0 │ AC (Single-Phase) │        7525 │
│ Type 2 (Socket Only)         │     230 │    16 │     3.7 │ AC (Single-Phase) │        5311 │
│ Type 2 (Socket Only)         │     400 │    16 │    11.0 │ AC (Three-Phase)  │        4032 │
│ CEE 7/4 - Schuko - Type F    │     230 │    16 │     3.7 │ AC (Single-Phase) │        3202 │
│ Type 2 (Tethered Connector)  │     400 │    63 │    43.0 │ AC (Three-Phase)  │        2089 │
│ CHAdeMO                      │     400 │   125 │    50.0 │ DC                │        1819 │
│ Tesla (Model S/X)            │     400 │    32 │    22.0 │ AC (Three-Phase)  │        1811 │
│ Type 2 (Socket Only)         │     220 │     7 │     4.8 │ AC (Single-Phase) │        1797 │
│ Type 2 (Socket Only)         │     230 │    22 │     5.1 │ AC (Single-Phase) │        1771 │
│ Type 2 (Tethered Connector)  │     400 │    32 │    22.0 │ AC (Three-Phase)  │        1712 │
│ CHAdeMO                      │     500 │   100 │    50.0 │ DC                │        1613 │
│ Type 2 (Socket Only)         │     230 │     7 │     5.0 │ AC (Single-Phase) │        1582 │
│ SCAME Type 3A (Low Power)    │     240 │    16 │     3.7 │ AC (Single-Phase) │        1495 │
│ Type 2 (Socket Only)         │     400 │    32 │    22.0 │ DC                │        1450 │
│ Unknown                      │     230 │    16 │     3.7 │                   │        1414 │
│ CCS (Type 2)                 │     500 │   100 │    50.0 │ DC                │        1051 │
│ Type 2 (Socket Only)         │     230 │    32 │     7.4 │ AC (Single-Phase) │        1036 │
│ CHAdeMO                      │     500 │   120 │    50.0 │ DC                │        1016 │
│ CCS (Type 2)                 │     400 │   125 │    50.0 │ DC                │        1003 │
├──────────────────────────────┴─────────┴───────┴─────────┴───────────────────┴─────────────┤
│ 20 rows                                                                          6 columns │
└────────────────────────────────────────────────────────────────────────────────────────────┘
</pre></div>
<p>These are the most popular in North America.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>ConnectionTypeTitle</span><span>,</span>
<span>         </span><span>ConnectorVoltage</span><span>,</span>
<span>         </span><span>ConnectorAmps</span><span>,</span>
<span>         </span><span>ConnectorPowerKW</span><span>,</span>
<span>         </span><span>CurrentTypeTitle</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>n_locations</span>
<span>FROM</span><span>     </span><span>connections</span>
<span>WHERE</span><span>    </span><span>AddressWorldRegion</span><span> </span><span>=</span><span> </span><span>&#39;northernAmerica&#39;</span>
<span>AND</span><span>      </span><span>ConnectorVoltage</span><span> </span><span>&gt;</span><span> </span><span>0</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>1</span><span>,</span><span> </span><span>2</span><span>,</span><span> </span><span>3</span><span>,</span><span> </span><span>4</span><span>,</span><span> </span><span>5</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>6</span><span> </span><span>DESC</span>
<span>LIMIT</span><span>    </span><span>20</span><span>;</span>
</pre></div>
<div><pre><span></span>┌─────────────────────┬──────────────────┬───────────────┬──────────────────┬───────────────────┬─────────────┐
│ ConnectionTypeTitle │ ConnectorVoltage │ ConnectorAmps │ ConnectorPowerKW │ CurrentTypeTitle  │ n_locations │
│       varchar       │      int64       │     int64     │      double      │      varchar      │    int64    │
├─────────────────────┼──────────────────┼───────────────┼──────────────────┼───────────────────┼─────────────┤
│ Type 1 (J1772)      │              230 │            16 │              3.7 │ AC (Single-Phase) │       45891 │
│ Type 1 (J1772)      │              230 │            16 │              3.0 │ AC (Single-Phase) │        4842 │
│ Tesla (Model S/X)   │              230 │            16 │              3.7 │ AC (Single-Phase) │        1419 │
│ CCS (Type 1)        │              400 │           100 │             40.0 │ DC                │        1338 │
│ CHAdeMO             │              400 │           100 │             40.0 │ DC                │        1180 │
│ Type 1 (J1772)      │              230 │            32 │              7.0 │ AC (Single-Phase) │         698 │
│ Tesla (Model S/X)   │              230 │            16 │             16.0 │ AC (Single-Phase) │         568 │
│ Tesla (Model S/X)   │              230 │            16 │              8.0 │ AC (Single-Phase) │         433 │
│ NEMA 5-20R          │              120 │            16 │              1.9 │ AC (Single-Phase) │         414 │
│ NEMA 5-20R          │              120 │            16 │              1.0 │ AC (Single-Phase) │         233 │
│ NEMA 5-15R          │              120 │            16 │              1.9 │ AC (Single-Phase) │         222 │
│ Tesla (Model S/X)   │              230 │            16 │             13.0 │ AC (Single-Phase) │         165 │
│ CCS (Type 1)        │              400 │           100 │             40.0 │ AC (Single-Phase) │         123 │
│ NEMA 14-50          │              120 │            16 │              1.9 │ AC (Single-Phase) │         123 │
│ Unknown             │              230 │            16 │              3.0 │ AC (Single-Phase) │         113 │
│ CHAdeMO             │              400 │           100 │             40.0 │ AC (Single-Phase) │         111 │
│ Type 1 (J1772)      │              240 │            72 │             17.3 │                   │         110 │
│ CCS (Type 1)        │              400 │           125 │             50.0 │ DC                │          92 │
│ CHAdeMO             │              400 │           125 │             50.0 │ DC                │          92 │
│ Unknown             │              120 │            16 │              1.9 │ AC (Single-Phase) │          50 │
├─────────────────────┴──────────────────┴───────────────┴──────────────────┴───────────────────┴─────────────┤
│ 20 rows                                                                                           6 columns │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
</pre></div>
<p>Looking at the most popular connection and power delivery combination for North America, it&#39;s not one but many operators that offer this combination.</p>
<div><pre><span></span><span>SELECT</span><span>   </span><span>OperatorTitle</span><span>,</span>
<span>         </span><span>ConnectionTypeTitle</span><span>,</span>
<span>         </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>n_locations</span>
<span>FROM</span><span>     </span><span>connections</span>
<span>WHERE</span><span>    </span><span>ConnectorVoltage</span><span> </span><span>=</span><span> </span><span>230</span>
<span>AND</span><span>      </span><span>ConnectorAmps</span><span> </span><span>=</span><span> </span><span>16</span>
<span>AND</span><span>      </span><span>ConnectorPowerKW</span><span> </span><span>=</span><span> </span><span>3</span><span>.</span><span>7</span>
<span>AND</span><span>      </span><span>CurrentTypeTitle</span><span> </span><span>=</span><span> </span><span>&#39;AC (Single-Phase)&#39;</span>
<span>AND</span><span>      </span><span>LENGTH</span><span>(</span><span>OperatorTitle</span><span>)</span><span> </span><span>&gt;</span><span> </span><span>1</span>
<span>AND</span><span>      </span><span>AddressWorldRegion</span><span> </span><span>=</span><span> </span><span>&#39;northernAmerica&#39;</span>
<span>GROUP</span><span> </span><span>BY</span><span> </span><span>1</span><span>,</span><span> </span><span>2</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>3</span><span> </span><span>DESC</span>
<span>LIMIT</span><span>    </span><span>20</span><span>;</span>
</pre></div>
<div><pre><span></span>┌───────────────────────────────────┬─────────────────────┬─────────────┐
│           OperatorTitle           │ ConnectionTypeTitle │ n_locations │
│              varchar              │       varchar       │    int64    │
├───────────────────────────────────┼─────────────────────┼─────────────┤
│ ChargePoint                       │ Type 1 (J1772)      │       18837 │
│ Blink Charging                    │ Type 1 (J1772)      │        5770 │
│ flo                               │ Type 1 (J1772)      │        2654 │
│ Circuit Electrique                │ Type 1 (J1772)      │        1718 │
│ EV Connect                        │ Type 1 (J1772)      │        1193 │
│ Tesla (Tesla-only charging)       │ Tesla (Model S/X)   │        1184 │
│ PEA Volta                         │ Type 1 (J1772)      │        1141 │
│ Shell Recharge Solutions (US)     │ Type 1 (J1772)      │         882 │
│ AmpUp                             │ Type 1 (J1772)      │         764 │
│ SWTCH - Charge Everywhere         │ Type 1 (J1772)      │         482 │
│ SemaConnect                       │ Type 1 (J1772)      │         394 │
│ Livingston Charge Port            │ Type 1 (J1772)      │         325 │
│ OpConnect                         │ Type 1 (J1772)      │         296 │
│ eVgo Network                      │ Type 1 (J1772)      │         230 │
│ GE WattStation (No longer active) │ Type 1 (J1772)      │         162 │
│ Rivian Waypoints L2 Network       │ Type 1 (J1772)      │         160 │
│ ChargeUp (NovaCharge)             │ Type 1 (J1772)      │         146 │
│ Universal EV Charging             │ Type 1 (J1772)      │         143 │
│ Blink Charging (Europe)           │ Type 1 (J1772)      │         136 │
│ Powerflex                         │ Type 1 (J1772)      │         134 │
├───────────────────────────────────┴─────────────────────┴─────────────┤
│ 20 rows                                                     3 columns │
└───────────────────────────────────────────────────────────────────────┘
</pre></div>
</div>
<div id="charging-point-access">
<h2>Charging Point Access</h2>
<p>In terms of location access, the vast majority are publically available. Of those that are private, they still might be accessible as both &#34;For Staff, Visitors or Customers&#34; and &#34;Privately Owned - Notice Required&#34; are included in the 16,229 locations below.</p>
<div><pre><span></span><span>SELECT</span><span> </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>UsageTypeTitle</span><span> </span><span>LIKE</span><span> </span><span>&#39;Public%&#39;</span><span>)</span><span> </span><span>AS</span><span> </span><span>public</span><span>,</span>
<span>       </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>UsageTypeTitle</span><span> </span><span>LIKE</span><span> </span><span>&#39;Private%&#39;</span><span>)</span><span> </span><span>AS</span><span> </span><span>private</span><span>,</span>
<span>       </span><span>COUNT</span><span>(</span><span>DISTINCT</span><span> </span><span>LocationUUID</span><span>)</span><span> </span><span>FILTER</span><span> </span><span>(</span><span>WHERE</span><span> </span><span>UsageTypeTitle</span><span> </span><span>NOT</span><span> </span><span>LIKE</span><span> </span><span>&#39;Public%&#39;</span>
<span>                                            </span><span>AND</span><span>   </span><span>UsageTypeTitle</span><span> </span><span>NOT</span><span> </span><span>LIKE</span><span> </span><span>&#39;Private%&#39;</span><span>)</span><span> </span><span>AS</span><span> </span><span>unknown</span><span>,</span>
<span>FROM</span><span> </span><span>connections</span>
<span>ORDER</span><span> </span><span>BY</span><span> </span><span>1</span><span> </span><span>DESC</span><span>;</span>
</pre></div>
<div><pre><span></span>┌────────┬─────────┬─────────┐
│ public │ private │ unknown │
│ int64  │  int64  │  int64  │
├────────┼─────────┼─────────┤
│ 150481 │   16229 │     657 │
└────────┴─────────┴─────────┘
</pre></div>
</div>

        </div><p>
            Thank you for taking the time to read this post. I offer both consulting and hands-on development services to clients in North America and Europe. If you&#39;d like to discuss how my offerings can help your business please contact me via <a href="https://uk.linkedin.com/in/marklitwintschik/">LinkedIn</a>.
        </p></div>
  </body>
</html>
