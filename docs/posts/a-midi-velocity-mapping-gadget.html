<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.jacobvosmaer.nl/0063-midi-velocity-mapper/">Original</a>
    <h1>A MIDI velocity mapping gadget</h1>
    
    <div id="readability-page-1" class="page"><div><p><i><a href="https://blog.jacobvosmaer.nl/">Jacob Vosmaer&#39;s blog</a></i></p>

<p>2025-10-11</p>

<p>I made a simple <a href="https://github.com/jacobvosmaer/midi-mangler/tree/velocity-mapper">MIDI gadget</a> to explore a musical instrument interface concept. I have previously demonstrated the gadget in <a href="https://www.youtube.com/watch?v=L_Z7et3F8ms">this video</a>.</p>

<h2>Inspiration</h2>

<p>The inspiration for this project came from the <a href="https://yamahablackboxes.com/collection/yamaha-rx5-drum-machine/">Yamaha RX5</a> drum machine from 1986. Like many similar instruments it has pads that let you play drum sounds with your fingers (a bit like a computer keyboard) but these pads do not contain sensors to read how hard you strike them. You can only play at a fixed volume or &#34;velocity&#34; in MIDI speak.</p>

<p>The RX5 has a workaound for this limitation. The pads are arranged in two rows of 12. You can enter a special mode &#34;Multi Voice Mode&#34; where you pick one sound (e.g. a snare drum) and have the top row of 12 pads all play that same sound, but at different volume levels. Now if you want to play snare drum hits with different levels, instead of pressing the same pad with different strengths, you press different pads.</p>

<p>Of course now you can&#39;t play the other sounds on the top row anymore but if you are recording a drum pattern instrument by instrument that is not a problem: you drop in and out of Multi Voice mode as needed.</p>

<p>I don&#39;t know if the RX5 was the first instrument to use this user interface idea but it&#39;s the instrument I know it from.
Newer drum machines tend to have &#34;velocity sensitivity&#34; pads so you don&#39;t need this trick anymore, but even an instrument like the 1988 <a href="https://www.polynominal.com/akai-mpc60/index.html">Akai MPC 60</a> with its velocity sensitive drum pads still had a &#34;16 Levels&#34; mode where you map the same sound across the pads at different velocity levels.</p>

<p>So while using the RX5 I was reminded that this velocity mapping feature is fun. But on the RX5 it is only usable with the internal sequencer. Wouldn&#39;t it be nice to use this technique with other machines as well?</p>

<h2>Distraction: get more gear?</h2>

<p>My first thought was, if this was an MPC 60 feature then maybe it made its way into modern MIDI pad controllers (the MPC 60 was very influential) and I should get myself one of those. However, buying more gear costs money, and then where do I put this pad controller in the studio?</p>

<h2>Better idea: DIY</h2>

<p>Thinking about it a bit longer, I realized that I could also get what I want if I could put a MIDI &#34;transformation box&#34; between my regular MIDI keyboard and the sound source. Normal notes, with variable pitch and velocity, go in, and a fixed note that varies its velocity with input pitch comes out.</p>

<p>The next question is how do you select the fixed note? It has to be easy or else I won&#39;t bother when in the middle of writing music. A bad example is my <a href="https://blog.jacobvosmaer.nl/0027-synth-notes/#r-8m">Roland R-8M drum sound module</a> which has a function to do exactly what I want (called &#34;Performance Sections&#34;), but it takes a dozen button presses to set it up, you need to dedicate a MIDI channel to each fixed sound, and you can only do this with 4 sounds. Because of all this friction I never use this  feature.</p>

<p>After a while I remembered my <a href="https://github.com/jacobvosmaer/midi-mangler/tree/master">MIDI mangler box</a> which I previously demonstrated <a href="https://www.youtube.com/watch?v=ZiyI2c-m0T8">here</a>.
It&#39;s an 8-bit AVR microcontroller with MIDI in and out ports, a rotary encoder and a reset switch.</p>

<p><img src="https://blog.jacobvosmaer.nl/0063-midi-velocity-mapper/assets/midi-mangler.jpeg" alt="Insides of MIDI mangler box"/></p>

<p>The rotary encoder could be used to select the fixed note. And the reset switch solves another problem, namely how to go back and forth between normal keyboard playing and &#34;velocity mapping mode&#34;: when the box starts up it pass through all MIDI data unaltered. The moment you turn the encoder it goes into velocity mapping mode. If you&#39;re done with that, reset the box and you&#39;re back to normal!</p>

<p>You can read the source code <a href="https://github.com/jacobvosmaer/midi-mangler/tree/velocity-mapper">here</a>, and I put a demonstration video on Youtube <a href="https://www.youtube.com/watch?v=L_Z7et3F8ms">here</a>. The video uses the Roland R-8M as the sound source but thanks to the velocity mapper gadget, I don&#39;t have to press any buttons on the R-8M.</p>

<p><a href="https://www.youtube.com/watch?v=L_Z7et3F8ms">
<img src="https://blog.jacobvosmaer.nl/0063-midi-velocity-mapper/assets/video.png" alt="Still from demonstration video"/>
</a></p>

<h2>Conclusion</h2>

<p>Because I still had my MIDI mangler box lying around, this was a very quick project from idea to execution. It also helped that it is a very simple idea.  </p>

<p>This idea is so old that there must be other ways to achieve the same effect, that are probably easier. But for me this was the best way to do it: no new gear needed!</p>
<p>Tags:  <a href="https://blog.jacobvosmaer.nl/tags/music.html">music</a> <a href="https://blog.jacobvosmaer.nl/tags/diy.html">diy</a></p>
<p><a href="https://blog.jacobvosmaer.nl/">Index</a> â€” <a href="mailto:contact@jacobvosmaer.nl">Contact</a></p>

</div></div>
  </body>
</html>
