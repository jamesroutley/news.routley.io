<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://silly.business/blog/all-you-need-is-ssh-to-self-host-git/">Original</a>
    <h1>All You Need Is SSH to Self Host Git</h1>
    
    <div id="readability-page-1" class="page"><div>
  <p>
Recently on The Orange Site and elsewhere I have seen various discussions regarding self-hosting a git &#34;forge&#34; such as Gitea, Gogs, or Gitlab, or some other alternative that integrates with ActivityPub or atproto etc.</p>
<p>
These &#34;forges&#34; provide, in addition to git repo hosting, various social features and features for issue tracking and managing pull requests, as well as web interfaces, and are variously difficult to install and maintain.</p>
<p>
I noticed that some folks online, who were introduced to git through GitHub (I think), don&#39;t realize that git affords for usage in a distributed manner without specialized software.</p>
<p>
<strong>If you don&#39;t need a web interface, all you need is git and ssh.</strong></p>
<p>
Let&#39;s say you have a VPS, we&#39;ll call it <code>my-cool-vps.silly.business</code>. And let&#39;s say you have some local repository that you&#39;ve been developing. You want to place your code on the VPS so that you can build a version there, and to share it with someone interested in your project.</p>
<p>
Log in to the remote and create an empty repo</p>
<pre>~/my-project $ ssh <a href="https://silly.business/cdn-cgi/l/email-protection" data-cfemail="0e636b4e6377236d61616223787e7d207d67626277206c7b7d67606b7d7d">[email protected]</a>
me@my-cool-vps $ mkdir my-project
me@my-cool-vps $ git init --bare .
me@my-cool-vps $ exit
</pre>
<p>
Add a new remote</p>
<pre>~/my-project $ git remote add vps <a href="https://silly.business/cdn-cgi/l/email-protection" data-cfemail="f19c94b19c88dc929e9e9ddc878182df82989d9d88df938482989f948282">[email protected]</a>:~/my-project
</pre>
<p>
and push to it</p>
<pre>~/my-project $ git push vps current-branch
</pre>
<p>
…and that&#39;s it. Now you can use that remote just like the one you&#39;re used to on GitHub or wherever. The only caveat is that if you&#39;re working on your VPS and you check out a branch there, you can&#39;t push to it from another machine while it is checked out.</p>
<p>
If you want to grant limited access to the code, you could create the project in a directory owned by a dedicated user, and use SSH keys to manage access. This is how the forges work, and it is why they need you to create a <code>git</code> user as part of installation. You can copy this pattern without installing the forge if you need this functionality.</p>
<p>
Or install one of the forges, that&#39;s fine too. The point of this post is not that those are bad or wrong. The point is that you might not need them, and if not, you might be able to move your code around without installing anything extra at all. Because you already have <code>sshd</code> running, don&#39;t you?</p>

</div></div>
  </body>
</html>
