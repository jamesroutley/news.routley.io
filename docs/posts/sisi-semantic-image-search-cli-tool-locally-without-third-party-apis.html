<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/frost-beta/sisi">Original</a>
    <h1>Show HN: Sisi – Semantic Image Search CLI tool, locally without third party APIs</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">CLI tool for semantic image search, locally without using third party APIs.</p>
<p dir="auto">Powered by <a href="https://github.com/frost-beta/node-mlx">node-mlx</a>, a machine
learning framework for Node.js.</p>
<details open="">
  <summary>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z"></path>
</svg>
    <span aria-label="Video description sisi.mp4">sisi.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/639601/367576842-66e6e437-c27b-48cf-80cc-a5a0c8c0bdfb.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjY1NDAwNjcsIm5iZiI6MTcyNjUzOTc2NywicGF0aCI6Ii82Mzk2MDEvMzY3NTc2ODQyLTY2ZTZlNDM3LWMyN2ItNDhjZi04MGNjLWE1YTBjOGMwYmRmYi5tcDQ_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQwOTE3JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDkxN1QwMjIyNDdaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1hYTljYmQ3MTE0NTE1ODY0YjUzMGUxMmM5MTI2MzE5NDBmMzQ2MmIxMzA1OGViNDQxMThjMjY1ZWU0NWYwMjk5JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.JG3mOLpLszRegCbyKKi_H3lpi6t0JB4Mxw2kaUE-pQc" data-canonical-src="https://private-user-images.githubusercontent.com/639601/367576842-66e6e437-c27b-48cf-80cc-a5a0c8c0bdfb.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MjY1NDAwNjcsIm5iZiI6MTcyNjUzOTc2NywicGF0aCI6Ii82Mzk2MDEvMzY3NTc2ODQyLTY2ZTZlNDM3LWMyN2ItNDhjZi04MGNjLWE1YTBjOGMwYmRmYi5tcDQ_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjQwOTE3JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDkxN1QwMjIyNDdaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT1hYTljYmQ3MTE0NTE1ODY0YjUzMGUxMmM5MTI2MzE5NDBmMzQ2MmIxMzA1OGViNDQxMThjMjY1ZWU0NWYwMjk5JlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCZhY3Rvcl9pZD0wJmtleV9pZD0wJnJlcG9faWQ9MCJ9.JG3mOLpLszRegCbyKKi_H3lpi6t0JB4Mxw2kaUE-pQc" controls="controls" muted="muted">

  </video>
</details>


<p dir="auto">GPU support:</p>
<ul dir="auto">
<li>Macs with Apple Silicon</li>
</ul>
<p dir="auto">CPU support:</p>
<ul dir="auto">
<li>x64 Macs</li>
<li>x64/arm64 Linux</li>
</ul>
<p dir="auto">(No support for Windows yet, but I might try to make MLX work on it in future)</p>
<p dir="auto">For platforms without GPU support, the index command will be much slower, and
will take many hours indexing tens of thousands of images. The index is only
built for new and modified files, so once your have done the initial building,
updating index for new images will be much easier.</p>

<p dir="auto">Install:</p>
<div dir="auto" data-snippet-clipboard-copy-content="npm install -g @frost-beta/sisi"><pre><span>npm install -g @frost-beta/sisi</span></pre></div>
<p dir="auto">CLI:</p>
<div dir="auto" data-snippet-clipboard-copy-content="━━━ Semantic Image Search CLI - 0.0.1-dev ━━━━━━━━━━━━━━━━

  $ sisi &lt;command&gt;

━━━ General commands ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

  sisi index &lt;target&gt;
    Build or update index for images under target directory.

  sisi list-index
    List the directories in the index.

  sisi remove-index &lt;target&gt;
    Remove index for all items under target directory.

  sisi search [--in #0] [--max #0] [--print] &lt;query&gt;
    Search the query string from indexed images."><pre><span>━━━ Semantic Image Search CLI - 0.0.1-dev ━━━━━━━━━━━━━━━━</span>

<span>  $ sisi &lt;command&gt;</span>

<span>━━━ General commands ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span>

<span>  sisi index &lt;target&gt;</span>
<span>    Build or update index for images under target directory.</span>

<span>  sisi list-index</span>
<span>    List the directories in the index.</span>

<span>  sisi remove-index &lt;target&gt;</span>
<span>    Remove index for all items under target directory.</span>

<span>  sisi search [--in #0] [--max #0] [--print] &lt;query&gt;</span>
<span>    Search the query string from indexed images.</span></pre></div>

<p dir="auto">Build index for <code>~/Pictures/</code>:</p>

<p dir="auto">Search pictures from all indexed images:</p>
<div dir="auto" data-snippet-clipboard-copy-content="sisi search &#39;cat jumping&#39;"><pre><span>sisi search &#39;cat jumping&#39;</span></pre></div>
<p dir="auto">Search from the <code>~/Pictures/</code> directory:</p>
<div dir="auto" data-snippet-clipboard-copy-content="sisi search cat --in ~/Pictures/"><pre><span>sisi search cat --in ~/Pictures/</span></pre></div>
<p dir="auto">Search images with image:</p>
<div dir="auto" data-snippet-clipboard-copy-content="sisi search https://images.pexels.com/photos/45201/kitty-cat-kitten-pet-45201.jpeg"><pre><span>sisi search https://images.pexels.com/photos/45201/kitty-cat-kitten-pet-45201.jpeg</span></pre></div>
<p dir="auto">It works with local files too:</p>
<div dir="auto" data-snippet-clipboard-copy-content="sisi search file:///Users/Your/Pictures/cat.jpg"><pre><span>sisi search file:///Users/Your/Pictures/cat.jpg</span></pre></div>

<p dir="auto">The index is built by computing the embeddings of images using the <a href="https://github.com/openai/CLIP">CLIP
model</a>, and then stored in a binary JSON file.</p>
<p dir="auto">Searching the images is computing cosine similarities between the query string
and the indexed embeddings. There is no database involved here, everytime you do
a search the computation is done for all the embeddings stored, which is very
fast even when you have tens of thousands of pictures.</p>
<p dir="auto">The JavaScript implementation of the CLIP model is in a separate module:
<a href="https://github.com/frost-beta/clip">frost-beta/clip</a>.</p>

<p dir="auto">MIT</p>
</article></div></div>
  </body>
</html>
