<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://zck.org/balance-emacs-windows">Original</a>
    <h1>Automatially Balance Your Emacs Windows</h1>
    
    <div id="readability-page-1" class="page"><div>
    <p>Emacs <a href="https://www.emacswiki.org/emacs/Window">windows</a> easily get unbalanced.</p>

    <p>After calling <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Split-Window.html">split-window-right</a> twice, there are three windows. Rather than being all the same size, two of them take up a quarter of the frame each, and the third is half as big as the frame.</p>

    <p><img src="https://zck.org/images/balance-emacs-windows/three-windows.png" alt="Three windows, of different sizes."/></p>

    <p>Or, if there are already three equally-sized windows, <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Change-Window.html#index-delete_002dwindow">closing one window</a> leaves one of the remaining windows twice as big as the other.</p>

    <p><img src="https://zck.org/images/balance-emacs-windows/two-windows.png" alt="Two windows, of different sizes."/></p>

    <p>To me, that&#39;s unbalanced.</p>

    <p>I want the windows to be the same size. Whether I got to two windows by starting at one and opening another, or starting at three and closing one, those two windows should have the same layout.</p>

    <p><img src="https://zck.org/images/balance-emacs-windows/balanced-windows.png" alt="Two balanced windows."/></p>

    <p>So I&#39;d manually balance them. Every time I opened or closed a window, I&#39;d press <code>C-x +</code> to run <a href="https://www.gnu.org/software/emacs/manual/html_node/emacs/Change-Window.html#index-balance_002dwindows"><code>#&#39;balance-windows</code></a>. Then, all the windows would be the same size, no matter if I&#39;d just opened or closed one.</p>

    <p><img src="https://zck.org/images/balance-emacs-windows/three-balanced-windows.png" alt="Three balanced windows."/></p>

    <p>Then I realized that no matter how many windows are open, I want them to be the same size. This is manual work! Too much manual work. Why doesn&#39;t Emacs do that for me?</p>

    <p>I wrote some code. Now it does.</p>

    <p><code>
        <pre>(seq-doseq (fn (list #&#39;split-window #&#39;delete-window))
  (advice-add fn
              :after
              #&#39;(lambda (&amp;rest args) (balance-windows))))</pre></code></p><p>This is a straightforward use of Emacs&#39;s powerful <a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Advising-Functions.html">advice</a> functionality. Every time the window configuration is changed, we call the function <code>balance windows</code>, to keep all the windows equally sized.</p>

    <p>And then everything is in balance.</p>
</div></div>
  </body>
</html>
