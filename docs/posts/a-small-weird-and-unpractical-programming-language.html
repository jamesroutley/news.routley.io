<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/japiirainen/fp">Original</a>
    <h1>Show HN: A small, weird and unpractical programming language</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 dir="auto"><a id="user-content-table-of-contents" aria-hidden="true" href="#table-of-contents"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Table of contents</h2>
<ul dir="auto">
<li><a href="#table-of-contents">Table of contents</a></li>
<li><a href="#fp-programming-language">fp programming language</a></li>
<li><a href="#examples-of-fp">Examples of <code>fp</code></a></li>
<li><a href="#usage">Usage</a>
<ul dir="auto">
<li><a href="#command-line">Command line</a></li>
<li><a href="#interpret">Interpret</a></li>
<li><a href="#repl">REPL</a></li>
</ul>
</li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#development">Development</a>
<ul dir="auto">
<li><a href="#nix-support">Nix support</a></li>
<li><a href="#tips">Tips</a></li>
</ul>
</li>
<li><a href="#credits">Credits</a></li>
</ul>
<h2 dir="auto"><a id="user-content-fp-programming-language" aria-hidden="true" href="#fp-programming-language"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>fp programming language</h2>
<p dir="auto"><code>fp</code> is a programming language heavily inspired by the language John Backus
described in his 1977 Turing Award lecture.</p>
<p dir="auto">The paper can be found <a href="https://dl.acm.org/doi/10.1145/359576.359579" rel="nofollow">here</a>.</p>
<h2 dir="auto"><a id="user-content-examples-of-fp" aria-hidden="true" href="#examples-of-fp"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Examples of <code>fp</code></h2>
<div dir="auto" data-snippet-clipboard-copy-content="{- Matrix multiplication.
-}

Def ip ≡ /+∘α*∘⍉

Def mm ≡ α(α ip) ∘ α distl ∘ distr ∘ [~0, ⍉∘~1]

mm:&lt; &lt; &lt;1,2&gt;, &lt;4,5&gt; &gt;,
     &lt; &lt;6,8&gt;, &lt;7,9&gt;&gt; &gt;"><pre><span><span>{-</span> Matrix multiplication.</span>
<span><span>-}</span></span>

<span>Def</span> ip <span>≡</span> <span>/+∘</span>α<span>*∘⍉</span>

<span>Def</span> mm <span>≡</span> α(α ip) <span>∘</span> α distl <span>∘</span> distr <span>∘</span> [<span>~</span><span>0</span>, <span>⍉∘~</span><span>1</span>]

mm<span>:&lt;</span> <span>&lt;</span> <span>&lt;</span><span>1</span>,<span>2</span><span>&gt;</span>, <span>&lt;</span><span>4</span>,<span>5</span><span>&gt;</span> <span>&gt;</span>,
     <span>&lt;</span> <span>&lt;</span><span>6</span>,<span>8</span><span>&gt;</span>, <span>&lt;</span><span>7</span>,<span>9</span><span>&gt;&gt;</span> <span>&gt;</span></pre></div>
<h2 dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p dir="auto">This section will give a quick tour of many of the language features of <code>fp</code>. It
will also cover the usage of the tools provided by <code>fp</code>.</p>
<h3 dir="auto"><a id="user-content-command-line" aria-hidden="true" href="#command-line"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Command line</h3>
<p dir="auto"><code>fp</code> can be used without explicitly installing it via nix!</p>
<div data-snippet-clipboard-copy-content="nix run github:japiirainen/fp -- --help
                 
Up to date
Usage: fp COMMAND

  Command-line utility for the `fp` programming language

Available options:
  -h,--help                Show this help text

Available commands:
  interpret                Interpret a `fp` file
  repl                     Enter a REPL for `fp`"><pre><code>nix run github:japiirainen/fp -- --help
                 
Up to date
Usage: fp COMMAND

  Command-line utility for the `fp` programming language

Available options:
  -h,--help                Show this help text

Available commands:
  interpret                Interpret a `fp` file
  repl                     Enter a REPL for `fp`
</code></pre></div>
<h3 dir="auto"><a id="user-content-interpret" aria-hidden="true" href="#interpret"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Interpret</h3>
<p dir="auto">The <code>interpret</code> command can be used to interpret <code>fp</code> files.</p>
<div dir="auto" data-snippet-clipboard-copy-content="Def ip ≡ /+∘α*∘⍉

ip:&lt;&lt;1,2,3&gt;,&lt;6,5,4&gt;&gt;"><pre><span>Def</span> ip <span>≡</span> <span>/+∘</span>α<span>*∘⍉</span>

ip<span>:&lt;&lt;</span><span>1</span>,<span>2</span>,<span>3</span><span>&gt;</span>,<span>&lt;</span><span>6</span>,<span>5</span>,<span>4</span><span>&gt;&gt;</span></pre></div>
<p dir="auto">This program lives in <code>examples/ip.fp</code> and can be interpreted like this.</p>
<div dir="auto" data-snippet-clipboard-copy-content="cabal run fp -- interpret examples/ip.fp"><pre>cabal run fp <span><span>--</span> interpret examples/ip.fp</span></pre></div>
<p dir="auto">Which will yield <code>28</code>.</p>
<h3 dir="auto"><a id="user-content-repl" aria-hidden="true" href="#repl"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>REPL</h3>
<p dir="auto">you can enter the <code>fp</code> repl to get an interactive environment:</p>

<div dir="auto" data-snippet-clipboard-copy-content="λ +:&lt;1,2&gt;
3
λ :let xs = &lt;1,2,3&gt;
λ xs
&lt;1,2,3&gt;"><pre>λ <span>+:&lt;</span><span>1</span>,<span>2</span><span>&gt;</span>
<span>3</span>
λ <span>:</span><span>let</span> xs <span>=</span> <span>&lt;</span><span>1</span>,<span>2</span>,<span>3</span><span>&gt;</span>
λ xs
<span><span>&lt;</span></span><span>1</span>,<span>2</span>,<span>3</span><span>&gt;</span></pre></div>
<h2 dir="auto"><a id="user-content-documentation" aria-hidden="true" href="#documentation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Documentation</h2>
<p dir="auto">Currently the <code>examples</code> directory serves as the documentation! I will list some
important topics below for reference.</p>
<ul dir="auto">
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/condition.fp">Conditionals</a>
<code>Fp</code> has a condition expression. It is similar to ternary operator in many
ordinary languages.</p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/while.fp">While</a>
<code>while</code> provides a way to run a specific program many times, specifically
untile some condition is met.</p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/bu.fp">Binary to unary</a>
<code>bu</code> gives a convenient way to turn binary (2 argument) functions
into unary (1 argument) functions. This is kind of like partial
application.</p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/mm.fp">Matrix multiplication</a>
This examples shows how to do matrix multiplication in <code>fp</code>.</p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/fact.fp">Facrorials</a>
A way to compute factorial&#39;s in <code>fp</code>.</p>
</li>
</ul>
<p dir="auto">Here&#39;s a bunch of primitive functions.</p>
<ul dir="auto">
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/and-or-not.fp">boolean algebra</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/append.fp">append</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/applyToAll.fp">applyToAll</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/atom.fp">atom</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/const.fp">const</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/construction.fp">construction</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/dist.fp">dist</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/eq.fp">eq</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/id.fp">id</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/length.fp">length</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/nth.fp">nth</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/null.fp">null</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/reverse.fp">reverse</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/transpose.fp">transpose</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/rotate.fp">rotate</a></p>
</li>
<li>
<p dir="auto"><a href="https://scott.mn/japiirainen/fp/blob/main/examples/fact.fp">Unbound variable error</a>
<code>Fp</code> also has nice error messages.</p>
</li>
</ul>
<h2 dir="auto"><a id="user-content-development" aria-hidden="true" href="#development"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Development</h2>
<p dir="auto">You can also run the test suite.</p>

<h3 dir="auto"><a id="user-content-nix-support" aria-hidden="true" href="#nix-support"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Nix support</h3>
<p dir="auto">You can alternatively use nix for dev environment and for building the project.</p>
<p dir="auto">Build:</p>

<p dir="auto">Run:</p>

<p dir="auto">Start Nix shell:</p>

<h3 dir="auto"><a id="user-content-tips" aria-hidden="true" href="#tips"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Tips</h3>
<ul dir="auto">
<li>Run <code>nix flake update</code> to update all flake inputs.</li>
<li>Run <code>./bin/hoogle</code> to start Hoogle with packages in your cabal file.</li>
<li>Run <code>treefmt</code> in nix shell to autoformat the project. This uses treefmt, which uses ./treefmt.toml (where fourmolu and nixpkgs-fmt are specified).</li>
<li>Run the application without installing: <code>nix run github:japiirainen/fp</code> (or <code>nix run .</code> from checkout)</li>
</ul>
<p dir="auto"><code>fp</code> is a programming language heavily inspired by the language John Backus
described in his 1977 Turing Award lecture.</p>
<p dir="auto">Currently almost all features described in the paper are implemented. This not implemented:</p>
<ul dir="auto">
<li>recursion (I&#39;m not sure if I want to allow user defined recursion).</li>
</ul>
<h2 dir="auto"><a id="user-content-credits" aria-hidden="true" href="#credits"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Credits</h2>
<ul dir="auto">
<li>Gabriella Gonzalez&#39;s (Gabriella439) <a href="https://github.com/Gabriella439/grace">grace</a> was an invaluable resource for interpreter design in haskell.</li>
</ul>
</article>
          </div></div>
  </body>
</html>
