<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="http://iafisher.com/blog/2024/11/path-access-depends-on-name">Original</a>
    <h1>Whether you can access a path depends on how you name it</h1>
    
    <div id="readability-page-1" class="page"><div class="page">
  <header>
  <a href="http://iafisher.com/">home</a>
  <a href="http://iafisher.com/blog">blog</a>
  <a href="http://iafisher.com/portfolio">portfolio</a>
  <a href="https://outsiderart.substack.com/" target="_blank">outsider art</a>
  <a href="https://github.com/iafisher" target="_blank">github</a>
</header>


  
  

  <p>Try it for yourself:</p>
<div><pre><span></span><code>$ <span>cd</span> <span>$HOME</span>
$ mkdir -p denied/ok/
$ <span>cd</span> denied/ok/
$ <span>echo</span> hello &gt; hello.txt

<span># lock down permissions of parent directory</span>
$ chmod <span>000</span> <span>$HOME</span>/denied/

$ cat hello.txt
hello.txt

$ cat <span>$HOME</span>/denied/ok/hello.txt
cat: /home/iafisher/denied/ok/hello.txt: Permission denied
</code></pre></div>

<p>We can access <code>hello.txt</code> with a relative path but not an absolute one.</p>
<div><pre><span></span><code>$ <span>cd</span> ../..
cd: permission denied: ../..

$ <span>cd</span> <span>$HOME</span>
</code></pre></div>

<p>You can&#39;t <code>cd ../..</code> because it traverses a forbidden directory. But you <em>can</em> <code>cd $HOME</code>, even though it&#39;s the same absolute path.</p>
<p><strong>Reason:</strong> For relative paths, Linux and macOS do <em>not</em> check permissions on the entire absolute path, only on the path components you&#39;ve named (plus the implicit current directory).</p>
<p><strong>Lesson:</strong> Even after tightening permissions, currently-running processes may continue to have access to the resource. ∎</p>

  
</div></div>
  </body>
</html>
