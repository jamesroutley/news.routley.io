<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://wiki.qt.io/QtCS2024_Compile_once._Run_everywhere">Original</a>
    <h1>QtCS2024: Compile once, Run everywhere</h1>
    
    <div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr"><div><h2><span id="Session_Summary">Session Summary</span></h2>
<p>Compiling and deploying of C++ applications on Windows, Linux, macOS for x86_64 and arm64 can be challenging. By using <i><a rel="nofollow" href="https://justine.lol/cosmopolitan/">Cosmopolitan Libc</a></i> we could have an alternative.
</p><p>Slides at <a rel="nofollow" href="https://git.qt.io/cradam/presentations/-/raw/main/2024.09.06/QtCS2024-CompileOnce-RunEverywhere.pdf?ref_type=heads">2024.09.06/QtCS2024-CompileOnce-RunEverywhere.pdf · GitLab</a>
</p>
<h2><span id="Session_Owners">Session Owners</span></h2>
<p>Cristian Adam
</p>
<h2><span id="Notes_.28AI_transcribed.29"></span><span id="Notes_(AI_transcribed)">Notes (AI transcribed)</span></h2>
<p>Cristian Adam, a member of the Qt Creator team, presented a talk on &#34;Compile Once, Run Everywhere&#34; using Cosmopolitan libc for C++ applications. 
</p><p>Key points include:
</p>
<ul><li>Qt Creator is currently compiled for multiple platforms (X64 and ARM64 for MacOS, separate packages for Linux, Windows ARM64 in progress) using the Qt installer framework.</li>
<li>Cosmopolitan libc is a C runtime that detects the host machine at runtime and provides the right system calls, enabling &#34;compile once, run everywhere&#34; for C++ applications.</li>
<li>Cosmopolitan applications are compiled twice (X64 and ARM64) and packaged as a batch script plus payload, similar to Linux run installers.</li>
<li>Mozilla&#39;s llamafile is an example of a Cosmopolitan application that runs locally after downloading and adding execute permissions.</li>
<li>Adam successfully built and ran CMake, Qt Base, and Qt GUI with VNC QPA using Cosmopolitan libc on MacOS and Linux, but encountered issues on Windows due to Cosmopolitan&#39;s Libc&#39;s POSIX implementation.</li>
<li>Challenges include integrating with native platforms, launching applications, and supporting WebSockets for Qt QPA VNC platform.</li>
<li>Adam demonstrated Qt Creator running in Cosmopolitan, with menus working but window borders missing.</li>
<li>The size of the Cosmopolitan Qt Creator binary is around 230 megabytes, and there were no noteworthy performance differences compared to the native version.</li>
<li>Adam plans to continue working on Cosmopolitan support for Qt Creator and encourages others to contribute and report issues.</li></ul>
<!-- 
NewPP limit report
Cached time: 20240906120349
Cache expiry: 86400
Reduced expiry: false
Complications: []
CPU time usage: 0.002 seconds
Real time usage: 0.003 seconds
Preprocessor visited node count: 8/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->

<!-- Saved in parser cache with key heroku_app_db:pcache:idhash:10820-0!canonical and timestamp 20240906120352 and revision id 42513.
 -->
</div>
</div></div>
  </body>
</html>
