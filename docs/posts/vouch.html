<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/mitchellh/vouch">Original</a>
    <h1>Vouch</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">A project trust management system. People must be <strong>vouched for</strong> before
interacting with certain parts of a project (the exact parts are
configurable to the project to enforce). People can also be explicitly
<strong>denounced</strong> to block them from interacting with the project.</p>
<p dir="auto">The implementation is generic and can be used by any project on any code forge,
but we provide <strong>GitHub integration</strong> out of the box via GitHub actions
and the CLI.</p>
<p dir="auto">The vouch list is maintained in a single flat file using a minimal format
that can be trivially parsed using standard POSIX tools and any programming
language without external libraries.</p>
<p dir="auto"><strong>Vouch lists can also form a web of trust.</strong> You can configure Vouch to
read other project&#39;s lists of vouched or denounced users. This way,
projects with shared values can share their trust decisions with each other
and create a larger, more comprehensive web of trust across the ecosystem.
Users already proven to be trustworthy in one project can automatically
be assumed trustworthy in another project, and so on.</p>
<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Warning</p>
<p dir="auto">This is an experimental system in use by <a href="https://github.com/ghostty-org/ghostty">Ghostty</a>.
We&#39;ll continue to improve the system based on experience and feedback.</p>
</div>

<p dir="auto">Open source has always worked on a system of <em>trust and verify</em>.</p>
<p dir="auto">Historically, the effort required to understand a codebase, implement
a change, and submit that change for review was high enough that it
naturally filtered out many low quality contributions from unqualified people.
For over 20 years of my life, this was enough for my projects as well
as enough for most others.</p>
<p dir="auto">Unfortunately, the landscape has changed particularly with the advent
of AI tools that allow people to trivially create plausible-looking but
extremely low-quality contributions with little to no true understanding.
Contributors can no longer be trusted based on the minimal barrier to entry
to simply submit a change.</p>
<p dir="auto">But, open source still works on trust! And every project has a definite
group of trusted individuals (maintainers) and a larger group of probably
trusted individuals (active members of the community in any form). So,
let&#39;s move to an explicit trust model where trusted individuals can vouch
for others, and those vouched individuals can then contribute.</p>

<p dir="auto"><strong>Who</strong> and <strong>how</strong> someone is vouched or denounced is left entirely up to the
project integrating the system. Additionally, <strong>what</strong> consequences
a vouched or denounced person has is also fully up to the project.
Implement a policy that works for your project and community.</p>


<p dir="auto">Integrating vouch into a GitHub project is easy with the
<a href="https://github.com/mitchellh/vouch/tree/main/action">provided GitHub Actions</a>.
By choosing which actions to use, you can fully control how
users are vouched and what they can or can&#39;t do.</p>
<p dir="auto">For an example, look at this repository! It fully integrates vouch.</p>
<p dir="auto">Below is a list of the actions and a brief description of their function.
See the linked README in the action directory for full usage details.</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Action</th>
<th>Trigger</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/mitchellh/vouch/blob/main/action/check-pr/README.md">check-pr</a></td>
<td><code>pull_request_target</code></td>
<td>Check if a PR author is vouched on open or reopen. Bots and collaborators with write access are automatically allowed. Optionally auto-close PRs from unvouched or denounced users.</td>
</tr>
<tr>
<td><a href="https://github.com/mitchellh/vouch/blob/main/action/manage-by-discussion/README.md">manage-by-discussion</a></td>
<td><code>discussion_comment</code></td>
<td>Let collaborators vouch, denounce, or unvouch users via discussion comments. Updates the vouched file and commits the change.</td>
</tr>
<tr>
<td><a href="https://github.com/mitchellh/vouch/blob/main/action/manage-by-issue/README.md">manage-by-issue</a></td>
<td><code>issue_comment</code></td>
<td>Let collaborators vouch or denounce users via issue comments. Updates the vouched file and commits the change.</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto">The CLI is implemented as a Nushell module and only requires
Nushell to run. There are no other external dependencies.</p>

<p dir="auto">This is Nushell, so you can get help on any command:</p>
<div dir="auto" data-snippet-clipboard-copy-content="use vouch *
help add
help check
help denounce
help gh-check-pr
help gh-manage-by-issue"><pre>use vouch <span>*</span>
<span>help</span> add
<span>help</span> check
<span>help</span> denounce
<span>help</span> gh<span>-</span>check<span>-</span>pr
<span>help</span> gh<span>-</span>manage<span>-</span>by<span>-</span>issue</pre></div>

<p dir="auto"><strong>Check a user&#39;s vouch status:</strong></p>

<p dir="auto">Exit codes: 0 = vouched, 1 = denounced, 2 = unknown.</p>
<p dir="auto"><strong>Add a user to the vouched list:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="# Preview new file contents (default)
vouch add someuser

# Write the file in-place
vouch add someuser --write"><pre><span><span>#</span> Preview new file contents (default)</span>
vouch add someuser

<span><span>#</span> Write the file in-place</span>
vouch add someuser --write</pre></div>
<p dir="auto"><strong>Denounce a user:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="# Preview new file contents (default)
vouch denounce badactor

# With a reason
vouch denounce badactor --reason &#34;Submitted AI slop&#34;

# Write the file in-place
vouch denounce badactor --write"><pre><span><span>#</span> Preview new file contents (default)</span>
vouch denounce badactor

<span><span>#</span> With a reason</span>
vouch denounce badactor --reason <span><span>&#34;</span>Submitted AI slop<span>&#34;</span></span>

<span><span>#</span> Write the file in-place</span>
vouch denounce badactor --write</pre></div>

<p dir="auto">Requires the <code>GITHUB_TOKEN</code> environment variable. If not set and <code>gh</code>
is available, the token from <code>gh auth token</code> is used.</p>
<p dir="auto"><strong>Check if a PR author is vouched:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="# Check PR author status (dry run)
vouch gh-check-pr 123 --repo owner/repo

# Auto-close unvouched PRs (dry run)
vouch gh-check-pr 123 --repo owner/repo --auto-close

# Actually close unvouched PRs
vouch gh-check-pr 123 --repo owner/repo --auto-close --dry-run=false

# Allow unvouched users, only block denounced
vouch gh-check-pr 123 --repo owner/repo --require-vouch=false --auto-close"><pre><span><span>#</span> Check PR author status (dry run)</span>
vouch gh-check-pr 123 --repo owner/repo

<span><span>#</span> Auto-close unvouched PRs (dry run)</span>
vouch gh-check-pr 123 --repo owner/repo --auto-close

<span><span>#</span> Actually close unvouched PRs</span>
vouch gh-check-pr 123 --repo owner/repo --auto-close --dry-run=false

<span><span>#</span> Allow unvouched users, only block denounced</span>
vouch gh-check-pr 123 --repo owner/repo --require-vouch=false --auto-close</pre></div>
<p dir="auto">Outputs status: <code>skipped</code> (bot/collaborator), <code>vouched</code>, <code>allowed</code>, or <code>closed</code>.</p>
<p dir="auto"><strong>Manage contributor status via issue comments:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="# Dry run (default)
vouch gh-manage-by-issue 123 456789 --repo owner/repo

# Actually perform the action
vouch gh-manage-by-issue 123 456789 --repo owner/repo --dry-run=false"><pre><span><span>#</span> Dry run (default)</span>
vouch gh-manage-by-issue 123 456789 --repo owner/repo

<span><span>#</span> Actually perform the action</span>
vouch gh-manage-by-issue 123 456789 --repo owner/repo --dry-run=false</pre></div>
<p dir="auto">Responds to comments from collaborators with write access:</p>
<ul dir="auto">
<li><code>vouch</code> — vouches for the issue author</li>
<li><code>vouch @user</code> — vouches for a specific user</li>
<li><code>vouch &lt;reason&gt;</code> — vouches for the issue author with a reason</li>
<li><code>vouch @user &lt;reason&gt;</code> — vouches for a specific user with a reason</li>
<li><code>denounce</code> — denounces the issue author</li>
<li><code>denounce @user</code> — denounces a specific user</li>
<li><code>denounce &lt;reason&gt;</code> — denounces the issue author with a reason</li>
<li><code>denounce @user &lt;reason&gt;</code> — denounces a specific user with a reason</li>
</ul>
<p dir="auto">Keywords are customizable via <code>--vouch-keyword</code> and <code>--denounce-keyword</code>.</p>
<p dir="auto">Outputs status: <code>vouched</code>, <code>denounced</code>, or <code>unchanged</code>.</p>

<p dir="auto">The module also exports a <code>lib</code> submodule for scripting:</p>
<div dir="auto" data-snippet-clipboard-copy-content="use vouch/lib.nu *

let records = open VOUCHED.td
$records | check-user &#34;mitchellh&#34; --default-platform github  # &#34;vouched&#34;, &#34;denounced&#34;, or &#34;unknown&#34;
$records | add-user &#34;newuser&#34;                                # returns updated table
$records | denounce-user &#34;badactor&#34; &#34;reason&#34;                 # returns updated table
$records | remove-user &#34;olduser&#34;                             # returns updated table"><pre>use vouch<span>/lib.nu *</span>
<span></span>
<span>let records = open VOUCHED.td</span>
<span>$records | check-user &#34;mitchellh&#34; --default-platform github  # &#34;vouched&#34;, &#34;denounced&#34;, or &#34;unknown&#34;</span>
<span>$records | add-user &#34;newuser&#34;                                # returns updated table</span>
<span>$records | denounce-user &#34;badactor&#34; &#34;reason&#34;                 # returns updated table</span>
<span>$records | remove-user &#34;olduser&#34;                             # returns updated table</span></pre></div>

<p dir="auto">The vouch list is stored in a <code>.td</code> file. See
<a href="https://github.com/mitchellh/vouch/blob/main/VOUCHED.example.td">VOUCHED.example.td</a> for an example. The file is
looked up at <code>VOUCHED.td</code> or <code>.github/VOUCHED.td</code> by default.</p>
<div data-snippet-clipboard-copy-content="# Comments start with #
username
platform:username
-platform:denounced-user
-platform:denounced-user reason for denouncement"><pre><code># Comments start with #
username
platform:username
-platform:denounced-user
-platform:denounced-user reason for denouncement
</code></pre></div>
<ul dir="auto">
<li>One handle per line (without <code>@</code>), sorted alphabetically.</li>
<li>Optionally specify a platform prefix: <code>platform:username</code> (e.g., <code>github:mitchellh</code>).</li>
<li>Denounce a user by prefixing with <code>-</code>.</li>
<li>Optionally add details after a space following the handle.</li>
</ul>
<p dir="auto">The <code>from td</code> and <code>to td</code> commands are exported by the module, so
Nushell&#39;s <code>open</code> command works natively with <code>.td</code> files to decode
into structured tables and encode back to the file format with
comments and whitespace preserved.</p>
<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p dir="auto"><strong>What is <code>.td</code>?</strong> This stands for &#34;Trustdown,&#34; a play on the
word &#34;Markdown.&#34; I intend to formalize a specification for trust
lists (with no opinion on how they&#39;re created or used) so that software
systems like this Vouch project and others can coordinate with each
other. I&#39;m not ready to publish a specification until vouch itself
stabilizes usage more.</p>
</div>
</article></div></div>
  </body>
</html>
