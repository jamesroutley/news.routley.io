<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/valdanylchuk/breezydemo">Original</a>
    <h1>Show HN: Look Ma, No Linux: Shell, App Installer, Vi, Cc on ESP32-S3 / BreezyBox</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">This is a demo for how you can turn an ESP32-S3 microcontroller into a <strong>tiny instant-on PC</strong> with its own shell, editor, compiler, and online apps installer. Something like Raspberry Pi, minus the overhead of a full server/desktop grade OS. I think ESP32 is underrated in hobby maker community for this PC-like use case. This demo uses <a href="https://github.com/valdanylchuk/breezybox">BreezyBox</a>, my mini-shell ESP-IDF component.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">That sounds too good to be true. What is BreezyBox anyway?</h2><a id="user-content-that-sounds-too-good-to-be-true-what-is-breezybox-anyway" aria-label="Permalink: That sounds too good to be true. What is BreezyBox anyway?" href="#that-sounds-too-good-to-be-true-what-is-breezybox-anyway"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">First of all, seeing is believing (click to watch the video):</p>
<p dir="auto"><a href="https://youtu.be/wlDsaQgWCaI" rel="nofollow"><img src="https://camo.githubusercontent.com/f9645483c92e8eb33557ff954e1f0bedcc64f6cb11587012aa4903117895f428/68747470733a2f2f696d672e796f75747562652e636f6d2f76692f776c4473615167574361492f6d617872657364656661756c742e6a7067" alt="Watch the video" data-canonical-src="https://img.youtube.com/vi/wlDsaQgWCaI/maxresdefault.jpg"/></a></p>
<p dir="auto">It started as a &#34;cyberdeck&#34; style crafting project. Then I got carried away with the software part. I chose ESP32-S3 for the base platform. It has the nostalgic appeal of the DOS era PCs, with similar resources, and elbow-deep-in-bytes coding experience, plus modern wireless comms.</p>
<blockquote>
<p dir="auto">ESP32-S3 can do everything those PCs did and more, but that is inconvenient out of the box, because that is not the commercial use case it is positioned for. It also forces away the code bloat. If you are like me, and love small elegant things, and technology that punches way above its weight, you ought to try it!</p>
</blockquote>
<p dir="auto">So anyway, I decided to try and package some key missing parts: a basic vterm, the current working directory (CWD) tracking, a few familiar UNIX-like commands, and an app installer. Believe it or not, the rest is already there in ESP-IDF components, including the elf_loader with dynamic linking.</p>
<p dir="auto">The result is called &#34;BreezyBox&#34;, by analogy with the BusyBox commands suite. The name is just a light joke, it is not meant to be a full clone. You can import it with one command in your ESP-IDF project, and if you have some stdio going, even at &#34;Hello World&#34; level, it should mostly just work. I call it a &#34;mini shell&#34;, a naïve user might call it an OS (it is not, it runs on FreeRTOS), and you can also call it the userland layer.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">This repo is just one possible example</h2><a id="user-content-this-repo-is-just-one-possible-example" aria-label="Permalink: This repo is just one possible example" href="#this-repo-is-just-one-possible-example"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The BreezyBox component leaves the display and other board configuration details to the user&#39;s firmware project, providing mainly the vterm/vfs features, and some shell commands. This particular example/demo project supports only one specific dev board: <a href="https://www.waveshare.com/esp32-s3-lcd-7b.htm" rel="nofollow">Waveshare ESP32-S3-Touch-LCD-7B</a> (no affiliation). But you can see how all the parts connect, and adapt it to your display/board, or just copy some code snippets from here.</p>

<p dir="auto">I suggest just fork it, clone it, and try to make it work on your board. Mine was about 40€; you can start with some random $10 two inch LCD S3 dev board if you like. Hint: LVGL text label control is the easiest path to stdout on LCD that works almost everywhere. You can also start with a headless board over USB console, that takes zero code, and gives you free ANSI codes in standard IDF Monitor in VSCode (or in Tabby).</p>
<p dir="auto">You do not have to write your own font renderer like I did here; that was just to push past 30 FPS on a display slightly too large for this chip.</p>

<p dir="auto">This is free software under <a href="https://missfunmi.com/valdanylchuk/breezydemo/blob/main/LICENSE">MIT License</a>.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Contributing: Help Wanted!</h2><a id="user-content-contributing-help-wanted" aria-label="Permalink: Contributing: Help Wanted!" href="#contributing-help-wanted"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The best help is currently more testing beyond &#34;works on my computer&#34;, more shared examples and fun use cases:</p>
<ol dir="auto">
<li>
<p dir="auto">More ELF apps – see the examples at my <a href="https://github.com/valdanylchuk/breezyapps">breezyapps repo</a>, they are super easy to follow. Even a carefully written stdlib C program with no platform-specific bits may work sometimes, also with some ANSI codes. But be sure to verify on the actual ESP32-S3: the memory is tight, the larger PSRAM requires alignment, and there are other limits and quirks. You can publish and install the apps using your own repo.</p>
</li>
<li>
<p dir="auto">More full example firmware repositories: for different boards, with different styles. Maybe you provide the basic LVGL text label example on some popular board. Maybe you prefer C++ to plain C. Maybe you embrace the GUI. Maybe you port some retro games. Maybe you even make it work on P4, or C6 (RISC-V, a completely different CPU). Maybe you attach some cool gadgets to it. Maybe you build an extra cool cyberdeck case. Or maybe you reproduce the exact same thing, and just share your setup experience and hands-on impressions.</p>
</li>
</ol>
<p dir="auto">It would be so cool to see more people using BreezyBox, and to have more ready-to-clone examples for everyone!</p>
<p dir="auto">Have fun!</p>
</article></div></div>
  </body>
</html>
