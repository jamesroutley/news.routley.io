<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://eieio.games/blog/two-heads-arent-better-than-one/">Original</a>
    <h1>Are two heads better than one?</h1>
    
    <div id="readability-page-1" class="page"><article>
<p>You’re playing a game with your lying friends Alice and Bob.</p>
<p>Bob flips a coin and shows it to Alice. Alice tells you what she saw - but she lies 20% of the time. Then you take your best guess on whether the coin is heads or tails.</p>
<p>Your best strategy is to trust whatever Alice says. You’re right 80% of the time.</p>
<p>Now Bob joins in. He makes up his mind independent of Alice, and he <em>also</em> lies 20% of the time <a>1</a>.</p>
<div data-is-footnote="true"><div><div><div><p><span>1</span></p><p>Your friends are all liars!</p></div></div></div></div>
<p>You were right 80% of the time by trusting Alice.</p>
<p>How much better can you do with Bob’s help?</p>
<!-- -->
<h2 id="toc:heres-some-empty-space-for-you-to-think">Here’s some empty space for you to think</h2>
<p>I’m going to give you the answer below. So here’s some empty space for you to think in case you want to do the math yourself.</p>
<!-- -->

<h2 id="toc:alright-lets-do-some-math">Alright, let’s do some math</h2>
<p>The answer is 0% - you don’t do any better! You’re still exactly 80% to get the right answer.</p>
<p>To establish this, let’s write a simple simulation. We’ll flip a coin a million times, ask our friends what they saw, and observe the results.</p>
<p>For our strategy, we’ll look at a fact pattern (like “Alice says heads”), figure out what’s most likely (“the coin is heads”), and say “we guess the coin flip correctly whenever the most likely outcome occurs for this fact pattern” <a>2</a>.</p>
<div data-is-footnote="true"><div><div><div><p><span>2</span></p><p>Given that Bob and Alice decide independently and aren’t playing
adversarially, “guess the most likely outcome” is optimal here. It may not be
optimal if the game was adversarial, although I think that’s a trickier
question than it might first seem.</p></div></div></div></div>
<p>Here’s the code for that simulation. We’ll start with the easy case (just Alice):</p>
<details><summary><svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> <!-- -->The simulation code</summary><pre><code><span>
</span><span>
</span><span><span>from</span> random <span>import</span> random
</span><span><span>from</span> collections <span>import</span> defaultdict
</span><span>
</span><span>table <span>=</span> defaultdict<span>(</span><span>lambda</span><span>:</span> <span>[</span><span>0</span><span>,</span> <span>0</span><span>]</span><span>)</span>
</span><span>LYING_PROB <span>=</span> <span>0.2</span>
</span><span>LYING_FRIENDS <span>=</span> <span>[</span><span>&#34;Alice&#34;</span><span>]</span>
</span><span>ITERATIONS <span>=</span> <span>1_000_000</span>
</span><span>
</span><span><span>for</span> _ <span>in</span> <span>range</span><span>(</span>ITERATIONS<span>)</span><span>:</span>
</span><span>    is_heads <span>=</span> random<span>(</span><span>)</span> <span>&gt;</span> <span>0.5</span>
</span><span>    keys <span>=</span> <span>[</span><span>]</span>
</span><span>    <span>for</span> lying_friend <span>in</span> LYING_FRIENDS<span>:</span>
</span><span>        lied <span>=</span> random<span>(</span><span>)</span> <span>&lt;</span> LYING_PROB
</span><span>        answer <span>=</span> <span>None</span>
</span><span>        <span>if</span> is_heads<span>:</span> answer <span>=</span> <span>&#34;T&#34;</span> <span>if</span> lied <span>else</span> <span>&#34;H&#34;</span>
</span><span>        <span>else</span><span>:</span> answer <span>=</span> <span>&#34;H&#34;</span> <span>if</span> lied <span>else</span> <span>&#34;T&#34;</span>
</span><span>        keys<span>.</span>append<span>(</span><span><span>f&#34;</span><span><span>{</span>lying_friend<span>[</span><span>0</span><span>]</span><span>}</span></span><span>:</span><span><span>{</span>answer<span>}</span></span><span>&#34;</span></span><span>)</span>
</span><span>
</span><span>    key <span>=</span> <span>&#34;, &#34;</span><span>.</span>join<span>(</span>keys<span>)</span>
</span><span>
</span><span>    table_idx <span>=</span> <span>0</span> <span>if</span> is_heads <span>else</span> <span>1</span>
</span><span>    table<span>[</span>key<span>]</span><span>[</span>table_idx<span>]</span> <span>+=</span> <span>1</span>
</span><span>
</span><span>total_times_we_are_right <span>=</span> <span>0</span>
</span><span><span>for</span> key<span>,</span> <span>(</span>times_heads<span>,</span> times_tails<span>)</span> <span>in</span> table<span>.</span>items<span>(</span><span>)</span><span>:</span>
</span><span>    total <span>=</span> times_heads <span>+</span> times_tails
</span><span>    heads_chance <span>=</span> <span>100</span> <span>*</span> <span>round</span><span>(</span>times_heads <span>/</span> total<span>,</span> <span>2</span><span>)</span>
</span><span>    tails_chance <span>=</span> <span>100</span> <span>*</span> <span>round</span><span>(</span>times_tails <span>/</span> total<span>,</span> <span>2</span><span>)</span>
</span><span>    pattern_chance <span>=</span> <span>100</span> <span>*</span> <span>round</span><span>(</span>total <span>/</span> ITERATIONS<span>,</span> <span>2</span><span>)</span>
</span><span>
</span><span>    <span>print</span><span>(</span><span><span>f&#34;</span><span><span>{</span>key<span>}</span></span><span> - chances -  H </span><span><span>{</span>heads_chance<span>:</span><span>4</span><span>}</span></span><span>% | T </span><span><span>{</span>tails_chance<span>:</span><span>4</span><span>}</span></span><span>% | occurs </span><span><span>{</span>pattern_chance<span>}</span></span><span>% of the time&#34;</span></span><span>)</span>
</span><span>
</span><span>    
</span><span>    
</span><span>    total_times_we_are_right <span>+=</span> <span>max</span><span>(</span>times_heads<span>,</span> times_tails<span>)</span>
</span><span>
</span><span>accuracy <span>=</span> <span>round</span><span>(</span>total_times_we_are_right <span>/</span> ITERATIONS<span>,</span> <span>2</span><span>)</span>
</span><span><span>print</span><span>(</span><span><span>f&#34;\nOur accuracy: </span><span><span>{</span><span>100</span><span>*</span>accuracy<span>}</span></span><span>%&#34;</span></span><span>)</span>
</span></code></pre></details>
<p>This gives us:</p>
<pre><code><span>% python heads.py
</span><span>A:T - chances -  H 20.0% | T 80.0% | occurs 50.0% of the time
</span><span>A:H - chances -  H 80.0% | T 20.0% | occurs 50.0% of the time
</span><span>
</span><span>Our accuracy: 80.0%
</span></code></pre>
<p>Now let’s add Bob to the simulation. We see something like this:</p>
<pre><code><span>% python heads.py
</span><span>A:T, B:T - chances -  H  6.0% | T 94.0% | occurs 34.0% of the time
</span><span>A:H, B:T - chances -  H 50.0% | T 50.0% | occurs 16.0% of the time
</span><span>A:H, B:H - chances -  H 94.0% | T  6.0% | occurs 34.0% of the time
</span><span>A:T, B:H - chances -  H 50.0% | T 50.0% | occurs 16.0% of the time
</span><span>
</span><span>Our accuracy: 80.0%
</span></code></pre>
<p>That’s weird! But perhaps this gives you an intuition for what’s happening. By introducing a second player, <em>we introduce the possibility of a tie</em>.</p>
<p>A decent amount of the time, Alice and Bob agree. <em>Most</em> (~94%) of the time when that happens, they’re telling the truth. Occasionally they’re both lying, but that’s pretty unlikely.</p>
<p>But a meaningful portion of the time (32%) Alice says heads and Bob says tails, or vice versa. And in that case we don’t know anything at all! Alice and Bob are equally trustworthy and they disagreed - we’d be better off if we’d just gone and asked Alice <a>3</a>!</p>
<div data-is-footnote="true"><div><div><div><p><span>3</span></p><p>I am deeply curious whether anyone else was read the book “Go Ask Alice” by
their middle school science teacher in order to scare them straight or whether
that was specific to my middle school experience.</p></div></div></div></div>
<h3 id="toc:lets-prove-it">Let’s prove it</h3>
<p>Now that we’ve simulated this result, let’s walk through each case assuming that the coin landed on heads.</p>
<pre><code><span>- both tell the truth
</span><span>Alice: Heads (80%), Bob: Heads (80%)
</span><span>happens 80% * 80% = 64% of the time
</span><span>we always guess correctly in this case
</span><span>
</span><span>- both lie
</span><span>Alice: Tails (20%), Bob: Tails (20%)
</span><span>happens 20% * 20% = 4% of the time
</span><span>we never guess correctly in this case
</span><span>
</span><span>- alice tells the truth, bob lies
</span><span>Alice: Heads (80%), Bob: Tails (20%)
</span><span>happens 80% * 20% = 16% of the time
</span><span>we guess at random in this case; we&#39;re right 50% of the time
</span><span>
</span><span>- alice lies, bob tells the truth
</span><span>Alice: Tails (20%), Bob: Heads (80%)
</span><span>happens 20% * 80% = 16% of the time
</span><span>we guess at random in this case; we&#39;re right 50% of the time
</span><span>
</span><span>Our total chance to guess correctly is:
</span><span>64% + 16% / 2 + 16% / 2 = 64% + 8% + 8% = 80%
</span></code></pre>
<p>There’s something beautiful here. Our total chance to guess remains at 80% because our additional chance to guess correctly when Alice and Bob agree is perfectly offset by the chance that Alice and Bob disagree!</p>
<h3 id="toc:meet-charlie-and-david">Meet Charlie (and David)</h3>
<p>If our friend Charlie - who also lies 20% of the time - joins the fun, our odds improve substantially. If Bob and Alice disagree, Charlie can act as a tiebreaker.</p>
<pre><code><span>% python heads.py
</span><span>A:H, B:H, C:H - chances -  H 98.0% | T  2.0% | occurs 26.0% of the time
</span><span>A:T, B:T, C:T - chances -  H  2.0% | T 98.0% | occurs 26.0% of the time
</span><span>A:T, B:H, C:H - chances -  H 80.0% | T 20.0% | occurs 8.0% of the time
</span><span>A:H, B:T, C:T - chances -  H 20.0% | T 80.0% | occurs 8.0% of the time
</span><span>A:H, B:H, C:T - chances -  H 80.0% | T 20.0% | occurs 8.0% of the time
</span><span>A:H, B:T, C:H - chances -  H 80.0% | T 20.0% | occurs 8.0% of the time
</span><span>A:T, B:T, C:H - chances -  H 20.0% | T 80.0% | occurs 8.0% of the time
</span><span>A:T, B:H, C:T - chances -  H 20.0% | T 80.0% | occurs 8.0% of the time
</span><span>
</span><span>Our accuracy: 90.0%
</span></code></pre>
<p>But if David joins, the pattern repeats. David introduces the possibility of a 2-2 split, and our odds don’t improve at all!</p>
<pre><code><span>% python heads.py
</span><span>A:T, B:T, C:T, D:T - chances -  H  0.0% | T 100.0% | occurs 21.0% of the time
</span><span>A:T, B:H, C:H, D:H - chances -  H 94.0% | T  6.0% | occurs 5.0% of the time
</span><span>A:T, B:H, C:T, D:T - chances -  H  6.0% | T 94.0% | occurs 5.0% of the time
</span><span>A:H, B:H, C:H, D:H - chances -  H 100.0% | T  0.0% | occurs 21.0% of the time
</span><span>A:H, B:T, C:H, D:T - chances -  H 50.0% | T 50.0% | occurs 3.0% of the time
</span><span>A:T, B:T, C:H, D:H - chances -  H 50.0% | T 50.0% | occurs 3.0% of the time
</span><span>A:H, B:T, C:H, D:H - chances -  H 94.0% | T  6.0% | occurs 5.0% of the time
</span><span>A:T, B:T, C:T, D:H - chances -  H  6.0% | T 94.0% | occurs 5.0% of the time
</span><span>A:H, B:T, C:T, D:T - chances -  H  6.0% | T 94.0% | occurs 5.0% of the time
</span><span>A:H, B:H, C:H, D:T - chances -  H 94.0% | T  6.0% | occurs 5.0% of the time
</span><span>A:H, B:H, C:T, D:T - chances -  H 50.0% | T 50.0% | occurs 3.0% of the time
</span><span>A:T, B:T, C:H, D:T - chances -  H  6.0% | T 94.0% | occurs 5.0% of the time
</span><span>A:H, B:H, C:T, D:H - chances -  H 94.0% | T  6.0% | occurs 5.0% of the time
</span><span>A:T, B:H, C:T, D:H - chances -  H 50.0% | T 50.0% | occurs 3.0% of the time
</span><span>A:H, B:T, C:T, D:H - chances -  H 50.0% | T 50.0% | occurs 3.0% of the time
</span><span>A:T, B:H, C:H, D:T - chances -  H 50.0% | T 50.0% | occurs 3.0% of the time
</span><span>
</span><span>Our accuracy: 90.0%
</span></code></pre>
<p>And this continues, on and on, forever (as long as we have enough friends). If our number <code>N</code> of friends is odd, our chances of guessing correctly don’t improve when we move to <code>N+1</code> friends.</p>
<h2 id="toc:is-there-a-name-for-this">Is there a name for this?</h2>
<p>As far as I can tell, there’s no name for this weird little phenomenon. But it <em>does</em> appear, implicitly, in voting literature.</p>
<p><a href="https://en.wikipedia.org/wiki/Condorcet%27s_jury_theorem">Condorcet’s jury theorem</a> is a famous theorem in political science. It states:</p>
<ul>
<li>If you have a group of voters of size <code>N</code></li>
<li>…and they all vote, independently, on an issue with a correct answer</li>
<li>…and each voter votes the “right” way with probability <code>P</code></li>
<li>…and we make whatever decision the majority of the voters vote for</li>
<li>…then if <code>P &gt; 50%</code>, the chance that we make the right decision approaches 100% as we add more voters</li>
</ul>
<p>Sounds a fair bit like our coin flipping problem. Here’s a simplifying assumption that Wikipedia makes when proving the theorem:</p>
<p><img alt="A screenshot from the wikipedia article on Condorcet&#39;s Jury Theorem. Full text: Proof 1: Calculating the probability that two additional voters change the outcome
To avoid the need for a tie-breaking rule, we assume n is odd. Essentially the same argument works for even n if ties are broken by adding a single voter." loading="lazy" width="1156" height="270" decoding="async" data-nimg="1" src="https://sygi.xyz/images/two-heads-arent-better-than-one/from-wikipedia.webp"/></p>
<p>Hah! The proof explicitly recognizes (and dodges) the even-voter case precisely because that voter doesn’t add any information.</p>
<h2 id="toc:why-did-i-write-this">Why did I write this?</h2>
<p>I stumbled upon this result while writing a simulation for a more complex problem. I was <em>so</em> surprised at the simulation results that I assumed that I had a bug in my code. And when I walked through the math by hand I was absolutely delighted.</p>
<p>I suspect some of the surprise for me was because I typically encounter problems like these in the context of betting, not voting. If we’re <em>betting</em> on coin flips, we’re certainly excited to bet more if Alice and Bob agree than if we’re just listening to Alice.</p>
<p>But voting is a different beast; our outcome is binary. There’s no way to harvest the additional <a href="https://en.wikipedia.org/wiki/Expected_value">EV</a> from the increased confidence Bob sometimes gives us.</p>
<p>By the way - I encountered this problem while working with a friend at <a href="https://www.recurse.com/scout/click?t=4d29374c1894b0c33520021a254e0591">The Recurse Center</a> (a writers retreat for programmers). It’s a great place to get nerd sniped by silly math problems; If you enjoyed this blog consider <a href="https://www.recurse.com/apply">applying</a>!</p>
<p>Anyway. I hope this delights you like it did me.</p></article></div>
  </body>
</html>
