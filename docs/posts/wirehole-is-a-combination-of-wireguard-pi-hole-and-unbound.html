<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/IAmStoxe/wirehole">Original</a>
    <h1>WireHole is a combination of WireGuard, Pi-hole, and Unbound</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" id="user-content-what-is-this" dir="auto"><a href="#what-is-this">What is this?<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">WireHole is a combination of WireGuard, PiHole, and Unbound in a docker-compose project with the intent of enabling users to quickly and easily create and deploy a personally managed full or split-tunnel WireGuard VPN with ad blocking capabilities (via Pihole), and DNS caching with additional privacy options (via Unbound).</p>
<h2 tabindex="-1" id="user-content-author" dir="auto"><a href="#author">Author<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">üë§ <strong>Devin Stokes</strong></p>
<ul dir="auto">
<li>Twitter: <a href="https://twitter.com/DevinStokes" rel="nofollow">@DevinStokes</a></li>
<li>Github: <a href="https://github.com/IAmStoxe">@IAmStoxe</a></li>
</ul>
<h2 tabindex="-1" id="user-content--contributing" dir="auto"><a href="#-contributing">ü§ù Contributing<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Contributions, issues and feature requests are welcome!</p>
<h2 tabindex="-1" id="user-content-show-your-support" dir="auto"><a href="#show-your-support">Show your support<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Give a ‚≠ê if this project helped you!</p>
<p dir="auto"><a href="https://www.buymeacoffee.com/stoxe" rel="nofollow"><img src="https://camo.githubusercontent.com/cd9a722712fec4278ef95ff114b458897a37a52ef8129b6c833efcf8c66e2211/68747470733a2f2f63646e2e6275796d6561636f666665652e636f6d2f627574746f6e732f76322f64656661756c742d6f72616e67652e706e67" alt="Buy Me A Coffee" data-canonical-src="https://cdn.buymeacoffee.com/buttons/v2/default-orange.png"/></a></p>
<hr/>
<h3 tabindex="-1" id="user-content-supported-architectures" dir="auto"><a href="#supported-architectures">Supported Architectures<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">The Wireguard image supports multiple architectures such as <code>x86-64</code>, <code>arm64</code> and <code>armhf</code>. Linuxserver - who makes the wireguard image we use - utilises the docker manifest for multi-platform awareness.</p>
<p dir="auto">More information is available from docker <a href="https://github.com/docker/distribution/blob/master/docs/spec/manifest-v2-2.md#manifest-list">here</a> and LinuxServer&#39;s announcement <a href="https://blog.linuxserver.io/2019/02/21/the-lsio-pipeline-project/" rel="nofollow">here</a>.</p>
<p dir="auto">Simply pulling <code>linuxserver/wireguard</code> should retrieve the correct image for your arch, but you can also pull specific arch images via tags</p>
<blockquote>
<p dir="auto"><em>This is the default configuration in this project</em></p>
</blockquote>
<p dir="auto"><strong>The architectures supported by this image are:</strong></p>
<table>
<thead>
<tr>
<th>Architecture</th>
<th>Tag</th>
</tr>
</thead>
<tbody>
<tr>
<td>x86-64</td>
<td>amd64-latest</td>
</tr>
<tr>
<td>arm64</td>
<td>arm64v8-latest</td>
</tr>
<tr>
<td>armhf</td>
<td>arm32v7-latest</td>
</tr>
</tbody>
</table>
<h5 tabindex="-1" id="user-content-optional---fully-automated-deployment-on-oracle-cloud" dir="auto"><a href="#optional---fully-automated-deployment-on-oracle-cloud">Optional - Fully Automated Deployment on Oracle Cloud:<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h5>
<ul dir="auto">
<li><a href="https://medium.com/@devinjaystokes/automating-the-deployment-of-your-forever-free-pihole-and-wireguard-server-dce581f71b7" rel="nofollow">https://medium.com/@devinjaystokes/automating-the-deployment-of-your-forever-free-pihole-and-wireguard-server-dce581f71b7</a></li>
</ul>
<h3 tabindex="-1" id="user-content-quickstart" dir="auto"><a href="#quickstart">Quickstart<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">To get started all you need to do is clone the repository, add your public IP and spin up the containers.</p>
<p dir="auto">Here is a script to automate it for you.</p>
<div dir="auto" data-snippet-clipboard-copy-content="#!/bin/bash

# Clone the wirehole repository from GitHub
git clone https://github.com/IAmStoxe/wirehole.git

# Change directory to the cloned repository
cd wirehole

# Use sed to replace the placeholder with the public IP address fetched using curl
# Note: Using double quotes to allow command substitution
sed -i &#34;s/REPLACE_ME_WITH_YOUR_PUBLIC_IP/$(curl -s icanhazip.com)/g&#34; docker-compose.yml

# Start the Docker containers as defined in docker-compose.yml
docker-compose up
"><pre><span><span>#!</span>/bin/bash</span>

<span><span>#</span> Clone the wirehole repository from GitHub</span>
git clone https://github.com/IAmStoxe/wirehole.git

<span><span>#</span> Change directory to the cloned repository</span>
<span>cd</span> wirehole

<span><span>#</span> Use sed to replace the placeholder with the public IP address fetched using curl</span>
<span><span>#</span> Note: Using double quotes to allow command substitution</span>
sed -i <span><span>&#34;</span>s/REPLACE_ME_WITH_YOUR_PUBLIC_IP/<span><span>$(</span>curl -s icanhazip.com<span>)</span></span>/g<span>&#34;</span></span> docker-compose.yml

<span><span>#</span> Start the Docker containers as defined in docker-compose.yml</span>
docker-compose up
</pre></div>
<hr/>
<h2 tabindex="-1" id="user-content-recommended-configuration--split-tunnel" dir="auto"><a href="#recommended-configuration--split-tunnel">Recommended configuration / Split tunnel:<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Modify your wireguard client <code>AllowedIps</code> to <code>10.2.0.0/24</code> to only tunnel the web panel and DNS traffic.</p>
<hr/>
<h2 tabindex="-1" id="user-content-accessing-the-web-panel-wg-easy" dir="auto"><a href="#accessing-the-web-panel-wg-easy">Accessing the Web Panel (WG-Easy)<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">The web panel for WG-Easy is a user-friendly interface that allows you to manage your WireGuard VPN. It is accessible via <code>http://{YOUR_SERVER_IP}:51821</code>. Replace <code>{YOUR_SERVER_IP}</code> with the actual IP address of your server.</p>
<h3 tabindex="-1" id="user-content-how-to-access" dir="auto"><a href="#how-to-access">How to Access<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<ol dir="auto">
<li>Open your web browser.</li>
<li>Navigate to <code>http://{YOUR_SERVER_IP}:51821</code>.</li>
<li>Log in using the admin password specified in the <code>PASSWORD</code> environment variable in your <code>docker-compose.yml</code>.</li>
</ol>
<h3 tabindex="-1" id="user-content-features-of-wg-easy-web-panel" dir="auto"><a href="#features-of-wg-easy-web-panel">Features of WG-Easy Web Panel<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<ul dir="auto">
<li><strong>Client Management</strong>: Easily add, remove, or edit clients.</li>
<li><strong>QR Code Support</strong>: Simplifies the setup process for mobile devices.</li>
<li><strong>Configuration Export</strong>: Download client configurations directly.</li>
<li><strong>Real-time Statistics</strong>: Monitor connected clients and data usage.</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/6cfe4766cd0642e23338681254fc461c72637dcd7a8f1974ce898b17d595bde4/68747470733a2f2f692e696d6775722e636f6d2f576f49743672502e706e67"><img src="https://camo.githubusercontent.com/6cfe4766cd0642e23338681254fc461c72637dcd7a8f1974ce898b17d595bde4/68747470733a2f2f692e696d6775722e636f6d2f576f49743672502e706e67" alt="" data-canonical-src="https://i.imgur.com/WoIt6rP.png"/></a></p>
<hr/>
<h2 tabindex="-1" id="user-content-access-pihole" dir="auto"><a href="#access-pihole">Access PiHole<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">While connected to WireGuard, navigate to <a href="http://10.2.0.100/admin" rel="nofollow">http://10.2.0.100/admin</a></p>
<p dir="auto"><em>The password (unless you set it in <code>docker-compose.yml</code>) is blank.</em></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/dea9baf54793ba7a4c38b5f36f624790116fa5d11f971efa0fd1f8fad98904e9/68747470733a2f2f692e696d6775722e636f6d2f686c484c3656412e706e67"><img src="https://camo.githubusercontent.com/dea9baf54793ba7a4c38b5f36f624790116fa5d11f971efa0fd1f8fad98904e9/68747470733a2f2f692e696d6775722e636f6d2f686c484c3656412e706e67" alt="" data-canonical-src="https://i.imgur.com/hlHL6VA.png"/></a></p>
<hr/>
<h2 tabindex="-1" id="user-content-configuring-for-dynamic-dns-ddns" dir="auto"><a href="#configuring-for-dynamic-dns-ddns">Configuring for Dynamic DNS (DDNS)<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">If you&#39;re using a dynamic DNS provider, you can edit <code>docker-compose.yml</code> under &#34;wireguard&#34;.
Here is an excerpt from the file.</p>
<p dir="auto">You need to uncomment <code>#- SERVERURL</code> so it reads <code>- SERVERURL</code> without the <code>#</code> and then change <code>my.ddns.net</code> to your DDNS URL.</p>
<div dir="auto" data-snippet-clipboard-copy-content="wg-easy:
  # ...
  environment:
    # ...
    - WG_HOST=my.ddns.net
    # ...
  # ..."><pre><span>wg-easy</span>:
  <span><span>#</span> ...</span>
  <span>environment</span>:
    <span><span>#</span> ...</span>
    - <span>WG_HOST=my.ddns.net</span>
    <span><span>#</span> ...</span>
  <span><span>#</span> ...</span></pre></div>
<hr/>
<h2 tabindex="-1" id="user-content-configuring--parameters" dir="auto"><a href="#configuring--parameters">Configuring / Parameters<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 tabindex="-1" id="user-content-wg-easy" dir="auto"><a href="#wg-easy">WG-Easy<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<table>
<thead>
<tr>
<th>Env</th>
<th>Default</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>PASSWORD</code></td>
<td>-</td>
<td><code>foobar123</code></td>
<td>When set, requires a password when logging in to the Web UI.</td>
</tr>
<tr>
<td><code>WG_HOST</code></td>
<td>-</td>
<td><code>vpn.myserver.com</code></td>
<td>The public hostname of your VPN server.</td>
</tr>
<tr>
<td><code>WG_PORT</code></td>
<td><code>51820</code></td>
<td><code>12345</code></td>
<td>The public UDP port of your VPN server. WireGuard will always listen on <code>51820</code> inside the Docker container.</td>
</tr>
<tr>
<td><code>WG_MTU</code></td>
<td><code>null</code></td>
<td><code>1420</code></td>
<td>The MTU the clients will use. Server uses default WG MTU.</td>
</tr>
<tr>
<td><code>WG_PERSISTENT_KEEPALIVE</code></td>
<td><code>0</code></td>
<td><code>25</code></td>
<td>Value in seconds to keep the &#34;connection&#34; open.</td>
</tr>
<tr>
<td><code>WG_DEFAULT_ADDRESS</code></td>
<td><code>10.8.0.x</code></td>
<td><code>10.6.0.x</code></td>
<td>Clients IP address range.</td>
</tr>
<tr>
<td><code>WG_DEFAULT_DNS</code></td>
<td><code>1.1.1.1</code></td>
<td><code>8.8.8.8, 8.8.4.4</code></td>
<td>DNS server clients will use.</td>
</tr>
<tr>
<td><code>WG_ALLOWED_IPS</code></td>
<td><code>0.0.0.0/0, ::/0</code></td>
<td><code>192.168.15.0/24, 10.0.1.0/24</code></td>
<td>Allowed IPs clients will use.</td>
</tr>
<tr>
<td><code>WG_POST_UP</code></td>
<td><code>...</code></td>
<td><code>iptables ...</code></td>
<td>See <a href="https://github.com/WeeJeWel/wg-easy/blob/master/src/config.js#L19">config.js</a> for the default value.</td>
</tr>
<tr>
<td><code>WG_POST_DOWN</code></td>
<td><code>...</code></td>
<td><code>iptables ...</code></td>
<td>See <a href="https://github.com/WeeJeWel/wg-easy/blob/master/src/config.js#L26">config.js</a> for the default value.</td>
</tr>
</tbody>
</table>
<blockquote>
<p dir="auto">If you change <code>WG_PORT</code>, make sure to also change the exposed port.</p>
</blockquote>
<h3 tabindex="-1" id="user-content-environment-variables-from-files-docker-secrets" dir="auto"><a href="#environment-variables-from-files-docker-secrets">Environment variables from files (Docker secrets)<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">You can set any environment variable from a file by using a special prepend <code>FILE__</code>.</p>
<p dir="auto">As an example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="-e FILE__PASSWORD=/run/secrets/mysecretpassword"><pre>-e FILE__PASSWORD=/run/secrets/mysecretpassword</pre></div>
<p dir="auto">Will set the environment variable <code>PASSWORD</code> based on the contents of the <code>/run/secrets/mysecretpassword</code> file.</p>
<h3 tabindex="-1" id="user-content-umask-for-running-applications" dir="auto"><a href="#umask-for-running-applications">Umask for running applications<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">There is the ability to override the default umask settings for services started within the containers using the optional <code>-e UMASK=022</code> setting.
Keep in mind umask is not chmod it subtracts from permissions based on it&#39;s value it does not add. Please read up <a href="https://en.wikipedia.org/wiki/Umask" rel="nofollow">here</a> before asking for support.</p>
<h3 tabindex="-1" id="user-content-user--group-identifiers" dir="auto"><a href="#user--group-identifiers">User / Group Identifiers<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">When using volumes (<code>-v</code> flags) permissions issues can arise between the host OS and the container, this is avoided by allowing you to specify the user <code>PUID</code> and group <code>PGID</code>.</p>
<p dir="auto">Ensure any volume directories on the host are owned by the same user you specify and any permissions issues will vanish like magic.</p>
<p dir="auto">In this instance <code>PUID=1000</code> and <code>PGID=1000</code>, to find yours use <code>id user</code> as below:</p>
<div dir="auto" data-snippet-clipboard-copy-content="  $ id username
    uid=1000(dockeruser) gid=1000(dockergroup) groups=1000(dockergroup)"><pre>  $ id username
    uid=1000(dockeruser) gid=1000(dockergroup) groups=1000(dockergroup)</pre></div>
<hr/>
<h2 tabindex="-1" id="user-content-adding-clients" dir="auto"><a href="#adding-clients">Adding Clients<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">This is done through the web panel.</p>
<hr/>
<h2 tabindex="-1" id="user-content-modifying-the-upstream-dns-provider-for-unbound" dir="auto"><a href="#modifying-the-upstream-dns-provider-for-unbound">Modifying the upstream DNS provider for Unbound<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">If you choose to not use Cloudflare any reason you are able to modify the upstream DNS provider in <code>unbound.conf</code>.</p>
<p dir="auto">Search for <code>forward-zone</code> and modify the IP addresses for your chosen DNS provider.</p>
<blockquote>
<p dir="auto"><strong>NOTE:</strong> The anything after <code>#</code> is a comment on the line.
What this means is it is just there to tell you which DNS provider you put there. It is for you to be able to reference later. I recommend updating this if you change your DNS provider from the default values.</p>
</blockquote>
<div dir="auto" data-snippet-clipboard-copy-content="forward-zone:
        name: &#34;.&#34;
        forward-addr: 1.1.1.1@853#cloudflare-dns.com
        forward-addr: 1.0.0.1@853#cloudflare-dns.com
        forward-addr: 2606:4700:4700::1111@853#cloudflare-dns.com
        forward-addr: 2606:4700:4700::1001@853#cloudflare-dns.com
        forward-tls-upstream: yes"><pre><span>forward-zone</span>:
        <span>name</span>: <span><span>&#34;</span>.<span>&#34;</span></span>
        <span>forward-addr</span>: <span>1.1.1.1@853#cloudflare-dns.com</span>
        <span>forward-addr</span>: <span>1.0.0.1@853#cloudflare-dns.com</span>
        <span>forward-addr</span>: <span>2606:4700:4700::1111@853#cloudflare-dns.com</span>
        <span>forward-addr</span>: <span>2606:4700:4700::1001@853#cloudflare-dns.com</span>
        <span>forward-tls-upstream</span>: <span>yes</span></pre></div>
<hr/>
<h2 tabindex="-1" id="user-content-available-dns-providers" dir="auto"><a href="#available-dns-providers">Available DNS Providers<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">While you can actually use any upstream provider you want, the team over at pi-hole.net provide a fantastic break down along with all needed information of some of the more popular providers here:
<a href="https://docs.pi-hole.net/guides/upstream-dns-providers/" rel="nofollow">https://docs.pi-hole.net/guides/upstream-dns-providers/</a></p>
<p dir="auto">Providers they have the information for:</p>
<ol dir="auto">
<li>Google</li>
<li>OpenDNS</li>
<li>Level3</li>
<li>Comodo</li>
<li>DNS.WATCH</li>
<li>Quad9</li>
<li>CloudFlare DNS</li>
</ol>
<hr/>
<h2 tabindex="-1" id="user-content-setting-a-dns-record-for-pihole" dir="auto"><a href="#setting-a-dns-record-for-pihole">Setting a DNS record for pihole<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<ol dir="auto">
<li>Login to pihole admin</li>
<li>Navigate to &#34;Local Records&#34;</li>
<li>Fill out the form like the image below
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/1901718652291dbae746abb2674a3f1cbd9a955b9871b630532c800c5e904942/68747470733a2f2f692e696d6775722e636f6d2f504d316b7763662e706e67"><img src="https://camo.githubusercontent.com/1901718652291dbae746abb2674a3f1cbd9a955b9871b630532c800c5e904942/68747470733a2f2f692e696d6775722e636f6d2f504d316b7763662e706e67" alt="Image" data-canonical-src="https://i.imgur.com/PM1kwcf.png"/></a></li>
</ol>
<p dir="auto">Provided your DNS is properly configured on the device you&#39;re using, and you&#39;re connected to WireGuard, you can now navigate to <a href="http://pi.hole/admin" rel="nofollow">http://pi.hole/admin</a> and it should take you right to the pihole admin interface.</p>
<hr/>
<h2 tabindex="-1" id="user-content-support-info" dir="auto"><a href="#support-info">Support Info<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<ul dir="auto">
<li>Shell access whilst the container is running: <code>docker exec -it wireguard /bin/bash</code></li>
<li>To monitor the logs of the container in realtime: <code>docker logs -f wireguard</code></li>
<li>container version number
<ul dir="auto">
<li><code>docker inspect -f &#39;{{ index .Config.Labels &#34;build_version&#34; }}&#39; wireguard</code></li>
</ul>
</li>
<li>image version number
<ul dir="auto">
<li><code>docker inspect -f &#39;{{ index .Config.Labels &#34;build_version&#34; }}&#39; ghcr.io/linuxserver/wireguard</code></li>
</ul>
</li>
</ul>
<hr/>
<h2 tabindex="-1" id="user-content-updating-info" dir="auto"><a href="#updating-info">Updating Info<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">LinuxServer images are generally static, versioned, and require an image update and container recreation to update the app inside.</p>
<blockquote>
<p dir="auto"><strong>Note:</strong> Updating apps inside the container is NOT supported.</p>
</blockquote>
<p dir="auto">Below are the instructions for updating <strong>containers</strong>:</p>
<h3 tabindex="-1" id="user-content-via-docker-compose" dir="auto"><a href="#via-docker-compose">Via Docker Compose<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<ul dir="auto">
<li>Update all images: <code>docker-compose pull</code>
<ul dir="auto">
<li>or update a single image: <code>docker-compose pull wireguard</code></li>
</ul>
</li>
<li>Let compose update all containers as necessary: <code>docker-compose up -d</code>
<ul dir="auto">
<li>or update a single container: <code>docker-compose up -d wireguard</code></li>
</ul>
</li>
<li>You can also remove the old dangling images: <code>docker image prune</code></li>
</ul>
<h3 tabindex="-1" id="user-content-via-watchtower-auto-updater-only-use-if-you-dont-remember-the-original-parameters" dir="auto"><a href="#via-watchtower-auto-updater-only-use-if-you-dont-remember-the-original-parameters">Via Watchtower auto-updater (only use if you don&#39;t remember the original parameters)<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<ul dir="auto">
<li>
<p dir="auto">Pull the latest image at its tag and replace it with the same env variables in one run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="docker run --rm \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower \
--run-once wireguard"><pre>docker run --rm \
-v /var/run/docker.sock:/var/run/docker.sock \
containrrr/watchtower \
--run-once wireguard</pre></div>
</li>
<li>
<p dir="auto">You can also remove the old dangling images: <code>docker image prune</code></p>
</li>
</ul>
<blockquote>
<p dir="auto"><strong>Note:</strong> Watchtower is not endorsed as a solution for automated updates of existing Docker containers. In fact generally automated updates are discouraged. However, this is a useful tool for one-time manual updates of containers where you have forgotten the original parameters. In the long term, LinuxServer.io highly recommends using Docker Compose.</p>
</blockquote>
<hr/>
<h2 tabindex="-1" id="user-content-faq" dir="auto"><a href="#faq">FAQ<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 tabindex="-1" id="user-content-how-do-you-add-client-configurations" dir="auto"><a href="#how-do-you-add-client-configurations">How do you add client configurations?<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">If the environment variable <code>PEERS</code> is set to a number, the container will run in server mode and the necessary server and peer/client confs will be generated. The peer/client config qr codes will be output in the docker log. They will also be saved in text and png format under /config/peerX.</p>
<p dir="auto">Variables <code>SERVERURL</code>, <code>SERVERPORT</code>, <code>INTERNAL_SUBNET</code> and <code>PEERDNS</code> are optional variables used for server mode. Any changes to these environment variables will trigger regeneration of server and peer confs. Peer/client confs will be recreated with existing private/public keys. Delete the peer folders for the keys to be recreated along with the confs.</p>
<p dir="auto">To add more peers/clients later on, you increment the <code>PEERS</code> environment variable and recreate the container.</p>
<p dir="auto">To display the QR codes of active peers again, you can use the following command and list the peer numbers as arguments: <code>docker-compose exec wireguard /app/show-peer 1 4 5</code> will show peers #1 #4 and #5 (Keep in mind that the QR codes are also stored as PNGs in the config folder).</p>
<p dir="auto">The templates used for server and peer confs are saved under /config/templates. Advanced users can modify these templates and force conf generation by deleting /config/wg0.conf and restarting the container.</p>
<h3 tabindex="-1" id="user-content-can-i-build-arm-variants-on-x86_64" dir="auto"><a href="#can-i-build-arm-variants-on-x86_64">Can I build ARM variants on x86_64?<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">The ARM variants can be built on x86_64 hardware using <code>multiarch/qemu-user-static</code></p>
<div dir="auto" data-snippet-clipboard-copy-content="docker run --rm --privileged multiarch/qemu-user-static:register --reset"><pre>docker run --rm --privileged multiarch/qemu-user-static:register --reset</pre></div>
<p dir="auto">Once registered you can define the dockerfile to use with <code>-f Dockerfile.aarch64</code>.</p>
<h3 tabindex="-1" id="user-content-where-can-i-get-additional-block-lists" dir="auto"><a href="#where-can-i-get-additional-block-lists">Where can I get additional block lists?<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<ul dir="auto">
<li><a href="https://firebog.net/" rel="nofollow">The Big Blocklist Collection</a></li>
</ul>
<h3 tabindex="-1" id="user-content-commonly-whitelisted-domains" dir="auto"><a href="#commonly-whitelisted-domains">Commonly whitelisted domains<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<ul dir="auto">
<li><a href="https://discourse.pi-hole.net/t/commonly-whitelisted-domains/212" rel="nofollow">Pi-Hole Community List</a></li>
<li><a href="https://github.com/anudeepND/whitelist">anudeepND Whitelist</a></li>
</ul>
<h3 tabindex="-1" id="user-content-why-do-you-use-unbound--what-benefit-is-there-to-using-unbound" dir="auto"><a href="#why-do-you-use-unbound--what-benefit-is-there-to-using-unbound">Why do you use Unbound / What benefit is there to using Unbound?<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<ul dir="auto">
<li><a href="https://docs.pi-hole.net/guides/unbound/#what-does-this-guide-provide" rel="nofollow">PiHole Official Site: What does this guide provide?</a></li>
</ul>
<hr/>
<h2 tabindex="-1" id="user-content-networking-considerations" dir="auto"><a href="#networking-considerations">Networking Considerations<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">If you plan to use Wireguard both remotely and locally, say on your mobile phone, you will need to consider routing. Most firewalls will not route ports forwarded on your WAN interface correctly to the LAN out of the box. This means that when you return home, even though you can see the Wireguard server, the return packets will probably get lost.</p>
<p dir="auto">This is not a Wireguard specific issue and the two generally accepted solutions are NAT reflection (setting your edge router/firewall up in such a way as it translates internal packets correctly) or split horizon DNS (setting your internal DNS to return the private rather than public IP when connecting locally).</p>
<p dir="auto">Both of these approaches have positives and negatives however their setup is out of scope for this document as everyone&#39;s network layout and equipment will be different.</p>
<hr/>
<h6 tabindex="-1" id="user-content-shout-out-to-linuxserverio-for-their-documentation-and-maintenance-of-the-incredible-wireguard-image" dir="auto"><a href="#shout-out-to-linuxserverio-for-their-documentation-and-maintenance-of-the-incredible-wireguard-image">Shout out to LinuxServer.io for their documentation and maintenance of the incredible Wireguard image.<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h6>
</article>
          </div></div>
  </body>
</html>
