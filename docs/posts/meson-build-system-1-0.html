<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://mesonbuild.com/Release-notes-for-1-0-0.html">Original</a>
    <h1>Meson Build System 1.0</h1>
    
    <div id="readability-page-1" class="page"><div>
<div data-extension="core" data-hotdoc-in-toplevel="True" data-hotdoc-project="Meson-documentation" data-hotdoc-ref="Release-notes-for-1-0-0.html" id="page-wrapper">




<div id="body">
	<div id="main">
				    <div id="page-description" data-hotdoc-role="main">
        
<p>Meson 1.0.0 was released on 23 December 2022</p>
<h2 id="compiler-check-functions-prefix-kwargs-accepts-arrays">Compiler check functions <code>prefix</code> kwargs accepts arrays</h2>
<p>The <code>prefix</code> kwarg that most compiler check functions support
now accepts an array in addition to a string. The elements of the
array will be concatenated separated by a newline.</p>
<p>This makes it more readable to write checks that need multiple headers
to be included:</p>
<pre><code>cc.check_header(&#39;GL/wglew.h&#39;, prefix : [&#39;#include &lt;windows.h&gt;&#39;, &#39;#include &lt;GL/glew.h&gt;&#39;])
</code></pre>
<p>instead of</p>
<pre><code>cc.check_header(&#39;GL/wglew.h&#39;, prefix : &#39;#include &lt;windows.h&gt;\n#include &lt;GL/glew.h&gt;&#39;])
</code></pre>
<h2 id="flags-removed-from-cppobjcpp-warning-level-1">Flags removed from cpp/objcpp warning level 1</h2>
<p><code>-Wnon-virtual-dtor</code> is no longer implied by <code>meson setup -Dwarning_level=1</code>.</p>
<h2 id="developer-environment-improvements">Developer environment improvements</h2>
<p>When cross compiling, the developer environment now sets all environment
variables for the HOST machine. It now also sets <code>QEMU_LD_PREFIX</code> to the
<code>sys_root</code> value from cross file if property is defined. That means that cross
compiled executables can often be run transparently on the build machine, for
example when cross compiling for aarch64 linux from x86_64 linux.</p>
<p>A new argument <code>--workdir</code> has been added, by default it is set to build
directory. For example, <code>meson devenv -C builddir --workdir .</code> can be used to
remain in the current dir (often source dir) instead.</p>
<p><code>--dump</code> now prints shell commands like <code>FOO=&#34;/prepend/path:$FOO:/append/path&#34;</code>,
using the literal <code>$FOO</code> instead of current value of <code>FOO</code> from environment.
This makes easier to evaluate those expressions in a different environment.</p>

<p>The functions operate in the exact same way. The new name matches more with
Meson function name styling.</p>
<h2 id="rustbindgen-accepts-a-dependency-argument">rust.bindgen accepts a dependency argument</h2>
<p>The <code>bindgen</code> method of the <code>rust</code> module now accepts a dependencies argument.
Any include paths in these dependencies will be passed to the underlying call to
<code>clang</code>, and the call to <code>bindgen</code> will correctly depend on any generatd sources.</p>
<h2 id="string-arguments-to-the-rustbindgen-include_directories-argument">String arguments to the rust.bindgen include_directories argument</h2>
<p>Most other cases of include_directories accept strings as well as
<code>IncludeDirectory</code> objects, so lets do that here too for consistency.</p>
<h2 id="the-rust-module-is-stable">The Rust module is stable</h2>
<p>Mesa is using the rust module in production, so it&#39;s time to mark it as stable.</p>
<h2 id="in-operator-for-strings">
<code>in</code> operator for strings</h2>
<p><code>in</code> and <code>not in</code> operators now works on strings, in addition to arrays and
dictionaries.</p>
<pre><code>fs = import(&#39;fs&#39;)
if &#39;something&#39; in fs.read(&#39;somefile&#39;)
  # True
endif
</code></pre>
<h2 id="warningleveleverything-option">
<code>warning-level=everything</code> option</h2>
<p>The new <code>everything</code> value for the built-in <code>warning_level</code> enables roughly all applicable compiler warnings.
For clang and MSVC, this simply enables <code>-Weverything</code> or <code>/Wall</code>, respectively.
For GCC, meson enables warnings approximately equivalent to <code>-Weverything</code> from clang.</p>

    </div>
        




		
	</div>
	<p>The results of the search are</p>
	
</div>


</div>
</div></div>
  </body>
</html>
