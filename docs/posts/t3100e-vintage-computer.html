<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://qqrs.us/qqkb/swhack/T3100e-vintage-computer">Original</a>
    <h1>T3100e vintage computer</h1>
    
    <div id="readability-page-1" class="page"><div id="quartz-root" class="page"><div id="quartz-body"><div><article><p>The Toshiba T3100e is a “luggable” PC-compatible computer introduced in 1988.</p>
<p>It has an Intel 80286 CPU, 1 MB RAM, 20 MB hard disk, 3.5” floppy drive, and a stunning 640x400 orange monochrome gas-plasma display. It runs MS-DOS 5.00 and has a QuickBASIC interpreter.</p>
<p>Links:</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Toshiba_T3100">https://en.wikipedia.org/wiki/Toshiba_T3100<svg aria-hidden="true" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://dosdays.co.uk/topics/Manufacturers/toshiba.php#1988">https://dosdays.co.uk/topics/Manufacturers/toshiba.php#1988<svg aria-hidden="true" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://dosdays.co.uk/media/toshiba/t3100e/t3100e_E.pdf">T3100e user manual<svg aria-hidden="true" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul>
<h2 id="file-transfers">File transfers<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#file-transfers"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>The T3100e has two DB-9 serial ports, but when I got it, there was no software for file transfers. It also has a floppy drive, but I didn’t have a way to write a floppy disk.</p>
<p>There was a QuickBASIC interpreter, so I:</p>
<ul>
<li><del>vibe</del>coded QuickBASIC programs to receive data via the serial port, checksum it, and decode it into binary executables</li>
<li>transferred Kermit, a serial file transfer program</li>
<li>transferred DOS MD5SUM, for verifying files</li>
</ul>
<p>I used a standard USB-serial adapter to transfer files. I also needed a <a href="https://en.wikipedia.org/wiki/Null_modem">null modem adapter<svg aria-hidden="true" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> (<a href="https://www.amazon.com/Arnorin-Female-Slimline-Transfer-Adapter/dp/B075XGRLXW">online shopping link<svg aria-hidden="true" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>).</p>
<h3 id="kermit">Kermit<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#kermit"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Kermit is a serial file transfer program.</p>
<ul>
<li><a href="https://www.kermitproject.org/mskermit.html">https://www.kermitproject.org/mskermit.html<svg aria-hidden="true" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul>
<h4 id="bootstrapping-kermit">Bootstrapping Kermit<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#bootstrapping-kermit"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>Steps:</p>
<ol>
<li>Download <a href="http://www.columbia.edu/kermit/ftp/archives/msk314.zip">msk314.zip<svg aria-hidden="true" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>. Extract it. You just need <code>MSKERMIT.INI</code>.</li>
<li>Download <a href="https://www.columbia.edu/kermit/ftp/archives/msk315.zip">msk315.zip<svg aria-hidden="true" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a>. Extract it. You just need <code>MSK315.EXE</code>.</li>
<li>Transfer <code>MSK315.EXE</code> and <code>MSKERMIT.INI</code> to the T3100e by any means available (e.g., floppy disk or <a href="#filexferbas">FILEXFER.BAS</a>).</li>
</ol>
<h4 id="kermit-config">Kermit config<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#kermit-config"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>Config on T3100e:</p>
<pre><code>; MSCUSTOM.INI - Config for this computer

set port com1
set speed 38400
set flow none
set file type binary
set block-check 3
server

echo T3100e config loaded, 38400 baud
</code></pre>
<p>Config on Mac laptop:</p>
<pre><code>; ~.kermrc - Kermit config for file transfers to Toshiba T3100e

set line /dev/tty.usbserial-110

set speed 38400
set flow-control none
set carrier-watch off
set parity none
set stop-bits 1

set file type binary
set file names literal
set block-check 3
</code></pre>
<p><code>show file</code> and <code>show protocol</code> are useful command for checking config settings.</p>
<h4 id="kermit-usage">Kermit usage<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#kermit-usage"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>Run kermit on T3100e:</p>
<pre><code>C:\UTIL&gt;MSK315
</code></pre>
<ul>
<li>custom config automatically enters <code>server</code> mode</li>
<li>press Ctrl-C to exit; then type <code>quit</code> to quit to DOS prompt</li>
</ul>
<p>Sending a file from Mac laptop:</p>
<pre><code>send /binary file.dat
</code></pre>
<h3 id="filexferbas">FILEXFER.BAS<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#filexferbas"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<h4 id="on-t3100e">on T3100e<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#on-t3100e"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>FILEXFER.BAS</p>
<pre><code>REM Transfer an ASCII file via COM1 serial port
OPEN &#34;COM1:9600,N,8,1,RS,CS,DS,CD&#34; FOR INPUT AS #1
OPEN &#34;OUT.TXT&#34; FOR OUTPUT AS #2

DO
	IF LOC(1) &gt; 0 THEN
		A$ = INPUT$(1, #1)
		IF A$ = CHR$(10) THEN
		ELSEIF A$ = CHR$(13) THEN
			PRINT
		ELSE
			PRINT A$;
		END IF
		PRINT #2, A$;
	END IF
LOOP
</code></pre>
<p>CHECKSUM.BAS</p>
<pre><code>REM Calculate checksum of a file

OPEN &#34;OUT.TXT&#34; FOR INPUT AS #1

checksum = 0
nbytes = 0
nkb = 0

DO WHILE NOT EOF(1)
	byte$ = INPUT$(1, #1)
	checksum = (checksum + ASC(byte$)) AND 255
	nbytes = nbytes + 1
	IF nbytes &gt;= 1024 THEN
		nbytes = 0
		nkb = nkb + 1
		PRINT nkb; &#34; kB&#34;
	END IF
LOOP

CLOSE #1
PRINT &#34;8-bit checksum: &#34;; checksum
</code></pre>
<p>HEX2BIN.BAS</p>
<pre><code>REM Convert hex-encoded ASCII to binary file

OPEN &#34;MSK315.HEX&#34; FOR INPUT AS #1
OPEN &#34;MSK315.EXE&#34; FOR OUTPUT AS #2

t0 = TIMER
nbytes = 0
nkb = 0
chunk$ = &#34;&#34;
chunkSize = 1024

DO WHILE NOT EOF(1)
	LINE INPUT #1, h$

	FOR i = 1 to LEN(h$) STEP 2
		hexByte$ = MID$(h$, i, 2)
		byteValue = VAL(&#34;&amp;H&#34; + hexByte$)
		byte$ = CHR$(byteValue)
		PRINT #2, byte$;

		nbytes = nbytes + 1
		IF nbytes &gt;= 1024 THEN
			nbytes = 0
			nkb = nkb + 1
			t1 = TIMER
			dt = t1 - t0
			t0 = t1
			PRINT nkb; &#34; kB in &#34;; dt; &#34; seconds/kB&#34;
		END IF
	NEXT
LOOP

PRINT &#34;Done&#34;

CLOSE
</code></pre>
<h4 id="on-mac-laptop">on Mac laptop<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#on-mac-laptop"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<p>bin2hex on Mac laptop</p>
<pre><code>xxd -p MSK315.EXE &gt; msk315.hex
</code></pre>
<p>checksum on Mac laptop</p>
<pre><code>od -An -t u1 -v msk315.hex | awk &#39;{for(i=1;i&lt;=NF;i++) sum+= $i} END {print sum % 256}&#39;
</code></pre>
<p>minicom file transfer from Mac laptop</p>
<pre><code>brew install minicom
minicom -s
</code></pre>
<ul>
<li>Serial port setup
<ul>
<li>Serial Device: /dev/tty.usbserial-110 (replace as appropriate)</li>
<li>Bps/Par/Bits: 38400 8N1</li>
</ul>
</li>
<li>File transfer protocols
<ul>
<li>ascii: <code>ascii-xfr -dsv -c 1 -l 5</code></li>
</ul>
</li>
</ul>
<p><code>Alt-s</code> to send a file. Use <code>ascii</code> mode.</p>
<h3 id="md5sum">md5sum<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#md5sum"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>md5sum is available for MS-DOS</p>
<ul>
<li><a href="https://archive.org/details/freesoftwarefordos_antivir_md5sum">https://archive.org/details/freesoftwarefordos_antivir_md5sum<svg aria-hidden="true" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul>
<p>Usage:</p>
<pre><code>md5sum -b file.dat
</code></pre>
<h2 id="c-compiler">C compiler<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#c-compiler"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>TODO: Borland Turbo C</p></article><hr/></div></div></div></div>
  </body>
</html>
