<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/the-modem-distro/pinephone_modem_sdk">Original</a>
    <h1>PinePhone Modem SDK</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<h3 tabindex="-1" dir="auto"><a id="user-content-nearly-free-custom-firmware-for-your-pinephones-modem" aria-hidden="true" href="#nearly-free-custom-firmware-for-your-pinephones-modem"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>(nearly) Free custom firmware for your Pinephone&#39;s modem!</h3>
<p dir="auto">This repository contains everything you need to make your own Modem userspace for your Pinephone.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-latest-release-version-074" aria-hidden="true" href="#latest-release-version-074"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Latest release: <a href="https://github.com/Biktorgj/pinephone_modem_sdk/releases/latest">Version 0.7.4</a></h3>
<h3 tabindex="-1" dir="auto"><a id="user-content-supported-devices" aria-hidden="true" href="#supported-devices"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Supported devices:</h3>
<ul dir="auto">
<li>Pinephone</li>
<li>Pinephone Pro</li>
<li>EG25-G connected via USB audio</li>
</ul>
<ul dir="auto">
<li><a href="https://github.com/the-modem-distro/pinephone_modem_sdk/blob/kirkstone/docs/FLASHING.md">Flashing guide</a></li>
<li><a href="https://github.com/the-modem-distro/pinephone_modem_sdk/blob/kirkstone/docs/SETTINGS.md">Recommended settings for this firmware</a></li>
<li><a href="https://github.com/the-modem-distro/pinephone_modem_sdk/blob/kirkstone/docs/HOWTO.md">Build your own</a></li>
<li><a href="https://github.com/the-modem-distro/pinephone_modem_sdk/blob/kirkstone/docs/RECOVERY.md">Returning back to stock</a></li>
<li>Having issues? <a href="https://github.com/Biktorgj/pinephone_modem_sdk/issues">Check out if the issue is already documented or create a new one</a></li>
<li><a href="https://matrix.to/#/#pinephone_modem_sdk-issue-9:matrix.org" rel="nofollow">We also have a Matrix room!</a></li>
</ul>
<h4 tabindex="-1" dir="auto"><a id="user-content-current-status" aria-hidden="true" href="#current-status"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Current Status:</h4>
<ul dir="auto">
<li>LK Bootloader: Working
<ul dir="auto">
<li>On reset, the bootloader enters into fastboot mode automatically for 5 seconds, and boots normally unless instructed to stay (leave the command <code>fastboot oem stay</code> running while rebooting the modem to make it stop at fastboot).</li>
<li>Custom fastboot commands:</li>
<li>fastboot reboot-bootloader: Reboot to fastboot</li>
<li>fastboot oem stay: Stay in fastboot instead of booting normally</li>
<li>fastboot oem reboot-recovery: Reboot to recovery mode</li>
</ul>
</li>
<li>CAF Kernel: Working</li>
<li>Audio: Working <a href="https://github.com/the-modem-distro/pinephone_modem_sdk/blob/kirkstone/docs/SETTINGS.md">Check out recommended settings for your phone</a></li>
<li>SMS: Working</li>
<li>GPS: Working</li>
<li>Sleep / Power management: Working (New current measurement and profiling required after latest changes)</li>
<li>System images:
<ul dir="auto">
<li>root_fs: Default system image. Includes a minimal root filesystem and one application replacing the entire Qualcomm / Quectel stack. Some functions may not yet functional</li>
<li>recovery_fs: Minimal bootable image to be flashed into the recovery partitions to retrieve logs and make changes to the root image</li>
</ul>
</li>
<li>Custom AT Commands: Please see this <a href="https://github.com/the-modem-distro/pinephone_modem_sdk/blob/kirkstone/docs/AT_INTERFACE.md#custom-commands-in-this-firmware">document</a></li>
</ul>
<h4 tabindex="-1" dir="auto"><a id="user-content-features-not-available-on-stock-firmware" aria-hidden="true" href="#features-not-available-on-stock-firmware"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Features not available on stock firmware:</h4>
<ul dir="auto">
<li>Signal tracking support (beta): Get notified whenever your modem changes towers, check against the OpenCellid database, and make it shutdown when it connects to an unknown cell</li>
<li>Network data export as csv files</li>
<li>Set a reminder on the modem and it will call you back and speak the message you sent it (perfect for boring meetings!)</li>
<li>Call recording support (manual or automatic)</li>
<li>Cell broadcast relay to the host as SMS</li>
<li>Internal call and SMS support
<ul dir="auto">
<li>Functionality is added on every release, check out the <a href="https://github.com/the-modem-distro/pinephone_modem_sdk/blob/kirkstone/docs/SMS_INTERFACE.md">document for available commands</a></li>
</ul>
</li>
<li>Optional persistent storage: By default an unexpected shutdown can&#39;t mess your modem
<ul dir="auto">
<li>If you want to keep logs after reboot, you can enable persistent storage</li>
</ul>
</li>
<li>SMS logging capability: It can log every message you send or receive</li>
<li>Automatic time synchronization from the carrier into the userspace</li>
<li>Minimum clock frequency is set to 100Mhz, either awake or sleeping (stock is 800MHz awake and 400Mhz sleep), making the modem run cooler</li>
<li>Different sampling rates available at runtime without requiring a reboot (missing companion app in the pinephone to make use of them)</li>
<li>0 binary blobs in the userspace. Only closed source running on the modem are TZ Kernel and ADSP firmware</li>
</ul>
<h4 tabindex="-1" dir="auto"><a id="user-content-todo-in-no-particular-order" aria-hidden="true" href="#todo-in-no-particular-order"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>TODO (in no particular order)</h4>
<ol dir="auto">
<li>[WIP] Find and fix the last remaining USB port reset cause(s)</li>
<li>[Testing] Fix audio when doing conferences (audio is cut off when hanging up the first call)</li>
<li>[WIP] Internal SMS functionality (Working reliably with ModemManager and in testing with oFono):</li>
</ol>
<ul dir="auto">
<li>Can send and receive messages to/from the modem</li>
<li>Modem will answer to the number: +22 33 44 55 66 77</li>
<li>Send &#34;help&#34; for a list of commands or check the <a href="https://github.com/the-modem-distro/pinephone_modem_sdk/blob/kirkstone/docs/SMS_INTERFACE.md">docs</a></li>
</ul>
<ol start="4" dir="auto">
<li>[WIP] Internal call ability (Working with ModemManager / testing with oFono):</li>
</ol>
<ul dir="auto">
<li>Can accept outgoing calls or automatically call you when requested from the chat (send &#34;call me&#34; or &#34;call me in X&#34; -seconds- to make it call you)</li>
<li>TTS support: While in call, send an SMS to the modem and it will speak the response back</li>
</ul>
<p dir="auto">Contribution is always welcome! Feel free to share any issue or something that you think may be interesting to have!</p>
<h4 tabindex="-1" dir="auto"><a id="user-content-related-repositories" aria-hidden="true" href="#related-repositories"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Related Repositories</h4>
<p dir="auto">This project depends on the following repositories:</p>
<ul dir="auto">
<li><a href="https://github.com/Biktorgj/lk2nd">LK2nd fork with a few patches</a></li>
<li><a href="https://github.com/Biktorgj/quectel_eg25_kernel">Downstream 3.18.140 Kernel based on CAF</a></li>
<li><a href="https://github.com/Biktorgj/meta-qcom">Forked meta-qcom repository</a></li>
<li><a href="https://yoctoproject.org" rel="nofollow">The Yocto Project</a></li>
<li><a href="https://github.com/Biktorgj/quectel_eg25_recovery">Quectel EG25 firmware repo</a></li>
</ul>
<h4 tabindex="-1" dir="auto"><a id="user-content-documentation" aria-hidden="true" href="#documentation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Documentation</h4>
<p dir="auto">I&#39;m really bad at documentation, but you have some docs <a href="https://github.com/the-modem-distro/pinephone_modem_sdk/blob/kirkstone/docs">here</a></p>
<h4 tabindex="-1" dir="auto"><a id="user-content-donations" aria-hidden="true" href="#donations"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Donations</h4>
<p dir="auto">If you want, you can buy me a coffee <a href="https://ko-fi.com/biktorgj" rel="nofollow">ko-fi</a>/<a href="https://liberapay.com/biktorgj/donate" rel="nofollow">liberapay</a></p>
</article>
          </div></div>
  </body>
</html>
