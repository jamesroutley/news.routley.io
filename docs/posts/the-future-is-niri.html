<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ersei.net/en/blog/niri">Original</a>
    <h1>The Future Is Niri</h1>
    
    <div id="readability-page-1" class="page"><div id="main"><article><p>The worst <em>&#34;street-cred&#34;</em> I have is that I&#39;ve been using <a href="https://en.wikipedia.org/wiki/Tiling_window_manager">tiling window managers</a> for thirty-five percent of my life: five years with <a href="https://github.com/swaywm/sway">Sway</a> and two with <a href="https://github.com/i3/i3">i3</a>. As the realization of those numbers (and my age) dawns upon me, an irresistible urge wells up in my chest, threatening to overwhelm me. I try to tamp it down, but the urge is too strong—I must <em>Give My Opinion</em>.</p><p>This may be worse than finding grey hairs.</p><p>I switched to Wayland before it was cool<sup id="fnref1:mixed-dpi"><a href="#fn:mixed-dpi">1</a></sup>, so a lot of stuff was broken, and I got used to it being broken, much like my entire Linux-on-modern-laptop experience. I was <em>fine</em> with Sway, since I had gotten used to the workflow over the years. After all, it was what all the <em>cool kids</em> online were using, and I was too young to make good decisions. I went about my life, going through most of high school and all of college with a tiling window manager, dismissing alternatives as straying from the <em>One True Path</em> set forth by anonymous forum-goers.</p><p>Until about a month ago.</p><p>Sway <em>broke</em> me (emotionally) with a click-and-drag issue where selecting text and dragging the selection (a pretty bog-standard thing people do with their computers) <em>changed</em> somehow to keep the selection happening after you released the mouse.</p><p>My decades of muscle memory stopped working—I felt lost, adrift on a rough sea, the hot sun bearing down on me. Would I (the bug) ever be rescued (fixed)? Only time would tell, but I was getting desperate.</p><!-- ![clicking and dragging keeping a selection clicked](drag.mp4?loop=1&controls=1&muted&classes=caption "You can't really see it in the video, but the problem was there and it annoyed me.") --><p>At first, I thought I could handle it and someone would quickly fix the bug. Days turned into weeks, and I was losing my mind. The Sway IRC was silent to my pleads for help, and I had developed a Pavlovian response to clicking on text to highlight it—a burst of panic in my chest as I dread the mouse continuing to drag after I had let go.</p><p>Naturally, instead of figuring out what library made a breaking change and spending four hours running <code>git bisect</code>, I decided to throw nearly a decade of muscle-memory and workflow refinements out the window. I was getting bored of Sway anyway. Let&#39;s switch to <a href="https://github.com/YaLTeR/niri">Niri</a>!</p><p>For those unaware, Niri is a scrollable-tiling window manager: each workspace is an infinitely-wide strip you can scroll side-to-side on. It&#39;s easier to show their official demo video than to try to explain it with words (you don&#39;t have to watch the whole thing):</p><p><video controls="controls" loop="loop" muted="muted" alt="switching around windows on niri"><source src="/user/pages/02.blog/44.niri/demo.mp4?loading=auto&amp;decoding=auto&amp;fetchpriority=auto"/>Your browser does not support the video tag.</video></p><p>It was new, <em>dangerous</em>, <strong><em>risky</em></strong>, and most of all, really cool. I just <em>had</em> to try it, transporting me back to my youth distro-hopping and window-manager-hopping(?) with reckless abandon.</p><h2 id="off-the-deep-end-again">Off The Deep End, Again.<a href="#off-the-deep-end-again" data-anchor-icon="#" aria-label="Anchor"></a></h2><p>It seems to be a <a href="https://ersei.net/en/blog/its-nixin-time">recurring theme</a>, throwing myself into a new productivity-altering technology in March when I should be doing more important things instead.</p><p>It wasn&#39;t as bad this time around! Within a few hours, I had a setup that worked fine enough. Within a week, I had Niri working better than Sway, and I was greatly enjoying the changes (read: improvements) it brought.</p><ol><li><p>Opening a window does not alter other windows: I can keep my focus and Firefox doesn&#39;t scroll to another dimension if I open a terminal in its vicinity.</p></li><li><p>Unlike Sway, Niri supports per-window screensharing, as well as &#34;blackout window from appearing in screen sharing&#34;. I&#39;ve been streaming my homework and it&#39;s much nicer without needing to worry about an email notification from my bank showing up in the top corner.</p></li><li><p>Niri&#39;s built-in screenshot tool is really nice, especially compared to <a href="https://github.com/swaywm/sway/wiki/i3-Migration-Guide#common-x11-apps-used-on-i3-with-wayland-alternatives">Sway&#39;s recommended grim+slurp</a>.</p><!-- ![Showing Niri's screenshot tool, with options to hide pointer and resize the viewport after selection](niri-screenshot.png) --></li></ol><!-- 4. I kind of like animations now? This is a character development I did not foresee. --><ol start="4"><li>Niri has increased my battery life by about two hours compared to Sway.</li></ol><p>I was so excited about Niri that I tried my hand at adding a feature to its IPC<sup id="fnref1:ipc"><a href="#fn:ipc">2</a></sup> for something or the other, and I greatly enjoyed it! Unlike Sway/<a href="https://gitlab.freedesktop.org/wlroots/wlroots">wlroots</a>, Niri/<a href="https://github.com/Smithay/smithay">Smithay</a> are written in Rust and are surprisingly accessible to hack on.</p><p>I genuinely can&#39;t see myself going back to a traditional tiling window manager, Niri just brings too many improvements to my workflow.</p><h2 id="the-death-of-the-traditio">The Death of the Traditional Tiling Window Manager<a href="#the-death-of-the-traditio" data-anchor-icon="#" aria-label="Anchor"></a></h2><!-- Maybe "death" is an extreme term, but it's dead to me. --><p>Traditional tiling window managers have a side effect of forcing you to be as efficient as possible with your window layout. There is an additional cognitive load incentivizing you to optimize for the wrong thing: minimizing window reflows. If you don&#39;t find yourself constantly swapping between fullscreen and non-fullscreen views and running out of workspaces, you don&#39;t have very many windows open. Don&#39;t even get me started on tabbed/stacked layouts with nested containers, the least ergonomic Band-Aid™ for the space issue I&#39;ve ever seen.</p><p>After many <em>many</em> years of optimizing for the wrong thing with Sway, Niri blesses me with the realization that I can have the speed of a traditional tiling window manager without the space limitations.</p><p><img alt="The future is Niri, old man" src="https://ersei.net/user/pages/02.blog/44.niri/future-is-niri.jpg"/></p><p>On Sway, I often had <strong>eleven</strong> workspaces open. Ever since I switched to a tiling window manager, I kept running out of space and added shortcuts to workspaces 11-20. I drilled it into myself to close windows when I was done with them, often losing my flow when I come back to the projects I closed, all to save <em>imaginary space</em> I feel should be infinite. With Niri, I can have three large projects open, various chat apps, a YouTube video, and three classes worth of schoolwork and never use more than five workspaces. The same setup would have me spilling into workspace <em>fifteen</em> on Sway, and I would quickly get confused and forget where I put my math textbook, switching between each workspace until I find the right one, often the very last one I check!</p><p>Wow, I did not realize how much repressed anger I had at traditional tiling window managers until now.</p><p>Given the variety of screen sizes<sup id="fnref1:ultrawide"><a href="#fn:ultrawide">3</a></sup> and improved processing power I do not think that the traditional tiling window manager ought to be the power-user workflow of choice. It artificially limits space, forces content reflows, and does not work well with nonstandard monitor layouts.</p><p>If you are using Sway or another Wayland traditional tiling window manager, you should try Niri. Right now. My configurations are <a href="https://git.sr.ht/~fd/nix-configs/tree/trunk/item/home/common/wayland/niri.kdl">published on Sourcehut</a> if you want to have a Sway-like experience with my keybindings.</p><p>Go on then, what are you waiting for?</p><!-- ![Friendship ended with sway now niri is my best friend](niri-meme.jpg) --><hr/><p>Thoughts? Comments? Want to hire me? <a href="https://ersei.net/en/contact-me">Feel free to get in touch!</a></p><p>I&#39;m also on <a href="https://bsky.app/profile/ersei.net">Bluesky</a> and the <a href="https://social.ersei.net/@ersei">Fediverse</a>, if you&#39;re into me making bad puns.</p></article></div></div>
  </body>
</html>
