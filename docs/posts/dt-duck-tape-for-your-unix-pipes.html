<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://dt.plumbing/">Original</a>
    <h1>Dt: Duck tape for your Unix pipes</h1>
    
    <div id="readability-page-1" class="page"><div>
        <hr/>

<!-- motd -->

        <p><i>
            Hi <a href="https://lobste.rs/s/b8icdy/dt_duck_tape_for_your_unix_pipes">Lobsters</a>
            and friends! dt is very new (1.0 as of July 11th) and I&#39;m still
            fleshing out docs. Follow along, send an issue, or star <a href="https://github.com/booniepepper/dt">the repository</a>
            if you&#39;re interested. Thanks! -- J.R.
        </i></p>

<!-- toc -->

        <h2><a id="toc"></a>Table of Contents</h2>
        <ol>
          <li><a href="#intro">What&#39;s dt?</a></li>
          <li><a href="#install">Installing</a></li>
          <li><a href="#quick-start">Quick start</a></li>
          <li><a href="#syntax">Basic Syntax</a></li>
          <li><a href="#stdlib">Standard Library</a></li>
          <li><a href="#libraries">Other Libraries</a></li>
        </ol>

        <hr/>

<!-- intro -->

        <h2 id="intro">What&#39;s dt? <a href="#intro">⌾</a></h2>
        <p>
          dt is a utility and programming language. The utility is intended for
          ergonomic in-the-shell execution. The language is straightforward
          (in the most literal sense) with a minimal syntax that allows for
          high-level, higher-order programming.
        </p>
        <p>
          It&#39;s meant to supplement (<i>not replace!</i>) other tools like awk,
          sed, xargs, and shell built-ins. Something like the Perl one-liners
          popular yesteryear, but hopefully easier to read and reason through.
        </p>
        <p>
          In particular dt is intended to be generally useful, with zero
          pretense of elegance. The philosophy might be summed up with some
          <a href="https://www.redgreen.com">Red Green</a> quotes:
        </p>
        <ul>
          <li>If it ain&#39;t broke, you&#39;re not trying.</li>
          <li>...the handyman&#39;s secret weapon, duct tape.</li>
          <li>This is only temporary, unless it works.</li>
          <li>Spare the duct tape, spoil the job.</li>
        </ul>
        <p>
          dt is released as open source software, usable under the (permissive)
          terms of <a href="https://opensource.org/licenses/BSD-3-Clause">
          the BSD 3-Clause license</a>.
        </p>

        <h4>Excuse me, is it &#34;duct&#34; or &#34;duck&#34; tape?</h4>
        <p>
          I mean sure, &#34;duct tape&#34; and &#34;duck tape&#34; are both fine. &#34;Duct tape&#34;
          is the more common name today. The older name is &#34;duck tape&#34; after
          the duck cloth under the adhesive.
        </p>
        <p><i>
          As an aside: If you care about such things, make sure to read up on
          how today&#39;s common version became popular. A 51-year-old woman named
          <a href="https://en.wikipedia.org/wiki/Vesta_Stoudt">Vesta Stoudt</a>,
          mother of 8, mailed her idea for a better ammunition box seal to the
          president (who approved production) after her bosses didn&#39;t do
          anything with the suggestion.
        </i></p>
        <p>Anyway, the goal is to be handy.</p>

        <hr/>

<!-- install -->

        <h2 id="install">Installing <a href="#install">⌾</a></h2>
        <p>
          Download a binary for your system from the project&#39;s
          <a href="https://github.com/booniepepper/dt/releases">
            releases page
          </a>. An installation script is coming soon.
        </p>

        <p>You can confirm that it worked with something like this:</p>

        <pre>        echo it worked yay! | dt ... upcase words pls
        </pre>

        <p>It should print an enthusiastic three lines saying it worked. (Yay!)</p>

        <hr/>

<!-- quick-start -->

        <h2 id="quick-start">Quick start <a href="#quick-start">⌾</a></h2>

        <p>
          Use <span>status</span> to see the state of dt.
          Here we see piped standard input is a list of strings.
        </p>
        <pre>        $ echo -e &#34;one\ntwo\nthree!&#34; | dt status
        [ [ &#34;one&#34; &#34;two&#34; &#34;three!&#34; ] ]
        </pre>

        <p>
          Print lines to stdout with <span>pls</span> or
          <span>printlns</span>.
        </p>
        <pre>        $ echo -e &#34;one\ntwo\nthree!&#34; | dt pls
        one
        two
        three!
        </pre>
        <p>
          (See also: <span>p</span>,
          <span>print</span>, <span>pl</span>,
          <span>println</span>)
        </p>

        <p>
          Explore definitions with <span>defs</span> and
          <span>usage</span>.
        </p>
        <pre>        $ dt defs pls | head -n 3
        *
        +
        -

        $ dt   \\pls usage pls   quit
        ( [&lt;a&gt;] -- ) Print the values of the most recent quote, each followed by a newline, to standard output.
        </pre>

        <p>
          In dt, everything is evaluated left-to-right. This means we don&#39;t
          write &#34;3 + 4&#34; because the &#34;+&#34; wouldn&#39;t have enough information to add
          yet. Instead we write <span>3 4 +</span>.
        </p>
        <pre>        $ dt 3 4 + pl   quit
        7
        </pre>

        <p>
          All commands are evaluated left-to-right, including <span>def</span>
          which is a command that defines more commands. In dt, a command
          is a binding to a value or a &#34;quote&#34; of values and commands. In other
          words, a command is what other languages call functions, variables,
          procedures, subroutines, bindings, etc. Some commands are built-in,
          others are defined in dt source code. Anyway let&#39;s
          <span>def</span> some stuff to use it. (I&#39;m going to
          feed the code as a single string to avoid escapes, and assume a
          shell that can interpret multiline strings.)
        </p>
        <pre>        $ dt &#39;3 \three def
              4 \four def
              [+ pl] \add-and-print def
              three four add-and-print
              quit&#39;
        7
        </pre>
        <p>
          Above you can see we bound <span>3</span> to a new
          command <span>three</span> and did similar for
          <span>four</span>. These are like variables, but
          can also be thought of as a command that produces a single value.
        </p>
        <p>
          Above you can also see we bound <span>+</span> and
          <span>pl</span> in sequence to a new command
          <span>add-and-print</span>. Calling this performed
          its two commands.
        </p>
        <p>
          Sometimes you just want to bind as values that would not execute the
          code immediately (For example: to bind a quote as a list). for this
          we can use <span>:</span> to bind values.
        </p>
        <pre>        $ dt  3 4 [+ pl]   [three four add-and-print]: \
              three four add-and-print \
              status \
              quit
        [ 3 4 [ + pl ] ]
        </pre>
        <p>
          This bound three values to three identifiers. It didn&#39;t execute the
          last quotation though, it simply provided it again. Let&#39;s finish up
          by executing with <span>do</span>.
        </p>
        <pre>        $ dt  3 4 [+ pl]   [three four add-and-print]: \
              three four add-and-print \
              do \
              quit
        7
        </pre>
        <hr/>

<!-- syntax -->

        <h2 id="syntax">Basic Syntax <a href="#syntax">⌾</a></h2>
        <p>
          The <span>[</span> and <span>]</span>
          characters begin and end quotations. Quotations are sequences of zero
          or more values, each of any kind. Commands in a quotation are not
          immediately executed.
        </p>
        <p>
          The <span>&#34;</span> character begins and ends a string
          value.
        </p>
        <p>
          <span>true</span> and <span>false</span>
          read as boolean values.
        </p>
        <p>
          Numbers like <span>1</span> and
          <span>-2</span> read as 64-bit integers.
        </p>
        <p>
          Numbers like <span>-4.5</span>, and
          <span>6.7e8</span> read as 64-bit floating point numbers.
        </p>
        <p>Everything else is read as a command.</p>
        
        <hr/>

<!-- stdlib -->

        <h2 id="stdlib">Standard Library <a href="#stdlib">⌾</a></h2>
        <p>Current</p>
        <ul>
          <li><a href="https://dt.plumbing/stdlib.html">1.0.0</a></li>
        </ul>
        <p>Past</p>
        <ul>
          <li><a href="https://dt.plumbing/archive/stdlib-1.0.0.html">1.0.0</a></li>
          <li><a href="https://dt.plumbing/archive/stdlib-0.11.2.html">0.11.2</a></li>
          <li><a href="https://dt.plumbing/archive/stdlib-0.11.1.html">0.11.1</a></li>
          <li><a href="https://dt.plumbing/archive/stdlib-0.11.0.html">0.11.0</a></li>
          <li><a href="https://dt.plumbing/archive/stdlib-0.10.0.html">0.10.0</a></li>
          <li><a href="https://dt.plumbing/archive/stdlib-0.9.0.html">0.9.0</a></li>
          <li><a href="https://dt.plumbing/archive/stdlib-0.8.0.html">0.8.0</a></li>
          <li><a href="https://dt.plumbing/archive/stdlib-0.7.0.html">0.7.0</a></li>
          <li><a href="https://dt.plumbing/archive/stdlib-0.6.0.html">0.6.0</a></li>
          <li><a href="https://dt.plumbing/archive/stdlib-0.5.2.html">0.5.3</a></li>
          <li><a href="https://dt.plumbing/archive/stdlib-0.5.2.html">0.5.2</a></li>
          <li><a href="https://dt.plumbing/archive/stdlib-0.5.1.html">0.5.1</a></li>
          <li><a href="https://dt.plumbing/archive/stdlib-0.5.0.html">0.5.0</a></li>
        </ul>
        
        <hr/>
      </div></div>
  </body>
</html>
