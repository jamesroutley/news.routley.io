<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://shopify.engineering/shopify-ruby-at-scale-research-investment">Original</a>
    <h1>Shopify invests in research for Ruby at scale</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="articleBody">
  <p>Shopify is continuing to invest on Ruby on Rails at scale. We’ve taken that further recently by funding high-profile academics to focus their work towards Ruby and the needs of the Ruby community. Over the past year we have given nearly half a million dollars in gifts to influential researchers that we trust to make a significant impact on the Ruby community for the long term.</p>
<figure><img alt="" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/ShopifyandRubySGH0421_102.jpg?v=1652457297"/>
<figcaption>Shopify engineers and researchers at a recent meetup in London</figcaption>
</figure>
<p>We want developments in programming languages and their implementations to be explored in Ruby, so that support for Ruby&#39;s unique properties are built in from the start. For example, Ruby&#39;s prevalent metaprogramming motivated a whole new kind of inline caching to be developed and <a href="https://stefan-marr.de/papers/pldi-marr-et-al-zero-overhead-metaprogramming/" target="_blank" rel="nofollow noopener noreferrer">presented as a paper</a> at one of the top programming language conferences, and Ruby&#39;s unusually loose C extension API motivated <a href="https://chrisseaton.com/truffleruby/modularity15/rubyextensions.pdf" target="_blank" rel="nofollow noopener noreferrer">a new kind of C interpreter</a> to run virtualized C. These innovations wouldn&#39;t have happened if academics weren&#39;t looking at Ruby.</p>
<p>We want programming language research to be evaluated against the workloads that matter to companies using Ruby. We want researchers to understand the scale of our code bases, how frequently they&#39;re deployed, and the code patterns we use in them. For example, a lot of VM research over the last couple of decades has traded off a long warmup optimization period for better peak performance, but this doesn&#39;t work for companies like Shopify where we&#39;re redeploying very frequently. Researchers aren&#39;t aware of these kinds of problems unless we partner with them and guide them.</p>
<p>We think that working with academics like this will be self-perpetuating. With key researchers thinking and talking about Ruby, more early career researchers will consider working with Ruby and solving problems that are important to the Ruby community.</p>
<p>Let’s meet Shopify’s new research collaborators.</p>
<h2>Professor Laurence Tratt</h2>
<figure><img alt="" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/ShopifyandRubySGH0421_043.jpg?v=1652457297"/>
<figcaption>Professor Laurence Tratt describes his vision for optimizing Ruby</figcaption>
</figure>
<p><a href="https://tratt.net/laurie/" target="_blank" rel="nofollow noopener noreferrer">Professor Laurence Tratt</a> is the Shopify and Royal Academy of Engineering Research Chair in Language Engineering at King’s College London. Jointly funded by Shopify, the Royal Academy, and King’s College, Laurie is looking at the possibility of automatically generating a just-in-time compiler from the existing Ruby interpreter through hardware meta-tracing and basic-block stitching.</p>
<p>Laurie has an eclectic and influential <a href="https://tratt.net/laurie/research/pubs/" target="_blank" rel="nofollow noopener noreferrer">research portfolio</a>, and <a href="https://tratt.net/laurie/essays/" target="_blank" rel="nofollow noopener noreferrer">extensive writing</a> on many aspects of improving dynamic languages and programming. He has context from the Python community and the groundbreaking work towards meta-tracing in the PyPy project. Laurie also works to build the programming language implementation community for the long term by co-organising a <a href="https://pliss.org/2021/" target="_blank" rel="nofollow noopener noreferrer">summer school series for early career researchers</a>, bringing them together with experienced researchers from academia and industry.</p>
<h2>Professor Steve Blackburn</h2>
<figure><img alt="" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/ShopifyandRubyBlackburn_lecture_11.jpg?v=1652457297"/>
<figcaption>Professor Steve Blackburn is building a new model for applied garbage collection</figcaption>
</figure>
<p><a href="https://users.cecs.anu.edu.au/~steveb/" target="_blank" rel="nofollow noopener noreferrer">Professor Steve Blackburn</a> is an academic at the Australian National University and Google Research. Shopify funded his group’s work on <a href="https://www.mmtk.io/" target="_blank" rel="nofollow noopener noreferrer">MMTk, the memory management toolkit</a>, a general library for garbage collection that brings together proven garbage collection algorithms with a framework for research into new ideas for garbage collection. <a href="https://github.com/chrisseaton/ruby-mmtk-builder" target="_blank" rel="nofollow noopener noreferrer">We’re putting MMTk into Ruby</a> so that Ruby can get the best current collectors today and future garbage collectors can be tested against Ruby.</p>
<p>Steve is a world-leading expert in garbage collection, and Shopify’s funding is putting Ruby’s unique requirements for memory management into his focus.</p>
<h2>Dr Stefan Marr</h2>
<figure><img alt="" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/ShopifyandRubySGH0421_017.jpg?v=1652457297"/>
<figcaption>Dr Stefan Marr is an expert in benchmarking dynamic language implementations</figcaption>
</figure>
<p><a href="https://stefan-marr.de/" target="_blank" rel="nofollow noopener noreferrer">Dr Stefan Marr</a> is a Senior Lecturer at the University of Kent in the UK and a Royal Society Industrial Fellow. With the support of Shopify, he’s examining how we can make interpreters faster and improve interpreter startup and warmup time.</p>
<p>Stefan has a distinguished reputation for <a href="https://stefan-marr.de/2021/09/how-do-we-do-benchmarking/" target="_blank" rel="nofollow noopener noreferrer">benchmarking techniques</a>, differential analysis between languages and implementation techniques, and dynamic language implementation. He co-invented a new method for inline caching that has been instrumental for improving the performance of Ruby’s metaprogramming in TruffleRuby.</p>
<figure><img alt="" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/ShopifyandRubySGH0421_094.jpg?v=1652457297"/>
<figcaption>Shopify engineers and research collaborators discuss how to work together to improve Ruby</figcaption>
</figure>
<p>We’ve been bringing together the researchers that we’re funding with our senior Ruby community engineers to share their knowledge of what’s already possible and what could be possible, combining our understanding of how Ruby and Rails are used at scale today and what the community needs.</p>
<p>These external researchers are all in addition to our own internal teams doing publishable research-level work on Ruby, with YJIT and TruffleRuby, and more efforts.</p>
<figure><img alt="" data-src="https://cdn.shopify.com/s/files/1/0779/4361/files/ShopifyandRubySGH0421_006.jpg?v=1652457297"/>
<figcaption>Part of Shopify’s Ruby and Rails Infrastructure Team listening to research proposals</figcaption>
</figure>
<p>We’ll be looking forward to sharing more about our investments in Ruby research over the coming years in blog posts and academic papers.</p>
<p><strong>Chris Seaton </strong>has a PhD in optimizing Ruby and works on TruffleRuby, a highly optimizing implementation of Ruby, and research projects at Shopify.</p>
<hr/>
<p>Wherever you are, your next journey starts here! If building systems from the ground up to solve real-world problems interests you, our Engineering blog has stories about other challenges we have encountered. Intrigued? Visit our <a href="http://www.shopify.com/careers/specialties/engineering?itcat=EngBlog&amp;itterm=Post" target="_blank">Engineering career page</a> to find out about our open positions and learn about <a href="https://www.shopify.com/careers/work-anywhere?itcat=EngBlog&amp;itterm=CCTA-DD" target="_blank">Digital by Design</a>.</p>
</div><div><div><div><svg aria-hidden="true" focusable="false"> <use xlink:href="#spot-blog-post"></use> </svg><h3>Get stories like this in your inbox!</h3><p>Stories from the teams who build and scale Shopify. The commerce platform powering millions of businesses worldwide.</p><p>Share your email with us and receive monthly updates.</p></div><div aria-hidden="true">
    <h3>Thanks for subscribing.</h3>
    <p>You’ll start receiving free tips and resources soon.</p>
</div></div></div></div>
  </body>
</html>
