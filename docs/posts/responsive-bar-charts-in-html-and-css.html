<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://9elements.com/blog/responsive-bar-charts-in-html-and-css/">Original</a>
    <h1>Responsive bar charts in HTML and CSS</h1>
    
    <div id="readability-page-1" class="page"><div><p><strong>Building flexible data visualizations for international sites</strong></p><p>For our international clients, we have created dynamic charts and data visualizations for the web. Charts typically render shapes like lines and paths, rectangles and circles. They contain text for titles, axis labels, numerical values and legends.</p><p>SVG is the good fit for this purpose. It embeds directly into HTML and pairs well with CSS. However, for dynamic data visualizations on the web, SVG poses a challenge.</p><h2 id="Responsive-charts-and-the-problems-of-SVG">Responsive charts and the problems of SVG</h2><p>The websites we build feature responsive layouts and fluid typography. We employ CSS Flexbox and Grid together with media and container queries to fit in the content. There is not one single fixed presentation, but many possible presentations depending on the content and the reading environment.</p><p>In contrast, SVG does not have layout techniques like Flexbox, Grid or even <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_flow_layout">Normal Flow</a>. In SVG, all shapes are absolutely positioned. Text does not wrap automatically. The shapes and text need to be laid out manually by the code that generates the SVG.</p><p>SVG does scale continuously, as the name says – but for charts on the web, we usually do not want that. A small chart should not look like a downscaled big chart. Text would become unreadable, shapes would become tiny pixel mush – even with techniques that <a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/vector-effect#non-scaling-stroke">prevent the scaling of some graphical features</a>.</p><p>For charts on the web, we want quantitative and qualitative responsive scaling. A small and a large chart should be designed and laid out differently. A small chart should focus on clear, distinguishable marks that represent the data. A large chart should take advantage of the screen estate to show more items and details as well as provide context.</p><p>For example, a line chart with multiple lines may switch to small multiples on smaller viewports or containers.</p><figure><picture><source type="image/avif" srcset="/images/ctfl/6GQrENkrcOjoCMIY8TZIQO-352w-embedded.avif 352w, /images/ctfl/6GQrENkrcOjoCMIY8TZIQO-704w-embedded.avif 704w, /images/ctfl/6GQrENkrcOjoCMIY8TZIQO-1408w-embedded.avif 1408w" sizes="(min-width: 176em) 176rem, 100vw"/><source type="image/jpeg" srcset="/images/ctfl/6GQrENkrcOjoCMIY8TZIQO-352w-embedded.jpeg 352w, /images/ctfl/6GQrENkrcOjoCMIY8TZIQO-704w-embedded.jpeg 704w, /images/ctfl/6GQrENkrcOjoCMIY8TZIQO-1408w-embedded.jpeg 1408w" sizes="(min-width: 176em) 176rem, 100vw"/><img alt="Line chart with six lines representing six world regions (Western Pacific, Europe, Americas, South-East Asia, Eastern Mediterranean, Africa). Lines are colored differently and sometimes overlap." loading="lazy" decoding="async" src="https://9elements.com/images/ctfl/6GQrENkrcOjoCMIY8TZIQO-352w-embedded.jpeg" width="1408" height="1051"/></picture></figure><figure><picture><source type="image/avif" srcset="/images/ctfl/1IqU5V32yN34rKj2RNREFi-352w-embedded.avif 352w, /images/ctfl/1IqU5V32yN34rKj2RNREFi-704w-embedded.avif 704w" sizes="(min-width: 176em) 176rem, 100vw"/><source type="image/jpeg" srcset="/images/ctfl/1IqU5V32yN34rKj2RNREFi-352w-embedded.jpeg 352w, /images/ctfl/1IqU5V32yN34rKj2RNREFi-704w-embedded.jpeg 704w" sizes="(min-width: 176em) 176rem, 100vw"/><img alt="Two-column grid of six small line charts, one line chart for each world region. All lines are colored blue. The y axes are aligned so the lines are comparable." loading="lazy" decoding="async" src="https://9elements.com/images/ctfl/1IqU5V32yN34rKj2RNREFi-352w-embedded.jpeg" width="704" height="960"/></picture></figure><p>We have typically implemented this responsiveness with client-side JavaScript logic. JavaScript is able to read the container size and measure text in order to compute all shape coordinates and sizes. This often involves decollision with <a href="https://d3js.org/d3-force">force simulations</a>.</p><p>This approach has severe disadvantages. The cycle of forcing the browser to compute the style, reading sizes and setting positions leads to <a href="https://web.dev/articles/avoid-large-complex-layouts-and-layout-thrashing">layout thrashing</a> and slows down the chart rendering.</p><p>When the container size changes, for example due to a browser resize or orientation change, the JavaScript needs to compute all SVG positions and sizes from scratch. Assuming this takes 50-100ms per chart, a page with 20 charts freezes the browser for 1-2 seconds.</p><h2 id="HTML-CSS-and-SVG-hybrid">HTML, CSS and SVG hybrid</h2><p>Horizontal bar charts are simple yet effective, intuitive and accessible visualizations. They are versatile regarding the bar design, labeling, value placement and axes. And they can be highly flexible regarding the container size.</p><p>We have a pretty solid implementation of a responsive bar chart. In narrow containers, the row label is shown on top of the bar. In wide containers, it is shown next to the bar.</p><figure><picture><source type="image/avif" srcset="/images/ctfl/5Sulbp7D4VfW4YXX4s1hKD-352w-embedded.avif 352w, /images/ctfl/5Sulbp7D4VfW4YXX4s1hKD-704w-embedded.avif 704w" sizes="(min-width: 176em) 176rem, 100vw"/><source type="image/jpeg" srcset="/images/ctfl/5Sulbp7D4VfW4YXX4s1hKD-352w-embedded.jpeg 352w, /images/ctfl/5Sulbp7D4VfW4YXX4s1hKD-704w-embedded.jpeg 704w" sizes="(min-width: 176em) 176rem, 100vw"/><img alt="Horizontal bar chart for four countries. The country names are placed on top of the bars. The vertical x axis lines span the whole height. Next to each bar, there is a label with the value for the country." loading="lazy" decoding="async" src="https://9elements.com/images/ctfl/5Sulbp7D4VfW4YXX4s1hKD-352w-embedded.jpeg" width="704" height="357"/></picture></figure><figure><picture><source type="image/avif" srcset="/images/ctfl/22MPkZRNittq3duJ5JAx2X-352w-embedded.avif 352w, /images/ctfl/22MPkZRNittq3duJ5JAx2X-704w-embedded.avif 704w, /images/ctfl/22MPkZRNittq3duJ5JAx2X-1408w-embedded.avif 1408w" sizes="(min-width: 176em) 176rem, 100vw"/><source type="image/jpeg" srcset="/images/ctfl/22MPkZRNittq3duJ5JAx2X-352w-embedded.jpeg 352w, /images/ctfl/22MPkZRNittq3duJ5JAx2X-704w-embedded.jpeg 704w, /images/ctfl/22MPkZRNittq3duJ5JAx2X-1408w-embedded.jpeg 1408w" sizes="(min-width: 176em) 176rem, 100vw"/><img alt="Horizontal bar chart for four countries. The country names are placed in a column on the left side. The bars as well as the x axis ticks and labels are placed in a column on the right side. Next to each bar, there is a label with the value for the country." loading="lazy" decoding="async" src="https://9elements.com/images/ctfl/22MPkZRNittq3duJ5JAx2X-352w-embedded.jpeg" width="1408" height="359"/></picture></figure><p>This chart is a hybrid of HTML, CSS and SVG. We wanted to use essential CSS layout methods like Flexbox instead of re-implementing layout algorithms in JavaScript. However, the synchronization with the SVG parts is still slow, complex client-side JavaScript code.</p><h2 id="lessstronggreaterBar-chart-in-plain-HTML-andamp-CSSlessstronggreater"><strong>Bar chart in plain HTML &amp; CSS</strong></h2><p>We were wondering: Can we achieve this with HTML and CSS alone, preferably without SVG and with less JavaScript logic? We fiddled around, but never finished this idea.</p><p>Then we saw the <a href="https://2023.stateofjs.com/en-US/features/#syntax_features">beautiful responsive bar charts of State of JS</a>, made with HTML &amp; CSS only. On narrow viewports, they use a two-column grid:</p><figure><picture><source type="image/avif" srcset="/images/ctfl/7xQa0or3SZ1lXzbFdIfGs8-352w-embedded.avif 352w, /images/ctfl/7xQa0or3SZ1lXzbFdIfGs8-704w-embedded.avif 704w" sizes="(min-width: 176em) 176rem, 100vw"/><source type="image/jpeg" srcset="/images/ctfl/7xQa0or3SZ1lXzbFdIfGs8-352w-embedded.jpeg 352w, /images/ctfl/7xQa0or3SZ1lXzbFdIfGs8-704w-embedded.jpeg 704w" sizes="(min-width: 176em) 176rem, 100vw"/><img alt="Bar chart from &#34;State of JS&#34; showing how many people have used a certain JavaScript features. X axis values on the top, lines spanning the whole chart. Three rows, one for each JavaScript feature. Feature label and number of users on top of the bar." loading="lazy" decoding="async" src="https://9elements.com/images/ctfl/7xQa0or3SZ1lXzbFdIfGs8-352w-embedded.jpeg" width="704" height="506"/></picture></figure><p>On wide viewports, this is a three-column grid with subgrids that inherit the column setup:</p><figure><picture><source type="image/avif" srcset="/images/ctfl/3Psc17pbAY5Zyd8WZZ61dx-352w-embedded.avif 352w, /images/ctfl/3Psc17pbAY5Zyd8WZZ61dx-704w-embedded.avif 704w, /images/ctfl/3Psc17pbAY5Zyd8WZZ61dx-1408w-embedded.avif 1408w" sizes="(min-width: 176em) 176rem, 100vw"/><source type="image/jpeg" srcset="/images/ctfl/3Psc17pbAY5Zyd8WZZ61dx-352w-embedded.jpeg 352w, /images/ctfl/3Psc17pbAY5Zyd8WZZ61dx-704w-embedded.jpeg 704w, /images/ctfl/3Psc17pbAY5Zyd8WZZ61dx-1408w-embedded.jpeg 1408w" sizes="(min-width: 176em) 176rem, 100vw"/><img alt="Bar chart from &#34;State of JS&#34; showing usage percentage of JavaScript features. X axis values on the top and bottom, lines spanning the whole height. Left column contains feature name, middle column the bar, right column the absolute user number." loading="lazy" decoding="async" src="https://9elements.com/images/ctfl/3Psc17pbAY5Zyd8WZZ61dx-352w-embedded.jpeg" width="1408" height="588"/></picture></figure><p>These well-made charts encouraged us to try to migrate our bar charts to HTML &amp; CSS.</p><h2 id="lessstronggreaterGrid-setuplessstronggreater"><strong>Grid setup</strong></h2><p>For a start, we <a href="https://codepen.io/molily/pen/gOJVQgB?editors=1100">rebuild the basic structure</a>:</p><figure><p data-height="300" data-default-tab="html,result" data-slug-hash="gOJVQgB" data-pen-title="Responsive bar chart with ticks" data-preview="true" data-editable="true" data-user="molily"><span>See the Pen <a href="https://codepen.io/molily/pen/gOJVQgB">Responsive bar chart with ticks</a> by molily (<a href="https://codepen.io/molily">@molily</a>) on <a href="https://codepen.io">CodePen</a>.</span></p></figure><p>In the narrow version, the each row (<code>li</code> element) is a two-column grid:</p><pre><span>css</span><code><span>display</span><span>:</span> grid<span>;</span>
<span>grid-template-columns</span><span>:</span> <span>minmax</span><span>(</span>0<span>,</span> 1fr<span>)</span> min-content<span>;</span>
<span>grid-template-areas</span><span>:</span>
  <span>&#34;dimension value&#34;</span>
  <span>&#34;bar bar&#34;</span><span>;</span>
<span>position</span><span>:</span> relative<span>;</span></code></pre><p>In the wide version, the wrapper (<code>ol</code> element) is a three-column grid:</p><pre><span>css</span><code><span>display</span><span>:</span> grid<span>;</span>
<span>grid-template-areas</span><span>:</span> <span>&#34;dimension bar value&#34;</span><span>;</span>
<span>grid-template-columns</span><span>:</span> <span>fit-content</span><span>(</span>10rem<span>)</span> 1fr min-content<span>;</span></code></pre><p>The row (<code>li</code>) is a subgrid that spans all columns:</p><pre><span>css</span><code><span>display</span><span>:</span> grid<span>;</span>
<span>grid-template-columns</span><span>:</span> subgrid<span>;</span>
<span>grid-template-areas</span><span>:</span> none<span>;</span>
<span>grid-column</span><span>:</span> 1 / -1<span>;</span></code></pre><h2 id="lessstronggreaterReal-world-requirementslessstronggreater"><strong>Real-world requirements</strong></h2><p>Our real bar chart, however, is much more complex and has the following requirements:</p><ul><li><strong>Internationalization with bidirectional text</strong>: We&#39;re building charts for sites in six languages and two text directions: Left-to-right (LTR, like English and Russian) and right-to-left (RTL, like Arabic and Hebrew).</li><li><strong>Positive and negative values</strong>. Bars grow to both sides.</li><li><strong>Row labels</strong> may have an arbitrary length and should wrap and align nicely.</li><li><strong>Value labels</strong> should be positioned at the end of the bars, not inside them or in a separate column.</li><li><strong>Do not repeat the axis tick lines</strong> for each row if it&#39;s avoidable.</li></ul><p>This is the solution we came up with:</p><p><strong></strong><a href="https://codepen.io/molily/pen/JjqgxVR?editors=1100"><strong>Responsive bar chart in HTML &amp; CSS</strong></a></p><p><i>This is version 2 which implements essential feedback from </i><a href="https://vesa.piittinen.name/"><i>Vesa Piitiinen</i></a><i>.</i></p><figure><p data-height="300" data-default-tab="html,result" data-slug-hash="JjqgxVR" data-pen-title="Bar chart version 2" data-preview="true" data-editable="true" data-user="molily"><span>See the Pen <a href="https://codepen.io/molily/pen/JjqgxVR">Bar chart</a> by molily (<a href="https://codepen.io/molily">@molily</a>) on <a href="https://codepen.io">CodePen</a>.</span></p></figure><p>Let&#39;s dive into the implementation.</p><h3><strong>Responsive grid setup</strong></h3><p>The HTML structure looks like this:</p><pre><span>html</span><code><span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>&#34;</span>bar-chart<span>&#34;</span></span><span>&gt;</span></span>
  <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>&#34;</span>ticks<span>&#34;</span></span> <span>aria-hidden</span><span><span>=</span><span>&#34;</span>true<span>&#34;</span></span><span>&gt;</span></span>
    <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>&#34;</span>tick<span>&#34;</span></span> <span><span>style</span><span><span>=</span><span>&#34;</span><span><span>inset-inline-start:</span> <span>{</span>percent<span>}</span>%</span><span>&#34;</span></span></span><span>&gt;</span></span>{tick value}<span><span><span>&lt;/</span>div</span><span>&gt;</span></span>
    
  <span><span><span>&lt;/</span>div</span><span>&gt;</span></span>
  <span><span><span>&lt;</span>ol</span><span>&gt;</span></span>
    <span><span><span>&lt;</span>li</span><span>&gt;</span></span>
      <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>&#34;</span>dimension<span>&#34;</span></span><span>&gt;</span></span>
        <span><span><span>&lt;</span>span</span> <span>class</span><span><span>=</span><span>&#34;</span>dimension-label<span>&#34;</span></span><span>&gt;</span></span>{dimension label}<span><span><span>&lt;/</span>span</span><span>&gt;</span></span>
      <span><span><span>&lt;/</span>div</span><span>&gt;</span></span>
      <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>&#34;</span>bar<span>&#34;</span></span> <span><span>style</span><span><span>=</span><span>&#34;</span><span><span>margin-inline-start:</span> <span>{</span>bar start<span>}</span>%<span>;</span> <span>width:</span> <span>{</span>bar width<span>}</span>%</span><span>&#34;</span></span></span><span>&gt;</span></span>
        <span><span><span>&lt;</span>span</span> <span>class</span><span><span>=</span><span>&#34;</span>bar-label<span>&#34;</span></span><span>&gt;</span></span>{ bar label }<span><span><span>&lt;/</span>span</span><span>&gt;</span></span>
      <span><span><span>&lt;/</span>div</span><span>&gt;</span></span>
      <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>&#34;</span>value<span>&#34;</span></span> <span>aria-hidden</span><span><span>=</span><span>&#34;</span>true<span>&#34;</span></span><span>&gt;</span></span>{ bar label again }<span><span><span>&lt;/</span>div</span><span>&gt;</span></span>
    <span><span><span>&lt;/</span>li</span><span>&gt;</span></span>
    
    <span><span><span>&lt;</span>li</span> <span>class</span><span><span>=</span><span>&#34;</span>is-negative<span>&#34;</span></span><span>&gt;</span></span>
      <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>&#34;</span>dimension<span>&#34;</span></span><span>&gt;</span></span>
        <span><span><span>&lt;</span>span</span> <span>class</span><span><span>=</span><span>&#34;</span>dimension-label<span>&#34;</span></span><span>&gt;</span></span>{dimension label}<span><span><span>&lt;/</span>span</span><span>&gt;</span></span>
      <span><span><span>&lt;/</span>div</span><span>&gt;</span></span>
      
      <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>&#34;</span>value<span>&#34;</span></span> <span>aria-hidden</span><span><span>=</span><span>&#34;</span>true<span>&#34;</span></span><span>&gt;</span></span>{bar label again}<span><span><span>&lt;/</span>div</span><span>&gt;</span></span>
      <span><span><span>&lt;</span>div</span> <span>class</span><span><span>=</span><span>&#34;</span>bar<span>&#34;</span></span> <span><span>style</span><span><span>=</span><span>&#34;</span><span><span>margin-inline-start:</span> <span>{</span>bar start<span>}</span>%<span>;</span> <span>width:</span> <span>{</span>bar width<span>}</span>%</span><span>&#34;</span></span></span><span>&gt;</span></span>
        <span><span><span>&lt;</span>span</span> <span>class</span><span><span>=</span><span>&#34;</span>bar-label<span>&#34;</span></span><span>&gt;</span></span>{bar label}<span><span><span>&lt;/</span>span</span><span>&gt;</span></span>
      <span><span><span>&lt;/</span>div</span><span>&gt;</span></span>
    <span><span><span>&lt;/</span>li</span><span>&gt;</span></span>
    
  <span><span><span>&lt;/</span>ol</span><span>&gt;</span></span>
<span><span><span>&lt;/</span>div</span><span>&gt;</span></span></code></pre><p>In the narrow version, the <code>.bar-chart</code> wrapper is a three-column grid:</p><pre><span>css</span><code><span>display</span><span>:</span> grid<span>;</span>
<span>grid-template-columns</span><span>:</span> min-content 1fr min-content<span>;</span>
<span>grid-template-areas</span><span>:</span>
  <span>&#34;dimension dimension dimension&#34;</span>
  <span>&#34;valuePaddingStart bar valuePaddingEnd&#34;</span><span>;</span></code></pre><p>The <code>ol</code> element and <code>li</code> elements are subgrids:</p><pre><span>css</span><code><span>display</span><span>:</span> grid<span>;</span>
<span>grid-column</span><span>:</span> 1 / -1<span>;</span>
<span>grid-template-columns</span><span>:</span> subgrid<span>;</span></code></pre><p>In the wide version, the wrapper becomes a four-column grid:</p><pre><span>css</span><code><span>grid-template-areas</span><span>:</span> <span>&#34;dimension valuePaddingStart bar valuePaddingEnd&#34;</span><span>;</span>
<span>grid-template-columns</span><span>:</span> <span>fit-content</span><span>(</span>10rem<span>)</span> min-content 1fr min-content<span>;</span>
</code></pre><p>Each row remains a subgrid.</p><h2 id="lessstronggreaterBidirectional-textlessstronggreater"><strong>Bidirectional text</strong></h2><p>Internationalization is where HTML and CSS shine compared to SVG.</p><p>Our JavaScript code that generates SVG charts is full or <code>if (isLTR) {…} else {…}</code> conditionals. In SVG, the origin of the coordinate system is always top left. X coordinates need to be calculated using those LTR/RTL switches.</p><p>In HTML and CSS, we can simply use <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_logical_properties_and_values">logical properties</a> like <code>inset-inline-start/-end</code>, <code>margin-inline-start/-end</code> as well as <code>padding-inline-start/-end</code> to solve most left-to-right vs. right-to-left differences. When laying out the boxes in CSS, we can work with the text direction.</p><p>For example, each bar is a Flexbox container with the value label nested inside. Then the label is positioned next to the bar: For positive values, we add a box with <code>::before</code> plus <code>content: &#39;&#39;</code> with a <code>padding-inline-start</code> of 100%. For negative values, we add a box with <code>::after</code> plus <code>content: &#39;&#39;</code> with a <code>padding-inline-end: 100%</code>. These boxes push the label out of the bar so it sits right next to it.</p><p>We still need to handle positive and negative values differently, but by using Flexbox, logical properties and the current text direction, we don&#39;t need to handle left-to-right and right-to-left differently.</p><p>The bar labels are <i>also</i> rendered into the columns named <code>valuePaddingStart</code> and <code>valuePaddingEnd</code>. These invisible placeholders ensure the columns have the correct width to accommodate the absolutely positioned value labels. So the labels appear twice in the DOM. The placeholders have <code>aria-hidden=&#34;true&#34;</code> and <code>visibility: hidden</code> though.</p><h2 id="lessstronggreaterTick-lines-spanning-the-full-heightlessstronggreater"><strong>Tick lines spanning the full height</strong></h2><p>Our goal to put the axis tick lines in the DOM only once instead of repeating them for each row complicates the grid. The challenge is to constrain the tick lines in the bar column horizontally, but let them span the whole grid vertically.</p><p>This is possible with <code>grid-row: 1 / -1</code> given the grid has <strong>explicit rows</strong>. It does not work with an arbitrary number of implicitly-created rows.</p><p>So we defined an outer grid that <strong>has two fixed rows</strong>. The ticks are then positioned in the first row, spanning two rows.</p><pre><span>css</span><code><span>.ticks</span> <span>{</span>
  <span>grid-column</span><span>:</span> bar<span>;</span>
  <span>grid-row</span><span>:</span> 1 / span 2<span>;</span>
<span>}</span></code></pre><p>The list of bars is then positioned in the second row and spans all columns of the parent grid. It creates a subgrid that inherits the grid configuration from the parent grid.</p><pre><span>css</span><code><span>ol</span> <span>{</span>
  <span>display</span><span>:</span> grid<span>;</span>
  <span>grid-row</span><span>:</span> 2<span>;</span>
  <span>grid-column</span><span>:</span> 1 / -1<span>;</span>
  <span>grid-template-columns</span><span>:</span> subgrid<span>;</span>
<span>}</span></code></pre><p>The subgrid may then create an arbitrary number of implicit rows. It remains nested in the second row of the outer grid.</p><p><a href="https://codepen.io/molily/pen/wvbVNbY?editors=1100">Minimal example on CodePen</a>:</p><figure><p data-height="300" data-default-tab="html,result" data-slug-hash="wvbVNbY" data-pen-title="Grid: Span whole grid" data-preview="true" data-editable="true" data-user="molily"><span>See the Pen <a href="https://codepen.io/molily/pen/wvbVNbY">Grid: Span whole grid</a> by molily (<a href="https://codepen.io/molily">@molily</a>) on <a href="https://codepen.io">CodePen</a>.</span></p></figure><h2 id="lessstronggreaterAccessibility-considerationslessstronggreater"><strong>Accessibility considerations</strong></h2><p>Accessibility of data visualizations is a top priority for us and our clients. In our SVG charts and HTML / SVG hybrids, we have assigned ARIA roles and accessible labels so graphical shapes have proper semantics and textual representation. In the accessibility tree, these charts appear either as lists (like <code>ul</code> or <code>ol</code> elements) or tables (like the <code>table</code> element) so users can read and navigate the chart in a familiar way.</p><p>While we have made SVG charts accessible, it is simpler and more robust to use semantic HTML directly. The shown HTML &amp; CSS bar chart uses plain <code>ol</code> and <code>li</code> elements with built-in ARIA roles. Screen readers and other assistive tools read out the labels and values.</p><p>Edge with JAWS on Windows:</p><p><video controls=""><source src="//videos.ctfassets.net/bo3k2i3mbg0o/2vLU4rEGRrRvviFPMB0GqU/b9a0d2171b17072ca3995c4c95532e11/jaws-edge.mp4" type="video/mp4"/>Reading the bar chart with JAWS and Edge. Navigating through the labels and values by keyboard. <a href="https://videos.ctfassets.net/bo3k2i3mbg0o/2vLU4rEGRrRvviFPMB0GqU/b9a0d2171b17072ca3995c4c95532e11/jaws-edge.mp4">jaws-edge.mp4</a></video></p><p>Chrome with VoiceOver on MacOS:</p><p><video controls=""><source src="//videos.ctfassets.net/bo3k2i3mbg0o/1TaiDq3atkiGPaZqVFWSFc/6aafd1a35f5931061420cbd171daa94b/voiceover-chrome.mp4" type="video/mp4"/>Reading the bar chart with VoiceOver and Chrome. Navigating through the labels and values by keyboard. <a href="https://videos.ctfassets.net/bo3k2i3mbg0o/1TaiDq3atkiGPaZqVFWSFc/6aafd1a35f5931061420cbd171daa94b/voiceover-chrome.mp4">voiceover-chrome.mp4</a></video></p><h2 id="lessstronggreaterRecaplessstronggreater"><strong>Recap</strong></h2><p>Today&#39;s websites feature responsive layout and fluid typography. Data visualizations should adapt these design techniques.</p><p>While responsive and accessible SVGs are possible, they require manual client-side JavaScript logic. HTML and CSS allow us to create charts using declarative layouts and bidirectional positioning without computing positions and preventing overlap manually.</p><p>We&#39;ve demonstrated this for a bar chart. We&#39;ve also created HTML, CSS and SVG hybrids where each technology does what it is good at.</p><h2 id="Building-your-next-data-visualizations">Building your next data visualizations</h2><p>At 9elements, we have been visualizing data for our clients for more than 10 years. In 2013, we developed <a href="https://9elements.com/blog/ged-viz-an-html5-data-visualization-tool/">GED VIZ</a> for the Bertelsmann Foundation, visualizing global economic relations. From 2014 on, we developed the front-end and the chart rendering of the <a href="https://9elements.com/blog/new-project-oecd-data-portal/">OECD Data Portal</a>. In 2015, we contributed to the <a href="https://9elements.com/blog/project-launched-wef-inclusive-growth-report-2015/">World Economic Forum Inclusive Growth Report</a>. The bar charts described in this article are part of a long-term work for an international organization in the public health sector.</p><p>Let us discuss how we can help you to explore, present and visualize the data of your organization or business! <a href="https://9elements.com/contact/">Contact us</a>.</p><h2 id="Acknowledgements">Acknowledgements</h2><p>Thanks to my colleagues <a href="https://9elements.com/blog/author/nils-binder/">Nils Binder</a>, <a href="https://9elements.com/blog/author/julian-laubstein/">Julian Laubstein</a> and Matthias von Schmettow for this collaboration.</p><p>Thanks to <a href="https://vesa.piittinen.name/">Vesa Piittinen</a> for substantial feedback and many valuable ideas on how to improve and simplify the HTML and CSS. Please have a look at <a href="https://codepen.io/Merri/pen/RwzwbdV">Vesa&#39;s version of the bar chart</a> which demonstrates more clever optimizations.</p><p>Thanks to the data visualization designers <a href="https://www.alicethudt.de/">Alice Thudt</a>, <a href="https://christianlaesser.com/">Christian Laesser</a> and <a href="https://truth-and-beauty.net/">Moritz Stefaner</a> for their stellar work on the <a href="https://truth-and-beauty.net/projects/who">Data Design Language</a>.</p><p>Thanks to the <a href="https://www.devographics.com/">Devographics</a> team behind the “State of HTML/CSS/JS“ surveys for the inspiration.</p><p>Thanks to our client for the opportunity to work on ambitious data visualizations.</p></div></div>
  </body>
</html>
