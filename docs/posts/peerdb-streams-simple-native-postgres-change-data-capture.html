<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://news.ycombinator.com/item?id=40276768">Original</a>
    <h1>Show HN: Peerdb Streams – Simple, native Postgres change data capture</h1>
    
    <div id="readability-page-1" class="page"><div><td colspan="2"></td><td><div><p>Hello HN, I am Sai Srirampur, one of the Co-founders of PeerDB. (<a href="https://github.com/PeerDB-io/peerdb">https://github.com/PeerDB-io/peerdb</a>). We spent the past 7 months building a solid experience to replicate data from Postgres to data warehouses. Now we&#39;re expanding to queues.</p><p>PeerDB Streams provides a simple and native way to replicate changes as they happen in Postgres to Queues (Kafka, Redpanda, Google PubSub, etc). We use Postgres logical decoding to enable Change Data Capture (CDC).</p><p>Blog post here: <a href="https://blog.peerdb.io/peerdb-streams-simple-native-postgres-change-data-capture">https://blog.peerdb.io/peerdb-streams-simple-native-postgres...</a>. 10-min quickstart here: <a href="https://docs.peerdb.io/quickstart/streams-quickstart">https://docs.peerdb.io/quickstart/streams-quickstart</a>.</p><p>We chose queues as many users found that existing tools are complex. Debezium is the most used tool for this use-case. It has large production usage. However, a common pain point among our users is that it has a significant learning curve taking months to productionize.</p><p>A few issues are: a) Interacting through a command line interface, understanding the various settings, and learning best practices for running it in production is not trivial. Debezium UI, released to address usability concerns [1], is still in an incubating state [2]. Additionally, reading Debezium resources to get started can be overwhelming [3]. 
b) Supporting data formats and transformations isn’t easy. It needs a Java project, building JAR packages and setting up a runtime path on the kafka connect plugin. c)Debezium is not as native as Kafka for other queues and doesn’t offer the same level of configurability. For example, with Event Hubs, it is difficult to stream to topics spread across namespaces and subscriptions.</p><p>TL;DR Debezium aims to provide a comprehensive experience for engineers to implement CDC rather than making it dead simple for them. So you can do a lot with Debezium but need to know a lot about it.</p><p>At PeerDB, we are building a simple yet comprehensive experience for Postgres CDC. The goal is to enable engineers to build prod-grade Postgres CDC with a minimal learning curve, within a few days.</p><p>PeerDB’s feature-set isn&#39;t at Debezium&#39;s level yet, and as we evolve, we might face similar challenges. However, we&#39;re putting usability at the forefront and we believe that we can achieve the above goal.</p><p>First, PeerDB offers a simple UI to set up Postgres and Kafka by creating PEERs and initiating CDC by creating a MIRROR. Through the UI, users can monitor the progress of CDC, including throughput and latency; set up alerts to Slack/Email based on replication slot growth; investigate Postgres-native metrics, including slot size, etc. Here is a demo showing of PeerDB UI in action:</p><p><a href="https://www.loom.com/share/ebcfb7646a1e48738835853b760e5d04" rel="nofollow">https://www.loom.com/share/ebcfb7646a1e48738835853b760e5d04</a></p><p>Second, for users who prefer a CLI, we provide a Postgres-compatible SQL layer to manage CDC. This offers the same level of features as the UI and is more intuitive compared to bash scripts.</p><p>Third, users can perform row-level transformations using Lua scripts executed at runtime. This enables features such as encrypting/masking PII data, supporting various data formats (JSON, MsgPack, Protobuf, etc.), and more. We offer a script editor along with a bunch of useful templates [5].</p><p>Fourth, we provide native connectors to non-Kafka targets. We also provide native configurability options tailored to these platforms. For example, with Event Hubs, users can perform CDC to topics distributed across different namespaces and subscriptions [4].</p><p>Finally, We are laser focused on Postgres, enabling specific optimizations like native metrics for replication, wait-events, and # of connections. Features like faster initial loads through parallel snapshotting and decoding transactions in-flight are in private beta.</p><p>Our hope is to provide the best data-movement experience for Postgres. PeerDB Streams is another step in that direction. We would love to get your feedback on product experience, our thesis and anything else that comes to your mind. It would be super useful for us. Thank you!</p><p>References:</p><p>[1] <a href="https://debezium.io/blog/2020/10/22/towards-debezium-ui/" rel="nofollow">https://debezium.io/blog/2020/10/22/towards-debezium-ui/</a>
[2] <a href="https://debezium.io/documentation/reference/stable/operations/debezium-ui.html" rel="nofollow">https://debezium.io/documentation/reference/stable/operation...</a>
[3] <a href="https://medium.com/@cooper.wolfe/i-hated-debezium-so-much-i-did-it-myself-b43b0efc20a9" rel="nofollow">https://medium.com/@cooper.wolfe/i-hated-debezium-so-much-i-...</a>
[4] <a href="https://blog.peerdb.io/enterprise-grade-replication-from-postgres-to-azure-event-hubs">https://blog.peerdb.io/enterprise-grade-replication-from-pos...</a>
[5] <a href="https://github.com/PeerDB-io/examples">https://github.com/PeerDB-io/examples</a>
[5] <a href="https://app.peerdb.cloud" rel="nofollow">https://app.peerdb.cloud</a>
[6] <a href="https://github.com/PeerDB-io/PeerDB">https://github.com/PeerDB-io/PeerDB</a></p></div></td></div></div>
  </body>
</html>
