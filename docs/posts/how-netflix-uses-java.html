<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.infoq.com/news/2023/10/java-at-netflix-bakker/">Original</a>
    <h1>How Netflix uses Java</h1>
    
    <div id="readability-page-1" class="page"><div>
								<p><a href="https://qconsf.com/speakers/paulbakker">Paul Bakker</a>, Java Platform at Netflix, Java Champion, and Co-Author of &#34;Java 9 Modularity,&#34; presented <a href="https://qconsf.com/presentation/oct2023/how-netflix-really-uses-java">How Netflix Really Uses Java</a> at the 2023 <a href="https://qconsf.com/">QCon San Francisco</a> conference.</p>

<p>Bakker put an end to the myth that &#34;Netflix is all RxJava microservices with Hystrix and Spring Cloud and Chaos Monkeys running the show.&#34;</p>

<p>Bakker described the original architecture behind the familiar Netflix movie application, accessed via television and other devices, that connects to their Groovy-enabled API server using REST and gRPC connections to their various services.</p>

<p><img alt="" data-src="news/2023/10/java-at-netflix-bakker/en/resources/1infoq-netflix-architecture-01-1696877032453.png" src="https://imgopt.infoq.com/fit-in/1200x2400/filters:quality(80)/filters:no_upscale()/news/2023/10/java-at-netflix-bakker/en/resources/1infoq-netflix-architecture-01-1696877032453.png" rel="share"/></p>

<p>The first upgrades featured multiple remote calls, parallel computing and fault tolerance implemented with RxJava and Hystrix. However, there were limitations such as: a script required for each endpoint, UI developers who generally don&#39;t like Groovy and Java; and the fact that reactive programming is hard.</p>

<p><img alt="" data-src="news/2023/10/java-at-netflix-bakker/en/resources/1infoq-netflix-architecture-02-1696877032453.png" src="https://imgopt.infoq.com/fit-in/1200x2400/filters:quality(80)/filters:no_upscale()/news/2023/10/java-at-netflix-bakker/en/resources/1infoq-netflix-architecture-02-1696877032453.png" rel="share"/></p>

<p>Bakker then introduced the GraphQL Federation, an architecture model that allows multiple GraphQL services, known as subgraphs or federated services, to be combined into a single schema or API, and the concept behind GraphQL as an alternative to the over-fetching and under-fetching issues inherent in REST.</p>

<p>Their GraphQL Federated Gateway connecting to Domain Graph Services (DGS) essentially replaced the original API server to communicate with the various services via gRPC. Benefits included: no API duplication; no server-side development for the UI developers; a shared GraphQL schema; and no Java client libraries.</p>

<p><img alt="" data-src="news/2023/10/java-at-netflix-bakker/en/resources/1infoq-netflix-architecture-03-1696877032453.png" src="https://imgopt.infoq.com/fit-in/1200x2400/filters:quality(80)/filters:no_upscale()/news/2023/10/java-at-netflix-bakker/en/resources/1infoq-netflix-architecture-03-1696877032453.png" rel="share"/></p>

<p>Java remains in active development at Netflix. They support Azul Zulu 17, Azul&#39;s downstream distribution of OpenJDK, with active testing on JDK 21, running approximately 2800 applications built with approximately 1500 libraries. Gradle along with <a href="http://nebula-plugins.github.io/">Nebula</a>, a collection of Gradle plugins built by Netflix, and IntelliJ IDEA are their preferred build tools.</p>

<p>Bakker provided a retrospective of their JDK 17 upgrade that provided performance benefits, especially since they were running JDK 8 as recently as this year. Netflix observed a 20% increase of CPU usage on JDK 17 compared to JDK 8. This was mostly due to the improvements in the G1 garbage collector.</p>

<p>Netflix is actively testing on JDK 21, and Bakker feels that a subsequent upgrade to JDK 21 will be much easier and faster. The use of Generational ZGC will be a much better fit for a variety of workloads at Netflix and they will ultimately replace their thread pools with virtual threads. But &#34;virtual threads are not a free lunch,&#34; Bakker maintained, as he warned that simply adding virtual threads to an application can actually decrease performance if the libraries are CPU intensive.</p>

<p>Netflix also supports Spring Cloud with <a href="https://spring.io/projects/spring-cloud-netflix">Spring Cloud Netflix</a>, a subproject that provides Netflix open-source software integrations for Spring Boot apps.</p>

								









  
    

							</div></div>
  </body>
</html>
