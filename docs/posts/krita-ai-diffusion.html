<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/Acly/krita-ai-diffusion">Original</a>
    <h1>Krita AI Diffusion</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto"><a href="#features">Features</a> | <a href="https://github.com/Acly/krita-ai-diffusion/releases/latest">Download</a> | <a href="#installation">Installation</a> | <a href="https://youtu.be/Ly6USRwTHe0" rel="nofollow">Video</a> | <a href="#screenshots">Screenshots</a></p>
<p dir="auto">Generate images from within Krita with minimal fuss: Select an area, push a button,
and new content that matches your image will be generated. Or expand your canvas and
fill new areas with generated content that blends right in. Text prompts are optional.
No tweaking required!</p>
<p dir="auto">This plugin seeks to provide what &#34;Generative Fill/Expand&#34; do in Photoshop - and go beyond.
Adjust strength to refine existing content <em>(img2img)</em> or generate images from scratch.
Powerful customization is available for advanced users.</p>
<p dir="auto"><em>Local. Open source. Free.</em></p>
<p dir="auto"><a href="https://youtu.be/Ly6USRwTHe0" title="Watch video demo" rel="nofollow"><img src="https://github.com/Acly/krita-ai-diffusion/raw/main/media/screenshot-1.png" alt="Watch video demo"/></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content--features" aria-hidden="true" tabindex="-1" href="#-features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><a name="user-content-features"></a> Features</h2>
<p dir="auto">Features are designed to fit an interactive workflow where AI generation is used as just another
tool while painting. They are meant to synergize with traditional tools and the layer stack.</p>
<ul dir="auto">
<li><strong>Inpaint</strong>: Use Krita&#39;s selection tools to mark an area and remove or replace existing content in the image. Simple text prompts can be used to steer generation.</li>
<li><strong>Outpaint</strong>: Extend your canvas, select a blank area and automatically fill it with content that seamlessly blends into the existing image.</li>
<li><strong>Generate</strong>: Create new images from scratch by decribing them with words or existing images. Supports SD1.5 and SDXL.</li>
<li><strong>Refine</strong>: Use the strength slider to refine existing image content instead of replacing it entirely. This also works great for adding new things to an image by painting a (crude) approximation and refining at high strength!</li>
<li><strong>Control</strong>: Guide image creation directly with sketches or line art. Use depth or normal maps from existing images or 3D scenes. Transfer character pose from snapshots. Control composition with segmentation maps.</li>
<li><strong>Resolutions</strong>: Work efficiently at any resolution. The plugin will automatically use resolutions appropriate for the AI model, and scale them to fit your image region.</li>
<li><strong>Upscaling</strong>: Upscale and enrich images to 4k, 8k and beyond without running out of memory.</li>
<li><strong>Job Queue</strong>: Depending on hardware, image generation can take some time. The plugin allows you to queue and cancel jobs while working on your image.</li>
<li><strong>History</strong>: Not every image will turn out a masterpiece. Preview results and browse previous generations and prompts at any time.</li>
<li><strong>Strong Defaults</strong>: Versatile default style presets allow for a simple UI which covers many scenarios.</li>
<li><strong>Customization</strong>: Create your own presets - select a Stable Diffusion checkpoint, add LoRA, tweak samplers and more.</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content--getting-started" aria-hidden="true" tabindex="-1" href="#-getting-started"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><a name="user-content-installation"></a> Getting Started</h2>
<p dir="auto">The plugin comes with an integrated installer for the Stable Diffusion backend.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-requirements" aria-hidden="true" tabindex="-1" href="#requirements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Requirements</h3>
<ul dir="auto">
<li>Windows or Linux (MacOS is untested)</li>
<li><em>On Linux:</em> Python + venv must be installed (available via package manager, eg. <code>apt install python3-venv</code>)</li>
</ul>
<h4 tabindex="-1" dir="auto"><a id="user-content-hardware-support" aria-hidden="true" tabindex="-1" href="#hardware-support"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Hardware support</h4>
<p dir="auto">To run locally a powerful graphics card with at least 6 GB VRAM is recommended. Otherwise generating images will take very long!</p>
<table>
<tbody><tr><td>NVIDIA GPU</td><td>supported via CUDA</td></tr>
<tr><td>AMD GPU</td><td>supported via DirectML, Windows only</td></tr>
<tr><td>CPU</td><td>supported, but very slow</td></tr>
<tr><td>Cloud GPU</td><td>supported, rent a GPU on an hourly basis, see <a href="#gpu-cloud">below</a></td></tr>
</tbody></table>
<h3 tabindex="-1" dir="auto"><a id="user-content-installation" aria-hidden="true" tabindex="-1" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation</h3>
<ol dir="auto">
<li>If you haven&#39;t yet, go and install <a href="https://krita.org/" rel="nofollow">Krita</a>! <em>Recommended version: 5.2.1</em></li>
<li><a href="https://github.com/Acly/krita-ai-diffusion/releases/latest">Download the plugin</a>. Unpack the archive into your <code>pykrita</code> folder.
<ul dir="auto">
<li><em>Windows:</em> Usually <code>C:\Users\&lt;user&gt;\AppData\Roaming\krita\pykrita</code></li>
<li><em>Linux:</em> Usually <code>~/.local/share/krita/pykrita</code></li>
<li>Check <a href="https://docs.krita.org/en/user_manual/python_scripting/install_custom_python_plugin.html" rel="nofollow">Krita&#39;s official documentation</a> if you have trouble locating it.</li>
</ul>
</li>
<li>Enable the plugin in Krita (Settings ‣ Configure Krita ‣ Python Plugins Manager) and restart.</li>
<li>To show the plugin docker: Settings ‣ Dockers ‣ AI Image Generation.</li>
<li>In the plugin docker, click &#34;Configure&#34; to start server installation. <em>Requires ~10 GB free disk space.</em></li>
</ol>
<h3 tabindex="-1" dir="auto"><a id="user-content-gpu-cloud" aria-hidden="true" tabindex="-1" href="#gpu-cloud"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>GPU Cloud</h3>
<p dir="auto">You can also rent a GPU instead of running locally. In that case, step 5 is not needed. Instead use the plugin to connect to a remote server.</p>
<p dir="auto">There is a <a href="https://github.com/Acly/krita-ai-diffusion/blob/main/doc/cloud-gpu.md">step by step guide</a> on how to setup cloud GPU on <a href="https://www.runpod.io" rel="nofollow">runpod.io</a> or <a href="https://vast.ai" rel="nofollow">vast.ai</a>.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-optional-custom-comfyui-server" aria-hidden="true" tabindex="-1" href="#optional-custom-comfyui-server"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><em>Optional:</em> Custom ComfyUI Server</h3>
<p dir="auto">The plugin uses <a href="https://github.com/comfyanonymous/ComfyUI">ComfyUI</a> as backend. As an alternative to the automatic installation,
you can install it manually or use an existing installation. If the server is already running locally before starting Krita, the plugin will
automatically try to connect. Using a remote server is also possible this way.</p>
<p dir="auto">To use an external installation, <a href="https://github.com/Acly/krita-ai-diffusion/blob/main/doc/comfy-requirements.md">some extensions and models are required</a>.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content--screenshots" aria-hidden="true" tabindex="-1" href="#-screenshots"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a><a name="user-content-screenshots"></a> Screenshots</h2>
<p dir="auto"><em>Inpainting on a photo using a realistic model</em>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Acly/krita-ai-diffusion/blob/main/media/screenshot-2.png"><img src="https://github.com/Acly/krita-ai-diffusion/raw/main/media/screenshot-2.png"/></a></p>
<p dir="auto"><em>Reworking and adding content to an AI generated image</em>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Acly/krita-ai-diffusion/blob/main/media/screenshot-1.png"><img src="https://github.com/Acly/krita-ai-diffusion/raw/main/media/screenshot-1.png"/></a></p>
<p dir="auto"><em>Adding detail and iteratively refining small parts of the image</em>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Acly/krita-ai-diffusion/blob/main/media/screenshot-3.png"><img src="https://github.com/Acly/krita-ai-diffusion/raw/main/media/screenshot-3.png"/></a></p>
<p dir="auto"><em>Using ControlNet to guide image generation with a crude scribble</em>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Acly/krita-ai-diffusion/blob/main/media/screenshot-4.png"><img src="https://github.com/Acly/krita-ai-diffusion/raw/main/media/screenshot-4.png"/></a></p>
<p dir="auto"><em>Modifying the pose vector layer to control character stances (Click for video)</em>
<a href="https://youtu.be/-QDPEcVmdLI" title="Watch video demo" rel="nofollow"><img src="https://github.com/Acly/krita-ai-diffusion/raw/main/media/screenshot-5.png" alt="Watch video demo"/></a></p>
<p dir="auto"><em>Upscaling to improve image quality and add details</em>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Acly/krita-ai-diffusion/blob/main/media/screenshot-6.png"><img src="https://github.com/Acly/krita-ai-diffusion/raw/main/media/screenshot-6.png"/></a></p>
<p dir="auto"><em>Server installation</em>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Acly/krita-ai-diffusion/blob/main/media/screenshot-installation.png"><img src="https://github.com/Acly/krita-ai-diffusion/raw/main/media/screenshot-installation.png"/></a></p>
<p dir="auto"><em>Style preset configuration</em>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/Acly/krita-ai-diffusion/blob/main/media/screenshot-style.png"><img src="https://github.com/Acly/krita-ai-diffusion/raw/main/media/screenshot-style.png"/></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-technology" aria-hidden="true" tabindex="-1" href="#technology"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Technology</h2>
<ul dir="auto">
<li>Image generation: <a href="https://github.com/Stability-AI/generative-models">Stable Diffusion</a></li>
<li>Diffusion backend: <a href="https://github.com/comfyanonymous/ComfyUI">ComfyUI</a></li>
<li>Inpainting: <a href="https://github.com/lllyasviel/ControlNet">ControlNet</a>, <a href="https://github.com/tencent-ailab/IP-Adapter">IP-Adapter</a></li>
</ul>
</article>
          </div></div>
  </body>
</html>
