<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/guywaldman/magic-cli">Original</a>
    <h1>Show HN: Magic-cli â€“ A copilot for your command line</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<blockquote>
<p dir="auto">A command line utility to make you a magician in the terminal</p>
</blockquote>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/guywaldman/magic-cli/blob/main/assets/logo_sm.png"><img src="https://github.com/guywaldman/magic-cli/raw/main/assets/logo_sm.png" alt="Magic CLI logo"/></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/guywaldman/magic-cli/actions/workflows/ci.yml/badge.svg"><img src="https://github.com/guywaldman/magic-cli/actions/workflows/ci.yml/badge.svg" alt="GitHub Actions CI"/></a></p>

<p dir="auto">Magic CLI is a command line utility which uses LLMs to help you use the command line more efficiently, inspired by projects such as <a href="https://fig.io/" rel="nofollow">Amazon Q (prev. Fig terminal)</a> and <a href="https://docs.github.com/en/copilot/using-github-copilot/using-github-copilot-in-the-command-line">GitHub Copilot for CLI</a>.</p>
<blockquote>
<p dir="auto"><strong>Read the <a href="https://guywaldman.com/posts/introducing-magic-cli" rel="nofollow">announcement blog post</a>.</strong></p>
</blockquote>
<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Important</p>
<p dir="auto">This project is still in early development.</p>
</div>
<hr/>

<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p dir="auto">For more options on how to install Magic CLI, see the <a href="https://github.com/guywaldman/magic-cli/releases">releases page</a> for the version you wish to install.</p>
</div>

<div dir="auto" data-snippet-clipboard-copy-content="curl -LsSf https://github.com/guywaldman/magic-cli/releases/download/0.0.2/magic-cli-installer.sh | sh"><pre>curl -LsSf https://github.com/guywaldman/magic-cli/releases/download/0.0.2/magic-cli-installer.sh <span>|</span> sh</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="brew install guywaldman/tap/magic-cli"><pre>brew install guywaldman/tap/magic-cli</pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="powershell -c &#34;irm https://github.com/guywaldman/magic-cli/releases/download/0.0.2/magic-cli-installer.ps1 | iex&#34;"><pre>powershell <span>-</span>c <span><span>&#34;</span>irm https://github.com/guywaldman/magic-cli/releases/download/0.0.2/magic-cli-installer.ps1 | iex<span>&#34;</span></span></pre></div>

<p dir="auto">See the <a href="https://github.com/guywaldman/magic-cli/releases">releases page</a> for binaries for your platform.</p>

<p dir="auto">Add functions to your <code>~/.bashrc</code> or <code>~/.zshrc</code> to make formatting the prompts in the terminal easier (not requiring quotes).</p>
<p dir="auto">For example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="function mcs {
  model_prompt=&#34;$*&#34;
  magic-cli suggest &#34;$model_prompt&#34;
}

function mcf {
  model_prompt=&#34;$*&#34;
  magic-cli search &#34;$model_prompt&#34;
}

function mca {
  model_prompt=&#34;$*&#34;
  magic-cli ask &#34;$model_prompt&#34;
}"><pre><span>function</span> <span>mcs</span> {
  model_prompt=<span><span>&#34;</span><span>$*</span><span>&#34;</span></span>
  magic-cli suggest <span><span>&#34;</span><span>$model_prompt</span><span>&#34;</span></span>
}

<span>function</span> <span>mcf</span> {
  model_prompt=<span><span>&#34;</span><span>$*</span><span>&#34;</span></span>
  magic-cli search <span><span>&#34;</span><span>$model_prompt</span><span>&#34;</span></span>
}

<span>function</span> <span>mca</span> {
  model_prompt=<span><span>&#34;</span><span>$*</span><span>&#34;</span></span>
  magic-cli ask <span><span>&#34;</span><span>$model_prompt</span><span>&#34;</span></span>
}</pre></div>

<ul dir="auto">
<li>Suggest a command (see <a href="#feature-suggest-a-command">section</a>)</li>
<li>Ask to generate a command to perform a task (see <a href="#feature-ask-to-generate-a-command">section</a>)</li>
<li>Semantic search of commands across your shell history</li>
<li>Use a local or remote LLM (see <a href="#use-different-llms">section</a>)</li>
</ul>

<p dir="auto">Supply a prompt to get a suggestion for the command to run.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/guywaldman/magic-cli/blob/main/assets/suggest_screenshot.png"><img src="https://github.com/guywaldman/magic-cli/raw/main/assets/suggest_screenshot.png" alt="Suggest subcommand"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="magic-cli suggest &#34;Resize test_image.png to 300x300 with ffmpeg&#34;"><pre>magic-cli suggest <span><span>&#34;</span>Resize test_image.png to 300x300 with ffmpeg<span>&#34;</span></span></pre></div>
<div data-snippet-clipboard-copy-content="Usage: magic-cli suggest &lt;PROMPT&gt;

Arguments:
  &lt;PROMPT&gt;  The prompt to suggest a command for (e.g., &#34;Resize image to 300x300 with ffmpeg&#34;)"><pre><code>Usage: magic-cli suggest &lt;PROMPT&gt;

Arguments:
  &lt;PROMPT&gt;  The prompt to suggest a command for (e.g., &#34;Resize image to 300x300 with ffmpeg&#34;)
</code></pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Search across your command history (experimental)</h3><a id="user-content-search-across-your-command-history-experimental" aria-label="Permalink: Search across your command history (experimental)" href="#search-across-your-command-history-experimental"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Search a command across your shell history, and get a list of the top results.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/guywaldman/magic-cli/blob/main/assets/search_screenshot.png"><img src="https://github.com/guywaldman/magic-cli/raw/main/assets/search_screenshot.png" alt="Search subcommand"/></a></p>
<div dir="auto" data-snippet-clipboard-copy-content="magic-cli search &#34;zellij attach&#34;"><pre>magic-cli search <span><span>&#34;</span>zellij attach<span>&#34;</span></span></pre></div>
<div data-snippet-clipboard-copy-content="Usage: magic-cli search [OPTIONS] &lt;PROMPT&gt;

Arguments:
  &lt;PROMPT&gt;  The prompt to search for"><pre><code>Usage: magic-cli search [OPTIONS] &lt;PROMPT&gt;

Arguments:
  &lt;PROMPT&gt;  The prompt to search for
</code></pre></div>
<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Important</p>
<p dir="auto">Word to the wise: If you&#39;re using a non-local LLM, be wary about the cost of the embeddings, especially for long shell histories.</p>
</div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Ask to generate a command (experimental)</h3><a id="user-content-ask-to-generate-a-command-experimental" aria-label="Permalink: Ask to generate a command (experimental)" href="#ask-to-generate-a-command-experimental"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Supply a prompt with a task you want the model to perform, and watch it try to suggest a command to run to achieve the goal.
It may prompt you along the way to run commands if it needs more context.</p>
<div dir="auto" data-snippet-clipboard-copy-content="magic-cli ask &#34;Set up the dev environment as described in the README&#34;"><pre>magic-cli ask <span><span>&#34;</span>Set up the dev environment as described in the README<span>&#34;</span></span></pre></div>
<div data-snippet-clipboard-copy-content="Usage: magic-cli ask &lt;PROMPT&gt;

Arguments:
  &lt;PROMPT&gt;  The prompt to ask for (e.g., &#34;Set up the development environment&#34;)"><pre><code>Usage: magic-cli ask &lt;PROMPT&gt;

Arguments:
  &lt;PROMPT&gt;  The prompt to ask for (e.g., &#34;Set up the development environment&#34;)
</code></pre></div>

<p dir="auto">Magic CLI supports two LLM providers:</p>
<ul dir="auto">
<li><code>ollama</code>: <a href="https://github.com/ollama/ollama">Ollama</a> is a local LLM provider. The command expects Ollama to be installed and running on your local machine.</li>
<li><code>openai</code>: <a href="https://openai.com/" rel="nofollow">OpenAI</a> is a cloud LLM provider. You configure an API token, and Magic CLI uses it with the OpenAI APIs.</li>
</ul>

<p dir="auto">Magic CLI stores configurations in <code>~/.config/magic_cli/config.json</code>.</p>
<p dir="auto">Use <code>magic-cli config</code> (to see the options, use <code>magic-cli config --help</code>) to set the configuration options:</p>
<div data-snippet-clipboard-copy-content="Usage: magic-cli config &lt;COMMAND&gt;

Commands:
  set    Set a value
  get    Get a value
  list   List the configurations
  reset  Reset the configurations to the default values
  path   Get the path to the configuration file"><pre><code>Usage: magic-cli config &lt;COMMAND&gt;

Commands:
  set    Set a value
  get    Get a value
  list   List the configurations
  reset  Reset the configurations to the default values
  path   Get the path to the configuration file
</code></pre></div>
<p dir="auto">The currently suppprted configuration options are:</p>
<ul dir="auto">
<li><code>llm</code>: The LLM to use for generating responses. Supported values: &#34;ollama&#34;, &#34;openai&#34;</li>
<li><code>ollama.base_url</code>: The base URL of the Ollama API (default: &#34;<a href="http://localhost:11434" rel="nofollow">http://localhost:11434</a>&#34;)</li>
<li><code>ollama.embedding_model</code>: The model to use for generating embeddings (default: &#34;nomic-embed-text:latest&#34;)</li>
<li><code>ollama.model</code>: The model to use for generating responses (default: &#34;codestral:latest&#34;)</li>
<li><code>openai.api_key</code> (secret): The API key for the OpenAI API</li>
<li><code>openai.embedding_model</code>: The model to use for generating embeddings (default: &#34;text-embedding-ada-002&#34;)</li>
<li><code>openai.model</code>: The model to use for generating responses (default: &#34;gpt-4o&#34;)</li>
<li><code>suggest.add_to_history</code>: Whether to add the suggested command to the shell history (default: false)</li>
<li><code>suggest.mode</code>: The mode to use for suggesting commands. Supported values: &#34;clipboard&#34; (copying command to clipboard), &#34;unsafe-execution&#34; (executing in the current shell session) (default: &#34;unsafe-execution&#34;)
<blockquote>
<p dir="auto">Note: <code>unsafe-execution</code> is named as such to make it clear that the CLI executes the command in the current shell session. Please be extremely careful when using this mode - Magic CLI is not responsible for the execution of commands suggested.</p>
</blockquote>
</li>
</ul>

<ul>
<li>
<p dir="auto"> Windows support (PowerShell is supported, but Windows has not been tested properly)</p>
</li>
<li>
<p dir="auto"> Support for more LLM providers (e.g., <a href="https://www.anthropic.com/" rel="nofollow">Anthropic</a>)</p>
</li>
<li>
<p dir="auto"> Improve local embedding index (currently stored naively as a JSON, looked into SQLLite with vector extensions)</p>
</li>
<li>
<p dir="auto"> More test coverage</p>
</li>
</ul>
<hr/>

<p dir="auto">Security is taken seriously and all vulnerabilities will be handled with utmost care and priority.</p>
<p dir="auto">In terms of data stored, the sensitive data that is currently handled by Magic CLI is:</p>
<ul dir="auto">
<li>OpenAI API key, which is stored in the configuration within the <strong>user home directory</strong> (<code>!/.config/magic_cli</code>).
<blockquote>
<p dir="auto">There are plans to store this token in the system&#39;s secure key storage, but this is not yet implemented.</p>
</blockquote>
</li>
<li>Embeddings of the shell history for the <code>magic-cli search</code> command, which are stored in the configuration within the <strong>user home directory</strong> (<code>!/.config/magic_cli</code>)</li>
</ul>
<p dir="auto">Please see <a href="https://github.com/guywaldman/magic-cli/blob/main/SECURITY.md">SECURITY.md</a> for more information, and instructions on how to report potential vulnerabilities.</p>

<p dir="auto">Contributions are welcome!</p>
<p dir="auto">Please see <a href="https://github.com/guywaldman/magic-cli/blob/main/CONTRIBUTING.md">CONTRIBUTING.md</a> for more information.</p>
<p dir="auto">My only request is that pull requests follow an issue, such that we avoid situations of your hard work not being accepted due to a lack of context or necessity.</p>
</article></div></div>
  </body>
</html>
