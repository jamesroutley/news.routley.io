<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://gwolf.org/2022/04/how-is-the-free-firmware-for-the-raspberry-progressing.html">Original</a>
    <h1>How is the free firmware for the Raspberry progressing?</h1>
    
    <div id="readability-page-1" class="page"><div id="content">
	
	
<!-- Blog entry follows -->

<p>Raspberry Pi computers require a piece of non-free software to boot ‚Äî
the infamous
<a href="https://tracker.debian.org/pkg/raspi-firmware">raspi-firmware</a>
package. But for almost as long as there has been a Raspberry Pi to
talk of (this year it turns 10 years old!), there have been efforts to
get it to boot using only free software. How is it progressing?</p>

<p>Michael Bishop (IRC user <code>clever</code>) explained today in the
<code>#debian-raspberrypi</code> channel in OFTC that it advances far better than
what I expected: It is even possible to boot a usable system under the
RPi2 family!  Just‚Ä¶ There is somewhat incomplete hardware support:
For his testing, he has managed to use a xfce environment ‚Äî but over
the composite (NTSC) video output, as HDMI initialization support is
not there.</p>

<p>However, he shared with me several interesting links and videos, and I
told him I‚Äôd share them ‚Äî there are still many issues; I do not
believe it is currently worth it to make Debian images with this
firmware.</p>

<p><img src="http://gwolf.org/files/2022-04/librerpi.png" width="500" height="500"/></p>

<p>Before anything else: Go visit the
<a href="https://github.com/librerpi/lk-overlay">librerpi/lk-overlay</a>
repository. Its README outlines hardware support for each of the RPi
families; there is a <a href="https://hydra.angeldsis.com/build/112580">binary build available with
nixos</a> if you want to try it
out, and <a href="https://gist.github.com/cleverca22/e9800ed47a9a66d4f1a6d182458cc390">instructions to build
it</a>.</p>

<p>But what <code>clever</code> showed me that made me write this post‚Ä¶ Is the
amount of stuff you can do with the RPi‚Äôs VPU (why <del>Vision</del> Vector
Processing Unit and not the more familiar GPU, Graphical Processing
Unit? I don‚Äôt really know‚Ä¶ But I trust <code>clever</code>‚Äôs definitions beyond
how I trust my own üòâ) <em>before it loads</em> an opearting system:</p>

<ul>
  <li><a href="https://www.youtube.com/watch?v=JFmCin3EJIs">2D accel, using the closed firmware (regular
<code>raspi-firmware</code>)</a></li>
  <li><a href="https://www.youtube.com/watch?v=u7DzPvkzEGA">Similar to the above, but running on the VPU, with no firmware
blobs involved</a>. Due to
the lack of HDMI initialization code, this is filmed from an NTSC
output. The garbling you can see happens when too many sprites
‚Äúcollide‚Äù in the same rows.</li>
  <li>This one really blew my mind: it shows <a href="https://www.youtube.com/watch?v=BQyyVtmmVg8">Linux booting with the open
firmware, while the VPU performs 2D and 3D animations in the
background</a></li>
  <li><a href="https://www.youtube.com/watch?v=GHDh9RYg6WI">Just a 2D+3D demo, with no operating system
involved</a></li>
</ul>

<p>There‚Äôs not too much I can add to this. I was just‚Ä¶ Truly
amazed. And I hope to see the remaining hurdles for ‚Äúregular‚Äù Linux
booting on this range of machines with purely free software quickly go
away!</p>

<p>Packaging this for Debian? Well, not yet‚Ä¶ not so fast ‚òπ I first told
<code>clever</code> we could push this firmware to experimental <code>instead</code> of
<code>unstable</code>, as it is not yet ready for most production
systems. However, pabs made some spot-on further
questions. And‚Ä¶ yes, it requires installing three(!) different
cross-compilers, one of which <a href="https://github.com/itszor/vc4-toolchain">vc4-toolchain, for the
VPU</a> is free software, but
not yet upstreamed, and hence is not available for Debian.</p>

<p>Anyway, the talk continued long after I had to go. I have gone a bit
over the backlog, but I have to leave now ‚Äì so that will be it as for
this blog post üòâ</p>




      </div></div>
  </body>
</html>
