<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://chrisnicholas.dev/blog/a-new-blog-for-2024">Original</a>
    <h1>A New Blog for 2024</h1>
    
    <div id="readability-page-1" class="page"><div id="main"><article><header></header><section><p>It’s been a <em>long time</em> since I’ve published a blog post, two whole years. Part of the reason is that it took too much effort to create posts for my previous blog. I needed better DX. A few nights ago, feeling inspired after reading articles by <a target="_blank" rel="noreferrer nofollow noopener" href="https://ped.ro/writing/website-refresh-2023" data-headlessui-state="">Pedro Duarte</a>, <a target="_blank" rel="noreferrer nofollow noopener" href="https://rauno.me/craft/vercel" data-headlessui-state="">Rauno Freiberg</a>, and <a target="_blank" rel="noreferrer nofollow noopener" href="https://leerob.io/blog/2023" data-headlessui-state="">Lee Robinson</a>, I decided it was time to start over.</p>

<p>So here’s the score—I want a blog with great DX that makes it as easy as possible to create posts. I also want to go <em>minimal</em>, so I can get away with a single design on mobile and desktop. No faffing around; I want this blog built and published in 5 days! And lastly, I’m looking to try some new libraries and technologies. Right, let’s dive in.</p>

<p>At work I spend most of my time <a data-headlessui-state="" href="https://blog.greg.technology/work">writing and programming</a>, so dipping my toes into design was a nice change. Here’s a couple of details.</p>

<p>For the header, I was aiming for an animated background that combined an <em>aurora</em>, <em>light beams</em>, and a <em>rainbow</em>. I’m quite pleased with the result, and it&#39;s actually pure CSS—try changing <code><span><span>hue</span><span>-</span><span>rotate</span></span></code> below to emulate the animation.</p>
<figure><figcaption>An interactive demo showing the header background</figcaption><pre><code>.aurora <!-- -->{<!-- --><!-- -->   </code></pre><div><p><label for="change-aurora-hue"><code>hue-rotate</code></label><label for="change-aurora-saturate"><code>saturate</code></label><label for="change-aurora-blur"><code>blur</code></label></p></div></figure>
<h3 id="saturated-text"><a href="#saturated-text">Saturated text</a></h3>
<p>All text that overlays the aurora is saturated with its underlying colours—a tiny touch that really unifies the design. You can do this by simply applying a <code><span><span>luminosity</span></span></code> <a target="_blank" rel="noreferrer nofollow noopener" href="https://www.ctnicholas.dev/articles/which-blend-mode" data-headlessui-state="">blend mode</a> to the text.</p>
<figure><div><div></div><p>My name’s Chris Nicholas</p></div><div><div data-slot="field" data-headlessui-state=""><p><span data-slot="control" id="headlessui-control-:R8lmuuuela:" role="checkbox" aria-checked="true" tabindex="0" data-headlessui-state="checked" data-checked=""><span><svg viewBox="0 0 14 14" fill="none"><path d="M3 8L6 11L11 3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3 7H11" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></span><label data-slot="label" id="headlessui-label-:R9olmuuuela:" for="headlessui-control-:R8lmuuuela:" data-headlessui-state=""><code>mix-blend-mode: luminosity;</code></label></p></div></div></figure>
<h3 id="noise"><a href="#noise">Noise</a></h3>
<p>I’m applying a tiny amount of film grain to the <code><span><span>body</span></span></code>. To me, this makes the page feel like one consistent piece; as you scroll down, the noise sticks to the content, somewhat similar to seeing texture on paper.</p>
<figure><figcaption>An interactive demo allowing you to change the noise level on the page</figcaption><pre><code>.noise <!-- -->{<!-- --><!-- --> </code></pre><p><label for="change-noise-opacity"><code>opacity</code><div></div></label></p></figure>
<p>I wouldn’t recommend noise for most websites, and it’s very easy to overdo it, but I enjoy the subtle filmic effect on my blog.</p>
<h3 id="catalyst"><a href="#catalyst">Catalyst</a></h3>
<p>I’m using <a target="_blank" rel="noreferrer nofollow noopener" href="https://tailwindcss.com/blog/introducing-catalyst" data-headlessui-state="">Catalyst</a>, a new UI kit by the Tailwind team. It’s clear that a tonne of thought has gone into making these components accessible, and pixel perfect, on both light and dark modes.</p>
<figure><figcaption>Tailwind UI Catalyst demo</figcaption><div><p><span>badge</span><span data-slot="control" aria-label="Example checkbox" id="headlessui-checkbox-:R2p3muuuela:" role="checkbox" aria-checked="true" tabindex="0" data-headlessui-state="checked" data-checked=""><span><svg viewBox="0 0 14 14" fill="none"><path d="M3 8L6 11L11 3.5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M3 7H11" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></span></p></div></figure>
<p>Catalyst provides you with a set of files to download into your project, and you can export your components from these. <a target="_blank" rel="noreferrer nofollow noopener" href="https://heroicons.com" data-headlessui-state="">Heroicons</a> has also been updated with new icons that fit neatly into Catalyst.</p>

<pre><code><span><span>import</span><span> </span><span>{</span><span> </span><span>Button</span><span> </span><span>}</span><span> </span><span>from</span><span> </span><span>&#34;</span><span>../components/Button</span><span>&#34;</span><span>;</span><span></span></span>
<span><span>import</span><span> </span><span>{</span><span> </span><span>PaperAirplaneIcon</span><span> </span><span>}</span><span> </span><span>from</span><span> </span><span>&#34;</span><span>@heroicons/react/16/solid</span><span>&#34;</span><span>;</span><span></span></span>
<span><span>	</span><span></span></span>
<span><span>function</span><span> </span><span>Component</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></span>
<span><span>  </span><span>return</span><span> </span><span>(</span><span></span></span>
<span><span>    </span><span>&lt;</span><span>Button</span><span> </span><span>type</span><span>=</span><span>&#34;</span><span>submit</span><span>&#34;</span><span> </span><span>color</span><span>=</span><span>&#34;</span><span>rose</span><span>&#34;</span><span>&gt;</span><span></span></span>
<span><span></span><span>      </span><span>&lt;</span><span>PaperAirplaneIcon</span><span> </span><span>/&gt;</span><span></span></span>
<span><span></span><span>      Send message</span><span></span></span>
<span><span></span><span>    </span><span>&lt;/</span><span>Button</span><span>&gt;</span><span></span></span>
<span><span>  </span><span>)</span><span>;</span><span></span></span>
<span><span>}</span></span></code></pre>
<p>If you’d like to customise your components further, you can edit the downloaded files directly. Each file contains <a target="_blank" rel="noreferrer nofollow noopener" href="https://headlessui.com/" data-headlessui-state="">Headless UI</a> components with lists of carefully annotated classes dispersed throughout.</p>
<pre><code><span><span>&lt;</span><span>HeadlessListBoxButton</span><span></span></span>
<span><span>  </span><span>className</span><span>=</span><span>{</span><span>clsx</span><span>(</span><span></span></span>
<span><span>    </span></span>
<span><span>    </span><span>&#34;</span><span>group relative block w-full</span><span>&#34;</span><span>,</span><span></span></span>
<span><span></span></span>
<span><span>    </span></span>
<span><span>    </span><span>&#34;</span><span>after:pointer-events-none after:absolute ...</span><span>&#34;</span><span>,</span><span></span></span>
<span><span></span></span>
<span><span>    </span></span>
<span><span>    </span><span>&#34;</span><span>data-[disabled]:opacity-50 before:data-[d... </span><span>&#34;</span><span></span></span>
<span><span>  </span><span>)</span><span>}</span><span></span></span>
<span><span>  </span><span>.</span><span>.</span><span>.</span><span></span></span>
<span><span>/&gt;</span><span></span></span></code></pre>
<p>Catalyst is still in alpha, so be warned, breaking changes will most likely be ahead!</p>
<h3 id="twc"><a href="#twc">TWC</a></h3>
<p>While we’re talking about Tailwind, I’ve used a new library called <a target="_blank" rel="noreferrer nofollow noopener" href="https://react-twc.vercel.app/" data-headlessui-state="">TWC</a> to save time building reusable components. It takes boilerplate code you&#39;ve written countless times (forwarding refs, adding <code><span><span>clsx</span></span></code>, etc.), and makes it a one-liner.</p>
<pre><code><span><span>const</span><span> </span><span>Card</span><span> </span><span>=</span><span> </span><span>twc</span><span>.</span><span>div</span><span>`</span><span>rounded-lg border bg-slate-100 text-white shadow-sm</span><span>`</span><span>;</span><span></span></span>
<span><span></span></span>
<span><span>&lt;</span><span>Card</span><span> </span><span>ref</span><span>=</span><span>{</span><span>ref</span><span>}</span><span> </span><span>className</span><span>=</span><span>{</span><span>[</span><span>&#34;</span><span>my-6</span><span>&#34;</span><span>,</span><span> </span><span>hidden</span><span> </span><span>&amp;</span><span>&amp;</span><span> </span><span>&#34;</span><span>hidden</span><span>&#34;</span><span>]</span><span>}</span><span> </span><span>{</span><span>.</span><span>.</span><span>.</span><span>props</span><span>}</span><span> </span><span>/&gt;</span><span>;</span><span></span></span></code></pre>

<h3 id="nextjs"><a href="#nextjs">Next.js</a></h3>
<p>I’ve used <a target="_blank" rel="noreferrer nofollow noopener" href="https://nextjs.org/" data-headlessui-state="">Next.js</a> to build my new blog, and virtually every component is a server component. It feels pretty snappy, I like it.</p>
<h4>Layout files</h4>
<p>Did you notice that the header animation continues running when you change pages? That’s because it’s placed in a Next.js <a target="_blank" rel="noreferrer nofollow noopener" href="https://nextjs.org/docs/pages/building-your-application/routing/pages-and-layouts#layout-pattern" data-headlessui-state="">layout file</a>, meaning it doesn’t get refreshed on route changes.</p>
<figure><video src="/blog/a-new-blog-for-2024/header-animation.mp4" muted="" autoplay="" loop="" playsinline=""></video><figcaption>Header animation when changing pages</figcaption></figure>
<pre><code><span></span>
<span><span>export</span><span> </span><span>default</span><span> </span><span>function</span><span> </span><span>Layout</span><span>(</span><span>{</span><span> </span><span>children</span><span> </span><span>}</span><span>)</span><span> </span><span>{</span><span></span></span>
<span><span>  </span><span>return</span><span> </span><span>(</span><span></span></span>
<span><span>    </span><span>&lt;</span><span>&gt;</span><span></span></span>
<span><span>      </span><span>&lt;</span><span>HeaderAnimation</span><span> </span><span>/&gt;</span><span></span></span>
<span><span>      </span><span>&lt;</span><span>main</span><span>&gt;</span><span>{</span><span>children</span><span>}</span><span>&lt;/</span><span>main</span><span>&gt;</span><span></span></span>
<span><span>    </span><span>&lt;/</span><span>&gt;</span><span></span></span>
<span><span>  </span><span>)</span><span>;</span><span></span></span>
<span><span>}</span></span></code></pre>
<h4>OG image generation</h4>
<p>A major pain point on my previous blog was manually creating each social media image. Nowadays, you can <a target="_blank" rel="noreferrer nofollow noopener" href="https://nextjs.org/docs/app/api-reference/file-conventions/metadata/opengraph-image" data-headlessui-state="">generate OpenGraph images dynamically</a> in Next.js, and it’s very little effort to get started.</p>
<p><img alt="Open graph image for this article" loading="lazy" width="628" height="330" decoding="async" data-nimg="1" srcset="/_next/image?url=%2Fblog%2Fa-new-blog-for-2024%2Fopengraph-image&amp;w=640&amp;q=75 1x, /_next/image?url=%2Fblog%2Fa-new-blog-for-2024%2Fopengraph-image&amp;w=1920&amp;q=75 2x" src="https://blog.greg.technology/_next/image?url=%2Fblog%2Fa-new-blog-for-2024%2Fopengraph-image&amp;w=1920&amp;q=75"/></p>
<pre><code><span></span>
<span><span>export</span><span> </span><span>const</span><span> </span><span>runtime</span><span> </span><span>=</span><span> </span><span>&#34;</span><span>edge</span><span>&#34;</span><span>;</span><span></span></span>
<span><span>export</span><span> </span><span>const</span><span> </span><span>alt</span><span> </span><span>=</span><span> </span><span>&#34;</span><span>...</span><span>&#34;</span><span>;</span><span></span></span>
<span><span>export</span><span> </span><span>const</span><span> </span><span>size</span><span> </span><span>=</span><span> </span><span>{</span><span> </span><span>width</span><span>:</span><span> </span><span>1200</span><span>,</span><span> </span><span>height</span><span>:</span><span> </span><span>630</span><span> </span><span>}</span><span>;</span><span></span></span>
<span><span>	</span><span></span></span>
<span><span>export</span><span> </span><span>default</span><span> </span><span>async</span><span> </span><span>function</span><span> </span><span>Image</span><span>(</span><span>{</span><span> </span><span>params</span><span> </span><span>}</span><span>)</span><span> </span><span>{</span><span></span></span>
<span><span>  </span><span>return</span><span> </span><span>new</span><span> </span><span>ImageResponse</span><span>(</span><span>(</span><span></span></span>
<span><span>    </span><span>&lt;</span><span>div</span><span> </span><span>style</span><span>=</span><span>{</span><span>{</span><span> </span><span>display</span><span>:</span><span> </span><span>&#34;</span><span>flex</span><span>&#34;</span><span>,</span><span> </span><span>color</span><span>:</span><span> </span><span>&#34;</span><span>#000</span><span>&#34;</span><span> </span><span>}</span><span>}</span><span>&gt;</span><span></span></span>
<span><span></span><span>      </span><span>&lt;</span><span>div</span><span>&gt;</span><span>A new blog for 2024</span><span>&lt;/</span><span>div</span><span>&gt;</span><span></span></span>
<span><span>      </span><span>.</span><span>.</span><span>.</span><span></span></span>
<span><span>    </span><span>&lt;/</span><span>div</span><span>&gt;</span><span></span></span>
<span><span>  </span><span>)</span><span>,</span><span> </span><span>{</span><span> </span><span>.</span><span>.</span><span>.</span><span>size</span><span> </span><span>}</span><span>)</span><span>;</span><span></span></span>
<span><span>}</span></span></code></pre>
<h3 id="contentlayer"><a href="#contentlayer">Contentlayer</a></h3>
<p>My blog uses <code><span><span>.</span><span>mdx</span></span></code> files with custom React components interspersed throughout. I’d heard a lot of good things about <a target="_blank" rel="noreferrer nofollow noopener" href="https://contentlayer.dev/" data-headlessui-state="">Contentlayer</a>, so I gave it a try—it’s been a breeze to use, and has really sped up my development time. It’s so easy to make changes to your schema, and the type-safe setup is excellent.</p>
<h4>How it works</h4>
<p>You can generate a <code><span><span>Post</span></span></code> schema, for example with a <code><span><span>title</span></span></code> and <code><span><span>date</span></span></code>, and then ask it to load files from the <code><span><span>/</span><span>posts</span></span></code> folder.</p>
<pre><code><span><span>export</span><span> </span><span>const</span><span> </span><span>Post</span><span> </span><span>=</span><span> </span><span>defineDocumentType</span><span>(</span><span>(</span><span>)</span><span> </span><span>=</span><span>&gt;</span><span> </span><span>(</span><span>{</span><span></span></span>
<span><span>  </span><span>name</span><span>:</span><span> </span><span>&#34;</span><span>Post</span><span>&#34;</span><span>,</span><span></span></span>
<span><span>  </span><span>filePathPattern</span><span>:</span><span> </span><span>`</span><span>/posts/**/*.mdx</span><span>`</span><span>,</span><span></span></span>
<span><span>  </span><span>contentType</span><span>:</span><span> </span><span>&#34;</span><span>mdx</span><span>&#34;</span><span>,</span><span></span></span>
<span><span>  </span><span>fields</span><span>:</span><span> </span><span>{</span><span></span></span>
<span><span>    </span><span>title</span><span>:</span><span> </span><span>{</span><span> </span><span>type</span><span>:</span><span> </span><span>&#34;</span><span>string</span><span>&#34;</span><span>,</span><span> </span><span>required</span><span>:</span><span> </span><span>true</span><span> </span><span>}</span><span>,</span><span></span></span>
<span><span>    </span><span>date</span><span>:</span><span> </span><span>{</span><span> </span><span>type</span><span>:</span><span> </span><span>&#34;</span><span>date</span><span>&#34;</span><span>,</span><span> </span><span>required</span><span>:</span><span> </span><span>true</span><span> </span><span>}</span><span>,</span><span></span></span>
<span><span>  </span><span>}</span><span>,</span><span></span></span>
<span><span>}</span><span>)</span><span>)</span><span>;</span><span></span></span></code></pre>
<p>Next, create your <code><span><span>.</span><span>mdx</span></span></code> file in <code><span><span>/</span><span>posts</span></span></code>.</p>
<pre><code>---
title: A new blog for 2024
date: 2024-01-02
---

It’s been a _long_ time since I’ve publis…</code></pre>
<p>Then simply import your posts, with full type-safety, and render your <code><span><span>mdx</span></span></code> content.</p>
<pre><code><span><span>import</span><span> </span><span>{</span><span> </span><span>allPosts</span><span>,</span><span> </span><span>Post</span><span> </span><span>}</span><span> </span><span>from</span><span> </span><span>&#34;</span><span>contentlayer/generated</span><span>&#34;</span><span>;</span><span></span></span>
<span><span>import</span><span> </span><span>{</span><span> </span><span>useMDXComponent</span><span> </span><span>}</span><span> </span><span>from</span><span> </span><span>&#34;</span><span>next-contentlayer/hooks</span><span>&#34;</span><span>;</span><span></span></span>
<span><span></span></span>
<span></span>
<span><span>const</span><span> </span><span>post</span><span>:</span><span> </span><span>Post</span><span> </span><span>=</span><span> </span><span>allPosts</span><span>[</span><span>0</span><span>]</span><span>;</span><span></span></span>
<span><span></span></span>
<span></span>
<span><span>export</span><span> </span><span>default</span><span> </span><span>function</span><span> </span><span>Page</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></span>
<span><span>  </span><span>const</span><span> </span><span>MDXContent</span><span> </span><span>=</span><span> </span><span>useMDXComponent</span><span>(</span><span>post</span><span>.</span><span>body</span><span>.</span><span>code</span><span>)</span><span>;</span><span></span></span>
<span><span>  </span><span>return</span><span> </span><span>&lt;</span><span>MDXContent</span><span> </span><span>/&gt;</span><span>;</span><span></span></span>
<span><span>}</span><span></span></span></code></pre>
<h2 id="archived-posts"><a href="#archived-posts">Archived posts</a></h2>
<p>I’ve archived all the posts from my previous blog, <em>ctnicholas.dev</em>, as it’d take too long to transfer them to the new site, though they’re all still <a data-headlessui-state="" href="https://blog.greg.technology/blog">available to read</a>.</p>
<p><img alt="A screenshot of my bold blog" loading="lazy" width="628" height="327" decoding="async" data-nimg="1" srcset="/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fold-articles.69315554.png&amp;w=640&amp;q=75 1x, /_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fold-articles.69315554.png&amp;w=1920&amp;q=75 2x" src="https://blog.greg.technology/_next/image?url=%2F_next%2Fstatic%2Fmedia%2Fold-articles.69315554.png&amp;w=1920&amp;q=75"/></p>

<p>My blog’s a work in progress, and there&#39;s so much more I’d like to add, for example:</p>
<ul>
<li>Code snippets with more features, languages, and <a target="_blank" rel="noreferrer nofollow noopener" href="https://www.ctnicholas.dev/articles/how-to-use-sandpack-for-code-demos" data-headlessui-state="">interactivity</a>.</li>
<li><a target="_blank" rel="noreferrer nofollow noopener" href="https://liveblocks.io/comments" data-headlessui-state="">Real-time comments</a> and <a target="_blank" rel="noreferrer nofollow noopener" href="https://liveblocks.io/presence" data-headlessui-state="">multiplayer presence</a>.</li>
<li>Dynamic content that streams in with <a target="_blank" rel="noreferrer nofollow noopener" href="https://vercel.com/blog/partial-prerendering-with-next-js-creating-a-new-default-rendering-model" data-headlessui-state="">partial prerendering</a>.</li>
</ul>
<p>But it’s all too easy to get stuck in the “just one more feature…” loop, when the most important thing is to get shipping! So here it is—thanks for reading.</p></section></article></div></div>
  </body>
</html>
