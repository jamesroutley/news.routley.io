<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://buf.build/blog/protobuf-language-specification">Original</a>
    <h1>The Protobuf Language Specification</h1>
    
    <div id="readability-page-1" class="page"><div><div><div><div><div><p>At Buf, our goal is to improve the way software systems integrate by making schema-driven development
a <a href="https://ricomariani.medium.com/pit-of-success-for-organizations-a046a0eae7b2">&#34;pit of success&#34;</a>.
And we&#39;ve put our money on Protobuf as the winning way to describe those schemas. We are expanding
on the work of the Protobuf team by providing the community a <a href="https://www.protobuf.com/docs/language-spec">complete language spec</a>.</p><p>Protobuf is the most stable and widely adopted IDL today. By building on Protobuf, we are standing on
the shoulders of giants, those who have built and battle-tested it, and brought it to its current mature
state. The official documentation, <a href="https://developers.google.com/protocol-buffers">Google&#39;s developer site</a>,
is a great source of reference material. However, it does not contain a complete and thorough spec for the
language. There are pages on the site that provide specs for the <a href="https://developers.google.com/protocol-buffers/docs/reference/proto2-spec">proto2</a>
and <a href="https://developers.google.com/protocol-buffers/docs/reference/proto3-spec">proto3</a> syntax, but
they are <a href="https://github.com/protocolbuffers/protobuf/issues?q=is%3Aissue+is%3Aopen+grammar+-label%3A%22enhancement%22">incomplete and sometimes inaccurate</a>.</p><p>In an unrelated <a href="https://groups.google.com/g/golang-nuts/c/6dKNSN0M_kg/m/EUzcym2FBAAJ">discussion</a>
about Go being &#34;Google&#39;s Language&#34;, Ian Lance Taylor (one of the senior members of the Go team)
wrote the following:</p><blockquote><p>A programming language is a type of shared software infrastructure.
It&#39;s most useful when everybody is using the same language, so code
written by person A can be reused by person B. That means that
programming languages are most useful when we all agree on exactly
what the language is. All successful languages have either a single
specification or a single primary implementation. (Go and C++ are
examples of language based on a specification; Perl, at least before
Perl 6, is an example of a language based on an implementation).
These serve as the definition of what the language is: whatever the
specification says or whatever the implementation does.</p></blockquote><p>Protobuf is solidly in the latter camp: it has a single primary implementation in the form of
the compiler, <code>protoc</code>. The ecosystem around Protobuf has been unfortunately held back by this.
<a href="https://pkg.go.dev/github.com/jhump/protoreflect/desc/protoparse">There</a>
<a href="https://github.com/antlr/grammars-v4/tree/master/protobuf2">are</a>
<a href="https://github.com/antlr/grammars-v4/tree/master/protobuf3">a</a>
<a href="https://github.com/square/wire/">multitude</a>
<a href="https://github.com/emicklei/proto">of</a>
<a href="https://github.com/tafia/quick-protobuf">tools</a>
<a href="https://github.com/mafintosh/protocol-buffers-schema">and</a>
<a href="https://github.com/protostuff/protostuff-compiler">libraries</a>
<a href="https://github.com/stijnsanders/DelphiProtocolBuffer">that</a>
<a href="https://github.com/LiuRoy/proto_parser">try</a>
<a href="https://github.com/tallstoat/pbparser">to</a>
<a href="https://github.com/jeremyong/eprotoc">parse</a>
<a href="https://github.com/tafia/protobuf-parser">Protobuf</a>
<a href="https://github.com/yoheimuta/go-protoparser">source</a>.
But most of them are based on the incomplete specs from Google&#39;s developer site. <em>None</em> of
them can correctly predict what source files <code>protoc</code> will actually accept or reject
100% of the time.</p><p>In the interest of a vibrant ecosystem and community building around Protobuf, we are
excited to correct these omissions. As of today, Protobuf is now a fully-defined language:</p><p>ðŸŽ‰ <strong><a href="https://protobuf.com/docs/language-spec">protobuf.com/docs/language-spec</a></strong> ðŸŽ‰</p><p>This means that users and tool makers now have a comprehensive source for what the
Protobuf language is. With this knowledge, the quality of tools can vastly improve,
and the existing tools can be made 100% correct.</p><p>As a side note, this work is a result of our work on the compiler that powers the <code>buf</code>
<a href="https://github.com/bufbuild/buf">CLI</a>.
We&#39;ve built the compiler within the <code>buf</code> CLI to accurately match <code>protoc</code>. We&#39;ve tested it
against an extremely large corpus of real Protobuf sources, including some that use the most
esoteric language syntax and features. Through the course of making Buf this robust alternative,
we&#39;ve learned a lot about the actual behavior of <code>protoc</code>, read all of its C++ code, and
discovered how it behaves (sometimes surprisingly) in all manner of scenarios. We&#39;re excited
to be able to share the Protobuf language specification as a formalized result of all of this
hard work.</p></div></div></div></div></div></div>
  </body>
</html>
