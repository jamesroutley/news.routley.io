<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.bbc.com/news/live/world-us-canada-65967464">Original</a>
    <h1>Debris found came from missing Titan sub, says friend of passengers</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="articleBody">
    <p>Say we have a linear function of the form <em>f(x) = mx + b</em> and we want to apply that function some number of times starting with some initial value. It’s easy to write a function to do this:</p>

<figure><pre><code data-lang="python"><span>def</span> <span>apply_transformation_repeatedly</span><span>(</span><span>init</span><span>,</span> <span>mult</span><span>,</span> <span>plus</span><span>,</span> <span>reps</span><span>):</span>
    <span>x</span> <span>=</span> <span>init</span>

    <span>for</span> <span>_</span> <span>in</span> <span>range</span><span>(</span><span>reps</span><span>):</span>
        <span>x</span> <span>*=</span> <span>mult</span>
        <span>x</span> <span>+=</span> <span>plus</span>

    <span>return</span> <span>x</span></code></pre></figure>

<p>As an example, let the initial value be 1 and the linear function be <em>2x + 3</em>, and say we want to apply that function four times. The result is 61, no problem.</p>

<p>Now let the function and the initial value be the same, but instead of applying the function four times, we want to apply it <em>four billion</em> times.</p>

<p>You might ask, “Why on Earth would anyone want to do that? Shouldn’t the presence of such a farcically large parameter be treated as a sign that we’re on the wrong path? Wouldn’t we be better off trying to rethink our problem?” If I were you, I would stop asking stupid questions and get cracking on that computation, because four billion iterations is going to take a while.</p>

<p>The parameters aren’t the problem; the problem is that the straightforward programming solution won’t work. What’s required here is <em>real math</em>. Anyone who doesn’t know real math won’t be able to solve this. Try pitching this problem to the smartest programmer you can think of who doesn’t know real math. Within a minute they will be saying “Uhhhh”. They will try to program their way out of it, and they will fail.</p>

<p>There is no way around it: solving this problem requires the use of the <strong>geometric series</strong> formula:</p>

<figure><pre><code data-lang="python"><span>def</span> <span>apply_transformation_repeatedly</span><span>(</span><span>init</span><span>,</span> <span>mult</span><span>,</span> <span>plus</span><span>,</span> <span>reps</span><span>):</span>
    <span>return</span> <span>(</span>
        <span>init</span>
        <span>*</span> <span>(</span><span>term</span> <span>:</span><span>=</span> <span>mult</span> <span>**</span> <span>reps</span><span>)</span>
        <span>+</span> <span>(</span><span>plus</span> <span>*</span> <span>(</span><span>1</span> <span>+</span> <span>((</span><span>term</span> <span>-</span> <span>mult</span><span>)</span> <span>//</span> <span>(</span><span>mult</span> <span>-</span> <span>1</span><span>))))</span>
    <span>)</span></code></pre></figure>

<p>And it works like magic! Of course, it’s isn’t actually magic, and someone who knows real math can explain and prove how it works. But without such a proof, it may as well be magic. According to this formula, starting with 1 and applying <em>2x + 3</em> four billion times works out to approximately 10<sup>1204119983</sup> (a number with 1.2 billion digits).</p>

<p>Obviously it would be best to know real math. And if wishes were horses, beggars would ride. So without such knowledge, what is a programmer to do?</p>

<p>After actually knowing real math, the next best thing is <em>recognizing when a real math solution exists</em>. When faced with a seemingly insurmountable numerical problem, this means stopping and saying “Surely <em>someone</em> has come across this problem before and worked out a formula.” What are the chances that I am the first person ever to try repeatedly applying a linear function to some initial value? No, somebody else has tried it, and it’s a generally a safe bet that they found a solution.</p>

<p>After assuming that a real math solution exists, you can go find someone who knows real math and ask them. A more advanced alternative is to thumb through the back pages of a math textbook until you find a formula that looks like it’s applicable.</p>

  </div></div>
  </body>
</html>
