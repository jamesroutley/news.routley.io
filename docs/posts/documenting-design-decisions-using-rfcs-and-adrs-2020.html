<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://brunoscheufler.com/blog/2020-07-04-documenting-design-decisions-using-rfcs-and-adrs">Original</a>
    <h1>Documenting Design Decisions Using RFCs and ADRs (2020)</h1>
    
    <div id="readability-page-1" class="page"><p><b>Hey there üëã</b> I would like to quickly plug a product I am working on to<!-- --> <!-- --><span><a href="https://brunoscheufler.com/blog/2022-05-08-making-teams-move-faster-happier">make teams move faster, happier</a></span>. If you are working on a software product or are interested in features like preview environments, infrastructure secret management, access control and approval workflows for teams, and other topics in cloud resource management, make sure to<!-- --> <!-- --><span><a href="https://anzuhq.com">check it out</a></span>!<!-- --></p><div><p>If you work on a software project, no matter your role, you&#39;ll make and a lot of decisions and witness even more being made. Ranging from minor choices between code style A or B to rather impactful ones like where to store data, and why that should be the case.
Recalling the reason behind a decision can be painfully hard after months of ongoing engineering, often because you&#39;re missing the context that led up to it.<!-- --></p>
<!-- --><p>Furthermore, the lack of documentation also makes onboarding and handover processes more difficult as you might find yourself struggling to explain decisions made in the past. Especially when teams are growing and a lot of progress has already been made previously,
this will become strikingly obvious.<!-- --></p>
<!-- --><p>Luckily, as with most problems, there are plenty popular solutions to this, in this post, I want to focus on the process of discussing architectural design ideas using RFCs and making sure that decisions and their context
stand the test of time using ADRs.<!-- --></p>
<!-- --><h2 id="-rfcs-discuss-technical-ideas-as-a-team"><span><a href="https://brunoscheufler.com/blog/2020-07-04-documenting-design-decisions-using-rfcs-and-adrs#-rfcs-discuss-technical-ideas-as-a-team">üôã RFCs: Discuss (Technical) Ideas as a team<!-- --></a></span></h2>
<!-- --><p>When you stumble over a problem that gets in the way of building a feature, you spend time researching for known solutions, or try to get to one yourself (or even better, together paired up with a team member).
Subjectively, your solution will always be the best it can be, which is completely fine for this stage. If you don&#39;t like it yourself, why would you go ahead and propose it to your team?<!-- --></p>
<!-- --><p>Sometimes, though, there will be one more piece of information that wasn&#39;t present at the time you thought about this issue, or a recent change turned things upside down. There can always be unknowns that will
escape you, but that&#39;s where your team comes in!<!-- --></p>
<!-- --><p>Once you&#39;ve collected all the information you want to propose to solve the problem, you can create a document containing the overall topic, the reason why you got there, and your suggested way of resolving it.
You don&#39;t have to write a novel, focus on the relevant aspects and if there are potential alternatives you came across while researching, quickly explain why you didn&#39;t opt for one of those, as that will make it
easier your team to reason about the area you attempt to cover.<!-- --></p>
<!-- --><p>This document, your Request for Comments (RFC), is at best placed close to where it will be used later on, for example in the same repository if it&#39;s related to code, or maybe even an existing location where
your team stores and manages proposals. After your initial draft is ready to go, share it with your team!<!-- --></p>
<!-- --><p>The next step is the most important down the road, the discussion phase. Depending on the engagement or number of questions that come up you&#39;re able to guess the impact of your solution, which is another indicator
you can use for planning. Most importantly, though, questions and feedback help to extend the RFC in ways you might not have considered before, sometimes even forcing you to step back and take another look
at the problem, which can help in finding an even better solution.<!-- --></p>
<!-- --><p>To conclude, preparing, writing, and sharing RFCs with your team to review and iterate over the thought process that went into the proposal is an easy way to structure the R&amp;D process.<!-- --></p>
<!-- --><h2 id="-adrs-write-down-and-persist-decisions"><span><a href="https://brunoscheufler.com/blog/2020-07-04-documenting-design-decisions-using-rfcs-and-adrs#-adrs-write-down-and-persist-decisions">üëç ADRs: Write Down and Persist Decisions<!-- --></a></span></h2>
<!-- --><p>Now that we&#39;ve explored the steps from research over discussion up to deciding whether to adopt a proposal or not, we&#39;re entering the domain of <!-- --><span><a href="https://adr.github.io/">Architectural Decision Records<!-- --></a></span> (ADRs in short).<!-- --></p>
<!-- --><p>As your team increases the number of significant architecture decisions, documenting those in a decision log gets more important as well. Whether it&#39;s for checking <!-- --><em>why<!-- --></em> a feature was built a certain way,
or want to improve on previous decisions, keeping track of those is vital if you want to keep your velocity and scale the team. Especially when handing off tasks, the receiving person should be able to look
up any past decision made, getting the necessary context.<!-- --></p>
<!-- --><p>As <!-- --><span><a href="http://thinkrelevance.com/blog/2011/11/15/documenting-architecture-decisions">Michael Nygard<!-- --></a></span> put it in 2011, decisions that ¬ª affect the structure, non-functional characteristics, dependencies, interfaces, or construction techniques. ¬´
should be stored in the project repository as lightweight Markdown files, numbered sequentially.<!-- --></p>
<!-- --><p>Another important property of decision records is that they&#39;re completely immutable. If there&#39;s ever a decision that obsoletes a previous one,
you can go back to the prior decision and mark it as superseded, linking to the newer one. This way you preserve the history that might be
useful in the future.<!-- --></p>
<!-- --><p>A popular template for decision records, which he suggested in the same post, each document should contain the following fields<!-- --></p>
<!-- --><h3 id="title"><span><a href="https://brunoscheufler.com/blog/2020-07-04-documenting-design-decisions-using-rfcs-and-adrs#title">Title<!-- --></a></span></h3>
<!-- --><p>A concise title for the decision, e.g. <!-- --><strong>Adopt Git repositories for version control<!-- --></strong>. Should contain
the most important part of what&#39;s decided on.<!-- --></p>
<!-- --><h3 id="status"><span><a href="https://brunoscheufler.com/blog/2020-07-04-documenting-design-decisions-using-rfcs-and-adrs#status">Status<!-- --></a></span></h3>
<!-- --><p>The decision status, such as proposed, accepted, rejected, deprecated, superseded, etc.<!-- --></p>
<!-- --><h3 id="context"><span><a href="https://brunoscheufler.com/blog/2020-07-04-documenting-design-decisions-using-rfcs-and-adrs#context">Context<!-- --></a></span></h3>
<!-- --><blockquote>
<!-- --><p>What is the issue that we&#39;re seeing that is motivating this decision or change?<!-- --></p>
<!-- --></blockquote>
<!-- --><p>The context should give information on the current situation that motivated this proposed decision, if you created an RFC earlier, this can be linked if you
make sure this won&#39;t get deleted at any point, otherwise, it&#39;s safer to store that information in the decision record.<!-- --></p>
<!-- --><p>It&#39;s important that the context contains all relevant information at the point of writing, otherwise, you might miss crucial details later on when reviewing
a decision that might have been agreed upon a long time ago.<!-- --></p>
<!-- --><h3 id="decision"><span><a href="https://brunoscheufler.com/blog/2020-07-04-documenting-design-decisions-using-rfcs-and-adrs#decision">Decision<!-- --></a></span></h3>
<!-- --><blockquote>
<!-- --><p>What will be part of the change that we are proposing and/or doing?<!-- --></p>
<!-- --></blockquote>
<!-- --><p>Everything that changes as a part of this decision should come here. Once again, if you&#39;ve written this down in any other document that will survive
time, you can link to it.<!-- --></p>
<!-- --><h3 id="consequences"><span><a href="https://brunoscheufler.com/blog/2020-07-04-documenting-design-decisions-using-rfcs-and-adrs#consequences">Consequences<!-- --></a></span></h3>
<!-- --><blockquote>
<!-- --><p>What becomes easier or more difficult to do because of this change?<!-- --></p>
<!-- --></blockquote>
<!-- --><p>This should include all benefits this proposal will yield and also any potential trade-offs you might have found while researching the solution.<!-- --></p>
<!-- --><hr/>
<!-- --><p>This simple but effective structure allows us to document precisely the scope and outcome of each decision made. Of course, you can adapt it to any degree you like,
or make customizations along the way, whatever works best for your team.<!-- --></p>
<!-- --><h2 id="Ô∏è-pitfalls-to-avoid-with-written-processes"><span><a href="https://brunoscheufler.com/blog/2020-07-04-documenting-design-decisions-using-rfcs-and-adrs#%EF%B8%8F-pitfalls-to-avoid-with-written-processes">‚ö†Ô∏è Pitfalls to avoid with written processes<!-- --></a></span></h2>
<!-- --><p>Fully adopting new processes can take time and convincing. Especially when they include
a lot of steps, or take up considerable amounts of time, the chance of success decreases.<!-- --></p>
<!-- --><p>And it&#39;s not different this time. When it takes too much work to write down suggestions as RFCs or decisions in documents,
it&#39;s not very likely that everyone will commit to this. As we want every team member on board, we need to ensure
that creating said documents involves as little friction as possible.<!-- --></p>
<!-- --><p>Following the aforementioned template will present clear guidelines of the way decision records should be written.<!-- --></p>
<!-- --><h2 id="-the-possibilities-are-endless"><span><a href="https://brunoscheufler.com/blog/2020-07-04-documenting-design-decisions-using-rfcs-and-adrs#-the-possibilities-are-endless">üå† The Possibilities are Endless<!-- --></a></span></h2>
<!-- --><p>Once set up, you&#39;re ready to benefit from a versioned collection of decisions, which can be accessed at any
time to answer the most important architecture-related questions.<!-- --></p>
<!-- --><p>With their full context preserved, previous decisions can be easily reviewed and improved upon once results are in.<!-- --></p>
<!-- --><hr/>
<!-- --><p>I hope you enjoyed this post! If you&#39;ve got any questions, suggestions, or feedback in general, don&#39;t
hesitate to reach out <!-- --><span><a href="https://twitter.com/brunoscheufler">on Twitter<!-- --></a></span> or <!-- --><span><a href="mailto:feedback@brunoscheufler.com">by mail<!-- --></a></span>.<!-- --></p></div><p><b>Thanks for reading this post üôå</b> I would like to quickly plug a product I am working on to<!-- --> <!-- --><span><a href="https://brunoscheufler.com/blog/2022-05-08-making-teams-move-faster-happier">make teams move faster, happier</a></span>. If you are working on a software product or are interested in features like preview environments, infrastructure secret management, access control and approval workflows for teams, and other topics in cloud resource management, make sure to<!-- --> <!-- --><span><a href="https://anzuhq.com">check it out</a></span>!<!-- --></p></div>
  </body>
</html>
