<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.xoria.org/terminal-colors/">Original</a>
    <h1>How to Choose Colors for Your CLI Applications (2023)</h1>
    
    <div id="readability-page-1" class="page"><article><p>Let’s say you’re creating
a CLI tool which has to display
syntax highlighted source code.
You begin by choosing some colors
which look nice with
your chosen terminal theme:</p><div><p>~ — zsh — Sorcerer — 51×11</p><p>% highlight foo
<span># just some docs</span>
<span>func</span> <span>HelloWorld</span>() [<span>12</span>]<span>u8</span> {
	<span>return</span> <span>&#34;hello world</span><span>\n</span><span>&#34;</span>
}
Finished highlighting in 0.02 seconds.
% █</p></div><p>Nice!
However,
who knows if it’ll still look good
for people who use
a theme different to yours?
It seems sensible to try out
the defaults, at least.
Let’s start with
the macOS Terminal.app default theme:</p><div><p>~ — zsh — Basic — 51×11</p><p>% highlight foo
<span># just some docs</span>
<span>func</span> <span>HelloWorld</span>() [<span>12</span>]<span>u8</span> {
	<span>return</span> <span>&#34;hello world</span><span>\n</span><span>&#34;</span>
}
Finished highlighting in 0.02 seconds.
% █</p></div><div><p>~ — zsh — Basic — 51×11</p><p>% highlight foo
<span># just some docs</span>
<span>func</span> <span>HelloWorld</span>() [<span>12</span>]<span>u8</span> {
	<span>return</span> <span>&#34;hello world</span><span>\n</span><span>&#34;</span>
}
Finished highlighting in 0.02 seconds.
% █</p></div><p>Youch!
It seems fair to try the Tango themes next,
since those are the default on e.g. Ubuntu:</p><div><p>~ — zsh — Tango Light — 51×11</p><p>% highlight foo
<span># just some docs</span>
<span>func</span> <span>HelloWorld</span>() [<span>12</span>]<span>u8</span> {
	<span>return</span> <span>&#34;hello world</span><span>\n</span><span>&#34;</span>
}
Finished highlighting in 0.02 seconds.
% █</p></div><div><p>~ — zsh — Tango Dark — 51×11</p><p>% highlight foo
<span># just some docs</span>
<span>func</span> <span>HelloWorld</span>() [<span>12</span>]<span>u8</span> {
	<span>return</span> <span>&#34;hello world</span><span>\n</span><span>&#34;</span>
}
Finished highlighting in 0.02 seconds.
% █</p></div><p>Hmm, better, but not by much.
Finally,
let’s try what is likely
the most popular custom terminal theme – Solarized:</p><div><p>~ — zsh — Solarized Light — 51×11</p><p>% highlight foo
<span># just some docs</span>
<span>func</span> <span>HelloWorld</span>() [<span>12</span>]<span>u8</span> {
	<span>return</span> <span>&#34;hello world</span><span>\n</span><span>&#34;</span>
}
Finished highlighting in 0.02 seconds.
% █</p></div><div><p>~ — zsh — Solarized Dark — 51×11</p><p>% highlight foo
<span># just some docs</span>
<span>func</span> <span>HelloWorld</span>() [<span>12</span>]<span>u8</span> {
	<span>return</span> <span>&#34;hello world</span><span>\n</span><span>&#34;</span>
}
Finished highlighting in 0.02 seconds.
% █</p></div><p>Well then …
Let’s take a look at each palette
and investigate.</p><h2 id="sorcerer">Sorcerer</h2><div><p>~ — zsh — Sorcerer — 51×11</p><p>% colortest
<span>██ black</span>	<span>██ brblack</span>
<span>██ red</span>		<span>██ brred</span>
<span>██ green</span>	<span>██ brgreen</span>
<span>██ yellow</span>	<span>██ bryellow</span>
<span>██ blue</span>		<span>██ brblue</span>
<span>██ magenta</span>	<span>██ brmagenta</span>
<span>██ cyan</span>		<span>██ brcyan</span>
<span>██ white</span>	<span>██ brwhite</span>
% █</p></div><p>In Sorcerer,
all colors are readable
on the default background
except for <code>black</code>,
which is in fact darker than the background.
This is useful as the background color
for status bars and the like.
<code>white</code> is the same color as
the default foreground,
and <code>brblack</code> is a nice faded color.
Additionally, <code>brwhite</code> is
even lighter than the foreground;
this allows for subtle emphasization
of important text
like error messages and titles.</p><h2 id="basic">Basic</h2><div><p>~ — zsh — Basic — 51×11</p><p>% colortest
<span>██ black</span>	<span>██ brblack</span>
<span>██ red</span>		<span>██ brred</span>
<span>██ green</span>	<span>██ brgreen</span>
<span>██ yellow</span>	<span>██ bryellow</span>
<span>██ blue</span>		<span>██ brblue</span>
<span>██ magenta</span>	<span>██ brmagenta</span>
<span>██ cyan</span>		<span>██ brcyan</span>
<span>██ white</span>	<span>██ brwhite</span>
% █</p></div><div><p>~ — zsh — Basic — 51×11</p><p>% colortest
<span>██ black</span>	<span>██ brblack</span>
<span>██ red</span>		<span>██ brred</span>
<span>██ green</span>	<span>██ brgreen</span>
<span>██ yellow</span>	<span>██ bryellow</span>
<span>██ blue</span>		<span>██ brblue</span>
<span>██ magenta</span>	<span>██ brmagenta</span>
<span>██ cyan</span>		<span>██ brcyan</span>
<span>██ white</span>	<span>██ brwhite</span>
% █</p></div><p>The Basic themes are, well, <em>horrendous.</em>
Really owning that 90s xterm look, it seems.
<code>bryellow</code> is unreadable in light mode
(check out that function name
from the code sample earlier),
while in dark mode
both <code>blue</code> and <code>brblue</code>
are totally illegible.</p><p>That leaves us with thirteen colors
we can safely use:</p><div><p>~ — zsh — Sorcerer — 51×11</p><p>% colortest --only-usable
<span>██ black</span>	<span>██ brblack</span>
<span>██ red</span>		<span>██ brred</span>
<span>██ green</span>	<span>██ brgreen</span>
<span>██ yellow</span>	<span>██ bryellow</span>
<span>██ blue</span>		<span>██ brblue</span>
<span>██ magenta</span>	<span>██ brmagenta</span>
<span>██ cyan</span>		<span>██ brcyan</span>
<span>██ white</span>	<span>██ brwhite</span>
% █</p></div><h2 id="tango">Tango</h2><div><p>~ — zsh — Tango Light — 51×11</p><p>% colortest
<span>██ black</span>	<span>██ brblack</span>
<span>██ red</span>		<span>██ brred</span>
<span>██ green</span>	<span>██ brgreen</span>
<span>██ yellow</span>	<span>██ bryellow</span>
<span>██ blue</span>		<span>██ brblue</span>
<span>██ magenta</span>	<span>██ brmagenta</span>
<span>██ cyan</span>		<span>██ brcyan</span>
<span>██ white</span>	<span>██ brwhite</span>
% █</p></div><div><p>~ — zsh — Tango Dark — 51×11</p><p>% colortest
<span>██ black</span>	<span>██ brblack</span>
<span>██ red</span>		<span>██ brred</span>
<span>██ green</span>	<span>██ brgreen</span>
<span>██ yellow</span>	<span>██ bryellow</span>
<span>██ blue</span>		<span>██ brblue</span>
<span>██ magenta</span>	<span>██ brmagenta</span>
<span>██ cyan</span>		<span>██ brcyan</span>
<span>██ white</span>	<span>██ brwhite</span>
% █</p></div><p>In my opinion
these did a lot better than
Terminal.app’s Basic themes,
but they are still far from perfect.
<code>bryellow</code> is again unreadable in the light theme,
and perhaps <code>brgreen</code> is
a little difficult to see,
though it’s nothing that would
stop me from using <code>brgreen</code>
in an application.</p><p>At this point you may have noticed
how the greyscales –
<code>black</code>, <code>brblack</code>, <code>white</code> &amp; <code>brwhite</code> –
have remained consistent
between light and dark themes
for both Basic and Tango.
Of course,
this means that
<code>{,br}white</code> is unreadable in Tango Light
(owing to the light background)
and <code>black</code> is unreadable in Tango Dark
(owing to the dark background).</p><p>In other words:
forget about
that idea of mine from earlier
about using <code>brwhite</code> to emphasize content.
Unless, of course,
you don’t mind if your
eminently <em>emphasized</em> words
are completely unreadable
for the user of your software
who deigns to use the default light theme
of A Popular Linux Distro.</p><p>On the other hand,
using <code>brblack</code> to de-emphasize content
still seems fine to me.
I suppose some extra contrast
for <code>brblack</code> in Tango Dark
would be nice,
but with text which is meant to be ignored
I don’t think this matters much.</p><p>And lo, but ten colors remain.</p><div><p>~ — zsh — Sorcerer — 51×11</p><p>% colortest --only-usable
<span>██ black</span>	<span>██ brblack</span>
<span>██ red</span>		<span>██ brred</span>
<span>██ green</span>	<span>██ brgreen</span>
<span>██ yellow</span>	<span>██ bryellow</span>
<span>██ blue</span>		<span>██ brblue</span>
<span>██ magenta</span>	<span>██ brmagenta</span>
<span>██ cyan</span>		<span>██ brcyan</span>
<span>██ white</span>	<span>██ brwhite</span>
% █</p></div><h2 id="solarized">Solarized</h2><div><p>~ — zsh — Solarized Light — 51×11</p><p>% colortest
<span>██ black</span>	<span>██ brblack</span>
<span>██ red</span>		<span>██ brred</span>
<span>██ green</span>	<span>██ brgreen</span>
<span>██ yellow</span>	<span>██ bryellow</span>
<span>██ blue</span>		<span>██ brblue</span>
<span>██ magenta</span>	<span>██ brmagenta</span>
<span>██ cyan</span>		<span>██ brcyan</span>
<span>██ white</span>	<span>██ brwhite</span>
% █</p></div><div><p>~ — zsh — Solarized Light — 51×11</p><p>% colortest
<span>██ black</span>	<span>██ brblack</span>
<span>██ red</span>		<span>██ brred</span>
<span>██ green</span>	<span>██ brgreen</span>
<span>██ yellow</span>	<span>██ bryellow</span>
<span>██ blue</span>		<span>██ brblue</span>
<span>██ magenta</span>	<span>██ brmagenta</span>
<span>██ cyan</span>		<span>██ brcyan</span>
<span>██ white</span>	<span>██ brwhite</span>
% █</p></div><p>Solarized is a curious beast.
Every color in it
was chosen using <a href="https://en.wikipedia.org/wiki/CIELAB_color_space"><em>L*a*b*</em></a>,
a perceptually-uniform color space
from the 1970s.
(For what it’s worth,
color science has
<a href="https://bottosson.github.io/posts/oklab/">progressed significantly</a> since then;
the only reason
Ethan Schoonover used <em>L*a*b*</em>
is that it’s commonly used in photography,
and he used to be a professional photographer.)</p><p>Its lightnesses are perfectly symmetrical
so that Solarized Light and Dark
can share a set of accent colors
while maintaining identical contrast.
Moreover,
the warm tones of the light theme
and cool tones of the dark theme
are complementary.
(The hue gap is
closer to 150° than 180° in reality.
See <a href="https://bottosson.github.io/misc/colorpicker/#002b36">here</a>
and <a href="https://bottosson.github.io/misc/colorpicker/#fdf6e3">here</a>
to compare hue values.)</p><p>Solarized is also incredibly popular.
I have no data here,
but as of the date of writing
it’s the most starred theme repository on GitHub
I can find.
Solarized has 15.4 thousand stars at the moment,
while the next-closest is <a href="https://github.com/morhetz/gruvbox">Gruvbox</a>
with 11.8 thousand.
Solarized is available as a plugin
or sometimes even as a built-in preset
in damn near every
popular terminal emulator and editor
on the planet.</p><p>To understand Solarized’s
peculiar arrangement of the 16-color palette,
we have to travel back in time to 2011
<a href="https://github.com/altercation/solarized/commit/3da9bd10d3b8c1ad6e2a5ab8617ef8c82fca0df7">when Solarized was first released</a>.
In this dark era,
terminals supporting 24-bit color
didn’t exist / weren’t widespread.
One option common among Vim themes at the time
was to round every color
to the nearest 256-color palette value.
In Solarized’s case,
this destroys the mathematical symmetry
at the heart of the theme.
(<a href="https://github.com/lifepillar/vim-solarized8#but-my-terminal-has-only-256-colors">I’m not kidding, it looks awful</a>.)</p><p>The solution
– rather, <em>hack</em> –
chosen at the time
was to distill
all the colors used in the Vim interface
down to a palette of sixteen colors.
Conveniently,
Solarized’s accent colors
fit nicely into the non-bright column
of the 16-color palette,
while Solarized’s monotones
fit into the bright column.
Once the user sets their terminal
to use the Solarized palette,
Vim can color its entire interface
using only the 16-color palette
and get correct color values,
no clunky color approximations needed.</p><p>The downside to all this is that
an application which uses
any of the bright colors
which Solarized co-opted for itself
will look strange.
Users of Solarized
– and, by god, there’s so many of them –
<a href="https://github.com/gradle/gradle/issues/2417">appear</a>
<a href="https://github.com/gruntjs/grunt/issues/181">frequently</a>
<a href="https://github.com/crate-ci/cargo-release/issues/41">on</a>
<a href="https://github.com/cli/cli/issues/1743">issue</a>
<a href="https://github.com/mintty/mintty/issues/683">trackers</a>
asking why command-line output
is inexplicably gray or even invisible
as a result of CLIs
using these forsaken bright colors.</p><p>Our beloved <code>brblack</code>
is unreadable in Solarized Dark,
so we’ll have to strike it from the table
in addition to the affected bright colors.</p><div><p>~ — zsh — Sorcerer — 51×11</p><p>% colortest --only-usable
<span>██ black</span>	<span>██ brblack</span>
<span>██ red</span>		<span>██ brred</span>
<span>██ green</span>	<span>██ brgreen</span>
<span>██ yellow</span>	<span>██ bryellow</span>
<span>██ blue</span>		<span>██ brblue</span>
<span>██ magenta</span>	<span>██ brmagenta</span>
<span>██ cyan</span>		<span>██ brcyan</span>
<span>██ white</span>	<span>██ brwhite</span>
% █</p></div><h2 id="a-sad-note-about-bold">A sad note about bold</h2><p>Far back in the past,
there was no way for terminals
to display bright colors.
As a workaround,
manufacturers
(we’re talking about
physical terminals here)
<a href="https://en.wikipedia.org/wiki/ANSI_escape_code#3-bit_and_4-bit">started making all bold text bright
instead of using a heavier font weight</a>.
One way or another
this ended up in the default settings of
many modern terminal emulators
(in spite of not being in the standard),
meaning that
regular colorful text made bold
can become bright too,
depending on the user’s configuration.</p><h2 id="conclusion">Conclusion</h2><p>And so, I present to you the final version
of our table of acceptable colors:</p><div><p>~ — zsh — Sorcerer — 51×21</p><div><p>% colortest --only-usable --bold
Regular:
<span>██ black</span>	<span>██ brblack</span>
<span>██ red</span>		<span>██ brred</span>
<span>██ green</span>	<span>██ brgreen</span>
<span>██ yellow</span>	<span>██ bryellow</span>
<span>██ blue</span>		<span>██ brblue</span>
<span>██ magenta</span>	<span>██ brmagenta</span>
<span>██ cyan</span>		<span>██ brcyan</span>
<span>██ white</span>	<span>██ brwhite</span></p></div></div><p>Only eleven out of our
thirty-two possible color settings
are permissible,
given that we want applications
to remain readable
for as many people as we can.</p><p>If you’re developing a command-line tool
which will be used by
anyone apart from yourself,
I strongly recommend
you limit your use of color
to the ones I’ve identified here
as being “mostly alright”
and “not unreadable in
a common configuration
used by tons of people”.</p><h2 id="appendix">Appendix</h2><p>You probably didn’t notice,
but I styled the “terminal windows”
in this post to look
as similar as possible
to macOS Terminal.app windows
through painstaking
color picking and pixel counting.</p><p>The dimensions in each window’s titlebar
matches as closely as I can
with its actual dimensions on-screen.</p><p>The <code>colortest</code> and <code>highlight</code> utilities
are entirely fictional.</p><p>Terminal.app doesn’t actually provide
individual access to
the light and dark variants of Basic;
they appear as a single theme,
which switches seamlessly
when the OS theme changes.
As far as I know,
this reactive functionality
isn’t exposed to any other theme,
whether pre-installed or user-created.
In order to capture this,
I made the terminal windows in this post
react to whether the rest of the site
is in light or dark mode,
<em>except for the Basic windows.</em>
They remain fixed in
either light or dark mode,
since in real life you’ll never see,
for example,
a light Basic terminal
with dark window chrome.</p><p>Luna Razzaghipour</p></article></div>
  </body>
</html>
