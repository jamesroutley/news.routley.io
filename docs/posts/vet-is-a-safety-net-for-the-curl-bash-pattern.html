<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/vet-run/vet">Original</a>
    <h1>Vet is a safety net for the curl | bash pattern</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a href="https://github.com/vet-run/vet/actions/workflows/ci.yml"><img src="https://github.com/vet-run/vet/actions/workflows/ci.yml/badge.svg" alt="CI - Tests, Linting"/></a></p>
<p dir="auto"><code>vet</code> is a command-line tool that acts as a safety net for the common but risky <code>curl | bash</code> pattern. It lets you inspect remote scripts for changes, run them through a linter, and require your explicit approval before they can execute.</p>
<p dir="auto"><strong>Don&#39;t just run it, <code>vet</code> it.</strong></p>
<hr/>

<p dir="auto">We&#39;ve all seen this pattern for installing software:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# This is convenient, but you&#39;re blindly trusting the remote script.
curl -sSL https://example.com/install.sh | bash"><pre><span><span>#</span> This is convenient, but you&#39;re blindly trusting the remote script.</span>
curl -sSL https://example.com/install.sh <span>|</span> bash</pre></div>
<p dir="auto">This is dangerous. The script could be malicious, the server could be compromised, or a transient network error could result in executing a partial script.</p>

<p dir="auto"><code>vet</code> wraps this process in a secure, interactive workflow:</p>
<ul dir="auto">
<li>
<p dir="auto"><strong>Fetch:</strong> It downloads the remote script to a temporary location.</p>
</li>
<li>
<p dir="auto"><strong>Diff &amp; Review:</strong> It shows you what, if anything, has changed since the last time you ran this script.</p>
</li>
<li>
<p dir="auto"><strong>Lint:</strong> If you have shellcheck installed, it automatically analyzes the script for potential bugs or malicious patterns.</p>
</li>
<li>
<p dir="auto"><strong>Confirm:</strong> It prompts you for explicit approval before executing anything.</p>
</li>
</ul>
<div dir="auto" data-snippet-clipboard-copy-content="# The new, safer way.
vet https://example.com/install.sh"><pre><span><span>#</span> The new, safer way.</span>
vet https://example.com/install.sh</pre></div>

<p dir="auto">We believe you should never blindly trust a script from the internetâ€”not even ours. That&#39;s why <code>vet</code> exists. The installation process itself is a perfect demonstration of the problem <code>vet</code> solves.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Homebrew (macOS/Linux) - Recommended</h2><a id="user-content-homebrew-macoslinux---recommended" aria-label="Permalink: Homebrew (macOS/Linux) - Recommended" href="#homebrew-macoslinux---recommended"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">The easiest and recommended way to install <code>vet</code> is via Homebrew.</p>
<div data-snippet-clipboard-copy-content="# First, tap the official repository
brew tap vet-run/vet

# Now, install the formula
brew install vet-run"><pre><code># First, tap the official repository
brew tap vet-run/vet

# Now, install the formula
brew install vet-run
</code></pre></div>
<p dir="auto"><strong>Note:</strong> The formula is named <code>vet-run</code> to avoid a conflict with another tool in the Homebrew ecosystem, but this command will correctly install the <code>vet</code> executable on your system.</p>


<p dir="auto">If you don&#39;t use Homebrew, or if you simply wish to follow the security-first principle that <code>vet</code> champions, you can perform a manual installation. This is the two-step &#34;Download, then Review&#34; process that demonstrates exactly what <code>vet</code> automates for you.</p>
<ol dir="auto">
<li><strong>Download the installer</strong>:</li>
</ol>
<p dir="auto">Choose one of the following sources. The first is the official project domain, and the second is a direct link to the GitHub release asset.</p>
<p dir="auto"><em>Option A: Official project domain</em></p>
<div dir="auto" data-snippet-clipboard-copy-content="curl -o install_vet.sh https://getvet.sh/install.sh"><pre>curl -o install_vet.sh https://getvet.sh/install.sh</pre></div>
<p dir="auto"><em>Option B: Direct GitHub Release Link</em></p>
<div dir="auto" data-snippet-clipboard-copy-content="curl -L -o install_vet.sh https://github.com/vet-run/vet/releases/latest/download/install.sh"><pre>curl -L -o install_vet.sh https://github.com/vet-run/vet/releases/latest/download/install.sh</pre></div>
<ol start="2" dir="auto">
<li><strong>Review the installer&#39;s code.</strong> Open it in a text editor or use less to ensure it&#39;s not doing anything suspicious. It&#39;s a simple script that downloads the correct vet script and moves it to /usr/local/bin.</li>
</ol>

<ol start="3" dir="auto">
<li><strong>Run the installer you just vetted:</strong></li>
</ol>

<p dir="auto">Congratulations! You just manually performed the process that vet will now automate for you.</p>
<div dir="auto"><h3 tabindex="-1" dir="auto">The &#34;Trusting&#34; One-Liner (The Anti-Pattern)</h3><a id="user-content-the-trusting-one-liner-the-anti-pattern" aria-label="Permalink: The &#34;Trusting&#34; One-Liner (The Anti-Pattern)" href="#the-trusting-one-liner-the-anti-pattern"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="# This is the curl-to-bash pattern.
# Don&#39;t actually do this. That&#39;s the whole point.
curl -sL https://getvet.sh/install.sh | bash"><pre><span><span>#</span> This is the curl-to-bash pattern.</span>
<span><span>#</span> Don&#39;t actually do this. That&#39;s the whole point.</span>
curl -sL https://getvet.sh/install.sh <span>|</span> bash</pre></div>
<hr/>

<div dir="auto" data-snippet-clipboard-copy-content="# Basic usage
vet &lt;URL&gt;

# Example with a real-world installer
vet https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh

# Pass arguments to the remote script
# All arguments after the URL are passed directly to the script.
vet https://example.com/setup.sh --user myuser --version latest

# Non-interactive mode for trusted scripts in automated environments (e.g., CI/CD)
vet --force https://my-trusted-internal-script.sh"><pre><span><span>#</span> Basic usage</span>
vet <span>&lt;</span>URL<span>&gt;</span>

<span><span>#</span> Example with a real-world installer</span>
vet https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh

<span><span>#</span> Pass arguments to the remote script</span>
<span><span>#</span> All arguments after the URL are passed directly to the script.</span>
vet https://example.com/setup.sh --user myuser --version latest

<span><span>#</span> Non-interactive mode for trusted scripts in automated environments (e.g., CI/CD)</span>
vet --force https://my-trusted-internal-script.sh</pre></div>

<p dir="auto">-f, --force</p>
<p dir="auto">Skip all interactive prompts and execute immediately. Use with caution.</p>
<p dir="auto">-h, --help</p>
<p dir="auto">Display the help message.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Project Philosophy &amp; Technical Decisions</h2><a id="user-content-project-philosophy--technical-decisions" aria-label="Permalink: Project Philosophy &amp; Technical Decisions" href="#project-philosophy--technical-decisions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Bash 4+ is a Required Dependency</h3><a id="user-content-bash-4-is-a-required-dependency" aria-label="Permalink: Bash 4+ is a Required Dependency" href="#bash-4-is-a-required-dependency"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><code>vet</code> is intentionally written to leverage modern bash features (arrays, [[ ... ]], pipefail). We believe that for a security-focused tool, sacrificing robustness and readability for POSIX sh compatibility would be a dangerous trade-off.</p>
<p dir="auto">The safety features provided by modern bash are non-negotiable for <code>vet</code>&#39;s mission.</p>
<p dir="auto">If you are in a minimal environment (like an Alpine container), please install bash as an explicit dependency:</p>


<p dir="auto">Contributions are welcome! If you have an idea for a new feature or have found a bug, please open an issue. For pull requests, please ensure that your changes are covered by tests.</p>
<ul dir="auto">
<li>
<p dir="auto">Fork the repository.</p>
</li>
<li>
<p dir="auto">Create a new feature branch (git checkout -b feature/my-amazing-feature).</p>
</li>
<li>
<p dir="auto">Make your changes.</p>
</li>
<li>
<p dir="auto">Run the tests (bats tests/).</p>
</li>
<li>
<p dir="auto">Commit your changes (git commit -am &#39;Add some amazing feature&#39;).</p>
</li>
<li>
<p dir="auto">Push to the branch (git push origin feature/my-amazing-feature).</p>
</li>
<li>
<p dir="auto">Open a new Pull Request.</p>
</li>
</ul>

<p dir="auto">This project is made better by its contributors. See our <a href="https://blog.jacobvosmaer.nl/vet-run/vet/blob/main/CONTRIBUTORS.md">Contributors</a> file to recognize those who have helped shape <code>vet</code>.</p>

<p dir="auto">This project is licensed under the MIT License - see the <a href="https://spdx.org/licenses/MIT.html" rel="nofollow">LICENSE</a> file for details.</p>
</article></div></div>
  </body>
</html>
