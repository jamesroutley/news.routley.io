<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://boston.conman.org/2023/10/25.1">Original</a>
    <h1>A small warning about UDP based protocols</h1>
    
    <div id="readability-page-1" class="page"><div id="content">

<!-- google_ad_section_start --> <!-- Hey, it can't hurt! -->
<h2><a name="2023-10-25" href="https://boston.conman.org/2023/10/25">Wednesday, October 25, 2023</a></h2>

<h3><a rel="bookmark" name="2023-10-25.1" href="https://boston.conman.org/2023/10/25.1">A small warning about UDP based protocols</a></h3>

<!-- programming, networking, UDP, UDP amplification attacks, Guppy protocol -->

<p>The <a href="https://geminiprotocol.net/">Gemini protocol</a> has inspried others to implement “simple” protocols,
like <a href="gemini://zaibatsu.circumlunar.space/~solderpunk/gemlog/the-mercury-protocol.gmi">Mercury</a>
(<a href="http://portal.mozz.us/gemini/zaibatsu.circumlunar.space/~solderpunk/gemlog/the-mercury-protocol.gmi">alternate link</a>),
<a href="spartan://spartan.mozz.us">Spartan</a>
(<a href="https://portal.mozz.us/spartan/spartan.mozz.us/">alternate link</a>)
and <a href="nex://nex.nightfall.city/nex/info/specification.txt">Nex</a>
(<a href="http://portal.mozz.us/nex/nex.nightfall.city/nex/info/specification.txt">alternate link</a>).
But there&#39;s another protocol being designed that has me worried—<a href="gemini://gemini.dimakrasner.com/guppy-v0.3.1.gmi">Guppy</a>
(<a href="https://portal.mozz.us/gemini/gemini.dimakrasner.com/guppy-v0.3.1.gmi">alternate link</a>),
which based on <abbr title="User Datagram Protocol">UDP</abbr> instead of <abbr title="Transmission Control Protocol">TCP</abbr>.</p>

<p>Yes,
<abbr title="User Datagram Protocol">UDP</abbr> is simpler than <abbr title="Transmission Control Protocol">TCP</abbr>.
Yes,
you can get results with just one exchange of packets.
But the downside of <abbr title="User Datagram Protocol">UDP</abbr> is that <em>you will be exploited for amplification attacks!</em>
<a href="https://boston.conman.org/2019/05/13.1">I found this out the hard way</a> a few years ago and shut down my <abbr title="User Datagram Protocol">UDP</abbr> <abbr title="Quote Of The Day">QOTD</abbr> service.
Any time you have a <abbr title="User Datagram Protocol">UDP</abbr>-based protocol where a small packet to the server results in a large packet from the server will be exploited with a constant barrage of forged packets.
That&#39;s one reason for the <abbr title="Transmission Control Protocol">TCP</abbr> three-way handshake.</p>

<p>Also,
the Guppy protocol spec states,
“it&#39;s an experiment in designing a protocol simpler than Gopher and Spartan, which provides a similar feature set but with faster transfer speeds (for small documents) and using a much simpler software stack,”
but there&#39;s a downside—you can easily over-saturate a link with data,
which is another reason <abbr title="User Datagram Protocol">UDP</abbr> is popular for amplification attacks.
Congestion control is one reason why <abbr title="Transmission Control Protocol">TCP</abbr> exists
(some say it&#39;s the only reason and the other benefits,
like a reliable, stream-oriented connection is a side effect of the design).</p>

<p>My intent here isn&#39;t to discourage experimentation.
I like the fact that people are experiementing with this stuff.
But I do want to pass along some painful experiences I had when playing around with <abbr title="User Datagram Protocol">UDP</abbr> on the open Internet.</p>



<!-- google_ad_section_end -->
</div><div id="lawyer">

        <p>You have my permission to link freely to any entry here.  Go
        ahead, I won&#39;t bite.  I promise.</p>
        
        <p>The dates are the permanent links to that day&#39;s entries (or
        entry, if there is only one entry).  The titles are the permanent
        links to <em>that</em> entry only.  The format for the links are
        simple: Start with the base link for this site: <a class="page" href="https://boston.conman.org/">https://boston.conman.org/</a>, then add the date you are
        interested in, say <a href="https://boston.conman.org/2000/08/01">2000/08/01</a>,
        so that would make the final <abbr title="Uniform Resource
        Locator">URL</abbr>:</p>
        
        <p><a class="page" href="https://boston.conman.org/2000/08/01">https://boston.conman.org/2000/08/01</a></p>
        
        <p>You can also specify the entire month by leaving off the day
        portion.  You can even select <a class="page" href="https://boston.conman.org/about/technical.html">an arbitrary portion of time.</a></p>
        
        <p>You may also note subtle shading of the links and that&#39;s
        intentional: the “closer” the link is (relative to the
        page) the “brighter” it appears.  It&#39;s an experiment in
        using color shading to denote the distance a link is from here.  If
        you don&#39;t notice it, don&#39;t worry; it&#39;s not all <em>that</em>
        important.</p>
        
        <p>It is assumed that every brand name, slogan, corporate name,
        symbol, design element, et cetera mentioned in these pages is a
        protected and/or trademarked entity, the sole property of its
        owner(s), and acknowledgement of this status is implied.</p>
        
</div></div>
  </body>
</html>
