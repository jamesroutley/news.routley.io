<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.jacobvosmaer.nl/0030-music-notes/">Original</a>
    <h1>Music and Synth notes: MKS-50, K2000R, DaisyX7</h1>
    
    <div id="readability-page-1" class="page"><div><p><i><a href="https://blog.jacobvosmaer.nl/">Jacob Vosmaer&#39;s blog</a></i></p>

<p>2024-08-18</p>

<p>In this post I am collecting some more observations on music making and specific pieces of gear I have been focusing on.</p>

<h2>Writing process</h2>

<p>In a <a href="https://blog.jacobvosmaer.nl/0025-music-how/">previous post</a> I wrote about my music writing process. Particularly, a process where I quickly write all the material in a flow state, then edit afterwards. I found it very liberating to discover that this process works, but funny enough I have not been using it consistently lately. With some songs the editing and the writing blur into each other over the course of several days. This does not seem to give worse results. I think the most important thing is to accept the songs as they are, and to accept their development the way it happens. If a song grows a little slower that is OK.</p>

<p>I had a nice experience with my last song <a href="https://soundcloud.com/collector-current/7-is-odd">&#34;7 is odd&#34;</a> where the name occurred to me while I was still writing the song. This was much nicer than finishing the music and then being stuck on naming the song for days.</p>

<p>As I edit a song I record multiple iterations of it in order to reflect on what it feels like to listen to the song, and also to test how it sounds on different sound systems (e.g. coming out of my phone&#39;s speakers). To identify the iterations I use a working title which is a random hexadecimal string. So you could say each of my songs already has a title which is a hex string. Maybe it would be better if I stop using random hex working titles and instead come up with an English working title when I record the second iteration, because then the naming struggle is over? &#34;Eat the frog&#34;?</p>

<h2>Roland MKS-50</h2>

<p><img src="https://blog.jacobvosmaer.nl/0030-music-notes/assets/mks50.png" alt="Roland MKS-50 front panel"/>
<i>Source: <a href="https://cdn.roland.com/assets/media/pdf/MKS-50_OM.pdf">user manual</a></i></p>

<p>The MKS-50 is the 1986 rackmount version of the <a href="https://en.wikipedia.org/wiki/Roland_Alpha_Juno">Roland Alpha Juno</a>. I bought it not long ago so I don&#39;t know it very well yet.</p>

<p>The MKS-50 is a 6-voice polyphonic analog synthesizer with digital control. It had to compete with fully digital synthesizers which have the advantage of perfect stability and repeatability compared with analog synths. Roland successfully managed to make this synth very stable and precise in spite of its use of analog synthesis. Some analog synths have a kind of charming unpredictability, there is little of that here.</p>

<p>I greatly admire Roland&#39;s ability to design effective user interfaces with a small number of parameters as seen in their peak analog synth designs. Their designs tend to look &#34;too simple&#34; but they turn out to be very powerful and effective.</p>

<p>To give an example, in a substractive synthesizer it is customary to have dedicated envelope generators for the filter and the amplifier so that your sound can have distinct brightness (filter) and loudness (amplifier) contours. You expect to see 2 envelopes. Like many related Roland designs, the MKS-50 has  only 1 envelope generator. The filter can use the envelope to a variable degree, and the amplifier either uses the envelope at a fixed strength, or it uses an organ envelope (on/off without any swells). Compared to other synths it looks like the amplifier envelope is missing. It turns out you can get by without it just fine. </p>

<p>I really had to learn this about Roland synths. People tend to compare synths based on the number of parameters and capabilities and Roland designs of this era rarely &#34;win&#34; those comparisons. But when you use them you find out that they are very easy to use, they sound great, and they are still very versatile. The bits that they did not leave out are of high quality and they are integrated very well.</p>

<p>Is this like Apple taking away the floppy drive? Maybe. Either way, Roland did these kind of things and they were good at it. The MKS-50 sits in this tradition. Because I know I like other Roland synths with this design paradigm I expected to quickly get good results out of the MKS-50. For some reason I didn&#39;t. I will need more time to get to know it better. I did not expect this but it is not a problem; I know the machine can make cool sounds and I will get to them with time.</p>

<h2>Kurzweil K2000R</h2>

<p><img src="https://blog.jacobvosmaer.nl/0030-music-notes/assets/k2500rs.png" alt="K2500RS front panel"/>
<i>The K2000 user <a href="https://kurzweil.com/wp-content/uploads/2019/10/K2KMAN.zip">manual</a> has an image of the K2500RS in it. The K2000RS looks the same.</i></p>

<p>This is a strange beast. <a href="https://en.wikipedia.org/wiki/Kurzweil_Music_Systems">Kurzweil</a> is a musical instrument company that was founded in 1982 by futurist Ray Kurzweil and musician Stevie Wonder. Their first product was the <a href="https://en.wikipedia.org/wiki/Kurzweil_K250">K250</a> digital synthesizer, released in 1983. It was one of the early sample-based synthesizers.</p>

<p>The <a href="https://en.wikipedia.org/wiki/Kurzweil_K2000">K2000</a> from 1991 follows the path started by the K250. At its heart is a sample playback engine bundled with lots of ROM samples of high quality. It uses a custom DSP engine called &#34;V.A.S.T.&#34;. In addition to sample playback and recording, it can also do what we now call &#34;virtual analog&#34; sounds, phase modulation (i.e. DX7 FM), ring modulation, wave shaping, wave folding and more. The operating system runs on a 16MHz 68HC000 CPU. The machine has a floppy drive and both internal and external SCSI connectors so you can connect a hard disk or a CD-ROM drive for external sample storage.</p>

<p>These features were not unique; other samplers also had SCSI interfaces and rompler synths of the time all used digital synthesis to get more mileage out of their samples. The K2000 just seems to do everything a little bit better than the competition.</p>

<p>This does not mean the K2000 and K2000R (the rackmount version) are very popular nowadays. The 1990&#39;s are when synths got boring and complicated. The presets are good but the synths of this era are so complicated that it is hard to make good-sounding presets yourself. You end up only using the factory presets. They sound dated in a not-cool way. Why did I buy mine? I honestly don&#39;t remember. I find its particular dated sound cute so I am hanging on to it. A rack synth does not take up that much space (although this one is 3U high and quite deep). The transformer hums so I don&#39;t like turning it on.</p>

<p>A few weeks ago I came across the website of <a href="http://www.dlnsound.com/aboutkfm.htm#fmwithvast">DLN Sound</a> which describes how to do Yamaha style phase modulation with VAST. It is a delightful hack and one wonders if it is yet another case of patent avoidance. I don&#39;t believe Kurzweil spelled out for you how to imitate the DX7. Recall that 2-operator phase modulation is achieved by adding the output of the modulator the the phase of the carrier. You control the resulting timbre by changing the ratio between the modulator and carrier frequencies, and by pre-scaling the modulator signal before adding it to the carrier phase (&#34;modulation index&#34;). The hack described by DLN is to send a sine wave from sample ROM (the modulator) through a GAIN DSP block (the prescaler, which controls modulation index), then add the scaled ROM sine wave to a DSP sawtooth (the phase accumulator of the carrier) and then finally send the result through a sine wave shaper. In VAST speak this looks like:</p>

<pre>GAIN -&gt; SAW+ -&gt; SHAPER</pre>

<p>It sounds pretty good! You can hear it is clearly phase modulation in the style of Yamaha but because it is done in a different DSP engine it somehow sounds slightly different, especially in the higher frequencies. The K2000 sounds brighter.</p>

<p>The DX7 runs at 49.096 kHz according to <a href="https://www.righto.com/2022/02/yamaha-dx7-chip-reverse-engineering.html">Shirriff</a>. The Kurzweil documentation is not clear about it but I did an experiment that strongly indicates the K2000 DSP and DAC run at 48kHz: in terms of bandwidth the DX7 and the K2000 should be the same. Maybe it is a difference in the design of the <a href="https://en.wikipedia.org/wiki/Reconstruction_filter">reconstruction filter</a>?</p>

<p><img src="https://blog.jacobvosmaer.nl/0030-music-notes/assets/k2000-spectrum.png" alt="Spectrogram of phase modulation sound on the K2000"/>
<i>Spectrogram of a 96kHz recording of a chromatic ascending sequence of notes using a 2-operator phase modulation sound on the K2000R. Because the audio recorder ran at 96kHz we can see synth output up to 48kHz. The operator-carrier ratio is 1:1 and the modulation index is such that we see strong sidebands at 1.25 and 0.75 times the carrier frequency: at each step in the first half you see 3 bright horizontal lines. The top one is the 1.25x sideband, the middle is the carrier, and the bottom is the 0.75x sideband.  The fade to black at the top of the picture at  about 24kHz is the reconstruction filter of the K2000 DAC. At about 25s into the picture you start to see a series of bright lines trending down instead of up. These are the 1.25x sidebands being reflected against the 24kHz Nyquist frequency of the DSP engine, later joined by the carrier. The 0.75x sideband rises too slowly to give clear reflections in this picture. Because this is phase modulation the expected frequencies are very regular. This made it easy to do spot checks and compare the expected frequencies with the actual ones. Each time you see that <code>expected + actual = 48000</code>, which shows that the internal DSP sample rate is 48kHz. The picture becomes an ever bigger mess because partials also reflect against 0Hz and there are more sidebands than just the first order ones.</i></p>

<p>I still don&#39;t know what to make of the VAST DSP engine. The possibilities are, yes, vast, but at lot of what is possible sounds like ugly digital distortion. I say this as someone who likes digital distortion. Perhaps the most reliable thing to do with this synth is to play  samples 2-3 octaves too low. I don&#39;t know what resampling algorithm it uses but it&#39;s a good one; the sound does not break up. This <a href="https://soundcloud.com/collector-current/wash-3372#t=0%3A16">bass line</a> for instance is a CrowBX sound, sampled at a high pitch into the K2000R and then down-pitched several octaves.</p>

<h2>DaisyX7 in eurorack</h2>

<p>Thinking about phase modulation on the K2000 reminded me of my <a href="https://blog.jacobvosmaer.nl/0012-recurse-projects/#daisyx7">DaisyX7 project</a>, which is a simple reimplementation of the DX7 sound engine running on Daisy Field as a drone synth. I thought wouldn&#39;t it be nice to make this playable. I am too lazy to implement envelopes and whatever else it takes to make a full MIDI synth out of it but what if I turn it into a <a href="https://en.wikipedia.org/wiki/Eurorack">eurorack</a> oscillator? I already have eurorack envelope generator modules; it should be less work to focus on the synth as an oscillator only. This is the strength of modular synthesis.</p>

<p>My Daisy eurorack module is the <a href="https://electro-smith.com/products/patch-init">Patch Init</a>. This development board has 4 CV input jacks and 4 knobs. The jacks accept -5V to 5V. I came up with the following design:</p>

<ul>
<li>Algorithm is fixed at algorithm 2 with operator 1 and 2 only</li>
<li>Knob 1: pitch offset (10 octaves which is too much)</li>
<li>Knob 2: feedback level</li>
<li>Knob 3: OP2 pitch ratio, coarse</li>
<li>Knob 4: OP2 pitch ratio, fine</li>
<li>CV in 5: V/oct pitch input (only 5 octaves usable because my CV source starts at 0V, not ideal)</li>
<li>CV in 6: not used</li>
<li>CV in 7: OP2 amplitude (aka modulation index)</li>
<li>CV in 8: feedback level</li>
</ul>

<p>The good news is it was not a lot of work to refactor the Daisy Field version so that the sound engine was reusable. I was meaning to do that anyway. The bad news is that I need to go back and change the parameter control law for the modulation index. It is only usable at very low values, I needed to run my envelope through 2 attenuators to get a usable envelope level.</p>

<p>The other bad news is that while I felt that the drone version had a sound of its own, perhaps because it runs at 96kHz DSP, the eurorack implementation did not sound as distinct as I hoped. It mainly sounds like a DX7 (duh). I already have nice hi-res modern phase modulation in my C15 so do I even need my own version in a eurorack oscillator?</p>

<p>I probably will go back and fix up the oscillator.  The idea of hands-on control over a phase modulation voice is still nice. And it was cool that this worked at all. You can see the current code on <a href="https://github.com/jacobvosmaer/DaisyX7/blob/master/patch_sm/DaisyX7.cpp">GitHub</a>.</p>
<p>Tags:
<a href="https://blog.jacobvosmaer.nl/music.html">music</a>
</p><details><summary>Edit history</summary><table>
<tbody><tr><td>2024-08-18</td><td></td><td>0030: typo</td></tr>
<tr><td>2024-08-18</td><td></td><td>0030: make spectrogram discussion more pedantically correct</td></tr>
<tr><td>2024-08-18</td><td></td><td>Add 0030 music notes</td></tr>
</tbody></table></details><p><a href="https://blog.jacobvosmaer.nl/">Back</a></p>
</div></div>
  </body>
</html>
