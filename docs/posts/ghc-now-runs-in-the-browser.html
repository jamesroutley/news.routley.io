<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://discourse.haskell.org/t/ghc-now-runs-in-your-browser/13169">Original</a>
    <h1>GHC now runs in the browser</h1>
    
    <div id="readability-page-1" class="page"><div id="main-outlet" role="main">
        

  

    <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
      <meta itemprop="headline" content="Ghc now runs in your browser"/>
      
      <meta itemprop="datePublished" content="2025-10-25T13:45:51Z"/>
        <meta itemprop="articleSection" content="Show and Tell"/>
      <meta itemprop="keywords" content=""/>
      


          <div id="post_1">
            <div>
              


              <p><span>
                  <time datetime="2025-10-25T13:45:51Z">
                    October 25, 2025,  1:45pm
                  </time>
                  <meta itemprop="dateModified" content="2025-10-25T13:45:51Z"/>
              <span itemprop="position">1</span>
              </span>
            </p></div>
            <div itemprop="text">
              

<p>ghc itself can now run purely client-side in the browser, here’s a haskell playground demo. terms and conditions apply, and i’ll write up more detailed explanation some time later, but i thought this is a cool thing to show off how far the ghc wasm backend has advanced <img src="https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=15" title=":slight_smile:" alt=":slight_smile:" loading="lazy" width="20" height="20"/></p>
            </div>

            


            
          </div>
          <div id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" rel="nofollow" href="https://discourse.haskell.org/u/jaror"><span itemprop="name">jaror</span></a>
                
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2025-10-25T14:01:03Z">
                    October 25, 2025,  2:01pm
                  </time>
                  <meta itemprop="dateModified" content="2025-10-25T14:01:03Z"/>
              <span itemprop="position">2</span>
              </span>
            </p>
            <p>This is very cool! I wonder how easy it would be to load some packages; cabal in the browser when? I’m also wondering how usable Agda in the browser would be.</p>

            


            
          </div>
          <div id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" rel="nofollow" href="https://discourse.haskell.org/u/jaror"><span itemprop="name">jaror</span></a>
                
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2025-10-25T14:02:48Z">
                    October 25, 2025,  2:02pm
                  </time>
                  <meta itemprop="dateModified" content="2025-11-01T15:49:04Z"/>
              <span itemprop="position">3</span>
              </span>
            </p>
            <div itemprop="text">
              <p>I think I found a bug: ghc options persist even after I change them. Edit: this has been fixed!</p>
<p>Also <code>-with-rtsopts=-s</code> does not work, sadly. Edit: Ah, that’s because it is interpreted.</p>
            </div>

            


            
          </div>
          <div id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" rel="nofollow" href="https://discourse.haskell.org/u/ad-si"><span itemprop="name">ad-si</span></a>
                
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2025-10-25T15:46:32Z">
                    October 25, 2025,  3:46pm
                  </time>
                  <meta itemprop="dateModified" content="2025-10-25T15:46:32Z"/>
              <span itemprop="position">4</span>
              </span>
            </p>
            <p>This is awesome!</p>

            


            
          </div>
          <div id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" rel="nofollow" href="https://discourse.haskell.org/u/simonmic"><span itemprop="name">simonmic</span></a>
                
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2025-10-25T17:39:28Z">
                    October 25, 2025,  5:39pm
                  </time>
                  <meta itemprop="dateModified" content="2025-10-25T17:39:28Z"/>
              <span itemprop="position">5</span>
              </span>
            </p>
            <div itemprop="text">
              <p>Awesome work!</p>
<p>Browser reports:</p>
<ul>
<li>In Brave, after a few seconds unresponsive, it loads. It shows: “Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see <a href="https://github.com/microsoft/monaco-editor#faq" rel="noopener nofollow ugc">GitHub - microsoft/monaco-editor: A browser based code editor</a></li>
<li>In Safari, the same message, but the Run button remains disabled.</li>
</ul>
            </div>

            


            
          </div>
          <div id="post_6" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            
            <p>Excellent work - the efforts to bring Haskell to WASM are a huge boon to our ecosystem and userbase!</p>

            


            
          </div>
          <div id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            
            <p>Can’t run it on my tablet (wasm), curious: is this running the type checker or also code gen to wasm?</p>

            


            
          </div>
          <div id="post_8" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" rel="nofollow" href="https://discourse.haskell.org/u/jaror"><span itemprop="name">jaror</span></a>
                
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2025-10-25T21:46:58Z">
                    October 25, 2025,  9:46pm
                  </time>
                  <meta itemprop="dateModified" content="2025-10-25T21:46:58Z"/>
              <span itemprop="position">8</span>
              </span>
            </p>
            <p>It runs the code, but it seems like it uses the bytecode interpreter.</p>

            


            
          </div>
          <div id="post_9" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            
            <p>What modifications were to GHC for it to be compiled to WASM?</p>

            


            
          </div>
          <div id="post_10" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            
            <div itemprop="text">
              
<p>cabal won’t work in the browser due to lack of process support; but it’s possible to use <code>wasm32-wasi-cabal</code> to precompile some third party packages to wasm and make this playground support them as well.</p>

<p>you might be interested to check <a href="https://github.com/agda-web/agda-wasm-dist" rel="noopener nofollow ugc">GitHub - agda-web/agda-wasm-dist: Distributions of Agda executable compiled into WebAssembly.</a>; afaik they even compiled <a href="https://github.com/agda/agda-language-server" rel="noopener nofollow ugc">GitHub - agda/agda-language-server: Language Server for Agda</a> to wasm, not sure how usable it is currently</p>

<p>thanks for the report! i pushed an update which should have fixed it.</p>

<p>that’s right; ghc in browser can’t invoke the c compiler and it can only interpret haskell modules via bytecode.</p>
            </div>

            


            
          </div>
          <div id="post_11" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            
            <div itemprop="text">
              
<p>thanks for the reports! a few seconds of freeze during start-time is expected, since it needs to download ~50M of a rootfs tarball and extract it, then link the ghc library and all its dependencies. as for safari, it’s strange since i i just landed a workaround for a webkit bug that breaks the wasm dynamic linker a few days ago, i’ll take a closer look later.</p>

<p>the ghc library already mostly works when compiled to wasm, and it can parse/typecheck/desugar stuff. the bottleneck is the linker/loader part, for it to be useful it needs to be able to dynamically load and execute haskell code. i landed a couple of ghc patches recently to push towards that direction, and the last one that gets us towards the haskell playground (not landed yet) is <a href="https://gitlab.haskell.org/ghc/ghc/-/merge_requests/15000" rel="noopener nofollow ugc">Draft: Support running GHC fully client-side in the browser (!15000) · Merge requests · Glasgow Haskell Compiler / GHC · GitLab</a></p>
            </div>

            


            
          </div>
          <div id="post_12" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            
            <p>Which packages are installed by default?</p>

            


            
          </div>
          <div id="post_13" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" rel="nofollow" href="https://discourse.haskell.org/u/doyougnu"><span itemprop="name">doyougnu</span></a>
                
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2025-10-26T20:06:54Z">
                    October 26, 2025,  8:06pm
                  </time>
                  <meta itemprop="dateModified" content="2025-10-26T20:06:54Z"/>
              <span itemprop="position">13</span>
              </span>
            </p>
            <div itemprop="text">
              <p>now chrome will consume even more memory <img src="https://emoji.discourse-cdn.com/twitter/stuck_out_tongue.png?v=15" title=":stuck_out_tongue:" alt=":stuck_out_tongue:" loading="lazy" width="20" height="20"/></p>
<p>Awesome work!</p>
            </div>

            


            
          </div>
          <div id="post_14" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            
            <div itemprop="text">
              
<p>the <code>ghc</code> library and its transitive dependencies.</p>
            </div>

            


            
          </div>
          <div id="post_15" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" rel="nofollow" href="https://discourse.haskell.org/u/jarm"><span itemprop="name">jarm</span></a>
                
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2025-11-01T18:29:02Z">
                    November 1, 2025,  6:29pm
                  </time>
                  <meta itemprop="dateModified" content="2025-11-01T18:29:02Z"/>
              <span itemprop="position">15</span>
              </span>
            </p>
            <div itemprop="text">
              
<p>Can you elaborate? Do you have any end-to-end examples/instructions for this?</p>
<p>I am a live coding musician and have been trying to get Tidal running on the web for years: <a href="https://hackage.haskell.org/package/tidal" rel="noopener nofollow ugc">tidal: Pattern language for improvised music</a></p>
            </div>

            


            
          </div>
          <div id="post_16" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            
            <div itemprop="text">
              <p>see also:</p>

<p>
which I presume isn’t wasm</p>
            </div>

            


            
          </div>
          <div id="post_17" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" rel="nofollow" href="https://discourse.haskell.org/u/MangoIV"><span itemprop="name">MangoIV</span></a>
                
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2025-11-02T10:44:59Z">
                    November 2, 2025, 10:44am
                  </time>
                  <meta itemprop="dateModified" content="2025-11-02T10:44:59Z"/>
              <span itemprop="position">17</span>
              </span>
            </p>
            

            


            
          </div>
    </div>


    





    </div></div>
  </body>
</html>
