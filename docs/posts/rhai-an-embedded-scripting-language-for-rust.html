<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/rhaiscript/rhai">Original</a>
    <h1>Rhai: An embedded scripting language for Rust</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/3c5f84835e3f87f6a59edb755e4d6c730fdbd962383c61a34581389441796d9e/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6173742d636f6d6d69742f726861697363726970742f726861693f6c6f676f3d676974687562"><img src="https://camo.githubusercontent.com/3c5f84835e3f87f6a59edb755e4d6c730fdbd962383c61a34581389441796d9e/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6173742d636f6d6d69742f726861697363726970742f726861693f6c6f676f3d676974687562" alt="GitHub last commit" data-canonical-src="https://img.shields.io/github/last-commit/rhaiscript/rhai?logo=github"/></a>
<a href="https://github.com/rhaiscript/rhai/actions"><img src="https://github.com/rhaiscript/rhai/workflows/Build/badge.svg" alt="Build Status"/></a>
<a href="https://github.com/rhaiscript/rhai"><img src="https://camo.githubusercontent.com/9c6e8c064095aab9354cb9b66432c580be8dd57176eb6186502cfb9349f1e7f7/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f726861697363726970742f726861693f7374796c653d666c6174266c6f676f3d676974687562" alt="Stars" data-canonical-src="https://img.shields.io/github/stars/rhaiscript/rhai?style=flat&amp;logo=github"/></a>
<a href="https://github.com/license/rhaiscript/rhai"><img src="https://camo.githubusercontent.com/d78c96ffb343f555bd69cb773662ce6bf66e306b48260d94f8c52f01212aa4dc/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f6c2f72686169" alt="License" data-canonical-src="https://img.shields.io/crates/l/rhai"/></a>
<a href="https://crates.io/crates/rhai/" rel="nofollow"><img src="https://camo.githubusercontent.com/984195cc2afb7fd7a048f2d103ab52f01dd7b9d2dd7478dbbe28b80cb2f32677/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f726861693f6c6f676f3d72757374" alt="crates.io" data-canonical-src="https://img.shields.io/crates/v/rhai?logo=rust"/></a>
<a href="https://crates.io/crates/rhai/" rel="nofollow"><img src="https://camo.githubusercontent.com/f37f5fbfcadba05d7cddd4be47419f9080ea111658a6c561e5513c817d73352f/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f642f726861693f6c6f676f3d72757374" alt="crates.io" data-canonical-src="https://img.shields.io/crates/d/rhai?logo=rust"/></a>
<a href="https://docs.rs/rhai/" rel="nofollow"><img src="https://camo.githubusercontent.com/d2a5d29706f6cc994db11caab65384d36ae2ef11d4a0708bcc113dc1cf92d042/68747470733a2f2f646f63732e72732f726861692f62616467652e7376673f6c6f676f3d646f63732d7273" alt="API Docs" data-canonical-src="https://docs.rs/rhai/badge.svg?logo=docs-rs"/></a>
<a href="https://marketplace.visualstudio.com/items?itemName=rhaiscript.vscode-rhai" rel="nofollow"><img src="https://camo.githubusercontent.com/4dddec5d2d2b1037bc16abf05f487a58c1cc2d494e5e9c8919049d4af8aeaba5/68747470733a2f2f696d672e736869656c64732e696f2f76697375616c2d73747564696f2d6d61726b6574706c6163652f692f726861697363726970742e7673636f64652d726861693f6c6f676f3d76697375616c2d73747564696f2d636f6465266c6162656c3d7673253230636f6465" alt="VS Code plugin installs" data-canonical-src="https://img.shields.io/visual-studio-marketplace/i/rhaiscript.vscode-rhai?logo=visual-studio-code&amp;label=vs%20code"/></a>
<a href="https://packagecontrol.io/packages/Rhai" rel="nofollow"><img src="https://camo.githubusercontent.com/b0ef120859ef0042e7673e0adcac23519cc34b79ae7ca2af5e3f301db85d5d97/68747470733a2f2f696d672e736869656c64732e696f2f7061636b616765636f6e74726f6c2f64742f526861692e7376673f6c6f676f3d7375626c696d652d74657874266c6162656c3d7375626c696d6525323074657874" alt="Sublime Text package downloads" data-canonical-src="https://img.shields.io/packagecontrol/dt/Rhai.svg?logo=sublime-text&amp;label=sublime%20text"/></a>
<a href="https://discord.gg/HquqbYFcZ9" rel="nofollow"><img src="https://camo.githubusercontent.com/c7f5b71ec8ce84ece438e55fca0493d1f854b8071224c4a938ccd3616b74bf49/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f3736373631313032353435363838393835372e7376673f6c6f676f3d646973636f7264266c6162656c3d646973636f7264" alt="Discord Chat" data-canonical-src="https://img.shields.io/discord/767611025456889857.svg?logo=discord&amp;label=discord"/></a>
<a href="https://rhaiscript.zulipchat.com" rel="nofollow"><img src="https://camo.githubusercontent.com/7e42051acba07273aaba66bd03e93ad8ea9c29fbbd0d6dda3f2868cb7d8bf001/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f7a756c69702d6a6f696e5f636861742d627269676874677265656e2e7376673f6c6f676f3d7a756c6970" alt="Zulip Chat" data-canonical-src="https://img.shields.io/badge/zulip-join_chat-brightgreen.svg?logo=zulip"/></a>
<a href="https://www.reddit.com/r/Rhai" rel="nofollow"><img src="https://camo.githubusercontent.com/cb513cd4bf5f8d3b1cef5a863ea16ac530d02065bfdfa1c4151c9812c6c8559b/68747470733a2f2f696d672e736869656c64732e696f2f7265646469742f7375627265646469742d73756273637269626572732f526861693f6c6f676f3d726564646974266c6162656c3d726564646974" alt="Reddit Channel" data-canonical-src="https://img.shields.io/reddit/subreddit-subscribers/Rhai?logo=reddit&amp;label=reddit"/></a></p>
<p dir="auto"><a href="https://rhai.rs" rel="nofollow"><img src="https://camo.githubusercontent.com/552950cf9b05f00288f03170c34d72385a30ebd8dec0f1f02f2552c9e4b61b68/68747470733a2f2f726861692e72732f626f6f6b2f696d616765732f6c6f676f2f726861692d62616e6e65722d7472616e73706172656e742d636f6c6f75722e737667" alt="Rhai logo" data-canonical-src="https://rhai.rs/book/images/logo/rhai-banner-transparent-colour.svg"/></a></p>
<p dir="auto">Rhai is an embedded scripting language and evaluation engine for Rust that gives a safe and easy way
to add scripting to any application.</p>

<ul dir="auto">
<li>All CPU and O/S targets supported by Rust, including:
<ul dir="auto">
<li>WebAssembly (WASM)</li>
<li><code>no-std</code></li>
</ul>
</li>
<li>Minimum Rust version 1.66.0</li>
</ul>

<ul dir="auto">
<li>Simple language similar to JavaScript+Rust with <a href="https://rhai.rs/book/language/dynamic.html" rel="nofollow">dynamic</a> typing.</li>
<li>Fairly efficient evaluation - 1 million iterations in 0.14 sec on a single-core 2.6 GHz Linux VM running <a href="https://github.com/rhaiscript/rhai/blob/main/scripts/speed_test.rhai">this script</a>.</li>
<li>Tight integration with native Rust <a href="https://rhai.rs/book/rust/functions.html" rel="nofollow">functions</a> and <a href="https://rhai.rs/book/rust/custom-types.html" rel="nofollow">types</a>, including <a href="https://rhai.rs/book/rust/getters-setters.html" rel="nofollow">getters/setters</a>, <a href="https://rhai.rs/book/rust/methods.html" rel="nofollow">methods</a> and <a href="https://rhai.rs/book/rust/indexers.html" rel="nofollow">indexers</a>.</li>
<li>Freely pass Rust values into a script as <a href="https://rhai.rs/book/language/variables.html" rel="nofollow">variables</a>/<a href="https://rhai.rs/book/language/constants.html" rel="nofollow">constants</a> via an external <a href="https://rhai.rs/book/engine/scope.html" rel="nofollow"><code>Scope</code></a> - all clonable Rust types are supported; no need to implement any special trait. Or tap directly into the <a href="https://rhai.rs/book/engine/var.html" rel="nofollow">variable resolution process</a>.</li>
<li>Built-in support for most common <a href="https://rhai.rs/book/language/values-and-types.html" rel="nofollow">data types</a> including booleans, <a href="https://rhai.rs/book/language/numbers.html" rel="nofollow">integers</a>, <a href="https://rhai.rs/book/language/numbers.html" rel="nofollow">floating-point numbers</a> (including <a href="https://crates.io/crates/rust_decimal" rel="nofollow"><code>Decimal</code></a>), <a href="https://rhai.rs/book/language/strings-chars.html" rel="nofollow">strings</a>, <a href="https://rhai.rs/book/language/strings-chars.html" rel="nofollow">Unicode characters</a>, <a href="https://rhai.rs/book/language/arrays.html" rel="nofollow">arrays</a> (including packed <a href="https://rhai.rs/book/language/blobs.html" rel="nofollow">byte arrays</a>) and <a href="https://rhai.rs/book/language/object-maps.html" rel="nofollow">object maps</a>.</li>
<li>Easily <a href="https://rhai.rs/book/engine/call-fn.html" rel="nofollow">call a script-defined function</a> from Rust.</li>
<li>Relatively little <code>unsafe</code> code (yes there are some for performance reasons).</li>
<li>Few dependencies - currently only <a href="https://crates.io/crates/smallvec" rel="nofollow"><code>smallvec</code></a>, <a href="https://crates.io/crates/thin-vec" rel="nofollow"><code>thin-vec</code></a>, <a href="https://crates.io/crates/num-traits" rel="nofollow"><code>num-traits</code></a>, <a href="https://crates.io/crates/once_cell" rel="nofollow"><code>once_cell</code></a>, <a href="https://crates.io/crates/ahash" rel="nofollow"><code>ahash</code></a>, <a href="https://crates.io/crates/bitflags" rel="nofollow"><code>bitflags</code></a> and <a href="https://crates.io/crates/smartstring" rel="nofollow"><code>smartstring</code></a>.</li>
<li>Re-entrant scripting engine can be made <code>Send + Sync</code> (via the <code>sync</code> feature).</li>
<li>Compile once to <a href="https://rhai.rs/book/engine/compile.html" rel="nofollow">AST</a> form for repeated evaluations.</li>
<li>Scripts are <a href="https://rhai.rs/book/engine/optimize" rel="nofollow">optimized</a> (useful for template-based machine-generated scripts).</li>
<li>Easy custom API development via <a href="https://rhai.rs/book/plugins" rel="nofollow">plugins</a> system powered by procedural macros.</li>
<li><a href="https://rhai.rs/book/language/overload.html" rel="nofollow">Function overloading</a> and <a href="https://rhai.rs/book/rust/operators.html" rel="nofollow">operator overloading</a>.</li>
<li>Dynamic dispatch via <a href="https://rhai.rs/book/language/fn-ptr.html" rel="nofollow">function pointers</a> with additional support for <a href="https://rhai.rs/book/language/fn-curry.html" rel="nofollow">currying</a>.</li>
<li><a href="https://rhai.rs/book/language/fn-closure.html" rel="nofollow">Closures</a> (anonymous functions) that can capture shared values.</li>
<li>Some syntactic support for <a href="https://rhai.rs/book/patterns/oop.html" rel="nofollow">object-oriented programming (OOP)</a>.</li>
<li>Organize code base with dynamically-loadable <a href="https://rhai.rs/book/language/modules" rel="nofollow">modules</a>, optionally <a href="https://rhai.rs/book/rust/modules/resolvers.html" rel="nofollow">overriding the resolution process</a>.</li>
<li>Serialization/deserialization support via <a href="https://crates.io/crates/serde" rel="nofollow">serde</a> (requires the <code>serde</code> feature).</li>
<li>Support for <a href="https://rhai.rs/book/start/builds/minimal.html" rel="nofollow">minimal builds</a> by excluding unneeded language <a href="https://rhai.rs/book/start/features.html" rel="nofollow">features</a>.</li>
<li>A <a href="https://rhai.rs/book/engine/debugging" rel="nofollow">debugging</a> interface.</li>
</ul>
<div dir="auto"><h2 tabindex="-1" dir="auto">Protected against attacks</h2><a id="user-content-protected-against-attacks" aria-label="Permalink: Protected against attacks" href="#protected-against-attacks"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li><a href="https://rhai.rs/book/safety/index.html#dont-panic-guarantee--any-panic-is-a-bug" rel="nofollow"><em>Don&#39;t Panic</em></a> guarantee - Any panic is a bug. Rhai subscribes to the motto that a library should never panic the host system, and is coded with this in mind.</li>
<li><a href="https://rhai.rs/book/safety/sandbox.html" rel="nofollow">Sand-boxed</a> - the scripting engine, if declared immutable, cannot mutate the containing environment unless <a href="https://rhai.rs/book/patterns/control.html" rel="nofollow">explicitly permitted</a>.</li>
<li>Rugged - protected against malicious attacks (such as <a href="https://rhai.rs/book/safety/max-call-stack.html" rel="nofollow">stack-overflow</a>, <a href="https://rhai.rs/book/safety/max-string-size.html" rel="nofollow">over-sized data</a>, and <a href="https://rhai.rs/book/safety/max-operations.html" rel="nofollow">runaway scripts</a> etc.) that may come from untrusted third-party user-land scripts.</li>
<li>Track script evaluation <a href="https://rhai.rs/book/safety/progress.html" rel="nofollow">progress</a> and manually terminate a script run.</li>
<li>Passes Miri.</li>
</ul>
<div dir="auto"><h2 tabindex="-1" dir="auto">For those who actually want their own language</h2><a id="user-content-for-those-who-actually-want-their-own-language" aria-label="Permalink: For those who actually want their own language" href="#for-those-who-actually-want-their-own-language"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>Use as a <a href="https://rhai.rs/book/engine/dsl.html" rel="nofollow">DSL</a>.</li>
<li>Disable certain <a href="https://rhai.rs/book/engine/options.html#language-features" rel="nofollow">language features</a> such as <a href="https://rhai.rs/book/engine/disable-looping.html" rel="nofollow">looping</a>.</li>
<li>Further restrict the language by surgically <a href="https://rhai.rs/book/engine/disable-keywords.html" rel="nofollow">disabling keywords and operators</a>.</li>
<li>Define <a href="https://rhai.rs/book/engine/custom-op.html" rel="nofollow">custom operators</a>.</li>
<li>Extend the language with <a href="https://rhai.rs/book/engine/custom-syntax.html" rel="nofollow">custom syntax</a>.</li>
</ul>

<p dir="auto">The <a href="https://github.com/rhaiscript/rhai/tree/master/scripts"><code>scripts</code></a> subdirectory contains sample Rhai scripts.</p>
<p dir="auto">Below is the standard <em>Fibonacci</em> example for scripting languages:</p>
<div dir="auto" data-snippet-clipboard-copy-content="// This Rhai script calculates the n-th Fibonacci number using a
// really dumb algorithm to test the speed of the scripting engine.

const TARGET = 28;
const REPEAT = 5;
const ANSWER = 317_811;

fn fib(n) {
    if n &lt; 2 {
        n
    } else {
        fib(n-1) + fib(n-2)
    }
}

print(`Running Fibonacci(${TARGET}) x ${REPEAT} times...`);
print(&#34;Ready... Go!&#34;);

let result;
let now = timestamp();

for n in 0..REPEAT {
    result = fib(TARGET);
}

print(`Finished. Run time = ${now.elapsed} seconds.`);

print(`Fibonacci number #${TARGET} = ${result}`);

if result != ANSWER {
    print(`The answer is WRONG! Should be ${ANSWER}!`);
}"><pre><span>// This Rhai script calculates the n-th Fibonacci number using a</span>
<span>// really dumb algorithm to test the speed of the scripting engine.</span>

<span>const</span> <span>TARGET</span> <span>=</span> <span>28</span><span>;</span>
<span>const</span> <span>REPEAT</span> <span>=</span> <span>5</span><span>;</span>
<span>const</span> <span>ANSWER</span> <span>=</span> <span>317_811</span><span>;</span>

<span>fn</span> <span>fib</span><span>(</span><span>n</span><span>)</span> <span>{</span>
    <span>if</span> <span>n</span> <span>&lt;</span> <span>2</span> <span>{</span>
        <span>n</span>
    <span>}</span> <span>else</span> <span>{</span>
        <span>fib</span><span>(</span><span>n</span><span>-</span><span>1</span><span>)</span> <span>+</span> <span>fib</span><span>(</span><span>n</span><span>-</span><span>2</span><span>)</span>
    <span>}</span>
<span>}</span>

<span>print</span><span>(</span><span>`Running Fibonacci(<span><span>${</span><span>TARGET</span><span>}</span></span>) x <span><span>${</span><span>REPEAT</span><span>}</span></span> times...`</span><span>)</span><span>;</span>
<span>print</span><span>(</span><span>&#34;Ready... Go!&#34;</span><span>)</span><span>;</span>

<span>let</span> <span>result</span><span>;</span>
<span>let</span> <span>now</span> <span>=</span> <span>timestamp</span><span>(</span><span>)</span><span>;</span>

<span>for</span> <span>n</span> <span>in</span> <span>0.</span><span>.</span><span>REPEAT</span><span></span> <span>{</span>
    <span>result</span> <span>=</span> <span>fib</span><span>(</span><span>TARGET</span><span>)</span><span>;</span>
<span>}</span>

<span>print</span><span>(</span><span>`Finished. Run time = <span><span>${</span><span>now</span><span>.</span><span>elapsed</span><span>}</span></span> seconds.`</span><span>)</span><span>;</span>

<span>print</span><span>(</span><span>`Fibonacci number #<span><span>${</span><span>TARGET</span><span>}</span></span> = <span><span>${</span><span>result</span><span>}</span></span>`</span><span>)</span><span>;</span>

<span>if</span> <span>result</span> <span>!=</span> <span>ANSWER</span><span></span> <span>{</span>
    <span>print</span><span>(</span><span>`The answer is WRONG! Should be <span><span>${</span><span>ANSWER</span><span>}</span></span>!`</span><span>)</span><span>;</span>
<span>}</span></pre></div>

<p dir="auto"><a href="https://rhai.rs" rel="nofollow"><code>rhai.rs</code></a></p>

<p dir="auto">See <a href="https://rhai.rs/book" rel="nofollow"><em>The Rhai Book</em></a> for details on the Rhai scripting engine and language.</p>

<p dir="auto">An <a href="https://rhai.rs/playground" rel="nofollow"><em>Online Playground</em></a> is available with syntax-highlighting editor,
powered by WebAssembly.</p>
<p dir="auto">Scripts can be evaluated directly from the editor.</p>

<p dir="auto">Licensed under either of the following, at your choice:</p>
<ul dir="auto">
<li><a href="https://github.com/rhaiscript/rhai/blob/master/LICENSE-APACHE.txt">Apache License, Version 2.0</a>, or</li>
<li><a href="https://github.com/rhaiscript/rhai/blob/master/LICENSE-MIT.txt">MIT license</a></li>
</ul>
<p dir="auto">Unless explicitly stated otherwise, any contribution intentionally submitted
for inclusion in this crate, as defined in the Apache-2.0 license, shall
be dual-licensed as above, without any additional terms or conditions.</p>
</article></div></div>
  </body>
</html>
