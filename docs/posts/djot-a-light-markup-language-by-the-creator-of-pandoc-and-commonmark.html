<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/jgm/djot">Original</a>
    <h1>Djot: A light markup language by the creator of Pandoc and CommonMark</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto"><a href="https://github.com/jgm/djot/actions"><img src="https://github.com/jgm/djot/workflows/CI%20tests/badge.svg" alt="GitHub CI"/></a></p>
<p dir="auto">Djot is a light markup syntax. It derives most of its features
from <a href="https://spec.commonmark.org" rel="nofollow">commonmark</a>, but it fixes
a few things that make commonmark&#39;s syntax complex and difficult
to parse efficiently. It is also much fuller-featured than
commonmark, with support for definition lists, footnotes,
tables, several new kinds of inline formatting (insert, delete,
highlight, superscript, subscript), math, smart punctuation,
attributes that can be applied to any element, and generic
containers for block-level, inline-level, and raw content.</p>
<p dir="auto">The project began as an attempt to implement some of the
ideas I suggested in my essay <a href="https://johnmacfarlane.net/beyond-markdown.html" rel="nofollow">Beyond Markdown</a>. (See <a href="#rationale">Rationale</a>, below.)</p>
<p dir="auto">This repository contains a reference implementation, written
in Lua, and a
<a href="https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html" rel="nofollow">Syntax Description</a>.
There is also a <a href="https://blog.plover.com/jgm/djot/blob/main/doc/cheatsheet.md">Cheatsheet</a> and a
<a href="https://blog.plover.com/jgm/djot/blob/main/doc/quickstart-for-markdown-users.md">Quick Start for Markdown Users</a>
that outlines the main differences between djot and Markdown,
as well as a <a href="https://djot.net/playground/" rel="nofollow">Playground</a>,
originally designed by @dtinth,
that allows experimenting with the current implementation.</p>
<p dir="auto">Despite being
written in an interpreted language, the reference implementation
is very fast (converting a 260K test document in 141 ms on an M1 mac
using the standard <code>lua</code> interpreter). It can produce
an AST, rendered HTML, or a stream of match tokens that identify
elements by source position, which could be used for syntax
highlighting or a linting tool.</p>
<p dir="auto">We also provide a custom pandoc writer for djot (<code>djot-writer.lua</code>),
so that documents in other formats can be converted to djot
format, and a custom pandoc reader (<code>djot-reader.lua</code>), so that
djot documents can be converted to any format pandoc supports.
To use these, just put them in your working directory and use
<code>pandoc -f djot-reader.lua</code> to convert from djot, and <code>pandoc -t djot-writer.lua</code> to convert to djot. (You&#39;ll need pandoc version
2.18 or higher, and you&#39;ll need the djot library to be installed
in your <code>LUA_PATH</code>; see <a href="#installing">Installing</a>, below..)</p>
<h2 dir="auto"><a id="user-content-rationale" aria-hidden="true" href="#rationale"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Rationale</h2>
<p dir="auto">Here are some design goals:</p>
<ol dir="auto">
<li>
<p dir="auto">It should be possible to parse djot markup in linear time,
with no backtracking.</p>
</li>
<li>
<p dir="auto">Parsing of inline elements should be &#34;local&#34; and not depend
on what references are defined later. This is not the case
in commonmark:  <code>[foo][bar]</code> might be &#34;[foo]&#34; followed by
a link with text &#34;bar&#34;, or &#34;[foo][bar]&#34;, or a link with
text &#34;foo&#34;, or a link with text &#34;foo&#34; followed by
&#34;[bar]&#34;, depending on whether the references <code>[foo]</code> and
<code>[bar]</code> are defined elsewhere (perhaps later) in the
document. This non-locality makes accurate syntax highlighting
nearly impossible.</p>
</li>
<li>
<p dir="auto">Rules for emphasis should be simpler. The fact that doubled
characters are used for strong emphasis in commonmark leads to
many potential ambiguities, which are resolved by a daunting
list of 17 rules. It is hard to form a good mental model
of these rules. Most of the time they interpret things the
way a human would most naturally interpret them---but not always.</p>
</li>
<li>
<p dir="auto">Expressive blind spots should be avoided. In commonmark,
you&#39;re out of luck if you want to produce the HTML
<code>a&lt;em&gt;?&lt;/em&gt;b</code>, because the flanking rules classify
the first asterisk in <code>a*?*b</code> as right-flanking. There is a
way around this, but it&#39;s ugly (using a numerical entity instead
of <code>a</code>). In djot there should not be expressive blind spots of
this kind.</p>
</li>
<li>
<p dir="auto">Rules for what content belongs to a list item should be simple.
In commonmark, content under a list item must be indented as far
as the first non-space content after the list marker (or five
spaces after the marker, in case the list item begins with indented
code). Many people get confused when their indented content is
not indented far enough and does not get included in the list item.</p>
</li>
<li>
<p dir="auto">Parsers should not be forced to recognize unicode character classes,
HTML tags, or entities, or perform unicode case folding.
That adds a lot of complexity.</p>
</li>
<li>
<p dir="auto">The syntax should be friendly to hard-wrapping: hard-wrapping
a paragraph should not lead to different interpretations, e.g.
when a number followed by a period ends up at the beginning of
a line. (I anticipate that many will ask, why hard-wrap at
all?  Answer:  so that your document is readable just as it
is, without conversion to HTML and without special editor
modes that soft-wrap long lines. Remember that source readability
was one of the prime goals of Markdown and Commonmark.)</p>
</li>
<li>
<p dir="auto">The syntax should compose uniformly, in the following sense:
if a sequence of lines has a certain meaning outside a list
item or block quote, it should have the same meaning inside it.
This principle is <a href="https://spec.commonmark.org/0.30/#principle-of-uniformity" rel="nofollow">articulated in the commonmark
spec</a>,
but the spec doesn&#39;t completely abide by it (see
<a data-error-text="Failed to load title" data-id="559087332" data-permission-text="Title is private" data-url="https://github.com/commonmark/commonmark-spec/issues/634" data-hovercard-type="issue" data-hovercard-url="/commonmark/commonmark-spec/issues/634/hovercard" href="https://github.com/commonmark/commonmark-spec/issues/634">commonmark/commonmark-spec#634</a>).</p>
</li>
<li>
<p dir="auto">It should be possible to attach arbitrary attributes to any
element.</p>
</li>
<li>
<p dir="auto">There should be generic containers for text, inline content,
and block-level content, to which arbitrary attributes can be applied.
This allows for extensibility using AST transformations.</p>
</li>
<li>
<p dir="auto">The syntax should be kept as simple as possible, consistent with
these goals. Thus, for example, we don&#39;t need two different
styles of headings or code blocks.</p>
</li>
</ol>
<p dir="auto">These goals motivated the following decisions:</p>
<ul dir="auto">
<li>
<p dir="auto">Block-level elements can&#39;t interrupt paragraphs (or headings),
because of goal 7. So in djot the following is a single paragraph, not
(as commonmark sees it) a paragraph followed by an ordered list
followed by a block quote followed by a section heading:</p>
<div data-snippet-clipboard-copy-content="My favorite number is probably the number
1. It&#39;s the smallest natural number that is
&gt; 0. With pencils, though, I prefer a
# 2."><pre><code>My favorite number is probably the number
1. It&#39;s the smallest natural number that is
&gt; 0. With pencils, though, I prefer a
# 2.
</code></pre></div>
<p dir="auto">Commonmark does make some concessions to goal 7, by forbidding
lists beginning with markers other than <code>1.</code> to interrupt paragraphs.
But this is a compromise and a sacrifice of regularity and
predictability in the syntax. Better just to have a general rule.</p>
</li>
<li>
<p dir="auto">An implication of the last decision is that, although &#34;tight&#34;
lists are still possible (without blank lines between items),
a <em>sublist</em> must always be preceded by a blank line. Thus,
instead of</p>
<div data-snippet-clipboard-copy-content="- Fruits
  - apple
  - orange"><pre><code>- Fruits
  - apple
  - orange
</code></pre></div>
<p dir="auto">you must write</p>
<div data-snippet-clipboard-copy-content="- Fruits

  - apple
  - orange"><pre><code>- Fruits

  - apple
  - orange
</code></pre></div>
<p dir="auto">(This blank line doesn&#39;t count against &#34;tightness.&#34;)
reStructuredText makes the same design decision.</p>
</li>
<li>
<p dir="auto">Also to promote goal 7, we allow headings to &#34;lazily&#34;
span multiple lines:</p>
<div data-snippet-clipboard-copy-content="## My excessively long section heading is too
long to fit on one line."><pre><code>## My excessively long section heading is too
long to fit on one line.
</code></pre></div>
<p dir="auto">While we&#39;re at it, we&#39;ll simplify by removing setext-style
(underlined) headings. We don&#39;t really need two heading
syntaxes (goal 11).</p>
</li>
<li>
<p dir="auto">To meet goal 5, we have a very simple rule: anything that is
indented beyond the start of the list marker belongs in
the list item.</p>
<div data-snippet-clipboard-copy-content="1. list item

  &gt; block quote inside item 1

2. second item"><pre><code>1. list item

  &gt; block quote inside item 1

2. second item
</code></pre></div>
<p dir="auto">In commonmark, this would be parsed as two separate lists with
a block quote between them, because the block quote is not
indented far enough. What kept us from using this simple rule
in commonmark was indented code blocks. If list items are
going to contain an indented code block, we need to know at
what column to start counting the indentation, so we fixed on
the column that makes the list look best (the first column of
non-space content after the marker):</p>
<div data-snippet-clipboard-copy-content="1.  A commonmark list item with an indented code block in it.

        code!"><pre><code>1.  A commonmark list item with an indented code block in it.

        code!
</code></pre></div>
<p dir="auto">In djot, we just get rid of indented code blocks. Most people
prefer fenced code blocks anyway, and we don&#39;t need two
different ways of writing code blocks (goal 11).</p>
</li>
<li>
<p dir="auto">To meet goal 6 and to avoid the complex rules commonmark
adopted for handling raw HTML, we simply do not allow raw HTML,
except in explicitly marked contexts, e.g.
<code>`&lt;a id=&#34;foo&#34;&gt;`{=html}</code> or</p>
<div data-snippet-clipboard-copy-content="``` =html
&lt;table&gt;
&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
```"><pre><code>``` =html
&lt;table&gt;
&lt;tr&gt;&lt;td&gt;foo&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
```
</code></pre></div>
<p dir="auto">Unlike Markdown, djot is not HTML-centric. Djot documents
might be rendered to a variety of different formats, so although
we want to provide the flexibility to include raw content in
any output format, there is no reason to privilege HTML. For
similar reasons we do not interpret HTML entities, as
commonmark does.</p>
</li>
<li>
<p dir="auto">To meet goal 2, we make reference link parsing local.
Anything that looks like <code>[foo][bar]</code> or <code>[foo][]</code> gets
treated as a reference link, regardless of whether <code>[foo]</code>
is defined later in the document. A corollary is that we
must get rid of shortcut link syntax, with just a single
bracket pair, <code>[like this]</code>. It must always be clear what is a
link without needing to know the surrounding context.</p>
</li>
<li>
<p dir="auto">In support of goal 6, reference links are no longer
case-insensitive. Supporting this beyond an ASCII context
would require building in unicode case folding to every
implementation, and it doesn&#39;t seem necessary.</p>
</li>
<li>
<p dir="auto">A space or newline is required after <code>&gt;</code> in block quotes,
to avoid the violations of the principle of uniformity
noted in goal 8:</p>
<div data-snippet-clipboard-copy-content="&gt;This is not a
&gt;block quote in djot."><pre><code>&gt;This is not a
&gt;block quote in djot.
</code></pre></div>
</li>
<li>
<p dir="auto">To meet goal 3, we avoid using doubled characters for
strong emphasis. Instead, we use <code>_</code> for emphasis and <code>*</code> for
strong emphasis. Emphasis can begin with one of these
characters, as long as it is not followed by a space,
and will end when a similar character is encountered,
as long as it is not preceded by a space and some
different characters have occurred in between. In the case
of overlap, the first one to be closed takes precedence.
(This simple rule also avoids the need we had in commonmark to
determine unicode character classes---goal 6.)</p>
</li>
<li>
<p dir="auto">Taken just by itself, this last change would introduce a
number of expressive blind spots. For example, given the
simple rule,</p>
<div data-snippet-clipboard-copy-content="_(_foo_)_"><pre><code>_(_foo_)_
</code></pre></div>
<p dir="auto">parses as</p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;em&gt;(&lt;/em&gt;foo&lt;em&gt;)&lt;/em&gt;"><pre><span>&lt;</span><span>em</span><span>&gt;</span>(<span>&lt;/</span><span>em</span><span>&gt;</span>foo<span>&lt;</span><span>em</span><span>&gt;</span>)<span>&lt;/</span><span>em</span><span>&gt;</span></pre></div>
<p dir="auto">rather than</p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;em&gt;(&lt;em&gt;foo&lt;/em&gt;)&lt;/em&gt;"><pre><span>&lt;</span><span>em</span><span>&gt;</span>(<span>&lt;</span><span>em</span><span>&gt;</span>foo<span>&lt;/</span><span>em</span><span>&gt;</span>)<span>&lt;/</span><span>em</span><span>&gt;</span></pre></div>
<p dir="auto">If you want the latter
interpretation, djot allows you to use the syntax</p>
<div data-snippet-clipboard-copy-content="_({_foo_})_"><pre><code>_({_foo_})_
</code></pre></div>
<p dir="auto">The <code>{_</code> is a <code>_</code> that can only open emphasis, and the <code>_}</code> is
a <code>_</code> that can only close emphasis. The same can be done with
<code>*</code> or any other inline formatting marker that is ambiguous
between an opener and closer. These curly braces are
<em>required</em> for certain inline markup, e.g. <code>{=highlighting=}</code>,
<code>{+insert+}</code>, and <code>{-delete-}</code>, since the characters <code>=</code>, <code>+</code>,
and <code>-</code> are found often in ordinary text.</p>
</li>
<li>
<p dir="auto">In support of goal 1, code span parsing does not backtrack.
So if you open a code span and don&#39;t close it, it extends to
the end of the paragraph. That is similar to the way fenced
code blocks work in commonmark.</p>
<div data-snippet-clipboard-copy-content="This is `inline code."><pre><code>This is `inline code.
</code></pre></div>
</li>
<li>
<p dir="auto">In support of goal 9, a generic attribute syntax is
introduced. Attributes can be attached to any block-level
element by putting them on the line before it, and to any
inline-level element by putting them directly after it.</p>
<div data-snippet-clipboard-copy-content="{#introduction}
This is the introductory paragraph, with
an identifier `introduction`.

           {.important color=&#34;blue&#34; #heading}
## heading

The word *atelier*{weight=&#34;600&#34;} is French."><pre><code>{#introduction}
This is the introductory paragraph, with
an identifier `introduction`.

           {.important color=&#34;blue&#34; #heading}
## heading

The word *atelier*{weight=&#34;600&#34;} is French.
</code></pre></div>
</li>
<li>
<p dir="auto">Since we are going to have generic attributes, we no longer
support quoted titles in links. One can add a title
attribute if needed, but this isn&#39;t very common, so we don&#39;t
need a special syntax for it:</p>
<div data-snippet-clipboard-copy-content="[Link text](url){title=&#34;Click me!&#34;}"><pre><code>[Link text](url){title=&#34;Click me!&#34;}
</code></pre></div>
</li>
<li>
<p dir="auto">Fenced divs and bracketed spans are introduced in order to
allow attributes to be attached to arbitrary sequences of
block-level or inline-level elements. For example,</p>
<div data-snippet-clipboard-copy-content="{#warning .sidebar}
::: Warning
This is a warning.
Here is a word in [français]{lang=fr}.
:::"><pre><code>{#warning .sidebar}
::: Warning
This is a warning.
Here is a word in [français]{lang=fr}.
:::
</code></pre></div>
</li>
</ul>
<h2 dir="auto"><a id="user-content-syntax" aria-hidden="true" href="#syntax"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Syntax</h2>
<p dir="auto">For a full syntax reference, see the
<a href="https://htmlpreview.github.io/?https://github.com/jgm/djot/blob/master/doc/syntax.html" rel="nofollow">syntax description</a>.</p>
<p dir="auto">A vim syntax highlighting definition for djot is provided in
<code>editors/vim/</code>.</p>
<h2 dir="auto"><a id="user-content-installing" aria-hidden="true" href="#installing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installing</h2>
<p dir="auto">To install djot using <a href="https://luarocks.org" rel="nofollow">luarocks</a>, just</p>
<div data-snippet-clipboard-copy-content="luarocks install djot"><pre><code>luarocks install djot
</code></pre></div>
<p dir="auto">This will install both the library and the executable <code>djot</code>.</p>
<h2 dir="auto"><a id="user-content-using-the-lua-library" aria-hidden="true" href="#using-the-lua-library"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Using the Lua library</h2>
<h3 dir="auto"><a id="user-content-quick-start" aria-hidden="true" href="#quick-start"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Quick start</h3>
<p dir="auto">If you just want to parse some input and produce HTML:</p>
<div dir="auto" data-snippet-clipboard-copy-content="local djot = require(&#34;djot&#34;)
local input = &#34;This is *djot*&#34;
local doc = djot.parse(input)
local html = djot.render_html(doc)"><pre><span>local</span> djot <span>=</span> <span>require</span>(<span><span>&#34;</span>djot<span>&#34;</span></span>)
<span>local</span> input <span>=</span> <span><span>&#34;</span>This is *djot*<span>&#34;</span></span>
<span>local</span> doc <span>=</span> djot.<span>parse</span>(input)
<span>local</span> html <span>=</span> djot.<span>render_html</span>(doc)</pre></div>
<p dir="auto">The AST is available as a Lua table, <code>doc.ast</code>.</p>
<p dir="auto">To render the AST:</p>
<div dir="auto" data-snippet-clipboard-copy-content="local rendered = djot.render_ast_pretty(doc)"><pre><span>local</span> rendered <span>=</span> djot.<span>render_ast_pretty</span>(doc)</pre></div>
<p dir="auto">Or as JSON:</p>
<div dir="auto" data-snippet-clipboard-copy-content="local rendered = djot.render_ast_json(doc)"><pre><span>local</span> rendered <span>=</span> djot.<span>render_ast_json</span>(doc)</pre></div>
<p dir="auto">To alter the AST with a filter:</p>
<div dir="auto" data-snippet-clipboard-copy-content="local src = &#34;return { str = function(e) e.text = e.text:upper() end }&#34;
local filter = djot.filter.load_filter(src)
djot.filter.apply_filter(doc, filter)"><pre><span>local</span> src <span>=</span> <span><span>&#34;</span>return { str = function(e) e.text = e.text:upper() end }<span>&#34;</span></span>
<span>local</span> filter <span>=</span> djot.<span>filter</span>.<span>load_filter</span>(src)
djot.<span>filter</span>.<span>apply_filter</span>(doc, filter)</pre></div>
<p dir="auto">For a streaming parser:</p>
<div dir="auto" data-snippet-clipboard-copy-content="for startpos, endpos, annotation in djot.parse_events(&#34;*hello there*&#34;) do
  print(startpos, endpos, annotation)
end"><pre><span>for</span> startpos, endpos, annotation <span>in</span> djot.<span>parse_events</span>(<span><span>&#34;</span>*hello there*<span>&#34;</span></span>) <span>do</span>
  <span>print</span>(startpos, endpos, annotation)
<span>end</span></pre></div>
<p dir="auto">(This will print start and end byte offsets into the input
for annotated tokens.)</p>
<h2 dir="auto"><a id="user-content-the-code" aria-hidden="true" href="#the-code"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>The code</h2>
<p dir="auto">The code for djot (excluding the test suite) is standard Lua,
compatible with lua 5.1--5.4 and luajit. Djot has no external
dependencies. You can run it without installing it using
<code>./run.sh</code>.</p>
<p dir="auto"><code>make install</code> will build the rockspec and install the
library and executable using luarocks. Once installed,
the library can be used by Lua programs, and the executable can
be run using <code>djot</code>. <code>djot -h</code> will give help output.</p>
<p dir="auto">If you can&#39;t assume that lua or luajit will be installed on
the target machine, you can use <code>make djot</code> in the <code>clib</code>
directory to create a portable binary that bakes in a lua
interpreter and the necessary scripts.</p>
<p dir="auto"><code>make test</code> will run the tests, and <code>make testall</code> will also
run some tests of pathological cases.</p>
<h2 dir="auto"><a id="user-content-file-extension" aria-hidden="true" href="#file-extension"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>File extension</h2>
<p dir="auto">The extension <code>.dj</code> may be used to indicate that the contents
of a file are djot-formatted text.</p>
<h2 dir="auto"><a id="user-content-license" aria-hidden="true" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>License</h2>
<p dir="auto">The code and documentation are released under the MIT license.</p>
</article>
          </div></div>
  </body>
</html>
