<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="http://colbyr.com/blog/whistle-switch">Original</a>
    <h1>Whistle Switch</h1>
    
    <div id="readability-page-1" class="page"><div><p>My last day at RC came and went a while back,
but I finally found a few minutes to tidy up <a href="https://github.com/colbyr/whistle-switch">my whistle project</a>.
Its got some rough edges, but it works a lot better than I expected it to when I started ðŸ˜…</p><p><iframe src="https://player.vimeo.com/video/612888282?h=0b37642f66&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen="" title="Whistle detector on a Raspberry Pi"></iframe></p><p>You can install it from <a href="https://www.npmjs.com/package/whistle-switch">npm</a>.</p><pre><p><code><span>$ yarn </span><span>global</span><span> </span><span>add</span><span> whistle-</span><span>switch</span></code></p></pre><p>Fire it up on the same network as you homekit setup, and it should work right out of the box.</p><pre><p><code><span>$ whistle-switch
</span><span>ðŸš§ starti</span><span>ng listener...
</span><span>ðŸ¦¾ starting controller!
</span><span>Sun Jan 16</span><span> </span><span>2022</span><span> </span><span>15</span><span>:</span><span>56</span><span>:</span><span>42</span><span> GMT</span><span>-0500</span><span> </span><span>(Eastern Standard Time)</span><span> | [vite] co</span><span>nnecting...
</span><span>Sun Jan 16</span><span> </span><span>2022</span><span> </span><span>15</span><span>:</span><span>56</span><span>:</span><span>42</span><span> GMT</span><span>-0500</span><span> </span><span>(Eastern Standard Time)</span><span> | [vite] co</span><span>nnected.
</span><span>Sun Jan 16</span><span> </span><span>2022</span><span> </span><span>15</span><span>:</span><span>56</span><span>:</span><span>42</span><span> GMT</span><span>-0500</span><span> </span><span>(Eastern Standard Time)</span><span> | </span><span>%</span><span>c * To</span><span>ne.js v14</span><span>.7</span><span>.77</span><span> *  backgrou</span><span>nd: #000</span><span>; color: </span><span>#fff
</span><span>Sun Jan 16</span><span> </span><span>2022</span><span> </span><span>15</span><span>:</span><span>56</span><span>:</span><span>42</span><span> GMT</span><span>-0500</span><span> </span><span>(Eastern Standard Time)</span><span> | The ScriptProcessor</span><span>Node is deprecated. Use AudioWorkletNode instead. (https://bit.ly/audio-worklet)</span></code></p></pre><p>If you&#39;re trying to run <code>whistle-switch</code> on a Raspberry Pi, you need to <a href="http://colbyr.com/blog/chrome-ears-only">tell it where to find chromium</a>.</p><pre><p><code><span>$ WHISTLE_SWITCH_CHROME_EXECUTABLE_PATH=</span><span>$(</span><span>which</span><span> </span><span>chromium</span><span>-</span><span>browser</span><span>)</span><span> whistle-switch</span></code></p></pre><p>Then you should be able to <a href="https://github.com/colbyr/whistle-switch#connect-with-homekit">connect the switch to your Homekit setup</a>!</p><p><img alt="Homekit button map" src="https://user-images.githubusercontent.com/478109/149678450-8d5a16bf-4433-4f42-8b64-c9c806c71866.jpeg"/></p><p>Check it out <a href="https://github.com/colbyr/whistle-switch">on Github</a> for <a href="https://github.com/colbyr/whistle-switch#advanced-configuration">more interesting configuration options</a> and <a href="https://github.com/colbyr/whistle-switch#resetting-the-switch">trouble shooting</a>.</p></div></div>
  </body>
</html>
