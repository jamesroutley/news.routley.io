<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://nim-lang.org//blog/2025/10/31/nim-226.html">Original</a>
    <h1>Nim 2.2.6</h1>
    
    <div id="readability-page-1" class="page"><div>
      <div>
        <div>
          
          <h3>
            <span>
              <i aria-hidden="true"></i>
              31 October 2025
            </span>
            
            <span>
              <i aria-hidden="true"></i>
              The Nim Team
            </span>
            
          </h3>
          <p>The Nim Team is happy to announce version 2.2.6, the third patch release for our stable release, Nim 2.2.</p>

<p>It comes six months after the 2.2.4 release and it contains <a href="https://github.com/nim-lang/Nim/compare/v2.2.4...v2.2.6">141 commits</a>, bringing bugfixes and improvements.</p>

<p>If you’re still on Nim 1.6, take a look at the <a href="https://nim-lang.org/blog/2023/08/01/nim-v20-released.html">version 2.0 release article</a> to see all the features you’re missing.
If you’ve been using Nim 2.0, the <a href="https://nim-lang.org/blog/2024/10/02/nim-220-2010.html">version 2.2 release article</a> shows the improvements available in Nim 2.2.</p>

<p>The Nim 2.2.6 changelog is available <a href="https://github.com/nim-lang/Nim/blob/v2.2.6/changelog.md">here</a>.</p>

<h2 id="highlights">Highlights</h2>

<p>Exception handling combined with Nim’s <code>async</code> is more stable than ever before
as the underlying closure iterator transformation has been rewritten.</p>

<p>The compiler is now smart enough to produce a move operation for <code>return obj.field</code>.
Previously it performed a copy.
Expect your code to run slightly faster due to this and other minor performance improvements.</p>

<h2 id="installing-nim-226">Installing Nim 2.2.6</h2>

<p>Check out if the package manager of your OS already ships version 2.2.6 or
install it as described <a href="https://nim-lang.org/install.html">here</a>.</p>

<p>If you have installed a previous version of Nim using <code>choosenim</code>,
getting Nim 2.2.6 is as easy as:</p>

<div><pre><code><span>$ </span>choosenim update self
<span>$ </span>choosenim update stable
</code></pre>
</div>

<p><strong>NOTE:</strong> We recommend you to install and use the latest version of <code>choosenim</code>, v.0.8.16, available in <a href="https://github.com/nim-lang/choosenim">our choosenim repo</a>.</p>

<p>Alternatively, you can download Nim 2.2.6 from
<a href="https://github.com/nim-lang/nightlies/releases/tag/2025-10-31-version-2-2-ab00c56904e3126ad826bb520d243513a139436a">our nightlies builds</a>.</p>

<h2 id="bugfixes">Bugfixes</h2>

<ul>
  <li>Fixed “<code>=destroy</code> for non-var failed to compile when JS”
(<a href="https://github.com/nim-lang/Nim/issues/24914">#24914</a>)</li>
  <li>Fixed “<code><span>{</span><span>.push</span><span> </span><span>raises:</span><span> </span><span>[].</span><span>}</span></code> doesn’t respect lexical scoping”
(<a href="https://github.com/nim-lang/Nim/issues/23355">#23355</a>)</li>
  <li>Fixed “Pragma block disabling warning has effect beyond block”
(<a href="https://github.com/nim-lang/Nim/issues/21975">#21975</a>)</li>
  <li>Fixed “missing <code>&lt;</code> (less than), <code>cmp</code> for <code>cstring</code>”
(<a href="https://github.com/nim-lang/Nim/issues/24941">#24941</a>)</li>
  <li>Fixed “[GC] Illegal storage access when collecting cycle”
(<a href="https://github.com/nim-lang/Nim/issues/4851">#4851</a>)</li>
  <li>Fixed “Globals in proc with static params end up being re-initialized”
(<a href="https://github.com/nim-lang/Nim/issues/24940">#24940</a>)</li>
  <li>Fixed “Constructor to global variable in converter generates illegal c code”
(<a href="https://github.com/nim-lang/Nim/issues/4594">#4594</a>)</li>
  <li>Fixed “Compile-time regression from v2.2.4 to <code>version-2-2</code>/<code>devel</code> with <code>global</code> variable with <code>unhandled exception: iterators.nim(254, 11) len(a) == L the length of the seq changed while iterating over it [AssertionDefect]</code>”
(<a href="https://github.com/nim-lang/Nim/issues/24981">#24981</a>)</li>
  <li>Fixed “SIGSEGV when raising <code>Defect</code>/doAssert”
(<a href="https://github.com/nim-lang/Nim/issues/24974">#24974</a>)</li>
  <li>Fixed “Crash on marking destroy hook as .error”
(<a href="https://github.com/nim-lang/Nim/issues/24996">#24996</a>)</li>
  <li>Fixed “<code>hasCustomPragma</code> stops working after typedesc is copied”
(<a href="https://github.com/nim-lang/Nim/issues/23564">#23564</a>)</li>
  <li>Fixed “Asyncnet accept leaks socket on SSL error; Regression in devel”
(<a href="https://github.com/nim-lang/Nim/issues/25023">#25023</a>)</li>
  <li>Fixed “SIGSEGV in closure iterator with try/except not at top level”
(<a href="https://github.com/nim-lang/Nim/issues/21235">#21235</a>)</li>
  <li>Fixed “Regression from v2.2.4 to <code>version-2-2</code>/<code>devel</code> with closure iterator”
(<a href="https://github.com/nim-lang/Nim/issues/25038">#25038</a>)</li>
  <li>Fixed “fixes #24997; {.global.} variable in recursive function”
(<a href="https://github.com/nim-lang/Nim/issues/25016">#25016</a>)</li>
  <li>Fixed “concept param passed to varargs causes <code>internal error: genTypeInfo(tyUserTypeClassInst)</code> when  JS backend”
(<a href="https://github.com/nim-lang/Nim/issues/25043">#25043</a>)</li>
  <li>Fixed “Bad order of destruction”
(<a href="https://github.com/nim-lang/Nim/issues/24719">#24719</a>)</li>
  <li>Fixed “Floats are not range checked”
(<a href="https://github.com/nim-lang/Nim/issues/7179">#7179</a>)</li>
  <li>Fixed “typo in docs”
(<a href="https://github.com/nim-lang/Nim/issues/25084">#25084</a>)</li>
  <li>Fixed “Regression from Nim v2.2.2 to v2.2.4/<code>version-2-2</code>/devel in <code>nim cpp</code> with compatible types not keeping L-valueness”
(<a href="https://github.com/nim-lang/Nim/issues/25109">#25109</a>)</li>
  <li>Fixed “<code>FieldDefect</code> compiler crash when comparing pointers at compile time”
(<a href="https://github.com/nim-lang/Nim/issues/25066">#25066</a>)</li>
  <li>Fixed “Slow compilation due to <code>vmgen.sameConstant</code> and memory allocations”
(<a href="https://github.com/nim-lang/Nim/issues/25114">#25114</a>)</li>
  <li>Fixed “<code>unhandled exception: field &#39;sym&#39; is not accessible for type &#39;TNode&#39; using &#39;kind = nkEmpty&#39; [FieldDefect]</code> with iterator-loop”
(<a href="https://github.com/nim-lang/Nim/issues/25121">#25121</a>)</li>
  <li>Fixed “<code>strutils.formatSize</code> returns wrong values from large values close to int64.high”
(<a href="https://github.com/nim-lang/Nim/issues/25125">#25125</a>)</li>
  <li>Fixed “Dereferencing result of <code>cast</code> in single expression triggers unnecessary copy”
(<a href="https://github.com/nim-lang/Nim/issues/24093">#24093</a>)</li>
  <li>Fixed “<code>internal error: &#39;=destroy&#39; operator not found for type NimNode</code> returning <code>NimNode</code>”
(<a href="https://github.com/nim-lang/Nim/issues/25120">#25120</a>)</li>
  <li>Fixed “<code>requiresInit</code> not checked for <code>result</code> if it has been used (2.2 regression)”
(<a href="https://github.com/nim-lang/Nim/issues/25117">#25117</a>)</li>
  <li>Fixed “<code>filterIt</code> wrongly results in rvalue”
(<a href="https://github.com/nim-lang/Nim/issues/25078">#25078</a>)</li>
  <li>Fixed “<code>@</code> extremely slow for trivial types”
(<a href="https://github.com/nim-lang/Nim/issues/25063">#25063</a>)</li>
  <li>Fixed “withValue for immut tab wrong chk cond”
(<a href="https://github.com/nim-lang/Nim/issues/25162">#25162</a>)</li>
  <li>Fixed “Invalid C codegen <code>refc</code> with generic types containing gc memory”
(<a href="https://github.com/nim-lang/Nim/issues/24844">#24844</a>)</li>
  <li>Fixed “SinglyLinkedList.remove broken / AssertionDefect”
(<a href="https://github.com/nim-lang/Nim/issues/25173">#25173</a>)</li>
  <li>Fixed “<code>error: ‘T2_’ undeclared</code> and <code>error: incompatible types when assigning to type ‘void *’</code>”
(<a href="https://github.com/nim-lang/Nim/issues/24361">#24361</a>)</li>
  <li>Fixed “Noncopyable base type ignored”
(<a href="https://github.com/nim-lang/Nim/issues/24760">#24760</a>)</li>
  <li>Fixed “<code>lent string</code> generic field isn’t preserving its value”
(<a href="https://github.com/nim-lang/Nim/issues/25127">#25127</a>)</li>
  <li>Fixed “cannot return <code>lent</code> expression from conditionals like <code>case</code>”
(<a href="https://github.com/nim-lang/Nim/issues/23949">#23949</a>)</li>
  <li>Fixed “<code>Error: internal error: proc has no result symbol</code>”
(<a href="https://github.com/nim-lang/Nim/issues/21476">#21476</a>)</li>
  <li>Fixed “Invalid codegen / dangling pointer for openArray escaping from <code>block</code>”
(<a href="https://github.com/nim-lang/Nim/issues/24261">#24261</a>)</li>
  <li>Fixed “lib/system/iterators.nim(250, 14) Error: internal error: genArrayLen()”
(<a href="https://github.com/nim-lang/Nim/issues/25167">#25167</a>)</li>
  <li>Fixed “<code>Error: unhandled exception: field &#39;sym&#39; is not accessible for type &#39;TNode&#39;</code>”
(<a href="https://github.com/nim-lang/Nim/issues/21138">#21138</a>)</li>
  <li>Fixed “<code>error: ‘pthread_mutex_t’ has no member named ‘abi’</code> in refc with <code>reset</code>/<code><span>{</span><span>.exportc.</span><span>}</span></code>”
(<a href="https://github.com/nim-lang/Nim/issues/25205">#25205</a>)</li>
  <li>Fixed “Uninitialized variable usage in <code>resize__system_u...</code> in <code>@psystem.nim.c</code> in ORC”
(<a href="https://github.com/nim-lang/Nim/issues/25204">#25204</a>)</li>
  <li>Fixed “VM error when passing object field ref to <code>proc(var T): var T</code>”
(<a href="https://github.com/nim-lang/Nim/issues/25210">#25210</a>)</li>
  <li>Fixed “Closure environement wrongly marked as cyclic (orc)”
(<a href="https://github.com/nim-lang/Nim/issues/25048">#25048</a>)</li>
  <li>Fixed “Infinite loop with anonymous iterator”
(<a href="https://github.com/nim-lang/Nim/issues/25046">#25046</a>)</li>
  <li>Fixed “JS: <code>cast[char](i)</code> for <code>i &gt; 255</code> not truncate”
(<a href="https://github.com/nim-lang/Nim/issues/25222">#25222</a>)</li>
  <li>Fixed “VM issue with globals and assignments”
(<a href="https://github.com/nim-lang/Nim/issues/25208">#25208</a>)</li>
  <li>Fixed “Case object from <code>compileTime</code> proc unable to be passed as <code>static</code> param”
(<a href="https://github.com/nim-lang/Nim/issues/25123">#25123</a>)</li>
  <li>Fixed “VM <code>repr</code> raises RangeDefect for long string under refc”
(<a href="https://github.com/nim-lang/Nim/issues/25226">#25226</a>)</li>
  <li>Fixed “Broken assignment of union with bool inside variant object”
(<a href="https://github.com/nim-lang/Nim/issues/25236">#25236</a>)</li>
  <li>Fixed “deques: Deque items behavior is not the same on 2.0.16 and 2.2.0”
(<a href="https://github.com/nim-lang/Nim/issues/25240">#25240</a>)</li>
  <li>Fixed “<code>nim doc</code> uses doc comment from private field for public field”
(<a href="https://github.com/nim-lang/Nim/issues/25027">#25027</a>)</li>
  <li>Fixed “Compiler internal error <code>compiler/vmgen.nim(1771, 23)</code> with <code>static</code> overload”
(<a href="https://github.com/nim-lang/Nim/issues/25008">#25008</a>)</li>
  <li>Fixed “Wrong exception raised wrapped in finally in closure iterator; Regression in devel/version-2-2”
(<a href="https://github.com/nim-lang/Nim/issues/25202">#25202</a>)</li>
</ul>

<p>The complete list of changes is available <a href="https://github.com/nim-lang/Nim/compare/v2.2.4...v2.2.6">here</a>.</p>

        </div>
      </div>
    </div></div>
  </body>
</html>
