<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.danpetrolito.xyz/i-built-something-that-changed-my-friend-gro-social-fabric/">Original</a>
    <h1>I built something that changed my friend group&#39;s social fabric</h1>
    
    <div id="readability-page-1" class="page"><div>
        <p>This is a story that started back in 2022, but I think its a perfect time to reflect on the impact that it has had on my friend group still to this day.</p><p>A year or so before COVID, our friend group dispersed across the world - I moved to Vancouver, one friend moved to the UK and another one moved to the United States. The rest of them still lived in Melbourne.</p><p>Once COVID hit, like many others, we looked to find a way to keep in contact and still hang out. We have always been a big gaming group (both board game &amp; video games) so moving online seemed like a logical choice. We had always used Discord so we started to ramp up our time there.</p><h3 id="the-problem"><strong>The problem</strong></h3><p>Over the next year, our group chat (in Signal) was drowning in notifications. A mix of general chit chat, talks on the ever changing news of COVID and the most important - when can people play games and chat. It really annoyed me when people would post on &#34;hey anyone wanna play [game] in 15 mins?&#34;, for it to be buried in another 5 messages. The message would have to be constantly bumped in Signal before we eventually jumped in a voice chat in our Discord server. My friends were also annoyed that they didn&#39;t know we were playing a certain game tonight, for us to go &#34;we talked about it on Signal!&#34;. Something had to change.</p><h3 id="the-solution"><strong>The solution</strong></h3><p>I thought, rather than people typing in Signal that they want to play a game in Discord, it would be better for Discord to notify us when someone has joined a voice channel in our server. Now you&#39;re probably thinking &#34;Daniel, wouldn&#39;t this just be another notification that people would miss?&#34; - you would be right to be skeptical, but I thought that since it was a distinct notification from Discord rather than Signal it would be better. </p><p>I went to Discord to find a setting to send a notification to the server when someone joined a voice channel, and I came up with crickets. There was no such thing. Eventually I found that you can write a Discord bot to leverage the <code>on_voice_state_update</code> from <a href="https://discordpy.readthedocs.io/en/latest/api.html?highlight=on_voice_state_update&amp;ref=blog.danpetrolito.xyz#discord.on_voice_state_update" rel="noreferrer">discord.py</a>, a Discord API wrapper. So I spun up a new git repo and got to work writing a simple Discord bot. Here is main guts of the bot.</p><figure><img src="https://blog.danpetrolito.xyz/content/images/2025/06/carbon--1-.png" alt="" loading="lazy" width="2000" height="1141" srcset="https://blog.danpetrolito.xyz/content/images/size/w600/2025/06/carbon--1-.png 600w, https://blog.danpetrolito.xyz/content/images/size/w1000/2025/06/carbon--1-.png 1000w, https://blog.danpetrolito.xyz/content/images/size/w1600/2025/06/carbon--1-.png 1600w, https://blog.danpetrolito.xyz/content/images/size/w2400/2025/06/carbon--1-.png 2400w" sizes="(min-width: 1200px) 1200px"/></figure><p>Since <code>on_voice_state_update</code> triggers on when a member joins or leaves a voice channel and if the member muted or deafened - we must check that the <code>before</code> channel is null and the <code>after</code> channel is not null to signify that they have joined a voice channel.</p><p>We then get the first text channel of the server so that our bot can send the message to the server. Then we actually send the message to the text channel. I added the <code>delete_after</code> option so that the text channel is not clogged up with all the messages sent from the bot. All we care about is receiving the notification. Finally, I add a record into a postgres table (hosted on <a href="https://supabase.com/?ref=blog.danpetrolito.xyz" rel="noreferrer">Supabase</a>) of the Discord server (guild), the member id and member display name along with a timestamp of when they joined. All this juicy data will come in handy later. </p><p>I originally hosted the bot on fly.io. But I&#39;ve been on a mission to learn more about self-hosting, so I bought a server from Hetzner and it runs on same server as this blog using <a href="https://coolify.io/?ref=blog.danpetrolito.xyz" rel="noreferrer">Coolify</a>. </p><p>I added the bot to the server with the appropriate permissions and we are live! Here&#39;s what it looks like.</p><figure><img src="https://blog.danpetrolito.xyz/content/images/2025/06/dan-discord.PNG" alt="" loading="lazy" width="513" height="76"/><figcaption><span>Notification on discord desktop client</span></figcaption></figure><figure><img src="https://blog.danpetrolito.xyz/content/images/2025/06/image.png" alt="" loading="lazy" width="1175" height="290" srcset="https://blog.danpetrolito.xyz/content/images/size/w600/2025/06/image.png 600w, https://blog.danpetrolito.xyz/content/images/size/w1000/2025/06/image.png 1000w, https://blog.danpetrolito.xyz/content/images/2025/06/image.png 1175w" sizes="(min-width: 720px) 720px"/><figcaption><span>Notification on iPhone</span></figcaption></figure><h3 id="the-reaction">The reaction</h3><p>My friends had mixed views when I initially told them. It was a 50/50 split between &#39;that sounds useful&#39;, to &#39;that sounds dumb and I won&#39;t use it&#39;. The hardest part was convincing people to download the Discord app on their phone as most of us didn&#39;t have it downloaded.</p><p>Only a few months later, I had moved back to Melbourne and was with my friends on a sunny afternoon at a pub. My friend, Jack, who was initially in the &#39;I wont use it&#39; camp, completely changed his tune. He said that it encourages him to jump into Discord not even to play games but just to have a quick chat with everyone and to socialize. </p><figure><img src="https://blog.danpetrolito.xyz/content/images/2025/06/image-2.png" alt="" loading="lazy" width="594" height="437"/><figcaption><span>The batsignal of our group</span></figcaption></figure><p>I quickly realized that this has not just reduced the amount of messages around organizing to play games, it acted as a Batsignal for our friends to hang out. I estimated that over 60% of the time when people join Discord, it&#39;s just to have a chin-wag about our day and not to play a game.</p><h2 id="the-results">The results</h2><p>Since I had been keeping a record of each time someone joined Discord, I now had years worth of data to see some trends (as of 27th June 2025).</p><table>
<thead>
<tr>
<th>Year</th>
<th>Times joined</th>
<th>Days joined</th>
</tr>
</thead>
<tbody>
<tr>
<td>2022</td>
<td>2374</td>
<td>318</td>
</tr>
<tr>
<td>2023</td>
<td>3181</td>
<td>345</td>
</tr>
<tr>
<td>2024</td>
<td>3503</td>
<td>352</td>
</tr>
<tr>
<td>2025</td>
<td>1378</td>
<td>171</td>
</tr>
</tbody>
</table>
<p>Even I am staggered on how much we use Discord. Our sessions varies a lot from 5-30 mins to nights of multi-hour gaming sessions. All of my friends are in their 30s and with a few of us being first-time Dads. Being one of those Dad&#39;s - it was a life savior when my little one was a newborn to jump onto Discord for even 5 minutes to chat with my friends, watch someone play a game and then log off for another diaper change. Our group has gone from primarily text-based chat to chatting on Discord most nights - it&#39;s reminiscent of picking up the landline back in the 90s and calling your friends. </p><figure><img src="https://blog.danpetrolito.xyz/content/images/2025/06/image-3.png" alt="" loading="lazy" width="498" height="285"/><figcaption><span>This is how I feel when I join Discord with my friends</span></figcaption></figure><p>Every year we have an annual Christmas party for our friends and since last year I&#39;ve been doing a &#39;Discord Wrapped&#39; (cross with the Dundies from the Office) - where I announce who has joined Discord the most as well as providing each person with stats around their year on Discord. It&#39;s been such a fun way to recap the year and see trends of our activity. </p><figure><img src="https://blog.danpetrolito.xyz/content/images/2025/06/image-5.png" alt="" loading="lazy" width="381" height="831"/><figcaption><span>My stats for 2024</span></figcaption></figure><figure><img src="https://blog.danpetrolito.xyz/content/images/2025/06/image-4.png" alt="" loading="lazy" width="401" height="842"/><figcaption><span>The leaderboard for 2024</span></figcaption></figure><h3 id="conclusion-whats-next">Conclusion &amp; what&#39;s next</h3><p>I didn&#39;t realize the impact this would have on our group, but I&#39;m very grateful I had a few hours to spare one Sunday to quickly whip this Discord bot up. </p><p>I plan to add achievements based on who you hung out on Discord and some other fun ideas, as well as tracking when you left Discord to get those juicy <em>hours spent </em>stats.</p><p>I also had this idea to turn this into an IoT device that has 5 RGB lights and sits on your desk. It would light up when each friend you have delegated joins your Discord voice channel and you could customize the colour for each friend. If I get some traction I might turn it into a real product, so email me at my email address in my about page if that seems something you&#39;d like.</p>
    </div></div>
  </body>
</html>
