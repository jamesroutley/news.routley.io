<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://jvns.ca/blog/2026/01/08/a-data-model-for-git/">Original</a>
    <h1>A data model for Git (and other docs updates)</h1>
    
    <div id="readability-page-1" class="page"><div>
     <p>Hello! This past fall, I decided to take some time to work on Git’s
documentation. I’ve been thinking about working on open source docs for a long
time – usually if I think the documentation for something could be improved,
I’ll write a blog post or a zine or something. But this time I wondered: could I
instead make a few improvements to the official documentation?</p>
<p>So <a href="https://marieflanagan.com/">Marie</a> and I made a few changes to the Git
documentation!</p>
<h3 id="a-data-model-for-git">
    <a href="#a-data-model-for-git">
      a data model for Git
    </a>
</h3>
<p>After a while working on the documentation, we noticed that Git uses the terms
“object”, “reference”, or “index” in its documentation a lot, but that it didn’t
have a great explanation of what those terms mean or how they relate to other
core concepts like “commit” and “branch”. So we wrote a new “data model” document!</p>
<p>You can <a href="https://github.com/git/git/blob/master/Documentation/gitdatamodel.adoc">read the data model here for now</a>.
I assume at some point (after the next release?) it’ll also be on the <a href="https://git-scm.com">Git website</a>.</p>
<p>I’m excited about this because understanding how Git organizes its commit and
branch data has really helped me reason about how Git works over the years,
and I think it’s important to have a short (1600 words!) version of the data
model that’s accurate.</p>
<p>The “accurate” part turned out to not be that easy: I knew the basics of how
Git’s data model worked, but during the review process I learned some new
details and had to make quite a few changes (for example how merge conflicts are
stored in the staging area).</p>
<h3 id="updates-to-git-push-git-pull-and-more">
    <a href="#updates-to-git-push-git-pull-and-more">
      updates to <code>git push</code>, <code>git pull</code>, and more
    </a>
</h3>
<p>I also worked on updating the introduction to some of Git’s core man pages.
I quickly realized that “just try to improve it according to my best judgement”
was not going to work: why should the maintainers believe me that my version is
better?</p>
<p>I’ve seen a problem a lot when discussing open source documentation changes
where 2 expert users of the software argue about whether an explanation
is clear or not (“I think X would be a good way to explain it! Well, I think Y
would be better!”)</p>
<p>I don’t think this is very productive (expert users of a piece of software
are notoriously bad at being able to tell if an explanation will be clear to
non-experts), so I needed to find a way to identify problems with the man
pages that was a little more evidence-based.</p>
<h3 id="getting-test-readers-to-identify-problems">
    <a href="#getting-test-readers-to-identify-problems">
      getting test readers to identify problems
    </a>
</h3>
<p>I asked for test readers on Mastodon to read the current version of
documentation and tell me what they find confusing or what questions they have.
About 80 test readers left comments, and I learned so much!</p>
<p>People left a huge amount of great feedback, for example:</p>
<ul>
<li>terminology they didn’t understand (what’s a pathspec? what does “reference” mean? does “upstream” have a specific meaning in Git?)</li>
<li>specific confusing sentences</li>
<li>suggestions of things things to add (“I do X all the time, I think it should be included here”)</li>
<li>inconsistencies (“here it implies X is the default, but elsewhere it implies Y is the default”)</li>
</ul>
<p>Most of the test readers had been using Git for at least 5-10 years, which
I think worked well – if a group of test readers who have been using Git
regularly for 5+ years find a sentence or term impossible to understand, it
makes it easy to argue that the documentation should be updated to make it
clearer.</p>
<p>I thought this “get users of the software to comment on the existing
documentation and then fix the problems they find” pattern worked really
well and I’m excited about potentially trying it again in the future.</p>
<h3 id="the-man-page-changes">
    <a href="#the-man-page-changes">
      the man page changes
    </a>
</h3>
<p>We ended updating these 4 man pages:</p>
<ul>
<li><code>git add</code> (<a href="https://github.com/git/git/blob/2b3ae040/Documentation/git-add.adoc">before</a>, <a href="https://github.com/git/git/blob/e0bfec3dfc356f7d808eb5ee546a54116b794397/Documentation/git-add.adoc">after</a>)</li>
<li><code>git checkout</code> (<a href="https://github.com/git/git/blob/2b3ae040/Documentation/git-checkout.adoc">before</a>, <a href="https://github.com/git/git/blob/e0bfec3dfc356f7d808eb5ee546a54116b794397/Documentation/git-checkout.adoc">after</a>)</li>
<li><code>git push</code> (<a href="https://github.com/git/git/blob/2b3ae040/Documentation/git-push.adoc">before</a>, <a href="https://github.com/git/git/blob/e0bfec3dfc356f7d808eb5ee546a54116b794397/Documentation/git-push.adoc">after</a>)</li>
<li><code>git pull</code> (<a href="https://github.com/git/git/blob/2b3ae040/Documentation/git-pull.adoc">before</a>, <a href="https://github.com/git/git/blob/e0bfec3dfc356f7d808eb5ee546a54116b794397/Documentation/git-pull.adoc">after</a>)</li>
</ul>
<p>The <code>git push</code> and <code>git pull</code> changes were the most interesting to me: in
addition to updating the intro to those pages, we also ended up writing:</p>
<ul>
<li><a href="https://github.com/git/git/blob/e0bfec3dfc356f7d808eb5ee546a54116b794397/Documentation/urls-remotes.adoc#upstream-branches">a section describing what the term “upstream branch” means</a> (which previously wasn’t really explained)</li>
<li><a href="https://github.com/git/git/blob/e0bfec3dfc356f7d808eb5ee546a54116b794397/Documentation/git-push.adoc#options">a cleaned-up description of what a “push refspec” is</a></li>
</ul>
<p>Making those changes really gave me an appreciation for how much work it is
to maintain open source documentation: it’s not easy to write things that are
both clear and true, and sometimes we had to make compromises, for example the sentence
“<code>git push</code> may fail if you haven’t set an upstream for the current branch,
depending on what <code>push.default</code> is set to.” is a little vague, but the exact
details of what “depending” means are really complicated and untangling that is
a big project.</p>
<h3 id="on-the-process-for-contributing-to-git">
    <a href="#on-the-process-for-contributing-to-git">
      on the process for contributing to Git
    </a>
</h3>
<p>It took me a while to understand Git’s development process.
I’m not going to try to describe it here (that could be a whole other post!), but a few quick notes:</p>
<ul>
<li>Git has a <a href="https://git-scm.com/community#discord">Discord server</a>
with a “my first contribution” channel for help with getting started contributing.
I found people to be very welcoming on the Discord.</li>
<li>I used <a href="https://gitgitgadget.github.io/">GitGitGadget</a> to make all of my contributions.
This meant that I could make a GitHub pull request (a workflow I’m comfortable
with) and GitGitGadget would convert my PRs into the system the Git developers
use (emails with patches attached). GitGitGadget worked great and I was very
grateful to not have to learn how to send patches by email with Git.</li>
<li>Otherwise I used my normal email client (Fastmail’s web interface) to reply
to emails, wrapping my text to 80 character lines since that’s the mailing
list norm.</li>
</ul>
<p>I also found the mailing list archives on <a href="https://lore.kernel.org/git/">lore.kernel.org</a>
hard to navigate, so I hacked together <a href="https://github.com/jvns/git-list-viewer">my own git list viewer</a>
to make it easier to read the long mailing list threads.</p>
<p>Many people helped me navigate the contribution process and review the changes:
thanks to Emily Shaffer, Johannes Schindelin (the author of GitGitGadget),
Patrick Steinhardt, Ben Knoble, Junio Hamano, and more.</p>
<p>(I’m experimenting with <a href="https://comments.jvns.ca/post/115861337435768520">comments on Mastodon, you can see the comments here</a>)</p>

</div></div>
  </body>
</html>
