<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://nuxx.net/blog/2025/12/20/openscad-is-kinda-neat/">Original</a>
    <h1>OpenSCAD Is Kinda Neat</h1>
    
    <div id="readability-page-1" class="page"><div>
								<div>
<figure><a href="https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.11.35-PM-scaled.png"><img fetchpriority="high" decoding="async" width="1024" height="502" src="https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.11.35-PM-1024x502.png" alt="" srcset="https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.11.35-PM-1024x502.png 1024w, https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.11.35-PM-300x147.png 300w, https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.11.35-PM-768x376.png 768w, https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.11.35-PM-1536x752.png 1536w, https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.11.35-PM-2048x1003.png 2048w" sizes="(max-width: 1024px) 100vw, 1024px"/></a><figcaption>Designing a simple battery holder in OpenSCAD.</figcaption></figure>
</div>


<p>Earlier this year I designed a very basic box/organizer for <a href="https://en.wikipedia.org/wiki/AA_battery">AA</a> and <a href="https://en.wikipedia.org/wiki/AAA_battery">AAA</a> batteries in <a href="https://www.autodesk.com/products/fusion-360/">Autodesk Fusion</a>, making it parameterized so that by changing a few variables one could adjust the battery type/size, rows/columns, etc. This worked well, and after <a href="https://www.printables.com/model/1522509-simple-battery-holder-aa-and-aaa-w-parameterized-f">uploading it to Printables earlier today</a> I realized that reimplementing it would probably be a good way to learn the basics of <a href="https://openscad.org/">OpenSCAD</a>.</p>



<p>OpenSCAD is a rather different type of CAD tool, one in which you write code to generate objects. Because my battery holder is very simple (just a box with a pattern of cutouts) and uses input parameters, I figured it’d be a good intro to a new language / tool. And in the future might even be better than firing up Fusion for such simple designs.</p>



<p>After going through part of <a href="https://en.wikibooks.org/wiki/OpenSCAD_Tutorial">the tutorial</a> and an hour or so of poking, here’s the result: <a href="https://nuxx.net/files/3d_printing/battery_holder_generator.scad"><code>battery_holder_generator.scad</code></a></p>


<div>
<figure><a href="https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.30.03-PM-scaled.png"><img decoding="async" width="300" height="166" src="https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.30.03-PM-300x166.png" alt="" srcset="https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.30.03-PM-300x166.png 300w, https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.30.03-PM-1024x568.png 1024w, https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.30.03-PM-768x426.png 768w, https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.30.03-PM-1536x852.png 1536w, https://nuxx.net/blog/wp-content/uploads/2025/12/Screenshot-2025-12-20-at-12.30.03-PM-2048x1136.png 2048w" sizes="(max-width: 300px) 100vw, 300px"/></a><figcaption>Slicer showing the Fusion model on top and OpenSCAD on bottom.</figcaption></figure>
</div>


<p>By changing just a few variables — <code>numRows</code> and <code>numColumns</code> and <code>batteryType</code> — one can render a customized battery holder which can then be plopped into a <a href="https://en.wikipedia.org/wiki/Slicer_(3D_printing)">slicer</a> and printed. No heavy/expensive CAD software needed and the output is effectively the same.</p>



<p>Without comments or informative output, this is the meat of the code:</p>



<pre><code>AA = 15;
AAA = 11;
heightCompartment = 19;
thicknessWall = 1;
numRows = 4;
numColumns = 10;
batteryType = AA;

widthBox = (numRows * batteryType) + ((numRows + 1) * thicknessWall);
lengthBox = (numColumns * batteryType) + ((numColumns + 1) * thicknessWall);
depthBox = heightCompartment + thicknessWall;

difference() {
    cube([lengthBox, widthBox, depthBox]);
    for (c = [ 1 : numColumns ])
        for (r = [ 1 : numRows ])
            let (
                startColumn = ((c * thicknessWall) + ((c - 1) * batteryType)),
                startRow = ((r * thicknessWall) + ((r - 1) * batteryType))
            )
            {
                translate([startColumn, startRow, thicknessWall])
                cube([batteryType, batteryType, heightCompartment + 1]);
            }
};</code></pre>



<p>Simply, it draws a box and cuts out the holes. (The first <code>cube()</code> draws the main box, then <code>difference()</code> subtracts the battery holes via the second <code>cube()</code> as their quantity and location (via <code>translate()</code>) is iterated.</p>



<p>That’s it. Pretty neat, eh?</p>



<p>(One part that confused me is how I needed to use <code><a href="https://en.wikibooks.org/wiki/OpenSCAD_User_Manual/List_Comprehensions#let">let()</a></code> to define <code>startColumn</code> and <code>startRow</code> inside the loop. I don’t understand this…)</p>



<p>While this probably won’t be very helpful for more complicated designs, I can see this being super useful for bearing drifts, spacers, and other similar simple (yet incredibly useful in real life) geometric shapes.</p>
											</div></div>
  </body>
</html>
