<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.freebsd.org/releases/13.1R/relnotes/">Original</a>
    <h1>FreeBSD 13.1</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>This section covers changes and additions to userland
applications, contributed software, and system utilities.</p>
<div>
<h3 id="userland-config">Userland Configuration Changes</h3>

</div>
<div>
<h3 id="userland-programs">Userland Application Changes</h3>

<p>For 64-bit architectures, the base system is now built with
Position Independent Executable (PIE) support enabled by default.
It may be disabled using the <code>WITHOUT_PIE</code> knob. A clean
build is required. <a href="https://cgit.freebsd.org/src/commit/?id=396e9f259d96">396e9f259d96</a></p>
<p>There is a new <code>zfskeys</code> <a href="https://www.freebsd.org/cgi/man.cgi?query=rc&amp;sektion=8&amp;format=html">
rc(8)</a> service script, which allows for automatic decryption of
ZFS datasets encrypted with ZFS native encryption during boot. See
the <a href="https://www.freebsd.org/cgi/man.cgi?query=rc.conf&amp;sektion=5&amp;format=html">
rc.conf(5)</a> manual page for more information. <a href="https://cgit.freebsd.org/src/commit/?id=33ff39796ffe">33ff39796ffe</a>,
<a href="https://cgit.freebsd.org/src/commit/?id=8719e8a951b7">8719e8a951b7</a>
(Sponsored by Modirum and Klara Inc.)</p>

<p>NVMe iovec construction for large IOs in <a href="https://www.freebsd.org/cgi/man.cgi?query=bhyve&amp;sektion=8&amp;format=html">
bhyve(8)</a> has been fixed. The problem was exposed by the UEFI
driver included with Rocky Linux 8.4. <a href="https://cgit.freebsd.org/src/commit/?id=a7761d19dacd">a7761d19dacd</a></p>
<p>Extra Alt Gr mappings for Brazillian Portuguese ABNT2 keyboards
were added. <a href="https://cgit.freebsd.org/src/commit/?id=310623908c20">310623908c20</a></p>
<p>The <code>chroot</code> facility now supports unprivileged
operation, and the <a href="https://www.freebsd.org/cgi/man.cgi?query=chroot&amp;sektion=8&amp;format=html">
chroot(8)</a> program now has a <code>-n</code> option to enable
its use. <a href="https://cgit.freebsd.org/src/commit/?id=460b4b550dc9">460b4b550dc9</a>
(Sponsored by EPSRC)</p>
<p>The CAM library has been modified to use <a href="https://www.freebsd.org/cgi/man.cgi?query=realpath&amp;sektion=3&amp;format=html">
realpath(3)</a> on device names before parsing them, which allows
tools such as <a href="https://www.freebsd.org/cgi/man.cgi?query=camcontrol&amp;sektion=8&amp;format=html">
camcontrol(8)</a> and <a href="https://www.freebsd.org/cgi/man.cgi?query=smartctl&amp;sektion=8&amp;format=html">
smartctl(8)</a> to be friendlier when symlinks are in use. <a href="https://cgit.freebsd.org/src/commit/?id=e32acf95ea25">e32acf95ea25</a></p>
<p><a href="https://www.freebsd.org/cgi/man.cgi?query=md5sum&amp;sektion=1&amp;format=html">
md5sum(1)</a> and similar message-digest programs compatible with
those on Linux were added by having the corresponding BSD programs
run with the <code>-r</code> option if the program name ends in
<code>sum</code>. <a href="https://cgit.freebsd.org/src/commit/?id=c0d5665be0dc">c0d5665be0dc</a>
(Sponsored by Netflix)</p>

<p><a href="https://www.freebsd.org/cgi/man.cgi?query=mpsutil&amp;sektion=8&amp;format=html">
mpsutil(8)</a> has been extended to show adapter information and to
control NCQ. <a href="https://cgit.freebsd.org/src/commit/?id=395bc3598b47">395bc3598b47</a></p>
<p>Problems after downloading firmware to a device using <a href="https://www.freebsd.org/cgi/man.cgi?query=camcontrol&amp;sektion=8&amp;format=html">
camcontrol(8)</a> were fixed by forcing a rescan of the LUN after
the firmware download. <a href="https://cgit.freebsd.org/src/commit/?id=327da43602cc">327da43602cc</a>
(Sponsored by Netflix)</p>
<p>A new mode has been added to the scripted partition editor for
variant disk names in <a href="https://www.freebsd.org/cgi/man.cgi?query=bsdinstall&amp;sektion=8&amp;format=html">
bsdinstall(8)</a>. If the disk parameter <code>DEFAULT</code> is
set in place of an actual device name, or no disk is specified for
the <code>PARTITIONS</code> parameter, the installer will follow
the logic used in the automatic-partitioning mode, in which it will
either provide a selection dialog for one of several disks if
several are present or automatically select it if there is only
one. This simplifies the creation of fully-automatic installation
media for hardware or VMs with varying disk names. <a href="https://cgit.freebsd.org/src/commit/?id=5ec4eb443e81">5ec4eb443e81</a></p>
</div>
<div>
<h3 id="userland-contrib">Contributed Software</h3>
<p>Building of LLDB has been enabled on all powerpc architectures.
<a href="https://cgit.freebsd.org/src/commit/?id=cb1bee9bd34">cb1bee9bd34</a></p>
<p>One True Awk has been updated to the latest from upstream
(20210215). All the FreeBSD patches but one have now been either
upstreamed or discarded. Notable changes include:</p>
<div>
<ul>
<li>
<p>Locale is no longer used for ranges</p>
</li>
<li>
<p>Various bugs fixed</p>
</li>
<li>
<p>Better compatibility with <code>gawk</code> and
<code>mawk</code></p>
</li>
</ul>
</div>
<p>The one remaining FreeBSD change, likely to be removed in
FreeBSD 14, is that we still allow hex numbers, prefixed with
<code>0x</code>, to be parsed and interpreted as hex numbers, while
all other awks (now including One True Awk) interpret them as
<code>0</code>, in line with awk’s historic behavior.</p>
<p><code>zlib</code> has been upgraded to version 1.2.12.</p>
<p><code>libarchive</code> has been upgraded to verion 3.6.0 with
additional bug and security fixes from the upcoming patchlevel
release. Release notes are available at <a href="https://github.com/libarchive/libarchive/releases">https://github.com/libarchive/libarchive/releases</a>.</p>
<p>The <code>ssh</code> package has been updated to OpenSSH v8.8p1,
including a security update and bug fixes. Other updates include
these changes:</p>
<div>
<ul>
<li>
<p><a href="https://www.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">
ssh(1)</a>: When prompting whether to record a new host key, accept
that key’s fingerprint as a synonym for &#34;yes.&#34;</p>
</li>
<li>
<p><a href="https://www.freebsd.org/cgi/man.cgi?query=ssh-keygen&amp;sektion=1&amp;format=html">
ssh-keygen(1)</a>: When acting as a CA and signing certificates
with an RSA key, default to using the <code>rsa-sha2-512</code>
signature algorithm.</p>
</li>
<li>
<p><a href="https://www.freebsd.org/cgi/man.cgi?query=ssh&amp;sektion=1&amp;format=html">
ssh(1)</a>: <code>UpdateHostkeys</code> is enabled by default,
subject to some conservative preconditions.</p>
</li>
<li>
<p><a href="https://www.freebsd.org/cgi/man.cgi?query=scp&amp;sektion=1&amp;format=html">
scp(1)</a>: The behavior of remote to remote copies (e.g. <code>scp
host-a:/path host-b:</code>) has been changed to transfer through
the local host by default.</p>
</li>
<li>
<p><a href="https://www.freebsd.org/cgi/man.cgi?query=scp&amp;sektion=1&amp;format=html">
scp(1)</a> has experimental support for transfers using the SFTP
protocol as a replacement for the venerable SCP/RCP protocol that
it has traditionally used.</p>
</li>
</ul>
</div>
<p>The use of FIDO/U2F hardware authenticators has been enabled in
<code>ssh</code>, using the new public key types
<code>ecdsa-sk</code> and <code>ed25519-sk</code>, along with
corresponding certificate types. FIDO/U2F support is described in
<a href="https://www.openssh.com/txt/release-8.2">https://www.openssh.com/txt/release-8.2</a>.
<a href="https://cgit.freebsd.org/src/commit/?id=a613d68fff9a">a613d68fff9a</a>
(Sponsored by The FreeBSD Foundation)</p>
</div>
<div>
<h3 id="userland-libraries">Runtime Libraries and API</h3>
<p>Assembly optimized code for OpenSSL has been added on powerpc,
powerpc64 and powerpc64le. <a href="https://cgit.freebsd.org/src/commit/?id=ce35a3bc852">ce35a3bc852</a></p>
<p>The detection of CPU features accelerating crypto operations for
ARMv7 and ARM64 has been fixed, speeding up
<code>aes-256-gcm</code> and <code>sha256</code> substantially.
<a href="https://cgit.freebsd.org/src/commit/?id=32a2fed6e71f">32a2fed6e71f</a>
(Sponsored by Ampere Computing LLC and Klara Inc.)</p>
<p>Building ASAN and UBSAN libraries has been enabled on riscv64
and riscv64sf. <a href="https://cgit.freebsd.org/src/commit/?id=8c56b338da7">8c56b338da7</a></p>
<p>OFED libraries are now built on riscv64 and riscv64sf. <a href="https://cgit.freebsd.org/src/commit/?id=2b978245733">2b978245733</a></p>
<p>OPENMP libraries are now built on riscv64 and riscv64sf.
<a href="https://cgit.freebsd.org/src/commit/?id=aaf56e35569">aaf56e35569</a></p>
</div>
</div></div>
  </body>
</html>
