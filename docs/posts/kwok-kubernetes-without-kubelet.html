<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.kubernetes.dev/blog/2023/03/01/introducing-kwok/">Original</a>
    <h1>KWOK: Kubernetes WithOut Kubelet</h1>
    
    <div id="readability-page-1" class="page"><div><p><strong>Author:</strong> Shiming Zhang (DaoCloud), Wei Huang (Apple), Yibo Zhuang (Apple)</p><p><img src="https://www.kubernetes.dev/blog/2023/03/01/introducing-kwok/kwok.svg" alt="KWOK logo"/></p><p>Have you ever wondered how to set up a cluster of thousands of nodes just in seconds, how to simulate real nodes with a low resource footprint, and how to test your Kubernetes controller at scale without spending much on infrastructure?</p><p>If you answered “yes” to any of these questions, then you might be interested in KWOK, a toolkit that enables you to create a cluster of thousands of nodes in seconds.</p><h2 id="what-is-kwok">What is KWOK?</h2><p>KWOK stands for Kubernetes WithOut Kubelet. So far, it provides two tools:</p><dl><dt><code>kwok</code></dt><dd><code>kwok</code> is the cornerstone of this project, responsible for simulating the lifecycle of fake nodes, pods, and other Kubernetes API resources.</dd><dt><code>kwokctl</code></dt><dd><code>kwokctl</code> is a CLI tool designed to streamline the creation and management of clusters, with nodes simulated by <code>kwok</code>.</dd></dl><h2 id="why-use-kwok">Why use KWOK?</h2><p>KWOK has several advantages:</p><ul><li><strong>Speed</strong>: You can create and delete clusters and nodes almost instantly, without waiting for boot or provisioning.</li><li><strong>Compatibility</strong>: KWOK works with any tools or clients that are compliant with Kubernetes APIs, such as kubectl, helm, kui, etc.</li><li><strong>Portability</strong>: KWOK has no specific hardware or software requirements. You can run it using pre-built images, once Docker or Nerdctl is installed. Alternatively, binaries are also available for all platforms and can be easily installed.</li><li><strong>Flexibility</strong>: You can configure different node types, labels, taints, capacities, conditions, etc., and you can configure different pod behaviors, status, etc. to test different scenarios and edge cases.</li><li><strong>Performance</strong>: You can simulate thousands of nodes on your laptop without significant consumption of CPU or memory resources.</li></ul><h2 id="what-are-the-use-cases">What are the use cases?</h2><p>KWOK can be used for various purposes:</p><ul><li><strong>Learning</strong>: You can use KWOK to learn about Kubernetes concepts and features without worrying about resource waste or other consequences.</li><li><strong>Development</strong>: You can use KWOK to develop new features or tools for Kubernetes without accessing to a real cluster or requiring other components.</li><li><strong>Testing</strong>:<ul><li>You can measure how well your application or controller scales with different numbers of nodes and(or) pods.</li><li>You can generate high loads on your cluster by creating many pods or services with different resource requests or limits.</li><li>You can simulate node failures or network partitions by changing node conditions or randomly deleting nodes.</li><li>You can test how your controller interacts with other components or features of Kubernetes by enabling different feature gates or API versions.</li></ul></li></ul><h2 id="what-are-the-limitations">What are the limitations?</h2><p>KWOK is not intended to replace others completely. It has some limitations that you should be aware of:</p><ul><li><strong>Functionality</strong>: KWOK is not a kubelet and may exhibit different behaviors in areas such as pod lifecycle management, volume mounting, and device plugins. Its primary function is to simulate updates of node and pod status.</li><li><strong>Accuracy</strong>: It’s important to note that KWOK doesn’t accurately reflect the performance or behavior of real nodes under various workloads or environments. Instead, it approximates some behaviors using simple formulas.</li><li><strong>Security</strong>: KWOK does not enforce any security policies or mechanisms on simulated nodes. It assumes that all requests from the kube-apiserver are authorized and valid.</li></ul><h2 id="getting-started">Getting started</h2><p>If you are interested in trying out KWOK, please check its <a href="https://kwok.sigs.k8s.io/">documents</a> for more details.</p><figure><img src="https://www.kubernetes.dev/blog/2023/03/01/introducing-kwok/manage-clusters.svg" alt="Animation of a terminal showing kwokctl in use"/><figcaption><p>Using kwokctl to manage simulated clusters</p></figcaption></figure><h2 id="getting-involved">Getting Involved</h2><p>If you’re interested in participating in future discussions or development related to KWOK, there are several ways to get involved:</p><ul><li>Slack: <a href="https://kubernetes.slack.com/messages/kwok/">#kwok</a> for general usage discussion, <a href="https://kubernetes.slack.com/messages/kwok-dev/">#kwok-dev</a> for development discussion. (visit <a href="https://slack.k8s.io/">slack.k8s.io</a> for a workspace invitation)</li><li>Open Issues/PRs/Discussions in <a href="https://sigs.k8s.io/kwok/">sigs.k8s.io/kwok</a></li></ul><p>We welcome feedback and contributions from anyone who wants to join us in this exciting project.</p></div></div>
  </body>
</html>
