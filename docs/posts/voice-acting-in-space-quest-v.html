<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/cdb-boop/Space-Quest-V-Voice-Acting-Mod">Original</a>
    <h1>Voice acting in Space Quest V</h1>
    
    <div id="readability-page-1" class="page"><div>    <p>Above is a very simple text adventure game, in the style of the classic <a href="https://en.wikipedia.org/wiki/Colossal_Cave_Adventure">Adventure</a>. It can be played directly in this page, and
    is written in Golem, a rule-based language designed especially for this purpose. Golem was described in <a href="https://hazure.neocities.org/articles/3i07.html">part 1 of this series</a>, and this game is a slightly improved version of the sample game from the previous article,
    where the dead ends have been fixed. The rules only describe the <em>logic</em> of the game, which can then be rendered
    in different ways; we previously saw a graphic interpretation, in this article, we have a look at a parser-based,
    text-only user interface which does not require any additional resources.</p> <p>In this style of interface, the player enters commands at a text prompt, like <code>take the stone</code> or <code>examine the fountain</code>. Recall that our rules could describe three main actions from the player: <em>looking</em> at an
    item, <em>taking</em> an item, and <em>using</em> an item with another:</p> <figure><pre># Looking at an item
stone: &#34;A plain looking stone that fits in the palm of your hand.&#34;

# Taking an item
stone, +You: +You [stone].

# Using an item with another item
stone, cavity: cavity+Filled.</pre> <figcaption>Three kinds of rules: look, take, use.</figcaption></figure> <p>This means that a Golem game can be played in a text interface using three verbs: <em>look</em>, <em>take</em>,
    and <em>use</em> (a few more verblike keywords are also needed, such as <em>inventory</em> to see what items the player
    currently carries, and <em>help</em>). A lot of modern graphical point-and-click adventure games do actually use such a
    small vocabulary compared to the early attempts that used a text parser (like the older Sierra games) or a grid of
    verbs (like the Lucasfilm classics). But these games also have graphics, animation and sound; for the purposes of a
    text-only game, a richer vocabulary is necessary. A simple extension to our language can require a specific verb to
    trigger a rule:</p> <figure><pre># Take the stone
take(+You, stone): +You [stone].

# Drink from the fountain
drink(+You, fountain): +You, fountain, &#34;The cold water tastes delicious.&#34;

# Drop the stone in the hole
drop(stone, hole): Tunnel [stone], hole, &#34;The stone dropped down in the
    darkness, but you can hear it hit the floor.&#34; </pre> <figcaption>Adding verbs to the rules.</figcaption></figure> <p>Rules define a subject and an object; the verb was inferred automatically. Now, it is also possible to introduce
    a verb first, with its subject and object as its two arguments: <code>Verb(Subject, Object)</code>. You (subject) take
    (verb) the stone (object). You drink from the fountain. The stone is dropped in the hole (actually, you drop the stone
    in the hole; we have to stretch the notion of subject a little bit in order to keep things simple). Another thing that
    we can do to keep things simple is keep verbless rules around, which is especially useful for descriptions (rules
    triggered by the verb <em>look</em>).</p> <p>One common gripe about text adventure games was that their parser could be very picky about the words that could
    be used. In our example so far, you can <code>look at the stone</code> but not <code>examine the fountain</code>, even though
    that was an example command above. In order to alleviate this problem, we need a way to define synonyms for the verbs
    that trigger rules: <em>examine</em> or <em>check</em> for <em>look</em>, <em>get</em> or <em>pick up</em> for <em>take</em>, &amp;c.
    Defining synonyms should be separated from defining game rule, since we usually want synonyms for <em>look</em> or <em>take</em> to apply to all rules triggered by that verb. Therefore, we need new syntax for synonyms. (Our user interface
    also has autocompletion, which can be helpful as it hints at what verbs are pertinent to the game.)</p> <p>Although we have not made much progress on that front just yet (look out for a further installment in this series
    in the future), the original goal of defining an adventure game in terms of rules was to create a <em>declarative</em> language amenable to static analysis; where the logic is clearly defined so that an automatic process is able to find
    dead ends or other issues. Synonyms are just a presentation issue and not really part of the logic of the game: whether
    the player types <code>take</code> or <code>get</code> has exactly the same effect. Adding rules for synonyms would only add
    noise that the analyser would have to filter out. However, we could look at synonyms as <em>metadata</em>, describing
    additional properties of rules that the renderer can make use of, and that the analyser can gleefully ignore.</p> <figure>
            <img src="https://hazure.neocities.org/images/cartoon-movies.png" alt="Medusa is sitting in a hair dresser chair while the serpents in her
    hair hiss menacingly at a hapless hair dresser."/>
            <figcaption>At the movies.</figcaption>
        </figure> <p>Metadata is useful for our system in general. It allows the description of more facts about the game that may be
    useful, but again do not concern the core logic itself: the game title, its author(s), publication date(s), what
    (natural) language is it written in (more on that topic later), and so on. We already have comments in the language,
    which could be considered as a kind of metadata, but these should not have any systematic meaning. It should make no
    difference whatsoever if they were all stripped from the source. Our metadata should on the other hand have systematic
    meaning, even structured meaning in some cases; therefore some kind of markup would be useful for that, hosting both
    rules and data <em>about</em> the rules. Fortunately, we happen to have such a language in our back pocket: <a href="https://hazure.neocities.org/articles/2i01.html">the Dodo ü¶§  markup language</a>!</p> <figure><pre>{ golem: &#34;The Cave&#34; date: 2024-11-10 lang: en

    { rules
        Cave+Loc [Alice+You [rope, knife], stone, hole]: &#34;You are in a
            mysterious cave.&#34;

        # A lot more rules...
    }

    { synonyms
        { take `{ get pick pick\ up } }
        { look `{ examine check } }
        { go `{ go\ through enter } }
        { put `{ dip shove } }
    }
}</pre> <figcaption>Embedding Golem rules in a Dodo file.</figcaption></figure> <p>Above is the source file for the game embedded in this article (with most rules omitted; we want to focus on the
    container, not the contents, at the moment). The root element is <code>golem</code> and the title of the game is given
    as the default attribute. Here we also have a completion date, and we declare that the language of the document, and
    hence the game, is English. The rules are embedded in the <code>rules</code> element. It is followed by a <code>synonyms</code> element that maps the verbs used in the rules (<code>take</code>, <code>go</code>, <code>put</code>) to their synonyms
    (with a bit of funky Dodo syntax to make lists and escape whitespace); the verb <code>look</code> does not appear in the
    rules, but it is a default verb for descriptions, so we can define some synonyms for it as well.</p> <p>A bit more about the parser and the importance of natural language. Our parser is extremely simplistic and only
    attempts to match verbs and nouns that are part of rules of the game; so when typing ‚Äúgo down the hole‚Äù, all the
    parser really sees is the verb <em>go</em> and the noun <em>hole</em> which match the vocabulary derived from the rules.
    You could also type ‚ÄúI wonder if it is possible to go down the hole?‚Äù or ‚Äúhole go!‚Äù for the same effect. Finally,
    defining a language for the game would be useful if the system supported proper internationalization, so that all the
    user interface text (the prompt placeholder, the response to commands that cannot be parsed, the proper rendering of
    location description, &amp;c.) can be localized to match games written in languages other than English. But this is
    future work. ‚öÄ‚öÇ</p> </div></div>
  </body>
</html>
