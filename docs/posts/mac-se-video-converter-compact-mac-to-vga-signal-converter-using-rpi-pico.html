<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/guruthree/mac-se-video-converter">Original</a>
    <h1>Mac-se-video-converter: Compact Mac to VGA signal converter using rPi Pico</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">Convert the video output of a Mac Plus/SE/Classic using a Raspberry Pi Pico to one of:</p>
<ul dir="auto">
<li>A VESA compatible VGA signal.</li>
<li>Monochrome composite video.</li>
</ul>
<p dir="auto">This is an active adapter that digitally reads the Mac&#39;s 512x342@60.15 and converts it. The VGA signal is to 1024x768@70.2 which should work with any VESA compatible VGA monitor. Composite video output is PAL 288p@50/576i@50 format. (Composite video should work with NTSC 480i@60 with some currently unwritten code tweaks.)</p>
<p dir="auto">My use case for this is using an old Mac SE motherboard I have saved from back in the day. I imagine it could also be useful for if your CRT has died and can&#39;t source another, or for direct video capture.</p>
<p dir="auto">Note, this has only been tested on a Mac SE, but the video signals should be the same.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-screenshotspicturesvideos" aria-hidden="true" href="#screenshotspicturesvideos"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Screenshots/Pictures/Videos</h3>
<p dir="auto">A YouTube video describing how it works:</p>
<p dir="auto"><a href="https://youtu.be/mNs1JePWvmg" rel="nofollow"><img src="https://github.com/guruthree/mac-se-video-converter/raw/main/resources/youtube-thumb.jpg" alt="Bringing a Mac SE back to life with a Raspberry Pi Pico #Marchintosh 2023"/></a></p>
<p dir="auto">The VGA picture on an LCD:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/guruthree/mac-se-video-converter/blob/main/resources/screenshot.jpg"><img src="https://github.com/guruthree/mac-se-video-converter/raw/main/resources/screenshot.jpg" alt="A picture of it in action of my NEC LCD1450NX"/></a></p>
<p dir="auto">Wired up for VGA:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/guruthree/mac-se-video-converter/blob/main/resources/whole_setup.jpg"><img src="https://github.com/guruthree/mac-se-video-converter/raw/main/resources/whole_setup.jpg" alt="The whole setup"/></a></p>
<p dir="auto">Composite video on my PVM:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/guruthree/mac-se-video-converter/blob/main/resources/composite.jpg"><img src="https://github.com/guruthree/mac-se-video-converter/raw/main/resources/composite.jpg" alt="Composite video output"/></a></p>
<p dir="auto">(Instead of interlacing, progressive scan is used to avoid being a flickery mess. Every 5th line skipped.)</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-hardware-requirements" aria-hidden="true" href="#hardware-requirements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Hardware Requirements</h2>
<ul dir="auto">
<li>A Raspberry Pi Pico</li>
<li>A logic level converter</li>
<li>A breadboard might be useful</li>
</ul>
<p dir="auto">For VGA output, a Pico VGA demo board or equivalent is needed:</p>
<ul dir="auto">
<li><a href="https://shop.pimoroni.com/products/pimoroni-pico-vga-demo-base?variant=32369520672851" rel="nofollow">Pimoroni Pico VGA Demo Base</a></li>
<li><a href="https://buyzero.de/products/raspberry-pi-pico-vga-audio-sd-expansion-board?variant=39412666335412" rel="nofollow">pi3g</a></li>
<li>Build your own from <a href="https://datasheets.raspberrypi.com/rp2040/hardware-design-with-rp2040.pdf" rel="nofollow">schematics</a></li>
</ul>
<p dir="auto">For composite video output, a resistor digital-to-analog converter, or DAC, is needed. The code is written to use the DAC from the VGA demo board, so the easiest solution for composite video is also a VGA demo board.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-vga-on-the-cheap" aria-hidden="true" href="#vga-on-the-cheap"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>VGA on the cheap</h3>
<p dir="auto">I did this project to use my VGA demo board, but there&#39;s nothing that specifically requires it. This project can be done on the cheap with just the Pico in a bread board, the logic level converter, some resistors, and Dupont wires. I believe it would work something like this:</p>
<ul dir="auto">
<li>One 47 Ω resistor for any one of the R/G/B GPIO pins (e.g. GPIO 4) in the schematic to convert from 3.3 V to around 1 V, with after the resistor tied to the R/G/B pins of the VGA plug.</li>
<li>The 47 Ω resistor again from the HSYNC and VSYNC out GPIO pins (16 and 17).</li>
<li>The rest of the wiring for the logic level conversion and video signal in would be the same, as described below.</li>
</ul>
<p dir="auto">Combined with an off-brand logic level converter, I&#39;d guess you could build everything for less than 20 USD/GBP. (<strong>Warning:</strong> I haven&#39;t built this, so I don&#39;t know for sure if exactly what I&#39;ve described works, but something similar should according to the VGA demo board schematics the Raspberry Pi Foundation have provided. If you do build it, let me know so I can update this!)</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-composite-on-the-cheap" aria-hidden="true" href="#composite-on-the-cheap"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Composite on the cheap</h3>
<p dir="auto">Composite video output requires a simple resistor DAC, like the one used on the VGA board. One can be built using 5 resistors with values of 8.06 kΩ, 4.02 kΩ, 2 kΩ, 1 kΩ, and 499 Ω connected to GPIO 0 through GPIO 4, with the output of all the resistors tied together.</p>
<p dir="auto">As with VGA on the cheap, the rest of the wiring, etc., would be the same and it could all be built at very low cost.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-software-requirements" aria-hidden="true" href="#software-requirements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Software Requirements</h2>
<ul dir="auto">
<li><a href="https://github.com/raspberrypi/pico-sdk%5D">Pico C SDK</a></li>
<li><a href="https://github.com/raspberrypi/pico-extras">Pico Extras</a></li>
</ul>
<p dir="auto">When compiling you&#39;ll need to make sure <code>pico_sdk_import.cmake</code> and <code>pico_extras_import.cmake</code> are in the root of the repository. After creating <code>build</code> and <code>generated</code> folders, <code>cd build &amp;&amp; cmake .. &amp;&amp; make</code> as usual.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-wiring" aria-hidden="true" href="#wiring"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Wiring</h3>
<p dir="auto">A harness or other connection to the Mac SE logic board will be needed for the VIDEO, HSYNC, VSYNC, GND, and +5V signals to be connected to the Pico. The VIDEO, HSYNC, and VSYNC signals are 5V logic, which will need to be converted to 3.3V logic for the Pico. Something like the <a href="https://www.sparkfun.com/products/12009" rel="nofollow">SparkFun Logic Level Converter</a> can be used. Wire up the Mac to the HV side and the Pico to the LV side.</p>
<p dir="auto">The wiring should look like this:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/guruthree/mac-se-video-converter/blob/main/resources/wiring.png"><img src="https://github.com/guruthree/mac-se-video-converter/raw/main/resources/wiring.png" alt="Wiring overview"/></a></p>
<p dir="auto">I have made a power/data harness from an old ATX power supply 20-pin cable and old motherboard ATX 20-pin connector. This rewires an older ATX power supply to provide the Mac SE motherboard with power and also break out the needed pins for video.</p>
<p dir="auto"><strong>Important:</strong> It seems that there may be a few variations of the logic board connector, please make sure you have the correct pin out for your board!!!</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-vga-board-modifications" aria-hidden="true" href="#vga-board-modifications"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>VGA board modifications</h3>
<p dir="auto">The VGA demo board will need to be modified slightly. These directions are with reference to the Pimoroni VGA board.</p>
<ul dir="auto">
<li>
<p dir="auto">As the Pico will be powered via the Mac&#39;s power supply, the trace between VBUS and VSYS at the top right of the board should be cut. A header can be added on the VSYS (right) side to provide power.</p>
</li>
<li>
<p dir="auto">A 3.3V reference voltage is needed for the logic level converter, so a small wire will need to be soldered to the &#39;+&#39; pad on the right hand side 20-pin connector to provide this.</p>
</li>
<li>
<p dir="auto">3 digital inputs are needed. Two of these are provided by the GP21 and GP20 headers that can be soldered on, for which the traces connecting them to SDD1 and SDD2 will need to be cut and headers soldered on. The third pin can be provided by GPIO 22, which will need to be soldered onto the 22 pad of the right hand side 20-pin connector. <em>Note:</em> With this modification I&#39;m pretty sure the SD card cannot be used at the same time as video conversion.</p>
</li>
<li>
<p dir="auto">A ground header will need to be soldered on.</p>
</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/guruthree/mac-se-video-converter/blob/main/resources/vga_board.jpg"><img src="https://github.com/guruthree/mac-se-video-converter/raw/main/resources/vga_board.jpg" alt="A modified Pimoroni Pico VGA demo board"/></a></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-composite-video-connection" aria-hidden="true" href="#composite-video-connection"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Composite video connection</h3>
<p dir="auto">By default, the code assumes you are using composite video output through the VGA demo board. In which case, connect the composite video signal to the VGA pin 1 (the top right most pin). A ground connection can be made on pin 6 (the right most pin on the middle row).</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/guruthree/mac-se-video-converter/blob/main/resources/compositedemoboard.jpg"><img src="https://github.com/guruthree/mac-se-video-converter/raw/main/resources/compositedemoboard.jpg" alt="Composite out of the VGA demo board"/></a></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-software" aria-hidden="true" href="#software"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Software</h3>
<p dir="auto">If you wire things up as described above, nothing special required! Just copy the <code>mac.uf2</code> file to the Pico and that&#39;s it!</p>
<p dir="auto">If you use an alternate video input pin configuration, the pin assignments can be changed at the top of the <code>se.h</code> file.</p>
<p dir="auto">Choice of VGA or composite video output is specified in <code>mac.c</code> by setting the define for <code>OUTPUT_MODE</code> to 0 or 1 respectively.</p>
<p dir="auto">If you&#39;re using composite video mode, there are several options for it in <code>composite.h</code>:</p>
<ul dir="auto">
<li>Choosing between PAL and NTSC outputs (the latter is currently not written, PRs welcome) is set using the define for <code>Timings</code>.</li>
<li>The define <code>CONVERSION_MODE</code> can be set to 0 or 1 to specify half-resolution interlacing or skipping every 5 the line. Default is skipping lines as interlacing is a flickery mess.</li>
<li>If a custom resistor DAC is used, <code>dac.pio</code> will need to be modified to set the <code>DIVISIONS_PER_VOLT</code> define to the equivalent DAC voltage assuming 8-bits were set and the PIO <code>out</code> instructions and the <code>DAC_PIN_COUNT</code> define changed to reflect the number of pins used by your DAC.</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-troubleshooting" aria-hidden="true" href="#troubleshooting"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Troubleshooting</h2>
<p dir="auto">The screen is flickering/tearing, is that normal?</p>
<ul dir="auto">
<li>Yes there is a mismatch between the 60 Hz refresh rate output from the Mac and the conversion to the 70 Hz refresh rate of the VGA, which can result in flickering/tearing. Unfortunately there&#39;s no way around this. The refresh rate mismatch is necessary in order to be able to have the underlying pixel clocks be multiples of each other, needed for the PIO clock to be divisible by the system clock of the Pico.</li>
</ul>
<p dir="auto">The colors are inverted! Black is white and white is black!</p>
<ul dir="auto">
<li>Well that&#39;s odd, but can be corrected. Edit <code>mac.c</code> to change the define for <code>INVERTED_SIGNAL</code> to 1 and then rebuild.</li>
</ul>
<p dir="auto">The screen is chopped off to the left and the right.</p>
<ul dir="auto">
<li>
<p dir="auto">Are you sure your monitor is handling the VGA signal properly? You may need to adjust the geometry to center the picture correctly.</p>
</li>
<li>
<p dir="auto">It&#39;s possible your Mac&#39;s timings are slightly different than my Mac&#39;s. The amount of time needed to wait until picture pixel data is received can be changed in the <code>videoinput.pio</code> file. See the <code>pixelskiploop</code> assembly label. To move the picture to the left change <code>set y, 31</code> to a lower number to shift the image left. To shift the image right, copy paste the loop with a new label. To make fine adjustments, remove/add <code>nop [5]</code> commands to shift left and right respectively by one pixel.</p>
</li>
</ul>
<p dir="auto">Some rows of pixels look like they&#39;re flickering side to side by a pixel or two.</p>
<ul dir="auto">
<li>I observed this after running the full MacBench 2.0 test suite to test out my Radius Accelerator 25. I have no idea what could be the underlying issue, maybe some cycles got skipped or missed due to CPU load? A reset of my Mac SE fixed the issue.</li>
</ul>
<p dir="auto">Some pixels are flickering black, maybe in a row or column.</p>
<ul dir="auto">
<li>There is probably a slight signal timing mismatch. In <code>videoinput.pio</code> add/remove <em>single</em> <code>nop</code> commands before the <code>mov y, osr</code> before pixel loop. By single, I mean either <code>nop</code> on its own or changing <code>nop [23]</code> to <code>nop [22]</code> or to <code>nop [24]</code>.</li>
</ul>
<p dir="auto">Some, but not all, rows of pixels are misaligned and off the screen.</p>
<ul dir="auto">
<li>
<p dir="auto">Oh dear. The code did this originally and was very difficult to fix. Try the previous fix.</p>
</li>
<li>
<p dir="auto">Even more oh dear. I believe the underling issue is a timing issue with the horizontal sync matching up with the PIO clock. Maybe. I&#39;m not entirely sure how I fixed this other than by working on the PIO code in <code>videoinput.pio</code>. Try fiddling around with the <code>wait X pin 1</code> commands that wait for the horizontal sync. Maybe move it to right before the final <code>jmp x-- hsyncloop</code>. The perfect combination is out there.</p>
</li>
</ul>
<p dir="auto">The picture is rolling sideways.</p>
<ul dir="auto">
<li>Oh dear times three. See the previous issue.</li>
</ul>
<p dir="auto">The composite video picture doesn&#39;t look good.</p>
<ul dir="auto">
<li>Yes.</li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-tested-macs" aria-hidden="true" href="#tested-macs"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Tested Macs</h3>
<ul dir="auto">
<li>Macintosh SE FDHD</li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-tested-screens" aria-hidden="true" href="#tested-screens"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Tested screens</h3>
<p dir="auto">These screens have been reported to work/not work. Please submit PRs/issues if you have tested other screens so that this list can be updated.</p>
<table>
<thead>
<tr>
<th>Brand</th>
<th>Model</th>
<th>Works?</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>AOC</td>
<td>2250W</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>CTX</td>
<td>1565D</td>
<td>YES</td>
<td>CRT</td>
</tr>
<tr>
<td>Lenovo</td>
<td>T24h-20</td>
<td>YES</td>
<td>(via HDMI adapter)</td>
</tr>
<tr>
<td>NEC</td>
<td>LCD1450NX</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>Sony</td>
<td>KDL-37S5500</td>
<td>NO</td>
<td>TV, neither VGA nor HDMI</td>
</tr>
<tr>
<td>Sony</td>
<td>PVM-9220ME</td>
<td>YES</td>
<td>Composite video</td>
</tr>
</tbody>
</table>
</article>
          </div></div>
  </body>
</html>
