<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/fzyzcjy/dart_interactive">Original</a>
    <h1>REPL for Dart</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><div dir="auto"><a id="user-content-dart_interactive" aria-label="Permalink: dart_interactive" href="#dart_interactive"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://pub.dev/packages/interactive" rel="nofollow"><img src="https://camo.githubusercontent.com/26b69028358139b1825003682b906b06613a936b3fa2abbff859e44d4b203393/68747470733a2f2f696d672e736869656c64732e696f2f7075622f762f696e7465726163746976652e737667" alt="Flutter Package" data-canonical-src="https://img.shields.io/pub/v/interactive.svg"/></a>
<a href="https://github.com/fzyzcjy/dart_interactive/actions/workflows/ci.yaml"><img src="https://github.com/fzyzcjy/dart_interactive/actions/workflows/ci.yaml/badge.svg" alt="CI"/></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/fzyzcjy/dart_interactive/master/doc/logo.svg"><img src="https://raw.githubusercontent.com/fzyzcjy/dart_interactive/master/doc/logo.svg" alt=""/></a></p>
<p dir="auto">A lot of sibling languages have a REPL, and is quite helpful in everyday usage, while Dart did not have it (even though it was the <a href="https://github.com/dart-lang/sdk/issues?q=is%3Aissue+is%3Aopen+sort%3Areactions-%2B1-desc">7th</a> highest-voted request). So here it comes!</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">ðŸš€ Features</h2><a id="user-content--features" aria-label="Permalink: ðŸš€ Features" href="#-features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">A full-featured REPL (interactive shell), with:</p>
<ul dir="auto">
<li>Use any third-party package freely</li>
<li>Auto hot-reload code anywhere, with state preserved</li>
<li>Supports full grammar in REPL</li>
<li>Play with existing code side-by-side</li>
</ul>
<div dir="auto"><h2 tabindex="-1" dir="auto">ðŸ“š Demo</h2><a id="user-content--demo" aria-label="Permalink: ðŸ“š Demo" href="#-demo"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Demo 1: Demonstrate features</h3><a id="user-content-demo-1-demonstrate-features" aria-label="Permalink: Demo 1: Demonstrate features" href="#demo-1-demonstrate-features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ol dir="auto">
<li>Use 3rd party package</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; !dart pub add path // normal shell command
&gt;&gt;&gt; import &#39;package:path/path.dart&#39;; // normal import
&gt;&gt;&gt; join(&#39;directory&#39;, &#39;file.txt&#39;) // use it (`join` is a function in 3rd party package `path`)
directory/file.txt"><pre><span>&gt;&gt;&gt;</span> <span>!</span>dart pub add path <span>// normal shell command</span>
<span>&gt;&gt;&gt;</span> import <span>&#39;package:path/path.dart&#39;</span>; <span>// normal import</span>
<span>&gt;&gt;&gt;</span> <span>join</span>(<span>&#39;directory&#39;</span>, <span>&#39;file.txt&#39;</span>) <span>// use it (`join` is a function in 3rd party package `path`)</span>
directory<span>/</span>file.txt</pre></div>
<ol start="2" dir="auto">
<li>Auto hot-reload</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; import &#39;a.dart&#39;;
&gt;&gt;&gt; myFunc()
hello, tom
// ... change content of `a.dart` ...
&gt;&gt;&gt; myFunc()
hello, alex"><pre><span>&gt;&gt;&gt;</span> import <span>&#39;a.dart&#39;</span>;
<span>&gt;&gt;&gt;</span> <span>myFunc</span>()
hello, tom
<span>// ... change content of `a.dart` ...</span>
<span>&gt;&gt;&gt;</span> <span>myFunc</span>()
hello, alex</pre></div>
<ol start="3" dir="auto">
<li>Support full grammar</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; a = 10;
// support rich grammar
&gt;&gt;&gt; int g() =&gt; a++; class A {} class B {}
... class C extends A implements B {
...   int b = 20;
...   int f() { int c = 30; a++; b++; c++; return a+b+c+g(); }
... }
&gt;&gt;&gt; c = C()
&gt;&gt;&gt; c.f()
74
// support redefine class/method/...
&gt;&gt;&gt; class C extends A implements B { int b = 20; int f() =&gt; b; }
&gt;&gt;&gt; c.f()
21"><pre><span>&gt;&gt;&gt;</span> a <span>=</span> <span>10</span>;
<span>// support rich grammar</span>
<span>&gt;&gt;&gt;</span> <span>int</span> <span>g</span>() <span>=&gt;</span> a<span>++</span>; <span>class</span> <span>A</span> {} <span>class</span> <span>B</span> {}
... <span>class</span> <span>C</span> <span>extends</span> <span>A</span> <span>implements</span> <span>B</span> {
...   <span>int</span> b <span>=</span> <span>20</span>;
...   <span>int</span> <span>f</span>() { <span>int</span> c <span>=</span> <span>30</span>; a<span>++</span>; b<span>++</span>; c<span>++</span>; <span>return</span> a<span>+</span>b<span>+</span>c<span>+</span><span>g</span>(); }
... }
<span>&gt;&gt;&gt;</span> c <span>=</span> <span>C</span>()
<span>&gt;&gt;&gt;</span> c.<span>f</span>()
<span>74</span>
<span>// support redefine class/method/...</span>
<span>&gt;&gt;&gt;</span> <span>class</span> <span>C</span> <span>extends</span> <span>A</span> <span>implements</span> <span>B</span> { <span>int</span> b <span>=</span> <span>20</span>; <span>int</span> <span>f</span>() <span>=&gt;</span> b; }
<span>&gt;&gt;&gt;</span> c.<span>f</span>()
<span>21</span></pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Demo 2: Sample workflow</h3><a id="user-content-demo-2-sample-workflow" aria-label="Permalink: Demo 2: Sample workflow" href="#demo-2-sample-workflow"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Surely, you do not <em>have to</em> use it like this. It is just a workflow that I personally feel comfortable when working with IPython/Juypter.</p>
<p dir="auto">Suppose we have <code>my_app.dart</code> with some code, probably edited inside an IDE:</p>
<div dir="auto" data-snippet-clipboard-copy-content="class Counter {
  int count = 0;
  String greet() =&gt; &#39;Hi Tom, you have count $count!&#39;;
}"><pre><span>class</span> <span>Counter</span> {
  <span>int</span> count <span>=</span> <span>0</span>;
  <span>String</span> <span>greet</span>() <span>=&gt;</span> <span>&#39;Hi Tom, you have count $<span>count</span>!&#39;</span>;
}</pre></div>
<p dir="auto">Play with it a bit:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ interactive --directory path/to/my/package
&gt;&gt;&gt; import &#39;my_app.dart&#39;;
&gt;&gt;&gt; counter = Counter();
&gt;&gt;&gt; counter.count = 10;
&gt;&gt;&gt; counter.greet()
Hi Tom, you have count 10!
&gt;&gt;&gt; counter.count = 20;
&gt;&gt;&gt; counter.greet()
Hi Tom, you have count 20!"><pre>$ interactive <span>--</span>directory path<span>/</span>to<span>/</span>my<span>/</span>package
<span>&gt;&gt;&gt;</span> import <span>&#39;my_app.dart&#39;</span>;
<span>&gt;&gt;&gt;</span> counter <span>=</span> <span>Counter</span>();
<span>&gt;&gt;&gt;</span> counter.count <span>=</span> <span>10</span>;
<span>&gt;&gt;&gt;</span> counter.<span>greet</span>()
<span>Hi</span> <span>Tom</span>, you have count <span>10</span><span>!</span>
<span>&gt;&gt;&gt;</span> counter.count <span>=</span> <span>20</span>;
<span>&gt;&gt;&gt;</span> counter.<span>greet</span>()
<span>Hi</span> <span>Tom</span>, you have count <span>20</span><span>!</span></pre></div>
<p dir="auto">Then we realize something wrong and want to change it:</p>
<div dir="auto" data-snippet-clipboard-copy-content="(change &#34;Tom&#34; to &#34;Alex&#34; inside `my_app.dart`)"><pre>(change <span>&#34;Tom&#34;</span> to <span>&#34;Alex&#34;</span> inside `my_app.dart`)</pre></div>
<p dir="auto">Continue playing with it (auto hot reloaded, and state preserved):</p>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; counter.greet()
Hi Alex, you have count 20!"><pre><span>&gt;&gt;&gt;</span> counter.<span>greet</span>()
<span>Hi</span> <span>Alex</span>, you have count <span>20</span><span>!</span></pre></div>
<p dir="auto">We can also use all dependencies in the package as well, since the REPL code is just like a normal code file in this package.</p>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; import &#39;package:whatever_package&#39;;
&gt;&gt;&gt; functionInWhateverPackage();"><pre><span>&gt;&gt;&gt;</span> import <span>&#39;package:whatever_package&#39;</span>;
<span>&gt;&gt;&gt;</span> <span>functionInWhateverPackage</span>();</pre></div>
<div dir="auto"><h2 tabindex="-1" dir="auto">ðŸŽ¼ Getting started</h2><a id="user-content--getting-started" aria-label="Permalink: ðŸŽ¼ Getting started" href="#-getting-started"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Install (just standard procedure of installing global dart packages):</p>
<div dir="auto" data-snippet-clipboard-copy-content="dart pub global activate interactive"><pre>dart pub global activate interactive</pre></div>
<p dir="auto">Use (just a normal binary):</p>
<div dir="auto" data-snippet-clipboard-copy-content="interactive"><pre>interactive</pre></div>
<p dir="auto">And play with it :)</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Detailed functionality list</h2><a id="user-content-detailed-functionality-list" aria-label="Permalink: Detailed functionality list" href="#detailed-functionality-list"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Expressions</h3><a id="user-content-expressions" aria-label="Permalink: Expressions" href="#expressions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; a = &#39;Hello&#39;; b = &#39; world!&#39;; 
&gt;&gt;&gt; &#39;$a, $b&#39;                   
Hello,  world!"><pre><span>&gt;&gt;&gt;</span> a <span>=</span> <span>&#39;Hello&#39;</span>; b <span>=</span> <span>&#39; world!&#39;</span>; 
<span>&gt;&gt;&gt;</span> <span>&#39;$<span>a</span>, $<span>b</span>&#39;</span>                   
<span>Hello</span>,  world<span>!</span></pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Statements</h3><a id="user-content-statements" aria-label="Permalink: Statements" href="#statements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; print(a)
Hello"><pre><span>&gt;&gt;&gt;</span> <span>print</span>(a)
<span>Hello</span></pre></div>
<p dir="auto">(All methods, not only <code>print</code>)</p>
<div dir="auto"><h3 tabindex="-1" dir="auto">Functions</h3><a id="user-content-functions" aria-label="Permalink: Functions" href="#functions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Define and redefine</h4><a id="user-content-define-and-redefine" aria-label="Permalink: Define and redefine" href="#define-and-redefine"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; String f() =&gt; &#39;old&#39;;
&gt;&gt;&gt; f()
old
&gt;&gt;&gt; String f() =&gt; &#39;new&#39;;
&gt;&gt;&gt; f()
new"><pre><span>&gt;&gt;&gt;</span> <span>String</span> <span>f</span>() <span>=&gt;</span> <span>&#39;old&#39;</span>;
<span>&gt;&gt;&gt;</span> <span>f</span>()
old
<span>&gt;&gt;&gt;</span> <span>String</span> <span>f</span>() <span>=&gt;</span> <span>&#39;new&#39;</span>;
<span>&gt;&gt;&gt;</span> <span>f</span>()
<span>new</span></pre></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Use local and global variables</h4><a id="user-content-use-local-and-global-variables" aria-label="Permalink: Use local and global variables" href="#use-local-and-global-variables"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; a = 10;
&gt;&gt;&gt; int f() { int b = 20; a++; b++; return a+b; }
&gt;&gt;&gt; f() 
32
&gt;&gt;&gt; f()
33"><pre><span>&gt;&gt;&gt;</span> a <span>=</span> <span>10</span>;
<span>&gt;&gt;&gt;</span> <span>int</span> <span>f</span>() { <span>int</span> b <span>=</span> <span>20</span>; a<span>++</span>; b<span>++</span>; <span>return</span> a<span>+</span>b; }
<span>&gt;&gt;&gt;</span> <span>f</span>() 
<span>32</span>
<span>&gt;&gt;&gt;</span> <span>f</span>()
<span>33</span></pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Classes</h3><a id="user-content-classes" aria-label="Permalink: Classes" href="#classes"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Define and redefine, preserving states</h4><a id="user-content-define-and-redefine-preserving-states" aria-label="Permalink: Define and redefine, preserving states" href="#define-and-redefine-preserving-states"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; class C { int a = 10; int f() =&gt; a * 2; }
&gt;&gt;&gt; c = C(); print(c.f());
20
&gt;&gt;&gt; class C { int a = 1000; int f() =&gt; a * 3; }
&gt;&gt;&gt; c.f()
30"><pre><span>&gt;&gt;&gt;</span> <span>class</span> <span>C</span> { <span>int</span> a <span>=</span> <span>10</span>; <span>int</span> <span>f</span>() <span>=&gt;</span> a <span>*</span> <span>2</span>; }
<span>&gt;&gt;&gt;</span> c <span>=</span> <span>C</span>(); <span>print</span>(c.<span>f</span>());
<span>20</span>
<span>&gt;&gt;&gt;</span> <span>class</span> <span>C</span> { <span>int</span> a <span>=</span> <span>1000</span>; <span>int</span> <span>f</span>() <span>=&gt;</span> a <span>*</span> <span>3</span>; }
<span>&gt;&gt;&gt;</span> c.<span>f</span>()
<span>30</span></pre></div>
<p dir="auto">Remark: This follows the Dart hot reload semantics.</p>
<div dir="auto"><h4 tabindex="-1" dir="auto">Extends and implements</h4><a id="user-content-extends-and-implements" aria-label="Permalink: Extends and implements" href="#extends-and-implements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; class A { int f() =&gt; 10; } class B extends A { int f() =&gt; 20; }
&gt;&gt;&gt; A().f() + B().f()
30
&gt;&gt;&gt; class B implements A { int f() =&gt; 30; }
&gt;&gt;&gt; A().f() + B().f()
40"><pre><span>&gt;&gt;&gt;</span> <span>class</span> <span>A</span> { <span>int</span> <span>f</span>() <span>=&gt;</span> <span>10</span>; } <span>class</span> <span>B</span> <span>extends</span> <span>A</span> { <span>int</span> <span>f</span>() <span>=&gt;</span> <span>20</span>; }
<span>&gt;&gt;&gt;</span> <span>A</span>().<span>f</span>() <span>+</span> <span>B</span>().<span>f</span>()
<span>30</span>
<span>&gt;&gt;&gt;</span> <span>class</span> <span>B</span> <span>implements</span> <span>A</span> { <span>int</span> <span>f</span>() <span>=&gt;</span> <span>30</span>; }
<span>&gt;&gt;&gt;</span> <span>A</span>().<span>f</span>() <span>+</span> <span>B</span>().<span>f</span>()
<span>40</span></pre></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Use local variables, fields, and global variables</h4><a id="user-content-use-local-variables-fields-and-global-variables" aria-label="Permalink: Use local variables, fields, and global variables" href="#use-local-variables-fields-and-global-variables"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; a = 10;
&gt;&gt;&gt; class C { int b = 20; int f() { int c = 30; a++; b++; c++; return a+b+c; } }
&gt;&gt;&gt; c = C(); print(c.f()); print(c.f());
63
65"><pre><span>&gt;&gt;&gt;</span> a <span>=</span> <span>10</span>;
<span>&gt;&gt;&gt;</span> <span>class</span> <span>C</span> { <span>int</span> b <span>=</span> <span>20</span>; <span>int</span> <span>f</span>() { <span>int</span> c <span>=</span> <span>30</span>; a<span>++</span>; b<span>++</span>; c<span>++</span>; <span>return</span> a<span>+</span>b<span>+</span>c; } }
<span>&gt;&gt;&gt;</span> c <span>=</span> <span>C</span>(); <span>print</span>(c.<span>f</span>()); <span>print</span>(c.<span>f</span>());
<span>63</span>
<span>65</span></pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Add libraries as dependency</h3><a id="user-content-add-libraries-as-dependency" aria-label="Permalink: Add libraries as dependency" href="#add-libraries-as-dependency"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Use <code>!dart pub add package_name</code>, just like what is done in Python (Jupyter/IPython).</p>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; join(&#39;directory&#39;, &#39;file.txt&#39;)
(...error, since have not added that dependency...)
&gt;&gt;&gt; !dart pub add path
Resolving dependencies...

+ path 1.8.2

Changed 1 dependency!

&gt;&gt;&gt; join(&#39;directory&#39;, &#39;file.txt&#39;)
(...error, since have imported it...)
&gt;&gt;&gt; import &#39;package:path/path.dart&#39;;
&gt;&gt;&gt; join(&#39;directory&#39;, &#39;file.txt&#39;)   
directory/file.txt"><pre><span>&gt;&gt;&gt;</span> <span>join</span>(<span>&#39;directory&#39;</span>, <span>&#39;file.txt&#39;</span>)
(...error, since have not added that dependency...)
<span>&gt;&gt;&gt;</span> <span>!</span>dart pub add path
<span>Resolving</span> dependencies...

<span>+</span> path <span>1.8</span>.<span>2</span>

<span>Changed</span> <span>1</span> dependency<span>!</span>

<span>&gt;&gt;&gt;</span> <span>join</span>(<span>&#39;directory&#39;</span>, <span>&#39;file.txt&#39;</span>)
(...error, since have imported it...)
<span>&gt;&gt;&gt;</span> import <span>&#39;package:path/path.dart&#39;</span>;
<span>&gt;&gt;&gt;</span> <span>join</span>(<span>&#39;directory&#39;</span>, <span>&#39;file.txt&#39;</span>)   
directory<span>/</span>file.txt</pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Imports</h3><a id="user-content-imports" aria-label="Permalink: Imports" href="#imports"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Built-in package</h4><a id="user-content-built-in-package" aria-label="Permalink: Built-in package" href="#built-in-package"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; Random().nextInt(100)
(some error outputs here, because it is not imported)
&gt;&gt;&gt; import &#34;dart:math&#34;;
&gt;&gt;&gt; Random().nextInt(100)
9"><pre><span>&gt;&gt;&gt;</span> <span>Random</span>().<span>nextInt</span>(<span>100</span>)
(some error outputs here, because it <span>is</span> not imported)
<span>&gt;&gt;&gt;</span> import <span>&#34;dart:math&#34;</span>;
<span>&gt;&gt;&gt;</span> <span>Random</span>().<span>nextInt</span>(<span>100</span>)
<span>9</span></pre></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Third party package</h4><a id="user-content-third-party-package" aria-label="Permalink: Third party package" href="#third-party-package"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Note: If it has not been added to dependency, please follow instructions above and use <code>!dart pub add path</code> to add it.</p>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; join(&#39;directory&#39;, &#39;file.txt&#39;)
(...error, since have imported it...)
&gt;&gt;&gt; import &#39;package:path/path.dart&#39;;
&gt;&gt;&gt; join(&#39;directory&#39;, &#39;file.txt&#39;)   
directory/file.txt"><pre><span>&gt;&gt;&gt;</span> <span>join</span>(<span>&#39;directory&#39;</span>, <span>&#39;file.txt&#39;</span>)
(...error, since have imported it...)
<span>&gt;&gt;&gt;</span> import <span>&#39;package:path/path.dart&#39;</span>;
<span>&gt;&gt;&gt;</span> <span>join</span>(<span>&#39;directory&#39;</span>, <span>&#39;file.txt&#39;</span>)   
directory<span>/</span>file.txt</pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Multiple in one go</h3><a id="user-content-multiple-in-one-go" aria-label="Permalink: Multiple in one go" href="#multiple-in-one-go"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; int g() =&gt; 42; class C { int a = 10; int f() =&gt; a * 2; }
&gt;&gt;&gt; C().f() + g()
62"><pre><span>&gt;&gt;&gt;</span> <span>int</span> <span>g</span>() <span>=&gt;</span> <span>42</span>; <span>class</span> <span>C</span> { <span>int</span> a <span>=</span> <span>10</span>; <span>int</span> <span>f</span>() <span>=&gt;</span> a <span>*</span> <span>2</span>; }
<span>&gt;&gt;&gt;</span> <span>C</span>().<span>f</span>() <span>+</span> <span>g</span>()
<span>62</span></pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Multi line if not ended</h3><a id="user-content-multi-line-if-not-ended" aria-label="Permalink: Multi line if not ended" href="#multi-line-if-not-ended"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">(The <code>...</code>, instead of <code>&gt;&gt;&gt;</code>, appears in the two lines, because the package detects it is not finished.)</p>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; class C {
...   int a = 10;
... }
&gt;&gt;&gt; "><pre><span>&gt;&gt;&gt;</span> <span>class</span> <span>C</span> {
...   <span>int</span> a <span>=</span> <span>10</span>;
... }
<span>&gt;&gt;&gt;</span> </pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Run commands</h3><a id="user-content-run-commands" aria-label="Permalink: Run commands" href="#run-commands"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Use prefix <code>!</code>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="&gt;&gt;&gt; !whoami
tom
&gt;&gt;&gt; !date
2022-10-22 ...outputs..."><pre><span>&gt;&gt;&gt;</span> <span>!</span>whoami
tom
<span>&gt;&gt;&gt;</span> <span>!</span>date
<span>2022</span><span>-</span><span>10</span><span>-</span><span>22</span> ...outputs...</pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Execute within environment of existing package</h3><a id="user-content-execute-within-environment-of-existing-package" aria-label="Permalink: Execute within environment of existing package" href="#execute-within-environment-of-existing-package"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="interactive --directory path/to/your/package"><pre>interactive <span>--</span>directory path<span>/</span>to<span>/</span>your<span>/</span>package</pre></div>
<div dir="auto"><h2 tabindex="-1" dir="auto">Implementation</h2><a id="user-content-implementation" aria-label="Permalink: Implementation" href="#implementation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">General:</p>
<ul dir="auto">
<li>Create a blank package and an isolate as execution workspace</li>
<li>Extract imports/classes/functions/etc using analyzer, with replacing when it has the same name, and synthesize a dart file - thus supports rich Dart feature</li>
<li>Trigger Dart&#39;s hot-reload after the dart file is updated</li>
<li>Use analyzer to distinguish expressions/statements/compilation-units and do corresponding transformation</li>
<li>The only thing to let Dart VM service to evaluate is <code>generatedMethod()</code>, and do not evaluate anything more</li>
<li>Adding dependencies is as simple as running standard shell command</li>
</ul>
<p dir="auto">As for &#34;global&#34; variables:</p>
<ul dir="auto">
<li>Indeed implemented by a field variable</li>
<li>Statements: Make it inside <code>extension on dynamic { Object? generatedMethod() { ...the statements... } }</code> to access it seamlessly</li>
<li>Functions: Convert functions to extension methods on dynamic to access it seamlessly</li>
<li>Classes: Synthesize getters/setters in classes, and delegate to the field variables, whenever there is a potential access to global variable to access it seamlessly</li>
</ul>
<p dir="auto">TODO more implementation discussions if people are interested (above is so brief)</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Known Issues</h2><a id="user-content-known-issues" aria-label="Permalink: Known Issues" href="#known-issues"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto"><h4 tabindex="-1" dir="auto">Windows non-WSL terminal</h4><a id="user-content-windows-non-wsl-terminal" aria-label="Permalink: Windows non-WSL terminal" href="#windows-non-wsl-terminal"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Because of Dart&#39;s bug (<a data-error-text="Failed to load title" data-id="1125363060" data-permission-text="Title is private" data-url="https://github.com/dart-lang/sdk/issues/48329" data-hovercard-type="issue" data-hovercard-url="/dart-lang/sdk/issues/48329/hovercard" href="https://github.com/dart-lang/sdk/issues/48329">dart-lang/sdk#48329</a>), the upstream <code>cli_repl</code> package does not work well on Windows. The issues vary from terminal to terminal, but generally speaking, backspace doesn&#39;t work, we cannot move on the command line with arrows nor Ctrl+B/F, and no command history with arrows or ^P/^N either.</p>
<p dir="auto">Since <code>dart_interactive</code> depends on it, it is suggested to use <a href="https://learn.microsoft.com/en-us/windows/wsl/install" rel="nofollow">WSL</a> or *nix.</p>
<div dir="auto"><h4 tabindex="-1" dir="auto">Command history</h4><a id="user-content-command-history" aria-label="Permalink: Command history" href="#command-history"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Command history is not yet saved between sessions. However, this is implementable, and feel free to create an issue or PR.</p>
<div dir="auto"><h4 tabindex="-1" dir="auto">Some errors will lead to <code>Hot reload failed</code></h4><a id="user-content-some-errors-will-lead-to-hot-reload-failed" aria-label="Permalink: Some errors will lead to Hot reload failed" href="#some-errors-will-lead-to-hot-reload-failed"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Currently, some user mistakes will produce <code>Hot reload failed</code> error instead of the actual error. It will break the next command or the whole REPL. If you can&#39;t evaluate something simple as &#34;1&#34; after two tries, you can restart quickly with Ctrl/Cmd+D, Up Arrow and Enter in most terminals.</p>
<details>
<summary>Example</summary>
<div data-snippet-clipboard-copy-content="&gt;&gt;&gt; 1
1
&gt;&gt;&gt; print() // &lt;----- oops, argument is not optional
[WARNING 2024-03-13 01:50:18.419137] Error: Hot reload failed, maybe because code has syntax error?
&gt;&gt;&gt; 1
[WARNING 2024-03-13 01:50:20.464239] Error: Hot reload failed, maybe because code has syntax error?
&gt;&gt;&gt; 1
[WARNING 2024-03-13 01:50:20.464239] Error: Hot reload failed, maybe because code has syntax error?"><pre><code>&gt;&gt;&gt; 1
1
&gt;&gt;&gt; print() // &lt;----- oops, argument is not optional
[WARNING 2024-03-13 01:50:18.419137] Error: Hot reload failed, maybe because code has syntax error?
&gt;&gt;&gt; 1
[WARNING 2024-03-13 01:50:20.464239] Error: Hot reload failed, maybe because code has syntax error?
&gt;&gt;&gt; 1
[WARNING 2024-03-13 01:50:20.464239] Error: Hot reload failed, maybe because code has syntax error?
</code></pre></div>
</details>
<div dir="auto"><h2 tabindex="-1" dir="auto">âœ¨ Contributors</h2><a id="user-content--contributors" aria-label="Permalink: âœ¨ Contributors" href="#-contributors"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>

<p dir="auto"><a href="#contributors-"><img src="https://camo.githubusercontent.com/a6259a788bf467c1f433d54c95c94ef835dd44bb43d4f81bc270971613acb6b1/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f616c6c5f636f6e7472696275746f72732d392d6f72616e67652e7376673f7374796c653d666c61742d737175617265" alt="All Contributors" data-canonical-src="https://img.shields.io/badge/all_contributors-9-orange.svg?style=flat-square"/></a></p>

<p dir="auto">Thanks goes to these wonderful people (<a href="https://allcontributors.org/docs/en/emoji-key" rel="nofollow">emoji key</a>):</p>



<markdown-accessiblity-table><table>
  <tbody>
    <tr>
      <td><a href="https://github.com/fzyzcjy"><img src="https://avatars.githubusercontent.com/u/5236035?v=4?s=100" width="100px;" alt="fzyzcjy"/></a></td>
      <td><a href="https://mrale.ph" rel="nofollow"><img src="https://avatars.githubusercontent.com/u/131846?v=4?s=100" width="100px;" alt="Vyacheslav Egorov"/></a></td>
      <td><a href="https://blackhc.net" rel="nofollow"><img src="https://avatars.githubusercontent.com/u/729312?v=4?s=100" width="100px;" alt="Andreas Kirsch"/></a></td>
      <td><a href="https://manichord.com/blog" rel="nofollow"><img src="https://avatars.githubusercontent.com/u/71999?v=4?s=100" width="100px;" alt="Maksim Lin"/></a></td>
      <td><a href="https://github.com/Keithcat1"><img src="https://avatars.githubusercontent.com/u/47483928?v=4?s=100" width="100px;" alt="Keithcat1"/></a></td>
      <td><a href="https://vegardit.com" rel="nofollow"><img src="https://avatars.githubusercontent.com/u/426959?v=4?s=100" width="100px;" alt="Sebastian Thomschke"/></a></td>
      <td><a href="https://github.com/arcanemachine"><img src="https://avatars.githubusercontent.com/u/3351767?v=4?s=100" width="100px;" alt="arcanemachine"/></a></td>
    </tr>
    <tr>
      <td><a href="https://github.com/davidmartos96"><img src="https://avatars.githubusercontent.com/u/22084723?v=4?s=100" width="100px;" alt="David Martos"/></a></td>
      <td><a href="https://github.com/Chematronix"><img src="https://avatars.githubusercontent.com/u/6773039?v=4?s=100" width="100px;" alt="Chematronix"/></a></td>
    </tr>
  </tbody>
</table></markdown-accessiblity-table>



<p dir="auto">More specifically, thanks for all these contributions:</p>
<ul dir="auto">
<li><a href="https://github.com/mraleph">@mraleph</a> (Dart team): <a href="https://github.com/dart-lang/sdk/issues/39965#issuecomment-854854283" data-hovercard-type="issue" data-hovercard-url="/dart-lang/sdk/issues/39965/hovercard">Pointing</a> out Dart exposes hot reload and expression evaluation.</li>
<li><a href="https://github.com/BlackHC">@BlackHC</a>: Prior <a href="https://github.com/BlackHC/dart_repl">proof of concept</a> and <a href="https://medium.com/dartlang/evolving-dart-repl-poc-233440a35e1f" rel="nofollow">article</a> on the problem of creating a REPL.</li>
<li><a href="https://github.com/maks">@maks</a>: Prior <a href="https://github.com/maks/dart_repl">prototype</a> as <a href="https://github.com/dart-lang/sdk/issues/39965#issuecomment-1287953021" data-hovercard-type="issue" data-hovercard-url="/dart-lang/sdk/issues/39965/hovercard">an update-to-Dart-2</a> of @BlackHC&#39;s prototype.</li>
<li><a href="https://github.com/davidmartos96">@davidmartos96</a>: Fix package import bug. Fix windows hot reload bug. Update analyze.</li>
<li><a href="https://github.com/Keithcat1">@Keithcat1</a>: Partially fix printing object.</li>
<li><a href="https://github.com/sebthom">@sebthom</a>: Use unused TCP port.</li>
<li><a href="https://github.com/arcanemachine">@arcanemachine</a>: Pin dependency.</li>
</ul>
</article></div></div>
  </body>
</html>
