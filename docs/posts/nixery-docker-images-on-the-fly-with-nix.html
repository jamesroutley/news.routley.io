<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://nixery.dev/">Original</a>
    <h1>Nixery â€“ Docker images on the fly with Nix</h1>
    
    <div id="readability-page-1" class="page">
        <!-- Provide site root to javascript -->
        

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        

        <!-- Set the theme before any content is loaded, prevents flash -->
        

        <!-- Hide / unhide sidebar before it is displayed -->
        

        <nav id="sidebar" aria-label="Table of contents">
            
            
        </nav>

        <div id="page-wrapper">

            <div class="page">
                
                
                

                                
                
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                

                <div id="content">
                    <main>
                        <p><img src="https://petermalmgren.com/serverside-wasm-data/nixery-logo.png" alt="Nixery"/></p>
<hr/>
<p>Welcome to this instance of <a href="https://github.com/google/nixery">Nixery</a>. It provides ad-hoc container images that
contain packages from the <a href="https://nixos.org/nix">Nix</a> package manager. Images with arbitrary
packages can be requested via the image name.</p>
<p>Nix not only provides the packages to include in the images, but also builds the
images themselves by using a special <a href="https://storage.googleapis.com/nixdoc/nixery-layers.html">layering strategy</a> that optimises for
cache efficiency.</p>
<p>For general information on why using Nix makes sense for container images, check
out <a href="https://grahamc.com/blog/nix-and-layered-docker-images">this blog post</a>.</p>
<h2 id="demo"><a href="#demo">Demo</a></h2>

<h2 id="quick-start"><a href="#quick-start">Quick start</a></h2>
<p>Simply pull an image from this registry, separating each package you want
included by a slash:</p>
<pre><code>docker pull nixery.dev/shell/git/htop
</code></pre>
<p>This gives you an image with <code>git</code>, <code>htop</code> and an interactively configured
shell. You could run it like this:</p>
<pre><code>docker run -ti nixery.dev/shell/git/htop bash
</code></pre>
<p>Each path segment corresponds either to a key in the Nix package set, or a
meta-package that automatically expands to several other packages.</p>
<p>Meta-packages <strong>must</strong> be the first path component if they are used. Currently
there are only two meta-packages:</p>
<ul>
<li><code>shell</code>, which provides a <code>bash</code>-shell with interactive configuration and 
standard tools like <code>coreutils</code>.</li>
<li><code>arm64</code>, which provides ARM64 binaries.</li>
</ul>
<p><strong>Tip:</strong> When pulling from a private Nixery instance, replace <code>nixery.dev</code> in
the above examples with your registry address.</p>
<h2 id="faq"><a href="#faq">FAQ</a></h2>
<p>If you have a question that is not answered here, feel free to file an issue on
Github so that we can get it included in this section. The volume of questions
is quite low, thus by definition your question is already frequently asked.</p>
<h3 id="where-is-the-source-code-for-this"><a href="#where-is-the-source-code-for-this">Where is the source code for this?</a></h3>
<p>Over <a href="https://github.com/google/nixery">on Github</a>. It is licensed under the Apache 2.0 license. Consult
the documentation entries in the sidebar for information on how to set up your
own instance of Nixery.</p>
<h3 id="which-revision-of-nixpkgs-is-used-for-the-builds"><a href="#which-revision-of-nixpkgs-is-used-for-the-builds">Which revision of <code>nixpkgs</code> is used for the builds?</a></h3>
<p>The instance at <code>nixery.dev</code> tracks a recent NixOS channel, currently NixOS
20.09. The channel is updated several times a day.</p>
<p>Private registries might be configured to track a different channel (such as
<code>nixos-unstable</code>) or even track a git repository with custom packages.</p>
<h3 id="should-i-depend-on-nixerydev-in-production"><a href="#should-i-depend-on-nixerydev-in-production">Should I depend on <code>nixery.dev</code> in production?</a></h3>
<p>While we appreciate the enthusiasm, if you would like to use Nixery in your
production project we recommend setting up a private instance. The public Nixery
at <code>nixery.dev</code> is run on a best-effort basis and we make no guarantees about
availability.</p>
<h3 id="is-this-an-official-google-project"><a href="#is-this-an-official-google-project">Is this an official Google project?</a></h3>
<p><strong>No.</strong> Nixery is not officially supported by Google.</p>
<h3 id="who-made-this"><a href="#who-made-this">Who made this?</a></h3>
<p>Nixery was written by <a href="https://github.com/tazjin">tazjin</a>, but many people have contributed to Nix over
time, maybe you could become one of them?</p>

                    </main>

                    <nav aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                                                    <a rel="next" href="https://petermalmgren.com/serverside-wasm-data/under-the-hood.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i></i>
                            </a>
                        
                        
                    </nav>
                </div>
            </div>

            <nav aria-label="Page navigation">
                
                                    <a rel="next" href="https://petermalmgren.com/serverside-wasm-data/under-the-hood.html" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i></i>
                    </a>
                            </nav>

        </div>

        
        
        
                
        
        
                
        
        
        
        
        
        

        <!-- Custom JS scripts -->
        
        
    

</div>
  </body>
</html>
