<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/ema/pets">Original</a>
    <h1>A configuration management system for pets, not cattle</h1>
    
    <div id="readability-page-1" class="page"><div dir="auto">
<p dir="auto">The idea behind Pets is that Configuration Management of individual hosts
shouldn’t be harder than administering the system by hand. Other configuration
management tools typically focus on usage scenarios involving complex
relationships between multiple, fairly homogeneous systems: for example,
setting up a bunch of application servers behind a load-balancer, or
configuring a database and its replicas. For that you need a templating
language, some way to store and share information about the various systems,
and a way to either push the changes to all hosts or pull them from a central
location. All that complexity can discourage from using a configuration
management tool to begin with: why bother with Chef syntax and ERB templates if
you just need to edit a few files?</p>
<p dir="auto">Pets instead focuses on the individual, local machine. No need to ssh anywhere,
no puppetmaster to configure, nada. It works by reading your regular, static
configuration files (say muttrc) with added pets modelines, inspired by the
concept of vim modelines. Pets can copy your configuration files to the right
place, fix permissions, install packages, and run commands upon file update.</p>
<p dir="auto">Following from this basic idea, here are the design decisions:</p>
<div dir="auto">
<ul dir="auto">
<li>
<p dir="auto">Runs locally on a single machine</p>
</li>
<li>
<p dir="auto">One directory holds the full configuration of the system</p>
</li>
<li>
<p dir="auto">No variables, no templates, just plain static config files</p>
</li>
<li>
<p dir="auto">No dependencies between different components (eg: updating file A if and
after file B was updated)</p>
</li>
<li>
<p dir="auto">A single one-shot program reading the configuration directory and applying
changes</p>
</li>
<li>
<p dir="auto">Changes are applied only if basic syntax checks pass</p>
</li>
<li>
<p dir="auto">Main interaction mechanism inspired by vim modelines</p>
</li>
</ul>
</div>
<p dir="auto">Here’s the initial design document in all its beauty. Ignore the &#34;watcher&#34;
part, that was before I settled on a one-shot approach.</p>
<div dir="auto">
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/ema/pets/blob/master/design.png"><img src="https://github.com/ema/pets/raw/master/design.png" alt="design"/></a>
</p>
</div>
</div></div>
  </body>
</html>
