<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.deusinmachina.net/p/understanding-the-power-of-bitwise">Original</a>
    <h1>Understanding the power of bitwise operators</h1>
    
    <div id="readability-page-1" class="page"><div><div><article><div class=""><div><div dir="auto"><p>When learning a new programming language, there is usually a table in the documentation that shows the various operators that can be used with numbers. While we are all familiar with +,-,*, and /, there‚Äôs always that one section that most of us skip. These are the bitwise operators &lt;&lt;, &gt;&gt;, &amp;, ^ and |. While at first, they might seem obscure, unhelpful, or tools for people who write in low level programming languages, they do serve a purpose. Even more surprising, some of the most useful ways that can be used do not require any math at all. Bitwise operations allow us to manipulate the binary representation of the data which turns out to be extremely useful. Let‚Äôs take a look at these strange operators and see if we can make sense of them.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a45f167-51f5-461f-bf91-504de49229b7_1280x720.jpeg" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a45f167-51f5-461f-bf91-504de49229b7_1280x720.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a45f167-51f5-461f-bf91-504de49229b7_1280x720.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a45f167-51f5-461f-bf91-504de49229b7_1280x720.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a45f167-51f5-461f-bf91-504de49229b7_1280x720.jpeg 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a45f167-51f5-461f-bf91-504de49229b7_1280x720.jpeg" width="1280" height="720" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/6a45f167-51f5-461f-bf91-504de49229b7_1280x720.jpeg&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:720,&#34;width&#34;:1280,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:178021,&#34;alt&#34;:&#34;Stephen Universe give me the bits&#34;,&#34;title&#34;:null,&#34;type&#34;:&#34;image/jpeg&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:false,&#34;internalRedirect&#34;:null}" alt="Stephen Universe give me the bits" title="Stephen Universe give me the bits" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a45f167-51f5-461f-bf91-504de49229b7_1280x720.jpeg 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a45f167-51f5-461f-bf91-504de49229b7_1280x720.jpeg 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a45f167-51f5-461f-bf91-504de49229b7_1280x720.jpeg 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6a45f167-51f5-461f-bf91-504de49229b7_1280x720.jpeg 1456w" sizes="100vw"/></picture></div></a></figure></div><p>Binary is the only language computers understand. It consists of 1s and 0s. The context of those 1s and 0s are what give these numbers meaning when surfaced at the human level. This is similar to English words, whose meaning changes depending on the context. For example, the word ‚Äúpresent‚Äù can mean a gift or the current time, depending on the context.</p><p>One common example where the context of the binary representation is important is with text encoding. If you&#39;ve ever tried to open a file with the incorrect encoding, you may have seen the Null character (ÔøΩ). This character is used when the computer can&#39;t decode certain strings of bits that make up the text in the document you&#39;re reading. Switching to the correct encoding removes those characters, allowing you to see the actual text in the file. Our files are all just binary at the end of the day to a computer, but our file formats give them meaning.</p><p>A single bit is almost completely useless to perform tasks, so we usually work with them in groups. With 2 bits you can now represent 2^2 values or 4 different numbers using the combinations</p><ul><li><p>00</p></li><li><p>01</p></li><li><p>10</p></li><li><p>11</p></li></ul><p>With 3 you can represent 2^3 numbers or 8 different combinations</p><ul><li><p>000</p></li><li><p>001</p></li><li><p>010</p></li><li><p>011</p></li><li><p>100</p></li><li><p>101</p></li><li><p>110</p></li><li><p>111</p></li></ul><p>And so on and so forth. In modern programming we usually work with standardized groups of bits and so they get their own special names</p><ol><li><p><strong>Nibble</strong><span> - 4 bits. 2^4 or 16 values</span></p></li><li><p><strong>Byte</strong><span> - 8 bits. 2^8 or 256 values</span></p></li><li><p><strong>Word</strong><span> - 4 bytes on 32bit systems, 8 bytes on 64bit architectures</span></p></li></ol><p>Most people have probably never heard of these terms, but they may have heard of 32-bit and 64-bit architectures. These terms refer to the largest sized number a computer can natively support. Whether your architecture is 32-bit or 64-bit determines the largest sized number you can work with, and those values are manipulated in 8-bit (1 byte) sections at a time.</p><p>A great way to visualize a common grouping of bits is to open up your windows calculator app, click the hamburger menu in the top left-hand corner, and switch your calculator from standard to programmer. Now you can see a number in their Hexadecimal, Decimal, Octal, and Binary forms. Above the ‚Äô&gt;&gt;‚Äô button you can restrict the maximum and minimum integer size to what can be contained by a Byte, Word, Dword etc.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F485a09d2-9f89-46b9-827c-55ba55f15f10_956x577.png" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F485a09d2-9f89-46b9-827c-55ba55f15f10_956x577.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F485a09d2-9f89-46b9-827c-55ba55f15f10_956x577.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F485a09d2-9f89-46b9-827c-55ba55f15f10_956x577.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F485a09d2-9f89-46b9-827c-55ba55f15f10_956x577.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F485a09d2-9f89-46b9-827c-55ba55f15f10_956x577.png" width="956" height="577" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/485a09d2-9f89-46b9-827c-55ba55f15f10_956x577.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:577,&#34;width&#34;:956,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:16933,&#34;alt&#34;:&#34;view of calculator in programmer mode&#34;,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;internalRedirect&#34;:null}" alt="view of calculator in programmer mode" title="view of calculator in programmer mode" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F485a09d2-9f89-46b9-827c-55ba55f15f10_956x577.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F485a09d2-9f89-46b9-827c-55ba55f15f10_956x577.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F485a09d2-9f89-46b9-827c-55ba55f15f10_956x577.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F485a09d2-9f89-46b9-827c-55ba55f15f10_956x577.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p>You can even switch to a binary mode by clicking the cascading dots button under the BIN value which will allow you to flip the bits on and off yourself. This will give you a much more intuitive understanding of the representation of 0s and 1s and how they translate to the other number formats than I could give in this short time.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe517af76-d97e-44e5-ac36-1f3e551d43f4_950x580.png" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe517af76-d97e-44e5-ac36-1f3e551d43f4_950x580.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe517af76-d97e-44e5-ac36-1f3e551d43f4_950x580.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe517af76-d97e-44e5-ac36-1f3e551d43f4_950x580.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe517af76-d97e-44e5-ac36-1f3e551d43f4_950x580.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe517af76-d97e-44e5-ac36-1f3e551d43f4_950x580.png" width="950" height="580" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/e517af76-d97e-44e5-ac36-1f3e551d43f4_950x580.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:580,&#34;width&#34;:950,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:12847,&#34;alt&#34;:&#34;view of calculator in binary mode&#34;,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;internalRedirect&#34;:null}" alt="view of calculator in binary mode" title="view of calculator in binary mode" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe517af76-d97e-44e5-ac36-1f3e551d43f4_950x580.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe517af76-d97e-44e5-ac36-1f3e551d43f4_950x580.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe517af76-d97e-44e5-ac36-1f3e551d43f4_950x580.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fe517af76-d97e-44e5-ac36-1f3e551d43f4_950x580.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a><figcaption>The integers are signed and support negative and positive ranges</figcaption></figure></div><p>For those of you not on Windows, Linux has the gnome-calculator app that offers similar functionality.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddc984e-fe4f-4f7a-b759-f66bb77f27be_746x582.png" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddc984e-fe4f-4f7a-b759-f66bb77f27be_746x582.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddc984e-fe4f-4f7a-b759-f66bb77f27be_746x582.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddc984e-fe4f-4f7a-b759-f66bb77f27be_746x582.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddc984e-fe4f-4f7a-b759-f66bb77f27be_746x582.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddc984e-fe4f-4f7a-b759-f66bb77f27be_746x582.png" width="706" height="550.7935656836461" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/bddc984e-fe4f-4f7a-b759-f66bb77f27be_746x582.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:582,&#34;width&#34;:746,&#34;resizeWidth&#34;:706,&#34;bytes&#34;:54898,&#34;alt&#34;:&#34;gnome-calculator in programming mode&#34;,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;internalRedirect&#34;:null}" alt="gnome-calculator in programming mode" title="gnome-calculator in programming mode" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddc984e-fe4f-4f7a-b759-f66bb77f27be_746x582.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddc984e-fe4f-4f7a-b759-f66bb77f27be_746x582.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddc984e-fe4f-4f7a-b759-f66bb77f27be_746x582.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fbddc984e-fe4f-4f7a-b759-f66bb77f27be_746x582.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p>On MacOS the programmer calculator can be accessed by opening the regular calculator app and typing ‚åò then the number 3</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67741703-70ac-4320-a009-edf748a2cd5d_396x473.png" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67741703-70ac-4320-a009-edf748a2cd5d_396x473.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67741703-70ac-4320-a009-edf748a2cd5d_396x473.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67741703-70ac-4320-a009-edf748a2cd5d_396x473.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67741703-70ac-4320-a009-edf748a2cd5d_396x473.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67741703-70ac-4320-a009-edf748a2cd5d_396x473.png" width="396" height="473" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/67741703-70ac-4320-a009-edf748a2cd5d_396x473.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:473,&#34;width&#34;:396,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:62977,&#34;alt&#34;:&#34;macOS calculator app in programming mode&#34;,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;internalRedirect&#34;:null}" alt="macOS calculator app in programming mode" title="macOS calculator app in programming mode" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67741703-70ac-4320-a009-edf748a2cd5d_396x473.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67741703-70ac-4320-a009-edf748a2cd5d_396x473.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67741703-70ac-4320-a009-edf748a2cd5d_396x473.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F67741703-70ac-4320-a009-edf748a2cd5d_396x473.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a><figcaption>Typical of apple to hide this useful feature from us</figcaption></figure></div><p><span>Encoding numbers as binary has a unique advantage over its decimal representation. It allows us to use the binary itself as a sort of command, where sections of the binary correspond to certain functionality. By toggling the various ones and zeros on and off we can manipulate our program in an efficient and compact way with relatively small number sizes.  Let‚Äôs look at an example. Say we have a byte of data that looks like this (the space is just for readability) </span><code>0010 0011 </code><span>and we want to produce a number that only has the bottom 2 bits set </span><code>0000 0011</code><span>. How would we do this? With a logic and, which uses the ampersand character ‚Äò&amp;‚Äô. But before we can create the final result, we need one more binary number. This is called the mask. The mask is a binary number that has bits turned on and off in key places so that when combined with a bitwise operator turn on and off, or mask sections of the original binary. Here‚Äôs an example.</span></p><pre><code><span>0010 00</span><strong>11</strong><span> (Original Binary)
    &amp;    -&gt; 0000 00</span><strong>11</strong><span> (Resulting Binary)
0000 0011 (Mask)</span></code></pre><p>What are the decimal representations of these 3 binary numbers? Who cares! We only care about whether certain bits in the resulting binary number are on or off. What the &amp; is doing is at each index of the two numbers, it compares the individual bits, and produces a bit that is either zero or one. The rules for the resulting bit are as follows.</p><ol><li><p>If they are both 0 the resulting bit is 0</p></li><li><p>If they are both 1 the resulting bit is 1</p></li><li><p>If one bit is 0 and the other bit is 1 then the resulting bit is 0</p></li></ol><p><span>So really rules #1 and 2 can be combined to say ‚ÄúIf the bit in the first binary number matches the bit in the second binary number, produce the same bit in the resulting binary number‚Äù. By leveraging these properties, we can create the resulting number </span><code>0000 0011 </code><span>with the bit pattern we want.</span></p><p><span>Let‚Äôs do another one. We have a byte that looks like </span><code>1011 0011</code><span>, and we want to create a byte that looks like this </span><code>1011 0000</code><span>. So, we have to turn off the last two 1 bits in our binary number. Take a second to review the rules and see if you can construct the correct mask. Then look at the example below.</span></p><pre><code><code>1011 0011
    &amp;    -&gt; 1011 0000
1011 0000</code></code></pre><p>If you made the correct mask, give yourself a pat on the back. If you had trouble, don‚Äôt worry, this is new stuff and takes some time to internalize. I want to highlight again that we don‚Äôt need to know what any of these number‚Äôs decimal representation are, nor do we need to know what the mathematical result of these operations are. We simply are trying to create masks that have specific patterns, so we can get resulting binary numbers with the desired bit patterns.</p><p><span>We‚Äôve seen how we can use the bitwise &amp; operator to mask off bits we aren‚Äôt interested in from the original binary number, but what if we wanted to set specific bits in a binary number? We use a ‚Äò|‚Äô (the pipe character) to do a bitwise OR. Taking our previous example </span><code>1011 0011 </code><span>if instead we wanted the result to be </span><code>1011 1111</code><span> we can set the two zeros to ones using the bitwise OR. First, we construct a mask which has 1s in the position we want to turn on. Then we execute it.</span></p><pre><code><span>1011 0011
    |    -&gt; 1011 </span><strong>11</strong><span>11
1011 1111</span></code></pre><p>Looking back at the rules for a bitwise AND we see that they are similar to the bitwise OR except for the final rule. </p><ol><li><p>If they are both 0 the resulting bit is 0</p></li><li><p>If they are both 1 the resulting bit is 1</p></li><li><p><strong>If one bit is 0 and the other bit is 1 then the resulting bit is 1</strong></p></li></ol><p>Using this knowledge, constructing a mask that has the right properties should be easy. If you see 0 bits you want to turn on, just put 1 in the mask‚Äôs bits. If you have bits that are turned on that you want to stay turned on, just put a 1 there as well.</p><p><span>The invert operator uses the tilde (~). It‚Äôs used to flip all the bits to their opposite state. The invert operator is special because it only needs a single number to work on, so there is no need for a mask. A little bit of programming minutiae, this type of operator is called a </span><strong>unary</strong><span> operator. Operators like + and - are examples of </span><strong>binary</strong><span> operators. This does not mean that they only work on binary numbers, but that it requires two numbers for them to work. See there‚Äôs that context again üòâ</span></p><p><span>The behavior is straight forward. If a bit is 1 it will be 0 and vice versa. This is commonly used to produce a mask which is used in conjunction with the &amp; operator. Suppose we have a number </span><code>0101 0010 </code><span>and we wanted to turn off the first 1 in the binary to create the number </span><code>0001 0010</code><span>. First, we construct a binary number that has a 1 in the spot we want to clear</span><code> 0100 0000.</code><span> Then we take that number </span><code>0100 0000</code><span> and invert it.</span></p><pre><code>0100 0000 ~ -&gt; 1011 1111</code></pre><p><span>As you can see the inversion turned every 0 into a 1 and every 1 into a 0. We can then take that inverted number </span><code>1011 1111</code><span> and use it as a mask with the &amp; operator on our original number </span><code>0101 0010</code></p><pre><code><span>0101 0010
    &amp;     -&gt; 0</span><strong>0</strong><span>01 0010
1011 1111</span></code></pre><p>We then produce the binary number we want with the 1 cleared to 0 in the place we desired.</p><p><span>Exclusive OR uses the ^ character (pronounced hat or caret). It‚Äôs used when you want to toggle certain bits on and off. For example, if we wanted to toggle the 2nd 1 in the number 100</span><strong>1</strong><span> 0111 we construct a mask which has a 1 in the position we want to toggle on or off. </span></p><pre><code>1001 0111
    ^    -&gt; 1000 0111
0001 0000</code></pre><p><span>If we take the resulting </span><code>1000 0111</code><span> and exclusive or it with the previous mask </span><code>0001 0000</code><span>, We get the original binary number back.</span></p><pre><code> 1000 0111
    ^    -&gt; 1001 0111
 0001 0000</code></pre><p>What the XOR is doing in this case is comparing each bit and returning 1 if the bits are different and 0 if they are the same. In most contexts what this mean is that you just want to construct a mask that only has 1s in the spots you want to turn on or off, leaving the rest of the bits at 0.</p><p><span>Finally, we come to the last two operators. Bit shift left ‚Äò&lt;&lt;‚Äô and bit shift right ‚Äô&gt;&gt;‚Äô. They are represented by the greater than and less than symbols or left and right guillemets ¬´ ¬ª. The bit shift left operator (&lt;&lt;) inserts zeroes into the least significant bits of a binary number. We haven‚Äôt talked about least significant bits, but you can think about it like this. In the decimal number </span><strong>1</strong><span>23,45</span><strong>6</strong><span> we know that the smallest number is 6 because it‚Äôs in the 1s place and the biggest number is 1 because it‚Äôs hundred thousandths place. In binary we do the same thing. If we had the nibble </span><strong>1</strong><span>11</span><strong>0</strong><span> reading from right to left, 0 is the least significant bit and the final 1 is the most significant. If we left shift 1110 by 4 then we essentially tack on 4 zeros onto the least significant side of the binary.  Our number now looks like this. </span></p><pre><code>1110 &lt;&lt; 4 -&gt; 1110 0000</code></pre><p>As you probably guessed, if left shifting a binary adds zeros to the least significant side of a binary, right shifting adds zeros to the most significant side. So, using the same number we get‚Ä¶ </p><pre><code>1110 &gt;&gt; 4 -&gt; 0000</code></pre><p><span>Another way to think about shift is not only that zeros are tacked on to the least significant side, or most significant side, but those zeros </span><em>shift</em><span> the original binary numbers left or right. That‚Äôs why they are called left and right shifts.</span></p><p>This article hasn‚Äôt focused on math at all, but a fun fact is that left shifting a number by 1 is the equivalent of multiplying a number by 2^1 aka doubling the number. Left shifting by 2 is the equivalent of multiplying by 2^2 or quadrupling the number, and so on and so forth. Right shifting does the opposite, using the same numbers it halves and quarters the number. If your number needs to be divided or scaled by a power of 2 this is an extremely fast operation, and if your program is compiled this is a common optimization that happens under the hood. For our purposes though, we can just think of this operator as tacking on 0s to the beginning or end of a binary number or pushing our binary left or right by the specified numbers of zeros. </p><p>Besides some clever optimization tricks how can we utilize these operators in a practical context? Before we can understand that we need to go over one more concept. Hexadecimal numbers.</p><p><span>Hexadecimal numbers are another way of representing numbers in computing. Unlike binary numbers, which are base-2, hexadecimal numbers are base-16. This means that instead of using only two digits (0 and 1), we use sixteen: 0-9 and then the letters A, B, C, D, E, and F to represent 10, 11, 12, 13, 14, and 15. The reason hexadecimal is important in computing is that it&#39;s a more compact way of representing binary numbers. One hexadecimal digit can represent four binary digits (a nibble). This means that two hexadecimal digits can represent a byte. In many programming languages hexadecimal numbers are specified by prefixing a number with 0x to differentiate them from binary or decimal numbers. So, your hex number </span><code>1234</code><span> would be written as </span><code>0x1234</code><span> if you wanted it to be interpreted in hex. </span></p><p>A word of caution, don‚Äôt confuse the decimal number 1234 and the hexadecimal number 0x1234 are not the same number. One is the decimal value 1,234 the other is the decimal value 4,660. </p><p><span>To convert a binary number to hexadecimal, we can break it up into groups of nibbles, starting from the right-hand side. We then replace each nibble with the corresponding hexadecimal digit. For example, the binary number </span><code>1101 1010</code><span> can be broken up into </span><code>1101</code><span> and </span><code>1010</code><span>. Converting each group to hexadecimal gives us </span><code>DA</code><span>. Therefore, </span><code>1101 1010</code><span> in binary is equivalent to </span><code>0xDA</code><span> in hexadecimal. If you still have the programmer calculator handy, you don‚Äôt even have to do the calculation yourself, just type in the binary representation of a number and it will tell you the hex value.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F31a9dc19-cc02-43ac-afb1-34a95fa4e2d4_462x311.png" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F31a9dc19-cc02-43ac-afb1-34a95fa4e2d4_462x311.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F31a9dc19-cc02-43ac-afb1-34a95fa4e2d4_462x311.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F31a9dc19-cc02-43ac-afb1-34a95fa4e2d4_462x311.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F31a9dc19-cc02-43ac-afb1-34a95fa4e2d4_462x311.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F31a9dc19-cc02-43ac-afb1-34a95fa4e2d4_462x311.png" width="462" height="311" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/31a9dc19-cc02-43ac-afb1-34a95fa4e2d4_462x311.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:311,&#34;width&#34;:462,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:4836,&#34;alt&#34;:&#34;Programmer calculator showing 1101 in hex&#34;,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;internalRedirect&#34;:null}" alt="Programmer calculator showing 1101 in hex" title="Programmer calculator showing 1101 in hex" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F31a9dc19-cc02-43ac-afb1-34a95fa4e2d4_462x311.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F31a9dc19-cc02-43ac-afb1-34a95fa4e2d4_462x311.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F31a9dc19-cc02-43ac-afb1-34a95fa4e2d4_462x311.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F31a9dc19-cc02-43ac-afb1-34a95fa4e2d4_462x311.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6fa0ce04-26ab-41dd-b781-6595ef3174ce_453x304.png" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6fa0ce04-26ab-41dd-b781-6595ef3174ce_453x304.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6fa0ce04-26ab-41dd-b781-6595ef3174ce_453x304.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6fa0ce04-26ab-41dd-b781-6595ef3174ce_453x304.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6fa0ce04-26ab-41dd-b781-6595ef3174ce_453x304.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6fa0ce04-26ab-41dd-b781-6595ef3174ce_453x304.png" width="453" height="304" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/6fa0ce04-26ab-41dd-b781-6595ef3174ce_453x304.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:304,&#34;width&#34;:453,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:4900,&#34;alt&#34;:&#34;programmer calculator showing 1010 in hex&#34;,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;internalRedirect&#34;:null}" alt="programmer calculator showing 1010 in hex" title="programmer calculator showing 1010 in hex" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6fa0ce04-26ab-41dd-b781-6595ef3174ce_453x304.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6fa0ce04-26ab-41dd-b781-6595ef3174ce_453x304.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6fa0ce04-26ab-41dd-b781-6595ef3174ce_453x304.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F6fa0ce04-26ab-41dd-b781-6595ef3174ce_453x304.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcb804e43-e3d5-4cab-a8e7-4f957ff10d1c_451x312.png" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcb804e43-e3d5-4cab-a8e7-4f957ff10d1c_451x312.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcb804e43-e3d5-4cab-a8e7-4f957ff10d1c_451x312.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcb804e43-e3d5-4cab-a8e7-4f957ff10d1c_451x312.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcb804e43-e3d5-4cab-a8e7-4f957ff10d1c_451x312.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcb804e43-e3d5-4cab-a8e7-4f957ff10d1c_451x312.png" width="451" height="312" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/cb804e43-e3d5-4cab-a8e7-4f957ff10d1c_451x312.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:312,&#34;width&#34;:451,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:5157,&#34;alt&#34;:&#34;programmer calculator showing 1101 1010 in hex&#34;,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;internalRedirect&#34;:null}" alt="programmer calculator showing 1101 1010 in hex" title="programmer calculator showing 1101 1010 in hex" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcb804e43-e3d5-4cab-a8e7-4f957ff10d1c_451x312.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcb804e43-e3d5-4cab-a8e7-4f957ff10d1c_451x312.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcb804e43-e3d5-4cab-a8e7-4f957ff10d1c_451x312.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fcb804e43-e3d5-4cab-a8e7-4f957ff10d1c_451x312.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p>Hexadecimal numbers are also commonly used to represent memory addresses in computing. This is because memory addresses are typically represented as 32-bit or 64-bit numbers, which can be quite long and difficult to read in binary. By representing memory addresses in hexadecimal, we can make them much more compact and easier to read. Here is DA as a 32bit binary number.</p><pre><code>0000 0000 0000 0000 0000 0000 1101 1010
vs
0000 00DA</code></pre><p>Now that we have all this information, we can look at a common use case, a Chip-8 interpreter. A Chip-8 interpreter is a good first project for someone that is just dipping their toes into emulation. The instructions are 2 bytes long or 16 bits and there are 36 different ones. Since working with 16 bits in binary is tedious, we will look at the instructions in hex. Remember each hex value is 4 bits. This is convenient because the smallest section of a Chip-8 instruction we will need to work with is 4 bits long.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd205a3e1-3d74-4e02-88b7-f23b9c3c450f_964x720.png" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd205a3e1-3d74-4e02-88b7-f23b9c3c450f_964x720.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd205a3e1-3d74-4e02-88b7-f23b9c3c450f_964x720.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd205a3e1-3d74-4e02-88b7-f23b9c3c450f_964x720.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd205a3e1-3d74-4e02-88b7-f23b9c3c450f_964x720.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd205a3e1-3d74-4e02-88b7-f23b9c3c450f_964x720.png" width="964" height="720" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/d205a3e1-3d74-4e02-88b7-f23b9c3c450f_964x720.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:720,&#34;width&#34;:964,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:1114630,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd205a3e1-3d74-4e02-88b7-f23b9c3c450f_964x720.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd205a3e1-3d74-4e02-88b7-f23b9c3c450f_964x720.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd205a3e1-3d74-4e02-88b7-f23b9c3c450f_964x720.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd205a3e1-3d74-4e02-88b7-f23b9c3c450f_964x720.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a><figcaption><a href="https://en.wikipedia.org/wiki/Telmac_1800" rel="">Telmac 1800</a><span> running CHIP-8 game Space Intercept (Joseph Weisbecker, 1978)</span></figcaption></figure></div><p><span>Depending on the instruction the relevant components of the instruction change. Cowgod‚Äôs Chip-8 reference</span></p><p><span> is an excellent resource for finding out what each instruction does. Let&#39;s look at a simple instruction case, the ones that fall in the 0x1000 range. We will be using my Crystal Chip-8 emulator as an example. Remember these numbers are in hex values.</span></p><pre><code>      case op &amp; 0xF000
      #nnn or addr - A 12-bit value, the lowest 12 bits of the instruction
      #n or nibble - A 4-bit value, the lowest 4 bits of the instruction
      #x - A 4-bit value, the lower 4 bits of the high byte of the instruction
      #y - A 4-bit value, the upper 4 bits of the low byte of the instruction
      #kk or byte - An 8-bit value, the lowest 8 bits of the instruction
      when 0x1000
        #1nnn
        #set the program counter to nnn which is the lower 3 bytes
        @pc = op &amp; 0x0FFF;</code></pre><p><span>Assuming that the instruction we have is </span><code>0x1ABC</code><span> we first need to figure out what the most significant byte in the instruction is. This will determine how we interpret it. Using Cowgod‚Äôs documentation we see that instructions that have 1 as the most significant byte set the program counter to the last 12 bits of the instruction. What we need to do is keep the most significant bit and clear out the other 12 bits we aren‚Äôt interested in when identifying the instruction. This should be familiar to you.</span></p><p><span>We can write a case statement which allows us to create multiple branches depending on the instruction we receive. We can take our operation code </span><code>0x1ABC</code><span> and do a bitwise &amp; with the mask</span><code> 0xF000</code><span> to get the most significant bit of our instruction 0x1000. This ensures that no matter what instruction comes in, if it starts with </span><code>0x1</code><span> it will always go to the correct branch no matter whether its </span><code>0x1DDD</code><span>, </span><code>0x1012</code><span>, etc. Now that we have the instruction going to the right place we need to get the lower 12 bits of the instruction, and set our program counter to that value. Again we can use the bitwise &amp;. By doing a bitwise &amp; using our op code and the mask </span><code>0x0FFF</code><span> we can get the number 0x0ABC. We can then add this number to our program counter. </span></p><p><span>You might be confused as to how the hexadecimal values translate back to the binary numbers like how we did it in our previous examples, so I‚Äôll show it for this example. </span><code>0x1ABC</code><span> translates to</span><code> 0001 1010 1011 1100</code><span> in binary.  </span><code>0xF000</code><span> translates to </span><code>1111 0000 0000 0000</code><span>. If we do the bitwise &amp; on these two numbers, we get‚Ä¶</span></p><pre><code> 0001 1010 1011 1100
          &amp;         -&gt; 0001 0000 0000 0000
 1111 0000 0000 0000</code></pre><p><code>0001 0000 0000 0000</code><span>. Which is just our op code with its most significant bit.  As you may have guessed </span><code>0001 0000 0000 0000</code><span> is</span><code> 0x1000</code><span> in binary, which is why it goes to the </span><code>0x1000</code><span> branch of our case statement. The same logic applies to getting the lower 12 bits of our operation. In this case, we care about all the numbers except for the first 4 bits so we need to clear them. This time we use </span><code>0x0FFF</code><span> which translates to </span><code>0000 1111 1111 1111</code><span> in binary. We do our bitwise &amp; on this and we get</span></p><pre><code> 0001 1010 1011 1100
          &amp;         -&gt; 0000 1010 1011 1100
 0000 1111 1111 1111</code></pre><p>Which is exactly what we want. The last question you might have is, why we use F in hex number instead of 1 like we do in binary. That‚Äôs because F corresponds to 1111 in binary, so we know if we want to keep the bit pattern at that index in our original hex value, just throw an F there. Doesn‚Äôt matter what the combination of 0s and 1s is, it will always be preserved in a bitwise &amp;. Since we wanted the last 12 bits of our hex to be preserved, we put 3 Fs there. Since we needed only the bit pattern of our most significant 4 bits to be preserved to get it to go to the right case statement, we only put one F in the first spot of our hex mask.</p><p>Well finish off with another example that uses our bit shift operators.</p><pre><code>      when 0x5000
        #5xy0
        #Skip next instruction if Vx = Vy.
        #Compares register Vx to register Vy
        #if they are equal, increments the program counter by 2.
        x = (op &amp; 0x0F00) &gt;&gt; 8
        y = (op &amp; 0x00F0) &gt;&gt; 4
       
        #register index 
        if @reg[x] == @reg[y]
          @pc +=2
        end</code></pre><p><span>Suppose our next instruction is 0x5120. We need to construct a mask that will get our op to branch to the 0x5000 branch of our case statement. To construct the mask, we want to keep the most significant digit (the first hex digit) and set all the other digits to 0. Try to figure that out now. Next, we see that instructions that fall into the 0x5000 range give us an x and y value which we can use to access the registers at x and y. Therefore, we need to somehow get the x and y values out of the operation. Just like in our previous examples we can put an F at the index of the hex value we are interested in keeping, and a 0 anywhere else. For the x value that is a mask that looks like this </span><code>0x0F00</code><span> and for the y value it‚Äôs a mask that looks like this </span><code>0x00F0</code><span>. We learned that right shifts tack on 0s on the most significant bit side of a binary number. While this is true in most cases, what happens in the case where your number is a fixed width? For Chip-8 the smallest binary instruction is 0000 0000 0000 0000 and the largest value is 1111 1111 1111 1111. They are confined to 16 bits in size. Since we can‚Äôt just tack on zeros to the most significant bit size like this 0000 1111 1111 1111 1111 as that would create an instruction that is 20bits in length or 4 bits larger than the Chip-8 supports, something has to give. </span></p><p>It turns out that in this case, the numbers on the least significant side get pushed off to ‚Äúmake room‚Äù for zeros on the most significant side in shifts with a fixed width. This means that a number like this 1111 1111 1111 1111 right shifted by 4 now looks like this‚Ä¶</p><pre><code> (1111 1111 1111 1111 &gt;&gt; 4) 0000 1111 1111 1111</code></pre><p><span>A block of </span><code>1111 </code><span>was pushed off the binary number to make room for the </span><code>0000</code><span>. How many times do we want to right shift an instruction to get the x and y? </span></p><pre><code> x = (op &amp; 0x0F00) &gt;&gt; 8
 y = (op &amp; 0x00F0) &gt;&gt; 4</code></pre><p>Once we have our x and y it then just becomes a matter of comparing our register at x to our register at y and seeing if they are the same. If they are we increase the program counter.</p><pre><code>        #register index 
        if @reg[x] == @reg[y]
          @pc +=2
        end</code></pre><p>I won‚Äôt go through all the instructions in this article as it would be too long, but if you were to look at some of the instructions for the Chip-8 like the ones in the 0x8000s‚Ä¶</p><pre><code>8xy1 - OR Vx, Vy
Set Vx = Vx OR Vy.

8xy3 - XOR Vx, Vy
Set Vx = Vx XOR Vy.</code></pre><p>You would see that we end up using all the bitwise functions that we talked about in the first part of our article in implementing it. I hope that this article has given you an answer as to why we use bitwise operators in programming, as well as a practical example of where they can be used. Emulators are not the only examples so I would encourage you to seek out more. But the next time that you fire up an emulator with your legally obtained or homebrew ROMS, remember that bitwise operators are powering your experience. If you are interested in how emulators work, I encourage you to create your own Chip-8 interpreter, as it is a valuable and worthwhile experience, and I recommend using Cowgod‚Äôs reference as it has been invaluable for me in my Chip-8 journey.</p><p><span>If you made it this far thanks for reading! If you are new welcome! I like to talk about technology, niche programming languages, AI, and low-level coding. I‚Äôve recently started a </span><a href="https://twitter.com/deusinmach" rel="">Twitter</a><span> and would love for you to check it out. I also have a </span><a href="https://mastodon.social/@DiegoCrespo" rel="">Mastodon</a><span> if that is more your jam. If you liked the article, consider liking and subscribing. And if you haven‚Äôt why not check out another article of mine! Thank you for your valuable time.</span></p><p data-attrs="{&#34;url&#34;:&#34;https://deusinmachina.substack.com/p/sending-a-message-how-objects-communicate?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&amp;token=eyJ1c2VyX2lkIjoxMDA1NTI0NjQsInBvc3RfaWQiOjkxMDMwMjUyLCJpYXQiOjE2NzEzODczNTIsImV4cCI6MTY3Mzk3OTM1MiwiaXNzIjoicHViLTExNDYzNTkiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.RZU7AtuniYhyaaTTLCfNza4a1-6RkCbOmGEap8V5S-M&#34;,&#34;text&#34;:&#34;Share&#34;,&#34;action&#34;:null,&#34;class&#34;:&#34;button-wrapper&#34;}"><a href="https://deusinmachina.substack.com/p/sending-a-message-how-objects-communicate?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&amp;token=eyJ1c2VyX2lkIjoxMDA1NTI0NjQsInBvc3RfaWQiOjkxMDMwMjUyLCJpYXQiOjE2NzEzODczNTIsImV4cCI6MTY3Mzk3OTM1MiwiaXNzIjoicHViLTExNDYzNTkiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.RZU7AtuniYhyaaTTLCfNza4a1-6RkCbOmGEap8V5S-M" rel=""><span>Share</span></a></p><p data-attrs="{&#34;url&#34;:&#34;https://deusinmachina.substack.com/?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&#34;,&#34;text&#34;:&#34;Share Deus In Machina&#34;,&#34;action&#34;:null,&#34;class&#34;:&#34;button-wrapper&#34;}"><a href="https://deusinmachina.substack.com/?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share" rel=""><span>Share Deus In Machina</span></a></p></div></div></div></article></div></div></div>
  </body>
</html>
