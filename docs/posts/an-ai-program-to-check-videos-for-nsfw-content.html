<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/dynamite-ready/movie-parser">Original</a>
    <h1>Show HN: An AI program to check videos for NSFW content</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p dir="auto">An app to read a movie file, and indicate which scenes are NSFW. You can download the installer for <a href="https://1drv.ms/u/s!AjqBQLCPd19igUS7zy_ENw7RN3G2" rel="nofollow">the Windows 10 version here</a>.</p>
<h2 dir="auto"><a id="user-content-using-the-app" aria-hidden="true" href="#using-the-app"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Using the app</h2>
<table>
<thead>
<tr>
<th><a href="https://i.imgur.com/k9xZiHu.png" rel="nofollow"><img src="https://camo.githubusercontent.com/4d3562969a54ad1192bde6adf9ce61f1db4dfb0d06a4b29fabab61dc5e24f025/68747470733a2f2f692e696d6775722e636f6d2f6b39785a694875682e706e67" alt="Launch the app" data-canonical-src="https://i.imgur.com/k9xZiHuh.png"/></a></th>
<th><a href="https://i.imgur.com/SIhRiet.png" rel="nofollow"><img src="https://camo.githubusercontent.com/253431cd81c0096a4796c88817c0a81d14ddfe66d29f5910a217b9f1888f647c/68747470733a2f2f692e696d6775722e636f6d2f53496852696574682e706e67" alt="Upload a video file" data-canonical-src="https://i.imgur.com/SIhRieth.png"/></a></th>
<th><a href="https://i.imgur.com/L3C9CKm.png" rel="nofollow"><img src="https://camo.githubusercontent.com/d9ec29fdb755dbc09606bb5d10c0690d7999fda87582cbc2c63f568800b81920/68747470733a2f2f692e696d6775722e636f6d2f4c334339434b6d682e706e67" alt="Check the file for NSFW content!" data-canonical-src="https://i.imgur.com/L3C9CKmh.png"/></a></th>
</tr>
</thead>
<tbody>
<tr>
<td>1: Launch</td>
<td>2: Upload</td>
<td>3: Evaluate</td>
</tr>
</tbody>
</table>
<h4 dir="auto"><a id="user-content-the-program-is-simple-after-launching-it-simply-click-the-upload-button-step-1-once-youve-done-that-use-the-file-dialog-to-choose-an-mp4-file-after-a-short-wait-step-2-the-app-will-load-and-display-a-video-for-each-scene-detected-in-the-video-submitted-then-step-by-step-the-app-will-evaluate-each-scene-and-highlight-the-banner-under-each-vid-to-indicate-its-nsfw-status" aria-hidden="true" href="#the-program-is-simple-after-launching-it-simply-click-the-upload-button-step-1-once-youve-done-that-use-the-file-dialog-to-choose-an-mp4-file-after-a-short-wait-step-2-the-app-will-load-and-display-a-video-for-each-scene-detected-in-the-video-submitted-then-step-by-step-the-app-will-evaluate-each-scene-and-highlight-the-banner-under-each-vid-to-indicate-its-nsfw-status"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><em>The program is simple. After launching it, simply click the &#39;Upload&#39; button (step 1). Once you&#39;ve done that, use the file dialog to choose an `.mp4` file. After a short wait (step 2), the app will load and display a video for each scene detected in the video submitted. Then, step by step, the app will evaluate each scene, and highlight the banner under each vid to indicate it&#39;s NSFW status.</em></h4>
<p dir="auto">You can find more information at - <a href="https://raskie.com/post/practical-ai-autodetecting-nsfw" rel="nofollow">https://raskie.com/post/practical-ai-autodetecting-nsfw</a></p>
<h2 dir="auto"><a id="user-content-1-dependencies" aria-hidden="true" href="#1-dependencies"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>1: Dependencies</h2>
<p dir="auto">These build instructions assume you are on Windows 10+.
Building for OSX or Linux isn&#39;t that much harder though, but if you need help, you can raise an issue.</p>
<p dir="auto">First of, you will need to install Node JS. You can find it here - <a href="https://nodejs.org/en/" rel="nofollow">https://nodejs.org/en/</a></p>
<p dir="auto">You will then need to build the following CLI programs found in the accompanying Movie Parser CLI project,
found here - <a href="https://github.com/dynamite-ready/movie-parser-cli">https://github.com/dynamite-ready/movie-parser-cli</a></p>
<ul dir="auto">
<li>evaluate-images.exe</li>
<li>process-video.exe</li>
</ul>
<p dir="auto">Instructions for building and running the programs above can be found in the repo, but you will also
need the following files to make the NSFW Movie Parser work</p>
<ul dir="auto">
<li><code>mkvmerge.exe</code> (found here - <a href="https://www.videohelp.com/software/MKVToolNix" rel="nofollow">https://www.videohelp.com/software/MKVToolNix</a>)</li>
<li><code>ResNet50_nsfw_model.pth</code> (found here - <a href="https://github.com/emiliantolo/pytorch_nsfw_model">https://github.com/emiliantolo/pytorch_nsfw_model</a>)</li>
</ul>
<h2 dir="auto"><a id="user-content-2-installation" aria-hidden="true" href="#2-installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>2: Installation</h2>
<p dir="auto">Using the command line, open a prompt in the project folder, and then:</p>

<h2 dir="auto"><a id="user-content-3-build" aria-hidden="true" href="#3-build"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>3: Build</h2>
<p dir="auto">You will need to build the app before you can start the program, as the build command will &#39;spread&#39; the contents of the <code>./public</code>
folder into the <code>./build</code> folder:</p>

<h2 dir="auto"><a id="user-content-4-start" aria-hidden="true" href="#4-start"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>4: Start</h2>
<p dir="auto">To run the app in test mode, use the following command:</p>

<p dir="auto">This will run the application in a desktop window locally, so you can test and debug the code.</p>
<h2 dir="auto"><a id="user-content-known-bugs" aria-hidden="true" href="#known-bugs"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Known bugs</h2>
<ul dir="auto">
<li>When rebuilding the app to package it, always delete the <code>./build</code> folder first</li>
<li>On Windows especially, the <code>npm run build</code> command will flake out, if you don&#39;t run the command from a terminal with administrator privileges</li>
<li>When compiling a build for production, the app will choke if <code>win.showDevTools();</code> is called</li>
<li>The bigger the video, the longer it will take to process it. This app wasn&#39;t built for long movies</li>
</ul>
</article>
        </div></div>
  </body>
</html>
