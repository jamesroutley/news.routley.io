<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://marc.info/?l=openbsd-arm&amp;m=164768992119719&amp;w=2">Original</a>
    <h1>OpenBSD/arm64 on Apple M1 systems</h1>
    
    <div id="readability-page-1" class="page">
<pre><b>[<a href="https://marc.info/?l=openbsd-arm&amp;m=164736110811751&amp;w=2">prev in list</a>] [<SPAN color="#c0c0c0">next in list</SPAN>] [<a href="https://marc.info/?l=openbsd-tech&amp;m=164768935419551&amp;w=2">prev in thread</a>] [<SPAN color="#c0c0c0">next in thread</SPAN>] </b>
<b><SPAN size="+1">
List:       <a href="https://marc.info/?l=openbsd-arm&amp;r=1&amp;w=2">openbsd-arm</a>
Subject:    <a href="https://marc.info/?t=164768951400001&amp;r=1&amp;w=2">OpenBSD/arm64 on Apple M1 systems</a>
From:       <a href="https://marc.info/?a=109752235000001&amp;r=1&amp;w=2">Mark Kettenis &lt;mark.kettenis () xs4all ! nl&gt;</a>
Date:       <a href="https://marc.info/?l=openbsd-arm&amp;r=1&amp;w=2&amp;b=202203">2022-03-19 11:38:21</a>
Message-ID: <a href="https://marc.info/?i=d3cca745d8da21dd%20()%20bloch%20!%20sibelius%20!%20xs4all%20!%20nl">d3cca745d8da21dd () bloch ! sibelius ! xs4all ! nl</a></SPAN>
[Download RAW <a href="https://marc.info/?l=openbsd-arm&amp;m=164768992119719&amp;q=mbox">message</a> or <a href="https://marc.info/?l=openbsd-arm&amp;m=164768992119719&amp;q=raw">body</a>]</b>

It has taken a while, but I&#39;m pleased to announce that OpenBSD/arm64
works well enough on Apple M1 systems for some wider testing.  A major
milestone was reached with the release of the Asahi Linux installer:

  <a href="https://asahilinux.org/2022/03/asahi-linux-alpha-release/" rel="nofollow">https://asahilinux.org/2022/03/asahi-linux-alpha-release/</a>

This provides an easy way to add UEFI &#34;firmware&#34; to your Apple M1
machine which is required to boot OpenBSD/arm64.  The basic steps are:

* Update macOS to the latest release (12.3).

* Create some free space on the internal NVMe storage.  You can either
  do this with the macOS diskutil command line tool, or by using the
  Asahi Linux installer (see below).

* Open a terminal window and run the installer:

  $ curl <a href="https://alx.sh" rel="nofollow">https://alx.sh</a> | sh

  Follow the steps presented to you.  Choose &#34;UEFI environment only
  (m1n1 + U-Boot + ESP)&#34; when prompted to choose an OS to install.
  After you complete all the steps, you should end up at the U-Boot
  prompt.

* Write the arm64 snapshot miniroot71.img to a USB storage device and
  connect it to one of the USB Type-C ports (the Type-A ports on the
  Mac mini will not work).

* Reboot the machine by typing &#34;reset&#34; at the U-Boot prompt.

The machine should now boot into the OpenBSD installer.  From this
point onwards the normal OpenBSD installation instructions apply.
This will keep your existing macOS install even if you select the
&#34;(W)hole disk&#34; option in the installer.

All currently available Apple M1 machines should work (except for the
recently announced Mac Studio).  Hardware support isn&#39;t complete, but
is on par with Asahi Linux.  All the basics (keyboard, touchpad, 1Gb
Ethernet, WiFi, USB, NVMe storage, X on the framebuffer console) work.
And WiFi works even in the OpenBSD installer!  There is no
suspend/resume or hibernate support yet and the lack of GPU
acceleration means that video playback probably isn&#39;t a great
experience.

At this point only snapshots will work.  But the 7.1 release is around
the corner!  Development continues at a fairly fast pace so a
sysupgrade every now and then won&#39;t hurt.  And updates to the UEFI
environment may be necessary at certain points as well.

Cheers,

Mark

<b>[<a href="https://marc.info/?l=openbsd-arm&amp;m=164736110811751&amp;w=2">prev in list</a>] [<SPAN color="#c0c0c0">next in list</SPAN>] [<a href="https://marc.info/?l=openbsd-tech&amp;m=164768935419551&amp;w=2">prev in thread</a>] [<SPAN color="#c0c0c0">next in thread</SPAN>] </b>
</pre>
  </div>
  </body>
</html>
