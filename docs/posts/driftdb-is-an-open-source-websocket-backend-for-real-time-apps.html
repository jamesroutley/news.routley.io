<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://driftdb.com/">Original</a>
    <h1>Show HN: DriftDB is an open source WebSocket backend for real-time apps</h1>
    
    <div id="readability-page-1" class="page"><div id="docusaurus_skipToContent_fallback"><main><div><div><article><p><a href="https://github.com/drifting-in-space/driftdb" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/github/stars/drifting-in-space/driftdb?style=social" alt="GitHub Repo stars"/></a>
<a href="https://crates.io/crates/driftdb" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/crates/v/driftdb.svg" alt="crates.io"/></a>
<a href="https://docs.rs/driftdb/" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/badge/rust-docs-brightgreen" alt="docs.rs"/></a>
<a href="https://driftdb.com/" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/badge/client-docs-brightgreen" alt="docs.rs"/></a>
<a href="https://github.com/drifting-in-space/driftdb/actions/workflows/test.yml" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://github.com/drifting-in-space/driftdb/actions/workflows/test.yml/badge.svg" alt="Test"/></a>
<a href="https://discord.gg/N5sEpsuhh9" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://img.shields.io/static/v1?label=chat&amp;message=discord&amp;color=404eed" alt="Chat on Discord"/></a></p><p><strong>DriftDB is a real-time data backend that runs on the edge.</strong> Clients connect to it directly over a WebSocket. It supports a number of messaging primitives, including:</p><ul><li>Publisher / subscriber channels (PubSub)</li><li>Key/value storage with subscriptions</li><li>Ordered streams</li></ul><p>As an example of what it’s capable of, here’s a <a href="https://demos.driftdb.com/voxel" target="_blank" rel="noopener noreferrer">multiplayer voxel editor</a> in <a href="https://github.com/drifting-in-space/driftdb/blob/main/js-pkg/demos/src/pages/voxel.tsx" target="_blank" rel="noopener noreferrer">under 200 lines of code</a>.</p><p>DriftDB is MIT-licensed Rust code. A client library is provided for JavaScript, as well as ergonomic React bindings.</p><p>We also provide hosted DriftDB instances called <a href="https://jamsocket.live" target="_blank" rel="noopener noreferrer">Jamsocket Live</a>. These docs are applicable both to self-hosted and Jamsocket Live instances.</p><h2 id="live-demos">Live Demos<a href="#live-demos" aria-label="Direct link to Live Demos" title="Direct link to Live Demos">​</a></h2><ul><li><a href="https://demos.driftdb.com/state" target="_blank" rel="noopener noreferrer">Shared State</a> (<a href="https://github.com/drifting-in-space/driftdb/blob/main/js-pkg/demos/src/pages/shared-canvas.tsx" target="_blank" rel="noopener noreferrer">code</a>)</li><li><a href="https://demos.driftdb.com/counter" target="_blank" rel="noopener noreferrer">Counter</a> (<a href="https://github.com/drifting-in-space/driftdb/blob/main/js-pkg/demos/src/pages/counter.tsx" target="_blank" rel="noopener noreferrer">code</a>)</li><li><a href="https://demos.driftdb.com/tictactoe" target="_blank" rel="noopener noreferrer">Tic Tac Toe</a> (<a href="https://github.com/drifting-in-space/driftdb/blob/main/js-pkg/demos/src/pages/tictactoe.tsx" target="_blank" rel="noopener noreferrer">code</a>)</li><li><a href="https://demos.driftdb.com/voxel" target="_blank" rel="noopener noreferrer">Voxel Editor</a> (<a href="https://github.com/drifting-in-space/driftdb/blob/main/js-pkg/demos/src/pages/voxel.tsx" target="_blank" rel="noopener noreferrer">code</a>)</li></ul><h2 id="react-example">React example<a href="#react-example" aria-label="Direct link to React example" title="Direct link to React example">​</a></h2><p>Here’s an example of DriftDB-React in action to synchronize a slider element across multiple clients:</p><div><div><pre tabindex="0"><code><span><span>import</span><span> </span><span>{</span><span> </span><span>DriftDBProvider</span><span>,</span><span> useSharedState </span><span>}</span><span> </span><span>from</span><span> </span><span>&#39;driftdb-react&#39;</span><span></span><br/></span><span><span></span><br/></span><span><span></span><span>function</span><span> </span><span>StateDemo</span><span>(</span><span>)</span><span> </span><span>{</span><span></span><br/></span><span><span>    </span><span></span><br/></span><span><span>    </span><span>const</span><span> </span><span>[</span><span>slider</span><span>,</span><span> setSlider</span><span>]</span><span> </span><span>=</span><span> </span><span>useSharedState</span><span>(</span><span>&#34;slider&#34;</span><span>,</span><span> </span><span>0</span><span>)</span><span></span><br/></span><span><span></span><br/></span><span><span>    </span><span>return</span><span> </span><span>&lt;</span><span>div</span><span>&gt;</span><span></span><br/></span><span><span>        </span><span>&lt;</span><span>input</span><span></span><br/></span><span><span>            </span><span>type</span><span>=</span><span>&#34;</span><span>range</span><span>&#34;</span><span></span><br/></span><span><span>            </span><span>value</span><span>=</span><span>{</span><span>slider</span><span>}</span><span></span><br/></span><span><span>            </span><span>onChange</span><span>=</span><span>{</span><span>e</span><span> </span><span>=&gt;</span><span> </span><span>setSlider</span><span>(</span><span>parseInt</span><span>(</span><span>e</span><span>.</span><span>target</span><span>.</span><span>value</span><span>)</span><span>)</span><span>}</span><span></span><br/></span><span><span>        </span><span>/&gt;</span><span></span><br/></span><span><span>    </span><span>&lt;/</span><span>div</span><span>&gt;</span><span></span><br/></span><span><span></span><span>}</span><span></span><br/></span><span><span></span><br/></span><span><span></span><span>export</span><span> </span><span>default</span><span> </span><span>function</span><span> </span><span>SliderDemo</span><span>(</span><span>)</span><span> </span><span>{</span><span></span><br/></span><span><span>    </span><br/></span><span><span></span><br/></span><span><span>    </span><span>const</span><span> dbUrl </span><span>=</span><span> </span><span>&#34;https://api.jamsocket.live/db/FILL_ME_IN&#34;</span><span></span><br/></span><span><span>    </span><span>return</span><span> </span><span>&lt;</span><span>div</span><span>&gt;</span><span></span><br/></span><span><span>        </span><span>&lt;</span><span>DriftDBProvider</span><span> </span><span>api</span><span>=</span><span>{</span><span>dbUrl</span><span>}</span><span>&gt;</span><span></span><br/></span><span><span>            </span><span>&lt;</span><span>StateDemo</span><span> </span><span>/&gt;</span><span></span><br/></span><span><span>        </span><span>&lt;/</span><span>DriftDBProvider</span><span>&gt;</span><span></span><br/></span><span><span>    </span><span>&lt;/</span><span>div</span><span>&gt;</span><span></span><br/></span><span><span></span><span>}</span><br/></span></code></pre></div></div><p>All messages in DriftDB belong to a <strong>room</strong>, and have a <strong>subject</strong>. Rooms and subjects are both represented by strings. Rooms are represented by a unique generated string of characters. Subjects are chosen by he developer and usually have a meaning in the context of the application. In the example above, <code>slider</code> is the name of the subject used for synchronziing the state of the range slider input.</p><p>The room in the example above depends on whether the user visits the page directly or via a link that includes a room ID. If the user visits the page directly, a new room ID is generated and inserted into the URL. If another user opens the same URL, they will be connected to the same room, and instantly be sharing state. This is not behavior of DriftDB itself, but of the <code>DriftDBProvider</code> React component used as a client.</p><p>A connection with the server is scoped to a <strong>room</strong>. Messages to multiple subjects (within the same room) are multiplexed over one connection.</p><p>For more details on DriftDB-React, see <a href="https://driftdb.com/docs/react">the React docs</a> or <a href="https://www.youtube.com/watch?v=ktb6HUZlyJs" target="_blank" rel="noopener noreferrer">this four-minute tutorial video</a>.</p><h2 id="limitations">Limitations<a href="#limitations" aria-label="Direct link to Limitations" title="Direct link to Limitations">​</a></h2><p>DriftDB is intended for use cases where a relatively small number of clients need to share some state over a relatively short period of time. For example, it could be used to build a shared whiteboard, or act as a signaling server for WebRTC. It does not currently support persisted state.</p><p>DriftDB has a very basic trust model: if you have the room ID, you have write access to all data in the room. This is useful for applications whose multiplayer functionality can be siloed into rooms, where access to each room can be limited to a set of people trusted by the room’s creator.</p><p>If you want to run arbitrary server-side code for persistence or access control, consider using <a href="https://plane.dev/" target="_blank" rel="noopener noreferrer">Plane</a> instead.</p><h2 id="learn-more">Learn more<a href="#learn-more" aria-label="Direct link to Learn more" title="Direct link to Learn more">​</a></h2><ul><li><a href="https://driftdb.com/docs/react">Read more about the React interface</a></li><li><a href="https://driftdb.com/docs/api">Learn the API</a></li></ul></article></div></div></main></div></div>
  </body>
</html>
