<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://undeadly.org/cgi?action=article;sid=20230308063109">Original</a>
    <h1>Initial support for guided disk encryption in OpenBSD installer</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>Contributed by
<a href="http://bsdly.blogspot.com/">Peter N. M. Hansteen</a>
on <time datetime="2023-03-07T19:17:27Z">2023-03-07</time>
from the take my disk to the crypt dept.</p><p>
The <a href="https://www.openbsd.org">OpenBSD</a> installer now has basic support for configuring disk encryption during the regular installation process. Previously, disk encryption needed to be set up manually by dropping to the shell
from the installer.
</p><p>
Initial support, likely to be expanded upon, was
<a href="https://marc.info/?l=openbsd-cvs&amp;m=167821018806244&amp;w=2">committed</a>
by Klemens Nanni (<code>kn@</code>) on
<time datetime="2023-03-07">March 7, 2023</time>.
The commit reads,
</p><blockquote><pre>Subject:    CVS: cvs.openbsd.org: src
From:       Klemens Nanni &lt;kn () cvs ! openbsd ! org&gt;
Date:       <time datetime="2023-03-07 17:29:42">2023-03-07 17:29:42</time>
</pre></blockquote> 
<blockquote><pre>CVSROOT:	/cvs
Module name:	src
Changes by:	kn@cvs.openbsd.org	2023/03/07 10:29:42

Modified files:
	distrib/amd64/common: install.md 
	distrib/i386/common: install.md 
	distrib/miniroot: install.sub 
	distrib/riscv64/ramdisk: install.md 
	distrib/sparc64/common: install.md 

Log message:
Initial support for guided disk encryption

One new question to cover the most common use case, such that manual setup
in (S)hell or &#39;!&#39; prior to install is no longer required:

Encrypt the root disk? (disk, &#39;no&#39; or &#39;?&#39; for details) [no] ?

Create a passphrase protected <abbr>CRYPTO</abbr> softraid volume to be used as root disk.

Available disks are: sd0.
Encrypt the root disk? (disk, &#39;no&#39; or &#39;?&#39; for details) [no]

Use of keydisk or different disciplines are not covered.
Only asked in interactive installations;  no <a href="https://man.openbsd.org/autoinstall.8">autoinstall(8)</a> or upgrades.
Only reachable on <abbr>i386</abbr>, <abbr>amd64</abbr>, <abbr>sparc64</abbr> and <abbr>riscv64</abbr> for now (<abbr>arm64</abbr> <abbr>WIP</abbr>).

Tested by cheloha naddy and a few users
Feedback from cheloha deraadt claudio
OK cheloha
&#34;get it in now&#34; deraadt
</pre></blockquote> 
<p>
We very much look forward to seeing further development on this!
</p><p>
If you feel up to it, please test and report.
</p></div></div>
  </body>
</html>
