<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://onestepcode.com/floyd-hare-tortoise-algorithm-demo/?utm_source=rss&amp;utm_medium=rss&amp;utm_campaign=floyd-hare-tortoise-algorithm-demo">Original</a>
    <h1>Floyd’s Hare and Tortoise Algorithm Demo</h1>
    
    <div id="readability-page-1" class="page"><div>
						
<p>Floyd’s algorithm is used to find cycles in linked lists. It’s a smart and simple approach to find the starting node of a cycle with <em>O(n)</em> time complexity and <em>O(1)</em> space complexity.</p>



<div><figure><img width="350" height="60" src="https://onestepcode.com/wp-content/uploads/2022/02/circularly-linked-list.png" alt="" srcset="https://onestepcode.com/wp-content/uploads/2022/02/circularly-linked-list.png 350w, https://onestepcode.com/wp-content/uploads/2022/02/circularly-linked-list-300x51.png 300w" sizes="(max-width: 350px) 100vw, 350px"/><figcaption>Example of a cycle in a linked list (<a href="https://commons.wikimedia.org/wiki/File:Circularly-linked-list.svg">source</a>)</figcaption></figure></div>



<p>We’ll start by a description of a common algorithm to find cycles, then continue to briefly explain Floyd’s algorithm, and finally show an interactive demo of it.</p>



<p>-&gt; Skip to the <a href="#demo">demo</a></p>



<h2>Regular algorithm to find cycles</h2>



<p>A very simple approach to find cycles in a linked list would be as follows:</p>



<pre data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">previous = new Map()
while (node = next(node)) {
  if (previous.has(node))
    return true
  previous.add(node)
}
return false</pre>



<p>This algorithm visits every node in the linked list and stores the previously visited nodes. If at any time the <code>node</code> is part of the <code>previous</code> nodes, then we have a cycle. If we reach the end of the linked list, we break out of the loop. In that case, there is no cycle.</p>



<p>This simple algorithm is <em>O(n)</em> in time complexity. Every node is visited at least once. It’s also <em>O(n)</em> in space complexity. We store a list of all of the previously visited nodes.</p>



<h2>Floyd’s algorithm</h2>



<p><a href="https://en.wikipedia.org/wiki/Cycle_detection">Floyd’s algorithm</a> is implemented using two-pointers. One, the <em>tortoise</em>, moves one node at a time. The other, the <em>hare</em>, moves twice as fast. If the linked list is cyclic, the hare will eventually cross the tortoise after it has entered the cycle. It’s similar to runners in a circular track, with the fastest runners eventually crossing the slower ones. </p>



<h3>First phase</h3>



<p>Floyd’s algorithm is divided into two phases. In the first phase, both the hare and the tortoise start at the head of the linked list. They advance through the linked list, each at its own pace. The first phase finishes when the hare reaches the end of the linked list (there is no cycle), or when it reaches a node where the tortoise is at. Note that we compare only the node currently being visited by the hare, not the two that it traverses during each step.</p>



<h3>Second phase</h3>



<p>This phase takes place only if the hare reaches a node that the tortoise is currently visiting. Then, the tortoise pointer is moved back to the head of the linked list. The hare stays at its initial node. Next, both the hare and the tortoise start moving one node at a time. Floyd’s algorithm guarantees that the node where they meet again is at the start of the cycle!</p>



<p>For a mathematical explanation of why they’re guaranteed to meet at the start of the cycle, check this <a href="https://www.youtube.com/watch?v=LUm2ABqAs1w">video</a>.</p>



<h2 id="demo">Floyd’s Algorithm Demo</h2>



<p>Finally, for the most interesting part of this blog post, an interactive demo of Floyd’s algorithm!</p>




<div>
  <p><label for="-ht--ll-size">Total size</label>
    
    <span id="-ht--ll-size-value">1</span>
  </p>
  <p><label for="-ht--cycle-size">Cycle size</label>
    
    <span id="-ht--cycle-size-value">0</span>
  </p>
  
  <p><span>Status:</span>
    <span id="-ht--status-content"></span>
  </p>
</div>





<p>To start, set the size of the linked list and the desired size of the cycle using the slider inputs. Then, click on the <em>next</em> button to start the demo and keep pressing it to advance the demo. The simulation stops when the end of the linked list is reached or Floyd’s algorithm is completed. Press <em>reset</em> to start again.</p>



<ul><li>Visit the <a href="https://codepen.io/onestepcode/pen/NWwLgRE">Codepen</a> if the demo does not display correctly.</li></ul>




					</div></div>
  </body>
</html>
