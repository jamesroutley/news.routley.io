<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.joshwcomeau.com/react/file-structure/">Original</a>
    <h1>Delightful React file/directory structure</h1>
    
    <div id="readability-page-1" class="page"><div><div><article><p>React is famously unopinionated when it comes to file/directory structure. How should you structure the files and directories in your applications?</p><p>Well, there is no one “right” way, but I&#39;ve tried <em>lots</em> of different approaches in the 7+ years I&#39;ve been using React, and I&#39;ve iterated my way to a solution I&#39;m <em>really</em> happy with.</p><p>In this blog post, I&#39;ll share the structure I use across all my current projects, including this blog and my custom course platform.</p><div><h2><a name="interactive-file-explorer" id="interactive-file-explorer" href="#interactive-file-explorer"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg><p>Link to this heading</p></a>Interactive file explorer</h2></div><p>Alright, so I&#39;ll explain everything in depth, but I thought it&#39;d be fun to let you take a self-guided tour first.</p><p>Here&#39;s an <em color="var(--color-secondary)">interactive</em> file explorer. Feel free to poke around and see how things are structured!</p><div><div><div lang="jsx"><div><pre aria-hidden="true"><p><span>import</span><span> </span><span>*</span><span> </span><span>as</span><span> </span><span>CONSTANTS</span><span> </span><span>from</span><span> </span><span>&#39;./Widget.constants&#39;</span><span>;</span><span></span></p><p><span></span><span>import</span><span> </span><span>{</span><span> someHelperFn</span><span>}</span><span> </span><span>from</span><span> </span><span>&#39;./Widget.helpers&#39;</span><span>;</span><span></span></p><p><span></span><span>import</span><span> useStuff </span><span>from</span><span> </span><span>&#39;./use-stuff.hook&#39;</span><span>;</span><span></span></p><p><span></span><span>import</span><span> WidgetChild </span><span>from</span><span> </span><span>&#39;./WidgetChild&#39;</span><span>;</span><span></span></p><p><span></span><span>function</span><span> </span><span>Widget</span><span>(</span><span>)</span><span> </span><span>{</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span></span><span>export</span><span> </span><span>default</span><span> Widget</span><span>;</span></p></pre></div></div></div></div><p>The files in this demo are JavaScript, but this structure works just as well for TypeScript projects!</p><p>Let&#39;s start by talking about my priorities, the things I&#39;ve optimized for.</p><p>First, I want to make it easy to import components. I want to be able to write this:</p><pre></pre><p>Next: when I&#39;m working in my IDE, I don&#39;t want to be flooded with <code>index.js</code> files. I&#39;ve worked in projects where the top bar looked like this:</p><span type="default"><img src="https://www.joshwcomeau.com/images/file-structure/index.png" alt="A bunch of files open, all called “index.js”"/></span><p>To be fair, most editors will now include the parent directory when multiple <code>index.js</code> files are open at once, but then each tab takes up way more space:</p><p><span type="default"><img src="https://www.joshwcomeau.com/images/file-structure/index-slightly-better.png" alt="A bunch of files open, formatted like “index.js - /RainbowButton”"/></span></p><p><span type="default"><img src="https://www.joshwcomeau.com/images/file-structure/index-slightly-better-mobile.png" alt="A bunch of files open, formatted like “index.js - /RainbowButton”"/></span></p><p>My goal is to have nice, clean component file names, like this:</p><p><span type="default"><img src="https://www.joshwcomeau.com/images/file-structure/index-fixed.png" alt="A bunch of files open, with proper names like “RainbowButton.js”"/></span></p><p><span type="default"><img src="https://www.joshwcomeau.com/images/file-structure/index-fixed-mobile.png" alt="A bunch of files open, with proper names like “RainbowButton.js”"/></span></p><p>Finally, in terms of organization, I want things to be organized by function, not by feature. I want a “components” directory, a “hooks” directory, a “helpers” directory, and so on.</p><p>Sometimes, a complex component will have a bunch of associated files. These include:</p><ul><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p>&#34;Sub-components&#34;, smaller components used exclusively by the main component</p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p>Helper functions</p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p>Custom hooks</p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p>Constants or data shared between the component and its associated files</p></li></ul><p>As a real example, let&#39;s talk about the <code>FileViewer</code> component, used in this blog post for the “interactive file explorer” demo. Here are the files created specifically for this component:</p><ul><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p><code>FileViewer.js</code> — the main component</p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p><code>FileContent.js</code> — the component that renders the contents of a file, with syntax highlighting</p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p><code>Sidebar.js</code> — The list of files and directories that can be explored</p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p><code>Directory.js</code> — the collapsible directory, to be used in the sidebar</p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p><code>File.js</code> — An individual file, to be used in the sidebar</p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p><code>FileViewer.helpers.js</code> — helper functions to traverse the tree and help manage the expanding/collapsing functionality</p></li></ul><p>Ideally, all of these files should be tucked away, out of sight. They&#39;re only needed when I&#39;m working on the <code>FileViewer</code> component, and so I should only see them when I&#39;m working on <code>FileViewer</code>.</p><p>Alright, so let&#39;s talk about how my implementation addresses these priorities.</p><p>Here&#39;s an example component, with all the files and directories required to accomplish my goals:</p><pre></pre><p>Most of these files are the ones mentioned earlier, the files needed for the <code>FileViewer</code> component. The exception is <code>index.js</code>. That&#39;s new.</p><p>If we open it up, we see something a bit curious:</p><pre></pre><p>This is essentially a redirection. When we try to import this file, we&#39;ll be forwarded to the <code>FileViewer.js</code> file in the same directory. <code>FileViewer.js</code> holds the <em>actual</em> code for this component.</p><p><strong>Why not keep the code in <code>index.js</code> directly?</strong> Well, then our editor will fill up with <code>index.js</code> files! I don&#39;t want that.</p><p><strong>Why have this file at all?</strong> It simplifies imports. Otherwise, we&#39;d have to drill into the component directory and select the file manually, like this:</p><pre></pre><p>With our <code>index.js</code> forwarding, we can shorten it to just:</p><pre></pre><p><strong>Why does this work?</strong> Well, <code>FileViewer</code> is a directory, and when we try to import a directory, the bundler will seek out an index file (<code>index.js</code>, <code>index.ts</code>, etc). This is a convention carried over from web servers: <code>my-website.com</code> will automatically try to load <code>index.html</code>, so that the user doesn&#39;t have to write <code>my-website.com/index.html</code>.</p><p>In fact, I think it helps to think of this in terms of an HTTP request. When we import <code>src/components/FileViewer</code>, the bundler will see that we&#39;re importing a directory and automatically load <code>index.js</code>. The <code>index.js</code> does a metaphorical <em>301 REDIRECT</em> to <code>src/components/FileViewer/FileViewer.js</code>.</p><p>It may seem over-engineered, but this structure ticks all of my boxes, and I love it.</p><p>If a hook is specific to a component, I&#39;ll keep it alongside that component. But what if the hook is generic, and meant to be used by lots of components?</p><p>In this blog, I have about 50 generalized, reusable hooks. They&#39;re collected in the <code>src/hooks</code> directory. Here are some examples:</p><div><div><div lang="jsx"><div><pre aria-hidden="true"><p><span></span><span>import</span><span> React </span><span>from</span><span> </span><span>&#39;react&#39;</span><span>;</span><span></span></p><p><span></span><span>import</span><span> </span><span>{</span><span> useSpring </span><span>}</span><span> </span><span>from</span><span> </span><span>&#39;react-spring&#39;</span><span>;</span><span></span></p><p><span></span><span>import</span><span> usePrefersReducedMotion </span><span>from</span><span> </span><span>&#39;@hooks/use-prefers-reduced-motion.hook&#39;</span><span>;</span><span></span></p><p><span></span><span>function</span><span> </span><span>useBoop</span><span>(</span><span>{</span><span></span></p><p><span>  x </span><span>=</span><span> </span><span>0</span><span>,</span><span></span></p><p><span>  y </span><span>=</span><span> </span><span>0</span><span>,</span><span></span></p><p><span>  rotation </span><span>=</span><span> </span><span>0</span><span>,</span><span></span></p><p><span>  scale </span><span>=</span><span> </span><span>1</span><span>,</span><span></span></p><p><span>  timing </span><span>=</span><span> </span><span>150</span><span>,</span><span></span></p><p><span>  springConfig </span><span>=</span><span> </span><span>{</span><span></span></p><p><span>    tension</span><span>:</span><span> </span><span>300</span><span>,</span><span></span></p><p><span>    friction</span><span>:</span><span> </span><span>10</span><span>,</span><span></span></p><p><span>  </span><span>}</span><span>,</span><span></span></p><p><span></span><span>}</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>const</span><span> prefersReducedMotion </span><span>=</span><span> </span><span>usePrefersReducedMotion</span><span>(</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>const</span><span> </span><span>[</span><span>isBooped</span><span>,</span><span> setIsBooped</span><span>]</span><span> </span><span>=</span><span> React</span><span>.</span><span>useState</span><span>(</span><span>false</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>const</span><span> style </span><span>=</span><span> </span><span>useSpring</span><span>(</span><span>{</span><span></span></p><p><span>    transform</span><span>:</span><span> isBooped</span></p><p><span>      </span><span>?</span><span> </span><span>`</span><span>translate(</span><span>${</span><span>x</span><span>}</span><span>px, </span><span>${</span><span>y</span><span>}</span><span>px)</span></p><p><span>          rotate(</span><span>${</span><span>rotation</span><span>}</span><span>deg)</span></p><p><span>          scale(</span><span>${</span><span>scale</span><span>}</span><span>)</span><span>`</span><span></span></p><p><span>      </span><span>:</span><span> </span><span>`</span><span>translate(0px, 0px)</span></p><p><span>          rotate(0deg)</span></p><p><span>          scale(1)</span><span>`</span><span>,</span><span></span></p><p><span>    config</span><span>:</span><span> springConfig</span><span>,</span><span></span></p><p><span>  </span><span>}</span><span>)</span><span>;</span><span></span></p><p><span>  React</span><span>.</span><span>useEffect</span><span>(</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>if</span><span> </span><span>(</span><span>!</span><span>isBooped</span><span>)</span><span> </span><span>{</span><span></span></p><p><span>      </span><span>return</span><span>;</span><span></span></p><p><span>    </span><span>}</span><span></span></p><p><span>    </span><span>const</span><span> timeoutId </span><span>=</span><span> window</span><span>.</span><span>setTimeout</span><span>(</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>      </span><span>setIsBooped</span><span>(</span><span>false</span><span>)</span><span>;</span><span></span></p><p><span>    </span><span>}</span><span>,</span><span> timing</span><span>)</span><span>;</span><span></span></p><p><span>    </span><span>return</span><span> </span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>      window</span><span>.</span><span>clearTimeout</span><span>(</span><span>timeoutId</span><span>)</span><span>;</span><span></span></p><p><span>    </span><span>}</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>,</span><span> </span><span>[</span><span>isBooped</span><span>]</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>const</span><span> trigger </span><span>=</span><span> React</span><span>.</span><span>useCallback</span><span>(</span><span>(</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>    </span><span>setIsBooped</span><span>(</span><span>true</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>}</span><span>,</span><span> </span><span>[</span><span>]</span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>let</span><span> appliedStyle </span><span>=</span><span> prefersReducedMotion </span><span>?</span><span> </span><span>{</span><span>}</span><span> </span><span>:</span><span> style</span><span>;</span><span></span></p><p><span>  </span><span>return</span><span> </span><span>[</span><span>appliedStyle</span><span>,</span><span> trigger</span><span>]</span><span>;</span><span></span></p><p><span></span><span>}</span><span></span></p><p><span></span><span>export</span><span> </span><span>default</span><span> useBoop</span><span>;</span></p></pre></div></div></div></div><p>(This code is real! it&#39;s provided here as an example, but feel free to copy the hooks you&#39;re interested in.)</p><p>What if I have a function that will help me accomplish some goal for the project, not directly tied to a specific component?</p><p>For example: this blog has multiple blog post categories, like React, CSS, and Animations. I have some functions that help me sort the categories by the number of posts, or get the formatted / &#34;pretty&#34; name for them. All that stuff lives in a <code>category.helpers.js</code> file, inside <code>src/helpers</code>.</p><p>Sometimes, a function will start in a component-specific file (eg. <code>FileViewer/FileViewer.helpers.js</code>), but I&#39;ll realize that I need it in multiple spots. It&#39;ll get moved over to <code>src/helpers</code>.</p><p>Alright, so this one requires some explanation.</p><p>A lot of devs treat &#34;helpers&#34; and &#34;utils&#34; as synonyms, but I make a distinction between them.</p><p>A helper is something specific to a given project. It wouldn&#39;t generally make sense to share helpers between projects; the <code>category.helpers.js</code> functions really only make sense for this blog.</p><p>A utility is a generic function that accomplishes an abstract task. Pretty much every function in the <code>lodash</code> library is a utility, according to my definition.</p><p>For example, here&#39;s a utility I use a lot. It plucks a random item from an array:</p><pre></pre><p>I have a <code>utils.js</code> file full of these sorts of utility functions.</p><p><strong>Why not use an established utility library, like lodash?</strong> Sometimes I do, if it&#39;s not something I can easily build myself. But no utility library will have all of the utilities I need.</p><p>For example, this one moves the user&#39;s cursor within a text input:</p><pre></pre><p>And this utility gets the distance between two points on a cartesian plane (something that comes up surprisingly often in projects with non-trivial animations):</p><pre></pre><p>These utilities live in <code>src/utils.js</code>, and they come with me from project to project. I copy/paste the file when I create a new project. I <em>could</em> publish it through NPM to ensure consistency between projects, but that would add a significant amount of friction, and it&#39;s not a trade-off that has been worth it to me. Maybe at some point, but not yet.</p><p>Finally, I also have a <code>constants.js</code> file. This file holds app-wide constants. Most of them are style-related (eg. colors, font sizes, breakpoints), but I also store public keys and other “app data” here.</p><p>One thing not shown here is the idea of “pages”.</p><p>I&#39;ve omitted this section because it depends what tools you use. When I use something like create-react-app, I don&#39;t have pages, and everything is components. But when I use Next.js, I do have <code>/src/pages</code>, with top-level components that define the rough structure for each route.</p><p>Every strategy has trade-offs. let&#39;s talk about some of the downsides to the file structure approach outlined in this blog post.</p><p>Whenever I want to create a new component, I need to generate:</p><ul><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p>A new directory, <code>Widget/</code></p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p>A new file, <code>Widget/Widget.js</code></p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p>The index forwarder, <code>Widget/index.js</code></p></li></ul><p>That&#39;s a lot of work to do upfront!</p><p>Fortunately, <strong>I don&#39;t have to do any of that manually.</strong> I created an NPM package, <a href="https://www.npmjs.com/package/new-component" rel="noopener noreferrer" target="_blank">new-component</a>, which does all of this for me automatically.</p><p>In my terminal, I type:</p><pre></pre><p>When I execute this command, all of the boilerplate is created for me, including the basic component structure I&#39;d otherwise have to type out! It&#39;s an incredible time-saver, and in my opinion, it totally nullifies this drawback.</p><p>You&#39;re welcome to use my package if you&#39;d like! You might want to fork it, to match your preferred conventions.</p><div><h3><a name="organized-by-function" id="organized-by-function" href="#organized-by-function"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg><p>Link to this heading</p></a>Organized by function</h3></div><p>In general, there are two broad ways to organize things:</p><ul><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p>By function (components, hooks, helpers…)</p></li><li><span><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg></span><p>By feature (search, users, admin…)</p></li></ul><p>Here&#39;s an example of how to structure code by feature:</p><pre></pre><p>There are things I really like about this. It makes it possible to separate low-level reusable “component library” type components from high-level template-style views and pages. And it makes it easier to quickly get a sense of how the app is structured.</p><p><strong>But here&#39;s the problem:</strong> real life isn&#39;t nicely segmented like this, and categorization is actually <em>really hard</em>.</p><p>I&#39;ve worked with a few projects that took this sort of structure, and every time, there have been a few <em>significant</em> sources of friction.</p><p>Every time you create a component, you have to decide where that component belongs. If we create a component to search for a specific user, is that part of the “search” concern, or the “users” concern?</p><p>Often, the boundaries are blurry, and different developers will make different decisions around what should go where.</p><p>When I start work on a new feature, I have to find the files, and they might not be where I expect them to be. Every developer on the project will have their own conceptual model for what should go where, and I&#39;ll need to spend time acclimating to their view.</p><p><strong>And then there&#39;s the really big issue:</strong> <em>refactoring</em>.</p><p>Products are always evolving and changing, and the boundaries we draw around features today might not make sense tomorrow. When the product changes, it will require <strong>a ton</strong> of work to move and rename all the files, to recategorize everything so that it&#39;s in harmony with the next version of the product.</p><p><strong>Realistically, that work won&#39;t actually get done.</strong> It&#39;s too much trouble; the team is already working on stuff, and they have a bunch of half-finished PRs, where they&#39;re all editing files that will no longer exist if we move all the files around. It&#39;s possible to manage these conflicts, but it&#39;s a big pain.</p><p>And so, the distance between <em>product</em> features and the <em>code</em> features will drift further and further apart. Eventually, the features in the codebase will be conceptually organized around a product that no longer exists, and so everyone will just have to memorize where everything goes. Instead of being intuitive, the boundaries become totally arbitrary at best, and misleading at worst.</p><p>To be fair, it <em>is</em> possible to avoid this worst-case scenario, but it&#39;s a lot of extra work for relatively little benefit, in my opinion.</p><p><strong>But isn&#39;t the alternative too chaotic?</strong> It&#39;s not uncommon for large projects to have <em>thousands</em> of React components. If you follow my function-based approach, it means you&#39;ll have an enormous set of unorganized components sitting side-by-side in <code>src/components</code>.</p><p>This might sound like a big deal, but honestly, I feel like it&#39;s a small price to pay. At least you know exactly where to look! You don&#39;t have to hunt around through dozens of features to find the file you&#39;re after. And it takes 0 seconds to figure out where to place each new file you create.</p><p>Webpack is the bundler used to package up our code before deployment. There are other bundlers, but most common tools (eg. create-react-app, Next.js, Gatsby) will use Webpack internally.</p><p>A popular Webpack feature lets us create <em>aliases</em>, global names that point to a specific file or directory. For example:</p><pre></pre><p><strong>Here&#39;s how it works:</strong> I create an alias called <code>@helpers</code> which will point to the <code>/src/helpers</code> directory. Whenever the bundler sees <code>@helpers</code>, it replaces that string with a relative path for that directory.</p><p>The main benefit is that it turns a relative path (<code>../../helpers</code>) into an absolute path (<code>@helpers</code>). I never have to think about how many levels of <code>../</code> are needed. And when I move files, I don&#39;t have to fix/update any import paths.</p><p>Implementing Webpack aliases is beyond the scope of this blog post, and will vary depending on the meta-framework used, but you can learn more in <a href="https://webpack.js.org/configuration/resolve/" rel="noopener noreferrer" target="_blank">the Webpack documentation</a>.</p><div><h2><a name="something-on-the-horizon" id="something-on-the-horizon" href="#something-on-the-horizon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg><p>Link to this heading</p></a>Something on the horizon</h2></div><p>So, that&#39;s how I structure my React applications!</p><p>As I mentioned right at the top, there&#39;s no right/wrong way to manage file structure. Every approach prioritizes different things, makes different tradeoffs.</p><p>Personally, though, I&#39;ve found that this structure stays out of my way. I&#39;m able to spend my time doing what I like: building quality user interfaces.</p><p>React is so much fun. I&#39;ve been using it since 2015, and I <em>still</em> feel excited when I get to work with React.</p><p>For a few years, I taught at a local coding bootcamp. I&#39;ve worked one-on-one with <em>tons</em> of developers, answering their questions and helping them get unstuck. I wound up developing the curriculum that this school uses, for all of its instructors.</p><p>I want to share the joy of React with more people, and so I&#39;m working on something new. An online course that will teach you how to build complex, rich, whimsical, accessible applications with React.</p><p>It&#39;s too early to share much yet, but if you&#39;d like to follow along, the best way is through my newsletter. You&#39;ll be the first to hear about course updates, as well as any new blog posts I publish!</p><p>On average, I send about 1 issue a month. No spam, no nonsense. If you don&#39;t like it, you can unsubscribe in 1 click. <a href="https://www.joshwcomeau.com/newsletter-issues/020/" rel="noopener noreferrer" target="_blank">Check out a recent issue!</a></p><div><h2><a name="bonus-exploring-the-fileviewer-component" id="bonus-exploring-the-fileviewer-component" href="#bonus-exploring-the-fileviewer-component"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg><p>Link to this heading</p></a>Bonus: Exploring the FileViewer component</h2></div><p>Are you curious how I built that <code>FileViewer</code> component up there?</p><p>I&#39;ll be honest, it&#39;s not my <em>best</em> work. But I did hit some interesting challenges, trying to render a recursive structure with React!</p><p>If you&#39;re curious how it works, you can use the FileViewer component to explore the FileViewer source code. Not all of the context is provided, but it should give you a pretty good idea about how it works!</p><div><div><div lang="jsx"><div><pre aria-hidden="true"><p><span>import</span><span> React </span><span>from</span><span> </span><span>&#39;react&#39;</span><span>;</span><span></span></p><p><span></span><span>import</span><span> styled </span><span>from</span><span> </span><span>&#39;styled-components&#39;</span><span>;</span><span></span></p><p><span></span><span>import</span><span> Space </span><span>from</span><span> </span><span>&#39;@components/Space&#39;</span><span>;</span><span></span></p><p><span></span><span>import</span><span> Sidebar </span><span>from</span><span> </span><span>&#39;./Sidebar&#39;</span><span>;</span><span></span></p><p><span></span><span>import</span><span> FileContent </span><span>from</span><span> </span><span>&#39;./FileContent&#39;</span><span>;</span><span></span></p><p><span></span><span>import</span><span> </span><span>{</span><span> getFile </span><span>}</span><span> </span><span>from</span><span> </span><span>&#39;./FileViewer.helpers&#39;</span><span>;</span><span></span></p><p><span></span><span>const</span><span> </span><span>FileViewer</span><span> </span><span>=</span><span> </span><span>(</span><span>{</span><span> initialFiles </span><span>}</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span></span></p><p><span>  </span><span>const</span><span> </span><span>[</span><span>files</span><span>,</span><span> setFiles</span><span>]</span><span> </span><span>=</span><span> React</span><span>.</span><span>useState</span><span>(</span><span></span></p><p><span>    initialFiles</span></p><p><span>  </span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>const</span><span> activeFile </span><span>=</span><span> </span><span>getFile</span><span>(</span><span></span></p><p><span>    files</span><span>,</span><span></span></p><p><span>    </span><span>(</span><span>file</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>!</span><span>!</span><span>file</span><span>.</span><span>isSelected</span></p><p><span>  </span><span>)</span><span>;</span><span></span></p><p><span>  </span><span>return</span><span> </span><span>(</span><span></span></p><p><span>    </span><span>&lt;</span><span>Wrapper</span><span>&gt;</span><span></span></p><p><span>      </span><span>&lt;</span><span>Sidebar</span><span></span></p><p><span>        </span><span>files</span><span>=</span><span>{</span><span>files</span><span>}</span><span></span></p><p><span>        </span><span>setFiles</span><span>=</span><span>{</span><span>setFiles</span><span>}</span><span></span></p><p><span>      </span><span>/&gt;</span><span></span></p><p><span>      </span><span>&lt;</span><span>FlexedFileContent</span><span></span></p><p><span>        </span><span>contents</span><span>=</span><span>{</span><span>activeFile</span><span>.</span><span>contents</span><span>}</span><span></span></p><p><span>      </span><span>/&gt;</span><span></span></p><p><span>    </span><span>&lt;/</span><span>Wrapper</span><span>&gt;</span><span></span></p><p><span>  </span><span>)</span><span>;</span><span></span></p><p><span></span><span>}</span><span>;</span><span></span></p><p><span></span><span>const</span><span> Wrapper </span><span>=</span><span> </span><span>styled</span><span>(</span><span>Space</span><span>)</span><span>`</span><span></span></p><p><span>  display: flex;</span></p><p><span>  gap: 8px;</span></p><p><span>  padding: 16px;</span></p><p><span>  padding-left: 4px;</span></p><p><span>  margin: 0 -32px;</span></p><p><span>  border: 1px solid var(--color-gray-100);</span></p><p><span>  @media </span><span>${</span><span>(</span><span>p</span><span>)</span><span> </span><span>=&gt;</span><span> p</span><span>.</span><span>theme</span><span>.</span><span>breakpoints</span><span>.</span><span>mdAndSmaller</span><span>}</span><span> {</span></p><p><span>    flex-direction: column;</span></p><p><span>    gap: 16px;</span></p><p><span>  }</span></p><p><span></span><span>`</span><span>;</span><span></span></p><p><span></span><span>const</span><span> FlexedFileContent </span><span>=</span><span> </span><span>styled</span><span>(</span><span>FileContent</span><span>)</span><span>`</span><span></span></p><p><span>  flex: 1;</span></p><p><span></span><span>`</span><span>;</span><span></span></p><p><span></span><span>export</span><span> </span><span>default</span><span> FileViewer</span><span>;</span></p></pre></div></div></div></div></article></div></div></div>
  </body>
</html>
