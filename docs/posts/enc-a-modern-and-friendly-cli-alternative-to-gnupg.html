<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/life4/enc">Original</a>
    <h1>Show HN: Enc â€“ A modern and friendly CLI alternative to GnuPG</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><div dir="auto">
<themed-picture data-catalyst-inline="true"><picture>
  <source media="(prefers-color-scheme: dark)" srcset="/life4/enc/raw/master/logo-dark.svg"/>
  <source media="(prefers-color-scheme: light)" srcset="/life4/enc/raw/master/logo-light.svg"/>
  <img alt="enc logo" src="https://github.com/life4/enc/raw/master/logo-light.svg"/>
</picture></themed-picture>
    
    <p dir="auto"><b>a modern and friendly alternative to GnuPG</b></p>
</div>

<p dir="auto">Enc is a CLI tool for encryption, a modern and friendly alternative to <a href="https://gnupg.org/" rel="nofollow">GnuPG</a>. It is easy to use, secure by default and can encrypt and decrypt files using password or encryption keys, manage and download keys, and sign data. Our goal was to make encryption available to all engineers without the need to learn a lot of new words, concepts, and commands. It is the most beginner-friendly CLI tool for encryption, and keeping it that way is our top priority.</p>
<h2 dir="auto"><a id="user-content-features" aria-hidden="true" href="#features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Features</h2>
<ul dir="auto">
<li><strong>Easy installation</strong>. Grab the binary, and you&#39;re ready to go.</li>
<li><strong>Friendly CLI</strong>. We use well-isolated subcommands to group flags. There are no flags that can&#39;t be used together or must be used in a very specific combination.</li>
<li><strong>Well-documented</strong>.</li>
<li><strong>Reliable</strong>. Under the hood, enc uses <a href="https://github.com/ProtonMail/gopenpgp">gopenpgp</a> library. The same library that powers ProtonMail.</li>
<li><strong>UNIX-way</strong>. Enc does only one job and does it well. And it plays nicely with any other tools. It reads all possible input from stdin and writes all possible output into stdout.</li>
<li><strong>CI-friendly</strong>. There is no interactive prompt. All input is strictly stdin or CLI flags.</li>
</ul>
<p dir="auto">A few drawbacks to keep in mind:</p>
<ul dir="auto">
<li>Not all encryption algorithms supported by GnuPG are supported by enc.</li>
<li>You&#39;ll still need to import keys into GnuPG to use tools that are integrated with GnuPG, like git.</li>
</ul>
<h2 dir="auto"><a id="user-content-install" aria-hidden="true" href="#install"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Install</h2>
<p dir="auto">If you have Go:</p>
<div dir="auto" data-snippet-clipboard-copy-content="go install github.com/life4/enc@latest"><pre>go install github.com/life4/enc@latest</pre></div>
<p dir="auto">If you don&#39;t have Go, <a href="https://github.com/life4/enc/releases">grab the binary for your OS</a>.</p>
<p dir="auto">On Linux (and OS X, probably) that&#39;s how you can make the executable globally available:</p>
<ol dir="auto">
<li>Extract the binary: <code>tar -xf enc_*.tar.gz</code></li>
<li>Make it executable: <code>chmod +x enc</code></li>
<li>Place it in your PATH: <code>mv enc ~/.local/bin</code></li>
<li>Check if it works: <code>env version</code></li>
<li>If it says &#34;command not found&#34;, run <code>echo $PATH</code> and check if <code>~/.local/bin</code> is there. If not, add into your <code>~/.bashrc</code> the following: <code>export PATH=$PATH:~/.local/bin</code></li>
</ol>
<h2 dir="auto"><a id="user-content-encrypt" aria-hidden="true" href="#encrypt"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Encrypt</h2>
<p dir="auto">&#34;To encrypt something&#34; means making it unreadable for someone without a secret. Only the one who knows the secret can read an encrypted message. Let&#39;s encrypt a text message using a password:</p>
<div dir="auto" data-snippet-clipboard-copy-content="echo &#39;my secret message&#39; | enc encrypt --password &#39;very secret password&#39; &gt; encrypted.bin"><pre><span>echo</span> <span><span>&#39;</span>my secret message<span>&#39;</span></span> <span>|</span> enc encrypt --password <span><span>&#39;</span>very secret password<span>&#39;</span></span> <span>&gt;</span> encrypted.bin</pre></div>
<h2 dir="auto"><a id="user-content-decrypt" aria-hidden="true" href="#decrypt"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Decrypt</h2>
<p dir="auto">&#34;To decrypt something&#34; means to restore the encrypted message. If you look at the content of <code>encrypted.bin</code> from the previous step, you&#39;ll see that it&#39;s some binary gibberish. Let&#39;s decrypt that. And for that, you need to know the password that was used to encrypt the message.</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat encrypted.bin | enc decrypt --password &#39;very secret password&#39;"><pre>cat encrypted.bin <span>|</span> enc decrypt --password <span><span>&#39;</span>very secret password<span>&#39;</span></span></pre></div>
<p dir="auto">And you should see the &#34;my secret message&#34; output. And if you pass an incorrect password, you&#39;ll see a &#34;wrong password or malformed message&#34; error instead.</p>
<h2 dir="auto"><a id="user-content-a-note-on-secrets-and-shell-history" aria-hidden="true" href="#a-note-on-secrets-and-shell-history"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>A note on secrets and shell history</h2>
<p dir="auto">It&#39;s not safe to just plainly put your passwords like this as an argument to a command. Or to use <code>echo</code> to write a secret message. All your input will be stored in the history of your terminal. For example, for bash, it will be saved in <code>~/.bash_history</code>. There are a few helpful tips on how to avoid that:</p>
<ol dir="auto">
<li>Start the command with a space. Then it will not be stored in the bash history. It should work for other shells as well.</li>
<li>Use <a href="https://www.passwordstore.org/" rel="nofollow">pass</a> or another password manager: <code>enc encrypt --password=$(pass path/to/password)</code>.</li>
<li>Use <code>cat</code> without arguments as input: <code>enc encrypt --password=$(cat)</code>. It will read whatever you type in the terminal until you press <code>ctrl+d</code>.</li>
</ol>
<h2 dir="auto"><a id="user-content-armordearmor-the-message" aria-hidden="true" href="#armordearmor-the-message"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Armor/dearmor the message</h2>
<p dir="auto">Sometimes, you need to send the encrypted message as text, in a place where binary input isn&#39;t supported. For example, in a chat. For that, enc provides &#34;armoring&#34; that turns any binary input into text:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat encrypted.bin | enc armor &gt; encrypted.txt"><pre>cat encrypted.bin <span>|</span> enc armor <span>&gt;</span> encrypted.txt</pre></div>
<p dir="auto">Now, inside encrypted.txt you&#39;ll see something like this:</p>
<div data-snippet-clipboard-copy-content="-----BEGIN PGP MESSAGE-----
Version: enc 0.1.0
Comment: https://github.com/life4/enc

wy4ECQMIT0iy0Z6UgXHg6Zt9gwmLNWJ4Jx0aVE7K1CuFT03VoP7dmtAknap3+ioR
0kMB8dNyuHDE5mO27fu0GCJih60VSWcTbcFsSwanO8r462A0itZ68sDG5Tyv1b9C
y6LeJYJwgyGi8wemlqZVqdStggNM
=ArNH
-----END PGP MESSAGE-----"><pre lang="text"><code>-----BEGIN PGP MESSAGE-----
Version: enc 0.1.0
Comment: https://github.com/life4/enc

wy4ECQMIT0iy0Z6UgXHg6Zt9gwmLNWJ4Jx0aVE7K1CuFT03VoP7dmtAknap3+ioR
0kMB8dNyuHDE5mO27fu0GCJih60VSWcTbcFsSwanO8r462A0itZ68sDG5Tyv1b9C
y6LeJYJwgyGi8wemlqZVqdStggNM
=ArNH
-----END PGP MESSAGE-----
</code></pre></div>
<p dir="auto">And to decrypt the armored message, you should dearmor it back into binary:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat encrypted.txt | enc dearmor | enc decrypt --password &#39;very secret password&#39;"><pre>cat encrypted.txt <span>|</span> enc dearmor <span>|</span> enc decrypt --password <span><span>&#39;</span>very secret password<span>&#39;</span></span></pre></div>
<p dir="auto"><strong>Tip</strong>: you can omit <code>enc dearmor</code>. Enc will automatically detect if the input is armored and dearmor it.</p>
<h2 dir="auto"><a id="user-content-generate-a-key" aria-hidden="true" href="#generate-a-key"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Generate a key</h2>
<p dir="auto">Passwords aren&#39;t that good for encrypting things. It&#39;s helpful when you want to send an encrypted file and then tell your friend the secret by phone (or shout it to him in the next room), but when you can get a bit fancier, it&#39;s better to use a secret key. A key is a file that can be used to encrypt or decrypt messages. It&#39;s longer (and so safer) than a typical password and has one more feature we&#39;ll cover later. For now, let&#39;s just generate a new key:</p>
<div dir="auto" data-snippet-clipboard-copy-content="enc key generate &gt; private.key"><pre>enc key generate <span>&gt;</span> private.key</pre></div>
<p dir="auto"><strong>Tip</strong>: make sure to limit permissions for the keys you store locally (<code>chmod 600 *.key</code>).</p>
<p dir="auto">The key has quite a bit of information inside: your name and email, when it was generated, and expiration date. Of course, you can have a look yourself:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat private.key | enc key info"><pre>cat private.key <span>|</span> enc key info</pre></div>
<h2 dir="auto"><a id="user-content-encryptdecrypt-with-a-key" aria-hidden="true" href="#encryptdecrypt-with-a-key"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Encrypt/decrypt with a key</h2>
<p dir="auto">Encrypting the message using the key is quite similar to encrypting it with a password. Just pass the path to the key to use:</p>
<div dir="auto" data-snippet-clipboard-copy-content="echo &#39;hello world&#39; | enc encrypt --key private.key &gt; encrypted.bin"><pre><span>echo</span> <span><span>&#39;</span>hello world<span>&#39;</span></span> <span>|</span> enc encrypt --key private.key <span>&gt;</span> encrypted.bin</pre></div>
<p dir="auto">And similarly, decrypt:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat encrypted.bin | enc decrypt --key private.key"><pre>cat encrypted.bin <span>|</span> enc decrypt --key private.key</pre></div>
<h2 dir="auto"><a id="user-content-use-public-key-generate-and-encrypt" aria-hidden="true" href="#use-public-key-generate-and-encrypt"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Use public key (generate and encrypt)</h2>
<p dir="auto">The &#34;one more feature&#34; of keys we mentioned before is that your private key actually contains 2 keys:</p>
<ol dir="auto">
<li>Public key is used to encrypt messages.</li>
<li>Private key is used to decrypt messages encrypted with the public key.</li>
</ol>
<p dir="auto">The idea is that you can make your public available for everyone on your website, chats, etc. Anyone can take that public key, use it to encrypt a message, and send the encrypted message to you. And despite the public key being public, nobody but you can decrypt the message. Neat!</p>
<p dir="auto">Extract the public key from the private key:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat private.key | enc key public &gt; public.key"><pre>cat private.key <span>|</span> enc key public <span>&gt;</span> public.key</pre></div>
<p dir="auto">Encrypt the message with the public key:</p>
<div dir="auto" data-snippet-clipboard-copy-content="echo &#39;hello world&#39; | enc encrypt --key public.key &gt; encrypted.bin"><pre><span>echo</span> <span><span>&#39;</span>hello world<span>&#39;</span></span> <span>|</span> enc encrypt --key public.key <span>&gt;</span> encrypted.bin</pre></div>
<p dir="auto">The message can be decrypted only using the private key:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ cat encrypted.bin | enc decrypt --key private.key
hello world
$ cat encrypted.bin | enc decrypt --key public.key
Error: public key cannot be used to decrypt"><pre>$ cat encrypted.bin <span>|</span> enc decrypt --key private.key
hello world
$ cat encrypted.bin <span>|</span> enc decrypt --key public.key
Error: public key cannot be used to decrypt</pre></div>
<p dir="auto"><strong>Tip</strong>: keys can be armored using <code>enc key armor</code>.</p>
<h2 dir="auto"><a id="user-content-protect-private-key-with-a-password" aria-hidden="true" href="#protect-private-key-with-a-password"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Protect private key with a password</h2>
<p dir="auto">If you use a private key to protect your files from evil hackers, the whole effort is in vain if the key lies in plain sight next to the files. It&#39;s like locking your door and then leaving the key in the keyhole. The solution is to encrypt (&#34;lock&#34;) the private key itself with a password.</p>
<p dir="auto">Lock the key with a password:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat private.key | enc key lock --password &#39;my secret pass&#39; &gt; locked.key"><pre>cat private.key <span>|</span> enc key lock --password <span><span>&#39;</span>my secret pass<span>&#39;</span></span> <span>&gt;</span> locked.key</pre></div>
<p dir="auto">You can always unlock it back if you change your mind:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat locked.key | enc key unlock --password &#39;my secret pass&#39; &gt; unlocked.key"><pre>cat locked.key <span>|</span> enc key unlock --password <span><span>&#39;</span>my secret pass<span>&#39;</span></span> <span>&gt;</span> unlocked.key</pre></div>
<p dir="auto"><strong>Tip</strong>: you can chain <code>enc key unlock</code> and <code>enc key lock</code> to change the password for the key. It&#39;s good to update your passwords time-to-time.</p>
<p dir="auto">To use a locked key when using <code>encrypt</code> or <code>decrypt</code>, pass both <code>--key</code> and <code>--password</code> at the same time:</p>
<div dir="auto" data-snippet-clipboard-copy-content="echo &#39;hello world&#39; | enc encrypt --key locked.key --password &#39;my secret pass&#39; &gt; encrypted.bin
cat encrypted.bin | enc decrypt --key locked.key --password &#39;my secret pass&#39;"><pre><span>echo</span> <span><span>&#39;</span>hello world<span>&#39;</span></span> <span>|</span> enc encrypt --key locked.key --password <span><span>&#39;</span>my secret pass<span>&#39;</span></span> <span>&gt;</span> encrypted.bin
cat encrypted.bin <span>|</span> enc decrypt --key locked.key --password <span><span>&#39;</span>my secret pass<span>&#39;</span></span></pre></div>
<h2 dir="auto"><a id="user-content-sign" aria-hidden="true" href="#sign"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Sign</h2>
<p dir="auto">From the math perspective, there is no difference between private and public keys, they both can be used to encrypt messages that only can de be decrypted by the other. Most of the security tools, including enc, artificially forbid using the public key for decrypting messages because that&#39;s not how it should be used (encrypting messages that anyone can decrypt is pointless). But what if we bypass that limitation? Then we could calculate the hash from the message, encrypt it using our private key, and publish it alongside the message itself. Then anyone can take this &#34;signature&#34;, decrypt it using the public key, and check if the hash matches the message. It will match only if the message is not altered by anyone and the signature was encrypted using your private key. In other words, anyone can validate that the message was sent by you and wasn&#39;t altered. This is what signing is.</p>
<p dir="auto">Create a new signature:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat encrypted.bin | enc sig create --key private.key &gt; message.sig"><pre>cat encrypted.bin <span>|</span> enc sig create --key private.key <span>&gt;</span> message.sig</pre></div>
<p dir="auto"><strong>Tip</strong>: signatures can be armored using <code>enc sig armor</code>.</p>
<p dir="auto">The signature will contain the ID of the key that was used to generate it:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ cat message.sig | enc sig id
91c1be98e13a8621
$ cat private.key | enc key info | jq .id
&#34;91c1be98e13a8621&#34;"><pre>$ cat message.sig <span>|</span> enc sig id
91c1be98e13a8621
$ cat private.key <span>|</span> enc key info <span>|</span> jq .id
<span><span>&#34;</span>91c1be98e13a8621<span>&#34;</span></span></pre></div>
<h2 dir="auto"><a id="user-content-verify-signature" aria-hidden="true" href="#verify-signature"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Verify signature</h2>
<p dir="auto">To verify the signature, you&#39;ll need the signed message, the signature, and the public key:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat encrypted.bin | enc sig verify --key public.key --signature message.sig"><pre>cat encrypted.bin <span>|</span> enc sig verify --key public.key --signature message.sig</pre></div>
<h2 dir="auto"><a id="user-content-download-public-key" aria-hidden="true" href="#download-public-key"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Download public key</h2>
<p dir="auto">Many services can host the public GPG keys of their users. And enc can search these services and download the key for you.</p>
<p dir="auto">Supported providers:</p>
<ol dir="auto">
<li><code>github</code>: get keys from <a href="https://github.com/">github.com</a> by username.</li>
<li><code>gitlab</code>: get keys from <a href="https://gitlab.com/" rel="nofollow">gitlab.com</a> (or a self-hosted GitLab instance) by username.</li>
<li><code>hkp</code>: get a key from a public GPG key server (by default, <a href="https://keyserver.ubuntu.com/" rel="nofollow">keyserver.ubuntu.com</a>) by its fingerprint. Downloading keys by author&#39;s email is not supported by design. HKP servers do not verify user emails, so anyone can upload a key with any email address.</li>
<li><code>keybase</code>: get keys from <a href="https://keybase.io/" rel="nofollow">keybase.io</a> by username.</li>
<li><code>protonmail</code>: get a key from <a href="https://proton.me/mail" rel="nofollow">proton.me</a> by email address.</li>
</ol>
<p dir="auto">In the list above, &#34;keys&#34; means that the provider can return multiple keys, not just one.</p>
<p dir="auto">Download a key of a proton mail user by their email:</p>
<div dir="auto" data-snippet-clipboard-copy-content="enc remote get --provider=protonmail git@orsinium.dev"><pre>enc remote get --provider=protonmail git@orsinium.dev</pre></div>
<p dir="auto">Search all providers and download a key by author&#39;s username:</p>

<h2 dir="auto"><a id="user-content-publish-public-key" aria-hidden="true" href="#publish-public-key"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Publish public key</h2>
<p dir="auto">To publish a key in a supported provider, us the official tools provided by the provider:</p>
<ul dir="auto">
<li>Upload to github.com using <a href="https://cli.github.com/">gh</a>: <code>gh gpg-key add public.key</code>.</li>
<li>Upload to gitlab.com using <a href="https://gitlab.com/gitlab-org/cli" rel="nofollow">glab</a>: <a href="https://gitlab.com/gitlab-org/cli/-/issues/1052" rel="nofollow">not supported yet</a>.</li>
<li>Upload to keybase.io using <a href="https://book.keybase.io/docs/cli" rel="nofollow">keybase</a>: <code>keybase pgp import -i private.key</code>.</li>
</ul>
<p dir="auto"><a href="https://xkcd.com/1553/" rel="nofollow"><img src="https://camo.githubusercontent.com/d3386ee04eaf64402d5b7d4e55d14ac9baf82e9f8029bb70bb7d4caac5107871/68747470733a2f2f696d67732e786b63642e636f6d2f636f6d6963732f7075626c69635f6b65795f32782e706e67" alt="xkcd: Public Key" data-canonical-src="https://imgs.xkcd.com/comics/public_key_2x.png"/></a></p>
<h2 dir="auto"><a id="user-content-experimental-work-with-gnupg-keyring" aria-hidden="true" href="#experimental-work-with-gnupg-keyring"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Experimental: work with GnuPG keyring</h2>
<p dir="auto">Many great tools have integration with GnuPG. To name a few, git, some email clients, <a href="https://www.passwordstore.org/" rel="nofollow">pass</a>. Wouldn&#39;t it be great to integrate them with enc too? Well, that&#39;s not that easy. Many tools don&#39;t allow specifying a different path to GnuPG binary to use, so all we are left with is to integrate enc with GnuPG directly: import, export, and list keys. This is what this section is about. How you can work with GnuPG &#34;keyring&#34;: the internal collection of keys that GnuPG knows about.</p>
<p dir="auto">So far, we managed to only provide a few commands for public keys&#39; keyring. The private keyring is a bit trickier, different versions of GnuPG store it differently.</p>
<p dir="auto">List all keys that GnuPG knows about:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat ~/.gnupg/pubring.gpg | enc keys list"><pre>cat <span>~</span>/.gnupg/pubring.gpg <span>|</span> enc keys list</pre></div>
<p dir="auto">Red keys are expired or revoked, green keys are locked (password-protected), and yellow keys aren&#39;t locked.</p>
<p dir="auto">Get a key from the list (by ID or email):</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat ~/.gnupg/pubring.gpg | enc keys get 0123456789abcdef &gt; public.key
cat ~/.gnupg/pubring.gpg | enc keys get mail@example.com &gt; public.key"><pre>cat <span>~</span>/.gnupg/pubring.gpg <span>|</span> enc keys get 0123456789abcdef <span>&gt;</span> public.key
cat <span>~</span>/.gnupg/pubring.gpg <span>|</span> enc keys get mail@example.com <span>&gt;</span> public.key</pre></div>
<p dir="auto">Add a key into the GnuPG keyring:</p>

<h2 dir="auto"><a id="user-content-type-commands-faster" aria-hidden="true" href="#type-commands-faster"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Type commands faster</h2>
<ol dir="auto">
<li>Under the hood, enc uses <a href="https://github.com/spf13/cobra">cobra</a> Go library for describing CLI. And <a href="https://github.com/spf13/cobra/blob/main/shell_completions.md">cobra provides shell completion support</a>. If you run <code>enc completion bash -h</code> (or another shell name you use instead of <code>bash</code>), it will show you how you can activate autocomplete for your shell depending on your OS.</li>
<li>Every command provides multiple aliases and shortcuts. For example, <code>enc key generate</code> can be abbreviated to <code>enc k g</code>. You can call the command with <code>-h</code> (<code>enc key generate -h</code>) to see what aliases it has.</li>
<li>Most of the flags can also be abbreviated to the first letter. For example, you can use <code>-p</code> instead of <code>--password</code> in all commands.</li>
</ol>
</article>
          </div></div>
  </body>
</html>
