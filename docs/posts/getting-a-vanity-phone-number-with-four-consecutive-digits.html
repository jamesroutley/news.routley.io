<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.jonlu.ca/posts/verizon-rare-numbers">Original</a>
    <h1>Getting a vanity phone number with four consecutive digits</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>I find that it’s pretty useful to have access to multiple phone numbers. Any time a site offers a discount if you give them their phone number, or when you want to be more anonymous online and a service needs a number, it’s nice to have a number that’s more than a burner but not your main number. I had heard of the Verizon My Numbers service and thought it would be cool to have a few extra numbers for cases like these. I also wanted a number with multiple consecutive digits, both because it was easier to remember and for the cool factor.</p>
<picture data-downloadable="true"><source sizes="(max-width: 480px) calc(100vw - 16px), (max-width: 768) 80vw, 800px" srcset="https://blog.jonlu.ca/images/generated/verizon-search-50-226c0558d.webp 50w, https://blog.jonlu.ca/images/generated/verizon-search-100-226c0558d.webp 100w, https://blog.jonlu.ca/images/generated/verizon-search-200-226c0558d.webp 200w, https://blog.jonlu.ca/images/generated/verizon-search-400-226c0558d.webp 400w, https://blog.jonlu.ca/images/generated/verizon-search-800-226c0558d.webp 800w, https://blog.jonlu.ca/images/generated/verizon-search-1183-226c0558d.webp 1183w" type="image/webp"/><source sizes="(max-width: 480px) calc(100vw - 16px), (max-width: 768) 80vw, 800px" srcset="https://blog.jonlu.ca/images/generated/verizon-search-50-2e0373dfe.png 50w, https://blog.jonlu.ca/images/generated/verizon-search-100-2e0373dfe.png 100w, https://blog.jonlu.ca/images/generated/verizon-search-200-2e0373dfe.png 200w, https://blog.jonlu.ca/images/generated/verizon-search-400-2e0373dfe.png 400w, https://blog.jonlu.ca/images/generated/verizon-search-800-2e0373dfe.png 800w, https://blog.jonlu.ca/images/generated/verizon-search-1183-2e0373dfe.png 1183w" type="image/png"/><img src="https://blog.jonlu.ca/images/generated/verizon-search-800-2e0373dfe.png" alt="Verizons search UI" width="1183" height="1424"/></picture>
<p>Their UI was pretty bad, and it was quite slow. It also wouldn’t let you search without an area code, and the majority of area codes that I tried said that they didn’t have any numbers associated with them. I figured it would be faster to do this programatically.</p>
<h2 id="finding-the-endpoints">Finding the endpoints</h2>
<p>I used burpsuite to find out which API endpoint Verizon was hitting to fetch the available phone numbers.</p>
<picture data-downloadable="true"><source sizes="(max-width: 480px) calc(100vw - 16px), (max-width: 768) 80vw, 800px" srcset="https://blog.jonlu.ca/images/generated/verizon-search-endpoint-50-8c0a25e81.webp 50w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-100-8c0a25e81.webp 100w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-200-8c0a25e81.webp 200w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-400-8c0a25e81.webp 400w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-800-8c0a25e81.webp 800w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-1200-8c0a25e81.webp 1200w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-1600-8c0a25e81.webp 1600w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-1854-8c0a25e81.webp 1854w" type="image/webp"/><source sizes="(max-width: 480px) calc(100vw - 16px), (max-width: 768) 80vw, 800px" srcset="https://blog.jonlu.ca/images/generated/verizon-search-endpoint-50-398fb8158.png 50w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-100-398fb8158.png 100w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-200-398fb8158.png 200w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-400-398fb8158.png 400w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-800-398fb8158.png 800w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-1200-398fb8158.png 1200w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-1600-398fb8158.png 1600w, https://blog.jonlu.ca/images/generated/verizon-search-endpoint-1854-398fb8158.png 1854w" type="image/png"/><img src="https://blog.jonlu.ca/images/generated/verizon-search-endpoint-800-398fb8158.png" alt="Verizons search endpoint" width="1854" height="1306"/></picture>
<p>From here I could just export it to code - my preferred method is to copy the request as curl from within BurpSuite and then use <a href="https://curlconverter.com/" target="_blank" rel="noopener noreferrer">a tool like CurlConverter</a> to turn it into the language of choice, although BurpSuite does have plugins that do this natively as well.</p>
<h2 id="calling-the-api-programatically">Calling the API programatically</h2>
<p>Curl converter gave me a nice little code snippet that I could use. I put it into a jupyter notebook and was happy to see it all worked. Their endpoint didn’t seem to use any signing or on-device auth that would’ve made this difficult, besides a static basic auth token as an HTTP header.</p>
<div><div><pre><code><span>import</span> <span>requests</span>

<span>headers</span> <span>=</span> <span>{</span>
    <span>&#39;Host&#39;</span><span>:</span> <span>&#39;api-v.vzmessages.com&#39;</span><span>,</span>
    <span>&#39;Cache-Control&#39;</span><span>:</span> <span>&#39;no-cache&#39;</span><span>,</span>
    <span>&#39;Connection&#39;</span><span>:</span> <span>&#39;close&#39;</span><span>,</span>
    <span>&#39;Accept&#39;</span><span>:</span> <span>&#39;*/*&#39;</span><span>,</span>
    <span>&#39;User-Agent&#39;</span><span>:</span> <span>&#39;Verizon%20My%20Numbers/1 CFNetwork/1333.0.4 Darwin/21.5.0&#39;</span><span>,</span>
    <span>&#39;Accept-Language&#39;</span><span>:</span> <span>&#39;en-US,en;q=0.9&#39;</span><span>,</span>
    <span>&#39;Authorization&#39;</span><span>:</span> <span>&#39;Basic &lt;Auth-Token&gt;&#39;</span><span>,</span>
<span>}</span>

<span>params</span> <span>=</span> <span>{</span>
    <span>&#39;state&#39;</span><span>:</span> <span>&#39;CA&#39;</span><span>,</span>
    <span>&#39;acode&#39;</span><span>:</span> <span>&#39;213&#39;</span><span>,</span>
<span>}</span>

<span>response</span> <span>=</span> <span>requests</span><span>.</span><span>get</span><span>(</span><span>&#39;https://api-v.vzmessages.com/VirtualNumber/listOfMVNs/US&#39;</span><span>,</span> <span>params</span><span>=</span><span>params</span><span>,</span> <span>headers</span><span>=</span><span>headers</span><span>,</span> <span>verify</span><span>=</span><span>False</span><span>)</span>
</code></pre></div></div>
<picture data-downloadable="true"><source sizes="(max-width: 480px) calc(100vw - 16px), (max-width: 768) 80vw, 800px" srcset="https://blog.jonlu.ca/images/generated/verizon-resp-50-f4bc7ed90.webp 50w, https://blog.jonlu.ca/images/generated/verizon-resp-100-f4bc7ed90.webp 100w, https://blog.jonlu.ca/images/generated/verizon-resp-200-f4bc7ed90.webp 200w, https://blog.jonlu.ca/images/generated/verizon-resp-400-f4bc7ed90.webp 400w, https://blog.jonlu.ca/images/generated/verizon-resp-576-f4bc7ed90.webp 576w" type="image/webp"/><source sizes="(max-width: 480px) calc(100vw - 16px), (max-width: 768) 80vw, 800px" srcset="https://blog.jonlu.ca/images/generated/verizon-resp-50-aa2d202b4.png 50w, https://blog.jonlu.ca/images/generated/verizon-resp-100-aa2d202b4.png 100w, https://blog.jonlu.ca/images/generated/verizon-resp-200-aa2d202b4.png 200w, https://blog.jonlu.ca/images/generated/verizon-resp-400-aa2d202b4.png 400w, https://blog.jonlu.ca/images/generated/verizon-resp-576-aa2d202b4.png 576w" type="image/png"/><img src="https://blog.jonlu.ca/images/generated/verizon-resp-576-aa2d202b4.png" alt="Verizons search endpoint response" width="576" height="158"/></picture>
<p>It seemed like multiple calls to this endpoint with the same params gave different replies, which meant it was non deterministic.</p>
<p>It also seemed like if you removed the params, it would remove the filter and return back many more numbers - I didn’t <em>really</em> care what the area code was, so removing the params should make it easier to find a number I liked.</p>
<p>I wrote a quick script to repeatedly call the API and try and find a number with at least 3 consecutive numbers.</p>
<div><div><pre><code><span>def</span> <span>contains_cons</span><span>(</span><span>num</span><span>):</span>
    <span>for</span> <span>i</span> <span>in</span> <span>range</span><span>(</span><span>len</span><span>(</span><span>num</span><span>)</span> <span>-</span> <span>2</span><span>):</span>
        <span>if</span> <span>num</span><span>[</span><span>i</span><span>]</span> <span>==</span> <span>num</span><span>[</span><span>i</span> <span>+</span> <span>1</span><span>]</span> <span>and</span> <span>num</span><span>[</span><span>i</span> <span>+</span> <span>1</span><span>]</span> <span>==</span> <span>num</span><span>[</span><span>i</span> <span>+</span> <span>2</span><span>]:</span>
            <span>return</span> <span>True</span>
    <span>return</span> <span>False</span>
</code></pre></div></div>
<p>and then just kept calling that infinitely.</p>
<div><div><pre><code><span>seen</span> <span>=</span> <span>set</span><span>()</span>
<span>while</span> <span>True</span><span>:</span>
    <span>response</span> <span>=</span> <span>requests</span><span>.</span><span>get</span><span>(</span><span>&#39;https://api-v.vzmessages.com/VirtualNumber/listOfMVNs/US&#39;</span><span>,</span> <span>headers</span><span>=</span><span>headers</span><span>)</span>
    <span>nums</span> <span>=</span> <span>response</span><span>.</span><span>json</span><span>()</span>
    <span>for</span> <span>num</span> <span>in</span> <span>nums</span><span>:</span>
        <span>if</span> <span>num</span> <span>in</span> <span>seen</span><span>:</span>
            <span>continue</span>
        <span>seen</span><span>.</span><span>add</span><span>(</span><span>num</span><span>)</span>
        <span>is_valid</span> <span>=</span> <span>contains_cons</span><span>(</span><span>num</span><span>)</span>
        <span>if</span> <span>is_valid</span><span>:</span>
            <span>print</span><span>(</span><span>num</span><span>)</span>
            <span>break</span>
</code></pre></div></div>
<h2 id="finding-valid-numbers">Finding valid numbers</h2>
<p>I let this run for a few minutes and checked back and found that there were quite a few good candidates.</p>
<picture data-downloadable="true"><source sizes="(max-width: 480px) calc(100vw - 16px), (max-width: 768) 80vw, 800px" srcset="https://blog.jonlu.ca/images/generated/verizon-success-50-4866e1f28.webp 50w, https://blog.jonlu.ca/images/generated/verizon-success-100-4866e1f28.webp 100w, https://blog.jonlu.ca/images/generated/verizon-success-200-4866e1f28.webp 200w, https://blog.jonlu.ca/images/generated/verizon-success-400-4866e1f28.webp 400w, https://blog.jonlu.ca/images/generated/verizon-success-800-4866e1f28.webp 800w, https://blog.jonlu.ca/images/generated/verizon-success-1200-4866e1f28.webp 1200w, https://blog.jonlu.ca/images/generated/verizon-success-1600-4866e1f28.webp 1600w, https://blog.jonlu.ca/images/generated/verizon-success-2262-4866e1f28.webp 2262w" type="image/webp"/><source sizes="(max-width: 480px) calc(100vw - 16px), (max-width: 768) 80vw, 800px" srcset="https://blog.jonlu.ca/images/generated/verizon-success-50-6995dc65a.png 50w, https://blog.jonlu.ca/images/generated/verizon-success-100-6995dc65a.png 100w, https://blog.jonlu.ca/images/generated/verizon-success-200-6995dc65a.png 200w, https://blog.jonlu.ca/images/generated/verizon-success-400-6995dc65a.png 400w, https://blog.jonlu.ca/images/generated/verizon-success-800-6995dc65a.png 800w, https://blog.jonlu.ca/images/generated/verizon-success-1200-6995dc65a.png 1200w, https://blog.jonlu.ca/images/generated/verizon-success-1600-6995dc65a.png 1600w, https://blog.jonlu.ca/images/generated/verizon-success-2262-6995dc65a.png 2262w" type="image/png"/><img src="https://blog.jonlu.ca/images/generated/verizon-success-800-6995dc65a.png" alt="Verizons numbers with consecutive digits" width="2262" height="1168"/></picture>
<p>These are the numbers that had at least three consecutive digits (along with the number I actually ended up using, blacked out).</p>
<h2 id="purchasing-the-number">Purchasing the number</h2>
<p>I went through and bought a dummy number to figure out how to purchase the number programatically, and then did the same method as above to purchase it. Luckily there weren’t any unique IDs or anything, I could just swap out the number and it would work.</p>
<div><div><pre><code><span>import</span> <span>requests</span>

<span>headers</span> <span>=</span> <span>{</span>
    <span>&#39;Host&#39;</span><span>:</span> <span>&#39;api-v.vzmessages.com&#39;</span><span>,</span>
    <span>&#39;User-Agent&#39;</span><span>:</span> <span>&#39;Verizon%20My%20Numbers/1 CFNetwork/1333.0.4 Darwin/21.5.0&#39;</span><span>,</span>
    <span>&#39;Connection&#39;</span><span>:</span> <span>&#39;close&#39;</span><span>,</span>
    <span>&#39;Accept&#39;</span><span>:</span> <span>&#39;*/*&#39;</span><span>,</span>
    <span>&#39;Accept-Language&#39;</span><span>:</span> <span>&#39;en-US,en;q=0.9&#39;</span><span>,</span>
    <span>&#39;Cache-Control&#39;</span><span>:</span> <span>&#39;no-cache&#39;</span><span>,</span>
<span>}</span>

<span>json_data</span> <span>=</span> <span>{</span>
    <span>&#39;countryCode&#39;</span><span>:</span> <span>&#39;US&#39;</span><span>,</span>
    <span>&#39;zipcode&#39;</span><span>:</span> <span>&#39;&lt;your billing zipcode&#39;</span><span>,</span>
    <span>&#39;deviceId&#39;</span><span>:</span> <span>&#39;&lt;your device id&gt;&#39;</span><span>,</span>
    <span>&#39;contentId&#39;</span><span>:</span> <span>&#39;Content2&#39;</span><span>,</span>
    <span>&#39;price&#39;</span><span>:</span> <span>&#39;15&#39;</span><span>,</span>
    <span>&#39;mvn&#39;</span><span>:</span> <span>&#39;&lt;number you want&gt;&#39;</span><span>,</span>
    <span>&#39;mdn&#39;</span><span>:</span> <span>&#39;&lt;your hard line number&gt;&#39;</span><span>,</span>
<span>}</span>

<span>response</span> <span>=</span> <span>requests</span><span>.</span><span>post</span><span>(</span><span>&#39;https://api-v.vzmessages.com/VirtualNumber/purchase&#39;</span><span>,</span> <span>headers</span><span>=</span><span>headers</span><span>,</span> <span>json</span><span>=</span><span>json_data</span><span>)</span>
</code></pre></div></div>
<h2 id="success">Success</h2>
<p>Using this I was able to purchase the number, and now it shows up in the app. One drawback is that it’s not really integrated fully in your phone - for instance, iMessages to that number won’t work, and the calls need to be made through the app. It’s still nice to have, and a nice number to give out when you don’t want to give out your real one.</p>
</div></div>
  </body>
</html>
