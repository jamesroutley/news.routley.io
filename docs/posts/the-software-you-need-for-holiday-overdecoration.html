<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.dbos.dev/blog/ezrgb-dbos-light-shows">Original</a>
    <h1>The software you need for holiday overdecoration</h1>
    
    <div id="readability-page-1" class="page"><div><h4>‍<strong>Animated Holiday Light Shows</strong></h4><p>People have been overdecorating for the holidays for a long time.</p><figure><p><img src="https://cdn.prod.website-files.com/672411cbf038560468c9e68f/67661fb4f45bab651b4cf06d_AD_4nXcALnUWVnMnhc_-xdzgBxNVieefm3B-qKZ64qSqbnneZl29KzAJfMy26hafLtQebjRkp5RO2O1A1wWBdHp-3428NoAsR2XqPIQbeneNx_GLU2J_GX5Kj0Sl573ifgYHA0mmfTHnjg.png" loading="lazy" alt=""/></p></figure><p>However, as engineers, we realize that the problem shouldn’t just involve more lights, what we really <em>need</em> is computers!</p><figure><p><img src="https://cdn.prod.website-files.com/672411cbf038560468c9e68f/67661fe8e3a0064054e15c7b_AD_4nXd_GVazYLBQOK_CRv--xFvFyUE0F12UZ5toXFuXwRO9N8toeu1IVp7wqiGYMys7MudWpN9127uxXFD4w0gecxM1o3s5_8X8fyyLeG9idI3dSYrWG7xZFxDDrKVq9m43ClCgBOPu1A.png" loading="lazy" alt=""/></p><figcaption><em>My House Display Without Computers (Above) versus With Computers (Below)</em></figcaption></figure><figure><p><iframe allowfullscreen="true" frameborder="0" scrolling="no" src="https://www.youtube.com/embed/6AhQgesXXz4" title="Christmas Light Show | Merry On Cherry"></iframe></p></figure><h4><strong>What Goes Into an Animated Light Show?</strong></h4><ol start="" role="list"><li><a href="https://wallyslights.com/collections/12v-pixels" target="_blank">Smart pixels</a>.  These LED lights have red, green, and blue LEDs and a microchip inside and are individually controllable to produce millions of colors on demand.</li><li><a href="https://efl-designs.com/" target="_blank">Coro cutouts</a> to hold the pixels in a thematic shape.</li><li><a href="https://www.baldrickboard.com/" target="_blank">Controllers</a>, which serve as a bridge between Ethernet network data and the pixel strings, and also often have the job of providing DC power to the pixels.</li><li>A <a href="https://xlights.org/" target="_blank">computer program</a> for sending data to the lights. This program typically maintains a “layout,” which is a computer model of where the pixels are physically located on the house, a “controller configuration” with the topology of network addresses, ports, and light strings so that the computer knows where to send the data for lights in the layout, and a “sequence” of music, colors, images, motion, and other effects that are timed to the music and targeted for the layout.</li><li>Sequences.  Without sequences, the whole thing is a mess of cables, boxes, and plastic cardboard.</li></ol><h4><strong>Sequencing</strong></h4><p>Making a good light show sequence is a creative process.  In the same way that composing a song requires a pleasing combination of interesting sounds through time, a light show sequence is a combination of interesting lighting effects through time.  I’ve been told that it takes about 50 hours per light show to mark the timings, choose colors and effects, line everything up, and adjust to achieve a great sequence.</p><figure><p><img src="https://cdn.prod.website-files.com/672411cbf038560468c9e68f/676621cde3a0064054e338e1_AD_4nXf6-DafMRZEJzcipONjQf1TqCDu3Euq0pS9BCbLzUSzp_yjbO4guckZgXQ32iF1r0_9QyjDb2sHHuxhtj-Ns7ln6JtvawFy6IJsoP0EpOd68MZqbQXrBbxsKH5L-H_28uvTm2dP.png" loading="lazy" alt=""/></p><figcaption><em>This looks like a job for… someone else!</em></figcaption></figure><h4><strong>Sequence Vendors</strong></h4><p>Because sequencing requires lots of time (and creativity), many of us buy the sequences from <a href="https://www.pixelprodisplays.com/" target="_blank">vendors</a>.</p><p>Even with purchased sequences, there is still a challenge, because every house is different. Sequences have to be “mapped” from one layout to another. The lighting equipment varies significantly between shows.</p><figure><p><img src="https://cdn.prod.website-files.com/672411cbf038560468c9e68f/6766220aba42d7431d5d8e9b_AD_4nXcONKVJOceCCbOz2fQoz82Wt6cMcW2OXFLcDJzYJDId5M0tlg5MTTUvkqP-uUWNfQfIr8qnAGXi89kDs6pf_lJ_eGW8mPPTfM71NndHBeOTbW_rPRCBbjEXRhAESvmAsFFOPaBaVw.png" loading="lazy" alt=""/></p><figcaption><em>What The Vendor Thinks A House Should Look Like…</em></figcaption></figure><figure><p><img src="https://cdn.prod.website-files.com/672411cbf038560468c9e68f/676622148b87bcbe38589aba_AD_4nXfBzXub26VEhFYQJekfsSzORfzDN9V5JPHigV1b43WqfgzkC5rsTDXwYFxYsWJEDqrzUcL0ffIswTaFe_Oy7_Rr5UiUgzRSP0Yv9WEwNUek7H9yZaFcH-zfZvchnvYGRboRMZQ5.png" loading="lazy" alt=""/></p><figcaption><em>What My House Looks Like</em></figcaption></figure><p>This is where DBOS fits in; it was used to build and run the services that coordinate and automate the process of mapping purchased sequences to user layouts.</p><h4><strong>About </strong><a href="https://ezrgb.com/" target="_blank"><strong>EZRGB</strong></a></h4><p>EZRGB aims to make the whole animated light show “EZ”, which means selling and supporting complete components or light shows through a simple web storefront. This includes:</p><ol start="" role="list"><li>Sourcing and selling assembled controllers, lighting props, or entire layouts, as opposed to the kit-based approach common in the hobby.</li><li>Working with a network of installation and technical professionals to offer on-site service.</li><li>Providing a magical sequence procurement experience, EZSequence, powered by DBOS. All you have to do is click “buy”, and computers do the rest.</li></ol><h4><strong>The EZRGB Sequence Solution</strong></h4><p>EZRGB’s <a href="https://ezrgb.com/" target="_blank">website</a> is built on <a href="https://en.wikipedia.org/wiki/WordPress" target="_blank">WordPress</a>, with a <a href="https://en.wikipedia.org/wiki/WooCommerce" target="_blank">WooCommerce</a> storefront. This website has customer account pages, where users upload their show layouts, and a sequence store for purchasing sequences. All customer profile updates and sales events from this front end trigger fulfillment workflows, which are written in<a href="https://github.com/dbos-inc/dbos-transact-ts" target="_blank"> DBOS Transact (TypesScript)</a> and hosted in <a href="https://www.dbos.dev/dbos-cloud" target="_blank">DBOS Cloud</a>. </p><blockquote>&#34;We considered building our digital fullfillment process on AWS Lambda but couldn&#39;t figure out how to make it work consistently. With DBOS, automating our sequence rendering jobs and integrating with SQS messages and S3 storage was easy, and it scales to zero in our off-season.&#34;</blockquote><p>DBOS workflows handle all of the database tables, while keeping the sequence data, layouts, and completed sequences completely synchronized in <a href="https://aws.amazon.com/s3/" target="_blank">AWS S3</a>. The DBOS Cloud service uses <a href="https://aws.amazon.com/sqs/" target="_blank">AWS SQS</a> to send out AI mapping and sequence render jobs to outside workers (written in Python and C++, and hosted on prem or in EC2), which put the results in S3 and call back to DBOS via HTTP.</p><p>‍</p><figure><p><img src="https://cdn.prod.website-files.com/672411cbf038560468c9e68f/67662746932da65a520fd64c_676625161488b5a0224457b5_ezrgb-dbos.png" loading="lazy" alt=""/></p><figcaption><em>EZRGB Sequence Solution Architecture with DBOS</em></figcaption></figure><p>For EZRGB, the best features of DBOS Transact and DBOS Cloud are the <strong>development and operational simplicity</strong>. The addressable market for animated light shows is likely only a few thousand customers, which is too small to support a large development effort.  However, by using WordPress, AWS, DBOS Transact, and DBOS Cloud, an entire frontend and backend were built by hobbyists, but the resulting code is <strong>reliable, scalable, and secure</strong>.</p><h4><strong>Learning More</strong></h4><p>To try out EZSequence on your house, visit EZRGB: <a href="https://ezrgb.com/ezsequence/" target="_blank">https://ezrgb.com/ezsequence/</a></p><p>To learn more about DBOS and try it out, check it out (and please give us a star) on GitHub:</p><ul role="list"><li>TypeScript: <a href="https://github.com/dbos-inc/dbos-transact-ts" target="_blank">https://github.com/dbos-inc/dbos-transact-ts</a>‍</li><li>Python: <a href="https://github.com/dbos-inc/dbos-transact-py" target="_blank">https://github.com/dbos-inc/dbos-transact-py</a></li><li>DBOS Quickstart: <a href="https://docs.dbos.dev/quickstart" target="_blank">https://docs.dbos.dev/quickstart</a></li></ul></div></div>
  </body>
</html>
