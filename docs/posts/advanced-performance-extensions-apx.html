<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.intel.com/content/www/us/en/developer/articles/technical/advanced-performance-extensions-apx.html">Original</a>
    <h1>Advanced Performance Extensions (APX)</h1>
    
    <div id="readability-page-1" class="page">


















    
    
    
        















    
    
        
        
        
        
        
        
        
    




    
    
        
    




    
    
    
    
        
    


    
    
        
    


    
    
        
    


    
    
        
    






















    
    
    
    
    



    


    

































    
        <div>

































    
    
        
    



    
    
        <div data-component="global-nav-redesign" data-component-id="1">
            <header role="banner">
                <nav role="navigation" aria-label="main navigation" data-igm="">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div>

                        <div>
                            <a href="https://www.cyberdemon.org/content/www/us/en/homepage.html" alt="Intel homepage">
                                    
                                <img src="https://www.cyberdemon.org/content/dam/logos/intel-header-logo.svg" height="300" width="118" alt="Intel logo - Return to the home page"/>
                            </a>
                        </div>

                        

                        <!-- START MOBLE TOGGLE buttons -->
                        <div>


                            <!-- START: NON-signed in panel -->
                            <span id="not-logged-in-scenario">

    
        </span>


                            


















































<span id="logged-in-scenario">






</span>

                            
















    







                            <!-- END: NON-sign in panel -->
                            

























    

    



    








    











    
    
    
        
    


    
    <div id="simplify-search" aria-expanded="false" aria-selected="false" document-height="true">
        <div>
            <div>
                <div>
                    <div data-igm-search-content="">
                        
                        <!-- 
                            'hidden' class is conditionally removed on load @ intel.search-dropdown.js
                         -->
                        <div aria-live="off" id="mega-results-overlay" data-component="wa_skip_track">
                             
                                 
                            
                            <!-- Search Result Typeahead -->
                            <div id="igm-search-result" data-igm-search-results="">
                                
                                <div>
                                    
                                        Sign In to access restricted content
                                </div>
                            </div>
                            <!-- Recent Searches: 1) display default search info if no search terms is available  -->
                            <!-- Recent Searches: 2) display recenter terms when available and hide default search info  -->
                            <div data-igm-search-related="">
                                <div>
                                    <!-- default search info -->
                                    <div>
                                        <h3>Using Intel.com Search</h3>
                                        <p>You can easily search the entire Intel.com site in several ways.</p>
                                        <ul>
                                            <li>
                                                Brand Name:
                                                <strong>
                                                    Core i9
                                                </strong>
                                            </li>
                                            <li>
                                                Document Number:
                                                <strong>
                                                    123456
                                                </strong>
                                            </li>
                                            <li>
                                                Code Name:
                                                <strong>
                                                    Alder Lake
                                                </strong>
                                            </li>
                                            <li>
                                                Special Operators:
                                                <strong>
                                                    “Ice Lake”, Ice AND Lake, Ice OR Lake, Ice*
                                                </strong>
                                            </li>
                                        </ul>
                                    </div>
                                    <!-- quick links is always visible on the recents overlay -->
                                    <div>
                                        <h3>Quick Links</h3>
                                        <p>You can also try the quick links below to see results for most popular searches.</p>
                                        <ul>
                                            <!--<li>
                                                <a class="quick-link" rel="noopener noreferrer"
                                                   href=https://ark.intel.com?wapkw=quicklink:product-specifications>
                                                    Product Specifications
                                                </a>
                                            </li>-->
                                            <li>
                                                <a rel="noopener noreferrer" href="https://www.intel.com/content/www/us/en/products/overview.html?wapkw=quicklink:products">
                                                    Product Information
                                                </a>
                                            </li>
                                            <li><a rel="noopener noreferrer" href="https://www.intel.com/content/www/us/en/support.html?wapkw=quicklink:support">
                                                Support
                                            </a>
                                            </li>
                                            <li>
                                                <a rel="noopener noreferrer" href="https://downloadcenter.intel.com?wapkw=quicklink:download-center">
                                                    Drivers &amp; Software
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                    <!-- recent search terms -->
                                    
                                </div>
                                <div>
                                    
                                        Sign In to access restricted content
                                </div>
                            </div>
                            
                                 <div data-igm-advanced-search="">
											<div>
												<!-- default search info -->
												<div data-component="wa_skip_track" data-component-id="1">
													<h3>Advanced Search</h3>
													<div>
														

														<div>
															<h3>Only search in</h3>
															<div aria-label="Only Search In">
																<label for="search_title">
																	
																	Title</label>

																	<label for="search_description">
																	
																Description</label>

																	<label for="search_id">
																	Content ID</label>
															</div>

															
														</div>
													</div>
												</div>
											</div>
											<div>
												Sign in to access
												restricted content.
											</div>
										</div>
                                    
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


                        </div>
                        <!-- END MOBILE TOGGLE buttons -->
                    </div>
                </nav>
            </header>
        </div>

		
			



























    
    
        
    
    
    
    








    
    
        
            
            
        
    





		
        
    




</div>

    
    


<section data-scroll-track="false">
    <div>
        <div>
            <div id="alertMsg">
                <div id="alertSupport">
                    <div id="browserdetectid">
                        <p>The browser version you are using is not recommended for this site.</p>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<main id="primary-content">


























    
        
        
        <main id="primary-content-main">
            

            

            
            <article data-component-id="1" data-component="articletemplate">
                <div>
                    <div>
                        <div>
                            <div>

                                

                                <!-- duplicated from articlehero for vertical layout -->
                                
                                    
                                        
                                    
                                    
                                

                                
                                <!-- BUILT IN - ARTICLE INTRO COMPONENT -->
                                <!-- duplicated from right column for mobile layout -->
                                
                                <!-- END IN - ARTICLE INTRO COMPONENT -->

                                <!-- BUILT IN - ARTICLE TAKEAWAY COMPONENT -->

                                

                                

                                <!-- only display this for authored pages and not salesforce pages-->
                                <div>
                                    <div>
                                        
                                        <img src="" alt="author-image"/>
                                    </div>
                                    
                                </div>

                            </div>

                            <div>
                                <div>
                                    <div>
                                        <div>
                                            <!-- BEGIN NEW BUILD IN - Article Actions - DESKTOP -->
                                            
                                            <div>
                                                <div>
                                                    <div>







        
        







<div id="articleintro" data-component="articleintro" data-component-id="1">

    <div>
        <div>
            
            
            
            
            

            
                <div id="coauthorinfo">
                    <span>Sebastian Winkel </span>
                    <span></span>
                
                    <span>Jason Agron</span>
                    <span></span>
                </div>

            

            
        </div>
    </div>
</div>

</div>

                                                </div>

                                            </div>

                                            <div>
<div>























    
    
        
            <div id="articleparagraph-1" data-component="articleparagraph" data-component-id="1">
                <div>
                    
                    


<commons:articleparagraphtag>


    <div>
        <div>
            <div>
                
                <div>
                    <div>
                        <div>
                            <div>
                                
                                
                                    
                                    
                                        <p>Intel® architecture powers datacenters and personal computers around the world. Since its introduction by Intel® in 1978, the architecture has continuously evolved to take advantage of emerging workloads and the relentless pace of Moore’s law. The original instruction set defined only eight 16-bit general-purpose registers, which over the years were doubled in number and quadrupled in size. A large set of vector registers was added, and most recently Intel® AMX introduced two-dimensional matrix registers, providing a big jump in AI performance.<a href="https://www.cyberdemon.org/content/www/us/en/products/docs/accelerator-engines/advanced-matrix-extensions/overview.html"><sup>1</sup></a></p>

<p>Today, we are introducing the next major step in the evolution of Intel® architecture. Intel® Advanced Performance Extensions (Intel® APX) expands the entire x86 instruction set with access to more registers and adds various new features that improve general-purpose performance. The extensions are designed to provide efficient performance gains across a variety of workloads – without significantly increasing silicon area or power consumption of the core.</p>

<p>Intel® APX doubles the number of general-purpose registers (GPRs) from 16 to 32. This allows the compiler to keep more values in registers; as a result, APX-compiled code contains 10% fewer loads and more than 20% fewer stores than the same code compiled for an Intel® 64 baseline.<sup>2</sup> Register accesses are not only faster, but they also consume significantly less dynamic power than complex load and store operations.</p>

<p>Compiler enabling is straightforward – a new REX2 prefix provides uniform access to the new registers across the legacy integer instruction set. Intel® AVX instructions gain access via new bits defined in the existing EVEX prefix. In addition, legacy integer instructions now can also use EVEX to encode a dedicated destination register operand – turning them into three-operand instructions and reducing the need for extra register move instructions. While the new prefixes increase average instruction length, there are 10% fewer instructions in APX-compiled code<sup>2</sup>, resulting in similar code density as before.</p>

<p>The new GPRs are XSAVE-enabled, which means that they can be automatically saved and restored by XSAVE/XRSTOR sequences during context switches. They do not change the size and layout of the XSAVE area as they take up the space left behind by the deprecated Intel® MPX registers.</p>

<p>We propose to define the new GPRs as caller-saved (volatile) state in application binary interfaces (ABIs), facilitating interoperability with legacy binaries. Optimized calling conventions can be introduced where legacy compatibility requirements are relaxed. Generally, more register state will need to be managed at function boundaries. In order to reduce the associated overhead, we are adding PUSH2/POP2 instructions that transfer two register values within a single memory operation. The processor tracks these new instructions internally and fast-forwards register data between matching PUSH2 and POP2 instructions without going through memory.</p>

<p>The performance features introduced so far will have limited impact in workloads that suffer from a large number of conditional branch mispredictions. As out-of-order CPUs continue to become deeper and wider, the cost of mispredictions increasingly dominates performance of such workloads. Branch predictor improvements can mitigate this to a limited extent only as data-dependent branches are fundamentally hard to predict.</p>

<p>To address this growing performance issue, we significantly expand the conditional instruction set of x86, which was first introduced with the Intel® Pentium® Pro in the form of CMOV/SET instructions. These instructions are used quite extensively by today’s compilers, but they are too limited for broader use of if-conversion (a compiler optimization that replaces branches with conditional instructions).</p>

<p>Intel® APX adds conditional forms of load, store, and compare/test instructions, and it also adds an option for the compiler to suppress the status flags writes of common instructions. These enhancements expand the applicability of if-conversion to much larger code regions, cutting down on the number of branches that may incur misprediction penalties. All these conditional ISA improvements are implemented via EVEX prefix extensions of existing legacy instructions.</p>

<p>Application developers can take advantage of Intel® APX by simple recompilation – source code changes are not expected to be needed. Workloads written in dynamic languages will automatically benefit as soon as the underlying runtime system has been enabled.</p>

<p>Intel® APX demonstrates the advantage of the variable-length instruction encodings of x86 – new features enhancing the entire instruction set can be defined with only incremental changes to the instruction-decode hardware. This flexibility has allowed Intel® architecture to adapt and flourish over four decades of rapid advances in computing – and it enables the innovations that will keep it thriving into the future.</p>

<h2>References</h2>

<ul>
	<li><a href="http://cdrdv2.intel.com/v1/dl/getContent/784266">Intel® Advanced Performance Extensions (Intel® APX) Architecture Specification</a> - specifies the Intel® APX extension of the encodings and the semantics of Intel architecture.</li>
	<li><a href="https://cdrdv2.intel.com/v1/dl/getContent/784265">Intel® Advanced Performance Extensions (Intel® APX) Software Enabling Introduction</a> - outlines the changes needed to enable Intel® APX in compilers, ABIs, operating systems, and hypervisors.</li>
	<li><a href="https://cdrdv2.intel.com/v1/dl/getContent/784267">Intel® Advanced Vector Extensions 10 (Intel® AVX10) Architecture Specification</a> - describes the Intel® Advanced Vector Extensions 10 Instruction Set Architecture.</li>
	<li><a href="https://cdrdv2.intel.com/v1/dl/getContent/784343">The Converged Vector ISA: Intel® Advanced Vector Extensions 10 Technical Paper</a> - provides introductory information regarding the converged vector ISA: Intel® Advanced Vector Extensions 10.</li>
</ul>

<h2>Footnotes</h2>

<ol>
	<li><a href="https://www.cyberdemon.org/content/www/us/en/products/docs/accelerator-engines/advanced-matrix-extensions/overview.html">intel.com/content/www/us/en/products/docs/accelerator-engines/advanced-matrix-extensions/overview.html</a></li>
	<li>This projection is based on a prototype simulation of the SPEC CPU® 2017 Integer benchmark suite.</li>
</ol>

                                    
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

                    



                </commons:articleparagraphtag></div>
            </div>
        
    
</div>
</div>


                                        </div>
                                    </div>
                                </div>

                                
                            </div>
                        </div>
                    </div>
                </div>

                
                    
                

                
                
                
                
                    
                        
                    
                

            </article>
        </main>
    
    





    <div>













    
    
        
        
        
            <div>
                <div>
                    <h4>Product and Performance Information</h4>
                    
                    
                    
                        
                            
                        
                    
                    
                    
                </div>
            </div>
        
    



</div>




    


</main>












































    







</div>
  </body>
</html>
