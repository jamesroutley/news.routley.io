<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/codemix/deprank">Original</a>
    <h1>Deprank: Use PageRank to find the most important files in your codebase</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">Deprank uses the <a href="https://en.wikipedia.org/wiki/PageRank" rel="nofollow">PageRank</a> algorithm to find the most important files in your JavaScript or TypeScript codebase. It uses <a href="https://github.com/sverweij/dependency-cruiser">dependency-cruiser</a> to build a dependency graph of your source files, then ranks those dependencies based on their importance. We define <em>importance</em> as those files which are directly or indirectly depended upon the most by other files in the codebase.</p>
<p dir="auto">Deprank is particularly useful when converting an existing JavaScript codebase to TypeScript. Performing the conversion in strict PageRank order can dramatically increase type-precision, reduce the need for <code>any</code> and minimizes the amount of rework that is usually inherent in converting large codebases.</p>
<h2 dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p dir="auto">Rank all files in the <code>src</code> directory:</p>

<p dir="auto">Rank all <code>.js</code> and <code>.jsx</code> files in the <code>src</code> and <code>test</code> directories:</p>
<div data-snippet-clipboard-copy-content="npx deprank --ext=&#34;.js,.jsx&#34; ./src ./test"><pre>npx deprank --ext=<span><span>&#34;</span>.js,.jsx<span>&#34;</span></span> ./src ./test</pre></div>
<h2 dir="auto"><a id="user-content-example" aria-hidden="true" href="#example"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Example</h2>

<div data-snippet-clipboard-copy-content="| Filename               | Lines | Dependents | PageRank |
----------------------------------------------------------
| fixtures/core.js       | 3     | 1          | 0.284098 |
| fixtures/utils.js      | 4     | 3          | 0.268437 |
| fixtures/user/user.js  | 4     | 1          | 0.132253 |
| fixtures/todo.js       | 6     | 1          | 0.089796 |
| fixtures/user/index.js | 1     | 1          | 0.089796 |
| fixtures/concepts.js   | 4     | 1          | 0.079694 |
| fixtures/index.js      | 4     | 0          | 0.055926 |"><pre><code>| Filename               | Lines | Dependents | PageRank |
----------------------------------------------------------
| fixtures/core.js       | 3     | 1          | 0.284098 |
| fixtures/utils.js      | 4     | 3          | 0.268437 |
| fixtures/user/user.js  | 4     | 1          | 0.132253 |
| fixtures/todo.js       | 6     | 1          | 0.089796 |
| fixtures/user/index.js | 1     | 1          | 0.089796 |
| fixtures/concepts.js   | 4     | 1          | 0.079694 |
| fixtures/index.js      | 4     | 0          | 0.055926 |
</code></pre></div>
<h2 dir="auto"><a id="user-content-building-locally" aria-hidden="true" href="#building-locally"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Building Locally</h2>
<ol dir="auto">
<li>Clone this repository: <code>git clone git@github.com:codemix/deprank.git</code></li>
<li>Get <a href="https://yarnpkg.com/" rel="nofollow">yarn</a>.</li>
<li>Navigate into the project folder: <code>cd deprank/</code>.</li>
<li>Run <code>yarn install</code> &amp;&amp; <code>yarn build</code>.</li>
<li>Run <code>./bin/deprank --help</code></li>
</ol>

<p dir="auto">To help convert your codebase to TypeScript whilst minimizing the amount of effort required, we suggest converting files in <code>deprank --deps-first</code> order. This option lifts the files that are depended upon by the most important files in the codebase to the top of the list. By tackling each file in order we help ensure that type errors are solved at their origin, rather than their point of use. This can reduce the number of type errors much more quickly than the more typical, ad-hoc order that such conversions usually take, and it helps TypeScript use inference which reduces the amount of manual typing required. It&#39;s not uncommon to see hundreds or thousands of type errors disappear just by fixing a few key files.</p>
<p dir="auto">The following command will find all <code>.js</code> or <code>.jsx</code> files in a <code>src</code> folder, and sort them in dependency-first order.</p>
<div data-snippet-clipboard-copy-content="npx deprank --ext=&#34;.js,.jsx&#34; --deps-first ./src"><pre>npx deprank --ext=<span><span>&#34;</span>.js,.jsx<span>&#34;</span></span> --deps-first ./src</pre></div>

<p dir="auto">deprank was written by <a href="https://twitter.com/c_pick" rel="nofollow">Charles Pick</a> at <a href="https://codemix.com/" rel="nofollow">Codemix</a></p>
</article>
          </div></div>
  </body>
</html>
