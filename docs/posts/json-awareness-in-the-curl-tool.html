<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/curl/curl/wiki/JSON">Original</a>
    <h1>JSON Awareness in the Curl Tool</h1>
    
    <div id="readability-page-1" class="page"><div data-view-component="true">          <div id="wiki-body">
              <div>
                
<p>This page is for brainstorming and gather ideas and suggestions on how to improve curl when used to send and receive JSON formatted data.</p>
<h2>
<a id="user-content---json--datafilename" href="#--json--datafilename" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>--json -|&lt;data&gt;|@filename</code>
</h2>
<div data-snippet-clipboard-copy-content="curl --json [whatever] http://example.com"><pre><code>curl --json [whatever] http://example.com
</code></pre></div>
<p>A shortcut. Equals doing <code>-d [whatever] -H &#34;Accept: application/json&#34;</code>. This also supports <code>-</code> to read JSON from stdin and <code>@filename</code> to read it from a given file. Does not check/verify that the data is actually conforming JSON.</p>
<h2>
<a id="user-content---jp-part" href="#--jp-part" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>--jp [part]</code>
</h2>
<p>(&#39;jp&#39; as short for &#34;JSON part&#34;)</p>
<p>Build a JSON request body, and use the request header <code>Accept: application/json</code>.</p>
<p>Multiple <code>--jp</code> options can be provided on the same command line to add
multiple parts to the body.</p>
<p><strong>[part]</strong> is an instruction how to build JSON content</p>
<p>The idea is to be able to create and pass on most simple JSON data bodies and
allow scripts and users to pass in parts of that data as shell variables etc
when required (== handle quoting conveniently).</p>
<p>(Syntax inspired by <a href="https://github.com/jpmens/jo/blob/master/jo.md">jo</a>)</p>
<h2>
<a id="user-content-idea-of-how-it-could-work" href="#idea-of-how-it-could-work" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Idea of how it could work</h2>
<p>Input:</p>

<p>Body sent:</p>

<p>Input:</p>
<div data-snippet-clipboard-copy-content="--jp a=b --jp c=d --jp e=2 --jp f=false"><pre><code>--jp a=b --jp c=d --jp e=2 --jp f=false
</code></pre></div>
<p>Body:</p>
<div data-snippet-clipboard-copy-content="{
   &#34;a&#34;: &#34;b&#34;,
   &#34;c&#34;: &#34;d&#34;,
   &#34;e&#34;: 2,
   &#34;f&#34;: false
}"><pre><code>{
   &#34;a&#34;: &#34;b&#34;,
   &#34;c&#34;: &#34;d&#34;,
   &#34;e&#34;: 2,
   &#34;f&#34;: false
}
</code></pre></div>
<p>Input:</p>
<div data-snippet-clipboard-copy-content="--jp &#34;:list Monday, Tuesday, Wednesday, Thursday&#34;"><pre><code>--jp &#34;:list Monday, Tuesday, Wednesday, Thursday&#34;
</code></pre></div>
<p>Body:</p>
<div data-snippet-clipboard-copy-content="[
  &#34;Monday&#34;,
  &#34;Tuesday&#34;,
  &#34;Wednesday&#34;,
  &#34;Thursday&#34;
]"><pre><code>[
  &#34;Monday&#34;,
  &#34;Tuesday&#34;,
  &#34;Wednesday&#34;,
  &#34;Thursday&#34;
]
</code></pre></div>
<p>Input:</p>
<div data-snippet-clipboard-copy-content="--jp map=europe --jp prime[]=13 --jp prime[]=17 --jp target[x]=-10 --jp target[y]=32

{
  &#34;map&#34;: &#34;europe&#34;,
  &#34;prime&#34;: [
    13,
    17
  ],
  &#34;target&#34;: {
    &#34;x&#34;: -10,
    &#34;y&#34;: 32
  }
}"><pre><code>--jp map=europe --jp prime[]=13 --jp prime[]=17 --jp target[x]=-10 --jp target[y]=32

{
  &#34;map&#34;: &#34;europe&#34;,
  &#34;prime&#34;: [
    13,
    17
  ],
  &#34;target&#34;: {
    &#34;x&#34;: -10,
    &#34;y&#34;: 32
  }
}
</code></pre></div>
<h2>
<a id="user-content-json-response" href="#json-response" aria-hidden="true"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>JSON response</h2>
<p>Not particular handling. Pipe output to <a href="https://stedolan.github.io/jq/" rel="nofollow">jq</a> or similar.</p>

              </div>

          </div>
</div></div>
  </body>
</html>
