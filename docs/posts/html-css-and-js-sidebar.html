<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://onestepcode.com/html-css-js-sidebar/?utm_source=rss&amp;utm_medium=rss&amp;utm_campaign=html-css-js-sidebar">Original</a>
    <h1>HTML, CSS, and JS sidebar</h1>
    
    <div id="readability-page-1" class="page"><div>
						
<p>In this post, we’ll see how to add a sidebar like the one displayed below when pressing the button. </p>




   



<p>It’s responsive to the user’s viewport size. It slides horizontally from the right, but if the viewport width is less than 768 px, it will slide up from the bottom.</p>



<p>The lateral sidebar is commonly used as a navigation menu. The variation that slides up from the bottom is useful to display navigation options or extra content. For example, setting the parameters to filter products on an e-commerce website, or displaying additional information after clicking on an element.  </p>



<h2>Sidebar markup </h2>



<p>Let’s start by setting up the markup. </p>



<pre data-enlighter-language="html" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">&lt;div class=&#34;sidebar&#34;&gt;
  &lt;button class=&#34;close_button&#34;&gt;&amp;times;&lt;/button&gt;
  &lt;!-- Sidebar content comes here --&gt;
  &lt;p&gt;Hello World!&lt;/p&gt;
&lt;/div&gt;</pre>



<p>The sidebar is just a <code>div</code> container inside which we place the contents of the sidebar. We also add a button to close it.</p>



<h2>Mobile CSS styles</h2>



<p>We will design the sidebar <em>mobile-first</em>, meaning the default CSS rules will be aimed towards mobile devices. </p>



<p>Without styling, the sidebar div will be rendered like a regular paragraph with a button. We use the following CSS rules to stick it to the left-bottom corner of the page. </p>



<pre data-enlighter-language="css" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.sidebar {
  position: fixed;
  bottom: 0;
  left: 0;
  height: 60%;
  border-top: solid 1px #969696;
  border-radius: 15px 15px 0 0;
  width: 100%;
  box-shadow: 4px 3px 8px 1px #969696;
  animation: slide-up ease-out 400ms forwards;
  background: #fff;
  z-index: 1000;
}

.sidebar p {
  padding: 1rem;
}

.close_button {
  position: absolute;
  top: 1rem;
  right: 20px;
  background: #000;
  border: none;
  width: 30px;
  height: 30px;
  color: #fff;
  font-size: 130%;
  border-radius: 15px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0;
  cursor: pointer;
}

@keyframes slide-up {
  0% {
    height: 0;
  }
  100% {
    height: 60%;
  }
}</pre>



<p>The most important CSS rules are <code>position: fixed</code>, <code>bottom: 0</code> and <code>height: 60%</code>. They position the sidebar fixed to the bottom of the viewport, and up to 60% of the viewport’s height.</p>



<p>The <code>slide-up</code> animation will generate a slide-up effect by gradually varying the sidebar height.</p>



<p>With these rules, our sidebar will be rendered as follows.</p>



<div><figure><img loading="lazy" src="https://onestepcode.com/wp-content/uploads/2021/11/sidebar_mobile-1-577x1024.png" alt="" width="289" height="512" srcset="https://onestepcode.com/wp-content/uploads/2021/11/sidebar_mobile-1-577x1024.png 577w, https://onestepcode.com/wp-content/uploads/2021/11/sidebar_mobile-1-169x300.png 169w, https://onestepcode.com/wp-content/uploads/2021/11/sidebar_mobile-1.png 640w" sizes="(max-width: 289px) 100vw, 289px"/></figure></div>



<h2>Desktop styles</h2>



<p>We would like the sidebar to show on the right side of the screen when the viewport is large enough. To do so, we’ll modify the CSS rules based on the viewport size using <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries">media queries</a>. The main idea is to fix the sidebar at the top-right corner of the viewport, set its height to 100% and the width to 40%.</p>



<pre data-enlighter-language="css" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">@media (min-width: 768px) {
  .sidebar {
    top: 0;
    height: 100%;
    left: unset;
    right: 0;
    width: 40%;
    border-top: unset;
    border-left: solid 1px #969696;
    border-radius: 15px 0 0 15px;
    animation-name: slide-left;
  }
}

@keyframes slide-left {
  0% {
    width: 0;
  }

  100% {
    width: 40%;
  }
}</pre>



<p>The block above needs to be added after the first <code>.sidebar</code> block that contains the mobile rules.</p>



<p>Additionally, we need to slightly modify the close button rules.</p>



<pre data-enlighter-language="css" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">@media (min-width: 768px) {
  .close_button {
    left: 90%;
  }
}</pre>



<p>Initially, the close button was absolutely positioned relative to the right end of the sidebar. While this styling could work for the desktop layout as well, I found that the close button did not respond to the close animation. Possibly because closing the sidebar does not change the <code>right</code> property of the sidebar. Positioning the close button relative to the <code>left</code> end of the container solved this issue.</p>



<p>The sidebar will be displayed as follows on devices with a widht of more than <code>768 px</code>.</p>



<figure><img loading="lazy" src="https://onestepcode.com/wp-content/uploads/2021/11/desktop-mobile.png" alt="" width="750" height="375" srcset="https://onestepcode.com/wp-content/uploads/2021/11/desktop-mobile.png 1000w, https://onestepcode.com/wp-content/uploads/2021/11/desktop-mobile-300x150.png 300w, https://onestepcode.com/wp-content/uploads/2021/11/desktop-mobile-768x384.png 768w" sizes="(max-width: 750px) 100vw, 750px"/></figure>



<h2>Close sidebar animation</h2>



<p>Closing the sidebar will be executed by setting the <code>height</code> property to <code>0</code> (for mobile) and setting the <code>width</code> property to <code>0</code> (for desktop). We will add a <code>close_sidebar</code> class that handles this transition with an animation.</p>



<pre data-enlighter-language="css" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">.close_sidebar {
  animation-name: slide-down;
}

@media (min-width: 768px) {
  .close_sidebar {
    animation-name: slide-right;
  }
}</pre>



<p>The corresponding animations are:</p>



<pre data-enlighter-language="css" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">@keyframes slide-down {
  0% {
    height: 60%;
  }

  100% {
    height: 0;
  }
}

@keyframes slide-right {
  0% {
    width: 40%;
  }

  100% {
    width: 0;
  }
}</pre>



<h2>Close sidebar handler</h2>



<p>At this stage, the sidebar can’t be closed by clicking the close button. Let’s define the following close handler:</p>



<pre data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">const closeHandler = () =&gt;
  document.querySelector(&#34;.sidebar&#34;).classList.add(&#34;close_sidebar&#34;);</pre>



<p>Then we add it as an event listener to the close button.</p>



<pre data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">document.querySelector(&#34;.close_button&#34;).addEventListener(&#34;click&#34;, closeHandler);</pre>



<p>By doing so, we’ll be able to close the sidebar by pressing the close button.</p>



<p>While this approach is functional, what we’re doing is only hiding the sidebar by setting its height or width to zero. To be more effective, we’ll also remove it from the layout with the following CSS class.</p>



<pre data-enlighter-language="css" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">.hidden {
    display: none;
}</pre>



<p>We’ll add this new <code>hidden</code> class to the sidebar after closing it. Let’s modify the close handler as follows:</p>



<pre data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">const closeHandler = () =&gt; {
  document.querySelector(&#34;.sidebar&#34;).classList.add(&#34;close_sidebar&#34;);
  setTimeout(() =&gt; {
    document.querySelector(&#34;.sidebar&#34;).classList.add(&#34;hidden&#34;);
    document.querySelector(&#34;.sidebar&#34;).classList.remove(&#34;close_sidebar&#34;);
  }, 400);
};</pre>



<p>Note that we trigger the hidden class only after a delay of 400 ms (the time it takes the close animation to play). If we directly added the <code>hidden</code> class to the sidebar, it would disappear immediately without the smooth animation. Additionally, we also remove the <code>close_sidebar</code> class so that they don’t conflict with the default opening sidebar rules. </p>



<h2>Open sidebar handler</h2>



<p>Opening the sidebar can be done by simply removing the <code>hidden</code> class.</p>



<pre data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">const openHandler = () =&gt; 
    document.querySelector(&#34;.sidebar&#34;).classList.remove(&#34;hidden&#34;);</pre>



<p>We can add this handler to any button or HTML element we want to trigger the sidebar.</p>



<pre data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">document.getElementById(&#34;open_sidebar_button&#34;).addEventListener(&#34;click&#34;, openHandler);</pre>



<h2>Putting it all together</h2>



<p>We can create a simple working example as follows.</p>



<pre data-enlighter-language="html" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;
  &lt;head&gt;
    &lt;meta charset=&#34;UTF-8&#34; /&gt;
    &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width, initial-scale=1.0&#34; /&gt;
    &lt;title&gt;Sidebar example&lt;/title&gt;
    &lt;link rel=&#34;stylesheet&#34; href=&#34;styles.css&#34; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class=&#34;sidebar hidden&#34;&gt;
      &lt;button class=&#34;close_button&#34;&gt;&amp;times;&lt;/button&gt;
      &lt;p&gt;Hello World!&lt;/p&gt;
    &lt;/div&gt;
    &lt;button id=&#34;open_sidebar_button&#34;&gt;Open&lt;/button&gt;
    &lt;script src=&#34;scripts.js&#34;&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>



<p>Note that the sidebar element is initially part of the <code>hidden</code> class.</p>



<pre data-enlighter-language="css" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">/* styles.css */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.sidebar {
  position: fixed;
  bottom: 0;
  left: 0;
  height: 60%;
  border-top: solid 1px #969696;
  border-radius: 15px 15px 0 0;
  width: 100%;
  box-shadow: 4px 3px 8px 1px #969696;
  animation: slide-up ease-out 400ms forwards;
  background: #fff;
  z-index: 1000;
}

.sidebar p {
  padding: 1rem;
}

@media (min-width: 768px) {
  .sidebar {
    top: 0;
    height: 100%;
    left: unset;
    right: 0;
    width: 40%;
    border-top: unset;
    border-left: solid 1px #969696;
    border-radius: 15px 0 0 15px;
    animation-name: slide-left;
  }
}

.close_button {
  position: absolute;
  top: 1rem;
  right: 20px;
  background: #000;
  border: none;
  width: 30px;
  height: 30px;
  color: #fff;
  font-size: 130%;
  border-radius: 15px;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0;
  cursor: pointer;
}

@media (min-width: 768px) {
  .close_button {
    left: 90%;
  }
}

.close_sidebar {
  animation-name: slide-down;
}

.hidden {
  display: none;
}

@media (min-width: 768px) {
  .close_sidebar {
    animation-name: slide-right;
  }
}

@keyframes slide-up {
  0% {
    height: 0;
  }

  100% {
    height: 60%;
  }
}

@keyframes slide-down {
  0% {
    height: 60%;
  }

  100% {
    height: 0;
  }
}

@keyframes slide-left {
  0% {
    width: 0;
  }

  100% {
    width: 40%;
  }
}

@keyframes slide-right {
  0% {
    width: 40%;
  }

  100% {
    width: 0;
  }
}</pre>



<pre data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">// scripts.js
const openHandler = () =&gt;
  document.querySelector(&#34;.sidebar&#34;).classList.remove(&#34;hidden&#34;);

const closeHandler = () =&gt; {
  document.querySelector(&#34;.sidebar&#34;).classList.add(&#34;close_sidebar&#34;);
  setTimeout(() =&gt; {
    document.querySelector(&#34;.sidebar&#34;).classList.add(&#34;hidden&#34;);
    document.querySelector(&#34;.sidebar&#34;).classList.remove(&#34;close_sidebar&#34;);
  }, 400);
};

document
  .getElementById(&#34;open_sidebar_button&#34;)
  .addEventListener(&#34;click&#34;, openHandler);
document.querySelector(&#34;.close_button&#34;).addEventListener(&#34;click&#34;, closeHandler);</pre>



<p>This markup along with the CSS styles and the JS scripts will be rendered as the sidebar that we saw at the beginning of this post.</p>
					</div></div>
  </body>
</html>
