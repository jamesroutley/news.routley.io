<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bun.sh/blog/bun-v0.3.0">Original</a>
    <h1>Bun 0.3</h1>
    
    <div id="readability-page-1" class="page"><article><p>Welcome to <a href="https://bun.sh/">Bun</a>, the all-in-one JavaScript runtime, bundler, transpiler, and package manager. We make writing and running JavaScript faster and simpler. If you&#39;re interested in joining us, check out our <a href="https://bun.sh/careers">careers</a> page, we&#39;re hiring C/C++ and Zig engineers!</p><p>Today, Bun has two main priorities: <strong>stability</strong> and <strong>compatibility</strong> with Node.js and Web APIs. In v0.3.0, we&#39;ve made significant progress toward both of these goals. There are a lot of changes to cover, so we&#39;ll start with the highlights.</p><p>To install:</p><div><pre><code><span><span>curl -fsSL https://bun.sh/install </span><span>|</span><span> bash</span></span></code></pre></div><p>To upgrade:</p><h2 id="stability">Stability improvements </h2><ul><li><p>Bun now uses <a href="https://twitter.com/jarredsumner/status/1598360859650113536/photo/1">3-5x less memory</a> under load. Previously, Bun wasn&#39;t scheduling garbage collection in coordination with the event loop. (See the benchmark <a href="https://github.com/oven-sh/bun/commit/31f025fa02c1c206944effe4395c841fc9e6b2fb">here</a>)</p></li><li><p>Bun now has better formatting for <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/log"><code>console.log()</code></a> (important for debugging!)</p><figure><a href="https://user-images.githubusercontent.com/709451/206131955-1678c2ba-b3ca-4294-ae81-ad39e05e73c5.png"><img src="https://user-images.githubusercontent.com/709451/206131955-1678c2ba-b3ca-4294-ae81-ad39e05e73c5.png" alt="Better formatting for console.log()"/></a></figure></li><li><p>Bun has fixed several bugs with text encoding and now uses <a href="https://github.com/simdutf/simdutf">simdutf</a> for <a href="https://twitter.com/jarredsumner/status/1598510404686450688">3x faster</a> <a href="https://developer.mozilla.org/en-US/docs/Web/API/TextEncoder/encodeInto"><code>TextEncoder.encodeInto()</code></a></p><figure><a href="https://user-images.githubusercontent.com/3238291/205817178-bf25dcea-6b6f-487b-bdf1-6728f0e4aec1.png"><img src="https://user-images.githubusercontent.com/3238291/205817178-bf25dcea-6b6f-487b-bdf1-6728f0e4aec1.png" alt="Bun now has 3x faster text encoding"/></a></figure></li><li><p>Bun now works in more Linux environments, including Amazon Linux 2 and builds for Vercel and Cloudflare Pages. (Previously, you might have seen errors like: &#34;version &#39;GLIBC_2.29&#39; not found&#34;)</p></li></ul><p>There were also many other changes that:</p><ul><li>Increased test coverage for <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch"><code>fetch()</code></a>, <a href="https://github.com/oven-sh/bun#bunspawn--spawn-a-process"><code>Bun.spawn()</code></a> and <a href="https://github.com/oven-sh/bun#bunspawn--spawn-a-process"><code>Bun.spawnSync()</code></a>, streaming files, and much more</li><li>Improved the bindings between JavaScriptCore and Zig, which has led to <a href="https://github.com/oven-sh/bun/commit/d6d04cab2415b662e1a1a9ce937fa42bfb33d823">many</a> <a href="https://github.com/oven-sh/bun/commit/ee939f7a6dbe3571cf17b4b8135edff5f2497b48">garbage-collector</a> <a href="https://github.com/oven-sh/bun/commit/17e8181b4ec760bea8acdd2f25c3dec3c693be50">related</a> <a href="https://github.com/oven-sh/bun/commit/7c7769a7c7db3b7932a2726adb9d64e011c1bed6">crashes</a> <a href="https://github.com/oven-sh/bun/commit/38b5a85d8ae030acdead6d169735317a66d23d94">being</a> <a href="https://github.com/oven-sh/bun/commit/88ca7fd73854758f9019722d3d491e599af354e8">fixed</a></li><li>Fixed various issues when using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API"><code>WebCrypto</code></a></li><li>Fixed encoding and compression issues with <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch"><code>fetch()</code></a></li><li>Fixed a data corruption bug in <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch"><code>fetch()</code></a></li><li>Fixed a crash when async code was run within <a href="https://developer.mozilla.org/en-US/docs/Web/API/setTimeout"><code>setTimeout()</code></a></li></ul><h2 id="node-compatibility">Node.js compatibility </h2><p>Bun now supports the following Node.js APIs:</p><ul><li><a href="https://nodejs.org/api/child_process.html#child-process"><code>node:child_process</code></a></li><li><a href="https://nodejs.org/api/process.html#processstdout"><code>process.stdout</code></a>, <a href="https://nodejs.org/api/process.html#processstderr"><code>process.stderr</code></a>, and <a href="https://nodejs.org/api/process.html#processstdin"><code>process.stdin</code></a></li><li><a href="https://v8.dev/docs/stack-trace-api#stack-trace-collection-for-custom-exceptions"><code>Error.captureStackTrace()</code></a> (ported from V8 to WebKit)</li><li><a href="https://nodejs.org/api/fs.html#fscreatewritestreampath-options"><code>fs.createWriteStream()</code></a> and <a href="https://nodejs.org/api/fs.html#fscreatereadstreampath-options"><code>fs.createReadStream()</code></a></li><li><a href="https://nodejs.org/api/process.html#processrelease"><code>process.release</code></a></li></ul><h2 id="new-apis">New and improved APIs </h2><p>At a glance, here&#39;s what changed:</p><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Console_API"><code>console</code></a> is now an <a href="#console-is-iterable"><code>AsyncIterable</code></a></li><li><a href="#file-system-router"><code>FileSystemRouter</code></a> is a Next.js-like file-system router for resolving files</li><li><a href="https://github.com/oven-sh/bun#bunffi-foreign-functions-interface"><code>bun:ffi</code></a> now supports <a href="https://github.com/oven-sh/bun/commit/006a2f37ddb133f61c6fa672652663204c2d2e54">threadsafe callbacks</a> from native code into JavaScript</li><li><code>bun:test</code> gets 10 <a href="#expect-matchers">new matchers</a> like <a href="https://jestjs.io/docs/expect#toequalvalue"><code>expect().toEqual()</code></a></li><li><code>bun:test</code> supports a <code>done</code> callback for async tests</li><li><code>Content-Range</code> header support for <a href="https://github.com/oven-sh/bun#bunserve---fast-http-server"><code>Bun.serve()</code></a> when streaming files</li><li>Bun&#39;s transpiler works with the TypeScript <code>satisfies</code> keyword</li><li><a href="https://github.com/oven-sh/bun#websockets-with-bunserve"><code>WebSocketServer</code></a> gets a <a href="https://github.com/oven-sh/bun#publishsubscribe"><code>publish()</code></a> method to publish messages to all clients</li><li><a href="#array-from-async"><code>Array.fromAsync()</code></a> and <a href="#resizable-array-buffer"><code>ArrayBuffer.resize()</code></a> with thanks to WebKit</li><li><code>Bun.file().size</code> now always reports a <a href="https://github.com/oven-sh/bun/commit/7a193ed243732f2bb606dc8f0c87d77058f9fff3">number</a></li><li><a href="#header-apis"><code>Headers</code></a> gets support for <code>.toJSON()</code> and <code>.getAll(&#34;Set-Cookie&#34;)</code></li><li><code>Bun.deepEquals()</code> which is used by <code>expect().toEqual()</code></li></ul><h3 id="console-is-iterable"><code>console</code> is now an <code>AsyncIterable</code> </h3><p>Bun is making it easier to read input from your console with APIs that make sense for non-browsers. <a href="https://developer.mozilla.org/en-US/docs/Web/API/console"><code>console</code></a> is now an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/asyncIterator"><code>AsyncIterable</code></a> which allows you to stream lines of text from stdin by <code>for await</code>-looping over <code>console</code>.</p><div><pre><code><span><span>for</span><span> </span><span>await</span><span> (</span><span>const</span><span> line </span><span>of</span><span> console) {</span></span>
<span><span>  console.</span><span>log</span><span>(</span><span>&#34;</span><span>Received:</span><span>&#34;</span><span>, line);</span></span>
<span><span>}</span></span></code></pre></div><p>To write to stdout, you can also use <code>console.write()</code>, which skips the formatting of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/log"><code>console.log()</code></a>.</p><div><pre><code><span><span>console.</span><span>write</span><span>(</span><span>&#34;</span><span>hello</span><span>&#34;</span><span>);</span></span>
<span><span>console.</span><span>write</span><span>(</span><span>&#34;</span><span>hello</span><span>&#34;</span><span>, </span><span>&#34;</span><span>world</span><span>&#34;</span><span>, </span><span>&#34;</span><span>\n</span><span>&#34;</span><span>);</span></span>
<span></span>
<span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> </span><span>fetch</span><span>(</span><span>&#34;</span><span>https://example.com/</span><span>&#34;</span><span>);</span></span>
<span><span>console.</span><span>write</span><span>(</span><span>&#34;</span><span>Response: </span><span>&#34;</span><span>, </span><span>await</span><span> response.</span><span>arrayBuffer</span><span>());</span></span></code></pre></div><h2 id="automatic-installs">Automatic package installs from npm </h2><p>When there is no <code>node_modules</code> directory, Bun will now automatically install packages from npm on <code>import</code>. To save disk space, packages are downloaded into the shared global cache directory. For security, <code>postinstall</code> scripts are not run.</p><figure><a href="https://user-images.githubusercontent.com/709451/205746187-e657d631-40d6-4f19-845c-d0ad9c2afe92.gif"><img src="https://user-images.githubusercontent.com/709451/205746187-e657d631-40d6-4f19-845c-d0ad9c2afe92.gif" alt="react-version" height="348"/></a></figure><p>To specify a package version, you can either continue to use <code>package.json</code> or you can include a range specifier in the <code>import</code> path. These range specifiers are only supported when there is no <code>package.json</code> present.</p><div><pre><code><span><span>import</span><span> { renderToReadableStream } </span><span>from</span><span> </span><span>&#34;</span><span>react-dom@latest/server</span><span>&#34;</span><span>;</span></span>
<span><span>import</span><span> { serve } </span><span>from</span><span> </span><span>&#34;</span><span>bun</span><span>&#34;</span><span>;</span></span>
<span></span>
<span><span>serve</span><span>({</span></span>
<span><span>  </span><span>async</span><span> </span><span>fetch</span><span>(</span><span>req</span><span>) {</span></span>
<span><span>    </span><span>const</span><span> stream </span><span>=</span><span> </span><span>await</span><span> </span><span>renderToReadableStream</span><span>(</span></span>
<span><span>      &lt;</span><span>html</span><span>&gt;</span></span>
<span><span>        &lt;</span><span>body</span><span>&gt;</span></span>
<span><span>          &lt;</span><span>h1</span><span>&gt;Hello, world!&lt;/</span><span>h1</span><span>&gt;</span></span>
<span><span>        &lt;/</span><span>body</span><span>&gt;</span></span>
<span><span>      &lt;/</span><span>html</span><span>&gt;,</span></span>
<span><span>    );</span></span>
<span><span>    </span><span>return</span><span> </span><span>new</span><span> </span><span>Response</span><span>(stream);</span></span>
<span><span>  },</span></span>
<span><span>});</span></span></code></pre></div><p>Bun continues to support the <code>node_modules</code> folder, which means this isn&#39;t a breaking change. If you want to disable this feature, you can run Bun using the <code>--no-install</code> flag.</p><h3 id="file-system-router"><code>FileSystemRouter</code> </h3><p>Bun now exposes <code>FileSystemRouter</code>, a fast API for resolving incoming paths against a file-system router. Once initialized, it can rapidly resolve paths, or a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request"><code>Request</code></a>, against the router.</p><p>Consider the following Next.js-style <code>pages</code> directory:</p><div><pre><code><span><span>/</span><span>path</span><span>/</span><span>to</span><span>/</span><span>project</span></span>
<span><span>├── server.ts</span></span>
<span><span>├── pages</span></span>
<span><span>  ├── index.tsx</span></span>
<span><span>  ├── settings.tsx</span></span>
<span><span>  ├── blog</span></span>
<span><span>  │   ├── index.tsx</span></span>
<span><span>  │   └── [slug].tsx</span></span>
<span><span>  └── [[</span><span>...</span><span>catchall]].tsx</span></span></code></pre></div><p>In <code>server.ts</code>, you can initialize a <code>FileSystemRouter</code> that points to your <code>pages</code> directory.</p><div><pre><code><span><span>import</span><span> { FileSystemRouter } </span><span>from</span><span> </span><span>&#34;</span><span>bun</span><span>&#34;</span><span>;</span></span>
<span></span>
<span><span>const</span><span> router </span><span>=</span><span> </span><span>new</span><span> </span><span>FileSystemRouter</span><span>({</span></span>
<span><span>  dir</span><span>:</span><span> </span><span>import</span><span>.meta.dir </span><span>+</span><span> </span><span>&#34;</span><span>/pages</span><span>&#34;</span><span>,</span></span>
<span><span>  style</span><span>:</span><span> </span><span>&#34;</span><span>nextjs</span><span>&#34;</span><span>,</span></span>
<span><span>});</span></span></code></pre></div><p>Currently, the only supported <code>style</code> is <code>nextjs</code>. We plan to support others in the future, including the Next.js 13-style <code>app</code> directory.</p><p>You can use the <code>router</code> instance to resolve incoming requests against your defined pages. This matching is implemented in native code and is much faster than a JavaScript-based router.</p><div><pre><code><span><span>router.</span><span>match</span><span>(</span><span>&#34;</span><span>/</span><span>&#34;</span><span>);</span></span>
<span><span>// { filePath: &#34;/pages/index.tsx&#34; }</span></span>
<span></span>
<span><span>router.</span><span>match</span><span>(</span><span>&#34;</span><span>/blog</span><span>&#34;</span><span>);</span></span>
<span><span>// { filePath: &#34;/pages/blog/index.tsx&#34; }</span></span>
<span></span>
<span><span>router.</span><span>match</span><span>(</span><span>&#34;</span><span>/blog/my-first-post?foo=bar</span><span>&#34;</span><span>);</span></span>
<span><span>// {</span></span>
<span><span>//   filePath: &#34;/pages/blog/[slug].tsx&#34; }</span></span>
<span><span>//   params: { slug: &#34;hello-world&#34; },</span></span>
<span><span>//   query: { foo: &#34;bar&#34; }</span></span>
<span><span>// }</span></span></code></pre></div><h3 id="expect-matchers">Expect matchers in <code>bun:test</code> </h3><p>More methods on <a href="https://jestjs.io/docs/expect"><code>expect()</code></a> matchers have been implemented in <code>bun:test</code>. We&#39;ve also made performance improvements to <code>expect()</code> which makes <code>toEqual()</code> <a href="https://twitter.com/jarredsumner/status/1595681235606585346">100x faster</a> than Jest. Longer-term, we want bun:test to be an incredibly fast drop-in replacement for companies using Jest &amp; Vitest.</p><div><pre><code><span><span>import</span><span> { test, expect } </span><span>from</span><span> </span><span>&#34;</span><span>bun:test</span><span>&#34;</span><span>;</span></span>
<span></span>
<span><span>test</span><span>(</span><span>&#34;</span><span>new expect() matchers</span><span>&#34;</span><span>, () </span><span>=&gt;</span><span> {</span></span>
<span><span>  </span><span>expect</span><span>(</span><span>1</span><span>).not.</span><span>toBe</span><span>(</span><span>2</span><span>);</span></span>
<span><span>  </span><span>expect</span><span>({ a</span><span>:</span><span> </span><span>1</span><span> }).</span><span>toEqual</span><span>({ a</span><span>:</span><span> </span><span>1</span><span>, b</span><span>:</span><span> </span><span>undefined</span><span> });</span></span>
<span><span>  </span><span>expect</span><span>({ a</span><span>:</span><span> </span><span>1</span><span> }).</span><span>toStrictEqual</span><span>({ a</span><span>:</span><span> </span><span>1</span><span> });</span></span>
<span><span>  </span><span>expect</span><span>(</span><span>new</span><span> </span><span>Set</span><span>()).</span><span>toHaveProperty</span><span>(</span><span>&#34;</span><span>size</span><span>&#34;</span><span>);</span></span>
<span><span>  </span><span>expect</span><span>([]).</span><span>toHaveLength</span><span>(</span><span>0</span><span>);</span></span>
<span><span>  </span><span>expect</span><span>([</span><span>&#34;</span><span>bun</span><span>&#34;</span><span>]).</span><span>toContain</span><span>(</span><span>&#34;</span><span>bun</span><span>&#34;</span><span>);</span></span>
<span><span>  </span><span>expect</span><span>(</span><span>true</span><span>).</span><span>toBeTruthy</span><span>();</span></span>
<span><span>  </span><span>expect</span><span>(</span><span>Math</span><span>.</span><span>PI</span><span>).</span><span>toBeGreaterThan</span><span>(</span><span>3.14</span><span>);</span></span>
<span><span>  </span><span>expect</span><span>(</span><span>null</span><span>).</span><span>toBeNull</span><span>();</span></span>
<span><span>});</span></span></code></pre></div><p>You can try out the test runner using: <code>bun wiptest</code></p><p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Headers/Headers"><code>Headers</code></a> class now implements the <a href="https://github.com/whatwg/fetch/issues/973"><code>.getAll()</code></a> and <a href="https://github.com/oven-sh/bun/commit/3b802c9a130683ff1f08858940892ed8f0a2f16c#diff-a65d88ebc29ed6f4f501937676ec79db7c7b9a3ccf9e04e04ac0fbf83d4f8549R339"><code>.toJSON()</code></a> methods. These are both technically non-standard methods, but we think it will make your life easier.</p><div><pre><code><span><span>const</span><span> headers </span><span>=</span><span> </span><span>new</span><span> </span><span>Headers</span><span>();</span></span>
<span><span>headers.</span><span>append</span><span>(</span><span>&#34;</span><span>Set-Cookie</span><span>&#34;</span><span>, </span><span>&#34;</span><span>a=1</span><span>&#34;</span><span>);</span></span>
<span><span>headers.</span><span>append</span><span>(</span><span>&#34;</span><span>Set-Cookie</span><span>&#34;</span><span>, </span><span>&#34;</span><span>b=1; Secure</span><span>&#34;</span><span>);</span></span>
<span></span>
<span><span>console.</span><span>log</span><span>(headers.</span><span>getAll</span><span>(</span><span>&#34;</span><span>Set-Cookie</span><span>&#34;</span><span>)); </span><span>// [&#34;a=1&#34;, &#34;b=1; Secure&#34;]</span></span>
<span><span>console.</span><span>log</span><span>(headers.</span><span>toJSON</span><span>()); </span><span>// { &#34;set-cookie&#34;: &#34;a=1, b=1; Secure&#34; }</span></span></code></pre></div><h3 id="resizable-array-buffer">Resizable <code>ArrayBuffer</code> and growable <code>SharedArrayBuffer</code> </h3><p>The ability to <a href="https://github.com/tc39/proposal-resizablearraybuffer#arraybuffer"><code>.resize()</code></a> an <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer"><code>ArrayBuffer</code></a> and <a href="https://github.com/tc39/proposal-resizablearraybuffer#sharedarraybuffer"><code>.grow()</code></a> a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer"><code>SharedArrayBuffer</code></a> has been implemented in WebKit and is now available in Bun. Thanks, WebKit!</p><div><pre><code><span><span>const</span><span> buffer </span><span>=</span><span> </span><span>new</span><span> </span><span>ArrayBuffer</span><span>({</span></span>
<span><span>  byteLength</span><span>:</span><span> </span><span>1024</span><span>,</span></span>
<span><span>  maxByteLength</span><span>:</span><span> </span><span>2048</span><span>,</span></span>
<span><span>});</span></span>
<span></span>
<span><span>console.</span><span>log</span><span>(buffer.byteLength); </span><span>// 1024</span></span>
<span><span>buffer.</span><span>resize</span><span>(</span><span>2048</span><span>);</span></span>
<span><span>console.</span><span>log</span><span>(buffer.byteLength); </span><span>// 2048</span></span></code></pre></div><h3 id="array-from-async"><code>Array.fromAsync()</code> </h3><p>The <a href="https://github.com/tc39/proposal-array-from-async#why-an-arrayfromasync-method"><code>Array.fromAsync()</code></a> method has also been implemented in WebKit and is now available in Bun. It is similar to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from"><code>Array.from()</code></a> except it accepts async-iterable inputs. Thanks again, WebKit!</p><div><pre><code><span><span>async</span><span> </span><span>function*</span><span> </span><span>listReleases</span><span>() {</span></span>
<span><span>  </span><span>for</span><span> (</span><span>let</span><span> page </span><span>=</span><span> </span><span>1</span><span>; ; page</span><span>++</span><span>) {</span></span>
<span><span>    </span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> </span><span>fetch</span><span>(</span></span>
<span><span>      </span><span>`https://api.github.com/repos/oven-sh/bun/releases?page=</span><span>${</span><span>page</span><span>}</span><span>`</span><span>,</span></span>
<span><span>    );</span></span>
<span><span>    </span><span>const</span><span> releases </span><span>=</span><span> </span><span>await</span><span> response.</span><span>json</span><span>();</span></span>
<span><span>    </span><span>if</span><span> (</span><span>!</span><span>releases.length) {</span></span>
<span><span>      </span><span>break</span><span>;</span></span>
<span><span>    }</span></span>
<span><span>    </span><span>for</span><span> (</span><span>const</span><span> release </span><span>of</span><span> releases) {</span></span>
<span><span>      </span><span>yield</span><span> release;</span></span>
<span><span>    }</span></span>
<span><span>  }</span></span>
<span><span>}</span></span>
<span></span>
<span><span>const</span><span> releases </span><span>=</span><span> </span><span>await</span><span> </span><span>Array</span><span>.</span><span>fromAsync</span><span>(</span><span>listReleases</span><span>());</span></span></code></pre></div><h2 id="changelog">Changelog </h2><p>There were a lot of other changes! Here&#39;s the complete list:</p><ul><li>Fixed various memory leaks - <a href="https://github.com/oven-sh/bun/commit/a9aa3e732c2ff90ae4eff9cc8e6bb9111534d959"><code>a9aa3e7</code></a>, <a href="https://github.com/oven-sh/bun/commit/1cce9da80a51d49e423223f24f94fee6a044ab10"><code>1cce9da</code></a>, <a href="https://github.com/oven-sh/bun/commit/9090f06612cbff5bd389212a8d896bcd6372683f"><code>9090f06</code></a></li><li>Implemented <a href="https://nodejs.org/api/process.html#processrelease"><code>process.release</code></a> - <a href="https://github.com/oven-sh/bun/commit/901c4f57aa1fd0914c5f153fe56768f23b7a6511"><code>901c4f5</code></a></li><li>Fixed various bugs with <code>RegExp</code> - <a href="https://github.com/oven-sh/bun/commit/5398ed52d8a0592b4511f8c0c03391dd06e770b2"><code>5398ed5</code></a>, <a href="https://github.com/oven-sh/bun/pull/1537"><code>#1537</code></a>, <a href="https://github.com/oven-sh/bun/pull/1528"><code>#1528</code></a>, <a href="https://github.com/oven-sh/bun/commit/74e87b5a8a94a59bbfa32bba554503921c74c68c"><code>74e87b5</code></a></li><li>Fixed an issue with <a href="https://nodejs.org/api/fs.html#fsstatpath-options-callback"><code>fs.stat()</code></a> - <a href="https://github.com/oven-sh/bun/commit/f9f169bb9e53afb6d9d8978ffdd4939d3033a6e8"><code>f9f169b</code></a></li><li>Prevented <a href="https://nodejs.org/api/process.html#processstdout"><code>process.stdout</code></a> and <a href="https://nodejs.org/api/process.html#processstderr"><code>process.stderr</code></a> from being closed - <a href="https://github.com/oven-sh/bun/commit/8519ff02e6d5449484a5a4f858626303543c8a55"><code>8519ff0</code></a></li><li>Changed behaviour of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob/size"><code>Blob.size</code></a> to report <code>Infinity</code> for non-files - <a href="https://github.com/oven-sh/bun/commit/d5c81b7423d866bcf418eaacbc1ad1a14bc23c1d"><code>d5c81b7</code></a></li><li>Fixed incorrect <code>exitCode</code> from <a href="https://github.com/oven-sh/bun#bunspawn--spawn-a-process"><code>spawn()</code></a> - <a href="https://github.com/oven-sh/bun/commit/30e1fe1035b0e18c16401f447b446f2fc94c167b"><code>30e1fe1</code></a></li><li>Fixed incorrect transpilation of <code>export = value</code> in TypeScript - <a href="https://github.com/oven-sh/bun/commit/1cb5a7324343c2c7980e0d2d0aeab74ebc602689"><code>1cb5a73</code></a></li><li>Fixed <a href="https://github.com/oven-sh/bun#bunspawn--spawn-a-process"><code>spawn()</code></a> not being killed when parent process is killed - <a href="https://github.com/oven-sh/bun/commit/1f174b9d9580ed1101c043963b17e2bd27aedf81"><code>1f174b9</code></a></li><li>Fixed silent error when <code>port</code> was not a number - <a href="https://github.com/oven-sh/bun/commit/e5b2e3c6024492a10cb2649477657a168bf9723f"><code>e5b2e3c</code></a></li><li>Added a <code>done</code> callback to support async functions in <code>bun:test</code> - <a href="https://github.com/oven-sh/bun/commit/c00359a521bfcd0d1476511962cfc50763796e61"><code>c00359a</code></a></li><li>Fixed various issues with <a href="https://nodejs.org/api/process.html#processnexttickcallback-args"><code>process.nextTick()</code></a> - <a href="https://github.com/oven-sh/bun/commit/fd26d2e9fa3a98803244d2d4d7cb8c657d4efe2a"><code>fd26d2e</code></a>, <a href="https://github.com/oven-sh/bun/commit/2eb19a96b11b75e65cde00d6ac1c358b30020ef6"><code>2eb19a9</code></a></li><li>Fixed <code>console.log(Request)</code> showing an empty <code>url</code> - <a href="https://github.com/oven-sh/bun/commit/cb41d77d2aa9ae3b4d938167d86679a429bee4fe"><code>cb41d77</code></a></li><li>Implemented <a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal/timeout"><code>AbortSignal.timeout()</code></a> - <a href="https://github.com/oven-sh/bun/commit/fe4f39fd17b8ffbb809871b9e4c6550063f15657"><code>fe4f39f</code></a></li><li>Supported wildcard <code>imports</code> in package.json - <a href="https://github.com/oven-sh/bun/commit/a3dc33c13350f4227c1cfb669f095d011d34ed76"><code>a3dc33c</code></a></li><li>Fixed timers keeping the process alive unnecessarily - <a href="https://github.com/oven-sh/bun/commit/f408749182f49607902921c55307f2cf94eb23db"><code>f408749</code></a></li><li>Fixed an issue when object spreading <a href="https://nodejs.org/dist/latest/docs/api/process.html#processenv"><code>process.env</code></a> - <a href="https://github.com/oven-sh/bun/commit/a6cadce6f6292b685cc4160052304b5dfc8cd3ad"><code>a6cadce</code></a></li><li>Fixed a bug where <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response/arrayBuffer"><code>Response.arrayBuffer()</code></a> would return a <code>Uint8Array</code> - <a href="https://github.com/oven-sh/bun/commit/de9a2b9fe54cb7fd9696a3fa8edfa9c42829280d"><code>de9a2b9</code></a></li><li>Implemented <code>signalCode</code> for <a href="https://github.com/oven-sh/bun#bunspawn--spawn-a-process"><code>Bun.spawn()</code></a> - <a href="https://github.com/oven-sh/bun/commit/0617896d7045e129abac8d7fd22df0e6626d92c8"><code>0617896</code></a></li><li>Supported the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Range"><code>Content-Range</code></a> header when serving a file - <a href="https://github.com/oven-sh/bun/commit/0617896d7045e129abac8d7fd22df0e6626d92c8"><code>0617896d</code></a></li><li>Supported <code>bin</code> when using <code>bun link</code> - <a href="https://github.com/oven-sh/bun/commit/0642cf31f34759705c92daba1016edc9e460b661"><code>0642cf3</code></a></li><li>Improved the output of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Console/log"><code>console.log()</code></a> - <a href="https://github.com/oven-sh/bun/commit/c65c320b09c795cb27523ff61eb9f9d92663c8cd"><code>c65c320</code></a></li><li>Fixed an issue with streams prematurely closing - <a href="https://github.com/oven-sh/bun/commit/d68f44d604f52ad9b4b9052d42d93ffb10f83af7"><code>d68f44d</code></a></li><li>Fixed an issue when using <a href="https://developer.mozilla.org/en-US/docs/Web/API/console/log"><code>console.log()</code></a> with an emoji - <a href="https://github.com/oven-sh/bun/commit/3cb462a3e69811dd34200d0eaaba89471e44d82a"><code>3cb462a</code></a></li><li>Fixed an issue when connecting to <code>localhost</code> - <a href="https://github.com/oven-sh/bun/commit/d90a638101921807d6dc8fca14fc39f843552983"><code>d90a638</code></a></li><li>Fixed <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request/url"><code>Request.url</code></a> not showing the value from the <code>Host</code> header - <a href="https://github.com/oven-sh/bun/commit/da257336b0b70df8c31da647496899cf70670000"><code>da25733</code></a></li><li>Fixed memory issues in <a href="https://developers.cloudflare.com/workers/runtime-apis/html-rewriter/"><code>HTMLRewriter</code></a> where <code>text</code> was not properly cloned - <a href="https://github.com/oven-sh/bun/commit/a858261832800f03c294d59365fde19d783c486d"><code>a85826</code></a>, <a href="https://github.com/oven-sh/bun/commit/904716f56b95cb86aa1263e19bcfb49c2cee0b90"><code>904716f</code></a></li><li>Fixed an issue when an exception is throw within a <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSocket"><code>WebSocket</code></a> open event - <a href="https://github.com/oven-sh/bun/commit/c52ebd96ba5d0b695a4b7a27071815a96d1f568f"><code>c52ebd9</code></a></li><li>Added support for npm packages that do not have a <code>-</code> before a pre-release identifier (e.g. <code>1.0.0beta</code>) - <a href="https://github.com/oven-sh/bun/commit/5f5ef81f11403c399fc57f0fd3dc6b2dd85e492e"><code>5f5ef81</code></a></li><li>Improved performance of IO polling for <a href="https://github.com/oven-sh/bun#bunspawn--spawn-a-process"><code>Bun.spawn()</code></a> and <a href="https://nodejs.org/api/child_process.html"><code>node:child_process</code></a> - <a href="https://github.com/oven-sh/bun/pull/1496"><code>#1496</code></a></li><li>Fixed infinite IO <code>write()</code> on Linux - <a href="https://github.com/oven-sh/bun/commit/a78b6f920d5042c583d8e2c8ab12132ba1a5e982"><code>a78b6f9</code></a></li><li>Added support for <a href="https://nodejs.org/api/fs.html#fsrmdirpath-options-callback"><code>fs.rmdir()</code></a> - <a href="https://github.com/oven-sh/bun/commit/92b766095de0e59fe40dfd9009e4fcc18117d93b"><code>92b7660</code></a></li><li>Fixed an issue with gzip decompression when the body was not gzipped - <a href="https://github.com/oven-sh/bun/pull/1510"><code>#1510</code></a></li><li>Fixed an issue with <code>@</code> in the URL of <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch"><code>fetch()</code></a> - <a href="https://github.com/oven-sh/bun/commit/6c01a1191f07b3f2b8ce1ba07bf4eda25ce5e473"><code>6c01a11</code></a></li><li>Fixed an issue with a trailing <code>/</code> in the URL of <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch"><code>fetch()</code></a> - <a href="https://github.com/oven-sh/bun/commit/4f22c39651bf57f929876bd58e83bf0b3156a9d1"><code>4f22c39</code></a></li><li>Fixed rare crash during <a href="https://developer.mozilla.org/en-US/docs/Web/API/console/log"><code>console.log()</code></a> - <a href="https://github.com/oven-sh/bun/commit/b0c89baac755195393ae182a1ee1a6e7b22f54b9"><code>b0c89ba</code></a></li><li>Improved support for <a href="https://nodejs.org/api/http.html#httpcreateserveroptions-requestlistener"><code>node:http.createServer()</code></a> - <a href="https://github.com/oven-sh/bun/commit/bf6b1742330343c6004789f02761426aeafdb47b"><code>bf6b174</code></a></li><li>Implemented <code>FileSink.ref()</code> and <code>FileSink.unref()</code> - <a href="https://github.com/oven-sh/bun/commit/d1a4f4fd6981a06920adb632dde2562b76ddc4d0"><code>d1a4f4f</code></a></li><li>Implemented <a href="https://developer.mozilla.org/en-US/docs/Web/API/console/timeLog"><code>console.timeLog()</code></a> - <a href="https://github.com/oven-sh/bun/commit/f6779193c0e1c57b6d78979b7aacecda4e29081b"><code>f677919</code></a></li><li>Fixed <a href="https://nodejs.org/api/fs.html#fscreatewritestreampath-options"><code>fs.createWriteStream()</code></a> - <a href="https://github.com/oven-sh/bun/pull/1433"><code>#1433</code></a></li><li>Supported TypeScript decorators - <a href="https://github.com/oven-sh/bun/pull/1445"><code>#1445</code></a></li><li>Supported JavaScript callbacks using <a href="https://github.com/oven-sh/bun#bunffi-foreign-functions-interface"><code>bun:ffi</code></a> - <a href="https://github.com/oven-sh/bun/commit/81033c52fb8c4c6b9370b960451b21ac9f876744"><code>81033c5</code></a></li><li>Added a property for JavaScript callbacks to be marked as <code>threadsafe</code> using <a href="https://github.com/oven-sh/bun#bunffi-foreign-functions-interface"><code>bun:ffi</code></a> - <a href="https://github.com/oven-sh/bun/commit/006a2f37ddb133f61c6fa672652663204c2d2e54"><code>006a2f3</code></a></li><li>Fixed various <a href="https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto"><code>WebCrypto</code></a> issues and crashes - <a href="https://github.com/oven-sh/bun/pull/1448"><code>#1448</code></a>, <a href="https://github.com/oven-sh/bun/pull/1450"><code>#1450</code></a></li><li>Fixed <a href="https://github.com/oven-sh/bun#bunwhich--find-the-path-to-a-binary"><code>Bun.which()</code></a> not handling absolute paths - <a href="https://github.com/oven-sh/bun/commit/d6520cd761d79680576b516d27505865fe5376e5"><code>d6520cd</code></a></li><li>Allowed URLs to be used as an argument to <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch"><code>fetch()</code></a> - <a href="https://github.com/oven-sh/bun/pull/1460"><code>#1460</code></a></li><li>Fixed rejected promises not triggering a test failure in <code>bun:test</code> - <a href="https://github.com/oven-sh/bun/commit/370d9c2931bbe778c8f897439d3a5429be933c21"><code>370d9c</code></a></li><li>Fixed environment variables being coerced to non-strings - <a href="https://github.com/oven-sh/bun/pull/1256"><code>#1256</code></a></li><li>Made <a href="https://developer.mozilla.org/en-US/docs/Web/API/TextDecoder/TextDecoder"><code>TextDecoder</code></a> 20% faster for small inputs - <a href="https://github.com/oven-sh/bun/commit/1604666988b5aa674104d10fbc5d2e86cc04e870"><code>160466</code></a></li><li>Fixed incorrect value for <a href="https://nodejs.org/api/os.html#oseol"><code>os.EOL</code></a> - <a href="https://github.com/oven-sh/bun/commit/8b0a3c75cb98f5026de668b3a23d2e42f94e5d1a"><code>8b0a3c7</code></a></li><li>Fixed <a href="https://nodejs.org/api/buffer.html#buftostringencoding-start-end"><code>Buffer.toString(&#34;base64&#34;)</code></a> sometimes being incorrect - <a href="https://github.com/oven-sh/bun/commit/af3931371eb30c11623d3aaecc3fe7cf0e14ec0d"><code>af39313</code></a></li><li>Fixed incorrect file permissions when using <code>bun install</code> - <a href="https://github.com/oven-sh/bun/commit/2c4777f579041d86b20e78ba6f519863ad3a6a13"><code>2c4777</code></a></li><li>Supported TypeScript <code>satisfies</code> - <a href="https://github.com/oven-sh/bun/commit/565996a087df6d06b2b5109b6825c720d4c8b168"><code>565996</code></a></li><li>Implemented <a href="https://github.com/oven-sh/bun#publishsubscribe"><code>WebSocketServer.publish()</code></a> when invoked outside an event handler - <a href="https://github.com/oven-sh/bun/commit/8753c483ff3e23929048eedeb4047b0b0aef281d"><code>8753c48</code></a></li><li>Improved performance of Node.js streams - <a href="https://github.com/oven-sh/bun/pull/1502"><code>#1502</code></a></li><li>Fixed <a href="https://github.com/oven-sh/bun#bunsqlite-sqlite3-module"><code>bun:sqlite</code></a> truncating numbers to int32 instead of int52 - <a href="https://github.com/oven-sh/bun/commit/ce6fc8609b26a7538dca840b2de5427a146445d4"><code>ce6fc86</code></a></li><li>Fixed HTTP status text not matching standards - <a href="https://github.com/oven-sh/bun/commit/949d715a141890286d3b04ded8e209ac899ed2af"><code>949d715</code></a></li><li>Fixed <a href="https://github.com/oven-sh/bun#bunsqlite-sqlite3-module"><code>bun:sqlite</code></a> not properly handing latin1 characters - <a href="https://github.com/oven-sh/bun/commit/c65c320b09c795cb27523ff61eb9f9d92663c8cd"><code>c65c320</code></a></li><li>Supported manual redirects in <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch"><code>fetch()</code></a> - <a href="https://github.com/oven-sh/bun/commit/5854d395259f4084b1d66e9f12b54085f277527e"><code>5854d39</code></a></li><li>Fixed <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch"><code>fetch()</code></a> redirects loosing the <code>port</code> - <a href="https://github.com/oven-sh/bun/commit/f8d9a8be875a62eab9f3a6a8ca1a5b230d3aa0be"><code>f8d9a8b</code></a></li><li>Fixed an issue with a malformed <a href="https://developer.mozilla.org/en-US/docs/Web/API/fetch"><code>fetch()</code></a> response body - <a href="https://github.com/oven-sh/bun/commit/b230e7a73a78e67533cba0d852cefdbbd787eae9"><code>b230e7a</code></a></li></ul></article></div>
  </body>
</html>
