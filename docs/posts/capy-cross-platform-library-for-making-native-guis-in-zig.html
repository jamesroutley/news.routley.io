<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/capy-ui/capy">Original</a>
    <h1>Capy – Cross-platform library for making native GUIs in Zig</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<h5 dir="auto"><a id="user-content-guis-in-zig-but-idiomatic" aria-hidden="true" href="#guis-in-zig-but-idiomatic"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>GUIs in Zig, but idiomatic</h5>
<p dir="auto"><strong>As of now, Capy is NOT ready for use in production as I&#39;m still making breaking changes</strong></p>
<hr/>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://raw.githubusercontent.com/zenith391/bottom-zig-gui/main/.github/screenshot.png"><img src="https://raw.githubusercontent.com/zenith391/bottom-zig-gui/main/.github/screenshot.png" alt="the glorius software in action"/></a></p>
<h2 dir="auto"><a id="user-content-introduction" aria-hidden="true" href="#introduction"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Introduction</h2>
<p dir="auto">Capy is a <strong>graphical user interface library for Zig</strong>. It is mainly intended for creating applications using native controls from the operating system.
Capy is a declarative UI library aiming to be easy to write for and versatile.</p>
<p dir="auto">It has been made with the goal to empower standalone UI applications, integration in games or any other rendering process is a non-goal.</p>
<h2 dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<p dir="auto">A simple application using capy:</p>
<div data-snippet-clipboard-copy-content="const capy = @import(&#34;capy&#34;);
const std = @import(&#34;std&#34;);

pub fn main() !void {
    try capy.backend.init();

    var window = try capy.Window.init();
    try window.set(
        capy.Column(.{ .spacing = 10 }, .{ // have 10px spacing between each column&#39;s element
            capy.Row(.{ .spacing = 5 }, .{ // have 5px spacing between each row&#39;s element
                capy.Button(.{ .label = &#34;Save&#34;, .onclick = buttonClicked }),
                capy.Button(.{ .label = &#34;Run&#34;,  .onclick = buttonClicked })
            }),
            // Expanded means the widget will take all the space it can
            // in the parent container
            capy.Expanded(
                capy.TextArea(.{ .text = &#34;Hello World!&#34; })
            )
        })
    );

    window.resize(800, 600);
    window.show();
    capy.runEventLoop();
}

fn buttonClicked(button: *capy.Button_Impl) !void {
    std.log.info(&#34;You clicked button with text {s}&#34;, .{button.getLabel()});
}"><pre><span>const</span> <span>capy</span> <span>=</span> <span>@import</span>(<span>&#34;capy&#34;</span>);
<span>const</span> <span>std</span> <span>=</span> <span>@import</span>(<span>&#34;std&#34;</span>);

<span>pub</span> <span>fn</span> <span>main</span>() <span>!</span><span>void</span> {
    <span>try</span> <span>capy</span>.<span>backend</span>.<span>init</span>();

    <span>var</span> <span>window</span> <span>=</span> <span>try</span> <span>capy</span>.<span>Window</span>.<span>init</span>();
    <span>try</span> <span>window</span>.<span>set</span>(
        <span>capy</span>.<span>Column</span>(.{ .<span>spacing</span> <span>=</span> <span>10</span> }, .{ <span>// have 10px spacing between each column&#39;s element</span>
            <span>capy</span>.<span>Row</span>(.{ .<span>spacing</span> <span>=</span> <span>5</span> }, .{ <span>// have 5px spacing between each row&#39;s element</span>
                <span>capy</span>.<span>Button</span>(.{ .<span>label</span> <span>=</span> <span>&#34;Save&#34;</span>, .<span>onclick</span> <span>=</span> <span>buttonClicked</span> }),
                <span>capy</span>.<span>Button</span>(.{ .<span>label</span> <span>=</span> <span>&#34;Run&#34;</span>,  .<span>onclick</span> <span>=</span> <span>buttonClicked</span> })
            }),
            <span>// Expanded means the widget will take all the space it can</span>
            <span>// in the parent container</span>
            <span>capy</span>.<span>Expanded</span>(
                <span>capy</span>.<span>TextArea</span>(.{ .<span>text</span> <span>=</span> <span>&#34;Hello World!&#34;</span> })
            )
        })
    );

    <span>window</span>.<span>resize</span>(<span>800</span>, <span>600</span>);
    <span>window</span>.<span>show</span>();
    <span>capy</span>.<span>runEventLoop</span>();
}

<span>fn</span> <span>buttonClicked</span>(<span>button</span>: <span>*</span><span>capy.Button_Impl</span>) <span>!</span><span>void</span> {
    <span>std</span>.<span>log</span>.<span>info</span>(<span>&#34;You clicked button with text {s}&#34;</span>, .{<span>button</span>.<span>getLabel</span>()});
}</pre></div>
<p dir="auto">It is easy to add something like a button or a text area. The example can already be used to notice a widget&#39;s parameters are usually enclosed in anonymous
structs (<code>.{ .label = &#34;Save&#34; }</code>). You can also see that simply wrapping a widget with <code>capy.Expanded( ... )</code> will tell it to take all the space it can.</p>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p dir="auto"><strong>If you&#39;re starting a new project,
simply clone <a href="https://github.com/zenith391/capy-template">capy-template</a>
and follow build instructions</strong></p>
<p dir="auto">Otherwise if you&#39;re adding capy to an already existing project:</p>
<p dir="auto">Before proceeding, you must first install the <a href="https://github.com/nektro/zigmod">zigmod</a> package manager.
Then, in the folder of your project,
you can execute the following commands:</p>

<p dir="auto">In your <code>build.zig</code>, add:</p>
<div data-snippet-clipboard-copy-content="diff --git a/usr/bin/ziglang/lib/zig/init-exe/build.zig b/build.zig
index 29b50b5..ccbb74b 100644
--- a/usr/bin/ziglang/lib/zig/init-exe/build.zig
+++ b/build.zig
@@ -1,6 +1,7 @@
 const std = @import(&#34;std&#34;);
+const deps = @import(&#34;deps.zig&#34;);

-pub fn build(b: *std.build.Builder) void {
+pub fn build(b: *std.build.Builder) !void {
     // Standard target options allows the person running `zig build` to choose
     // what target to build for. Here we do not override the defaults, which
     // means any target is allowed, and the default is native. Other options
@@ -11,7 +12,9 @@ pub fn build(b: *std.build.Builder) void {
     // between Debug, ReleaseSafe, ReleaseFast, and ReleaseSmall.
     const mode = b.standardReleaseOptions();

-    const exe = b.addExecutable(&#34;$&#34;, &#34;src/main.zig&#34;);
+    const exe = b.addExecutable(&#34;capy-template&#34;, &#34;src/main.zig&#34;);
+    const pathToCapy = &#34;.zigmod/deps/git/github.com/zenith391/capy/&#34;;
     exe.setTarget(target);
     exe.setBuildMode(mode);
+    try deps.imports.capy.install(exe, pathToCapy);
     exe.install();"><pre><span>diff --git a/usr/bin/ziglang/lib/zig/init-exe/build.zig b/build.zig</span>
index 29b50b5..ccbb74b 100644
<span>--- a/usr/bin/ziglang/lib/zig/init-exe/build.zig</span>
<span>+++ b/build.zig</span>
<span>@@ -1,6 +1,7 @@</span>
 const std = @import(&#34;std&#34;);
<span><span>+</span>const deps = @import(&#34;deps.zig&#34;);</span>

<span><span>-</span>pub fn build(b: *std.build.Builder) void {</span>
<span><span>+</span>pub fn build(b: *std.build.Builder) !void {</span>
     // Standard target options allows the person running `zig build` to choose
     // what target to build for. Here we do not override the defaults, which
     // means any target is allowed, and the default is native. Other options
<span>@@ -11,7 +12,9 @@</span> pub fn build(b: *std.build.Builder) void {
     // between Debug, ReleaseSafe, ReleaseFast, and ReleaseSmall.
     const mode = b.standardReleaseOptions();

<span><span>-</span>    const exe = b.addExecutable(&#34;$&#34;, &#34;src/main.zig&#34;);</span>
<span><span>+</span>    const exe = b.addExecutable(&#34;capy-template&#34;, &#34;src/main.zig&#34;);</span>
<span><span>+</span>    const pathToCapy = &#34;.zigmod/deps/git/github.com/zenith391/capy/&#34;;</span>
     exe.setTarget(target);
     exe.setBuildMode(mode);
<span><span>+</span>    try deps.imports.capy.install(exe, pathToCapy);</span>
     exe.install();</pre></div>
<p dir="auto">And in your <code>zigmod.yml</code> file, add:</p>
<div data-snippet-clipboard-copy-content="diff --git a/default_zigmod.yml b/zigmod.yml
index e39f6f1..4774adb 100644
--- a/default_zigmod.yml
+++ b/zigmod.yml
@@ -2,4 +2,6 @@ id: Random ID
 name: Your app name
 license: Your license
 description: A description.
+build_dependencies:
+    - src: git https://github.com/zenith391/capy
 root_depedencies:"><pre><span>diff --git a/default_zigmod.yml b/zigmod.yml</span>
index e39f6f1..4774adb 100644
<span>--- a/default_zigmod.yml</span>
<span>+++ b/zigmod.yml</span>
<span>@@ -2,4 +2,6 @@</span> id: Random ID
 name: Your app name
 license: Your license
 description: A description.
<span><span>+</span>build_dependencies:</span>
<span><span>+</span>    - src: git https://github.com/zenith391/capy</span>
 root_depedencies:</pre></div>
<p dir="auto">Finally, run</p>

<p dir="auto">For more information, please look in the <a href="https://github.com/zenith391/capy/wiki/Installation">wiki</a></p>
<h2 dir="auto"><a id="user-content-supported-platforms" aria-hidden="true" href="#supported-platforms"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Supported platforms</h2>
<p dir="auto">A platform is considered supported only if it can be built from every other OS.</p>
<p dir="auto"><g-emoji alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png">✅</g-emoji> Windows x86_64</p>
<p dir="auto"><g-emoji alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png">✅</g-emoji> Linux x86_64</p>
<p dir="auto"><g-emoji alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png">✅</g-emoji> FreeBSD x86_64</p>
<p dir="auto"><g-emoji alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png">✅</g-emoji> WebAssembly</p>
<p dir="auto"><g-emoji alias="runner" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3c3.png">🏃</g-emoji> macOS M1</p>
<ul dir="auto">
<li><g-emoji alias="white_check_mark" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png">✅</g-emoji> Working and can be cross-compile from all platforms supported by Zig</li>
<li><g-emoji alias="runner" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3c3.png">🏃</g-emoji> Planned</li>
</ul>
<p dir="auto">Note: As there&#39;s no &#34;official&#34; GUI library for Linux, GTK 3 has been chosen as it is the one
that works and can be configured on the most distros. It&#39;s also the reason Libadwaita won&#39;t
be adopted, as it&#39;s meant for GNOME and GNOME only by disallowing styling and integration
with other DEs.</p>
</article>
          </div></div>
  </body>
</html>
