<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://utcc.utoronto.ca/~cks/space/blog/tech/HDDsNowSomewhatBetter">Original</a>
    <h1>Modern HDDs have gotten somewhat better</h1>
    
    <div id="readability-page-1" class="page"><div><h2>Modern HDDs have gotten somewhat better than they used to be</h2>

	<p><small>June 20, 2022</small></p>
</div><div><p><a href="https://twitter.com/thatcks/status/1539027747225358336">I tweeted</a>:</p>

<blockquote><p>I didn&#39;t expect these spinning rust HDs to be able to sustain 235
Mbyte/sec read and write rates (sequential IO, it&#39;s software RAID
building/resynching). I guess large, high-density drives have improved
the 150 MB/sec I used to expect.</p>
</blockquote>

<p>I haven&#39;t paid attention to the spinning rust hard drive industry for
a while (long enough that I missed the terminology switch from &#39;HD&#39; to
&#39;<a href="https://en.wikipedia.org/wiki/Hard_disk_drive">HDD</a>&#39;). Generally at
<a href="https://support.cs.toronto.edu/">work</a>, our use of HDDs is limited
to either unimportant servers where we&#39;re going through our old stock
of &#39;smaller&#39; HDDs to use them as system drives, or for bulk storage,
generally using older drives, where we don&#39;t really pay close attention
to read and write speeds.</p>

<p>Recently we got some 20 TB HDDs to become the future data storage
for <a href="https://utcc.utoronto.ca/~cks/space/blog/sysadmin/PrometheusGrafanaSetup-2019">our Prometheus metrics system</a>, which is outgrowing its
current mirrored pair of 4 TB HDDs. For <a href="https://twitter.com/thatcks/status/1537860661472010241">reasons somewhat beyond
the scope of this entry</a>, I&#39;m not
doing an in-place storage upgrade; instead I put the 20 TBs into
the new Ubuntu 22.04 server that will take over as our Prometheus
server and built a Linux software RAID mirror. When you build new
Linux software RAID mirrors, they need to resync. I was curious to
how long this would take, so I looked at <code>/proc/mdstat</code>, which gave
me both an estimated time (which amounted to about 24 hours) and a
current data rate, which it said was around 220,000K/sec.</p>

<p>At first I assumed that this data rate was an initial burst rate
that would soon fall. But we have Prometheus metrics for this host,
and several hours later they confirmed that it really was sustaining
these data rates; in fact, they&#39;d increased up to what I tweeted.
One of the two 20 TBs is reading at this speed and the other is
writing at it, and they&#39;re both sustaining it (in fact, Linux disk
stats also claim that neither disk is 100% utilized).</p>

<p>When I checked the specification sheet for this drive series, this
is unsurprisingly under their quoted maximum speed (claimed to be
269 decimal MB/s, because of course disk vendors quote everything
in the smaller SI units). According to the specifications sheet
(okay, &#34;product brief&#34;), these good data rates hold right down to
the 4 TB model (at 255 MB/s), and even the 2TB and 1TB models claim
higher sustained rates than I&#39;m used to (of 200 MB/s and 184 MB/s).</p>

<p>Now that I&#39;ve looked, this is also not exclusive to this model line
from this vendor. It seems that <a href="https://twitter.com/thatcks/status/1533902507788886022">all of the 20 TB HDDs we looked
at</a> quote
similar data transfer rates, and probably do so even for smaller
models (I haven&#39;t looked extensively). Apparently the days of
assuming only 150 to 160 Mbyte/sec of sustained read and write
performance on your HDDs are over (although we still have plenty
of them that only perform that well).</p>

<p>(I have no idea if there&#39;s been any improvement in IOPS/second,
which on HDDs is more or less seeks per second. Since they&#39;re still
7200 RPM, I suspect that it&#39;s basically the same as always.)</p>
</div></div>
  </body>
</html>
