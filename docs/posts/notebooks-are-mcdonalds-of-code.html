<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://yobibyte.github.io/notebooks.html">Original</a>
    <h1>Notebooks Are McDonalds of Code</h1>
    
    <div id="readability-page-1" class="page"><a href="https://yobibyte.github.io/"><img src="https://yobibyte.github.io/pics/socrat.png"/></a>



<p>
  You can come to McDonalds and order a salad, but you won&#39;t. Same with notebooks, you can write NASA-production-grade software in a notebook, but most likely you won&#39;t.
  Notebooks make you lazy, and encourage bad practices.
</p>

<h2>common arguments</h2>

I first watched <a href="https://www.youtube.com/watch?v=7jiPeIFXb6U">this talk</a> by Joel Grus and laughed hard.
I later saw the extensive use of notebooks everywhere, even in production, and I don&#39;t laugh anymore.
I&#39;m scared and sad.
This section will have arguments mostly from that talk, but I might add a couple more here in the future.

<h3>state</h3>

State is like Jesus from the Big Lebowski, you don&#39;t fuck with Jesus.
But state will for sure fuck you up.
You execute a cell, you change the variable value, save the colab and forget to execute the cell.
Twenty minutes later you find a bug, hello there!

<h3>versioning</h3>

We&#39;ve seen it before. 
<tt>tfinal_final_final_of_final.xls</tt> is back.
You want to play with a notebook, you copy it, change a couple of cells.
Two weeks later, you have 25 different versions, which one do you need?
Good luck with that!

<h3>bad habits</h3>
This is exactly the McDonalds methaphor.
If people are given a chance to be lazy, they will be (I will be for sure).
Quickly hacking some stuff without properly testing? Sure!
Linting? Pfff, living on the edge, you&#39;ll throw the colab away in an hour anyways.
Writing everything in one file? Of course! Scrolling is so fun!

<h2>notebooks slow you down</h2>
Here I try making a point why using notebooks is bad for you personally.

<h3>distractions</h3>
I don&#39;t have a diagnosed ADHD, but I have 90% of the symptoms from the <a href="https://www.nhs.uk/conditions/attention-deficit-hyperactivity-disorder-adhd/symptoms/">NHS website</a>.
I&#39;m very easy to distract.
And when I use colabs, I&#39;m just one tab away from everything else.
Wikipedia? Sure, let&#39;s open five more tabs.
Gmail? Let&#39;s check the inbox!
Youtube music? Let&#39;s change the playlist.
You got it, my tmux pane with neovim or any IDE of your choice is far less destructive.

<h3>execution environment</h3>
Notebooks are often used as a playground to easily have access to an accelerator.
In this case, the execution environment is often set up differently and with different dependencies.
In this case, you make your code work in a colab, smile widely and run your experiment after on a cluster or whatever.
You start crying in twenty minutes after your code crashes due to lack of dependency or versioning or anything else similar.

<h3>efficiency</h3>
Notebooks keep the state, you have all the data on your fingertips, you are not encouraged to optimise your code.
When you rerun scripts, you want them be damn fast, you think more about the efficiency of your code.

<h3>reading code</h3>
I find notebooks broken for moving around the codebase.
In neovim (or Pycharm, or VSCode), you can easily go to the place where the function is defined and change it, it&#39;s just one hotkey away.
You can easily look at all the places where the function is used.
How do you do that in a notebook?
Do you go to your IDE and search for it?
What do you do if you change a function? Reload the whole thing?
Autoreload can help, but now you have to remember to rerun the cells you need and potentially fuck up your state if you skip a cell.

<h2>notebooks slow your team down</h2>

Enough with personal reasons, let&#39;s think about the issues affecting the whole team.

<h3>breaking changes</h3>
You use some function in a colab.
Another developer changes the function signature and their IDE changes all other calls of this function in the code, but not in the notebooks!
If the notebook is not used often (e.g. for leaderboarding), you are in for a treat.
Apart from the frustration, this is also bad from the context switching and credit assignment perspective.
Who is to fix this? You, who uses the notebook? Developer who changed the function signature?
Both of the cases suck.

<h3>awareness</h3>
You don&#39;t usually check in notebooks in your version control system (if you do, I&#39;m sorry).
They usually pile up either locally or on some cloud drive.
In this case, people are unaware of what&#39;s going on.
When you check in your data analysis scripts or any modules, people can glance over PRs and have an idea of what&#39;s going on.
Notebooks are like dark matter of development (yes, I have almost zero knowledge of physics, and still think I can use this metaphor here).

<h3>fucking around -&gt; production</h3>
Some people like notebooks as they allow them to easily check some ideas and move on.
However, when their ideas work out, they are having hard time moving this code to modules.
Let&#39;s think about what you need to do.
First, you need to move the code to modules, sometimes it&#39;s not just a single file, it can be multiple files across the codebase.
Now you need to test it somehow.
Personally for me, after I&#39;ve moved the code, I&#39;m already exhausted and sometimes bored.
I know my code runs in a colab, why do I need to test it again?
Often I end up not unit testing my code for this reason.
But even if you don&#39;t test your code, you have to make sure that it runs and produces similar results to what you&#39;ve had in a notebook.
This also takes time and energy.

<h3>sharing is caring</h3>
You have hunderds of notebooks with useful utils that are accessible only to you.
If that was a library within your team codebase, everyone could use that and the whole team could avoid code duplication.
But as discussed earlier, you are not encouraged to move this to a module because you are lazy.


<h2>FAQ</h2>

I&#39;ll try to answer some common answers I get when I tell people I do not use notebooks. If your question is not here, let&#39;s chat on <a href="https://twitter.com/y0b1byte">twitter</a>.

<h3>how do you do plotting?</h3>
I have small utils that unify how my plots look. In case I want incrementally play with the plot, I pickle the data for it and run the plotting script for each iteration.

<h3>how do you work with a remote machine?</h3>
<tt>sshfs</tt> works greatly for these purposes in case you need interactivity.

<h3>I am using code autoreload and write code in modules</h3>
Nice! I&#39;ve done this for a while as well. This is a good use-case.
However, this approach does not address some of the issues, e.g. data analysis scripts should be checked by another team member.

<h3>i considered you to be my friend, how could you do this to me?</h3>
Hi Lucas, I&#39;m not judging you. We can still be friends. But we can be better friends if you stop using notebooks.

<h3>some of your points are valid, but why stop using notebooks completely?</h3>
I don&#39;t think I&#39;m losing much.
I&#39;m also constantly exploring other options and having fun.

<p><img src="https://yobibyte.github.io/pics/stop_notebooks.png" width="200"/></p>

<hr/>
</div>
  </body>
</html>
