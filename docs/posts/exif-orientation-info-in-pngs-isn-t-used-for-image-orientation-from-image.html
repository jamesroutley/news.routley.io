<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1627423">Original</a>
    <h1>EXIF orientation info in PNGs isn&#39;t used for image-orientation: from-image</h1>
    
    <div id="readability-page-1" class="page"><div id="main-inner">









<section>
  <div>
  <div id="summary-container">
    <div id="field-status_summary">



  
    <p><span id="field-value-status_summary">
      <span data-status="closed">Closed</span>
      <span id="field-value-bug_id">
        <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1627423">Bug 1627423</a>
      </span>
      <span>
        <span>Opened <span title="2020-04-04 01:19 PDT" data-time="1585988342">5 years ago</span></span>
          <span>Closed <span title="2025-09-22 19:14 PDT" data-time="1758593642">1 month ago</span></span>
      </span>
        </span>
    </p>

  
</div>


    
  </div>
  </div>
</section>


<section id="module-categories">
    
  <div id="module-categories-content"><div>

    

    <div id="field-component">
    



  
    <p><span id="field-value-component">
      <div>
        <p><span id="component-name" tabindex="0" role="button" aria-haspopup="menu" aria-controls="component-info">Layout: Images, Video, and HTML Frames
          <span aria-hidden="true">▾</span>
        </span></p>
      </div>
        </span>
    </p>

  
</div>

    

    
</div>
  </div>
</section>


<section id="module-tracking">
    
  
</section>



<section id="module-people">
    
  
</section>


<section id="module-references">
    
  
</section>


<section id="module-details">
    
  
</section>








<section id="module-user-story" data-non-stick="1">
    
  
</section>
















<meta name="firefox-versions" content="{&#34;FIREFOX_AURORA&#34;:&#34;&#34;,&#34;FIREFOX_DEVEDITION&#34;:&#34;146.0b5&#34;,&#34;FIREFOX_ESR&#34;:&#34;140.5.0esr&#34;,&#34;FIREFOX_ESR115&#34;:&#34;115.30.0esr&#34;,&#34;FIREFOX_ESR_NEXT&#34;:&#34;&#34;,&#34;FIREFOX_NIGHTLY&#34;:&#34;147.0a1&#34;,&#34;LAST_MERGE_DATE&#34;:&#34;2025-11-10&#34;,&#34;LAST_RELEASE_DATE&#34;:&#34;2025-11-11&#34;,&#34;LAST_SOFTFREEZE_DATE&#34;:&#34;2025-11-06&#34;,&#34;LAST_STRINGFREEZE_DATE&#34;:&#34;2025-11-07&#34;,&#34;LATEST_FIREFOX_DEVEL_VERSION&#34;:&#34;146.0b5&#34;,&#34;LATEST_FIREFOX_OLDER_VERSION&#34;:&#34;3.6.28&#34;,&#34;LATEST_FIREFOX_RELEASED_DEVEL_VERSION&#34;:&#34;146.0b5&#34;,&#34;LATEST_FIREFOX_VERSION&#34;:&#34;145.0.1&#34;,&#34;NEXT_MERGE_DATE&#34;:&#34;2025-12-08&#34;,&#34;NEXT_RELEASE_DATE&#34;:&#34;2025-12-09&#34;,&#34;NEXT_SOFTFREEZE_DATE&#34;:&#34;2025-12-04&#34;,&#34;NEXT_STRINGFREEZE_DATE&#34;:&#34;2025-12-05&#34;}"/>



<div id="c0"><div id="ct-0" data-comment-id="14734783"><p>User Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_4) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Safari/605.1.15</p>
<p>Steps to reproduce:</p>
<p>Go to <a href="https://ericportis.com/etc/PNG-EXIF-orientation/" rel="nofollow">https://ericportis.com/etc/PNG-EXIF-orientation/</a></p>
<p>Actual results:</p>
<p>The JPEG and PNG are rotated differently, even though they both have the same EXIF info (Orientation: Rotate 90 CW), and are both set to <code>image-orientation: from-image;</code></p>
<p>Expected results:</p>
<p>They should display the same.</p>
</div></div><div id="c1"><div id="ct-1" data-comment-id="14739197"><p>Further findings: neither Safari, Chrome, or Firefox respects exiftool&#39;s default output, which appends EXIF to the end of a PNG. This is allowed by the spec, but seems to be incompatible with progressive rendering of partially-downloaded PNGs.</p>
<p>Safari <em>does</em> respect EXIF orientation info that appears before the image data, but Firefox and Chrome do not.</p>
<p><a href="https://bugs.webkit.org/show_bug.cgi?id=210021#c4" rel="nofollow">https://bugs.webkit.org/show_bug.cgi?id=210021#c4</a></p>
</div></div><div id="c2"><p>heycam: Will this be covered by any of your follow-up work related to <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1607667" title="RESOLVED FIXED - [css-images] Consider changing initial value of &#39;image-orientation&#39; to from-image">bug 1607667</a>?</p><div><p>Status: UNCONFIRMED → NEW</p><p>Component: Untriaged → Layout: Images, Video, and HTML Frames</p><p>Ever confirmed: true</p><p>Flags: needinfo?(cam)</p><p>Priority: -- → P3</p><p>Product: Firefox → Core</p></div></div><div id="c3"><p>Huh, I didn&#39;t even know that PNG supported orientation data.  I found <a href="https://ftp-osl.osuosl.org/pub/libpng/documents/pngext-1.5.0.html#C.eXIf" rel="nofollow">https://ftp-osl.osuosl.org/pub/libpng/documents/pngext-1.5.0.html#C.eXIf</a> which defines the <code>eXif</code> table.  The patches I&#39;m working on don&#39;t add support for this, but it would not be too difficult to do so, at least if the table appears earlier than the image data.  (I don&#39;t think our current image loading flow would handle the image size changing as a result of the orientation data later on.)</p></div><div id="c4"><p>Because this bug&#39;s Severity has not been changed from the default since it was filed, and it&#39;s Priority is <code>P3</code> (Backlog,) indicating it has been triaged, the bug&#39;s Severity is being updated to <code>S3</code> (normal.)</p></div><div id="c6"><p>What is the expected waiting time for the issue to be resolved?</p></div><div id="c7"><p>Should be fixed by <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1682759" title="RESOLVED FIXED - support exif in png (New wpt failures in /css/css-images/image-orientation/image-orientation-exif-png.html)">bug 1682759</a>. If that is incorrect please re-open.</p><div><p>Status: NEW → RESOLVED</p><p>Closed: <span title="2025-09-22 19:14 PDT" data-time="1758593642">1 month ago</span></p><p>Resolution: --- → DUPLICATE</p></div></div>



</div></div>
  </body>
</html>
