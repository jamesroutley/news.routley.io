<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://rrampage.github.io/2025/02/20/an-apl-a-day-elimination-sort/">Original</a>
    <h1>An APL a day! - Elimination Sort</h1>
    
    <div id="readability-page-1" class="page"><div><p>I’ve started dabbling with APL. It has been a lot of fun solving the <a href="https://challenge.dyalog.com/">current batch of challenges</a>. <a href="https://web.archive.org/web/20250210194607/https://challenge.dyalog.com/?goto=welcome">Archive</a>. I loved how each challenge focuses on a small set of operators and makes us use them in various (devious!) combinations to solve the problems. I’m going through some of the older challenges to learn about more operators.</p>
<p>The past challenges can be found at <a href="https://apl.quest/">APL Quest</a>. Today, we’ll be solving the first problem from the 2023 challenge. Use <a href="https://tryapl.org/">tryapl.org</a> as an online interactive REPL.</p>
<h2 id="elimination-sort"><a href="https://apl.quest/psets/2023.html?goto=P1_Elimination_Sort">Elimination Sort</a></h2>
<p>An “Elimination Sort” is a somewhat farcical sorting algorithm which starts with the leftmost element and keeps subsequent elements that are at least as large as the previous kept element, discarding all other elements. For example:</p>
<div><pre tabindex="0"><code data-lang="apl"><span><span><span>EliminationSort</span> <span>1</span> <span>3</span> <span>7</span> <span>3</span> <span>5</span> <span>8</span> <span>5</span> <span>8</span> <span>1</span> <span>6</span> <span>1</span> <span>8</span> <span>1</span> <span>10</span> <span>8</span> <span>4</span> <span>3</span> <span>4</span> <span>1</span> <span>4</span>
</span></span><span><span><span>1</span> <span>3</span> <span>7</span> <span>8</span> <span>8</span> <span>8</span> <span>10</span> 
</span></span></code></pre></div><p>Write a function that:</p>
<ul>
<li>takes a non-empty numeric vector right argument</li>
<li>returns an “Elimination-sorted” vector of the right argument</li>
</ul>
<p>Hint: The progressive-maxima idiomatic phrase ⌈, the greater or equal function ≥, and the replicate function / could be helpful in solving this problem.</p>
<h3 id="examples">Examples</h3>
<div><pre tabindex="0"><code data-lang="apl"><span><span>      <span>EliminationSort</span> <span>⍳</span><span>10</span>
</span></span><span><span><span>1</span> <span>2</span> <span>3</span> <span>4</span> <span>5</span> <span>6</span> <span>7</span> <span>8</span> <span>9</span> <span>10</span>
</span></span><span><span>
</span></span><span><span>      <span>EliminationSort</span> <span>2</span> <span>1</span> <span>4</span> <span>3</span> <span>6</span> <span>5</span> <span>8</span> <span>7</span> <span>10</span> <span>9</span>
</span></span><span><span><span>2</span> <span>4</span> <span>6</span> <span>8</span> <span>10</span>
</span></span><span><span>
</span></span><span><span>      <span>EliminationSort</span> <span>1000</span> <span>2500</span> <span>1333</span> <span>1969</span> <span>3141</span> <span>2345</span> <span>3141</span> <span>4291.9</span> <span>4291.8</span> <span>4292</span>
</span></span><span><span><span>1000</span> <span>2500</span> <span>3141</span> <span>3141</span> <span>4291.9</span> <span>4292</span>
</span></span><span><span>
</span></span><span><span>      <span>EliminationSort</span> <span>1</span> <span>3</span> <span>7</span> <span>3</span> <span>5</span> <span>8</span> <span>5</span> <span>8</span> <span>1</span> <span>6</span> <span>1</span> <span>8</span> <span>1</span> <span>10</span> <span>8</span> <span>4</span> <span>3</span> <span>4</span> <span>1</span> <span>4</span>
</span></span><span><span><span>1</span> <span>3</span> <span>7</span> <span>8</span> <span>8</span> <span>8</span> <span>10</span>
</span></span></code></pre></div><h3 id="solution">Solution</h3>

<details>
  <summary>See the solution</summary>
  <ul>
<li><code>⌈\⍵</code> to generate a <code>scan</code> of running maximum
<ul>
<li>e.g for <code>⌈\2 1 4 3 6 5 8 7 10 9</code> gives <code>2 2 4 4 6 6 8 8 10 10</code></li>
</ul>
</li>
<li>Compare with ⍵ to only get those indices where the actual element exists
<ul>
<li><code>{(⍵=⌈\⍵)} 2 1 4 3 6 5 8 7 10 9</code> gives <code>1 0 1 0 1 0 1 0 1 0</code></li>
</ul>
</li>
<li>Finally, <a href="https://aplwiki.com/wiki/Replicate">replicate</a> (/) to get only the required elements
<ul>
<li><code>{(⍵=⌈\⍵)/⍵} 2 1 4 3 6 5 8 7 10 9</code> gives <code>2 4 6 8 10</code></li>
</ul>
</li>
</ul>
</details>



  </div></div>
  </body>
</html>
