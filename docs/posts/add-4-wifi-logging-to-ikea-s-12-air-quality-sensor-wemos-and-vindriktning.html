<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://hackaday.com/2021/07/24/esp8266-adds-wifi-logging-to-ikeas-air-quality-sensor/">Original</a>
    <h1>Add $4 WiFi Logging to IKEA’s $12 Air Quality Sensor (Wemos and Vindriktning)</h1>
    
    <div id="readability-page-1" class="page"><article itemscope="" itemtype="http://schema.org/Article" id="post-488239">
    <!-- .entry-header -->

    <div itemprop="articleBody">
        <p>Introduced back in June, the IKEA VINDRIKTNING is a $12 USD sensor that uses colored LEDs to indicate the relative air quality in your home depending on how many particles it sucks up. Looking to improve on this simplistic interface, <a href="https://github.com/Hypfer/esp8266-vindriktning-particle-sensor" target="_blank">[Sören Beye] tacked an ESP8266 to the board so it can broadcast sensor readings out over MQTT</a>.</p>
<figure id="attachment_488241" aria-describedby="caption-attachment-488241"><a href="https://hackaday.com/wp-content/uploads/2021/07/vindri_detail.jpg"><img data-attachment-id="488241" data-permalink="https://hackaday.com/2021/07/24/esp8266-adds-wifi-logging-to-ikeas-air-quality-sensor/vindri_detail/" data-orig-file="https://hackaday.com/wp-content/uploads/2021/07/vindri_detail.jpg" data-orig-size="467,524" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="vindri_detail" data-image-description="" data-image-caption="&lt;p&gt;Just three wires link the ESP8266 to the PCB.&lt;/p&gt;
" data-medium-file="https://hackaday.com/wp-content/uploads/2021/07/vindri_detail.jpg?w=356" data-large-file="https://hackaday.com/wp-content/uploads/2021/07/vindri_detail.jpg?w=467" decoding="async" loading="lazy" src="https://hackaday.com/wp-content/uploads/2021/07/vindri_detail.jpg?w=356" alt="" width="356" height="400" srcset="https://hackaday.com/wp-content/uploads/2021/07/vindri_detail.jpg 467w, https://hackaday.com/wp-content/uploads/2021/07/vindri_detail.jpg?resize=223,250 223w, https://hackaday.com/wp-content/uploads/2021/07/vindri_detail.jpg?resize=356,400 356w" sizes="(max-width: 356px) 100vw, 356px"/></a><figcaption id="caption-attachment-488241">Just three wires link the ESP8266 to the PCB.</figcaption></figure>
<p>While some of us would have been tempted to gut the VINDRIKTNING and attach its particle sensor directly to the ESP8266, the approach [Sören] has used is actually quite elegant. Rather than replacing IKEA’s electronics, the microcontroller is simply listening in on the UART communications between the sensor and the original controller. This not only preserves the stock functionality of the VINDRIKTNING, but simplifies the code as the ESP doesn’t need to do nearly as much.</p>
<p>All you need to do if you want to perform this modification is solder a couple wires to convenient test pads on the VINDRIKTNING board, then flash the firmware (or write your own version), and you’re good to go. There’s plenty of room inside the case for the ESP8266, though you may want to tape it down so it doesn’t impact air flow.</p>
<p>While not required, [Sören] also recommends making a small modification to the VINDRIKTNING which makes it a bit quieter. Apparently the 5 V fan inside the sensor is occasionally revved up by the original controller, rather than kept at a continuous level that you can mentally tune out. But by attaching the sensor’s fan to the ESP8266’s 3.3 V pin, it will run continuously at a lower speed.</p>
<p><a href="https://hackaday.com/2021/02/17/custom-firmware-for-ikeas-orsala-lamp/">We’ve seen custom firmware for IKEA products before</a>, but this approach, which keeps the device’s functionality intact regardless of what’s been flashed to the secondary microcontroller, is particularly appealing for those of us who can’t seem to keep the gremlins out of our code.</p>
<p>[Thanks to nexgensri for the tip.]</p>
	            </div><!-- .entry-content -->
    
    <!-- .entry-footer -->
</article></div>
  </body>
</html>
