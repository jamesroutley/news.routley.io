<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://deno.com/blog/v1.27">Original</a>
    <h1>Deno v1.27</h1>
    
    <div id="readability-page-1" class="page"><div><p><a href="https://github.com/denoland/deno/releases/tag/v1.27.0" rel="noopener noreferrer">Deno 1.27</a> has been
tagged and released with the following new features and changes:</p>
<ul>
<li><a href="#language-serveride-improvements">Language Server/IDE improvements</a></li>
<li><a href="#improvements-to-npm-compatibility">Improvements to <code>npm</code> compatibility</a></li>
<li><a href="#navigatorlanguage-web-api"><code>navigator.language</code> Web API</a></li>
<li><a href="#improvements-to-deno-task">Improvements to <code>deno task</code></a></li>
<li><a href="#upgrade-checker">Upgrade checker</a></li>
<li><a href="#changes-to-deno-apis">Changes to <code>Deno</code> APIs</a></li>
<li><a href="#updates-to-deno-lint">Updates to <code>deno lint</code></a></li>
<li><a href="#v8-108">V8 10.8</a></li>
<li><a href="#nodejs-compatibility-improvements">Node.js compatibility improvements</a></li>
<li><a href="#changes-to-standard-library-apis">Changes to standard library APIs</a></li>
</ul>
<p>If you already have Deno installed, you can upgrade to 1.27 by running:</p>
<p>If you are installing Deno for the first time:</p>
<div><pre>

<span>curl</span> -fsSL https://deno.land/x/install/install.sh <span>|</span> <span>sh</span>


iwr https://deno.land/x/install/install.ps1 -useb <span>|</span> iex</pre></div><p><a href="https://github.com/denoland/deno_install" rel="noopener noreferrer">Click here</a> for more installation
options.</p>
<h2 id="language-serveride-improvements"><a aria-hidden="true" tabindex="-1" href="#language-serveride-improvements"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Language Server/IDE improvements</h2><h3 id="inlay-hints"><a aria-hidden="true" tabindex="-1" href="#inlay-hints"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Inlay Hints</h3><p><a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-4.html#inlay-hints" rel="noopener noreferrer">TypeScript added support for inlay hints in version
4.4</a>;
this release of Deno exposes this functionality to the LSP. Inlay hints are
small snippets of information that are added inline into your code, displaying
information about your code. In a lot of ways it is an &#34;inline hover&#34;.</p>
<p>A view of code without inlay hints:</p>
<p><img src="https://deno.com/v1.27/inlay_hints_disabled.png" alt="A screenshot of an editor not displaying any inlay hints."/></p>
<p>A view of code with inlay hints enabled:</p>
<p><img src="https://deno.com/v1.27/inlay_hints_enabled.png" alt="A screenshot of an editor displaying inlay hints."/></p>
<p>Inlay hints can make code a lot more readable, filling in gaps of information
that isn&#39;t present in code. Especially with type inference being common when
working with TypeScript or type checked JavaScript, it can be really useful to
&#34;see&#34; the hidden inferred types without having to hover over a variable to
discover what it is, as well as reducing the number of explicit type annotations
in the code while not decreasing the readability.</p>
<p>There are several options to configure the support for inlay hints which allow
for customization of how inlay hints work:</p>
<ul>
<li><code>deno.inlayHints.enumMemberValues.enabled</code> - Enable/disable inlay hints for
enum values. The default is <code>false</code>.</li>
<li><code>deno.inlayHints.functionLikeReturnTypes.enabled</code> - Enable/disable inlay hints
for implicit function return types. The default is <code>false</code>.</li>
<li><code>deno.inlayHints.parameterNames.enabled</code> - Enable/disable inlay hints for
parameter names. Values can be <code>&#34;none&#34;</code>, <code>&#34;literals&#34;</code>, <code>&#34;all&#34;</code>. The default is
<code>&#34;none&#34;</code>.</li>
<li><code>deno.inlayHints.parameterNames.suppressWhenArgumentMatchesName</code> - Do not
display an inlay hint when the argument name matches the parameter. The
default is <code>true</code>.</li>
<li><code>deno.inlayHints.parameterTypes.enabled</code> - Enable/disable inlay hints for
implicit parameter types. The default is <code>false</code>.</li>
<li><code>deno.inlayHints.propertyDeclarationTypes.enabled</code> - Enable/disable inlay
hints for implicit property declarations. The default is <code>false</code>.</li>
<li><code>deno.inlayHints.variableTypes.enabled</code> - Enable/disable inlay hints for
implicit variable types. The default is <code>false</code>.</li>
<li><code>deno.inlayHints.variableTypes.suppressWhenTypeMatchesName</code> - Suppress type
hints where the variable name matches the implicit type. The default is
<code>true</code>.</li>
<li><code>editor.inlayHints.enabled</code> - Controls whether inlay hints are enabled in VS
Code. Values can be <code>&#34;off&#34;</code>, <code>&#34;offUnlessPressed&#34;</code>, <code>&#34;on&#34;</code>, or
<code>&#34;onUnlessPressed&#34;</code>.</li>
</ul>
<p>Visual Studio Code supports inlay hints and the latest release of the
<a href="https://marketplace.visualstudio.com/items?itemName=denoland.vscode-deno" rel="noopener noreferrer">Deno VS Code extension</a>
supports the configuration options. You will need to check with out editors and
plugins to see if they support inlay hints and how to set the configuration
options.</p>
<h3 id="registry-completions"><a aria-hidden="true" tabindex="-1" href="#registry-completions"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Registry completions</h3><p>While not tied specifically to the release, we recently improved registry
completions in editors that support it. Now when typing a third party module
name from <code>deno.land/x</code> in an intelligent editor, the search engine which powers
the module search on <code>deno.land</code> is used, as well as providing a module
description and popularity information.</p>
<p>There are also improvements when completing the import path, where documentation
information is integrated into the display text and is also available on
hovering over an import. Third party module authors can use the <code>@module</code> JSDoc
tag in the first JSDoc block at the top of the module to provide this
information all the way through to the editor.</p>
<p>In Visual Studio Code, registry completions for <code>deno.land/x</code> are enabled by
default. Check how to configure <code>deno.suggest.imports.hosts</code> in other editors to
make sure that <code>https://deno.land</code> is enabled to get the completions.</p>
<p>Take a peek at the video to see it in action:</p>

<h3 id="bug-fixes"><a aria-hidden="true" tabindex="-1" href="#bug-fixes"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Bug fixes</h3><p>There are several bug fixes in this release related to the language server.
Specifically the language server was not properly handling &#34;snippet&#34; strings
which is now fixed. There were several issues when performing auto-imports and
code completion in JSX that caused odd behaviors which are now fixed.</p>
<h2 id="improvements-to-npm-compatibility"><a aria-hidden="true" tabindex="-1" href="#improvements-to-npm-compatibility"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Improvements to <code>npm</code> compatibility</h2><p>This release continues the steady improvement of using npm packages in Deno.</p>
<h3 id="type-checking-and-lsp-support"><a aria-hidden="true" tabindex="-1" href="#type-checking-and-lsp-support"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Type checking and LSP support</h3><p>Deno will now automatically pull in TypeScript types from npm packages that
distribute types.</p>

<p>For packages that don&#39;t distribute types, you can use a <code>@deno-types</code> directive
above the import in order to specify the corresponding
<a href="https://www.typescriptlang.org/docs/handbook/2/type-declarations.html#definitelytyped--types" rel="noopener noreferrer"><code>@types</code> package</a>
if one exists:</p>
<div><pre>

<span>import</span> chalk <span>from</span> <span>&#34;npm:chalk@4&#34;</span><span>;</span></pre></div><p>For packages that require <code>@types/node</code>, you can specify a triple-slash
reference-types directive to pull in Node types:</p>
<div><pre>



<span>import</span> express <span>from</span> <span>&#34;npm:express@4.18&#34;</span><span>;</span></pre></div><p>Note that by doing this, Deno will use Node&#39;s global types (ex.
<code>setTimeout(...): NodeJS.Timeout</code>) instead of a browser compatible types (ex.
<code>setTimeout(...): number</code>) in the types for npm packages. These globals will be
isolated to the npm packages and shouldn&#39;t affect the types of your Deno code.</p>
<h3 id="node-api"><a aria-hidden="true" tabindex="-1" href="#node-api"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Node-API</h3><p>Deno now supports <a href="https://nodejs.org/api/n-api.html#node-api" rel="noopener noreferrer">Node-API</a>
(formerly N-API) when used within npm packages. Node-API is a way to use native
code in Node.js. It means that packages like <code>parcel</code>, <code>sqlite3</code>, <code>usb</code> or
<code>fs-xattr</code> can now be used with Deno.</p>
<p>Note that this feature requires the <code>--allow-ffi</code> flag.</p>
<h3 id="lockfile-v2"><a aria-hidden="true" tabindex="-1" href="#lockfile-v2"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Lockfile v2</h3><p>npm package resolution and integrities are now stored when using a lockfile.</p>
<div><pre>

deno cache --lock<span>=</span>lock.json --lock-write main.ts</pre></div><p>Note that in the 1.28 release we are planning to write a lockfile by default if
you are using a deno.json file. Follow issue
<a href="https://github.com/denoland/deno/issues/11971" rel="noopener noreferrer">#11971</a> for updates.</p>
<h3 id="dist-tags-in-npm-specifiers"><a aria-hidden="true" tabindex="-1" href="#dist-tags-in-npm-specifiers"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Dist tags in npm specifiers</h3><p>The npm registry allows tagging versions with a name. For example,
<a href="https://www.npmjs.com/package/express?activeTab=versions" rel="noopener noreferrer">express</a> has a &#34;next&#34;
tag which, at the time of writing this, has tagged version <code>5.0.0-beta.1</code>.</p>
<p>You can now specify these dist tags in version requirements for npm specifiers.</p>
<div><pre>

<span>import</span> express <span>from</span> <span>&#34;npm:express@next&#34;</span><span>;</span></pre></div><p>Note that dist tags are still not supported if they appear in a package&#39;s
package.json. This is a bug and will be resolved soon. Follow issue
<a href="https://github.com/denoland/deno/issues/16321" rel="noopener noreferrer">#16321</a> for updates.</p>
<h3 id="caching-npm-specifiers-directly-via-arguments-to-deno-cache"><a aria-hidden="true" tabindex="-1" href="#caching-npm-specifiers-directly-via-arguments-to-deno-cache"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Caching npm specifiers directly via arguments to <code>deno cache</code></h3><p><code>deno cache</code> now supports providing npm specifiers on the command line:</p>
<div><pre>deno cache --unstable npm:chalk@5 npm:express</pre></div><p>This will download the package information and resolved versions of those
packages to Deno&#39;s global npm cache.</p>
<h2 id="navigatorlanguage-web-api"><a aria-hidden="true" tabindex="-1" href="#navigatorlanguage-web-api"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>navigator.language</code> Web API</h2><p>Deno v1.27 adds the
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/language" rel="noopener noreferrer"><code>navigator.language</code></a>
API. It&#39;s a read-only property that returns a string representing the user&#39;s
system preferred language.</p>
<pre><code>$ deno
&gt; navigator.language
&#34;en-EN&#34;</code></pre><p>The returned string that represents the language is
<a href="https://datatracker.ietf.org/doc/html/rfc5646" rel="noopener noreferrer">a BCP 47 tag</a>.</p>
<p>The value returned by this API can be influenced by environment variables that
set the system locale, for example <code>LC_ALL</code>.</p>
<pre><code>$ LC_ALL=es_ES deno
&gt; navigator.language
&#34;es-ES&#34;</code></pre><p>Additionally,
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/languages" rel="noopener noreferrer"><code>navigator.languages</code></a>
API is supported as well. It returns an array of preferred locales with first
value being identical to <code>navigator.language</code>.</p>
<p>Thanks to <a href="https://github.com/AnInternetTroll" rel="noopener noreferrer">Luca Matei Pintilie</a> for
contributing this feature.</p>
<h2 id="improvements-to-deno-task"><a aria-hidden="true" tabindex="-1" href="#improvements-to-deno-task"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Improvements to <code>deno task</code></h2><p>The warning stating &#34;deno task is unstable and may drastically change in the
future&#34; has been removed. <code>deno task</code> has proven useful and won&#39;t drastically
change going forward. That said, we may introduce some changes in its
environment to make things easier going forward such as new cross platform
commands or environment variables.</p>
<h3 id="init_cwd-environment-variable"><a aria-hidden="true" tabindex="-1" href="#init_cwd-environment-variable"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>INIT_CWD</code> environment variable</h3><p>When a task is executed, it will have the same current working directory as the
<em>deno.json</em> the task is defined in. This may not be desired in certain
scenarios, or you may want to know what directory the user ran the task in. This
is now possible by using the <code>INIT_CWD</code> environment variable, which will be set
with the full path to the directory the task was run in, if not already set.
This aligns with the same behavior as
<a href="https://docs.npmjs.com/cli/v8/commands/npm-run-script#description" rel="noopener noreferrer"><code>npm run</code></a>.</p>
<p>For example, the following task will change the current working directory of the
task to be in the same directory the user ran the task from and then output the
current working directory which is now that directory (remember, this works on
Windows too because <code>deno task</code> is cross platform).</p>
<div><pre><span>{</span>
  <span>&#34;tasks&#34;</span><span>:</span> <span>{</span>
    <span>&#34;my_task&#34;</span><span>:</span> <span>&#34;cd $INIT_CWD &amp;&amp; pwd&#34;</span>
  <span>}</span>
<span>}</span></pre></div><h3 id="task-will-now-fail-on-async-command-failure"><a aria-hidden="true" tabindex="-1" href="#task-will-now-fail-on-async-command-failure"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Task will now fail on async command failure</h3><p>You may have used <code>deno task</code> to start multiple commands at once, by using an
async command:</p>
<div><pre><span>{</span>
  <span>&#34;tasks&#34;</span><span>:</span> <span>{</span>
    <span>&#34;start&#34;</span><span>:</span> <span>&#34;deno run --allow-net server.ts &amp; deno run --allow-net client.ts&#34;</span>
  <span>}</span>
<span>}</span></pre></div><p>Previously, if the async command failed, the other would continue running and
you might not notice. This was in line with how most shells work, but it&#39;s not
practical for the purposes of <code>deno task</code>.</p>
<p>Starting in this release, if an async command fails then it will also fail the
entire task. Note that if you want the previous behavior, you can opt out by
adding <code>|| true</code> to the end of a command, which will force a <code>0</code> exit code:</p>
<div><pre><span>{</span>
  <span>&#34;tasks&#34;</span><span>:</span> <span>{</span>
    <span>&#34;start&#34;</span><span>:</span> <span>&#34;deno run --allow-net server.ts || true &amp; deno run --allow-net client.ts || true&#34;</span>
  <span>}</span>
<span>}</span></pre></div><h3 id="sleep-time-suffixes"><a aria-hidden="true" tabindex="-1" href="#sleep-time-suffixes"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>sleep</code> time suffixes</h3><p>The <code>sleep</code> command in <code>deno task</code> now supports providing a suffix to the time
argument as specified in the
<a href="https://man7.org/linux/man-pages/man1/sleep.1.html" rel="noopener noreferrer">linux man pages for <code>sleep</code></a>.</p>
<p>Thanks to <a href="https://github.com/sigmaSd" rel="noopener noreferrer">@sigmaSd</a> for contributing this feature.</p>
<h2 id="upgrade-checker"><a aria-hidden="true" tabindex="-1" href="#upgrade-checker"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Upgrade checker</h2><p>Deno ships with the <code>deno upgrade</code> subcommand that allows you to easily get the
latest version of Deno. Starting with this release, Deno will now automatically
check for new versions and prompt you if one is available.</p>
<pre><code>$ deno run app.ts
A new release of Deno is available: 1.26.2 → 1.27.0
Run `deno upgrade` to install it.</code></pre><p>We took special care to ensure that these checks don&#39;t impact the performance of
your applications - they only happen in the background at most once a day. This
feature can be disabled entirely by setting the environment variable:
<code>DENO_NO_UPDATE_CHECK=1</code></p>
<h2 id="changes-to-deno-apis"><a aria-hidden="true" tabindex="-1" href="#changes-to-deno-apis"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Changes to <code>Deno</code> APIs</h2><h3 id="api-stabilizations"><a aria-hidden="true" tabindex="-1" href="#api-stabilizations"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>API stabilizations</h3><p>The following APIs have been stabilized in this release and no longer require
the <code>--unstable</code> flag to be used.</p>
<ul>
<li><code>Deno.consoleSize()</code></li>
<li><code>Deno.futime()</code></li>
<li><code>Deno.futimeSync()</code></li>
<li><code>Deno.loadavg()</code></li>
<li><code>Deno.osRelease()</code></li>
<li><code>Deno.stdin.setRaw()</code></li>
<li><code>Deno.utime()</code></li>
<li><code>Deno.utimeSync()</code></li>
</ul>
<h3 id="other-updates"><a aria-hidden="true" tabindex="-1" href="#other-updates"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Other updates</h3><ul>
<li><p><code>Deno.kill()</code> no longer requires an argument, it will default to sending a
<code>SIGTERM</code> signal if argument is omitted.</p>
</li>
<li><p><code>Deno.getGid()</code> was renamed to <code>Deno.gid()</code>, in preparation for stabilization
of this API</p>
</li>
<li><p><code>Deno.getUid()</code> was renamed to <code>Deno.uid()</code>, in preparation for stabilization
of this API</p>
</li>
<li><p><code>TcpListenOptions.reusePort</code> option was added. It allows multiple processes to
listen on the same address and port. This option requires the <code>--unstable</code>
flag and is supported only on Linux.</p>
</li>
</ul>
<h2 id="updates-to-deno-lint"><a aria-hidden="true" tabindex="-1" href="#updates-to-deno-lint"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Updates to <code>deno lint</code></h2><p>The built-in linter got a new &#34;compact&#34; report format, that might be familiar to
users of ESLint. You can use this format by providing the <code>--compact</code> flag to
the <code>deno lint</code> subcommand.</p>
<pre><code>$ deno lint --compact
/dev/deno/foo.js: line 1, col 10 - `foo` is never used (no-unused-vars)
Found 1 problem
Checked 1 file</code></pre><p>Additionally you can specify which report type you prefer inside your
<code>deno.json</code> file:</p>
<div><pre><span>{</span>
  <span>&#34;lint&#34;</span><span>:</span> <span>{</span>
    <span>&#34;report&#34;</span><span>:</span> <span>&#34;compact&#34;</span>
  <span>}</span>
<span>}</span></pre></div><p>Thanks to <a href="https://github.com/brenelz" rel="noopener noreferrer">Brenley Dueck</a> for contributing this
feature.</p>
<h2 id="v8-108"><a aria-hidden="true" tabindex="-1" href="#v8-108"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>V8 10.8</h2><p>This release upgrades to the latest release of V8 (10.8, previously 10.7).</p>
<p>The most notable new feature in this release is support for the
<a href="https://github.com/tc39/proposal-change-array-by-copy" rel="noopener noreferrer">Change Array by copy proposal</a></p>
<h2 id="nodejs-compatibility-improvements"><a aria-hidden="true" tabindex="-1" href="#nodejs-compatibility-improvements"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Node.js compatibility improvements</h2><p>On October 25, Node.js 18 entered Long Term Support (LTS) with version 18.12.0.
In Deno v1.27, the Node.js compatibility layer&#39;s test suite has been updated to
match Node.js v18.12.0, meaning that Deno is capable of running the latest
Node.js LTS release.</p>
<p>Please note that the entire Node.js compatibility layer still requires the use
of the <code>--unstable</code> flag.</p>
<h3 id="other-updates-1"><a aria-hidden="true" tabindex="-1" href="#other-updates-1"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Other updates</h3><ul>
<li><p>The <code>readline/promises</code> module has been implemented. This module provides a
Promises based API for the <code>readline</code> module. Thanks to
<a href="https://github.com/PolarETech" rel="noopener noreferrer">@PolarETech</a> for contributing this feature.</p>
</li>
<li><p><code>&#39;base64url&#39;</code> encoding is now supported by <code>hash.digest()</code> in the <code>crypto</code>
module. Thanks to <a href="https://github.com/dz4k" rel="noopener noreferrer">Deniz Akşimşek</a> for contributing
this feature.</p>
</li>
<li><p><code>.node</code> modules can now be loaded. See also (Node-API support)[#node-api].</p>
</li>
<li><p>Better Windows support has been added for <code>fs.access()</code>.</p>
</li>
<li><p>The <code>windowsVerbatimArguments</code> option has been added to the <code>child_process</code>
module&#39;s APIs.</p>
</li>
</ul>
<h2 id="changes-to-standard-library-apis"><a aria-hidden="true" tabindex="-1" href="#changes-to-standard-library-apis"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Changes to standard library APIs</h2><p>In this release, several deprecated APIs have been removed:</p>
<ul>
<li><p>The <code>hash</code> module has been removed. The functionality of this module is
available via the <code>crypto</code> module.</p>
</li>
<li><p>The <code>textproto</code> module has been removed.</p>
</li>
<li><p><code>BSNode</code> has been removed from the <code>collections</code> module in favor of
<code>BinarySearchNode</code>.</p>
</li>
<li><p><code>BSTree</code> has been removed from the <code>collections</code> module in favor of
<code>BinarySearchTree</code>.</p>
</li>
<li><p><code>RBNode</code> has been removed from the <code>collections</code> module in favor of
<code>RedBlackNode</code>.</p>
</li>
<li><p><code>RBTree</code> has been removed from the <code>collections</code> module in favor of
<code>RedBlackTree</code>.</p>
</li>
<li><p><code>direction</code> has been removed from the <code>collections</code> module in favor of
<code>Direction</code>.</p>
</li>
<li><p><code>CSVStream</code> has been removed from the <code>encoding</code> module in favor of
<code>CsvStream</code>.</p>
</li>
<li><p>The <code>CSVStreamOptions</code> type has been removed from the <code>encoding</code> module in
favor of the <code>CsvStreamOptions</code> type.</p>
</li>
<li><p>The <code>encoding/csv_stringify.ts</code> file has been removed in favor of the
<code>encoding/csv.ts</code> file and other APIs.</p>
</li>
<li><p><code>JSONValue</code> has been removed from the <code>encoding</code> module in favor of
<code>JsonValue</code>.</p>
</li>
<li><p><code>JSONParseStream</code> has been removed from the <code>encoding</code> module in favor of
<code>JsonParseStream</code>.</p>
</li>
<li><p><code>JSONStringifyStream</code> has been removed from <code>encoding</code> module in favor of
<code>JsonStringifyStream</code>.</p>
</li>
<li><p><code>ConcatenatedJSONParseStream</code> has been removed from the <code>encoding</code> module in
favor of <code>ConcatenatedJsonParseStream</code>.</p>
</li>
<li><p>The <code>listenAndServe()</code> and <code>listenAndServeTls()</code> functions have been removed
from the <code>http</code> module in favor of <code>serve()</code> and <code>serveTls()</code>, respectively.</p>
</li>
<li><p>The streaming functionality in the <code>io</code> module has been removed in favor of
the <code>streams</code> module.</p>
</li>
<li><p>The functionality in the <code>bufio.ts</code> file of the <code>io</code> module has been removed
in favor of the <code>buffer.ts</code> file.</p>
</li>
<li><p>The functionality in the <code>ioutil.ts</code> file of the <code>io</code> module has been removed
in favor of the <code>util.ts</code> file.</p>
</li>
<li><p>The <code>LineStream</code> class has been removed from the <code>streams</code> module in favor of
<code>TextLineStream</code>.</p>
</li>
<li><p>All benchmarking APIs have been removed from the <code>testing</code> module in favor of
<code>Deno.bench()</code>.</p>
</li>
<li><p>The <code>assertThrows()</code> and <code>assertRejects()</code> functions that take a callback
function have been removed from the <code>testing</code> module in favor of their other
signatures.</p>
</li>
<li><p>The <code>generate()</code> function has been removed from the <code>uuid</code> module in favor of
the WebCrypto <code>randomUUID()</code> function.</p>
</li>
</ul>
<p>Thanks to <a href="https://github.com/iuioiua" rel="noopener noreferrer">Asher Gomez</a> for contributing these
changes.</p>
</div></div>
  </body>
</html>
