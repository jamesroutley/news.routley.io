<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/udem-dlteam/ribbit/commit/14077d111425c8472dd5a0e865462dea70a8d206">Original</a>
    <h1>Ribbit Scheme bootstraps with Posix shell while supporting TCO, call/cc and GC</h1>
    
    <div id="readability-page-1" class="page"><div><tr data-position="0">
    <td colspan="2">
          <a href="#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5" title="Expand Up" aria-label="Expand Up" data-url="/udem-dlteam/ribbit/blob_excerpt/d104a63174b08724edcb7d53ff44e30af34010a0?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=14&amp;left_hunk_size=7&amp;mode=100644&amp;path=README.md&amp;right=14&amp;right_hunk_size=7" data-left-range="1-13" data-right-range="1-13">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M7.823 1.677L4.927 4.573A.25.25 0 005.104 5H7.25v3.236a.75.75 0 101.5 0V5h2.146a.25.25 0 00.177-.427L8.177 1.677a.25.25 0 00-.354 0zM13.75 11a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5zm-3.75.75a.75.75 0 01.75-.75h.5a.75.75 0 010 1.5h-.5a.75.75 0 01-.75-.75zM7.75 11a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5zM4 11.75a.75.75 0 01.75-.75h.5a.75.75 0 010 1.5h-.5a.75.75 0 01-.75-.75zM1.75 11a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5z"></path>
</svg>
          </a>
    </td>
    <td>@@ -14,7 +14,7 @@ The Ribbit AOT compiler is written in Scheme and can be executed with Gambit, Gu</td>
  </tr>

    <tr data-hunk="25f8f3ae846dd4f79a106a27c51e2af70bd274130c83759545148927a1d86dd9">
    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5L14" data-line-number="14"></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R14" data-line-number="14"></td>

  <td>
    <span data-code-marker=" "><br/></span></td>
</tr>



    <tr data-hunk="25f8f3ae846dd4f79a106a27c51e2af70bd274130c83759545148927a1d86dd9">
    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5L15" data-line-number="15"></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R15" data-line-number="15"></td>

  <td>
    <span data-code-marker=" ">The AOT compiler&#39;s source code is in a single file: <span>`src/rsc.scm`</span> . This Scheme file can be executed as a program with the Gambit, Guile or Chicken interpreters. Alternatively the AOT compiler can be executed using the <span>`src/rsc`</span> shell script, which has the additional <span>`-c`</span> option to select a specific build of the Ribbit AOT compiler which is useful for bootstrapping Ribbit.</span></td>
</tr>



    <tr data-hunk="25f8f3ae846dd4f79a106a27c51e2af70bd274130c83759545148927a1d86dd9">
    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5L16" data-line-number="16"></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R16" data-line-number="16"></td>

  <td>
    <span data-code-marker=" "><br/></span></td>
</tr>



    <tr data-hunk="25f8f3ae846dd4f79a106a27c51e2af70bd274130c83759545148927a1d86dd9">
    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5L17" data-line-number="17"></td>

    <td></td>

  <td>
    <span data-code-marker="-">Ribbit currently supports the target languages C, JavaScript, Python<span> </span>and <span>Scheme </span>which are selectable with the compiler&#39;s <span>`-t`</span> option with <span>`c`</span>, <span>`js`</span>, <span>`py`</span>, and <span>`<span>scm</span>`</span> respectively.  The compacted RVM code can be obtained with the target <span>`rvm`</span> which is the default.</span></td>
</tr>



    <tr data-hunk="25f8f3ae846dd4f79a106a27c51e2af70bd274130c83759545148927a1d86dd9">
    <td></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R17" data-line-number="17"></td>

  <td>
    <span data-code-marker="+">Ribbit currently supports the target languages C, JavaScript, Python<span>, Scheme, </span>and <span>POSIX shell </span>which are selectable with the compiler&#39;s <span>`-t`</span> option with <span>`c`</span>, <span>`js`</span>, <span>`py`</span>, <span>`scm`</span><span> </span>and <span>`<span>sh</span>`</span> respectively.  The compacted RVM code can be obtained with the target <span>`rvm`</span> which is the default.</span></td>
</tr>



    <tr data-hunk="25f8f3ae846dd4f79a106a27c51e2af70bd274130c83759545148927a1d86dd9">
    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5L18" data-line-number="18"></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R18" data-line-number="18"></td>

  <td>
    <span data-code-marker=" "><br/></span></td>
</tr>



    <tr data-hunk="25f8f3ae846dd4f79a106a27c51e2af70bd274130c83759545148927a1d86dd9">
    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5L19" data-line-number="19"></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R19" data-line-number="19"></td>

  <td>
    <span data-code-marker=" ">The <span>`-m`</span> option causes a minification of the generated program. This requires a recent version of Gambit.</span></td>
</tr>



    <tr data-hunk="25f8f3ae846dd4f79a106a27c51e2af70bd274130c83759545148927a1d86dd9">
    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5L20" data-line-number="20"></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R20" data-line-number="20"></td>

  <td>
    <span data-code-marker=" "><br/></span></td>
</tr>



      <tr data-position="9">
    <td colspan="2">
          <a href="#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5" title="Expand Down" aria-label="Expand Down" data-url="/udem-dlteam/ribbit/blob_excerpt/d104a63174b08724edcb7d53ff44e30af34010a0?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=20&amp;last_right=20&amp;left=84&amp;left_hunk_size=3&amp;mode=100644&amp;path=README.md&amp;right=84&amp;right_hunk_size=14" data-left-range="21-51" data-right-range="21-51">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M8.177 14.323l2.896-2.896a.25.25 0 00-.177-.427H8.75V7.764a.75.75 0 10-1.5 0V11H5.104a.25.25 0 00-.177.427l2.896 2.896a.25.25 0 00.354 0zM2.25 5a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM6 4.25a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5a.75.75 0 01.75.75zM8.25 5a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5zM12 4.25a.75.75 0 01-.75.75h-.5a.75.75 0 010-1.5h.5a.75.75 0 01.75.75zm2.25.75a.75.75 0 000-1.5h-.5a.75.75 0 000 1.5h.5z"></path>
</svg>
          </a>
          <a href="#diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5" title="Expand Up" aria-label="Expand Up" data-url="/udem-dlteam/ribbit/blob_excerpt/d104a63174b08724edcb7d53ff44e30af34010a0?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=20&amp;last_right=20&amp;left=84&amp;left_hunk_size=3&amp;mode=100644&amp;path=README.md&amp;right=84&amp;right_hunk_size=14" data-left-range="52-83" data-right-range="52-83">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M7.823 1.677L4.927 4.573A.25.25 0 005.104 5H7.25v3.236a.75.75 0 101.5 0V5h2.146a.25.25 0 00.177-.427L8.177 1.677a.25.25 0 00-.354 0zM13.75 11a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5zm-3.75.75a.75.75 0 01.75-.75h.5a.75.75 0 010 1.5h-.5a.75.75 0 01-.75-.75zM7.75 11a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5zM4 11.75a.75.75 0 01.75-.75h.5a.75.75 0 010 1.5h-.5a.75.75 0 01-.75-.75zM1.75 11a.75.75 0 000 1.5h.5a.75.75 0 000-1.5h-.5z"></path>
</svg>
          </a>
    </td>
    <td>@@ -84,3 +84,14 @@ Here are a few examples (all assume that a `cd src` has been done first):</td>
  </tr>

    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5L84" data-line-number="84"></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R84" data-line-number="84"></td>

  <td>
    <span data-code-marker=" ">      $ ./rsc -t py -l max -c &#34;node rsc.scm.js&#34; h.scm # use bootstrapped compiler</span></td>
</tr>



    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5L85" data-line-number="85"></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R85" data-line-number="85"></td>

  <td>
    <span data-code-marker=" ">      $ python3 h.scm.py</span></td>
</tr>



    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5L86" data-line-number="86"></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R86" data-line-number="86"></td>

  <td>
    <span data-code-marker=" ">      hello!</span></td>
</tr>



    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R87" data-line-number="87"></td>

  <td>
    <span data-code-marker="+"><br/></span></td>
</tr>



    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R88" data-line-number="88"></td>

  <td>
    <span data-code-marker="+">    Bootstrap the Ribbit AOT compiler using a POSIX shell (note</span></td>
</tr>



    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R89" data-line-number="89"></td>

  <td>
    <span data-code-marker="+">    that with ksh this takes over 5 hours on a fast computer and it</span></td>
</tr>



    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R90" data-line-number="90"></td>

  <td>
    <span data-code-marker="+">    can take substantially more with other POSIX shells):</span></td>
</tr>



    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R91" data-line-number="91"></td>

  <td>
    <span data-code-marker="+"><br/></span></td>
</tr>



    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R92" data-line-number="92"></td>

  <td>
    <span data-code-marker="+">      $ ./rsc -t sh -l max -o rsc-bootstrap1.sh rsc.scm</span></td>
</tr>



    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R93" data-line-number="93"></td>

  <td>
    <span data-code-marker="+">      $ ./rsc -t sh -l max -c &#34;ksh rsc-bootstrap1.sh&#34; -o rsc-bootstrap2.sh rsc.scm</span></td>
</tr>



    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R94" data-line-number="94"></td>

  <td>
    <span data-code-marker="+">      $ echo &#39;(display &#34;hello!<span>\n</span>&#34;)&#39; &gt; h.scm</span></td>
</tr>



    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R95" data-line-number="95"></td>

  <td>
    <span data-code-marker="+">      $ ./rsc -t sh -l max -m -c &#34;ksh rsc-bootstrap2.sh&#34; h.scm</span></td>
</tr>



    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R96" data-line-number="96"></td>

  <td>
    <span data-code-marker="+">      $ ksh h.scm.sh</span></td>
</tr>



    <tr data-hunk="b66d53ec749b107359166f2d781e8b24f449e0bd247633f9f70f5bcd3af40a84">
    <td></td>

    <td id="diff-b335630551682c19a781afebcf4d07bf978fb1f8ac04c6bf87428ed5106870f5R97" data-line-number="97"></td>

  <td>
    <span data-code-marker="+">      hello!</span></td>
</tr>





          </div></div>
  </body>
</html>
