<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.ams.org/journals/notices/202502/noti3114/noti3114.html">Original</a>
    <h1>Anatomy of a Formal Proof</h1>
    
    <div id="readability-page-1" class="page"><article><section data-ams-doc="article">
  <section data-ams-doc="frontmatter">
        
      <p>Jeremy Avigad</p><p>Johan Commelin</p><p>Heather Macbeth</p><p>Adam Topaz</p></section>
  
    <section role="doc-introduction" id="ltxid3" data-ams-doc="section" data-ams-doc-level="1">
      <h2><span data-ams-doc="title">Introduction</span></h2>
      <p>It has been a long day and you are making your way through a paper related to your work. You suddenly come across the following remark: “…since <span data-ams-doc="math inline"><svg aria-braillelabel="⠭" aria-label="x" style="vertical-align: -0.021ex;" xmlns="http://www.w3.org/2000/svg" width="1.167ex" height="1.021ex" role="img" focusable="false" viewBox="0 -479 559 489" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D465"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$x$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠽" aria-label="y" style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="1.065ex" height="1.466ex" role="img" focusable="false" viewBox="0 -482 510 702" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D466"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$y$</span></span> are eigenvectors of <span data-ams-doc="math inline"><svg aria-braillelabel="⠋" aria-label="f" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="1.205ex" height="1.954ex" role="img" focusable="false" viewBox="0 -711 577 936" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D453"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f$</span></span> with distinct eigenvalues, they are linearly independent.” Wait—how does the proof go? You should really know this. Here <span data-ams-doc="math inline"><svg aria-braillelabel="⠭" aria-label="x" style="vertical-align: -0.021ex;" xmlns="http://www.w3.org/2000/svg" width="1.167ex" height="1.021ex" role="img" focusable="false" viewBox="0 -479 559 489" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D465"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$x$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠽" aria-label="y" style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="1.065ex" height="1.466ex" role="img" focusable="false" viewBox="0 -482 510 702" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D466"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$y$</span></span> are nonzero elements of a vector space <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠧" aria-label="upper V" style="vertical-align: -0.01ex;" xmlns="http://www.w3.org/2000/svg" width="1.543ex" height="1.382ex" role="img" focusable="false" viewBox="0 -657 739 662" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D449"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$V$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠋⠸⠒⠀⠠⠧⠀⠫⠕⠀⠠⠧" aria-label="f colon upper V right arrow upper V" data-owns="0 1 5" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="9.1ex" height="1.954ex" role="tree" focusable="false" viewBox="0 -711 4359.1 936" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="6"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠋" aria-label="f" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D453"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠸⠒" aria-label="colon" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="1" transform="translate(854.8,0)"><use role="presentation" xlink:href="#MJX-STX-N-3A"></use></g><g data-owns="2 3 4" aria-hidden="true" role="treeitem" aria-braillelabel="⠠⠧⠀⠫⠕⠀⠠⠧" aria-label="upper V right arrow upper V" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="5" transform="translate(1377.6,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠠⠧" aria-label="upper V" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="2"><use role="presentation" xlink:href="#MJX-STX-I-1D449"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠫⠕" aria-label="right arrow" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="3" transform="translate(1016.8,0)"><use role="presentation" xlink:href="#MJX-STX-N-2192"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠠⠧" aria-label="upper V" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="4" transform="translate(2242.6,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D449"></use></g></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f : V \to V$</span></span> is a linear map. You force yourself to pick up a pen and write down the following argument:</p>
      <blockquote data-ams-style="null">
        <p>Let <span data-ams-doc="math inline"><svg aria-braillelabel="⠋⠷⠭⠾⠀⠨⠅⠀⠨⠍⠭" aria-label="f left parenthesis x right parenthesis equals mu x" data-owns="9 4 11" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="8.92ex" height="1.965ex" role="tree" focusable="false" viewBox="0 -716 4272.6 941" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="12"><g data-owns="0 8 7" aria-hidden="true" role="treeitem" aria-braillelabel="⠋⠷⠭⠾" aria-label="f left parenthesis x right parenthesis" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="9"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠋" aria-label="f" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D453"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠀" aria-label="of" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="8" transform="translate(577,0)"><use role="presentation" xlink:href="#MJX-STX-N-2061"></use></g><g data-owns="1 2 3" aria-hidden="true" role="treeitem" aria-braillelabel="⠷⠭⠾" aria-label="left parenthesis x right parenthesis" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="7" transform="translate(577,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠷" aria-label="left parenthesis" aria-setsize="3" aria-posinset="1" aria-level="3" data-owns-id="1" transform="translate(0 -20)"><use role="presentation" xlink:href="#MJX-STX-N-28"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠭" aria-label="x" aria-setsize="3" aria-posinset="2" aria-level="3" data-owns-id="2" transform="translate(357,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D465"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠾" aria-label="right parenthesis" aria-setsize="3" aria-posinset="3" aria-level="3" data-owns-id="3" transform="translate(916,0) translate(0 -20)"><use role="presentation" xlink:href="#MJX-STX-N-29"></use></g></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠅" aria-label="equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="4" transform="translate(2127.8,0)"><use role="presentation" xlink:href="#MJX-STX-N-3D"></use></g><g data-owns="5 10 6" aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠍⠭" aria-label="mu x" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="11" transform="translate(3125.6,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠍" aria-label="mu" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="5"><use role="presentation" xlink:href="#MJX-STX-I-1D707"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="10" transform="translate(588,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠭" aria-label="x" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="6" transform="translate(588,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D465"></use></g></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f(x) = \mu x$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠋⠷⠽⠾⠀⠨⠅⠀⠨⠝⠽" aria-label="f left parenthesis y right parenthesis equals nu y" data-owns="9 4 11" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="8.523ex" height="1.965ex" role="tree" focusable="false" viewBox="0 -716 4082.6 941" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="12"><g data-owns="0 8 7" aria-hidden="true" role="treeitem" aria-braillelabel="⠋⠷⠽⠾" aria-label="f left parenthesis y right parenthesis" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="9"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠋" aria-label="f" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D453"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠀" aria-label="of" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="8" transform="translate(577,0)"><use role="presentation" xlink:href="#MJX-STX-N-2061"></use></g><g data-owns="1 2 3" aria-hidden="true" role="treeitem" aria-braillelabel="⠷⠽⠾" aria-label="left parenthesis y right parenthesis" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="7" transform="translate(577,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠷" aria-label="left parenthesis" aria-setsize="3" aria-posinset="1" aria-level="3" data-owns-id="1" transform="translate(0 -20)"><use role="presentation" xlink:href="#MJX-STX-N-28"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠽" aria-label="y" aria-setsize="3" aria-posinset="2" aria-level="3" data-owns-id="2" transform="translate(357,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D466"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠾" aria-label="right parenthesis" aria-setsize="3" aria-posinset="3" aria-level="3" data-owns-id="3" transform="translate(867,0) translate(0 -20)"><use role="presentation" xlink:href="#MJX-STX-N-29"></use></g></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠅" aria-label="equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="4" transform="translate(2078.8,0)"><use role="presentation" xlink:href="#MJX-STX-N-3D"></use></g><g data-owns="5 10 6" aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝⠽" aria-label="nu y" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="11" transform="translate(3076.6,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝" aria-label="nu" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="5"><use role="presentation" xlink:href="#MJX-STX-I-1D708"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="10" transform="translate(496,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠽" aria-label="y" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="6" transform="translate(496,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D466"></use></g></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f(y) = \nu y$</span></span> with <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠍⠀⠌⠨⠅⠀⠨⠝" aria-label="mu not equals nu" data-owns="0 1 2" style="vertical-align: -0.453ex;" xmlns="http://www.w3.org/2000/svg" width="4.926ex" height="1.868ex" role="tree" focusable="false" viewBox="0 -678 2359.6 895" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="3"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠍" aria-label="mu" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D707"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠌⠨⠅" aria-label="not equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="1" transform="translate(865.8,0)"><use role="presentation" xlink:href="#MJX-STX-N-2260"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝" aria-label="nu" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="2" transform="translate(1863.6,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D708"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\mu \ne \nu$</span>.</span> Suppose <span data-ams-doc="math inline"><svg aria-braillelabel="⠁⠭⠬⠃⠽⠀⠨⠅⠀⠼⠴" aria-label="a x plus b y equals 0" data-owns="11 5 6" style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="10.599ex" height="1.931ex" role="tree" focusable="false" viewBox="0 -705 5077 925" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="12"><g data-owns="8 2 10" aria-hidden="true" role="treeitem" aria-braillelabel="⠁⠭⠬⠃⠽" aria-label="a x plus b y" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="11"><g data-owns="0 7 1" aria-hidden="true" role="treeitem" aria-braillelabel="⠁⠭" aria-label="a x" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="8"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠁" aria-label="a" aria-setsize="3" aria-posinset="1" aria-level="3" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D44E"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="3" aria-posinset="2" aria-level="3" data-owns-id="7" transform="translate(555,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠭" aria-label="x" aria-setsize="3" aria-posinset="3" aria-level="3" data-owns-id="1" transform="translate(555,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D465"></use></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠬" aria-label="plus" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="2" transform="translate(1336.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-2B"></use></g><g data-owns="3 9 4" aria-hidden="true" role="treeitem" aria-braillelabel="⠃⠽" aria-label="b y" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="10" transform="translate(2278.4,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠃" aria-label="b" aria-setsize="3" aria-posinset="1" aria-level="3" data-owns-id="3"><use role="presentation" xlink:href="#MJX-STX-I-1D44F"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="3" aria-posinset="2" aria-level="3" data-owns-id="9" transform="translate(518,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠽" aria-label="y" aria-setsize="3" aria-posinset="3" aria-level="3" data-owns-id="4" transform="translate(518,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D466"></use></g></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠅" aria-label="equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="5" transform="translate(3584.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-3D"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠼⠴" aria-label="0" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="6" transform="translate(4582,0)"><use role="presentation" xlink:href="#MJX-STX-N-30"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$a x + b y = 0$</span>.</span> Applying <span data-ams-doc="math inline"><svg aria-braillelabel="⠋" aria-label="f" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="1.205ex" height="1.954ex" role="img" focusable="false" viewBox="0 -711 577 936" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D453"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f$</span></span> and using linearity, we have <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠍⠁⠭⠬⠨⠝⠃⠽⠀⠨⠅⠀⠼⠴" aria-label="mu a x plus nu b y equals 0" data-owns="15 7 8" style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="12.862ex" height="1.931ex" role="tree" focusable="false" viewBox="0 -705 6161 925" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="16"><g data-owns="11 3 14" aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠍⠁⠭⠬⠨⠝⠃⠽" aria-label="mu a x plus nu b y" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="15"><g data-owns="0 9 1 10 2" aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠍⠁⠭" aria-label="mu a x" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="11"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠍" aria-label="mu" aria-setsize="5" aria-posinset="1" aria-level="3" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D707"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="5" aria-posinset="2" aria-level="3" data-owns-id="9" transform="translate(588,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠁" aria-label="a" aria-setsize="5" aria-posinset="3" aria-level="3" data-owns-id="1" transform="translate(588,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D44E"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="5" aria-posinset="4" aria-level="3" data-owns-id="10" transform="translate(1143,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠭" aria-label="x" aria-setsize="5" aria-posinset="5" aria-level="3" data-owns-id="2" transform="translate(1143,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D465"></use></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠬" aria-label="plus" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="3" transform="translate(1924.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-2B"></use></g><g data-owns="4 12 5 13 6" aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝⠃⠽" aria-label="nu b y" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="14" transform="translate(2866.4,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝" aria-label="nu" aria-setsize="5" aria-posinset="1" aria-level="3" data-owns-id="4"><use role="presentation" xlink:href="#MJX-STX-I-1D708"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="5" aria-posinset="2" aria-level="3" data-owns-id="12" transform="translate(496,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠃" aria-label="b" aria-setsize="5" aria-posinset="3" aria-level="3" data-owns-id="5" transform="translate(496,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D44F"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="5" aria-posinset="4" aria-level="3" data-owns-id="13" transform="translate(1014,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠽" aria-label="y" aria-setsize="5" aria-posinset="5" aria-level="3" data-owns-id="6" transform="translate(1014,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D466"></use></g></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠅" aria-label="equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="7" transform="translate(4668.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-3D"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠼⠴" aria-label="0" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="8" transform="translate(5666,0)"><use role="presentation" xlink:href="#MJX-STX-N-30"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\mu a x + \nu b y = 0$</span>.</span> Multiplying the original equation by <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠝" aria-label="nu" style="vertical-align: -0.015ex;" xmlns="http://www.w3.org/2000/svg" width="1.035ex" height="1.015ex" role="img" focusable="false" viewBox="0 -479 496 486" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D708"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\nu$</span>,</span> we have <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠝⠁⠭⠬⠨⠝⠃⠽⠀⠨⠅⠀⠼⠴" aria-label="nu a x plus nu b y equals 0" data-owns="15 7 8" style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="12.67ex" height="1.931ex" role="tree" focusable="false" viewBox="0 -705 6069 925" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="16"><g data-owns="11 3 14" aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝⠁⠭⠬⠨⠝⠃⠽" aria-label="nu a x plus nu b y" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="15"><g data-owns="0 9 1 10 2" aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝⠁⠭" aria-label="nu a x" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="11"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝" aria-label="nu" aria-setsize="5" aria-posinset="1" aria-level="3" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D708"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="5" aria-posinset="2" aria-level="3" data-owns-id="9" transform="translate(496,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠁" aria-label="a" aria-setsize="5" aria-posinset="3" aria-level="3" data-owns-id="1" transform="translate(496,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D44E"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="5" aria-posinset="4" aria-level="3" data-owns-id="10" transform="translate(1051,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠭" aria-label="x" aria-setsize="5" aria-posinset="5" aria-level="3" data-owns-id="2" transform="translate(1051,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D465"></use></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠬" aria-label="plus" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="3" transform="translate(1832.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-2B"></use></g><g data-owns="4 12 5 13 6" aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝⠃⠽" aria-label="nu b y" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="14" transform="translate(2774.4,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝" aria-label="nu" aria-setsize="5" aria-posinset="1" aria-level="3" data-owns-id="4"><use role="presentation" xlink:href="#MJX-STX-I-1D708"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="5" aria-posinset="2" aria-level="3" data-owns-id="12" transform="translate(496,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠃" aria-label="b" aria-setsize="5" aria-posinset="3" aria-level="3" data-owns-id="5" transform="translate(496,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D44F"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="5" aria-posinset="4" aria-level="3" data-owns-id="13" transform="translate(1014,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠽" aria-label="y" aria-setsize="5" aria-posinset="5" aria-level="3" data-owns-id="6" transform="translate(1014,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D466"></use></g></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠅" aria-label="equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="7" transform="translate(4576.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-3D"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠼⠴" aria-label="0" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="8" transform="translate(5574,0)"><use role="presentation" xlink:href="#MJX-STX-N-30"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\nu a x + \nu b y = 0$</span>.</span> Subtracting the two yields <span data-ams-doc="math inline"><svg aria-braillelabel="⠷⠨⠍⠤⠨⠝⠾⠁⠭⠀⠨⠅⠀⠼⠴" aria-label="left parenthesis mu minus nu right parenthesis a x equals 0" data-owns="13 7 8" style="vertical-align: -0.453ex;" xmlns="http://www.w3.org/2000/svg" width="12.207ex" height="1.948ex" role="tree" focusable="false" viewBox="0 -716 5847 933" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="14"><g data-owns="10 11 5 12 6" aria-hidden="true" role="treeitem" aria-braillelabel="⠷⠨⠍⠤⠨⠝⠾⠁⠭" aria-label="left parenthesis mu minus nu right parenthesis a x" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="13"><g data-owns="0 9 4" aria-hidden="true" role="treeitem" aria-braillelabel="⠷⠨⠍⠤⠨⠝⠾" aria-label="left parenthesis mu minus nu right parenthesis" aria-setsize="5" aria-posinset="1" aria-level="2" data-owns-id="10"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠷" aria-label="left parenthesis" aria-setsize="3" aria-posinset="1" aria-level="3" data-owns-id="0" transform="translate(0 -20)"><use role="presentation" xlink:href="#MJX-STX-N-28"></use></g><g data-owns="1 2 3" aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠍⠤⠨⠝" aria-label="mu minus nu" aria-setsize="3" aria-posinset="2" aria-level="3" data-owns-id="9" transform="translate(357,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠍" aria-label="mu" aria-setsize="3" aria-posinset="1" aria-level="4" data-owns-id="1"><use role="presentation" xlink:href="#MJX-STX-I-1D707"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠤" aria-label="minus" aria-setsize="3" aria-posinset="2" aria-level="4" data-owns-id="2" transform="translate(810.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-2212"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝" aria-label="nu" aria-setsize="3" aria-posinset="3" aria-level="4" data-owns-id="3" transform="translate(1752.4,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D708"></use></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠾" aria-label="right parenthesis" aria-setsize="3" aria-posinset="3" aria-level="3" data-owns-id="4" transform="translate(2605.4,0) translate(0 -20)"><use role="presentation" xlink:href="#MJX-STX-N-29"></use></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="5" aria-posinset="2" aria-level="2" data-owns-id="11" transform="translate(2962.4,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠁" aria-label="a" aria-setsize="5" aria-posinset="3" aria-level="2" data-owns-id="5" transform="translate(2962.4,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D44E"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠡" aria-label="times" aria-setsize="5" aria-posinset="4" aria-level="2" data-owns-id="12" transform="translate(3517.4,0)"><use role="presentation" xlink:href="#MJX-STX-N-2062"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠭" aria-label="x" aria-setsize="5" aria-posinset="5" aria-level="2" data-owns-id="6" transform="translate(3517.4,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D465"></use></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠅" aria-label="equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="7" transform="translate(4354.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-3D"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠼⠴" aria-label="0" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="8" transform="translate(5352,0)"><use role="presentation" xlink:href="#MJX-STX-N-30"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$(\mu - \nu ) a x = 0$</span></span> and since <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠍⠤⠨⠝" aria-label="mu minus nu" data-owns="0 1 2" style="vertical-align: -0.453ex;" xmlns="http://www.w3.org/2000/svg" width="4.694ex" height="1.618ex" role="tree" focusable="false" viewBox="0 -558 2248.4 775" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="3"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠍" aria-label="mu" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D707"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠤" aria-label="minus" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="1" transform="translate(810.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-2212"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝" aria-label="nu" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="2" transform="translate(1752.4,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D708"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\mu - \nu$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠭" aria-label="x" style="vertical-align: -0.021ex;" xmlns="http://www.w3.org/2000/svg" width="1.167ex" height="1.021ex" role="img" focusable="false" viewBox="0 -479 559 489" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D465"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$x$</span></span> are nonzero, we have <span data-ams-doc="math inline"><svg aria-braillelabel="⠁⠀⠨⠅⠀⠼⠴" aria-label="a equals 0" data-owns="0 1 2" style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="4.855ex" height="1.365ex" role="tree" focusable="false" viewBox="0 -642 2325.6 654" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="3"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠁" aria-label="a" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D44E"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠅" aria-label="equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="1" transform="translate(832.8,0)"><use role="presentation" xlink:href="#MJX-STX-N-3D"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠼⠴" aria-label="0" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="2" transform="translate(1830.6,0)"><use role="presentation" xlink:href="#MJX-STX-N-30"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$a = 0$</span>.</span> The corresponding argument with <span data-ams-doc="math inline"><svg aria-braillelabel="⠭" aria-label="x" style="vertical-align: -0.021ex;" xmlns="http://www.w3.org/2000/svg" width="1.167ex" height="1.021ex" role="img" focusable="false" viewBox="0 -479 559 489" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D465"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$x$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠽" aria-label="y" style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="1.065ex" height="1.466ex" role="img" focusable="false" viewBox="0 -482 510 702" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D466"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$y$</span></span> swapped yields <span data-ams-doc="math inline"><svg aria-braillelabel="⠃⠀⠨⠅⠀⠼⠴" aria-label="b equals 0" data-owns="0 1 2" style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="4.778ex" height="1.497ex" role="tree" focusable="false" viewBox="0 -705 2288.6 717" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="3"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠃" aria-label="b" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D44F"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠅" aria-label="equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="1" transform="translate(795.8,0)"><use role="presentation" xlink:href="#MJX-STX-N-3D"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠼⠴" aria-label="0" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="2" transform="translate(1793.6,0)"><use role="presentation" xlink:href="#MJX-STX-N-30"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$b = 0$</span>,</span> so the only linear combination of <span data-ams-doc="math inline"><svg aria-braillelabel="⠭" aria-label="x" style="vertical-align: -0.021ex;" xmlns="http://www.w3.org/2000/svg" width="1.167ex" height="1.021ex" role="img" focusable="false" viewBox="0 -479 559 489" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D465"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$x$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠽" aria-label="y" style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="1.065ex" height="1.466ex" role="img" focusable="false" viewBox="0 -482 510 702" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D466"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$y$</span></span> that yields <span data-ams-doc="math inline"><svg aria-braillelabel="⠼⠴" aria-label="0" style="vertical-align: -0.023ex;" xmlns="http://www.w3.org/2000/svg" width="1.033ex" height="1.363ex" role="img" focusable="false" viewBox="0 -642 495 653" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-N-30"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$0$</span></span> is the trivial one.</p>
      </blockquote>
      <p>That works, doesn’t it?</p>
      <p>Your colleagues have all gone home and there is nobody around to discuss this with. So, instead, you turn to your computer and start up Lean, the proof assistant you happen to use. Can you prove the claim formally? As you type, the information window in your editor complains about every misstep—the syntax is fiddly, and you have to get the notation and the instructions just right—but that’s okay, because working through the proof is relaxing and kind of fun. Lean often makes you spell out arguments that are painfully obvious, but you have found that if you set things up just right, it will cheerfully fill in some of the details. After a short while, you have success! Lean signs off on the proof, confirming you have managed to construct a formal derivation in the system’s axiomatic foundation.</p>
      <pre data-ams-specific-use="numbers=right">import Mathlib.LinearAlgebra.LinearIndependent

variable [Field K] [AddCommGroup V] [Module K V]

example (f : V →ₗ[K] V)
    (μ ν : K) (hμν : μ ≠ ν)
    (x y : V) (hx₀ : x ≠ 0) (hy₀ : y ≠ 0)
    (hx : f x = μ • x) (hy : f y = ν • y) :
    ∀ a b : K,
      a • x + b • y = 0 → a = 0 ∧ b = 0 := by
  intro a b hab
  have :=
  calc (μ - ν) • a • x
      = (a • μ • x + b • ν • y) -
        ν • (a • x + b • y) := by module
    _ = f (a • x + b • y) -
        ν • (a • x + b • y) := by simp [hx, hy]
    _ = 0 := by simp [hab]
  simp_all [sub_eq_zero]</pre>
      <p>What a lovely proof! It took some effort to work it out, but it was a pleasure seeing the steps play out formally, and you are proud of the result.</p>
    </section>
    <section id="ltxid4" data-ams-doc="section" data-ams-doc-level="1">
      <h2><span data-ams-doc="title">Understanding the Proof</span></h2>
      <p>Let’s take a look at what you have done. You are using Lean’s mathematical library, Mathlib, a communally developed and maintained repository of formally verified mathematics. At the time of writing, Mathlib contains more than 80,000 definitions and more than 160,000 theorems, starting from axiomatic primitives and developing mathematics from the bottom up. It also contains dozens of user-contributed automated reasoning procedures that help with the formalization process, as well as notation declarations and configuration information, all of which codify different aspects of our mathematical understanding.</p>
      <p>To avoid having to load the entire library into memory at once, Lean asks you to tell the system what parts of the library you want to use. So the first line of the proof, the one that starts with the keyword <span data-ams-style="monospace">import</span>, tells Lean you want to use the file with the name shown. That pulls in all the files in the library that those notions depend on, which is quite a lot, including basic algebra, properties of scalars and vectors, and so on.</p>
      <p>The next line, the one that begins with the word <span data-ams-style="monospace">variable</span>, declares some of the objects you want to work with: a field, <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠅" aria-label="upper K" style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.497ex" height="1.372ex" role="img" focusable="false" viewBox="0 -657 717 657" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D43E"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$K$</span>,</span> and a vector space, <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠧" aria-label="upper V" style="vertical-align: -0.01ex;" xmlns="http://www.w3.org/2000/svg" width="1.543ex" height="1.382ex" role="img" focusable="false" viewBox="0 -657 739 662" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D449"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$V$</span>.</span> You could have, alternatively, put these declarations after the <span data-ams-style="monospace">example</span> keyword on line 5; using the <span data-ams-style="monospace">variable</span> command to declare them separately is especially convenient when multiple definitions and theorems share the same data and hypotheses. It’s a quirk of the library’s design that you declare that <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠧" aria-label="upper V" style="vertical-align: -0.01ex;" xmlns="http://www.w3.org/2000/svg" width="1.543ex" height="1.382ex" role="img" focusable="false" viewBox="0 -657 739 662" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D449"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$V$</span></span> is an additive, commutative, group, coupled with a scalar action that turns <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠧" aria-label="upper V" style="vertical-align: -0.01ex;" xmlns="http://www.w3.org/2000/svg" width="1.543ex" height="1.382ex" role="img" focusable="false" viewBox="0 -657 739 662" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D449"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$V$</span></span> into a <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠅" aria-label="upper K" style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.497ex" height="1.372ex" role="img" focusable="false" viewBox="0 -657 717 657" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D43E"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$K$</span>-module.</span> (Remember, a vector space is nothing more than a module over a ring in which the ring in question is actually a field.) Mathlib includes thousands of axiomatically declared structures, and the contributors to the library take great care to maximize reusability by breaking structural hypotheses into reusable pieces that can easily be configured and composed.</p>
      <p>Next comes the keyword <span data-ams-style="monospace">example</span> (line 5), which indicates that the result you are proving is not intended for future use. Using <span data-ams-style="monospace">example</span> is good for experimentation. To prove a lemma or theorem that you intend to use later, you would instead use <span data-ams-style="monospace">lemma</span> or <span data-ams-style="monospace">theorem</span> and provide a name. In that case, once Lean has processed the proof, it is stored in the <em>environment</em>, which means that any file that imports this one can see it. If you think you have proved a theorem that ought to go into Mathlib, you can issue a <em>pull request</em> to add it to the library. Mathlib is overseen by teams of <em>maintainers</em> and <em>reviewers</em> who moderate and update the contents, ensuring the quality and stability of the library.</p>
      <p>You begin stating the claim by introducing the key players:</p>
      <dl data-ams-content-type="itemize">
        <div><dt id="ltxid5">•</dt> <dd><p>a linear map <span data-ams-doc="math inline"><svg aria-braillelabel="⠋" aria-label="f" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="1.205ex" height="1.954ex" role="img" focusable="false" viewBox="0 -711 577 936" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D453"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f$</span></span> from <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠧" aria-label="upper V" style="vertical-align: -0.01ex;" xmlns="http://www.w3.org/2000/svg" width="1.543ex" height="1.382ex" role="img" focusable="false" viewBox="0 -657 739 662" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D449"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$V$</span></span> to itself. Lean’s notation for such linear maps is <span data-ams-style="monospace">V →ₗ[K] V</span>,</p></dd></div>
        <div><dt id="ltxid6">•</dt> <dd><p>two elements of <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠅" aria-label="upper K" style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.497ex" height="1.372ex" role="img" focusable="false" viewBox="0 -657 717 657" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D43E"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$K$</span>,</span> denoted <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠍" aria-label="mu" style="vertical-align: -0.453ex;" xmlns="http://www.w3.org/2000/svg" width="1.228ex" height="1.441ex" role="img" focusable="false" viewBox="0 -473 588 690" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D707"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\mu$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠝" aria-label="nu" style="vertical-align: -0.015ex;" xmlns="http://www.w3.org/2000/svg" width="1.035ex" height="1.015ex" role="img" focusable="false" viewBox="0 -479 496 486" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D708"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\nu$</span>,</span> which will end up being your eigenvalues, and a hypothesis called <span data-ams-style="monospace">hμν</span> that says <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠍" aria-label="mu" style="vertical-align: -0.453ex;" xmlns="http://www.w3.org/2000/svg" width="1.228ex" height="1.441ex" role="img" focusable="false" viewBox="0 -473 588 690" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D707"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\mu$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠝" aria-label="nu" style="vertical-align: -0.015ex;" xmlns="http://www.w3.org/2000/svg" width="1.035ex" height="1.015ex" role="img" focusable="false" viewBox="0 -479 496 486" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D708"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\nu$</span></span> are distinct,</p></dd></div>
        <div><dt id="ltxid7">•</dt> <dd><p>two vectors called <span data-ams-doc="math inline"><svg aria-braillelabel="⠭" aria-label="x" style="vertical-align: -0.021ex;" xmlns="http://www.w3.org/2000/svg" width="1.167ex" height="1.021ex" role="img" focusable="false" viewBox="0 -479 559 489" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D465"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$x$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠽" aria-label="y" style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="1.065ex" height="1.466ex" role="img" focusable="false" viewBox="0 -482 510 702" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D466"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$y$</span>,</span> as well as hypotheses <span data-ams-style="monospace">hx₀</span> and <span data-ams-style="monospace">hy₀</span> that say that they are nonzero,</p></dd></div>
        <div><dt id="ltxid8">•</dt> <dd><p>and, finally, your two key assumptions, <span data-ams-style="monospace">hx</span> and <span data-ams-style="monospace">hy</span>, which say that <span data-ams-doc="math inline"><svg aria-braillelabel="⠋⠷⠭⠾⠀⠨⠅⠀⠨⠍⠡⠭" aria-label="f left parenthesis x right parenthesis equals mu dot x" data-owns="10 4 11" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="10.459ex" height="1.965ex" role="tree" focusable="false" viewBox="0 -716 5010 941" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="12"><g data-owns="0 9 8" aria-hidden="true" role="treeitem" aria-braillelabel="⠋⠷⠭⠾" aria-label="f left parenthesis x right parenthesis" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="10"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠋" aria-label="f" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D453"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠀" aria-label="of" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="9" transform="translate(577,0)"><use role="presentation" xlink:href="#MJX-STX-N-2061"></use></g><g data-owns="1 2 3" aria-hidden="true" role="treeitem" aria-braillelabel="⠷⠭⠾" aria-label="left parenthesis x right parenthesis" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="8" transform="translate(577,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠷" aria-label="left parenthesis" aria-setsize="3" aria-posinset="1" aria-level="3" data-owns-id="1" transform="translate(0 -20)"><use role="presentation" xlink:href="#MJX-STX-N-28"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠭" aria-label="x" aria-setsize="3" aria-posinset="2" aria-level="3" data-owns-id="2" transform="translate(357,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D465"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠾" aria-label="right parenthesis" aria-setsize="3" aria-posinset="3" aria-level="3" data-owns-id="3" transform="translate(916,0) translate(0 -20)"><use role="presentation" xlink:href="#MJX-STX-N-29"></use></g></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠅" aria-label="equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="4" transform="translate(2127.8,0)"><use role="presentation" xlink:href="#MJX-STX-N-3D"></use></g><g data-owns="5 6 7" aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠍⠡⠭" aria-label="mu dot x" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="11" transform="translate(3125.6,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠍" aria-label="mu" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="5"><use role="presentation" xlink:href="#MJX-STX-I-1D707"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠡" aria-label="dot" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="6" transform="translate(810.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-22C5"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠭" aria-label="x" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="7" transform="translate(1325.4,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D465"></use></g></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f(x) = \mu \cdot x$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠋⠷⠽⠾⠀⠨⠅⠀⠨⠝⠡⠽" aria-label="f left parenthesis y right parenthesis equals nu dot y" data-owns="10 4 11" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="10.063ex" height="1.965ex" role="tree" focusable="false" viewBox="0 -716 4820 941" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="12"><g data-owns="0 9 8" aria-hidden="true" role="treeitem" aria-braillelabel="⠋⠷⠽⠾" aria-label="f left parenthesis y right parenthesis" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="10"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠋" aria-label="f" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D453"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠀" aria-label="of" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="9" transform="translate(577,0)"><use role="presentation" xlink:href="#MJX-STX-N-2061"></use></g><g data-owns="1 2 3" aria-hidden="true" role="treeitem" aria-braillelabel="⠷⠽⠾" aria-label="left parenthesis y right parenthesis" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="8" transform="translate(577,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠷" aria-label="left parenthesis" aria-setsize="3" aria-posinset="1" aria-level="3" data-owns-id="1" transform="translate(0 -20)"><use role="presentation" xlink:href="#MJX-STX-N-28"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠽" aria-label="y" aria-setsize="3" aria-posinset="2" aria-level="3" data-owns-id="2" transform="translate(357,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D466"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠾" aria-label="right parenthesis" aria-setsize="3" aria-posinset="3" aria-level="3" data-owns-id="3" transform="translate(867,0) translate(0 -20)"><use role="presentation" xlink:href="#MJX-STX-N-29"></use></g></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠅" aria-label="equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="4" transform="translate(2078.8,0)"><use role="presentation" xlink:href="#MJX-STX-N-3D"></use></g><g data-owns="5 6 7" aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝⠡⠽" aria-label="nu dot y" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="11" transform="translate(3076.6,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠝" aria-label="nu" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="5"><use role="presentation" xlink:href="#MJX-STX-I-1D708"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠡" aria-label="dot" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="6" transform="translate(718.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-22C5"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠽" aria-label="y" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="7" transform="translate(1233.4,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D466"></use></g></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f(y) = \nu \cdot y$</span>.</span></p></dd></div>
      </dl>
      <p>In the notation <span data-ams-style="monospace">V →ₗ[K] V</span>, the <span data-ams-style="monospace">ₗ</span> is a fixed symbol signifying linear maps, whereas the parameter in brackets indicates that we mean linearity over <span data-ams-style="monospace">K</span>.</p>
      <p>At this point, you have set up your <em>context</em>, that is, the data and hypotheses you need to state your claim. You have your <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠅" aria-label="upper K" style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.497ex" height="1.372ex" role="img" focusable="false" viewBox="0 -657 717 657" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D43E"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$K$</span>-vector</span> space <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠧" aria-label="upper V" style="vertical-align: -0.01ex;" xmlns="http://www.w3.org/2000/svg" width="1.543ex" height="1.382ex" role="img" focusable="false" viewBox="0 -657 739 662" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D449"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$V$</span>,</span> a linear map <span data-ams-doc="math inline"><svg aria-braillelabel="⠋⠸⠒⠀⠠⠧⠀⠫⠕⠀⠠⠧" aria-label="f colon upper V right arrow upper V" data-owns="0 1 5" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="9.1ex" height="1.954ex" role="tree" focusable="false" viewBox="0 -711 4359.1 936" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="6"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠋" aria-label="f" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D453"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠸⠒" aria-label="colon" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="1" transform="translate(854.8,0)"><use role="presentation" xlink:href="#MJX-STX-N-3A"></use></g><g data-owns="2 3 4" aria-hidden="true" role="treeitem" aria-braillelabel="⠠⠧⠀⠫⠕⠀⠠⠧" aria-label="upper V right arrow upper V" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="5" transform="translate(1377.6,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠠⠧" aria-label="upper V" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="2"><use role="presentation" xlink:href="#MJX-STX-I-1D449"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠫⠕" aria-label="right arrow" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="3" transform="translate(1016.8,0)"><use role="presentation" xlink:href="#MJX-STX-N-2192"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠠⠧" aria-label="upper V" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="4" transform="translate(2242.6,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D449"></use></g></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f : V \to V$</span>,</span> two scalars <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠍" aria-label="mu" style="vertical-align: -0.453ex;" xmlns="http://www.w3.org/2000/svg" width="1.228ex" height="1.441ex" role="img" focusable="false" viewBox="0 -473 588 690" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D707"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\mu$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠝" aria-label="nu" style="vertical-align: -0.015ex;" xmlns="http://www.w3.org/2000/svg" width="1.035ex" height="1.015ex" role="img" focusable="false" viewBox="0 -479 496 486" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D708"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\nu$</span>,</span> and eigenvectors <span data-ams-doc="math inline"><svg aria-braillelabel="⠭" aria-label="x" style="vertical-align: -0.021ex;" xmlns="http://www.w3.org/2000/svg" width="1.167ex" height="1.021ex" role="img" focusable="false" viewBox="0 -479 559 489" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D465"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$x$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠽" aria-label="y" style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="1.065ex" height="1.466ex" role="img" focusable="false" viewBox="0 -482 510 702" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D466"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$y$</span></span> for <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠍" aria-label="mu" style="vertical-align: -0.453ex;" xmlns="http://www.w3.org/2000/svg" width="1.228ex" height="1.441ex" role="img" focusable="false" viewBox="0 -473 588 690" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D707"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\mu$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠝" aria-label="nu" style="vertical-align: -0.015ex;" xmlns="http://www.w3.org/2000/svg" width="1.035ex" height="1.015ex" role="img" focusable="false" viewBox="0 -479 496 486" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D708"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\nu$</span></span> respectively. At that point you are ready to state the conclusion (lines 9 and 10), namely, that <span data-ams-doc="math inline"><svg aria-braillelabel="⠭" aria-label="x" style="vertical-align: -0.021ex;" xmlns="http://www.w3.org/2000/svg" width="1.167ex" height="1.021ex" role="img" focusable="false" viewBox="0 -479 559 489" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D465"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$x$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠽" aria-label="y" style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="1.065ex" height="1.466ex" role="img" focusable="false" viewBox="0 -482 510 702" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D466"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$y$</span></span> are linearly independent: <span data-ams-style="monospace">∀ a b : K, a • x + b • y = 0 → a = 0 ∧ b = 0</span>. You have decided to use the definition of linear independence for a pair of vectors: Whenever <span data-ams-doc="math inline"><svg aria-braillelabel="⠁" aria-label="a" style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.159ex" height="1.025ex" role="img" focusable="false" viewBox="0 -479 555 491" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D44E"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$a$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠃" aria-label="b" style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="1.081ex" height="1.497ex" role="img" focusable="false" viewBox="0 -705 518 717" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D44F"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$b$</span></span> are scalars, if <span data-ams-doc="math inline"><svg aria-braillelabel="⠁⠡⠭⠬⠃⠡⠽⠀⠨⠅⠀⠼⠴" aria-label="a dot x plus b dot y equals 0" data-owns="10 7 8" style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="13.678ex" height="1.931ex" role="tree" focusable="false" viewBox="0 -705 6551.9 925" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="12"><g data-owns="9 3 11" aria-hidden="true" role="treeitem" aria-braillelabel="⠁⠡⠭⠬⠃⠡⠽" aria-label="a dot x plus b dot y" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="10"><g data-owns="0 1 2" aria-hidden="true" role="treeitem" aria-braillelabel="⠁⠡⠭" aria-label="a dot x" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="9"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠁" aria-label="a" aria-setsize="3" aria-posinset="1" aria-level="3" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D44E"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠡" aria-label="dot" aria-setsize="3" aria-posinset="2" aria-level="3" data-owns-id="1" transform="translate(777.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-22C5"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠭" aria-label="x" aria-setsize="3" aria-posinset="3" aria-level="3" data-owns-id="2" transform="translate(1292.4,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D465"></use></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠬" aria-label="plus" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="3" transform="translate(2073.7,0)"><use role="presentation" xlink:href="#MJX-STX-N-2B"></use></g><g data-owns="4 5 6" aria-hidden="true" role="treeitem" aria-braillelabel="⠃⠡⠽" aria-label="b dot y" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="11" transform="translate(3015.9,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠃" aria-label="b" aria-setsize="3" aria-posinset="1" aria-level="3" data-owns-id="4"><use role="presentation" xlink:href="#MJX-STX-I-1D44F"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠡" aria-label="dot" aria-setsize="3" aria-posinset="2" aria-level="3" data-owns-id="5" transform="translate(740.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-22C5"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠽" aria-label="y" aria-setsize="3" aria-posinset="3" aria-level="3" data-owns-id="6" transform="translate(1255.4,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D466"></use></g></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠅" aria-label="equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="7" transform="translate(5059.1,0)"><use role="presentation" xlink:href="#MJX-STX-N-3D"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠼⠴" aria-label="0" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="8" transform="translate(6056.9,0)"><use role="presentation" xlink:href="#MJX-STX-N-30"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$a \cdot x + b \cdot y = 0$</span></span> then <span data-ams-doc="math inline"><svg aria-braillelabel="⠁⠀⠨⠅⠀⠼⠴" aria-label="a equals 0" data-owns="0 1 2" style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="4.855ex" height="1.365ex" role="tree" focusable="false" viewBox="0 -642 2325.6 654" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="3"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠁" aria-label="a" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D44E"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠅" aria-label="equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="1" transform="translate(832.8,0)"><use role="presentation" xlink:href="#MJX-STX-N-3D"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠼⠴" aria-label="0" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="2" transform="translate(1830.6,0)"><use role="presentation" xlink:href="#MJX-STX-N-30"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$a = 0$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠃⠀⠨⠅⠀⠼⠴" aria-label="b equals 0" data-owns="0 1 2" style="vertical-align: -0.025ex;" xmlns="http://www.w3.org/2000/svg" width="4.778ex" height="1.497ex" role="tree" focusable="false" viewBox="0 -705 2288.6 717" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="3"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠃" aria-label="b" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D44F"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠅" aria-label="equals" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="1" transform="translate(795.8,0)"><use role="presentation" xlink:href="#MJX-STX-N-3D"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠼⠴" aria-label="0" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="2" transform="translate(1793.6,0)"><use role="presentation" xlink:href="#MJX-STX-N-30"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$b = 0$</span>.</span></p>
      <p>Notice that you have used the symbol <span data-ams-style="monospace">:</span> in expressions like <span data-ams-style="monospace">x y : V</span> (line 7) to express that <span data-ams-style="monospace">x</span> and <span data-ams-style="monospace">y</span> are elements of <span data-ams-style="monospace">V</span>, rather than writing <span data-ams-style="monospace">x ∈ V</span> and <span data-ams-style="monospace">y ∈ V</span>. In Lean’s axiomatic foundation, a version of <em>dependent type theory</em>, every object has a fundamental data type. In this example, we would say that that <span data-ams-doc="math inline"><svg aria-braillelabel="⠭" aria-label="x" style="vertical-align: -0.021ex;" xmlns="http://www.w3.org/2000/svg" width="1.167ex" height="1.021ex" role="img" focusable="false" viewBox="0 -479 559 489" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D465"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$x$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠽" aria-label="y" style="vertical-align: -0.459ex;" xmlns="http://www.w3.org/2000/svg" width="1.065ex" height="1.466ex" role="img" focusable="false" viewBox="0 -482 510 702" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D466"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$y$</span></span> are <em>terms</em> of the <em>type</em> <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠧" aria-label="upper V" style="vertical-align: -0.01ex;" xmlns="http://www.w3.org/2000/svg" width="1.543ex" height="1.382ex" role="img" focusable="false" viewBox="0 -657 739 662" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D449"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$V$</span>.</span> Interestingly, we use the same notation in an expression like <span data-ams-style="monospace">hx₀ : x ≠ 0</span> (also line 7) to express that <span data-ams-style="monospace">hx₀</span> is a label for the assumption <span data-ams-style="monospace">x ≠ 0</span>. In dependent type theory, assertions like <span data-ams-style="monospace">x ≠ 0</span> (also known as <em>propositions</em>) are analogous to data types, and they are handled by the same fundamental mechanisms. Lean checks that an expression like <span data-ams-style="monospace">a • x + b • y</span> is a well-formed expression of type <span data-ams-style="monospace">V</span>, given information about the variables and symbols involved, and, in the same way, it checks that a formal expression is a well-formed proof of the proposition <span data-ams-style="monospace">∀ a b : K, a • x + b • y = 0 → a = 0 ∧ b = 0</span>, given the data and assumptions it depends on. That is why the latter appears after the colon in the example’s conclusion: the statement of the example announces your intent to construct a formal proof of the conclusion, given the data and assumptions that come before.</p>
      <p>What comes after the symbol <span data-ams-style="monospace">:=</span> (line 10) is the proof itself, or, more precisely, instructions that tell Lean how to construct the proof. If you are successful, the corresponding expression is stored in memory and checked for correctness by Lean’s trusted <em>kernel</em>. The keyword <span data-ams-style="monospace">by</span> after the <span data-ams-style="monospace">:=</span> instructs Lean to enter <em>tactic mode</em>, which means that the text that follows should be interpreted as a list of instructions that tell Lean how to build the required proof. A <em>tactic</em> is a procedure that automatically fills in a chain of formal inferences that is needed to justify a reasoning step. Such a chain can be as short as a single logical axiom or rule, but it can also be quite long and involved. Tactics thus play an important role in bridging the gap between the kind of reasoning that is intuitively clear and natural to mathematicians and the stringent axiomatic rules embodied by a formal system.</p>
      <p>The first tactic you use is <span data-ams-style="monospace">intro a b hab</span> (line 11). This introduces the two variables <span data-ams-style="monospace">a : K</span>, <span data-ams-style="monospace">b : K</span> which your statement quantifies over, as well as the antecedent of the implication, that is, the assumption <span data-ams-style="monospace">hab : a • x + b • y = 0</span>. As you type or move your cursor around a proof, Lean displays the <em>tactic state</em>, i.e., information that is relevant at that point in the proof, in its <em>infoview</em> window. After the <span data-ams-style="monospace">intro</span> tactic, the tactic state looks something like this:</p>
      <pre>K : Type
V : Type
f : V →ₗ[K] V
μ ν : K
hμν : μ ≠ ν
x y : V
hx₀ : x ≠ 0
hy₀ : y ≠ 0
hx : f x = μ • x
hy : f y = ν • y
a b : K
hab : a • x + b • y = 0
⊢ a = 0 ∧ b = 0</pre>
      <p>This is nice a summary of where you are in the proof, including the objects and assumptions you started with as well as the objects <span data-ams-style="monospace">a</span>, <span data-ams-style="monospace">b</span> and the assumption <span data-ams-style="monospace">hab</span> that you introduced in the first step. The line that starts with <span data-ams-style="monospace">⊢</span> indicates that your current <em>goal</em> is to prove the conjunction <span data-ams-style="monospace">a = 0 ∧ b = 0</span>.</p>
      <p>While writing the proof, you notice that Lean complains with warnings and error messages. This is expected, since the proof is incomplete. You can appease Lean by apologizing for the incomplete proof: If you use the <span data-ams-style="monospace">sorry</span> tactic on the final line of the proof, Lean will not raise an error over the fact that the proof is incomplete, but it will still raise a gentle warning about the use of <span data-ams-style="monospace">sorry</span>.</p>
      <p>The next step in the proof starts with <span data-ams-style="monospace">have := calc</span> (line 12). This introduces a calculation, similar to a <span data-ams-style="monospace">\begin{align*} …\end{align*}</span> block in LaTeX. The calculation itself is very similar to the one in the proof sketch above, but notice that the individual steps in the calculation are justified by short subproofs like <span data-ams-style="monospace">by module</span> (line 15) or <span data-ams-style="monospace">by simp [hx, hy]</span> (line 17). The <span data-ams-style="monospace">module</span> tactic proves equalities of universal linear expressions, in other words, linear equalities that are true in all modules, and do not use specific facts about the module at hand. The <span data-ams-style="monospace">simp</span> tactic is a powerful tool that uses a database of equalities and equivalences from Mathlib, together with user-specified equations (like <span data-ams-style="monospace">hx, hy</span>) to rewrite its goal into a simpler form. Happily, in this case, the goal becomes a trivial equality, and the goal is therefore closed. In a moment, we will consider the steps that <span data-ams-style="monospace">simp</span> has taken in greater detail.</p>
      <p>After this calculation, you completed your proof with the <span data-ams-style="monospace">simp_all</span> tactic (line 19), which is a variant of <span data-ams-style="monospace">simp</span> that recursively uses all the hypotheses to simplify all hypotheses and the goal. Now if you leave a <span data-ams-style="monospace">sorry</span> after the <span data-ams-style="monospace">simp_all</span>, Lean will complain that there is nothing to be sorry about and insist that remove the apology. Lean checks the correctness of the proof and confirms it with its silence: the absence of errors is the proclamation that you have succeeded.</p>
    </section>
    <section id="ltxid9" data-ams-doc="section" data-ams-doc-level="1">
      <h2><span data-ams-doc="title">Using Automation</span></h2>
      <p>So what exactly does the <span data-ams-style="monospace">simp</span> tactic do? The following provides a manual, more detailed proof of one step of the calculation in your proof, with the direction of the equality reversed.</p>
      <pre>variable (f : V →ₗ[K] V)
  (μ ν : K) (x y : V) (a b : K)

example (hx : f x = μ • x) (hy : f y = ν • y) :
  f (a • x + b • y) = (a • μ • x + b • ν • y) := by
calc f (a • x + b • y)
    = f (a • x) + f (b • y) := by
        rw [map_add]
  _ = a • f x + b • f y := by
        rw [map_smul, map_smul]
  _ = (a • μ • x + b • ν • y) := by
        rw [hx, hy]</pre>
      <p>This example demonstrates the <em>rewrite</em> tactic, denoted <span data-ams-style="monospace">rw</span>. In the calculation, we first rewrite with the lemma <span data-ams-style="monospace">map_add</span>, which states that for any linear map <span data-ams-style="monospace">f</span>, the equation <span data-ams-style="monospace">f (v + w) = f v + f w</span> holds. The next step in the calculation is justified by rewriting twice with the lemma <span data-ams-style="monospace">map_smul</span>, which states that for any linear map <span data-ams-style="monospace">f</span>, scalar <span data-ams-style="monospace">c</span>, and vector <span data-ams-style="monospace">v</span>, the equation <span data-ams-style="monospace">f (c • v) = c • f v</span> holds. (Here <span data-ams-style="monospace">smul</span> stands for “scalar multiplication.”) The underscores before each subsequent step are part of the <span data-ams-style="monospace">calc</span> syntax, indicating to the parser that the calculation continues. The proof concludes by rewriting with the hypotheses <span data-ams-style="monospace">hx</span> and <span data-ams-style="monospace">hy</span>, which assert that <span data-ams-style="monospace">x</span> and <span data-ams-style="monospace">y</span> are eigenvectors of <span data-ams-style="monospace">f</span> with eigenvalues <span data-ams-style="monospace">μ</span> and <span data-ams-style="monospace">ν</span> respectively.</p>
      <p>The lemmas <span data-ams-style="monospace">map_add</span> and <span data-ams-style="monospace">map_smul</span> are part of the Mathlib library, and they are labeled with the <em>attribute</em> <span data-ams-style="monospace">@[simp]</span>. This attribute tells Lean that the lemma should be added to the database of lemmas that <span data-ams-style="monospace">simp</span> uses to simplify expressions. And that is the reason why the <span data-ams-style="monospace">simp</span> tactic could prove the goal in one go: it chained together the <span data-ams-style="monospace">rw</span> steps that we spelled out step by step in the calculation above.</p>
      <p>One of the challenges of formalization is that we often need to spell out, in painful detail, inferences that seem obvious or straightforward to us. The more we can get the computer to fill in, the better. The simplifier is an important example of <em>automated reasoning</em> that can help in this respect. The <span data-ams-style="monospace">module</span> tactic is another.</p>
      <p>Broadly speaking, there are two classes of automation. Firstly, there is <em>general purpose</em> automation. One example that we have seen is the <span data-ams-style="monospace">simp</span> tactic, the simplifier. Another example is <span data-ams-style="monospace">aesop</span>, a tactic that provides “Automated Extensible Search for Obvious Proofs.” In the proof assistant Isabelle, there is a tool called <span data-ams-style="monospace">sledgehammer</span>, which can search for proofs using a large database of lemmas. And recently AI copilots have demonstrated the ability to suggest tactics and fill in parts of proofs in Lean. The wide applicability of these general-purpose tools is balanced by the fact that, at least for now, they can only assist with proofs that are relatively straightforward.</p>
      <p>The other class of automation is <em>domain-specific</em> automation. Here we have also seen an example: the <span data-ams-style="monospace">module</span> tactic. Other examples include the <span data-ams-style="monospace">ring</span> tactic, which solves equations in commutative rings, the <span data-ams-style="monospace">linarith</span> tactic, which solves linear arithmetic problems, and the <span data-ams-style="monospace">fun_prop</span> tactic, which proves that functions satisfy a given property such as “continuity” or “measurability.” These tactics are less general; they typically have a well-defined and narrow scope, but they can be very powerful in their domain of applicability. A prime example of this approach comes from the use of software tools known as SAT solvers and SMT solvers: if a claim can be encoded as a boolean formula or a formula in some decidable theory, then these can be used to justify it automatically. This has been fruitfully applied in non-trivial ways, see for example <cite-group><cite><a role="doc-biblioref" data-ams-ref="bibr" href="#bibr-MR4449705">BHMN22</a></cite></cite-group>.</p>
    </section>
    <section id="ltxid10" data-ams-doc="section" data-ams-doc-level="1">
      <h2><span data-ams-doc="title">Generalizing the Hypotheses</span></h2>
      <p>Often, one of the first things we do when we have proved a lemma or a theorem is check whether the hypotheses can be weakened, in order to increase its applicability. Proof assistants are especially helpful in this respect, because they enable us to tinker with hypotheses interactively and see what breaks. Returning to our example, upon verifying the initial result, you might wonder: what are the minimal assumptions that we need to make this proof go through? Let’s experiment. The proof never mentions inverses of scalars, so it should work for a larger class of rings. In a first attempt, we might try to replace the vector space <span data-ams-style="monospace">V</span> by an arbitrary module <span data-ams-style="monospace">M</span> as follows:</p>
      <pre>variable {R M : Type}
  [Ring R] [AddCommGroup M] [Module R M]</pre>
      <p>But Lean complains at the first step in the calculation, which requires <span data-ams-style="monospace">b • ν • y = ν • b • y</span>. We can address this by assuming that the ring of scalars is commutative. However, after making that change, the final step of the proof is still broken. A bit of reflection shows that this step uses the result of the calculation steps together with the assumptions <span data-ams-style="monospace">hμν : μ ≠ ν</span> and <span data-ams-style="monospace">hx₀ : x ≠ 0</span> to prove that <span data-ams-style="monospace">a = 0</span>. In other words, we need the additional property that <span data-ams-style="monospace">r • m = 0</span> implies that <span data-ams-style="monospace">r = 0</span> or <span data-ams-style="monospace">m = 0</span> for every <span data-ams-style="monospace">r</span> in <span data-ams-style="monospace">R</span> and <span data-ams-style="monospace">m</span> in <span data-ams-style="monospace">M</span>. Mathlib expresses this as the property <span data-ams-style="monospace">NoZeroSMulDivisors R M</span>, and we can add that assumption as follows:</p>
      <pre>variable {R M : Type}
  [CommRing R] [AddCommGroup M] [Module R M]
  [NoZeroSMulDivisors R M]

example (f : M →ₗ[R] M)
  (μ ν : R) (hμν : μ ≠ ν)
  (x y : M) (hx₀ : x ≠ 0) (hy₀ : y ≠ 0)
  (hx : f x = μ • x) (hy : f y = ν • y) :
  ∀ a b : R, a • x + b • y = 0 → a = 0 ∧ b = 0</pre>
      <p>Lean accepts this statement with the same proof as before! We have therefore obtained a more general theorem without changing a single character of the proof.</p>
    </section>
    <section id="ltxid11" data-ams-doc="section" data-ams-doc-level="1">
      <h2><span data-ams-doc="title">Strengthening the Theorem</span></h2>
      <p>Let’s see if we can strengthen your result even further. You started with a basic version involving vector spaces over fields and only two eigenvectors, and we just generalized it to suitable modules over commutative rings. Where can we go from here?</p>
      <p>Let’s try to generalize the theorem to arbitrary families of eigenvectors. To do this, we will need to think carefully about how to express, in Lean, the fact that an arbitrary family of vectors is linearly independent. We could write down a definition from scratch, but it makes sense to see if we can take advantage of things that are already in the library. If we navigate to the Mathlib documentation webpage ⁠<a id="fnlink-ltxid12-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid12"><span>Footnote</span><sup>1</sup></a> and start typing <span data-ams-style="monospace">linear independent</span> in the search box, one of the first few results that comes up is the following:</p>
      <pre>def LinearIndependent {ι : Type}
  (R : Type) {M : Type}
  (v : ι → M) [Semiring R]
  [AddCommMonoid M] [Module R M] :
  Prop</pre>
      <p>Here <span data-ams-style="monospace">R</span> and <span data-ams-style="monospace">M</span> are the relevant ring and module, as before, <span data-ams-style="monospace">ι</span> is an indexing type, and <span data-ams-style="monospace">v</span> is a family of elements of <span data-ams-style="monospace">M</span> indexed by <span data-ams-style="monospace">ι</span>. It is standard, and convenient, to represent a family <span data-ams-doc="math inline"><svg aria-braillelabel="⠷⠧⠰⠊⠐⠾⠰⠊⠀⠰⠈⠑⠀⠨⠊" aria-label="left parenthesis v Subscript i Baseline right parenthesis Subscript i element of iota" data-owns="10 8" style="vertical-align: -0.451ex;" xmlns="http://www.w3.org/2000/svg" width="5.129ex" height="1.946ex" role="tree" focusable="false" viewBox="0 -716 2456.7 932" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation"><g role="presentation" data-owns-id="9"><g data-owns="0 3 4" aria-hidden="true" role="treeitem" aria-braillelabel="⠷⠧⠰⠊⠐⠾" aria-label="Base left parenthesis v Subscript i Baseline right parenthesis" aria-setsize="2" aria-posinset="1" aria-level="1" data-owns-id="10"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠷" aria-label="left parenthesis" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="0" transform="translate(0 -20)"><use role="presentation" xlink:href="#MJX-STX-N-28"></use></g><g data-owns="1 2" aria-hidden="true" role="treeitem" aria-braillelabel="⠧⠰⠊⠐" aria-label="v Subscript i Baseline" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="3" transform="translate(357,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠧" aria-label="Base v" aria-setsize="2" aria-posinset="1" aria-level="3" data-owns-id="1"><use role="presentation" xlink:href="#MJX-STX-I-1D463"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠊" aria-label="Subscript i" aria-setsize="2" aria-posinset="2" aria-level="3" data-owns-id="2" transform="translate(537,-150) scale(0.707)"><use role="presentation" xlink:href="#MJX-STX-I-1D456"></use></g></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠾" aria-label="right parenthesis" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="4" transform="translate(1137.7,0) translate(0 -20)"><use role="presentation" xlink:href="#MJX-STX-N-29"></use></g></g><g data-owns="5 6 7" aria-hidden="true" role="treeitem" aria-braillelabel="⠊⠀⠰⠈⠑⠀⠨⠊" aria-label="Subscript i element of iota" aria-setsize="2" aria-posinset="2" aria-level="1" data-owns-id="8" transform="translate(1527.7,-150) scale(0.707)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠊" aria-label="i" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="5"><use role="presentation" xlink:href="#MJX-STX-I-1D456"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠈⠑" aria-label="element of" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="6" transform="translate(274,0)"><use role="presentation" xlink:href="#MJX-STX-N-2208"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠊" aria-label="iota" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="7" transform="translate(994,0)"><use role="presentation" xlink:href="#MJX-STX-I-1D704"></use></g></g></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$(v_i)_{i \in \iota }$</span></span> of elements of <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠍" aria-label="upper M" style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.908ex" height="1.372ex" role="img" focusable="false" viewBox="0 -657 914 657" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D440"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$M$</span></span> as a function <span data-ams-style="monospace">v : ι → M</span>, in which case the <span data-ams-doc="math inline"><svg aria-braillelabel="⠊" aria-label="i" style="vertical-align: -0.019ex;" xmlns="http://www.w3.org/2000/svg" width="0.572ex" height="1.407ex" role="img" focusable="false" viewBox="0 -665 274 674" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D456"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$i$</span>th</span> element, <span data-ams-doc="math inline"><svg aria-braillelabel="⠧⠰⠊" aria-label="v Subscript i" data-owns="0 1" style="vertical-align: -0.326ex;" xmlns="http://www.w3.org/2000/svg" width="1.63ex" height="1.326ex" role="tree" focusable="false" viewBox="0 -479 780.7 635.4" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation"><g role="presentation" data-owns-id="2"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠧" aria-label="Base v" aria-setsize="2" aria-posinset="1" aria-level="1" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D463"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠊" aria-label="Subscript i" aria-setsize="2" aria-posinset="2" aria-level="1" data-owns-id="1" transform="translate(537,-150) scale(0.707)"><use role="presentation" xlink:href="#MJX-STX-I-1D456"></use></g></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$v_i$</span>,</span> is simply written <span data-ams-style="monospace">v i</span>. All the arguments in curly and square brackets are generally left implicit, which is to say, we expect to write <span data-ams-style="monospace">LinearIndependent R v</span> and have Lean figure out the rest. The annotation <span data-ams-style="monospace">Prop</span> means that the expression <span data-ams-style="monospace">LinearIndependent R v</span> is a proposition, namely, the proposition that the family <span data-ams-style="monospace">v</span> is linearly independent over <span data-ams-style="monospace">R</span>. At the moment, we don’t need to know the body of the definition; we can use it as a black box.</p>
      <p>To do so, we will add an indexing type <span data-ams-style="monospace">ι</span> to the statement of our theorem, and since we also want to say that the vectors are all <em>eigenvectors</em>, we will also use <span data-ams-style="monospace">ι</span> to index a family <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠍" aria-label="mu" style="vertical-align: -0.453ex;" xmlns="http://www.w3.org/2000/svg" width="1.228ex" height="1.441ex" role="img" focusable="false" viewBox="0 -473 588 690" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D707"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\mu$</span></span> of scalars which will act as the eigenvalues. We can now formulate the statement we are after as follows:</p>
      <pre>example {R M : Type} [CommRing R]
    [AddCommGroup M] [Module R M]
    [NoZeroSMulDivisors R M]
    (f : M →ₗ[R] M)
    (μ : ι → R) (hμ : Function.Injective μ)
    (v : ι → M) (hv : ∀ i, v i ≠ 0)
    (h : ∀ i, f (v i) = μ i • v i) :
    LinearIndependent R v</pre>
      <p>Note that we have formulated the fact that we are considering <em>distinct</em> eigenvalues by assuming <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠍" aria-label="mu" style="vertical-align: -0.453ex;" xmlns="http://www.w3.org/2000/svg" width="1.228ex" height="1.441ex" role="img" focusable="false" viewBox="0 -473 588 690" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D707"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\mu$</span></span> is injective.</p>
      <p>We should check to see whether something like this theorem is already in the library. If we go back to the documentation webpage and search for <span data-ams-style="monospace">eigenvector linear independent</span>, only two results come up:</p>
      <pre>theorem
  Module.End.eigenvectors_linearIndependent
  {R : Type} {M : Type} [CommRing R]
  [AddCommGroup M] [Module R M]
  [NoZeroSMulDivisors R M]
  (f : Module.End R M)
  (μs : Set R) (xs : ↑μs → M)
  (h_eigenvec : ∀ (μ : ↑μs),
    f.HasEigenvector (↑μ) (xs μ)) :
  LinearIndependent (ι := ↑μs) R xs</pre>
      <p>and the variant</p>
      <pre>theorem
  Module.End.eigenvectors_linearIndependent&#39;
  {R : Type} {M : Type} [CommRing R]
  [AddCommGroup M] [Module R M] {ι : Type}
  [NoZeroSMulDivisors R M]
  (f : Module.End R M)
  (μ : ι → R) (hμ : Function.Injective μ)
  (v : ι → M)
  (h_eigenvec : ∀ (i : ι),
    f.HasEigenvector (μ i) (v i)) :
  LinearIndependent R v</pre>
      <p>The difference between the two is that the first is about a set of scalars and a function assigning an eigenvector to each scalar, whereas the second one is about indexed families of scalars and eigenvectors. The second one is more promising for our application, since we also chose to use indexed families of vectors and scalars. To use this theorem to prove our version, we invoke the <span data-ams-style="monospace">apply</span> tactic.</p>
      <pre>example {R M : Type} [CommRing R]
    [AddCommGroup M] [Module R M]
    [NoZeroSMulDivisors R M]
    (f : M →ₗ[R] M)
    (μ : ι → R) (hμ : Function.Injective μ)
    (v : ι → M) (hv : ∀ i, v i ≠ 0)
    (h : ∀ i, f (v i) = μ i • v i) :
    LinearIndependent R v := by
  apply Module.End.eigenvectors_linearIndependent&#39;</pre>
      <p>This leaves us with a number of goals:</p>
      <dl data-ams-content-type="enumerate">
        <div><dt id="ltxid13">1.</dt> <dd><p><span data-ams-style="monospace">Function.Injective ?μ</span>, asking us to prove that something is injective.</p></dd></div>
        <div><dt id="ltxid14">2.</dt> <dd><p><span data-ams-style="monospace">∀ (i : ι), ?f.HasEigenvector (?μ i) (v i)</span>, which looks like it should have something to do with our assumptions <span data-ams-style="monospace">h</span> and <span data-ams-style="monospace">hv</span>.</p></dd></div>
        <div><dt id="ltxid15">3.</dt> <dd><p><span data-ams-style="monospace">Module.End R M</span>, asking us to provide an endomorphism of <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠍" aria-label="upper M" style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.908ex" height="1.372ex" role="img" focusable="false" viewBox="0 -657 914 657" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D440"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$M$</span>;</span> this should just be our linear map <span data-ams-style="monospace">f</span>.</p></dd></div>
        <div><dt id="ltxid16">4.</dt> <dd><p>And finally, <span data-ams-style="monospace">ι → R</span>, which will be our <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠍" aria-label="mu" style="vertical-align: -0.453ex;" xmlns="http://www.w3.org/2000/svg" width="1.228ex" height="1.441ex" role="img" focusable="false" viewBox="0 -473 588 690" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D707"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\mu$</span>.</span></p></dd></div>
      </dl>
      <p>The <span data-ams-style="monospace">?μ</span> in the first two goals and the <span data-ams-style="monospace">?f</span> in the second goal mean that Lean does not yet know how to instantiate the variables <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠍" aria-label="mu" style="vertical-align: -0.453ex;" xmlns="http://www.w3.org/2000/svg" width="1.228ex" height="1.441ex" role="img" focusable="false" viewBox="0 -473 588 690" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D707"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\mu$</span></span> and <span data-ams-doc="math inline"><svg aria-braillelabel="⠋" aria-label="f" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="1.205ex" height="1.954ex" role="img" focusable="false" viewBox="0 -711 577 936" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D453"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f$</span></span> in the theorem we have invoked. It left those tasks as the third and fourth goals; Lean expects that it will be more convenient for us to provide that information implicitly when we solve the other goals.</p>
      <p>We have made progress, but we still need to provide the information requested. We should clearly use <span data-ams-style="monospace">hμ</span> to solve the first goal, which we do by adding the next line to our proof:</p>
      <pre>apply Module.End.eigenvectors_linearIndependent&#39;
  exact hμ</pre>
      <p>As you might guess, the <span data-ams-style="monospace">exact</span> tactic tells Lean to use the assumption <span data-ams-style="monospace">hμ</span> to close the goal. As a side effect, that also closes goal 4: Lean is now able to infer that the family in question is <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠍" aria-label="mu" style="vertical-align: -0.453ex;" xmlns="http://www.w3.org/2000/svg" width="1.228ex" height="1.441ex" role="img" focusable="false" viewBox="0 -473 588 690" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D707"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\mu$</span>.</span> We then have two goals left:</p>
      <dl data-ams-content-type="enumerate">
        <div><dt id="ltxid17">1.</dt> <dd><p><span data-ams-style="monospace">∀ (i : ι), ?f.HasEigenvector (μ i) (v i)</span>, and</p></dd></div>
        
      </dl>
      <p>We know that the endomorphism of <span data-ams-doc="math inline"><svg aria-braillelabel="⠠⠍" aria-label="upper M" style="vertical-align: 0;" xmlns="http://www.w3.org/2000/svg" width="1.908ex" height="1.372ex" role="img" focusable="false" viewBox="0 -657 914 657" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D440"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$M$</span></span> should be <span data-ams-doc="math inline"><svg aria-braillelabel="⠋" aria-label="f" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="1.205ex" height="1.954ex" role="img" focusable="false" viewBox="0 -711 577 936" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D453"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f$</span>,</span> so we swap the order of the goals and give Lean this information:</p>
      <pre>apply Module.End.eigenvectors_linearIndependent&#39;
  exact hμ
  swap ; exact f</pre>
      <p>This leaves us with one last goal, namely, <span data-ams-style="monospace">∀ (i : ι), Module.End.HasEigenvector f (μ i) (v i)</span>. We need to use our assumptions <span data-ams-style="monospace">h</span> and <span data-ams-style="monospace">hv</span>, but it’s unclear how to package them together to satisfy the definition of <span data-ams-style="monospace">Module.End.HasEigenvector</span>. Instead of going back to the documentation page and looking up the definition, we can ask Lean what we have to do.</p>
      <pre>apply Module.End.eigenvectors_linearIndependent&#39;
  exact hμ
  swap ; exact f
  intro i ; constructor</pre>
      <p>As before, the <span data-ams-style="monospace">intro</span> tactic introduces an arbitrary <span data-ams-style="monospace">i</span>, and then the <span data-ams-style="monospace">constructor</span> tactic tells Lean that we are ready to provide the information needed to show that <span data-ams-style="monospace">v i</span> is an eigenvector of <span data-ams-doc="math inline"><svg aria-braillelabel="⠋" aria-label="f" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="1.205ex" height="1.954ex" role="img" focusable="false" viewBox="0 -711 577 936" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D453"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f$</span></span> with eigenvalue <span data-ams-style="monospace">μ i</span>. This makes progress, but we still have the following goals to fulfill:</p>
      <dl data-ams-content-type="enumerate">
        <div><dt id="ltxid19">1.</dt> <dd><p><span data-ams-style="monospace">v i ∈ Module.End.eigenspace f (μ i)</span></p></dd></div>
        <div><dt id="ltxid20">2.</dt> <dd><p><span data-ams-style="monospace">v i ≠ 0</span>, which is obviously an application of <span data-ams-style="monospace">hv</span>.</p></dd></div>
      </dl>
      <p>For 1, the hypothesis <span data-ams-style="monospace">h : ∀ i, f (v i) = μ i • v i</span> should do the trick, but applying it directly doesn’t work. After digging into the details, we see that this is because the eigenspace of <span data-ams-doc="math inline"><svg aria-braillelabel="⠋" aria-label="f" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="1.205ex" height="1.954ex" role="img" focusable="false" viewBox="0 -711 577 936" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D453"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f$</span></span> with respect to a scalar <span data-ams-doc="math inline"><svg aria-braillelabel="⠨⠍" aria-label="mu" style="vertical-align: -0.453ex;" xmlns="http://www.w3.org/2000/svg" width="1.228ex" height="1.441ex" role="img" focusable="false" viewBox="0 -473 588 690" xmlns:xlink="http://www.w3.org/1999/xlink"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g><g><use xlink:href="#MJX-STX-I-1D707"></use></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$\mu$</span></span> is defined as the kernel of <span data-ams-doc="math inline"><svg aria-braillelabel="⠋⠤⠨⠍⠡⠂" aria-label="f minus mu dot 1" data-owns="0 1 6" style="vertical-align: -0.47ex;" xmlns="http://www.w3.org/2000/svg" width="7.436ex" height="1.954ex" role="tree" focusable="false" viewBox="0 -711 3561.9 936" xmlns:xlink="http://www.w3.org/1999/xlink"><g role="presentation" stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g role="presentation" data-owns-id="5"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠋" aria-label="f" aria-setsize="3" aria-posinset="1" aria-level="1" data-owns-id="0"><use role="presentation" xlink:href="#MJX-STX-I-1D453"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠤" aria-label="minus" aria-setsize="3" aria-posinset="2" aria-level="1" data-owns-id="1" transform="translate(799.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-2212"></use></g><g data-owns="2 3 4" aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠍⠡⠂" aria-label="mu dot 1" aria-setsize="3" aria-posinset="3" aria-level="1" data-owns-id="6" transform="translate(1741.4,0)"><g aria-hidden="true" role="treeitem" aria-braillelabel="⠨⠍" aria-label="mu" aria-setsize="3" aria-posinset="1" aria-level="2" data-owns-id="2"><use role="presentation" xlink:href="#MJX-STX-I-1D707"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠡" aria-label="dot" aria-setsize="3" aria-posinset="2" aria-level="2" data-owns-id="3" transform="translate(810.2,0)"><use role="presentation" xlink:href="#MJX-STX-N-22C5"></use></g><g aria-hidden="true" role="treeitem" aria-braillelabel="⠂" aria-label="1" aria-setsize="3" aria-posinset="3" aria-level="2" data-owns-id="4" transform="translate(1325.4,0)"><use role="presentation" xlink:href="#MJX-STX-N-31"></use></g></g></g></g></svg><span aria-hidden="true" data-ams-doc="math tex">$f - \mu \cdot 1$</span>,</span> so we will need to convert <span data-ams-style="monospace">h</span> to this form. We could do this manually, but we can first check whether we can use a preexisting lemma from the library. The fastest way to do this, in the middle of a Lean proof, is to try the <span data-ams-style="monospace">exact?</span> tactic. This will do a search for ways of applying existing lemmas to close the goal <em>exactly</em>. This tactic doesn’t always work, but it can’t hurt to try. Aha! In this case it tells us right away that we can close the first goal by writing <span data-ams-style="monospace">exact Module.End.mem_eigenspace_iff.mpr (h i)</span>. The second goal is also easy to close by applying <span data-ams-style="monospace">hv</span>, so now we have a complete proof:</p>
      <pre>apply Module.End.eigenvectors_linearIndependent&#39;
  exact hμ
  swap ; exact f
  intro i
  constructor
  exact Module.End.mem_eigenspace_iff.mpr (h i)
  apply hv</pre>
      <p>The beginning of our proof was a bit messy, but we can clean things up to obtain a nice final result:</p>
      <pre>example {R M : Type} [CommRing R]
    [AddCommGroup M] [Module R M]
    [NoZeroSMulDivisors R M]
    (f : M →ₗ[R] M)
    (μ : ι → R) (hμ : Function.Injective μ)
    (v : ι → M) (hv : ∀ i, v i ≠ 0)
    (h : ∀ i, f (v i) = μ i • v i) :
    LinearIndependent R v := by
  apply
    Module.End.eigenvectors_linearIndependent&#39; f μ hμ
  intro i
  constructor
  · exact Module.End.mem_eigenspace_iff.mpr (h i)
  · apply hv</pre>
      <p>The <span data-ams-style="monospace">apply</span> tactic now supplies <span data-ams-style="monospace">f</span>, <span data-ams-style="monospace">μ</span>, and <span data-ams-style="monospace">hμ</span> right away, leaving only one remaining goal.</p>
      <p>We have thus achieved the level of generality we were after. Should this theorem be added to Mathlib? Upon consideration, we should conclude that our theorem is not substantially different from <span data-ams-style="monospace">Module.End.eigenvectors_linearIndependent&#39;</span>. In our proof, we only added some plumbing and changed the way we talk about eigenvectors to match the theorem in the library. Now that we know about <span data-ams-style="monospace">Module.End.HasEigenvector</span>, it seems that this is the standard way to talk about eigenvectors in Mathlib. If we were to modify our statement to use this instead of our bespoke <span data-ams-style="monospace">h</span> and <span data-ams-style="monospace">hv</span>, our theorem would be a direct application of <span data-ams-style="monospace">Module.End.eigenvectors_linearIndependent&#39;</span>. In other words, we have come to realize that the theorem in the library is what we really wanted all along. But the good news is that we have learned a lot in the process, and we are now much more comfortable reasoning about linear independence and eigenvectors with Mathlib.</p>
    </section>
    <section id="ltxid21" data-ams-doc="section" data-ams-doc-level="1">
      <h2><span data-ams-doc="title">Using Version Control</span></h2>
      <p>Programmers and computer scientists have long made use of <em>version control</em> platforms like GitHub to work on large, collaborative software projects. Formalization has brought the same tools and methodologies to mathematics. At the time of writing, Mathlib comprises approximately 5,000 files and 1.5 million lines, written by over 300 contributors. These contributions go through an open review process on GitHub, before they are merged into the main repository. In total there have been a bit more than 30,000 contributions since Mathlib’s inception in 2017.</p>
      <p>A nice thing about version control tools is that they maintain the entire history of the project, allowing us to see what has changed and when. For example, we can trace the history of the concept of “linear independence” in Mathlib. It all started on December 7, 2017, when Johannes Hölzl committed⁠<a id="fnlink-ltxid22-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid22"><span>Footnote</span><sup>2</sup></a> the file <span data-ams-style="monospace">algebra/linear_algebra/basic.lean</span> to the repository. The file was 708 lines long, and on line 186 it contained a definition of linear independence.</p>
      <pre>def linear_independent (s : set β) : Prop :=
  ∀ l : lc α β, (∀x∉s, l x = 0) →
    l.sum (λv c, c • v) = 0 → l = 0</pre>
      <p>The terms <span data-ams-style="monospace">l</span> quantify over <span data-ams-style="monospace">lc α β</span>, the type of all linear combinations of elements of <span data-ams-style="monospace">β</span> with coefficients in <span data-ams-style="monospace">α</span>.</p>
      <p>On March 10, 2018, an administrative operation⁠<a id="fnlink-ltxid23-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid23"><span>Footnote</span><sup>3</sup></a> moved <span data-ams-style="monospace">linear_algebra/</span> out of <span data-ams-style="monospace">algebra/</span> so that it became a top-level folder. Another such move occurred on January 15, 2019, when Simon Hudon moved⁠<a id="fnlink-ltxid24-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid24"><span>Footnote</span><sup>4</sup></a> all the mathematical content into <span data-ams-style="monospace">src/</span> to separate it from the tests and other auxiliary files.</p>
      <p>On July 3, 2019, Alexander Bentkamp morphed⁠<a id="fnlink-ltxid25-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid25"><span>Footnote</span><sup>5</sup></a> the definition into</p>
      <pre>def linear_independent : Prop :=
  (finsupp.total ι M R v).ker = ⊥</pre>
      <p>In other words, a collection of vectors <span data-ams-style="monospace">v</span> in <span data-ams-style="monospace">M</span> is linearly independent if the natural map from the free module generated by the vectors <span data-ams-style="monospace">v</span> to <span data-ams-style="monospace">M</span> has trivial kernel.</p>
      <p>Then, on October 5, 2020, Anne Baanen split⁠<a id="fnlink-ltxid26-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid26"><span>Footnote</span><sup>6</sup></a> linear independence and the accumulated supporting theory into a separate file: <span data-ams-style="monospace">src/linear_algebra/linear_independent.lean</span>. The file was 918 lines long. The story continued on February 23, 2023, when Pol’tta / Miyahara Kō ported⁠<a id="fnlink-ltxid27-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid27"><span>Footnote</span><sup>7</sup></a> the file to Lean 4 as part of a massive collaborative effort to move all of Mathlib to the new version of Lean. The filename is now <span data-ams-style="monospace">Mathlib/LinearAlgebra/LinearIndependent.lean</span>, and it lives in the new <span data-ams-style="monospace">mathlib4</span> repository on GitHub. The definition has not changed substantially since the change by Bentkamp. At the time of writing, it reads as follows:</p>
      <pre>def LinearIndependent : Prop :=
  LinearMap.ker (Finsupp.total ι M R v) = ⊥</pre>
    </section>
    <section id="ltxid28" data-ams-doc="section" data-ams-doc-level="1">
      <h2><span data-ams-doc="title">Conclusions</span></h2>
      <p>The earliest programs for checking mathematical proofs include Nicolaas de Bruijn’s Automath system, launched in 1967, and Andrzej Trybulec’s Mizar system, launched in 1973. Since then, dozens of proof assistants have been developed; Coq, Isabelle, and HOL Light are among the more prominent ones still in use today. The Lean project, launched by Leonardo de Moura in 2013, is a relative newcomer. A special issue of the <em>Notices</em>, with articles by John Harrison <cite-group><cite><a role="doc-biblioref" data-ams-ref="bibr" href="#bibr-MR2463992">Har08</a></cite></cite-group>, Thomas Hales <cite-group><cite><a role="doc-biblioref" data-ams-ref="bibr" href="#bibr-MR2463990">Hal08</a></cite></cite-group>, and Freek Wiedijk <cite-group><cite><a role="doc-biblioref" data-ams-ref="bibr" href="#bibr-MR2463993">Wie08</a></cite></cite-group>, surveyed the state of the field in 2008. We have come a long way since then.</p>
      <p>Proof assistants are now commonly used in industry to verify hardware, software, network protocols, cryptographic protocols, cyberphysical systems, and more. Mathematicians have only recently begun to embrace the technology, and it is becoming clear that there are several benefits to representing mathematics in digital form. Just as the word processor opened up new opportunities for written expression and communication, the digitization of mathematics opens up new opportunities for mathematical research and teaching.⁠<a id="fnlink-ltxid29-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid29"><span>Footnote</span><sup>8</sup></a> The practical benefits are not the only motivation; to many of us, formalizing mathematics feels like the right thing to do. Mathematical definitions and theorems <em>deserve</em> to be rendered digitally.</p>
      <p>It is also becoming clear that the technology is here to stay. Mathlib currently has roughly 1.5 million lines of code and continues to grow. Important results, including foundations for Clausen and Scholze’s condensed mathematics,⁠<a id="fnlink-ltxid30-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid30"><span>Footnote</span><sup>9</sup></a> the polynomial Freiman–Ruzsa conjecture,⁠<a id="fnlink-ltxid31-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid31"><span>Footnote</span><sup>10</sup></a> and an exponentially improved upper bound to Ramsey’s theorem,⁠<a id="fnlink-ltxid32-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid32"><span>Footnote</span><sup>11</sup></a> have been formally verified before journal referees signed off on them. A number of collaborative verification projects have been launched, including a proof of the sphere eversion theorem⁠<a id="fnlink-ltxid33-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid33"><span>Footnote</span><sup>12</sup></a> and a proof of a strengthened version of Carlson’s theorem on pointwise almost everywhere convergence of Fourier series.⁠<a id="fnlink-ltxid34-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid34"><span>Footnote</span><sup>13</sup></a></p>
      <p>We expect that, in the years to come, AI copilots that combine neural and symbolic methods will significantly ease the burden of formalization. More dramatically, we expect that the technology we have discussed here will play a significant role in the discovery of new mathematics. Note that DeepMind’s AlphaProof, which was deemed to have performed at the level of a silver medalist at the most recent International Mathematical Olympiad,⁠<a id="fnlink-ltxid35-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid35"><span>Footnote</span><sup>14</sup></a> was trained to find formal proofs in Lean. It is exciting to think about what a synergetic combination of machine learning, symbolic methods, and user interaction will bring to mathematics in the years ahead.</p>
      <p>You can find online documentation and tutorials for all the proof assistants we have just mentioned. Lean’s lively social media channel on the Zulip platform is welcoming to newcomers, and the Lean community web pages contain links⁠<a id="fnlink-ltxid36-0" role="doc-noteref" data-ams-ref="fn" href="#ltxid36"><span>Footnote</span><sup>15</sup></a> to learning resources, like the Natural Number Game, to help you get started. Proof assistants are not easy to use, and learning to formalize mathematics requires significant time and effort. Interaction with proof assistants like Lean comes naturally, however, to those who have grown up immersed in computational technology. We have therefore found that one of the best ways to take advantage of proof assistants is to have our students help us out. Formal mathematics is a language, and only they can claim to be among the first generation of native speakers, while the rest of us struggle to master the grammar and intonation.</p>
      <p>With all the changes looming, we ought to be concerned about the ways that proof assistants and AI will change the mathematics that we know and love. It is therefore all the more important for those of us who are more settled in our careers to play an active role in the adoption of the new technologies, using our mathematical values and expertise to guide our students as they negotiate the changing landscape. The new developments offer us a wonderful opportunity to lead from behind, and it falls on all of us to support the next generation of mathematicians as they forge a path into the digital future.</p>
    </section>
    <section role="doc-acknowledgments" id="ltxid37" data-ams-doc="section" data-ams-doc-level="1">
      <h2><span data-ams-doc="title">Acknowledgment</span></h2>
      <p>We are grateful to the Hausdorff Research Institute for Mathematics for hosting three of us for the trimester program, “Prospects of Formal Mathematics,” in the summer of 2024, during which most of this article was written. We are also grateful to Paul Buckingham and three anonymous referees for helpful comments, corrections, and suggestions.</p>
    </section>
  
  
    <section role="doc-bibliography" data-ams-content-type="biblist" id="ltxid39" data-ams-doc-level="1"><h2><span data-ams-doc="title">References</span></h2><dl><dt id="bibr-MR4726989"><ams-x>[</ams-x>Avi24<ams-x>]</ams-x></dt><dd><div data-ams-doc="biblioentry"><p> Jeremy Avigad, <i>Mathematics and the formal turn</i>, Bull. Amer. Math. Soc. (N.S.) <strong>61</strong> (2024), no. 2, 225–240, DOI <a href="https://doi.org/10.1090/bull/1832">10.1090/bull/1832</a>. MR<a href="https://mathscinet.ams.org/mathscinet-getitem?mr=4726989">4726989</a>, </p><details>
  <summary><span>Show raw</span>AMSref</summary>
<code data-ams-doc="amsref">\bib{MR4726989}{article}{
  author={Avigad, Jeremy},
  title={Mathematics and the formal turn},
  journal={Bull. Amer. Math. Soc. (N.S.)},
  volume={61},
  date={2024},
  number={2},
  pages={225--240},
  issn={0273-0979},
  review={\MR {4726989}},
  doi={10.1090/bull/1832},
}
</code></details></div></dd><dt id="bibr-MR4449705"><ams-x>[</ams-x>BHMN22<ams-x>]</ams-x></dt><dd><div data-ams-doc="biblioentry"><p> Joshua Brakensiek, Marijn Heule, John Mackey, and David Narváez, <i>The resolution of Keller’s conjecture</i>, J. Automat. Reason. <strong>66</strong> (2022), no. 3, 277–300, DOI <a href="https://doi.org/10.1007/s10817-022-09623-5">10.1007/s10817-022-09623-5</a>. MR<a href="https://mathscinet.ams.org/mathscinet-getitem?mr=4449705">4449705</a>, </p><details>
  <summary><span>Show raw</span>AMSref</summary>
<code data-ams-doc="amsref">\bib{MR4449705}{article}{
  author={Brakensiek, Joshua},
  author={Heule, Marijn},
  author={Mackey, John},
  author={Narv\&#39;{a}ez, David},
  title={The resolution of Keller&#39;s conjecture},
  journal={J. Automat. Reason.},
  volume={66},
  date={2022},
  number={3},
  pages={277--300},
  issn={0168-7433},
  review={\MR {4449705}},
  doi={10.1007/s10817-022-09623-5},
}
</code></details></div></dd><dt id="bibr-MR4680264"><ams-x>[</ams-x>Buz23<ams-x>]</ams-x></dt><dd><div data-ams-doc="biblioentry"><p> Kevin Buzzard, <i>What is the point of computers? A question for pure mathematicians</i>, ICM—International Congress of Mathematicians. Vol. 2. Plenary lectures, EMS Press, Berlin, 2023, pp. 578–608. MR<a href="https://mathscinet.ams.org/mathscinet-getitem?mr=4680264">4680264</a>, </p><details>
  <summary><span>Show raw</span>AMSref</summary>
<code data-ams-doc="amsref">\bib{MR4680264}{article}{
  author={Buzzard, Kevin},
  title={What is the point of computers? A question for pure mathematicians},
  conference={ title={ICM---International Congress of Mathematicians. Vol. 2. Plenary lectures}, },
  book={ publisher={EMS Press, Berlin}, },
  date={2023},
  pages={578--608},
  review={\MR {4680264}},
}
</code></details></div></dd><dt id="bibr-MR2463990"><ams-x>[</ams-x>Hal08<ams-x>]</ams-x></dt><dd><div data-ams-doc="biblioentry"><p> Thomas C. Hales, <i>Formal proof</i>, Notices Amer. Math. Soc. <strong>55</strong> (2008), no. 11, 1370–1380. MR<a href="https://mathscinet.ams.org/mathscinet-getitem?mr=2463990">2463990</a>, </p><details>
  <summary><span>Show raw</span>AMSref</summary>
<code data-ams-doc="amsref">\bib{MR2463990}{article}{
  author={Hales, Thomas C.},
  title={Formal proof},
  journal={Notices Amer. Math. Soc.},
  volume={55},
  date={2008},
  number={11},
  pages={1370--1380},
  issn={0002-9920},
  review={\MR {2463990}},
}
</code></details></div></dd><dt id="bibr-MR2463992"><ams-x>[</ams-x>Har08<ams-x>]</ams-x></dt><dd><div data-ams-doc="biblioentry"><p> John Harrison, <i>Formal proof—theory and practice</i>, Notices Amer. Math. Soc. <strong>55</strong> (2008), no. 11, 1395–1406. MR<a href="https://mathscinet.ams.org/mathscinet-getitem?mr=2463992">2463992</a>, </p><details>
  <summary><span>Show raw</span>AMSref</summary>
<code data-ams-doc="amsref">\bib{MR2463992}{article}{
  author={Harrison, John},
  title={Formal proof---theory and practice},
  journal={Notices Amer. Math. Soc.},
  volume={55},
  date={2008},
  number={11},
  pages={1395--1406},
  issn={0002-9920},
  review={\MR {2463992}},
}
</code></details></div></dd><dt id="bibr-massot2021formalize"><ams-x>[</ams-x>Mas21<ams-x>]</ams-x></dt><dd><div data-ams-doc="biblioentry"><p> Patrick Massot, <i>Why formalize mathematics</i> (2021)., </p><details>
  <summary><span>Show raw</span>AMSref</summary>
<code data-ams-doc="amsref">\bib{massot2021formalize}{article}{
  author={Massot, Patrick},
  title={Why formalize mathematics},
  date={2021},
  url={https://www.imo.universite-paris-saclay.fr/~patrick.massot/files/exposition/why_formalize.pdf},
}
</code></details></div></dd><dt id="bibr-MR2463993"><ams-x>[</ams-x>Wie08<ams-x>]</ams-x></dt><dd><div data-ams-doc="biblioentry"><p> Freek Wiedijk, <i>Formal proof—getting started</i>, Notices Amer. Math. Soc. <strong>55</strong> (2008), no. 11, 1408–1417. MR<a href="https://mathscinet.ams.org/mathscinet-getitem?mr=2463993">2463993</a>, </p><details>
  <summary><span>Show raw</span>AMSref</summary>
<code data-ams-doc="amsref">\bib{MR2463993}{article}{
  author={Wiedijk, Freek},
  title={Formal proof---getting started},
  journal={Notices Amer. Math. Soc.},
  volume={55},
  date={2008},
  number={11},
  pages={1408--1417},
  issn={0002-9920},
  review={\MR {2463993}},
}
</code></details></div></dd></dl></section>
    
    
    
    
    <section><figure data-ams-specific-use="figure" id="ltxid47" data-ams-doc="fig"><figcaption>
        <p>Jeremy Avigad is a professor at Carnegie Mellon University. His email address is <a href="mailto://avigad@cmu.edu">avigad@cmu.edu</a>.</p>
      </figcaption>
      
      <img alt="Graphic without alt text" data-ams-height="108pt" data-ams-width="85pt" data-ams-style="null" src="https://victorpoughon.fr/pytorch-full-forward/Images/imgf873d18aa7b0063a16af75586ec37eca.png" data-ams-doc="graphic"/>
    </figure><figure data-ams-specific-use="figure" id="ltxid48" data-ams-doc="fig"><figcaption>
        <p>Johan Commelin is an assistant professor at Utrecht University, the Netherlands. His email address is <a href="mailto://j.m.commelin@uu.nl">j.m.commelin@uu.nl</a>.</p>
      </figcaption>
      
      <img alt="Graphic without alt text" data-ams-height="108pt" data-ams-width="85pt" data-ams-style="null" src="https://victorpoughon.fr/pytorch-full-forward/Images/imgf0a4fb35051cd29a7e0a811fcfa1d42a.png" data-ams-doc="graphic"/>
    </figure><figure data-ams-specific-use="figure" id="ltxid49" data-ams-doc="fig"><figcaption>
        <p>Heather Macbeth is an assistant professor at Fordham University. Her email address is <a href="mailto://hmacbeth1@fordham.edu">hmacbeth1@fordham.edu</a>.</p>
      </figcaption>
      
      <img alt="Graphic without alt text" data-ams-height="108pt" data-ams-width="85pt" data-ams-style="null" src="https://victorpoughon.fr/pytorch-full-forward/Images/img662c318e58219270499b267327fabbfc.png" data-ams-doc="graphic"/>
    </figure><figure data-ams-specific-use="figure" id="ltxid50" data-ams-doc="fig"><figcaption>
        <p>Adam Topaz is an associate professor at the University of Alberta, Canada. His email address is <a href="mailto://topaz@ualberta.ca">topaz@ualberta.ca</a>.</p>
      </figcaption>
      
      <img alt="Graphic without alt text" data-ams-height="108pt" data-ams-width="85pt" data-ams-style="null" src="https://victorpoughon.fr/pytorch-full-forward/Images/imge764d209e8c09fac705b58ff5c2ff7ce.png" data-ams-doc="graphic"/>
    </figure><p>Article DOI: <a href="https://doi.org/10.1090/noti3114">10.1090/noti3114</a></p></section><section id="ltxid51" data-ams-doc="refhead" data-ams-doc-level="1">
      <h2><span data-ams-doc="title">Credits</span></h2>
      <p>Photo of Jeremy Avigad is courtesy of Carnegie Mellon University.</p>
      <p>Photo of Johan Commelin is courtesy of Johan Commelin.</p>
      <p>Photo of Heather Macbeth is courtesy of Peter Insley.</p>
      <p>Photo of Adam Topaz is courtesy of Adam Topaz.</p>
    </section>
  
</section></article></div>
  </body>
</html>
