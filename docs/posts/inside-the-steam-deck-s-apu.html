<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/.">Original</a>
    <h1>Inside the Steam Deck&#39;s APU</h1>
    
    <div id="readability-page-1" class="page"><section>
    <p>Following an excellent <a href="https://www.youtube.com/watch?v=ERm1StY-4uY">Youtube video from HighYield</a> recently, we have learnt two things about the design of the APU used in the Steam Deck LCD version:</p>
<ul>
<li>The Steam Deck APU (codenamed <em>Van Gogh</em>) has unused parts with a lot more cores. And it is very likely that the exact same APU was also used for the <em>Magic Leap 2 AR glasses</em>, which makes use of such cores.</li>
<li>The Steam Deck APU used in the <a href="https://boilingsteam.com/steam-deck-revision-internal-changes/">OLED version</a> may be the first chipset entirely made for the Steam Deck platform, with a smaller footprint not just thanks to the 6nm lithography, but because the unused cores were removed.</li>
</ul>
<p>Now that you know what we are going to look at, let’s see the whole story in pictures.</p>
<h2 id="the-steam-deck-apu">The Steam Deck APU</h2>
<p>The Van Gogh APU combines a high-performance CPU with AMD RDNA 2 architecture-based GPU cores, delivering good graphics and processing capabilities with a focus on energy efficiency. It makes it a good candidate for handheld devices like the Steam Deck.</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/valve_steam_deck_van_gogh_apu.avif" alt=""/></p>
<p>Thanks to the <a href="https://www.flickr.com/people/130561288@N04/">detailed pictures of Fritzchens Fritz</a> we now have a clear idea of how the Van Gogh APU is split, in details.</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/valve_steam_deck_van_gogh_apu_slice_far.avif" alt=""/></p>
<p>Another angle:</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/valve_steam_deck_van_gogh_apu_slice.avif" alt=""/></p>
<h2 id="the-memory-and-cpu-cores">The Memory and CPU Cores</h2>
<p>As expected we can see the memory controllers just next to the CPU cores. There are 4 CPU cores, and they all share the L3-level cache which is just built in between the CPU cores.</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/steam_deck_apu_cpu_and_ram.avif" alt=""/></p>
<p>So far, nothing surprising, and you can see how small the CPU cores actually are in modern processors.</p>
<h2 id="the-gpu">The GPU</h2>
<h3 id="the-rdna-2-gpu-cores">The RDNA 2 GPU Cores</h3>
<p>The GPU cores are separate in 4 WGP (workgroup processors).</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/steam_deck_apu_gpu_cores.avif" alt=""/></p>
<p>They feature several sub-parts:</p>
<ul>
<li>Several layers of cache</li>
<li>4 units of 32 ALUs (Arithmetic Logic Units) for vector processing</li>
<li>2 units of 4 TMUs (Texture Mapping Units) together with Ray-Tracing units.</li>
</ul>
<p>While it may come as a surprise, the Steam Deck can actually do some Ray-Tracing while it is fairly weak in that regard. It has however been implemented to support a few games such as <a href="https://www.youtube.com/watch?v=RJD3U1jhFY8">Doom Eternal</a>.</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/steam_deck_apu_gpu_in_details.avif" alt=""/></p>
<p>There is some additional GPU Misc parts that probably handle many other things (memory transfer, encoding, your guess is as good as mine) that space a significant amount of die space.</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/steam_deck_apu_cpu_and_gpu_full.avif" alt=""/></p>
<p>Of course, there are also additional connectors on the right side of the chip for various I/O ports, like SATA, USB and more.</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/steam_deck_apu_gpu.avif" alt=""/></p>
<p>But it still does not explain what we have here at the middle right side of the chip.</p>
<h3 id="the-mysterious-parts">The Mysterious parts</h3>
<p>There’s a part that represents almost 15% of the surface that is completely undocumented.</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/steam_deck_apu_mysterious_part.avif" alt=""/></p>
<p>It contains additional cores, and the heteregoneous kind. 14 additional cores to be exact.</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/steam_deck_apu_unused_parts.avif" alt=""/></p>
<p>Turns out, this part is additional GPU cores, and it seems to be completely consistent with the <a href="https://www.magicleap.com/magic-leap-2">description of the chipset used in the Magic Leap 2 AR glasses</a>.</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/magic_leap_2_glasses.avif" alt=""/></p>
<p>You can see the specs below:</p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Magic Leap 2</th>
<th>Steam Deck</th>
</tr>
</thead>
<tbody>
<tr>
<td>GPU</td>
<td>AMD RDNA 2</td>
<td>AMD RDNA 2</td>
</tr>
<tr>
<td>CPU</td>
<td>AMD 7nm Quad—core Zen 2 </td>
<td>AMD 7nm Quad—core Zen 2 </td>
</tr>
</tbody>
</table>
<p>As you can see the 14 cores seem to be clearly mentioned in the specs sheet of the Magic Leap 2, and are used for image processing. While some of the frequencies used internally between the two chipsets are different (the Steam Deck uses higher frequencies) it’s plausible that they share the exact same architecture, and that these 14 additional cores visible on the Steam Deck LCD APU were actually made for the Magic Leap 2 in the first place.</p>
<h2 id="differences-between-the-lcd-and-oled-steam-deck-apu">Differences between the LCD and OLED Steam Deck APU</h2>
<p>The video continues by explaining that the difference in surface area between the Steam Deck LCD APU and the new version as found on the <a href="https://boilingsteam.com/steam-deck-revision-internal-changes/">newer Steam Deck OLED APU</a> are fairly large: the new APU is much smaller in size.</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/steam_deck_lcd_apu_vs_oled_apu.avif" alt=""/></p>
<p>This is however not consistent with the kind of progress we expect from the TSMC process when moving from 7nm to 6nm, as most of the improvements in density do not broadly apply across the board but only for specific logic circuitry.</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/tsmc_progress_density.avif" alt=""/></p>
<p>So the hypothesis, that remains to be proven, is that the Steam Deck OLED APU is actually made specifically for the Steam Deck this time, and does away with the 14 cores used by the Magic Leap 2 since they are not needed on the Steam Deck.</p>
<p><img src="https://boilingsteam.com/an-in-depth-look-at-the-steam-deck-apu/steam_deck_apu_oled_version.avif" alt=""/></p>
<p>This seems to match the huge surface reduction observed in the chip area on the new board. At that point in time, Valve would have been able to predict how many units they could expect to sell based on previous shipments, and order fully customized chips for their new Steam Deck revision.</p>
<p>This also sounds like Valve will have opportunities down the road to further customize what goes in their Steam Deck 2 platform, vs using more generic chip designs from AMD that may not fit the lower power enveloppe targeted by the Steam Deck.</p>

    
    </section></div>
  </body>
</html>
