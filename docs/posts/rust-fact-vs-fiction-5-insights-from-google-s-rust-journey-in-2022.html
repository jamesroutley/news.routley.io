<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://opensource.googleblog.com/2023/06/rust-fact-vs-fiction-5-insights-from-googles-rust-journey-2022.html">Original</a>
    <h1>Rust fact vs. fiction: 5 Insights from Google&#39;s Rust journey in 2022</h1>
    
    <div id="readability-page-1" class="page"><div id="post-body-6942912095778217977" itemprop="articleBody">
<meta content="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhwyMCr0EJofCYbJeR5kWz19KJPK2SH0MluTVYfKfgRqCZVCSXkGWZR0bDO-ya5lgLgPn4qZztvslC7NNaCSruH3f4QthYIsEShU7bltZLcBpzfrpsw1k3LDcn0Jvj07WXq1Ao24ajlQ49htAoLIiXoNvnNfpxw2UViD2xV7rfayjHuMGblqwUMRMJf7OY/s1600/Social%20-%20OSS%20-%20Experiences%20Developing%20with%20Rust%20at%20Google.png" name="twitter:image"/>
<p>

<a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgl2StelNUkPwDlX7Bc5d4alaL3jEIg8zNnGviffcg9AwMY141qY51lcQEp9xTfAyIGOA6PcKGqKEvISFwZGlB_fAcN8Jd4SHg0Lp28axpz4XremEHwnVwtqfpU1JJc487dHJez5YUL1B3nxNo9OjEheGhu-YF0Vx0Wp88yMBlLJeERPscvzU3aRRpLR8Y/s1600/Header%20-%20OSS%20-%20Experiences%20Developing%20with%20Rust%20at%20Google.png"><img data-original-height="800" data-original-width="1058" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgl2StelNUkPwDlX7Bc5d4alaL3jEIg8zNnGviffcg9AwMY141qY51lcQEp9xTfAyIGOA6PcKGqKEvISFwZGlB_fAcN8Jd4SHg0Lp28axpz4XremEHwnVwtqfpU1JJc487dHJez5YUL1B3nxNo9OjEheGhu-YF0Vx0Wp88yMBlLJeERPscvzU3aRRpLR8Y/s1600/Header%20-%20OSS%20-%20Experiences%20Developing%20with%20Rust%20at%20Google.png"/></a></p><p>Reaching version 1.0 in just 2015, <a href="https://www.rust-lang.org/" target="_blank">Rust</a> is a relatively new language with a lot to offer. Developers eyeing the performance and <a href="https://security.googleblog.com/2022/12/memory-safe-languages-in-android-13.html" target="_blank">safety guarantees that Rust provides</a>, have to wonder if it&#39;s possible to just use Rust in place of what they&#39;ve been using previously. What would happen if large companies tried to use it in their existing environment? How long would it take for developers to learn the language? Once they do, would they be productive?</p>

<p>In this post, we will analyze some data covering years of early adoption of Rust here at Google. At Google, we have been seeing increased <a href="https://opensource.googleblog.com/2021/02/google-joins-rust-foundation.html" target="_blank">Rust adoption</a>, especially in our consumer applications and platforms. Pulling from the <b>over 1,000 Google developers</b> who have authored and committed Rust code as some part of their work in 2022, weâ€™ll address some rumors head-on, both confirming some issues that could be improved and sharing some enlightening discoveries we have made along the way.</p>

<p>Weâ€™d like to particularly thank one of our key training vendors, <a href="https://ferrous-systems.com/" target="_blank">Ferrous Systems</a>, as we started our Rust adoption here at Google. We also want to highlight some new freely available self-service training materials called <a href="https://google.github.io/comprehensive-rust/" target="_blank">Comprehensive Rust ðŸ¦€</a> that we and the community have worked on over the last few quarters.</p>

<h4><strong>Rumor 1: Rust takes more than 6 months to learn â€“ <i>Debunked</i> !</strong></h4>

<p>All survey participants are professional software developers (or a related field), employed at Google. While some of them had prior Rust experience (about 13%), most of them are coming from C/C++, Python, Java, Go, or Dart.</p>

<p>Based on our studies, <b>more than 2/3 of respondents are confident in contributing to a Rust codebase within two months or less when learning Rust.</b> Further, <b>a third of respondents become as productive using Rust as other languages in two months or less.</b> Within four months, that number increased to over 50%. Anecdotally, these ramp-up numbers are in line with the time weâ€™ve seen for developers to adopt other languages, both inside and outside of Google. </p>

<p>Overall, weâ€™ve seen no data to indicate that there is <b>any</b> productivity penalty for Rust relative to any other language these developers previously used at Google. This is supported by the students who take the Comprehensive Rust ðŸ¦€ class: the questions asked on the second and third day show that experienced software developers can become comfortable with Rust in a very short time.</p>

<div><table><tbody><tr><td><center><img alt="Pie graph depicting time until confident writing Rust. Still ramping up = 8.6% (orange), 2-3 weeks = 27% (blue), 1-2 months = 39.8% (red), 3-4 months = 15.6% (yellow), More than 4 months = 9% (green)" data-original-height="1504" data-original-width="720" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjhwYvkRPKTSuF4QxMG_ncfe62x9z6kp46EZP5sLX0t2iXs5yu_awCqbx7ShBwJBAQ-uDM1wZY9OeNIFMG7g3SxQKhbyZlu9rUng13szIlJCh7ZgND1qBMlHmu4BRRDT5EWRpyTyLrIYkzZsroZUJ-ixpEUsladMyweBQI8fPVCPTCUGCL67DlbESXrUEY/s1600/image3.png" td=""/></center></td></tr><tr><td><i></i></td></tr></tbody></table></div>

<h4><strong>Rumor 2: The Rust compiler is not as fast as people would like â€“ <i>Confirmed</i> !</strong></h4>

<p>Slow build speeds were by far the #1 reported challenge that developers have when using Rust, with only a little more than 40% of respondents finding the speed acceptable.</p>

<p>There is already a fantastic community-wide effort <a href="https://perf.rust-lang.org/index.html" target="_blank">improving and tracking</a> rustc performance. This is supported by both volunteers and several companies (<a href="https://www.memorysafety.org/initiative/tools/" target="_blank">including Google</a>), and weâ€™re delighted to see <a href="https://github.com/pcwalton" target="_blank">key</a> <a href="https://nnethercote.github.io/2023/03/24/how-to-speed-up-the-rust-compiler-in-march-2023.html" target="_blank">developers</a> working in this space but clearly continuing and potentially growing additional support here would be beneficial.</p>

<h4><strong>Rumor 3: Unsafe code and interop are always the biggest challenges â€“ <i>Debunked</i> !</strong></h4>

<p>The top three challenging areas of Rust for current Google developers were:</p>
<ul>
  <li><a href="https://doc.rust-lang.org/book/ch19-06-macros.html" target="_blank">Macros</a></li>
<li><a href="https://doc.rust-lang.org/book/ch04-00-understanding-ownership.html" target="_blank">Ownership and borrowing</a></li>
<li><a href="https://rust-lang.github.io/async-book/" target="_blank">Async programming</a></li>
</ul>

<p>Writing unsafe code and handling C/C++ interop were cited as something Google developers had encountered but were not top challenges. These three other areas are places where the Rust Language Design Team has been investing in <a href="https://lang-team.rust-lang.org/roadmaps/roadmap-2024.html" target="_blank">flattening the learning curve</a> overall as well as continued <a href="https://rust-lang.github.io/wg-async/vision/roadmap.html" target="_blank">evolution</a>, and our internal survey results strongly agree with these as areas of investment.</p>

<h4><strong>Rumor 4: Rust has amazing compiler error messages â€“ <i>Confirmed</i> !</strong></h4>

<p>Rust is commonly regarded as having some of the most helpful error messages in the compiler space, and that held up in this survey as well. Only <b>9% of respondents are not satisfied with the quality of diagnostic and debugging information in Rust.</b> Feedback from Comprehensive Rust ðŸ¦€ participants shows the same: people are amazed by the compiler messages. At first this is a surprise â€“ people are used to ignoring large compiler errors, but after getting used to it, people love it.</p>

<p>The following are excerpts from an exercise some internal Googlers have been doing to practice Rust â€“ solving <a href="https://adventofcode.com/2021" target="_blank">Advent of Code 2021</a> in Rust.</p>

<p>On Day 5 of the exercises, we need to perform a search for entries within a table. The error below not only detects that our pattern matching on the result was missing a case, but also makes a suggestion for a fix.</p>
  
<div><table><tbody><tr><td><center><img alt="Image of code snippet showing error detection message for pattern matching in Rust" data-original-height="1504" data-original-width="720" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjD-aB9g0DDQ8Odng2TpvTNow7r4VdNFKLpUq2VN0i65lSwhDu_G_NGXkuFV6ajS5exUM5Ia_mzzo9ORA2wDU2Vqc5LE5HLcxpbSlVUukAnz09y98s7gKxjsYu-GI9_vgPTlAdIFVMU9fgQ1_Ne-mvteCRIZnNztMbwyyED7I4RnQXndc8I_cAR0BekZK8/s1600/image4.png" td=""/></center></td></tr><tr><td><i></i></td></tr></tbody></table></div>
  
<p>On Day 11, we need to check for whether an element is within the bounds of a grid. The Rust warning below detects that we have a redundant comparison due to the fact that the types are unsigned, and suggests code that could be removed.</p>

<div><table><tbody><tr><td><center><img alt="Image of code snippet showing error detection message for redundant comparison in Rust" data-original-height="1504" data-original-width="720" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhY2V_r9R1I65hjhqqvPrhRxCM2W0UHEtae9WY7nC2DTpuR0fEgy5y-o7W9WKKV4uJL5bGI-NqmsRXJiR_mdpBGs1F6pYRNK_v0233MCDBDgHDPoZ3Qg63Yq_w8VabMNKB1J6k6pw7BosrcGWtKPhoUgZMI63-iatrcz1xB1XkNE11rEODaUpjsuIYLxVk/s1600/image2.png" td=""/></center></td></tr><tr><td><i></i></td></tr></tbody></table></div>
  
<h4><strong>Rumor 5: Rust code is high quality â€“ <i>Confirmed</i>!</strong></h4>

<p>The respondents said that the quality of the Rust code is high â€” <b>77% of developers were satisfied with the quality of Rust code.</b> In fact, when asked to compare whether they felt that Rust code was more correct than the code that they write in other languages, an overwhelming 85% of respondents are confident that their Rust code is correct.</p>

<p>And, itâ€™s not just correctâ€”itâ€™s also easy to review. <b>More than half of respondents say that Rust code is incredibly easy to review.</b> As an engineering manager, that result is in many ways at least as interesting to me as the code authoring results, since code reviewing is at least as large a part of the role of a professional software engineer as authoring.</p>

<p>As both <a href="https://storage.googleapis.com/pub-tools-public-publication-data/pdf/22106ec30ce8259e6bd195c14a26d27535bbd317.pdf" target="_blank">we at Google</a> and <a href="https://engineering.fb.com/2022/11/16/culture/meta-code-review-time-improving/" target="_blank">others have noted</a>, developer satisfaction and productivity are correlated with both code quality and how long it takes to get a code review. If Rust is not only better for writing quality code, but also better for getting that code landed, thatâ€™s a pretty compelling set of reasons beyond even performance and memory safety for companies to be evaluating and considering adopting it. </p>

<h3>Looking forward</h3>

<p>While over a thousand developers is a good sample of engineers, we look forward to further adoption and a future survey that includes many more use cases. In addition, while many of the developers surveyed joined teams without Rust experience, this population does have more excited early adopters than we would like from a broader survey. Stay tuned over the next year for another update!</p>

<p><em>By Lars Bergstrom, PhD â€“ Android Platform Programming Languages and Kathy Brennan, PhD - Low-level Operating Systems Sr. User Experience Researcher</em></p>

  
  

</div></div>
  </body>
</html>
