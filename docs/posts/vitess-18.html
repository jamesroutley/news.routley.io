<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://planetscale.com/blog/announcing-vitess-18">Original</a>
    <h1>Vitess 18</h1>
    
    <div id="readability-page-1" class="page"><article><header><p>Vitess 18 is now generally available, with a number of new enhancements designed to improve usability, performance, and MySQL compatibility.</p></header><section><div><div><p><img alt="Announcing Vitess 18" fetchpriority="high" width="1280" height="720" decoding="async" data-nimg="1" sizes="100vw" srcset="/_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-18-blog.jpg&amp;w=640&amp;q=75 640w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-18-blog.jpg&amp;w=750&amp;q=75 750w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-18-blog.jpg&amp;w=828&amp;q=75 828w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-18-blog.jpg&amp;w=1080&amp;q=75 1080w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-18-blog.jpg&amp;w=1200&amp;q=75 1200w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-18-blog.jpg&amp;w=1920&amp;q=75 1920w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-18-blog.jpg&amp;w=2048&amp;q=75 2048w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-18-blog.jpg&amp;w=3840&amp;q=75 3840w" src="https://planetscale.com/_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-18-blog.jpg&amp;w=3840&amp;q=75"/></p></div></div></section><p><label for="toc">Table of contents</label></p><section><article><p><a href="https://vitess.io/docs/18.0/">Vitess 18</a> is now generally available, with a number of new enhancements designed to improve usability, performance, and MySQL compatibility.</p><h2 id="foreign-key-constraints"><a href="#foreign-key-constraints">Foreign key constraints</a></h2><p>In the past, foreign keys constraints had to be managed outside Vitess. This was a significant blocker for adoption. We are now able to support Vitess-managed foreign key constraints within the same shard. This includes the ability to import data into Vitess from an existing MySQL database with foreign key constraints. We plan to extend foreign key constraint support to cross-shard relationships in a future release.</p><div><p><strong>Note</strong></p><p>PlanetScale support for foreign key constraints will be available December 2023.</p></div><h2 id="general-compatibility"><a href="#general-compatibility">General compatibility</a></h2><p>The Vitess query planner has been significantly enhanced, paving the way for advanced query capabilities. The newly revamped version is more robust and flexible. This allows Vitess to provide better support for complex aggregations, sophisticated subqueries, and derived tables. Complex queries on sharded databases will perform better as a result of these changes.</p><h2 id="cobra"><a href="#cobra">Cobra</a></h2><p>The Vitess CLI has been migrated to <a href="https://github.com/spf13/cobra">cobra</a>.<!-- --> <!-- -->In addition to standardizing and modernizing our CLI infrastructure, this change provides two major benefits.</p><p>We now auto-generate reference documentation for both released and development versions of Vitess.</p><p>This means that developers spend less time performing mechanical documentation changes and more time on features, bug fixes, and more in-depth documentation, and end users get more reliably up-to-date reference docs.</p><p>In addition, Vitess commands now support shell completion:</p><p><img alt="Vitess commands support shell completion" loading="lazy" decoding="async" data-nimg="fill" sizes="(min-width: 1024px) 1024px, 100vw" srcset="/_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-commands-shell-completion.gif&amp;w=640&amp;q=75 640w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-commands-shell-completion.gif&amp;w=750&amp;q=75 750w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-commands-shell-completion.gif&amp;w=828&amp;q=75 828w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-commands-shell-completion.gif&amp;w=1080&amp;q=75 1080w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-commands-shell-completion.gif&amp;w=1200&amp;q=75 1200w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-commands-shell-completion.gif&amp;w=1920&amp;q=75 1920w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-commands-shell-completion.gif&amp;w=2048&amp;q=75 2048w, /_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-commands-shell-completion.gif&amp;w=3840&amp;q=75 3840w" src="https://planetscale.com/_next/image?url=%2Fassets%2Fblog%2Fcontent%2Fannouncing-vitess-18%2Fvitess-commands-shell-completion.gif&amp;w=3840&amp;q=75"/></p><h2 id="vtctldclient"><a href="#vtctldclient">Vtctldclient</a></h2><p>We have completed the migration of all client commands to <a href="https://vitess.io/docs/reference/programs/vtctldclient/">vtctldclient</a>. The legacy vtctl/vtctlclient binaries are now fully deprecated and we plan to remove them in Vitess 19.</p><p>This migration provides several benefits:</p><ul><li>Clean separation of commands makes it easier to develop new features without impacting other commands.</li><li>It presents an API that other clients (both Vitess and third-party) can use to interface with Vitess.</li><li>It enables future features. For example, we can now use configuration files and start building support for dynamic configuration.</li></ul><h2 id="vreplication-and-online-ddl"><a href="#vreplication-and-online-ddl">VReplication and online DDL</a></h2><p>We now have the ability to import data with foreign key relationships, in such a way that we properly maintain those relationships.</p><p>Also, we now support near-zero downtime migration of data from an external database. Previously, there was a perceptible cutover duration during which queries would error out.</p><p>Online DDL can now provide better progress estimates.</p><h2 id="point-in-time-recoveries"><a href="#point-in-time-recoveries">Point in time recoveries</a></h2><p>While Vitess has supported Point in Time Recovery for years, the functionality was dependent on running a binlog server and was not widely used. In this release, we add the ability to restore to a specific timestamp without relying on an external binlog server. Recovery to a known GTID position without a binlog server has been supported since Vitess 17.</p><p>The old functionality that relied on a binlog server is now deprecated and will be removed in a future release.</p><h2 id="tablet-throttler"><a href="#tablet-throttler">Tablet throttler</a></h2><p>The throttler now uses gRPC for communication with other tablets instead of http except as a fallback during version upgrades. The use of http was a security concern and it will be removed in the next release.</p><h2 id="arewefastyet"><a href="#arewefastyet">Arewefastyet</a></h2><p><a href="https://benchmark.vitess.io">Arewefastyet</a>, our benchmarking system, now has a new look aimed at improving the reliability and usability of the website. We have also made several bug fixes and enhancements to the benchmarking system.</p><h2 id="try-it-out"><a href="#try-it-out">Try it out</a></h2><p>We are very pleased with the great strides we have made with v18 and hope that you will be as well. We encourage all current users of Vitess and everyone who has been considering it to try this new <a href="https://github.com/vitessio/vitess/releases/tag/v18.0.0">release</a>! We also look forward to your feedback, which can be provided via <a href="https://github.com/vitessio/vitess/issues/new/choose">Vitess GitHub issues</a> or the <a href="https://vitess.slack.com/">Vitess Slack</a>.</p></article></section></article></div>
  </body>
</html>
