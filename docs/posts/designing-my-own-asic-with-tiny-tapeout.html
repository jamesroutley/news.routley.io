<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://teaandtechtime.com/designing-my-very-own-asic-with-tiny-tapeout/">Original</a>
    <h1>Designing my own ASIC with tiny tapeout</h1>
    
    <div id="readability-page-1" class="page"><div>
			
<p>First, what is an ASIC? An ASIC is an Application Specific Integrated Circuit which basically means that it is an Integrated Circuit on a single piece of silicon and its use is limited to a particular application or function. An example would be an ASIC to process an audio CODEC or run a specific cryptographic function. But why is creating one so difficult? </p>



<p>Cost! From all the tool licensing and the fab costs can reach nearly 1 Million dollars! That is not something the normal maker has on hand. This also does not include the actual engineering cost of designing all the IP that goes into the chip. So what has changed? A new open-source Process Development Kit from Google and Skywater and the OpenLane ASIC tools from Efabless was released. This allowed anyone to get started designing their own ASICs. But what about the fabrication costs? Well, those are still expensive but not to the same degree since there are now options to share designs on the same silicon wafer being produced. These are called Shuttles and there is even a free one based on a lottery system.</p>



<h2>Hackaday Supercon Tiny Tapeout Class</h2>


<div>
<figure><img data-attachment-id="4666" data-permalink="https://teaandtechtime.com/img_5712/" data-orig-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5712-scaled.jpg?fit=2560%2C1920&amp;ssl=1" data-orig-size="2560,1920" data-comments-opened="0" data-image-meta="{&#34;aperture&#34;:&#34;1.8&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;iPhone X&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;1667745148&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;4&#34;,&#34;iso&#34;:&#34;32&#34;,&#34;shutter_speed&#34;:&#34;0.033333333333333&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;1&#34;}" data-image-title="img_5712" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5712-scaled.jpg?fit=300%2C225&amp;ssl=1" data-large-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5712-scaled.jpg?fit=1024%2C768&amp;ssl=1" decoding="async" width="1024" height="768" src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5712.jpg?resize=1024%2C768&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5712-scaled.jpg?resize=1024%2C768&amp;ssl=1 1024w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5712-scaled.jpg?resize=300%2C225&amp;ssl=1 300w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5712-scaled.jpg?resize=768%2C576&amp;ssl=1 768w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5712-scaled.jpg?w=2172&amp;ssl=1 2172w" data-lazy-sizes="(max-width: 1024px) 100vw, 1024px" data-lazy-src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5712.jpg?resize=1024%2C768&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/><figcaption>Matt Venn teaching the Hackaday Supercon 2022 Tiny-Tapeout Workshop</figcaption></figure></div>


<p>I had heard about these developments since it is closely related to my line of work FPGA development. But didn’t really have the opportunity until last year’s Hackaday Supercon where I was able to sign up for a workshop introduction to the open ASIC tools and the Tiny Tapeout project.</p>



<blockquote>
<p>TinyTapeout is an educational project that makes it easier and cheaper than ever to get your digital designs manufactured on a real chip!</p>
<cite><a href="https://tinytapeout.com/">https://tinytapeout.com/</a></cite></blockquote>



<p>The Tiny-Tapeout project takes one of the spots of the silicon shuttle and further divides that into smaller designs that build infrastructure to help bring up the design and get started.</p>



<p>This workshop was taught by Matt Venn who also runs the Zero to ASIC online course that does exactly what the name implies, teaching you the basics Al the way through using the tools to design your own chip.</p>



<p><a href="https://zerotoasiccourse.com/">Zero-to-ASIC Course</a></p>


<div>
<figure><img data-attachment-id="4669" data-permalink="https://teaandtechtime.com/img_5711-2/" data-orig-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5711-edited.jpg?fit=1224%2C1224&amp;ssl=1" data-orig-size="1224,1224" data-comments-opened="0" data-image-meta="{&#34;aperture&#34;:&#34;1.8&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;iPhone X&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;1667745059&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;4&#34;,&#34;iso&#34;:&#34;100&#34;,&#34;shutter_speed&#34;:&#34;0.11111111111111&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;1&#34;}" data-image-title="img_5711" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5711-edited.jpg?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5711-edited.jpg?fit=1024%2C1024&amp;ssl=1" decoding="async" src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5711-edited.jpg?w=389&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5711-edited.jpg?w=1224&amp;ssl=1 1224w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5711-edited.jpg?resize=300%2C300&amp;ssl=1 300w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5711-edited.jpg?resize=1024%2C1024&amp;ssl=1 1024w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5711-edited.jpg?resize=150%2C150&amp;ssl=1 150w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5711-edited.jpg?resize=768%2C768&amp;ssl=1 768w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5711-edited.jpg?resize=180%2C180&amp;ssl=1 180w" data-lazy-sizes="(max-width: 1086px) 100vw, 1086px" data-lazy-src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5711-edited.jpg?w=389&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/><figcaption>Open Source Silicon Chip</figcaption></figure></div>


<p>Since we only had a few hours at Supercon there was obviously not enough time for the participants to design everything. But we did go through the digital logic tutorials in Wokwi. This browser-based software can be used to simulate a variety of hardware but we were using it to connect up logic gates and flip flops.</p>



<blockquote>
<p>Wokwi is an online Electronics simulator. You can use it to simulate Arduino, ESP32, and many other popular boards, parts and sensors.</p>
<cite><a href="https://docs.wokwi.com/">https://docs.wokwi.com/</a></cite></blockquote>


<div>
<figure><img data-attachment-id="4668" data-permalink="https://teaandtechtime.com/img_5710/" data-orig-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5710-scaled.jpg?fit=2560%2C1920&amp;ssl=1" data-orig-size="2560,1920" data-comments-opened="0" data-image-meta="{&#34;aperture&#34;:&#34;1.8&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;iPhone X&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;1667742807&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;4&#34;,&#34;iso&#34;:&#34;40&#34;,&#34;shutter_speed&#34;:&#34;0.05&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;1&#34;}" data-image-title="img_5710" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5710-scaled.jpg?fit=300%2C225&amp;ssl=1" data-large-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5710-scaled.jpg?fit=1024%2C768&amp;ssl=1" decoding="async" width="1024" height="768" src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5710.jpg?resize=1024%2C768&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5710-scaled.jpg?resize=1024%2C768&amp;ssl=1 1024w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5710-scaled.jpg?resize=300%2C225&amp;ssl=1 300w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5710-scaled.jpg?resize=768%2C576&amp;ssl=1 768w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5710-scaled.jpg?w=2172&amp;ssl=1 2172w" data-lazy-sizes="(max-width: 1024px) 100vw, 1024px" data-lazy-src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/img_5710.jpg?resize=1024%2C768&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/><figcaption>Wokwi Logic Tutorial</figcaption></figure></div>


<p>But once you have the circuit designed using the Wokwi components you can submit the design to the Tiny-Tapeout project by forking their template repo, adding the Wokwi ID to the documentation, and running two GitHub actions that run a design rules check, then creating the ASIC block.</p>



<p>But what do I want to build, I couldn’t go too crazy as there is a space and IO limitation that makes processing a challenge.</p>



<h2>Tiny-Tapeout Constraints</h2>



<p>The design constraints in the Tiny-Tapeout ASIC are pretty limiting when compared to the enormous design space of traditional ASICs but we are just starting so it’s good to have some limitations. First is the IO constraint, we are limited to 8 input pins and 8 output pins, this includes any control and clock signals that our design might need. Next is the area constraint, each design was recently increased to 150 x 170 um for Tiny-Tapeout 2. This is approximately enough for 1000 logic gates.</p>



<h2>My ASIC Design Part 1</h2>



<p>I decided to take on an ambitious design that I could use to test out my digital logic design and signal processing skills, so I decided to try building an FIR filter! An FIR filter is a Finite Impulse Response filter that is used everywhere in Digital Signal Processing (DSP). They are used to create low pass, high pass, and bandpass filters performing signal conditioning before other signal processing functions.</p>



<p>Due to the space and io constraints, I could not design a very useful FIR filter but it was a good exercise in digital design and kept me interested in completing the project by the deadline!</p>



<h3>Building Blocks</h3>



<p>My design methodology was to build incremental blocks of digital logic that I could then chain together into the larger functionality of a filter. This is because I needed to do several math functions like adding and multiplying. </p>



<p>I decided to create a 4-bit 2-tap FIR filter, this fits within the original size constraints and takes advantage of the full 8-bit output. This leaves inputs for a clock signal, three selection signals that we need to allow loading of the filter taps and testing, and then four inputs for tap and signal data.</p>



<p>In the Wokwi logic options, we don’t have an adder block but we do have basic and, or, nor, xor, etc gates. These can be connected together to make a full adder circuit that takes in 2 bits (and a carry bit) and outputs the sum (and a carry bit) shown in the circuit diagram below.</p>





<p>These adder instances can be chained together through the carry signal to create the 4-bit adder that we need for the filter.</p>





<p><a href="https://www.electronicshub.org/binary-adder-and-subtractor/">binary-adder-and-subtractor Logic Reference</a></p>



<p>To create the multiplier logic needed to multiply the Tap with the incoming signal I used the adder design with and gates replicating the circuit below.</p>





<p><a href="https://electronics.stackexchange.com/questions/289224/4-by-4-bit-multiplier-logisim-help">4-by-4-bit-multiplier Logic Reference</a></p>



<p>Then in order to combine the output from the two tap multiplications I created an 8-bit adder by extending the carry chain of 2 4-bit adders.</p>



<p>That’s most of the mathematical functions taken care of, but there is more to implementing a filter than just math. We need control logic to correctly feed the mathematical functions with data to operate on. </p>



<p>For an FIR filter, we need a way to store the multiplication tap weights that influence the type of filter that we want to process the incoming data. This means that we need our circuit to store data, but up until this point we have only been using logic gates to process high or low values, how do we make these store data? </p>



<p>This is done using what is commonly known as a flip-flop shown in its primitive, where data is loaded into it via an enable signal.  </p>





<p>Thankfully we don’t need to replicate this logic in Wokwi, as there is a flip-flop component. </p>



<p>This is pretty good but in order to load the taps one at a time without overwriting them I decided to add a modification to data storage by adding a second flip-flop and a nor gate on the enable into the first element.</p>





<p>So what does this do? it makes the data available on the output dependent on the enable signal change so when it goes from high to low or low to high. this can then be chained with a pulse generator to create a reliable loading mechanism that can be tied to a clock.</p>



<p>Now we also need to implement a delay line that feeds each of the taps with the input signal data. this can be accomplished with just a simple set of flip-flops as we don’t need the complex loading mechanism.</p>



<p><a href="http://cpuville.com/Educational/Registers.html">Registers Logic Reference</a></p>



<p>After creating all of the digital processing logic I also needed to think about how I was going to test the hardware functionality when I ultimately receive my design in hardware. For this, I decided to multiplex several signals so that I could easily test the functional blocks in the design like the multiply operation independent of the rest of the filter.</p>



<figure data-carousel-extra="{&#34;blog_id&#34;:1,&#34;permalink&#34;:&#34;https:\/\/teaandtechtime.com\/designing-my-very-own-asic-with-tiny-tapeout\/&#34;}">
<figure><img data-attachment-id="4657" data-permalink="https://teaandtechtime.com/designing-my-very-own-asic-with-tiny-tapeout/asic_mux_output_stage/" data-orig-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_mux_output_stage.png?fit=1464%2C966&amp;ssl=1" data-orig-size="1464,966" data-comments-opened="0" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="asic_mux_output_stage" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_mux_output_stage.png?fit=300%2C198&amp;ssl=1" data-large-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_mux_output_stage.png?fit=1024%2C676&amp;ssl=1" decoding="async" width="1024" height="676" data-id="4657" src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_mux_output_stage.png?resize=1024%2C676&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_mux_output_stage.png?resize=1024%2C676&amp;ssl=1 1024w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_mux_output_stage.png?resize=300%2C198&amp;ssl=1 300w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_mux_output_stage.png?resize=768%2C507&amp;ssl=1 768w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_mux_output_stage.png?w=1464&amp;ssl=1 1464w" data-lazy-sizes="(max-width: 1024px) 100vw, 1024px" data-lazy-src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_mux_output_stage.png?resize=1024%2C676&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></figure>



<figure><img data-attachment-id="4655" data-permalink="https://teaandtechtime.com/designing-my-very-own-asic-with-tiny-tapeout/asic_8-bit_adder_mux_stage/" data-orig-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_8-bit_adder_mux_stage.png?fit=1633%2C964&amp;ssl=1" data-orig-size="1633,964" data-comments-opened="0" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="asic_8-bit_adder_mux_stage" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_8-bit_adder_mux_stage.png?fit=300%2C177&amp;ssl=1" data-large-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_8-bit_adder_mux_stage.png?fit=1024%2C604&amp;ssl=1" decoding="async" width="1024" height="604" data-id="4655" src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_8-bit_adder_mux_stage.png?resize=1024%2C604&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_8-bit_adder_mux_stage.png?resize=1024%2C604&amp;ssl=1 1024w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_8-bit_adder_mux_stage.png?resize=300%2C177&amp;ssl=1 300w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_8-bit_adder_mux_stage.png?resize=768%2C453&amp;ssl=1 768w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_8-bit_adder_mux_stage.png?resize=1536%2C907&amp;ssl=1 1536w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_8-bit_adder_mux_stage.png?w=1633&amp;ssl=1 1633w" data-lazy-sizes="(max-width: 1024px) 100vw, 1024px" data-lazy-src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_8-bit_adder_mux_stage.png?resize=1024%2C604&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></figure>



<figure><img data-attachment-id="4656" data-permalink="https://teaandtechtime.com/designing-my-very-own-asic-with-tiny-tapeout/asic_4-bit_multiplier/" data-orig-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_4-bit_multiplier.png?fit=1159%2C1005&amp;ssl=1" data-orig-size="1159,1005" data-comments-opened="0" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="asic_4-bit_multiplier" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_4-bit_multiplier.png?fit=300%2C260&amp;ssl=1" data-large-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_4-bit_multiplier.png?fit=1024%2C888&amp;ssl=1" decoding="async" width="1024" height="888" data-id="4656" src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_4-bit_multiplier.png?resize=1024%2C888&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_4-bit_multiplier.png?resize=1024%2C888&amp;ssl=1 1024w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_4-bit_multiplier.png?resize=300%2C260&amp;ssl=1 300w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_4-bit_multiplier.png?resize=768%2C666&amp;ssl=1 768w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_4-bit_multiplier.png?w=1159&amp;ssl=1 1159w" data-lazy-sizes="(max-width: 1024px) 100vw, 1024px" data-lazy-src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_4-bit_multiplier.png?resize=1024%2C888&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></figure>



<figure><img data-attachment-id="4658" data-permalink="https://teaandtechtime.com/designing-my-very-own-asic-with-tiny-tapeout/asic_input_stage/" data-orig-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_input_stage.png?fit=1132%2C874&amp;ssl=1" data-orig-size="1132,874" data-comments-opened="0" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="asic_input_stage" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_input_stage.png?fit=300%2C232&amp;ssl=1" data-large-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_input_stage.png?fit=1024%2C791&amp;ssl=1" decoding="async" width="1024" height="791" data-id="4658" src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_input_stage.png?resize=1024%2C791&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_input_stage.png?resize=1024%2C791&amp;ssl=1 1024w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_input_stage.png?resize=300%2C232&amp;ssl=1 300w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_input_stage.png?resize=768%2C593&amp;ssl=1 768w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_input_stage.png?w=1132&amp;ssl=1 1132w" data-lazy-sizes="(max-width: 1024px) 100vw, 1024px" data-lazy-src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_input_stage.png?resize=1024%2C791&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></figure>



<figure><img data-attachment-id="4659" data-permalink="https://teaandtechtime.com/designing-my-very-own-asic-with-tiny-tapeout/asic_fir_filter/" data-orig-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_fir_filter.png?fit=1014%2C1014&amp;ssl=1" data-orig-size="1014,1014" data-comments-opened="0" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="asic_fir_filter" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_fir_filter.png?fit=300%2C300&amp;ssl=1" data-large-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_fir_filter.png?fit=1014%2C1014&amp;ssl=1" decoding="async" width="1014" height="1014" data-id="4659" src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_fir_filter.png?resize=1014%2C1014&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_fir_filter.png?w=1014&amp;ssl=1 1014w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_fir_filter.png?resize=300%2C300&amp;ssl=1 300w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_fir_filter.png?resize=150%2C150&amp;ssl=1 150w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_fir_filter.png?resize=768%2C768&amp;ssl=1 768w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_fir_filter.png?resize=180%2C180&amp;ssl=1 180w" data-lazy-sizes="(max-width: 1014px) 100vw, 1014px" data-lazy-src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/asic_fir_filter.png?resize=1014%2C1014&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></figure>
</figure>



<p>You can check out the design on Wokwi and play around with it at the link below</p>



<p><a href="https://wokwi.com/projects/347894637149553236">https://wokwi.com/projects/347894637149553236</a></p>



<p>After completing the whole design I then needed to create my submission to the Tiny-Tapeout project. This was done by forking the GitHub template submission using GitHub actions. The whole process was detailed in a video on the Tiny-Tapeout project.</p>



<p><a href="https://github.com/Tschucker/tt02-submission-tiny-fir">https://github.com/Tschucker/tt02-submission-tiny-fir</a></p>



<p>Once completed you should be able to see a really cool graphic of the ASIC metal layers of the design.</p>


<div>
<figure><img data-attachment-id="4660" data-permalink="https://teaandtechtime.com/designing-my-very-own-asic-with-tiny-tapeout/screenshot-from-2022-11-09-15-26-26/" data-orig-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/Screenshot-from-2022-11-09-15-26-26.png?fit=1007%2C974&amp;ssl=1" data-orig-size="1007,974" data-comments-opened="0" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="Screenshot-from-2022-11-09-15-26-26" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/Screenshot-from-2022-11-09-15-26-26.png?fit=300%2C290&amp;ssl=1" data-large-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/Screenshot-from-2022-11-09-15-26-26.png?fit=1007%2C974&amp;ssl=1" decoding="async" width="1007" height="974" src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/Screenshot-from-2022-11-09-15-26-26.png?resize=1007%2C974&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/Screenshot-from-2022-11-09-15-26-26.png?w=1007&amp;ssl=1 1007w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/Screenshot-from-2022-11-09-15-26-26.png?resize=300%2C290&amp;ssl=1 300w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/Screenshot-from-2022-11-09-15-26-26.png?resize=768%2C743&amp;ssl=1 768w" data-lazy-sizes="(max-width: 1007px) 100vw, 1007px" data-lazy-src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/Screenshot-from-2022-11-09-15-26-26.png?resize=1007%2C974&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/><figcaption>GDS view of ASIC metal layers</figcaption></figure></div>


<p>To submit your design to Tiny-Tapeout you need to link your GitHub repo and pay for the option that you want. When I submitted my design it was $100 for a spot on silicon and to receive a board with the chip on it for testing. If you just wanted your design on the chip it was $20! </p>



<h2>My Second ASIC Design Part 2</h2>



<p>Thankfully I was able to get my FIR filter design done before the original deadline but because it got extended I started thinking about what other things I could add on since a second design on the same chip was only $20 extra.</p>



<p>I workshopped a few ideas but unfortunately, most were just not possible with the current limitations of the design medium. So I decided to keep it simple and create a PRBS generator. PRBS stands for a pseudorandom binary sequence which in simple terms is a sequence of 1s and 0s that approximate random data. Generating truly random sequences is very difficult but a PRBS can be generated by a simple LFSR circuit.</p>



<p>An LFSR is a linear feedback shift register, which is essentially just a shift register where the input is a linear function of its previous state. This feedback is most commonly created by an XOR of the output of calculated points in the shift register. For more information on PRBS generators using LFSRs check out this great DigiKey article.</p>



<p><a href="https://www.digikey.com/en/articles/use-readily-available-components-generate-binary-sequences-white-noise">https://www.digikey.com/en/articles/use-readily-available-components-generate-binary-sequences-white-noise</a></p>



<p>PRBS data can also be used as a way to check digital communication links using a principle of the LFSR. In that, the inverted output of one LFSR can be fed into a duplicate logic and can be checked for errors in that data. So if a communication channel introduces errors due to noise the bit error rate can be measured.</p>



<p>Because the LFSR is a mathematical function we can have several variants but I decided to go with a simple PRBS15 format, where there are 15 bits in the shift register. Below is the Wokwi design, where we have two LFSRs where the output is looped back into the input externally. </p>



<figure><img data-attachment-id="4673" data-permalink="https://teaandtechtime.com/designing-my-very-own-asic-with-tiny-tapeout/prbs15_asic/" data-orig-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/prbs15_asic.png?fit=1386%2C804&amp;ssl=1" data-orig-size="1386,804" data-comments-opened="0" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="prbs15_asic" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/prbs15_asic.png?fit=300%2C174&amp;ssl=1" data-large-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/prbs15_asic.png?fit=1024%2C594&amp;ssl=1" decoding="async" width="1024" height="594" src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/prbs15_asic.png?resize=1024%2C594&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/prbs15_asic.png?resize=1024%2C594&amp;ssl=1 1024w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/prbs15_asic.png?resize=300%2C174&amp;ssl=1 300w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/prbs15_asic.png?resize=768%2C446&amp;ssl=1 768w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/prbs15_asic.png?w=1386&amp;ssl=1 1386w" data-lazy-sizes="(max-width: 1024px) 100vw, 1024px" data-lazy-src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/prbs15_asic.png?resize=1024%2C594&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/><figcaption><a href="https://wokwi.com/projects/348260124451668562">https://wokwi.com/projects/348260124451668562</a></figcaption></figure>



<p>This simulation also includes a logic analyzer so we can plot the output in GTKWave!</p>



<figure><img data-attachment-id="4679" data-permalink="https://teaandtechtime.com/designing-my-very-own-asic-with-tiny-tapeout/gtkwave_asic/" data-orig-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/gtkwave_asic.png?fit=1020%2C655&amp;ssl=1" data-orig-size="1020,655" data-comments-opened="0" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="gtkwave_asic" data-image-description="" data-image-caption="" data-medium-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/gtkwave_asic.png?fit=300%2C193&amp;ssl=1" data-large-file="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/gtkwave_asic.png?fit=1020%2C655&amp;ssl=1" decoding="async" width="1020" height="655" src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/gtkwave_asic.png?resize=1020%2C655&amp;ssl=1" alt="" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/gtkwave_asic.png?w=1020&amp;ssl=1 1020w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/gtkwave_asic.png?resize=300%2C193&amp;ssl=1 300w, https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/gtkwave_asic.png?resize=768%2C493&amp;ssl=1 768w" data-lazy-sizes="(max-width: 1020px) 100vw, 1020px" data-lazy-src="https://i0.wp.com/teaandtechtime.com/wp-content/uploads/2023/01/gtkwave_asic.png?resize=1020%2C655&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></figure>



<p>From the top we can see the input clock on D0, then the PRBS15 output on D1, next is the PRBS15 checker output error on D2, and lastly the PRBS15 checker raw output on D3. The checker starts throwing errors at first but once it locks on the error signal remains zero for the entire simulation as there are no errors introduced.</p>



<p>You can check out this design submission at my other GitHub link below.</p>



<p><a href="https://github.com/teaandtechtime/tt02-submission-prbs15">https://github.com/teaandtechtime/tt02-submission-prbs15</a></p>



<h2>Tiny-Tapeout 2</h2>



<p>A bit more information on Tiny-Tapout 2 which is specific to the run my designs is on.</p>



<figure><p><span><iframe loading="lazy" width="1086" height="611" src="https://www.youtube.com/embed/eMvZ5xsPXhA?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en-US&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span>
</p></figure>



<p>Check out the full list of designs that went into this Tiny-Tapout run, there is even a datasheet with descriptions of how to interact with the designs that all submissions included! So not only can you run your own design when you get the chip you can try out the others as well.</p>



<p><a href="https://tinytapeout.com/runs/tt02/">https://tinytapeout.com/runs/tt02/</a></p>



<h2>Next Steps</h2>



<p>Now that the design has been submitted to the fab we just have to wait for the chips and the Tiny-Tapeout boards to be delivered. I will post updates when I get my board and see if things work!</p>

		</div></div>
  </body>
</html>
