<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://gist.github.com/adtac/eb639d3c707b55a28f0ee9a420aa7e0c">Original</a>
    <h1>Using your Kindle as an e-ink monitor</h1>
    
    <div id="readability-page-1" class="page"><div>
  <div id="file-readme-md">
      
      <div id="file-readme-md-readme">
    <article itemprop="text"><div dir="auto"><h2 dir="auto">using your Kindle as an e-ink monitor</h2><a id="user-content-using-your-kindle-as-an-e-ink-monitor" aria-label="Permalink: using your Kindle as an e-ink monitor" href="#using-your-kindle-as-an-e-ink-monitor"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">demo: <a href="https://x.com/adtac_/status/1820127470613622950" rel="nofollow">https://x.com/adtac_/status/1820127470613622950</a> (3.5 fps, Paperwhite 3)</p>
<div dir="auto"><h3 dir="auto">step 1: jailbreak your Kindle</h3><a id="user-content-step-1-jailbreak-your-kindle" aria-label="Permalink: step 1: jailbreak your Kindle" href="#step-1-jailbreak-your-kindle"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a href="https://www.mobileread.com/forums" rel="nofollow">mobileread.com</a> is your best resource here, follow the instructions from <a href="https://www.mobileread.com/forums/showthread.php?t=356872" rel="nofollow">the LanguageBreak thread</a></p>
<p dir="auto">I didn&#39;t really follow the LanguageBreak instructions because I didn&#39;t care about most of the features + I was curious to do it myself, but the LanguageBreak github repo was invaluable for debugging</p>
<p dir="auto">it doesn&#39;t matter how you jailbreak your device as long as you get to a root shell somehow</p>
<div dir="auto"><h3 dir="auto">step 2: listener server on the Kindle</h3><a id="user-content-step-2-listener-server-on-the-kindle" aria-label="Permalink: step 2: listener server on the Kindle" href="#step-2-listener-server-on-the-kindle"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">I wrote a Go program to receive files on port 8000 and then invoke <code>eips</code>, which is Kindle&#39;s built-in utility to draw images on the screen</p>
<p dir="auto">for example, if the Go program received a JPG file and saved it under /tmp/img.jpg, the following command would draw the image with a partial update (full update looks awful):</p>
<div dir="auto"><pre>eips -g /tmp/img.jpg -w gc16 -x 128 -y 0</pre></div>
<p dir="auto">read the <a href="https://wiki.mobileread.com/wiki/Eips" rel="nofollow">eips wiki</a> for details on what the flags mean</p>
<p dir="auto">you may want to clear the screen with a <code>eips -c</code> before the first frame</p>
<p dir="auto">unfortunately I lost the Go source code, but it was pretty simple, like under 30 lines</p>
<div dir="auto"><h3 dir="auto">step 3: screencapture + imagemagick</h3><a id="user-content-step-3-screencapture--imagemagick" aria-label="Permalink: step 3: screencapture + imagemagick" href="#step-3-screencapture--imagemagick"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">I wrote a script to use <code>screencapture</code> on macOS to repeatedly capture the screen into a png file, which is then converted into a shape, size and color the Kindle likes using imagemagick, and then transferred over usbnet using netcat</p>
<div dir="auto"><pre>/usr/sbin/screencapture -C -x /tmp/orig.png
convert /tmp/orig.png -rotate 270 -resize <span><span>&#39;</span>810x1448!<span>&#39;</span></span> -type GrayScale -depth 8 -colors 256 /tmp/gray.jpg
cat /tmp/gray.jpg <span>|</span> nc -w 0 192.168.15.244 8000</pre></div>
<p dir="auto">change the resolution to match your device and port to match the listener server</p>

<p dir="auto">I hacked this together last night for fun and obviously there&#39;s a lot of room for improvement here, both in terms of performance and usability</p>
<p dir="auto">it&#39;s super wasteful to send a full jpeg file for each frame when the delta between consecutive frames is mostly going to be empty and very compressible (like when you&#39;re using a text editor)</p>
<p dir="auto">without reinventing codecs like h.264 and protocols like vnc, it should be possible to quickly improve this with just the tools we already have</p>
<p dir="auto">have fun!</p>

<p dir="auto"><a href="https://www.sixfoisneuf.fr/posts/kindle-hacking-deeper-dive-internals/" rel="nofollow">https://www.sixfoisneuf.fr/posts/kindle-hacking-deeper-dive-internals/</a></p>
<p dir="auto"><a href="https://github.com/NiLuJe/KindleTool">https://github.com/NiLuJe/KindleTool</a></p>
<p dir="auto"><a href="https://www.mobileread.com/forums/showthread.php?t=356766" rel="nofollow">https://www.mobileread.com/forums/showthread.php?t=356766</a> - the vulnerability that makes LanguageBreak possible</p>
</article>
  </div>

  </div>
</div></div>
  </body>
</html>
