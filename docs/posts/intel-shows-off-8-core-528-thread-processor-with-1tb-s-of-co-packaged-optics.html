<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.theregister.com/2023/09/01/intel_graph_analytics_chip/">Original</a>
    <h1>Intel shows off 8-core, 528-thread processor with 1TB/s of co-packaged optics</h1>
    
    <div id="readability-page-1" class="page"><div id="body">
<p><span>Hot Chips</span> Intel has used this week’s Hot Chips conference in California to show off a 528-thread processor with 1TB/s silicon photonics interconnects that&#39;s designed to chew the largest analytics workloads, while sipping power.</p>
<p>For those hoping for a hyper-parallelized Xeon, this isn&#39;t that. The chip isn&#39;t even x86 based.</p>
<p>Instead, it was purpose built using a <a target="_blank" href="https://www.nextplatform.com/2023/09/01/what-would-you-do-with-a-16-8-million-core-graph-processing-beast/">custom RISC architecture</a> for DARPA&#39;s Hierarchical Identity Verify Exploit (HIVE) <a href="https://www.darpa.mil/program/hierarchical-identify-verify-exploit" rel="nofollow">program</a>. That US military initiative seeks to develop a graph analytics processor capable of churning through streaming data 100 times faster than conventional compute architectures, while also consuming less power.</p>

    

<p>Graph analytics deal with how data points connect with other data points in complex systems. The example Intel principal engineer Jason Howard pointed to in his Hot Chips presentation was social networks, which might run graph analytics workloads to understand connections among members.</p>

        


        

<p>Think of it as a really high-performance Six Degrees of Separation (or Kevin Bacon) and you’ll get the idea.</p>
<p>While this might seem a strange thing for DARPA to consider, the government agency feels large scale graph analytics has applications in infrastructure monitoring and cybersecurity.</p>

<p>The chip is part of Intel&#39;s first direct mesh-to-mesh photonic fabric, which uses silicon photonic interconnects to stitch multiple chips together. But rather than using copper to stitch two, four or even eight sockets together using copper traces, Intel used co-packaged optics to connect hundreds or even thousands of chips together in a low latency, high bandwidth mesh.</p>
<p>That&#39;s the idea anyway, the chip is still a prototype.</p>
<h3>Scaling up graph analytics with silicon photonics</h3>
<p>The goal is to develop tech that can be scaled up to support even the largest graph analytics workloads.</p>
<div><p><a href="https://regmedia.co.uk/2023/08/31/intel_graph_analytics_chip.jpg" target="_blank"><img src="https://regmedia.co.uk/2023/08/31/intel_graph_analytics_chip.jpg?x=648&amp;y=365&amp;infer_y=1" alt="The four chiplets surrounding the central compute die supply the Intel prototype with 1TB/s of optical bandwidth" title="The four chiplets surrounding the central compute die supply the Intel prototype with 1TB/s of optical bandwidth" height="365" width="648"/></a></p><p>The four chiplets surrounding the central compute die supply the Intel prototype with 1TB/s of optical bandwidth - Click to enlarge</p>
</div>
<p>While the chip initially appears to be a standard processor with some extra bits and bobs — it even has a fairly typical BGA interface not unlike those found on Xeon-D chips — most of the data flowing in and out of the chip is transmitted optically using silicon photonics chiplets developed in collaboration with Ayar Labs.</p>
<p>The four little chiplets surrounding the central processing die convert the electrical signals coming in and out of the microprocessor to optical signals carried by 32 single-mode fibers. As we understand it 16 of those fiber strands are for transmitting data and the other 16 are for receiving it.</p>

        

<p>According to Intel, each of those fibers can carry data at 32GB/s on and off the chip for an aggregate of 1TB/s of bandwidth. However, Howard said that in testing the team had only managed to achieve half that rate.</p>
<div><p><a href="https://regmedia.co.uk/2023/08/31/intel_graph_analytics_chip_detail.jpg" target="_blank"><img src="https://regmedia.co.uk/2023/08/31/intel_graph_analytics_chip_detail.jpg?x=442&amp;y=389&amp;infer_y=1" alt="Most of the data moving in and out of Intel&#39;s prototype is transmitted optically." title="Most of the data moving in and out of Intel&#39;s prototype is transmitted optically." height="389" width="442"/></a></p><p>Most of the data moving in and out of Intel&#39;s prototype processor is transmitted optically, as you can see ... Click to enlarge</p>
</div>
<p>As Intel envisions it, 16 of these chips would be networked together in an all-to-all configuration on a single Open Compute Project server in its sled form factor. Then multiple sleds, potentially as many as 100,000, could be networked together again in a sled-to-sled configuration. The result would be that any one chip could communicate with another, at very low latencies, regardless of which sled it resides in.</p>
<p>That&#39;s not to say the x86 goliath didn&#39;t run into challenges getting the optics to cooperate. In addition to only achieving half the bandwidth as advertised, Howard said fibers often misbehaved or broke.</p>
<p>&#34;Once we got everything aligned and working, there were a lot of fiber attachment issues where they would just pop off because these are brittle fibers,&#34; Howard said. &#34;We also saw, when we were doing the reflow process of the overall package, that we would run into optical problems due to thermal results, and we would end up having bad optical yields.&#34;</p>
<p>To overcome these challenges Intel had to work with its partners to develop new materials with lower thermal barriers, Howard explained.</p>
<ul>

<li><a href="https://www.theregister.com/2023/08/29/amd_teases_telcooptimized_siena_epycs/">AMD on the edge: Stripped down Siena Epycs teased</a></li>

<li><a href="https://www.theregister.com/2023/08/29/google_next_ai_updates/">Google sharpens AI toolset with new chips, GPUs, more at Cloud Next</a></li>

<li><a href="https://www.theregister.com/2023/08/28/intel_xeon_memory_io/">Intel promises next year&#39;s Xeons will challenge AMD on memory, IO channels</a></li>

<li><a href="https://www.theregister.com/2023/08/23/china_arm_tradewar/">Arm reveals just how vulnerable it is to trade war with China</a></li>
</ul>
<h3>Tackling silicon bottlenecks</h3>
<p>This novel system was needed because while Intel’s current commercial kit speeds through graph analytics workloads, it struggles to scale.</p>
<p>&#34;A Xeon can pretty much take one of the graph datasets and store it in its cache and just churn through it really quickly,&#34; said Intel’s Howard. However, when you start to scale those datasets you start running into performance and efficiency bottlenecks.</p>

        

<p>So, the team set out to develop a new kind of processor optimized for graph analytics and quickly discovered several quirks inherent to the workload that could be optimized for in silicon.</p>
<p>&#34;We immediately saw that they are massively parallel, in fact, embarrassingly parallel, so we could exploit a lot of parallelism to improve the overall performance,&#34; Howard said, adding that the team also uncovered issues with memory and cache utilization.</p>
<p>&#34;When we would bring a cache line into the processor, we would only usually use eight bytes of it and then end up throwing away the other 64 bytes without ever utilizing them,&#34; he said, explaining that this put unnecessary strain on the system any time there were a bunch of big out of order pipelines.</p>
<div><p><a href="https://regmedia.co.uk/2023/08/31/intel_grap_diag.jpg" target="_blank"><img src="https://regmedia.co.uk/2023/08/31/intel_grap_diag.jpg?x=648&amp;y=363&amp;infer_y=1" alt="A significant chunk in the center of the die is dedicated to routers which control the flow of data streaming in from the co-packaged optics." title="A significant chunk in the center of the die is dedicated to routers which control the flow of data streaming in from the co-packaged optics." height="363" width="648"/></a></p><p>A significant chunk in the center of the die is dedicated to routers which control the flow of data streaming in from the co-packaged optics. - Click to enlarge</p>
</div>
<p>These design considerations drove the team to develop this experimental processor, which TSMC builds using its 7nm FinFET process (in case you didn&#39;t know, Intel fabs a lot of non-CPU products at TSMC and has for years) and which features eight cores each with 66 threads.</p>
<p>The chip also uses a novel memory architecture, an important inclusion to optimize it for graph analytics workloads, Howard explained. The chips are paired with 32GB of DDR5 4400MT/s memory which was accessed through a custom memory controller that allowed for 8-byte access granularity. According to Howard, this was advantageous as &#34;anytime we&#39;re pulling a data line out of memory, we&#39;re going to try to utilize all of that data line as opposed to throwing away 7/8ths of it.&#34;</p>
<p>PCIe 4.0 with an 8x connection allows for connectivity back to the host system.</p>
<p>Intel also had to figure out a way to deal with the sheer volume of traffic coming in and out of the compute die, which in theory could be as much as 1TB/s. According to Howard, that requirement is the reason plenty of the die is dedicated to routers.</p>
<p>And while you might think such a thread and network heavy chip might run hot, it doesn&#39;t. The chip tops out at 75 watts at 1GHz. According to Intel, a 16-sled configuration would handle 8TB of memory, 2,048 cores, 135,168 threads, and consume roughly 1.2kW of power. That&#39;s not bad considering that a single dual-socket Sapphire Rapids system with 112 cores and 224 threads could easily consume that much power under load.</p>
<p>Intel imagines these chips could be built into rigs that scale to meshes encompassing 100,000 sleds and achieve near linear performance scaling for even the largest graph analytics workloads. However, this dream remains just that, as Intel has so far tested just two chips connected on its fabric.</p>
<p>Whether Intel ever commercializes the design is going to depend on funding, Howard explained. &#34;If people want to give us money, we are more than welcome to build these things out.&#34; ®</p>                                
                    </div></div>
  </body>
</html>
