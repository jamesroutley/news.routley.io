<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.circuitvalley.com/2022/06/pensource-usb-c-industrial-camera-c-mount-fpga-imx-mipi-usb-3-crosslinknx.html">Original</a>
    <h1>Open source USB C camera with C mount lens, MIPI Sensor, Lattice FPGA, USB 3.0</h1>
    
    <div id="readability-page-1" class="page"><div>
        
<div>
<div>
<h3>
Making Opensource USB C industrial camera with Interchangeable C mount lens, Interchangeable MIPI Sensor with Lattice Crosslink NX FPGA and Cypress FX3 USB 3.0 controller
</h3>

<div id="post-body-5844044823411408969">
<p><span> <span>    </span>This post is going yet another part in the DIY camera projects which have been doing since quite some time. In this post I will showing you next successful implementation of making C mount high lens mount  USB C camera. This implementation will have absolute modular boards having dedicated Sensor board which can be changed if needed. </span></p><p><a href="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEineztmEmFegMzFaCr1kmNTqpchNTbrV33iBmQpCceFYxqTpvLPidS6LwYimjdjWfg6ceKlAuNYfntEAkg8j_eB8Th3NTxK_OSKwJvyfmNBU01pzxuJ2HVqMqrk7hXKlHb-7HuoyImV4HrGPNdtk6m6E9Xxt_LXmgnudy48eZPGi56LiLqx_H0bnFxkew/s3377/usb_c_fpga_mipi_camera_c_mount_industrial_lattice_crosslink_fpga_xilinx_zynq%20(4)2.JPG"><img data-original-height="2300" data-original-width="3377" height="436" src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEineztmEmFegMzFaCr1kmNTqpchNTbrV33iBmQpCceFYxqTpvLPidS6LwYimjdjWfg6ceKlAuNYfntEAkg8j_eB8Th3NTxK_OSKwJvyfmNBU01pzxuJ2HVqMqrk7hXKlHb-7HuoyImV4HrGPNdtk6m6E9Xxt_LXmgnudy48eZPGi56LiLqx_H0bnFxkew/w640-h436/usb_c_fpga_mipi_camera_c_mount_industrial_lattice_crosslink_fpga_xilinx_zynq%20(4)2.JPG" width="640"/></a></p></div>

</div>
<div id="comments">
<h4>32 comments:</h4>
<div>


<div id="comment-holder">
<div><ol id="top-ra"><li id="c5568287211134699867"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>Absolutely interesting! Very good job! Thanks for share!!</p><p><span><a target="_self" data-comment-id="5568287211134699867">Reply</a><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=5568287211134699867">Delete</a></span></span></p></div></li><li id="c3901728853576285211"><p><img src="https://2.bp.blogspot.com/-NKhU205UsXA/TWza3w5UUDI/AAAAAAAABj0/mT5K899n5SM/s35/%252525E6%252525B4%2525258B%252525E8%25252591%252525B1%252525E5%252525A4%252525B4%252525E4%252525B9%2525258B%252525E5%252525B9%252525B8%252525E7%252525A6%2525258F.gif" alt=""/></p></li><li id="c1569837991595190860"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><div id="c1569837991595190860-rt"><p><span><span></span><span><a target="_self">Replies</a></span></span></p><ol id="c1569837991595190860-ra"><div><li id="c4478631388431586290"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>IMX335 is also MIPI CSI sensor, So it can be added, I just did a quick search and found sensor itself is not available for purchase but you can buy IMX335 based cameras pretty cheap and get camera sensor out of it. Yes you can have IMX335 As long as you have sensor and Sensor PCB for it.</p><p><span><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=4478631388431586290">Delete</a></span></span></p></div></li></div></ol></div></div></li><li id="c3709502270768285110"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>Any intentions to support any of the global shutter IMX modules?</p><p><span><a target="_self" data-comment-id="3709502270768285110">Reply</a><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=3709502270768285110">Delete</a></span></span></p></div><div><div id="c3709502270768285110-rt"><p><span><span></span><span><a target="_self">Replies</a></span></span></p><ol id="c3709502270768285110-ra"><div><li id="c5972923025790694798"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>There noting special need to be done to support any new MIPI sensor.</p><p><span><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=5972923025790694798">Delete</a></span></span></p></div></li><li id="c569503919137833044"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>Do you have any suggestion of any easily available sensor?</p><p><span><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=569503919137833044">Delete</a></span></span></p></div></li></div></ol></div></div></li><li id="c2698557342382133365"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>Excellent,Is it possible to scale for other Humidity, measuring and texture and servo motor control sensors?</p><p><span><a target="_self" data-comment-id="2698557342382133365">Reply</a><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=2698557342382133365">Delete</a></span></span></p></div><div><div id="c2698557342382133365-rt"><p><span><span></span><span><a target="_self">Replies</a></span></span></p><ol id="c2698557342382133365-ra"><div><li id="c3959536678642759825"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>Do you have any specific part number in mind, I assume Humidity sensor would not generate enough data to justify use of an FPGA</p><p><span><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=3959536678642759825">Delete</a></span></span></p></div></li></div></ol></div></div></li><li id="c3517907072075526744"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><div id="c3517907072075526744-rt"><p><span><span></span><span><a target="_self">Replies</a></span></span></p><ol id="c3517907072075526744-ra"><div><li id="c9085916823128486148"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>Sorry for delayed response, I Have few questions before i could possible answer your question. Is this near infrared camera sensor a normal camera sensor with specif filters or specific filters removed a normal camera sensor? </p><p><span><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=9085916823128486148">Delete</a></span></span></p></div></li></div></ol></div></div></li><li id="c6808466129234285836"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>Holy Sh*t... this is incredible. You should seriously write a book for serious hobbyist to build such advanced cameras from scratch as like what you have did.</p><p><span><a target="_self" data-comment-id="6808466129234285836">Reply</a><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=6808466129234285836">Delete</a></span></span></p></div></li><li id="c6128838684132425728"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><div id="c6128838684132425728-rt"><p><span><span></span><span><a target="_self">Replies</a></span></span></p><ol id="c6128838684132425728-ra"><div><li id="c3537620418924988599"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>Primary difference between FX3 and CX3 in this application would be, Solution FX3 + FPGA will not need any custom application at the PC side. Solution with FX3 implements standard UVC device. As UVC does not support RAW or RGB so solution with CX3 would need to implement a custom application/driver solution on the PC side. As almost all of the MIPI CSI-2 Camera only output RAW bayer. RAW bayer need to be converted to useable format before anything can be done with it.</p><p><span><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=3537620418924988599">Delete</a></span></span></p></div></li><li id="c8776415517726563298"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p></li></div></ol></div></div></li><li id="c6251376994477458370"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><div id="c6251376994477458370-rt"><p><span><span></span><span><a target="_self">Replies</a></span></span></p><ol id="c6251376994477458370-ra"><div><li id="c2967046049675439623"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>Lattice Crosslink nx are supported by Lattice Radiant software, Not by Diamond, You need to create a lattice radiant project, Chose target device, Add all v files and also from Lattice Specific folder under src all IP v files then, implement</p><p><span><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=2967046049675439623">Delete</a></span></span></p></div></li></div></ol></div></div></li><li id="c8876319508328054888"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><div id="c8876319508328054888-rt"><p><span><span></span><span><a target="_self">Replies</a></span></span></p><ol id="c8876319508328054888-ra"><div><li id="c1100309349754568247"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>You would have bit file as output. That file can be programmed on FPGA.</p><p><span><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=1100309349754568247">Delete</a></span></span></p></div></li></div></ol></div></div></li><li id="c1387282583768971636"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><div id="c1387282583768971636-rt"><p><span><span></span><span><a target="_self">Replies</a></span></span></p><ol id="c1387282583768971636-ra"><div><li id="c2109110286369522402"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>1. Depending on your use, I may have few boards left.</p><p><span><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=2109110286369522402">Delete</a></span></span></p></div></li></div></ol></div></div></li><li id="c2791672536489099915"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p></li><li id="c3634311695455972313"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>This comment has been removed by the author.</p><p><span><a target="_self" data-comment-id="3634311695455972313">Reply</a><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=3634311695455972313">Delete</a></span></span></p></div></li><li id="c781169636866308164"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><div id="c781169636866308164-rt"><p><span><span></span><span><a target="_self">Replies</a></span></span></p><ol id="c781169636866308164-ra"><div><li id="c2718391202752913275"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>Good that things worked out for you. There are two DPHY on FPGA , I use DPHY1 Because in PCB layout it was easy to route them. </p><p><span><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=2718391202752913275">Delete</a></span></span></p></div></li></div></ol></div></div></li><li id="c3229929423599287212"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>This comment has been removed by the author.</p><p><span><a target="_self" data-comment-id="3229929423599287212">Reply</a><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=3229929423599287212">Delete</a></span></span></p></div></li><li id="c5732982231402335350"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>This comment has been removed by the author.</p><p><span><a target="_self" data-comment-id="5732982231402335350">Reply</a><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=5732982231402335350">Delete</a></span></span></p></div></li><li id="c5013272083519661212"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>This comment has been removed by the author.</p><p><span><a target="_self" data-comment-id="5013272083519661212">Reply</a><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=5013272083519661212">Delete</a></span></span></p></div></li><li id="c8254668994976185348"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><div id="c8254668994976185348-rt"><p><span><span></span><span><a target="_self">Replies</a></span></span></p><ol id="c8254668994976185348-ra"><div><li id="c7554755607852440703"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>1. As you add all the files Top module will be automatically selected, Just keep Test bench files to be marked for simulation only. </p><p><span><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=7554755607852440703">Delete</a></span></span></p></div></li></div></ol></div></div></li><li id="c8868412217452087385"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>Can you provide the exact number of glass to display latency(or a close approximate)? I read you store upto 4 lines in the memory so the latency should be less than a frame for 4K or UHD?</p><p><span><a target="_self" data-comment-id="8868412217452087385">Reply</a><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=8868412217452087385">Delete</a></span></span></p></div><div><div id="c8868412217452087385-rt"><p><span><span></span><span><a target="_self">Replies</a></span></span></p><ol id="c8868412217452087385-ra"><div><li id="c2014670727615134107"><p><img src="https://www.blogger.com/img/blogger_logo_round_35.png" alt=""/></p><div><p>ISP Pipeline only has delay / latency of 4 line , if you are talking about 4K 60 FPS then each line is about 7.71us then 4 line would be around 30 us . So after 30 us of frame start my ISP will start producing valid data on output.</p><p><span><span><a target="_self" href="https://www.blogger.com/delete-comment.g?blogID=4474580574529252327&amp;postID=2014670727615134107">Delete</a></span></span></p></div></li></div></ol></div></div></li></ol></div>
</div>
</div>



</div>
</div>

        </div></div>
  </body>
</html>
