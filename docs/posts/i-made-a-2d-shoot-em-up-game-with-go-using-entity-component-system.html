<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/m110/airplanes">Original</a>
    <h1>Show HN: I made a 2D shoot &#39;em up game with Go, using Entity Component System</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto"><a href="https://github.com/m110/airplanes/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/83d3746e5881c1867665223424263d8e604df233d0a11aae0813e0414d433943/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d626c75652e737667" alt="License" data-canonical-src="https://img.shields.io/badge/license-MIT-blue.svg"/></a>
<a href="https://goreportcard.com/report/github.com/m110/airplanes" rel="nofollow"><img src="https://camo.githubusercontent.com/2beebfb64c828bb116fa62b2fbf7ddf0acc84f65c2c17050ff4048fac334f381/68747470733a2f2f676f7265706f7274636172642e636f6d2f62616467652f6769746875622e636f6d2f6d3131302f616972706c616e6573" alt="Go Report Card" data-canonical-src="https://goreportcard.com/badge/github.com/m110/airplanes"/></a>
<a href="https://github.com/m110/airplanes/actions/workflows/deploy-web.yml"><img src="https://github.com/m110/airplanes/actions/workflows/deploy-web.yml/badge.svg" alt="ActionsCI"/></a>
<a href="https://m110.github.io/airplanes/" rel="nofollow"><img src="https://camo.githubusercontent.com/e50485203477cbcdfef1a373f65fcd8505c77ed8c30dfa1c26c4a3a219da90ac/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d706c6179266d6573736167653d6f6e6c696e6526636f6c6f723d627269676874677265656e266c6f676f3d676974687562" alt="Play online" data-canonical-src="https://img.shields.io/static/v1?label=play&amp;message=online&amp;color=brightgreen&amp;logo=github"/></a></p>
<p dir="auto">A 2D shoot &#39;em up game made with:</p>
<ul dir="auto">
<li>Go</li>
<li><a href="https://github.com/hajimehoshi/ebiten">Ebitengine</a></li>
<li><a href="https://github.com/yohamta/donburi">donburi</a></li>
<li><a href="https://www.mapeditor.org/" rel="nofollow">Tiled</a> and <a href="https://github.com/lafriks/go-tiled">go-tiled</a></li>
</ul>
<p dir="auto">Assets by <a href="https://kenney.nl" rel="nofollow">Kenney</a>.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://www.moderndescartes.com/m110/airplanes/blob/master/docs/screenshot.png"><img src="https://www.moderndescartes.com/m110/airplanes/raw/master/docs/screenshot.png" alt=""/></a></p>
<h2 dir="auto"><a id="user-content-github-gameoff-disclaimer" aria-hidden="true" href="#github-gameoff-disclaimer"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>GitHub GameOff Disclaimer</h2>
<p dir="auto">Most of this game was created during October 2022. I wanted to take part in GitHub GameOff,
but sadly didn&#39;t have enough time to create a new game.</p>
<p dir="auto">I&#39;m submitting this one and I hope this is still in the spirit of the competition since it was created pretty much within one month.
You be the judge. :)</p>
<h2 dir="auto"><a id="user-content-status" aria-hidden="true" href="#status"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Status</h2>
<p dir="auto">Playable, with a long list of ideas and TODOs in the code. There are just two levels right now.</p>
<h2 dir="auto"><a id="user-content-how-to-play" aria-hidden="true" href="#how-to-play"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How to play</h2>
<ul dir="auto">
<li>Player 1: WASD to move, Space to shoot</li>
<li>Player 2: Arrow keys to move, Enter to shoot</li>
</ul>
<p dir="auto">Shoot enemies and avoid bullets.</p>
<p dir="auto">Collect powerups to evolve your airplane!</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://www.moderndescartes.com/m110/airplanes/blob/master/docs/evolution.gif"><img src="https://www.moderndescartes.com/m110/airplanes/raw/master/docs/evolution.gif" alt="" data-animated-image=""/></a></p>
<h2 dir="auto"><a id="user-content-playing" aria-hidden="true" href="#playing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Playing</h2>
<p dir="auto">Play online: <a href="https://m110.github.io/airplanes/" rel="nofollow">https://m110.github.io/airplanes/</a></p>
<p dir="auto">Or local:</p>
<div data-snippet-clipboard-copy-content="go run github.com/m110/airplanes@latest"><pre><code>go run github.com/m110/airplanes@latest
</code></pre></div>
<h2 dir="auto"><a id="user-content-debug-mode" aria-hidden="true" href="#debug-mode"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Debug Mode</h2>
<p dir="auto">To enable debug mode, press the slash key (<code>/</code>).</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://www.moderndescartes.com/m110/airplanes/blob/master/docs/debug.png"><img src="https://www.moderndescartes.com/m110/airplanes/raw/master/docs/debug.png" alt=""/></a></p>
<h2 dir="auto"><a id="user-content-architecture" aria-hidden="true" href="#architecture"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Architecture</h2>
<p dir="auto">This game uses the ECS architecture provided by <a href="https://github.com/yohamta/donburi">donburi</a>.
Parts of airplanes were ported to donburi as features.</p>
<p dir="auto">The ECS structure is as follows:</p>
<ul dir="auto">
<li><code>component</code> - contains all components. <strong>Components</strong> are Go structs with no behavior other than occasional helper methods.</li>
<li><code>system</code> - contains all systems. <strong>Systems</strong> keep the logic of the game. Each system works on entities with a specific set of components.</li>
<li><code>archetype</code> - contains helper functions for creating entities with specific sets of components.</li>
</ul>
<p dir="auto">Other packages:</p>
<ul dir="auto">
<li><code>assets</code> - contains all assets. Assets are loaded using Go embedding, so they are compiled into the final binary (which makes it easier to distribute the game).</li>
<li><code>engine</code> - helper functions for generic game logic.</li>
<li><code>scenes</code> - contains all scenes.</li>
</ul>
<h2 dir="auto"><a id="user-content-level-editor" aria-hidden="true" href="#level-editor"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Level Editor</h2>
<p dir="auto">You can edit the levels in the <code>assets/levels</code> directory using <a href="https://www.mapeditor.org/" rel="nofollow">Tiled</a>.</p>
<p dir="auto">Levels are loaded using the <code>level*.tmx</code> pattern, so you can add new levels by adding new files with bigger numbers.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://www.moderndescartes.com/m110/airplanes/blob/master/docs/editor.png"><img src="https://www.moderndescartes.com/m110/airplanes/raw/master/docs/editor.png" alt=""/></a></p>
<p dir="auto">Supported objects are:</p>
<table>
<thead>
<tr>
<th>Object</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>enemy-airplane</code></td>
<td>An enemy airplane.</td>
</tr>
<tr>
<td><code>enemy-tank</code></td>
<td>An enemy tank shooting at the player.</td>
</tr>
<tr>
<td><code>enemy-turret-missiles</code></td>
<td>An enemy turret shooting homing missiles.</td>
</tr>
<tr>
<td><code>group-spawn</code></td>
<td>A group enemy spawn.</td>
</tr>
</tbody>
</table>
<p dir="auto">The rotation of objects is reflected in-game.</p>
<p dir="auto">Parameters:</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>speed</code></td>
<td>Speed of the enemy, if different than default.</td>
</tr>
<tr>
<td><code>path</code></td>
<td>Path of the enemy. If not provided, the enemy moves in the facing direction.</td>
</tr>
<tr>
<td><code>spawn</code></td>
<td>Group spawn, if a group of enemies needs to spawn at once.</td>
</tr>
</tbody>
</table>
<p dir="auto">The <code>path</code> should point to either a polygon or a polyline object in the same layer.
If a polyline is used, the enemy will follow the path and keep moving in the facing direction after the last point.
Polygon paths work like loops.</p>
<h3 dir="auto"><a id="user-content-spawning" aria-hidden="true" href="#spawning"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Spawning</h3>
<p dir="auto">Enemies are spawned once the top camera boundary reaches their position.
A group spawn spawns all connected enemies at once.</p>
<p dir="auto">All objects despawn once they go out of screen.</p>
</article>
          </div></div>
  </body>
</html>
