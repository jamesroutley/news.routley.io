<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/FranxYao/chain-of-thought-hub">Original</a>
    <h1>Chain-of-Thought Hub: Measuring LLMs&#39; Reasoning Performance</h1>
    
    <div id="readability-page-1" class="page"><div>
<div><p>Welcome to the second instalment of my journey into maze making in Rust.</p>
<p>At the end of the <a href="https://joaoabbottgribben.bearblog.dev/maze-making-in-rust-part-one/">first instalment</a>, I triumphed over declaring recursive data types, learnt a lot about indirection and clarified my mental model for compile time vs run time errors.
However, I was also unable to print one of the cells that I’d declared, with Rust complaining about ownership.</p>
<p>So, that’s today’s job:</p>
<ul>
<li>Understanding why the code won’t compile</li>
<li>Fixing it</li>
<li>Running it so I can print both cells.</li>
</ul>
<p>We&#39;ll get to these (mostly)* through the below steps</p>
<ol>
<li><a href="#outlining-the-problem">Outlining the problem</a></li>
<li><a href="#analysing-the-borrow-error">Analysing the borrow error</a></li>
<li><a href="#first-attempt-at-resolving-the-error">First attempt at resolving the error</a></li>
<li><a href="#successful-attempt-at-resolving-the-error">Successful attempt at resolving the error</a></li>
<li><a href="#ownership-post-script">Ownership Post Script</a></li>
</ol>
<p>*I say mostly because my &#34;understanding why the code won&#39;t compile&#34; turns out to be very very partial.</p>
<h2 id="outlining-the-problem">Outlining the problem</h2>
<p>Problematic code:</p>
<div><pre><span></span><span>#[derive(Debug)]</span>
<span>pub</span><span> </span><span>struct</span> <span>Cell</span><span> </span><span>{</span>
<span>    </span><span>row</span>: <span>u8</span><span>,</span>
<span>    </span><span>column</span>: <span>u8</span><span>,</span>
<span>    </span><span>north</span>: <span>Option</span><span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>    </span><span>east</span>: <span>Option</span><span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>    </span><span>south</span>: <span>Option</span><span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>    </span><span>west</span>: <span>Option</span><span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>}</span>

<span>fn</span> <span>main</span><span>(){</span>
<span>    </span><span>let</span><span> </span><span>cell_one</span>: <span>Cell</span><span> </span><span>=</span><span> </span><span>Cell</span><span> </span><span>{</span>
<span>        </span><span>row</span>: <span>1</span><span>,</span>
<span>        </span><span>column</span>: <span>1</span><span>,</span>
<span>        </span><span>north</span>:  <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>east</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>south</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>west</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span>
<span>    </span><span>};</span>
<span>    </span><span>let</span><span> </span><span>cell_two</span>: <span>Cell</span><span> </span><span>=</span><span> </span><span>Cell</span><span>{</span>
<span>        </span><span>row</span>: <span>0</span><span>,</span>
<span>        </span><span>column</span>: <span>0</span><span>,</span>
<span>        </span><span>north</span>: <span>Some</span><span>(</span><span>Box</span>::<span>new</span><span>(</span><span>cell_one</span><span>)),</span>
<span>        </span><span>east</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>south</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>west</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span>
<span>    </span><span>};</span>
<span>    </span><span>println!</span><span>(</span><span>&#34;{:#?}&#34;</span><span>,</span><span> </span><span>cell_one</span><span>);</span>
<span>    </span><span>println!</span><span>(</span><span>&#34;{:#?}&#34;</span><span>,</span><span> </span><span>cell_two</span><span>);</span>
<span>}</span>
</pre></div>
<p>On calling <code>rustc src/cell.rs</code> I get the below error:</p>
<div><pre><span></span>error<span>[</span>E0382<span>]</span>:<span> </span>borrow<span> </span>of<span> </span>moved<span> </span>value:<span> </span><span>`</span>cell_one<span>`</span>
</pre></div>
<p>On commenting out the first print macro, everything compiles and prints fine.</p>
<p>I’ve never had to think about ownership, borrowing or manage memory before, so I was expecting to make this kind of mistake pretty early on. Time to dive into the error message.</p>
<h2 id="analysing-the-borrow-error">Analysing the borrow error</h2>
<p>Let’s break down the full error message and try to unpick it:</p>
<div><pre><span></span>error<span>[</span>E0382<span>]</span>:<span> </span>borrow<span> </span>of<span> </span>moved<span> </span>value:<span> </span><span>`</span>cell_one<span>`</span>
<span>  </span>--&gt;<span> </span>src/cell.rs:28:23
<span>   </span><span>|</span>
<span>12</span><span> </span><span>|</span><span>     </span><span>let</span><span> </span>cell_one:<span> </span><span>Cell</span><span> </span><span>=</span><span> </span>Cell<span> </span><span>{</span>
<span>   </span><span>|</span><span>         </span>--------<span> </span>move<span> </span>occurs<span> </span>because<span> </span><span>`</span>cell_one<span>`</span><span> </span>has<span> </span><span>type</span><span> </span><span>`</span>Cell<span>`</span>,<span> </span>which<span> </span>does<span> </span>not<span> </span>implement<span> </span>the<span> </span><span>`</span>Copy<span>`</span><span> </span>trait
...
<span>23</span><span> </span><span>|</span><span>         </span>north:<span> </span>Some<span>(</span>Box::new<span>(</span>cell_one<span>))</span>,
<span>   </span><span>|</span><span>                              </span>--------<span> </span>value<span> </span>moved<span> </span>here
...
<span>28</span><span> </span><span>|</span><span>     </span>println!<span>(</span><span>&#34;{:#?}&#34;</span>,<span> </span>cell_one<span>)</span><span>;</span>
<span>   </span><span>|</span><span>                       </span>^^^^^^^^<span> </span>value<span> </span>borrowed<span> </span>here<span> </span>after<span> </span>move
<span>   </span><span>|</span>
</pre></div>
<p>At this point, I think I am kind of in the clear in terms of the seriousness of the issue.</p>
<p>When I first saw this I feared it was rooted in how the cell types were relating to one other on a fundamental level - I thought maybe <code>&lt;Box&gt;</code> was not the correct type of indirection to use for my maze, and that I’d have to dive into <code>&lt;Box&gt;</code> ,<code>Rc</code>, <code>Cell</code>, <code>RefCell</code> and so on.</p>
<p>This may still be true, but that’s not really what the error message is complaining about.</p>
<p>On reading the error properly, it’s more concerned with me using <code>cell_one</code> in my <em>print statement</em>, when ownership of <code>cell_one</code> has been passed into <code>cell_two</code>, specifically <code>cell_two</code> ’s <code>north</code> field.</p>
<p>At least, that’s my hypothesis.</p>
<h2 id="first-attempt-at-resolving-the-error">First attempt at resolving the error</h2>
<p>How can I resolve this?
What if, instead of trying to pass <code>cell_one</code> directly into the print, I pass a <em>reference</em> to <code>cell_one</code> ?
In Rust you can use the <code>&amp;</code> to declare that you only want to reference a value, and that you don’t want to take ownership of it.</p>
<p>So I updated this:</p>
<p>And I run <code>rustc src/cell.rs</code> again.</p>
<p>Ok so, clearly, it doesn’t matter that I’m just using a reference to it, you can only do that before a value has changed ownership.</p>
<h2 id="successful-attempt-at-resolving-the-error">Successful attempt at resolving the error</h2>
<p>Maybe I can try accessing it via what I know currently owns it, <code>cell_two</code>.</p>
<p>E0382 has been banished!</p>
<div><pre><span></span>warning:<span> </span>fields<span> </span><span>`</span>row<span>`</span>,<span> </span><span>`</span>column<span>`</span>,<span> </span><span>`</span>east<span>`</span>,<span> </span><span>`</span>south<span>`</span><span> </span>and<span> </span><span>`</span>west<span>`</span><span> </span>are<span> </span>never<span> </span><span>read</span>
<span> </span>--&gt;<span> </span>src/cell.rs:3:5
<span>  </span><span>|</span>
<span>2</span><span> </span><span>|</span><span> </span>pub<span> </span>struct<span> </span>Cell<span> </span><span>{</span>
<span>  </span><span>|</span><span>            </span>----<span> </span>fields<span> </span><span>in</span><span> </span>this<span> </span>struct
<span>3</span><span> </span><span>|</span><span>     </span>row:<span> </span>u8,
<span>  </span><span>|</span><span>     </span>^^^
<span>4</span><span> </span><span>|</span><span>     </span>column:<span> </span>u8,
<span>  </span><span>|</span><span>     </span>^^^^^^
<span>5</span><span> </span><span>|</span><span>     </span>north:<span> </span>Option&lt;Box&lt;Cell&gt;&gt;,
<span>6</span><span> </span><span>|</span><span>     </span>east:<span> </span>Option&lt;Box&lt;Cell&gt;&gt;,
<span>  </span><span>|</span><span>     </span>^^^^
<span>7</span><span> </span><span>|</span><span>     </span>south:<span> </span>Option&lt;Box&lt;Cell&gt;&gt;,
<span>  </span><span>|</span><span>     </span>^^^^^
<span>8</span><span> </span><span>|</span><span>     </span>west:<span> </span>Option&lt;Box&lt;Cell&gt;&gt;,
<span>  </span><span>|</span><span>     </span>^^^^
<span>  </span><span>|</span>
</pre></div>
<p>Now we’ve successfully compiled it, let’s run the code again and gaze upon the glory of our labours:</p>
<div><pre><span></span>$<span> </span>./cell
Some<span>(</span>
<span>    </span>Cell<span> </span><span>{</span>
<span>        </span>row:<span> </span><span>1</span>,
<span>        </span>column:<span> </span><span>1</span>,
<span>        </span>north:<span> </span>None,
<span>        </span>east:<span> </span>None,
<span>        </span>south:<span> </span>None,
<span>        </span>west:<span> </span>None,
<span>    </span><span>}</span>,
<span>)</span>
Cell<span> </span><span>{</span>
<span>    </span>row:<span> </span><span>0</span>,
<span>    </span>column:<span> </span><span>0</span>,
<span>    </span>north:<span> </span>Some<span>(</span>
<span>        </span>Cell<span> </span><span>{</span>
<span>            </span>row:<span> </span><span>1</span>,
<span>            </span>column:<span> </span><span>1</span>,
<span>            </span>north:<span> </span>None,
<span>            </span>east:<span> </span>None,
<span>            </span>south:<span> </span>None,
<span>            </span>west:<span> </span>None,
<span>        </span><span>}</span>,
<span>    </span><span>)</span>,
<span>    </span>east:<span> </span>None,
<span>    </span>south:<span> </span>None,
<span>    </span>west:<span> </span>None,
<span>}</span>
</pre></div>
<p>Blinding.</p>
<p>At this point I’ve done the main thing I set out to achieve, which was fixing the error and getting visibility on both the cells I’d created.
As I said earlier, I may still face issues based on my uninformed choice of using <code>&lt;Box&gt;</code>, but I’ll kick that can down the road for now.</p>
<p>Next step is to implement fields and methods for linking and unlinking cells…</p>
<h2 id="ownership-post-script">Ownership Post Script</h2>
<p>When I said this:</p>
<blockquote>
<p>Ok so, clearly, it doesn’t matter that I’m just using a reference to it, you can only do that before a value has changed ownership.</p>
</blockquote>
<p>I wasn’t <em>totally</em> confident of my understanding of why using a reference didn’t work. Was it really because you can only do that before a value has changed ownership? I wasn’t sure.</p>
<p>In the interests of thoroughness I’m going to circle back to that and check I properly understand why having <code>println!(“{:#?}”, &amp;cell_one);</code> didn’t compile.</p>
<p>To expand on my initial description, I don’t think this worked because:</p>
<ul>
<li>By the time I tried to pass a reference to <code>cell_one</code> to the print macro (i.e. <code>println!(“{:#?}”, &amp;cell_one)</code> ), <code>cell_one</code> had already been declared as the value for a field in <code>cell_two</code></li>
<li>Therefore the ownership of <code>cell_one</code> has been transferred to <code>cell_two</code></li>
<li>So when I was calling <code>&amp;cell_one</code> it was pointless - you can’t make a reference to a value that no longer exists (this is a hand-wavy description , but hopefully it makes sense)</li>
</ul>
<p>Is there a way I can prove or disprove this hypothesis?
Yes:</p>
<ul>
<li>Move <code>(“{:#?}”, &amp;cell_one)</code> to <em>before</em> <code>cell_one</code> ’s ownership has been transferred to <code>cell_two</code></li>
<li>Expect to see that the code compiles</li>
</ul>
<p>Before (not working):</p>
<div><pre><span></span><span>fn</span> <span>main</span><span>(){</span>
<span>    </span><span>let</span><span> </span><span>cell_one</span>: <span>Cell</span><span> </span><span>=</span><span> </span><span>Cell</span><span> </span><span>{</span>
<span>        </span><span>row</span>: <span>1</span><span>,</span>
<span>        </span><span>column</span>: <span>1</span><span>,</span>
<span>        </span><span>north</span>:  <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>east</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>south</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>west</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span>
<span>    </span><span>};</span>
<span>    </span><span>let</span><span> </span><span>cell_two</span>: <span>Cell</span><span> </span><span>=</span><span> </span><span>Cell</span><span>{</span>
<span>        </span><span>row</span>: <span>0</span><span>,</span>
<span>        </span><span>column</span>: <span>0</span><span>,</span>
<span>        </span><span>north</span>: <span>Some</span><span>(</span><span>Box</span>::<span>new</span><span>(</span><span>cell_one</span><span>)),</span>
<span>        </span><span>east</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>south</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>west</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span>
<span>    </span><span>};</span>
<span>    </span><span>println!</span><span>(</span><span>&#34; cell_one </span><span>\n</span><span> {:#?}&#34;</span><span>,</span><span> </span><span>&amp;</span><span>cell_one</span><span>);</span><span> </span><span>// &lt;- move this up...</span>
<span>    </span><span>println!</span><span>(</span><span>&#34; cell_two </span><span>\n</span><span> {:#?}&#34;</span><span>,</span><span> </span><span>cell_two</span><span>);</span>
<span>}</span>
</pre></div>
<p>After (hopefully working):</p>
<div><pre><span></span><span>fn</span> <span>main</span><span>(){</span>
<span>    </span><span>let</span><span> </span><span>cell_one</span>: <span>Cell</span><span> </span><span>=</span><span> </span><span>Cell</span><span> </span><span>{</span>
<span>        </span><span>row</span>: <span>1</span><span>,</span>
<span>        </span><span>column</span>: <span>1</span><span>,</span>
<span>        </span><span>north</span>:  <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>east</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>south</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>west</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span>
<span>    </span><span>};</span>
<span>    </span><span>println!</span><span>(</span><span>&#34; cell_one </span><span>\n</span><span> {:#?}&#34;</span><span>,</span><span> </span><span>&amp;</span><span>cell_one</span><span>);</span><span> </span><span>// &lt;- ...so it makes a cell_one reference before its ownership is transferred to cell_two</span>

<span>     </span><span>let</span><span> </span><span>cell_two</span>: <span>Cell</span><span> </span><span>=</span><span> </span><span>Cell</span><span>{</span>
<span>        </span><span>row</span>: <span>0</span><span>,</span>
<span>        </span><span>column</span>: <span>0</span><span>,</span>
<span>        </span><span>north</span>: <span>Some</span><span>(</span><span>Box</span>::<span>new</span><span>(</span><span>cell_one</span><span>)),</span>
<span>        </span><span>east</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>south</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>west</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span>
<span>    </span><span>};</span>

<span>    </span><span>println!</span><span>(</span><span>&#34; cell_two </span><span>\n</span><span> {:#?}&#34;</span><span>,</span><span> </span><span>cell_two</span><span>);</span>
<span>}</span>
</pre></div>
<p>Does this compile without errors?
Yes!</p>
<p>So that’s a partial confirmation of my understanding for why the use of a reference didn’t work.</p>
<p>Is there a <em>further</em> way I can prove or disprove this hypothesis?</p>
<p>Yes:</p>
<ul>
<li>Replace <code>println!(“{:#?}”, &amp;cell_one)</code> with <code>println!(“{:#?}”, cell_one)</code></li>
<li>Expect to see that the code does <em>not</em> compile</li>
</ul>
<p>I expect it to not compile because:</p>
<ul>
<li>Calling <code>println!(“{:#?}”, cell_one)</code> should pass the ownership of <code>cell_one</code> to <code>println!()</code></li>
<li>Then <code>cell_two</code> tries to use <code>cell_one</code> for its <code>north</code> field …</li>
<li>… it cannot, because it does not own it</li>
</ul>
<p>To test this hypothesis we go from this:</p>
<div><pre><span></span><span>fn</span> <span>main</span><span>(){</span>
<span>    </span><span>let</span><span> </span><span>cell_one</span>: <span>Cell</span><span> </span><span>=</span><span> </span><span>Cell</span><span> </span><span>{</span>
<span>        </span><span>row</span>: <span>1</span><span>,</span>
<span>        </span><span>column</span>: <span>1</span><span>,</span>
<span>        </span><span>north</span>:  <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>east</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>south</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>west</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span>
<span>    </span><span>};</span>
<span>    </span><span>println!</span><span>(</span><span>&#34; cell_one </span><span>\n</span><span> {:#?}&#34;</span><span>,</span><span> </span><span>&amp;</span><span>cell_one</span><span>);</span><span> </span><span>// &lt;- reference, &amp;cell_one</span>

<span>     </span><span>let</span><span> </span><span>cell_two</span>: <span>Cell</span><span> </span><span>=</span><span> </span><span>Cell</span><span>{</span>
<span>        </span><span>row</span>: <span>0</span><span>,</span>
<span>        </span><span>column</span>: <span>0</span><span>,</span>
<span>        </span><span>north</span>: <span>Some</span><span>(</span><span>Box</span>::<span>new</span><span>(</span><span>cell_one</span><span>)),</span><span> </span><span>// &lt;- use directly, cell_one</span>
<span>        </span><span>east</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>south</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>west</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span>
<span>    </span><span>};</span>

<span>    </span><span>println!</span><span>(</span><span>&#34; cell_two </span><span>\n</span><span> {:#?}&#34;</span><span>,</span><span> </span><span>cell_two</span><span>);</span>
<span>}</span>
</pre></div>
<p>To this:</p>
<div><pre><span></span><span>fn</span> <span>main</span><span>(){</span>
<span>    </span><span>let</span><span> </span><span>cell_one</span>: <span>Cell</span><span> </span><span>=</span><span> </span><span>Cell</span><span> </span><span>{</span>
<span>        </span><span>row</span>: <span>1</span><span>,</span>
<span>        </span><span>column</span>: <span>1</span><span>,</span>
<span>        </span><span>north</span>:  <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>east</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>south</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>west</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span>
<span>    </span><span>};</span>
<span>    </span><span>println!</span><span>(</span><span>&#34; cell_one </span><span>\n</span><span> {:#?}&#34;</span><span>,</span><span> </span><span>cell_one</span><span>);</span><span> </span><span>// &lt;- use directly, transferring ownership of cell_one to println!() ?</span>

<span>     </span><span>let</span><span> </span><span>cell_two</span>: <span>Cell</span><span> </span><span>=</span><span> </span><span>Cell</span><span>{</span>
<span>        </span><span>row</span>: <span>0</span><span>,</span>
<span>        </span><span>column</span>: <span>0</span><span>,</span>
<span>        </span><span>north</span>: <span>Some</span><span>(</span><span>Box</span>::<span>new</span><span>(</span><span>cell_one</span><span>)),</span><span> </span><span>// &lt;- meaning it&#39;s unavailable here?</span>
<span>        </span><span>east</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>south</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span><span>,</span>
<span>        </span><span>west</span>: <span>None</span>::<span>&lt;</span><span>Box</span><span>&lt;</span><span>Cell</span><span>&gt;&gt;</span>
<span>    </span><span>};</span>

<span>    </span><span>println!</span><span>(</span><span>&#34; cell_two </span><span>\n</span><span> {:#?}&#34;</span><span>,</span><span> </span><span>cell_two</span><span>);</span>
<span>}</span>
</pre></div>
<p>Let’s see if I’m right…</p>
<p>I’m not right.</p>
<p>It compiles.</p>
<p>Gah.</p>
<p>I suppose having gaps in my understanding of ownership is unsurprising given this is my first practical use of it. I&#39;ll park this for the time being and take it to the helpful folks at Rust ’n’ Rainbows next week.</p>
<h2 id="post-post-script">Post Post Script</h2>
<p>Is <code>Box::new</code> playing a part in this unexpected behaviour?</p>
</div>
</div></div>
  </body>
</html>
