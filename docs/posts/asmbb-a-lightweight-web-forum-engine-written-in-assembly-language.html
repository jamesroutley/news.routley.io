<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://asmbb.org/what-is-asmbb.1/">Original</a>
    <h1>AsmBB ‚Äì a lightweight web forum engine written in assembly language</h1>
    
    <div id="readability-page-1" class="page"><article>

<p>+ Beautiful themes: Glass, Neumor, Poly, Brutal, Joly, Tailwind, Snes
+ Insert URL in minimag button will use selected text as anchor text
+ Email verfication will be send as in default lang setting
+ Some minimag fix
+ Implement page (for contact, TOS...)
+ Implement API
</p>

<p>1. One new responsive theme has been created, named <strong>&#34;Urban Sunrise&#34;</strong>.
</p>
<p>+ This is an attempt to really improve the forum appearance. ( feedback is welcome ).
+ Also, this theme contains really improved post editors with embedded extended help for the post formatting.
+ In addition it supports <strong>Unicode Emoji</strong> characters in really native way, both in the post editor and the real-time chat: <span><span>üòÉ</span></span> <span><span>ü§ñ</span></span> <span><span>üèÜ</span></span> <span><span>ü•á</span></span>
+ &#34;Urban Sunrise&#34; supports <strong>source code syntax highlighting</strong> (through the JS library).
+ The real-time chat now accepts multi-row posts, including source code.
</p>
<p>2. Of course, all reported bugs has been fixed as well, both in AsmBB engine and in FreshLib library.
</p>

<p>+ Fixed several bugs, some of them critical. Thanks to the users of AsmBB and especially to <a href="https://board.asm32.info/!userinfo/ganuonglachanh%20">ganuonglachanh</a> for the helpful bug reports.
+ New theme, named <strong>&#34;Modern&#34;</strong> has been created. It is kind of universal and can be used both for desktop and mobile devices.
+ <strong>DDOS protection</strong> has been implemented for the rare cases AsmBB can&#39;t handle the requests rate. Now the engine can serve the users requests better when under attack.
+ URL analyzer for the MiniMag and BBCode parsers has been implemented in order to <strong>prevent XSS attacks</strong> in the user posted links.
</p>

<p>The main and major change in this release is the support for <strong>encrypted forum database</strong>. The great SQLite plugin <a href="https://github.com/resilar/sqleet">SQLeet</a> is used. According to the specification it supports:
</p>
<p>+ PBKDF2-HMAC-SHA256 key derivation with a 16-byte salt and 12345 iterations.
+ ChaCha20 stream cipher with one-time keys.
+ Poly1305 authentication tags.
</p>
<p>Of course, the encryption is optional and can be freely switched on and off from the administration settings panel (the new tab &#34;Encryption&#34;).
</p>
<p>Several minor bugs has been fixed in this release as well.
</p>
<p><strong><em>Why encrypted database?</em></strong>
</p>
<p>Because the encryption can seriously increase the security and the privacy of the forum database.
</p>
<p>The encryption key in AsmBB is never stored on the disk and only temporary stored in the RAM. That is why even serious security breach on the web server or the backup server, or the backup media will not compromise the database of the forum, the people account attributes or personal data.
</p>
<p>The only known problem of this solution is that the encryption key must be entered on every forum engine restart (through the web interface). This way, on incidental server restarts, the forum will be not accessible for some time. But AsmBB is long living and very stable application so, such issues happen once a several months or even years.
</p>
<p>Of course, using encrypted database makes the use of SSL/TLS mandatory.
</p>

<p><strong>1. German translation</strong>
</p>
<p>Although the German translation has been available in the v2.5 silent update of the binary pack, v2.6 is the first official version with German translation of the UI.
</p>
<p>Thanks to the community, in v2.6 all other translations are improved as well.
</p>
<p><strong>2. Atom/RSS feed support.</strong>
</p>
<p>The subscribing for themes and some way for push notifications was one of the most required feature.
</p>
<p>In v2.6 these requests has been addressed by support for Atom/RSS feeds.
</p>
<p>Now everyone can subscribe for the whole forum, for particular tag or for particular theme and get notifications when something is changed.
</p>
<p><strong>3. Real-time notifications engine</strong>
</p>
<p>The handling of the server sent events (SSE) has been rewritten from scratch in order to handle all users in a uniform manner.
</p>
<p>While in the earlier versions SSE was used only for the real-time chat, now the SSE service is flexible enough to be used for delivering notifications for many different forum events.
</p>
<p>Such as new posts, other users activities, etc.
</p>
<p>In addition now it serves all clients from a single thread, so arbitrary number of visitors can be served simultaneously with very little load on the server.
</p>
<p>Currently only limited number of notifications are implemented, but as long as the infrastructure is ready and easy expandable, more features can be added later.
</p>
<p><strong>4. Bug fixes and speed improvements.</strong>
</p>
<p>As usual all bugs discovered meanwhile has been fixed. And probably new introduced. But I believe the new bugs are less than the fixed bugs.
</p>
<p>At least, on the demo server, there were no spontaneous crashes or memory leaks detected during the whole period between the releases.
</p>
<p>The new SSE handling service improves the speed of event processing, especially on high and very high loads of the forum.
</p>
<p><strong>5. Updated SQLite and MUSL libraries</strong>
</p>
<p>Of course, the binary package contains the most recent versions of SQLite and MUSL.
</p>

<p><strong>1. User interface i18n</strong>
</p>
<p>The first major new feature in this release is the internationalization of the engine. Now every user can choose different language for the user interface of the forum. Currently are available 4 languages: English, Bulgarian, Russian and French.
</p>
<p>Notice, that some mistakes in the translations are possible and expected, so please, post your corrections and they will be fixed.
</p>
<p>Great thanks to <a href="https://board.asm32.info/!userinfo/macadoum">macadoum</a> for the French translation.
</p>
<p><strong>2. Second markup language - BBCode</strong>
</p>
<p>A parser for BBCode has been developed and now AsmBB understands two markup languages ( <strong>MiniMag</strong> and <strong>BBCode</strong>).
</p>
<p>In addition BBCode allows creation of scripts for migration from another forum engines, because BBCode is the most popular forum markup language.
</p>
<p><strong>3. Second email send mechanism</strong>
</p>
<p>Now it is possible to use external programs (such as <strong>sendmail</strong>) for sending emails to the forum users. This mechanism makes installation easier in the cases where no email server is installed.
</p>
<p><strong>4. The usual performance improvements and bug fixes.</strong>
</p>
<p>As usual the new release is faster than the previous and all detected bugs has been fixed. Of course, bugs and misbehaviours are still possible, so report them here and they will be fixed quickly.
</p>

<p>+ Now is possible to attach files to the posts. The <strong>attachments</strong> permissions are managed per user.
+ <strong>&#34;Limited access threads&#34;</strong> were implemented. <strong>LAT</strong> are something like private messages on steroids. The owner of the thread can set some list of users that have access to the thread. The thread is invisible for the other users and can be used for private conversations.
+ Improved <strong>users permissions management</strong>. The users permissions can be edited by the administrator from the user profile. Separate permissions for the not logged-in visitors (anonymous users) were implemented. This way, now is possible to make closed forum, where only the registered users will be able to read the threads. The registration of new users can be closed as well, creating totally private forum closed for the outer world.
+ The <strong>real-time chat service</strong> was refactored in order to serve all connections in single thread. Now almost unlimited number of visitors can chat. Now the chat can be merged with the main forum pages with very minor performance degradation.
+ And of course, the new version is about <strong>20% faster</strong> than the older versions, after the optimizations of the template rendering engine, the scheme of the database and the SQL requests.
+ New <strong>&#34;Terminal&#34; </strong> skin was developed for the lovers of the console user interface.
+ All revealed bugs were fixed.
+ The structure of the source code was changed as well. Now the dependency binary files (musl and sqlite library) are removed from the repository and instead a building script was developed that to download from Internet and build the latest versions of these libraries. This way only the latest versions of these libraries will be released with AsmBB.
</p>

<p>This is mainly fine-tuning and maintenance release, but two serious bugs have been fixed as well. Here is the change list:
</p>
<p>+ Several serious regressions were fixed.
+ The skins were reworked in order to provide more accessibility. Particularly all background images were replaced with &lt;img&gt; tags with respective &#34;alt&#34; texts. Now even with images switched off, the forum can be used flawlessly.
Some skin design issues have been fixed as well.
+ The JS code for the chat has been cleaned up and accelerated a little.
</p>

<p>+ <strong>Persistent login</strong> for the users that prefer it. It is off by default.
+ <strong>Reset password</strong> procedure.
+ Implemented &#34;<a href="https://blog.dbalan.in/!categories">Categories</a>&#34; type of navigation, based on the tags system. This way the users can set their own categories.
+ New theme <strong>MoLight</strong> : it is a mobile theme, the same style as Light theme.
+ Administrator debugging tool <a href="https://blog.dbalan.in/!debuginfo">!debuginfo</a>
+ Preserving the post edit/delete history and allows to restore them.
+ Improved the UI of the post editor, included some help texts where needed.
+ Improved JS code for the real time chat.
</p>

<p>+ Optional persistent login (default: off) for the users don&#39;t wanting to login on every visit.
+ &#34;Reset password&#34; - the most questionable new feature, because by its very nature, this is kind of security hole. :) The feature requires valid email and is accessible as a link in the <a href="https://blog.dbalan.in/!login">!login</a> form.
+ &#34;Users list&#34; a not_so_important feature but still useful, all users in one list, accessible on <a href="https://blog.dbalan.in/!userlist">!userlist</a>
+ Chat code updated with many new features: automatic anti-scroll to allow reading the old messages while the people chatting. Notification about missed messages in the tab header allows to follow the conversation without using pop-up notifications. Change of the nickname color, when the user switches to another tab. Speed optimized loading of the old messages on startup/refresh. (yes JS is slow,but still allows some speed optimizations <img src="https://blog.dbalan.in/templates/Tailwind/_images/emoticons/wink.gif" alt=";-)"/>
</p>

<p><strong>1. Performance</strong>
</p>
<p>The main AsmBB component, the templates render (`render.asm`) has been replaced by ` render2.asm`. Rewritten from scratch it uses more &#34;assembly style&#34; algorithms. As a result it is faster and uses less memory, compared with the old implementation.
</p>
<p>In addition, all chained string comparisons in the URL parsing logic, has been replaced by hash tables accelerating the common logic of the engine.
</p>
<p>This way the speed of AsmBB was approximately doubled. Now it is much harder to overload the engine and it can handle even more visitors simultaneously.
</p>
<p><strong>2. The code security</strong>
</p>
<p>After serious testing with different web application testing tools (including OWASP ZAP and Tinfoil security) some vulnerabilities has been discovered and fixed.
</p>
<p>The hard fuzzing and near DDOS loads of the above tests, as a side effect, revealed several obscure resource and memory leaks, that has been fixed as well.
</p>
<p>In order to track the leaks easier, was implemented a debugging tool that collects statistics about resources and memory allocations and deallocations and report them on a web page.
</p>
<p>As a result I am pretty confident that v2.0 is clean from memory leaks and SQLite hanging statements. </p>
</article></div>
  </body>
</html>
