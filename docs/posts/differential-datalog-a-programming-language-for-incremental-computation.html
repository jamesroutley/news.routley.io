<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/vmware/differential-datalog">Original</a>
    <h1>Differential Datalog: a programming language for incremental computation</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto"><a href="https://opensource.org/licenses/MIT" rel="nofollow"><img src="https://camo.githubusercontent.com/fd551ba4b042d89480347a0e74e31af63b356b2cac1116c7b80038f41b04a581/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4d49542d677265656e2e737667" alt="License: MIT" data-canonical-src="https://img.shields.io/badge/License-MIT-green.svg"/></a>
<a href="https://github.com/vmware/differential-datalog/actions"><img src="https://github.com/vmware/differential-datalog/actions/workflows/main.yml/badge.svg" alt="CI workflow"/></a>
<a href="https://gitlab.com/ddlog/differential-datalog/commits/master" rel="nofollow"><img src="https://camo.githubusercontent.com/113a755a0406a40d5317ddfa1f69c4ce6c51f3b61ddca8e95082ea319692898e/68747470733a2f2f6769746c61622e636f6d2f64646c6f672f646966666572656e7469616c2d646174616c6f672f6261646765732f6d61737465722f706970656c696e652e737667" alt="pipeline status" data-canonical-src="https://gitlab.com/ddlog/differential-datalog/badges/master/pipeline.svg"/></a>
<a href="https://blog.rust-lang.org/2021/05/10/Rust-1.52.1.html" rel="nofollow"><img src="https://camo.githubusercontent.com/f7195522c7c6c93b85959a8ee9c63f5f9b6a4239ef8ace40c63e31d04c324190/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f72757374632d312e35322e312b2d626c75652e737667" alt="rustc" data-canonical-src="https://img.shields.io/badge/rustc-1.52.1+-blue.svg"/></a>
<a href="https://gitter.im/vmware/differential-datalog" rel="nofollow"><img src="https://camo.githubusercontent.com/036f9340f345b144864f2d890fe30cd823dbb4bb3e533b1d546b2d4e6d791272/68747470733a2f2f6261646765732e6769747465722e696d2f766d776172652f646966666572656e7469616c2d646174616c6f672e706e67" alt="Gitter chat" data-canonical-src="https://badges.gitter.im/vmware/differential-datalog.png"/></a></p>

<p dir="auto">DDlog is a programming language for <em>incremental computation</em>. It is well suited for
writing programs that continuously update their output in response to input changes. With DDlog,
the programmer does not need to worry about writing incremental algorithms.
Instead they specify the desired input-output mapping in a declarative manner, using a dialect of Datalog.
The DDlog compiler then synthesizes an efficient incremental implementation.
DDlog is based on <a href="https://github.com/frankmcsherry/">Frank McSherry&#39;s</a>
excellent <a href="https://github.com/frankmcsherry/differential-dataflow">differential dataflow</a> library.</p>
<p dir="auto">DDlog has the following key properties:</p>
<ol dir="auto">
<li>
<p dir="auto"><strong>Relational</strong>: A DDlog program transforms a set of input relations (or tables) into a set of output relations.
It is thus well suited for applications that operate on relational data, ranging from real-time analytics to
cloud management systems and static program analysis tools.</p>
</li>
<li>
<p dir="auto"><strong>Dataflow-oriented</strong>: At runtime, a DDlog program accepts a <em>stream of updates</em> to input relations.
Each update inserts, deletes, or modifies a subset of input records. DDlog responds to an input update
by outputting an update to its output relations.</p>
</li>
<li>
<p dir="auto"><strong>Incremental</strong>: DDlog processes input updates by performing the minimum amount of work
necessary to compute changes to output relations.  This has significant performance benefits for many queries.</p>
</li>
<li>
<p dir="auto"><strong>Bottom-up</strong>: DDlog starts from a set of input facts and
computes <em>all</em> possible derived facts by following user-defined rules, in a bottom-up fashion.  In
contrast, top-down engines are optimized to answer individual user queries without computing all
possible facts ahead of time.  For example, given a Datalog program that computes pairs of connected
vertices in a graph, a bottom-up engine maintains the set of all such pairs.  A top-down engine, on
the other hand, is triggered by a user query to determine whether a pair of vertices is connected
and handles the query by searching for a derivation chain back to ground facts.  The bottom-up
approach is preferable in applications where all derived facts must be computed ahead of time and in
applications where the cost of initial computation is amortized across a large number of queries.</p>
</li>
<li>
<p dir="auto"><strong>In-memory</strong>: DDlog stores and processes data in memory.  In a typical use case, a DDlog program
is used in conjunction with a persistent database, with database records being fed to DDlog as
ground facts and the derived facts computed by DDlog being written back to the database.</p>
<p dir="auto">At the moment, DDlog can only operate on databases that completely fit the memory of a single
machine. We are working on a distributed version of DDlog that will be able to
partition its state and computation across multiple machines.</p>
</li>
<li>
<p dir="auto"><strong>Typed</strong>: In its classical textbook form Datalog is more of a mathematical formalism than a
practical tool for programmers.  In particular, pure Datalog does not have concepts like types,
arithmetics, strings or functions.  To facilitate writing of safe, clear, and concise code, DDlog
extends pure Datalog with:</p>
<ol dir="auto">
<li>
<p dir="auto">A powerful type system, including Booleans, unlimited precision integers, bitvectors, floating point numbers, strings,
tuples, tagged unions, vectors, sets, and maps. All of these types can be
stored in DDlog relations and manipulated by DDlog rules.  Thus, with DDlog
one can perform relational operations, such as joins, directly over structured data,
without having to flatten it first (as is often done in SQL databases).</p>
</li>
<li>
<p dir="auto">Standard integer, bitvector, and floating point arithmetic.</p>
</li>
<li>
<p dir="auto">A simple procedural language that allows expressing many computations natively in DDlog without resorting to external functions.</p>
</li>
<li>
<p dir="auto">String operations, including string concatenation and interpolation.</p>
</li>
<li>
<p dir="auto">Syntactic sugar for writing imperative-style code using for/let/assignments.</p>
</li>
</ol>
</li>
<li>
<p dir="auto"><strong>Integrated</strong>: while DDlog programs can be run interactively via a command line interface, its
primary use case is to integrate with other applications that require deductive database
functionality.  A DDlog program is compiled into a Rust library that can be linked against a Rust,
C/C++, Java, or Go program (bindings for other languages can be easily added).  This enables good performance,
but somewhat limits the flexibility, as changes to the relational schema or rules require re-compilation.</p>
</li>
</ol>
<h2 dir="auto"><a id="user-content-documentation" aria-hidden="true" href="#documentation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Documentation</h2>
<ul dir="auto">
<li>Follow the <a href="https://the.scapegoat.dev/vmware/differential-datalog/blob/master/doc/tutorial/tutorial.md">tutorial</a> for a step-by-step introduction to DDlog.</li>
<li>DDlog <a href="https://the.scapegoat.dev/vmware/differential-datalog/blob/master/doc/language_reference/language_reference.md">language reference</a>.</li>
<li>DDlog <a href="https://the.scapegoat.dev/vmware/differential-datalog/blob/master/doc/command_reference/command_reference.md">command reference</a> for writing and testing your own Datalog programs.</li>
<li><a href="https://the.scapegoat.dev/vmware/differential-datalog/blob/master/doc/java_api.md">How to</a> use DDlog from Java.</li>
<li><a href="https://the.scapegoat.dev/vmware/differential-datalog/blob/master/doc/c_tutorial/c_tutorial.rst">How to</a> use DDlog from C.</li>
<li><a href="https://the.scapegoat.dev/vmware/differential-datalog/blob/master/go/README.md">How to</a> use DDlog from Go and <a href="https://pkg.go.dev/github.com/vmware/differential-datalog/go/pkg/ddlog" rel="nofollow">Go API documentation</a>.</li>
<li><a href="https://the.scapegoat.dev/vmware/differential-datalog/blob/master/test/datalog_tests/rust_api_test">How to</a> use DDlog from Rust (by example)</li>
<li><a href="https://the.scapegoat.dev/vmware/differential-datalog/blob/master/doc/profiling/profiling.md">Tutorial</a> on profiling DDlog programs</li>
<li><a href="https://the.scapegoat.dev/vmware/differential-datalog/blob/master/doc/datalog2.0-workshop/paper.pdf">DDlog overview paper</a>, Datalog 2.0 workshop, 2019.</li>
</ul>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<h3 dir="auto"><a id="user-content-installing-ddlog-from-a-binary-release" aria-hidden="true" href="#installing-ddlog-from-a-binary-release"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installing DDlog from a binary release</h3>
<p dir="auto">To install a precompiled version of DDlog, download the <a href="https://github.com/vmware/differential-datalog/releases">latest binary release</a>, extract it from archive, add <code>ddlog/bin</code> to your <code>$PATH</code>, and set <code>$DDLOG_HOME</code> to point to the <code>ddlog</code> directory. You will also need to install the Rust toolchain (see instructions below).</p>
<p dir="auto">If you&#39;re using OS X, you will need to override the binary&#39;s security settings through <a href="https://support.apple.com/guide/mac-help/open-a-mac-app-from-an-unidentified-developer-mh40616/mac" rel="nofollow">these instructions</a>. Else, when first running the DDlog compiler (through calling <code>ddlog</code>), you will get the following warning dialog:</p>
<div data-snippet-clipboard-copy-content="&#34;ddlog&#34; cannot be opened because the developer cannot be verified.
macOS cannot verify that this app is free from malware."><pre><code>&#34;ddlog&#34; cannot be opened because the developer cannot be verified.
macOS cannot verify that this app is free from malware.
</code></pre></div>
<p dir="auto">You are now ready to <a href="https://the.scapegoat.dev/vmware/differential-datalog/blob/master/doc/tutorial/tutorial.md">start coding in DDlog</a>.</p>
<h3 dir="auto"><a id="user-content-compiling-ddlog-from-sources" aria-hidden="true" href="#compiling-ddlog-from-sources"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Compiling DDlog from sources</h3>
<h4 dir="auto"><a id="user-content-installing-dependencies-manually" aria-hidden="true" href="#installing-dependencies-manually"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installing dependencies manually</h4>
<ul dir="auto">
<li>Haskell <a href="https://github.com/commercialhaskell/stack">stack</a>:
<div data-snippet-clipboard-copy-content="wget -qO- https://get.haskellstack.org/ | sh"><pre><code>wget -qO- https://get.haskellstack.org/ | sh
</code></pre></div>
</li>
<li>Rust toolchain v1.52.1 or later:
<div data-snippet-clipboard-copy-content="curl https://sh.rustup.rs -sSf | sh
. $HOME/.cargo/env
rustup component add rustfmt
rustup component add clippy"><pre><code>curl https://sh.rustup.rs -sSf | sh
. $HOME/.cargo/env
rustup component add rustfmt
rustup component add clippy
</code></pre></div>
<strong>Note:</strong> The <code>rustup</code> script adds path to Rust toolchain binaries (typically, <code>$HOME/.cargo/bin</code>)
to <code>~/.profile</code>, so that it becomes effective at the next login attempt.  To configure your current
shell run <code>source $HOME/.cargo/env</code>.</li>
<li>JDK, e.g.:

</li>
<li>Google FlatBuffers library.  Download and build FlatBuffers release 1.11.0 from
<a href="https://github.com/google/flatbuffers/releases/tag/v1.11.0">github</a>.  Make sure
that the <code>flatc</code> tool is in your <code>$PATH</code>.  Additionally, make sure that FlatBuffers
Java classes are in your <code>$CLASSPATH</code>:
<div data-snippet-clipboard-copy-content="./tools/install-flatbuf.sh
cd flatbuffers
export CLASSPATH=`pwd`&#34;/java&#34;:$CLASSPATH
export PATH=`pwd`:$PATH
cd .."><pre><code>./tools/install-flatbuf.sh
cd flatbuffers
export CLASSPATH=`pwd`&#34;/java&#34;:$CLASSPATH
export PATH=`pwd`:$PATH
cd ..
</code></pre></div>
</li>
<li>Static versions of the following libraries: <code>libpthread.a</code>, <code>libc.a</code>, <code>libm.a</code>, <code>librt.a</code>, <code>libutil.a</code>,
<code>libdl.a</code>, <code>libgmp.a</code>, and <code>libstdc++.a</code> can be installed from distro-specific packages.  On Ubuntu:
<div data-snippet-clipboard-copy-content="apt install libc6-dev libgmp-dev"><pre><code>apt install libc6-dev libgmp-dev
</code></pre></div>
On Fedora:
<div data-snippet-clipboard-copy-content="dnf install glibc-static gmp-static libstdc++-static"><pre><code>dnf install glibc-static gmp-static libstdc++-static
</code></pre></div>
</li>
</ul>
<h4 dir="auto"><a id="user-content-building" aria-hidden="true" href="#building"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Building</h4>
<p dir="auto">To build the software once you&#39;ve installed the dependencies using one of the
above methods, clone this repository and set <code>$DDLOG_HOME</code> variable to point
to the root of the repository.  Run</p>

<p dir="auto">anywhere inside the repository to build the DDlog compiler.
To install DDlog binaries in Haskell stack&#39;s default binary directory:</p>

<p dir="auto">To install to a different location:</p>
<div data-snippet-clipboard-copy-content="stack install --local-bin-path &lt;custom_path&gt;"><pre><code>stack install --local-bin-path &lt;custom_path&gt;
</code></pre></div>
<p dir="auto">To test basic DDlog functionality:</p>
<div data-snippet-clipboard-copy-content="stack test --ta &#39;-p path&#39;"><pre><code>stack test --ta &#39;-p path&#39;
</code></pre></div>
<p dir="auto"><strong>Note:</strong> this takes a few minutes</p>
<p dir="auto">You are now ready to <a href="https://the.scapegoat.dev/vmware/differential-datalog/blob/master/doc/tutorial/tutorial.md">start coding in DDlog</a>.</p>
<h3 dir="auto"><a id="user-content-vim-syntax-highlighting" aria-hidden="true" href="#vim-syntax-highlighting"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>vim syntax highlighting</h3>
<p dir="auto">The easiest way to enable differential datalog syntax highlighting for <code>.dl</code> files in Vim is by
creating a symlink from <code>&lt;ddlog-folder&gt;/tools/vim/syntax/dl.vim</code> into <code>~/.vim/syntax/</code>.</p>
<p dir="auto">If you are using a plugin manager you may be able to directly consume the file from the upstream
repository as well. In the case of <a href="https://github.com/VundleVim/Vundle.vim"><code>Vundle</code></a>, for example,
configuration could look as follows:</p>
<div dir="auto" data-snippet-clipboard-copy-content="call vundle#begin(&#39;~/.config/nvim/bundle&#39;)
...
Plugin &#39;vmware/differential-datalog&#39;, {&#39;rtp&#39;: &#39;tools/vim&#39;} &lt;---- relevant line
...
call vundle#end()"><pre><span>call</span> <span>vundle#begin</span>(<span><span>&#39;</span>~/.config/nvim/bundle<span>&#39;</span></span>)
<span>...</span>
<span>Plugin</span> <span><span>&#39;</span>vmware/differential-datalog<span>&#39;</span></span>, {<span><span>&#39;</span>rtp<span>&#39;</span></span>: <span><span>&#39;</span>tools/vim<span>&#39;</span></span>} &lt;<span>----</span> relevant <span>line</span>
<span>...</span>
<span>call</span> <span>vundle#end</span>()</pre></div>
<h2 dir="auto"><a id="user-content-debugging-with-ghci" aria-hidden="true" href="#debugging-with-ghci"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Debugging with GHCi</h2>
<p dir="auto">To run the test suite with the GHCi debugger:</p>
<div data-snippet-clipboard-copy-content="stack ghci --ghci-options -isrc --ghci-options -itest differential-datalog:differential-datalog-test"><pre><code>stack ghci --ghci-options -isrc --ghci-options -itest differential-datalog:differential-datalog-test
</code></pre></div>
<p dir="auto">and type <code>do main</code> in the command prompt.</p>
<h2 dir="auto"><a id="user-content-building-with-profiling-info-enabled" aria-hidden="true" href="#building-with-profiling-info-enabled"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Building with profiling info enabled</h2>

<p dir="auto">followed by</p>

<p dir="auto">or</p>

</article>
          </div></div>
  </body>
</html>
