<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://swagnikdutta.github.io/recurse-center-2023/week-2/">Original</a>
    <h1>Week 2</h1>
    
    <div id="readability-page-1" class="page"><article>
    <p>
        <time datetime="2023-09-25 11:26:09 +0530 IST">
            2023-09-25
        </time>
    </p>

    

    

    <h2 id="good-monday-morning">Good monday morning</h2>
<p>This weekâ€™s primary goal is to complete my native DNS resolver. It would be nice to get it done within 3 days.</p>
<p>I like to have secondary projects/todos on the side so that if I hit a roadblock with the first one, there is something else to spend time on. There are couple of things in my mind</p>
<ul>
<li>I can watch Andy Pavloâ€™s lecture on database storage.
<ul>
<li>maybe it can conjure some new project ideas (building a LSM tree?)</li>
</ul>
</li>
<li>I can do some SQL practise everyday for about half an hour</li>
<li>Read further through the first chapter of SICP.</li>
<li>Read further through 100 Go mistakes.</li>
</ul>
<h2 id="end-of-week-retrospective">End of week retrospective</h2>
<h3 id="native-dns-resolver">Native DNS resolver</h3>
<p>I would say most of the week was spent working on my DNS resolver. I had to do multiple passes reading the <a href="https://datatracker.ietf.org/doc/html/rfc1035#section-4">RFC pages</a> because there was one part about serializing the <code>Question</code> section of the message which was not easy to understand, at least, not untill I came across this <a href="https://mislove.org/teaching/cs4700/spring11/handouts/project1-primer.pdf">pdf</a> that explained how to create a DNS query with an example.</p>
<p>So the Question section of the message consists of three fields</p>
<ul>
<li>Query name <code>QName</code></li>
<li>Query type <code>QType</code></li>
<li>Query class <code>QClass</code></li>
</ul>
<p>There are rules around serializing query name. This is what the RFC says,</p>
<blockquote>
<p>a domain name represented as a sequence of labels, where
each label consists of a length octet followed by that
number of octets.  The domain name terminates with the
zero length octet for the null label of the root.  Note
that this field may be an odd number of octets; no
padding is used.</p>
</blockquote>
<p>I found this a bit obscure as I could not understand what a label is and how I would build a sequence of labels. This is where the <a href="https://mislove.org/teaching/cs4700/spring11/handouts/project1-primer.pdf">pdf</a> was helpful in conveying.</p>
<p>I will try to explain. Say I want to find the address of the domain <code>www.northeastern.edu</code>. The label sequence is formed by concatenating the labels of its sub-domains. There are three sub-domains here - <code>www</code>, <code>northeastern</code> and <code>edu</code>. A label is created by</p>
<ul>
<li>a byte specifying the length of the subdomain appended with</li>
<li>bytes for each character in the subdomain. For <code>www</code>, it would look like
<pre tabindex="0"><code>03 77 77 77
</code></pre>because length of subdomain is 3 and â€˜wâ€™ converted to ascii is 119, which in hex is 77.</li>
<li>After repeating the same steps for the other two sub-domains i.e, <code>northeastern</code> and <code>edu</code>, and appending a null byte at the end, the final label sequence would look like</li>
</ul>
<pre tabindex="0"><code>03 77 77 77 0c 6e 6f 72 74 68 65 61 73 74 65 72 6e 03 65 64 75 00
</code></pre><p>We assign this sequence as value to the <code>QName</code> field.</p>
<h4 id="refactoring">Refactoring</h4>
<p>I was trying to model the code in a way that would enable me to plug in or plug out a resolver of my choice. So far, my ping utility was using the local resolver and my plan was to plug in my native resolver when itâ€™s ready but while working towards it, I realised that things were not rightly structured. I had created cyclic dependencies.</p>
<p>I ended up refactoring most parts of the project to fix it and this time, it felt right. It always does. For sometime.</p>
<h4 id="malformed-packet">Malformed packet</h4>
<p>Finally I was able to structure my DNS packet and send it out using UDP. I thought I had done it correctly, but wireshark disagreed. Said itâ€™s malformed.</p>
<p>I spent a lot of time debugging this, tried to ensure that Iâ€™m generating the correct byte sequence but without any luck.</p>
<h4 id="documentation">Documentation</h4>
<p>Iâ€™ve put some time and effort in documenting the types and its fields because switching back and forth between the editor and the RFC pages were annoying and distracting.</p>
<h3 id="an-evening-spent-delving-into-tcp">An evening spent delving into TCP</h3>
<p>I volunteered to use Julia Evanâ€™s guide to implement TCP in a weekend, which is in alpha while I write this.</p>
<p>Doing this exercise would mean using the guide to implement TCP in a language of my choice(Go) and report my findings in the process. I felt good about this exercise and it aligned with my goal at RC as well.</p>
<p>Spent sometime reading the code at a high level. I focused on the checksum calculation part which seemed <em>different</em>. I referred to the TCP <a href="https://datatracker.ietf.org/doc/html/rfc9293#v4pseudo">RFC pages</a> to learn that checksum calculation in TCP is somewhat differnet. It considers certain information from the IP header as well, which it calls pseudo-header.</p>
<p>What Iâ€™ve known so far is, if packet A encapsulates packet B, pakcet A has to consider the entirety of packet B while calculating its checksum.
But here it seemed that, packet B was interested in certain information from packet Aâ€™s header.</p>
<h3 id="rust">Rust</h3>
<h4 id="pairing">Pairing</h4>
<p>I paired with <a href="https://www.recurse.com/directory/5908-jacob-young">Jacob Young</a> on the zulip status bot he is writing in Rust. I was the silent navigator, my purpose being to get a feel of the language. I am no expert in comparing languages but I observed some surface-level similarities in syntax and programming style between Rust and Go. What Iâ€™m saying is, if I choose to learn Rust after using Go for a while, it should be easier than when I learned Go, especially since I originally came from a JavaScript background.</p>
<h4 id="book-reading-group">Book reading group</h4>
<p>Having felt somewhat motivated after the pairing, I showed interest in reading <a href="https://doc.rust-lang.org/book/">The Rust Programming Language</a> with some of my batchmates. Even as I write this, Iâ€™m not sure how far I will be able to continue since I have other priorities. But then, I also think, whatâ€™s the point of being in RC if I donâ€™t surprise myself by learning something totally unplanned!</p>
<h3 id="positive-accountability">Positive accountability</h3>
<p>Some discussions I had with few of my batchmates around accountability was particularly interesting. What I feel is, while a certain sense of accountability is essential, if overdone, it might feel restrictive. Like shackles tied to feet. Itâ€™s essential to keep the fun alive in computing.</p>
<p>Expressing our goals as â€˜I aim to complete X by the end of the day and Y within two daysâ€™ can sometimes feel burdensome. However, by rephrasing it as â€˜It would be fantastic to have this part fully functional by Thursday! ðŸ˜„,â€™ we can inspire ourselves and create a more positive and sustainable approach.</p>
<h3 id="sql-practice">SQL practice</h3>
<p>Had fun doing some SQL pairing with <a href="https://www.recurse.com/directory/5796-wyatt-daviau">Wyatt Daviau</a>. We solved few exercises on <a href="https://sqlzoo.net/wiki/SQL_Tutorial">sqlzoo</a>. This was particularly helpful after spending the past weekend going through <a href="https://selectstarsql.com/">Select Star SQL.</a></p>

</article></div>
  </body>
</html>
