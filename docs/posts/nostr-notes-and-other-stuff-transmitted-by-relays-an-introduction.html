<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://wiki.wellorder.net/post/nostr-intro/">Original</a>
    <h1>Nostr (“Notes and Other Stuff Transmitted by Relays.”) – An Introduction</h1>
    
    <div id="readability-page-1" class="page"><section>
    <p><a href="https://github.com/fiatjaf/nostr">Nostr</a> is a new system that brings me joy to work on and use, so I’d like to take a few moments to share a few words about it.  Nostr tries to solve the problem of publishing short notes (“and other stuff”) on the Internet.  Twitter solved this problem neatly, then complicated it through API and client restrictions, advertising, and a clumsy interface.  Finally, they fully unsolved it by inserting themselves as the arbiters of what speech is allowed.  That’s fine, their platform, their rules; clumsy censorship is just a feature I don’t want.  An “unfollow” button is all I need.  Twitter is only going to get worse, the <a href="https://blueskyweb.org/">Bluesky</a> initiative is an acknowledgement that something fundamental needs to change.</p>
<p>Software for chatting on the Internet should be small and fun.  We are just putting little snippets of text on computers, minimalism should be <em>de rigueur</em>.  I ran across Nostr when I was looking for an excuse to do some network programming.  I have a thing for <a href="https://wiki.wellorder.net/wiki/small-standards/" title="small standards">small standards</a>, and the Nostr spec was <a href="https://github.com/fiatjaf/nostr/blob/master/nips/01.md">75 lines</a> of exactly what I was looking for.</p>
<h2 id="notes-and-other-stuff-transmitted-by-relays">Notes and Other Stuff, Transmitted by Relays</h2>
<p>Nostr is all about censorship-resistant publishing of “events”.  In this context, I’ll be referring to <em>notes</em>, events that contain plain text.  Nostr is extensible to arbitrary event data, and part of the fun is imagining what can be built using these events.</p>
<p>Nostr authors create notes, digitally signed and timestamped.  Nobody can speak for you or impersonate you, but anyone can repeat and republish what you said.  Authors are identified by a public key, also used to verify their notes are authentic.  My public key is <code>35d26e4690cbe1a898af61cc3515661eb5fa763b57bd0b42e45099c8b32fd50f</code>.  A bit unwieldy, but that is what nicknames are for.</p>
<p>Nostr clients are the software tools that people use to publish and receive notes, implemented either with desktop software, or in-browser apps.  Clients create short-lived subscriptions to indicate what kinds of notes they are interested in, which can be based on attributes such as an author’s public key, time ranges, or tags.</p>
<p>The final component is the Nostr relay.  Relays provide the note storage and searching infrastructure for clients.  Nostr is distributed, but is not peer-to-peer.  Relays can act as clients to share notes with other relays, but this is not required.  Relays can charge a fee for note storage, or limit publishing to specific authorized users.  Relays are numerous and diverse (and, generally described as “dumb”).  Clients select relays based on the community and policies associated with them.</p>
<h2 id="solving-the-right-problems">Solving the Right Problems</h2>
<p>There is no blockchain.  No proprietary social sign-in.  No “<a href="https://en.wikipedia.org/wiki/Real-name_system">real-name policy</a>”  No distributed hash table, onion routing, raft consensus, or peer-to-peer protocol.  There is just a method of providing simple digitally signed text, and a simple, scalable search service.</p>
<p>Resilience is provided by the protocol being simple enough to implement in a weekend, in your language of choice.  Platform lock-in is impossible, since any client can republish any note to a different relay if one misbehaves or enacts a disagreeable policy.</p>
<p>Want to make a simple Nostr client?  Open a web browser javascript console, and enter the following.  You’ll see all my notes.  I get “sending mail with a telnet client” vibes when I do this.</p>
<div><pre><code data-lang="javascript"><span>// connect to a relay
</span><span></span><span>var</span> ws <span>=</span> <span>new</span> WebSocket(<span>&#34;wss://nostr-pub.wellorder.net&#34;</span>);
<span>// send a subscription request for text notes from authors with my pubkey
</span><span></span>ws.addEventListener(<span>&#39;open&#39;</span>, <span>function</span> (event) {
    ws.send(<span>&#39;[&#34;REQ&#34;, &#34;my-sub&#34;, {&#34;kinds&#34;:[1], &#34;authors&#34;:[&#34;35d26e4690cbe1&#34;]}]&#39;</span>);
});
<span>// print out all the returned notes
</span><span></span>ws.addEventListener(<span>&#39;message&#39;</span>, <span>function</span> (event) {
    console.log(<span>&#39;Note: &#39;</span>, JSON.parse(event.data)[<span>2</span>][<span>&#34;content&#34;</span>]);
});
</code></pre></div>
<p>To save you the trouble, here is what you might find.  You may notice that yes, notes can be replies to other notes (through special note tags).</p>
<div><pre><code data-lang="plaintext">&gt; Note:  I am now - welcome!
&gt; Note:  Nice, let me know if you have any feedback on the rust relay!
&gt; Note:  Found you from stacker.news; welcome!
&gt; Note:  Worst case, you can just run your own relay!
&gt; Note:  Very nice; great find.  Can&#39;t wait to watch.
...</code></pre></div>
<p>Want to retrieve all notes from one relay, and publish them to another?  A one-liner shell command does the trick, and will keep the destination up-to-date as long as you let it keep running:</p>
<div><pre><code data-lang="bash">$ <span>echo</span> <span>&#39;[&#34;REQ&#34;, &#34;mirror-everything&#34;, {}]&#39;</span> | <span>\
</span><span></span>  websocat -n <span>&#39;wss://source.example.com&#39;</span>  | <span>\
</span><span></span>  jq -c <span>&#39;[.[0,2]]&#39;</span> -M --unbuffered        | <span>\
</span><span></span>  websocat <span>&#39;wss://destination.example.com&#39;</span></code></pre></div>
<p>When it is this easy to make clients talk to relays, or turn relays into clients, we can have <em>fun</em> working with the system.  Prototypes of new ideas can happen in an evening.  And, you can have fun sharing and refining your ideas with others.</p>
<h2 id="just-the-beginning">Just The Beginning</h2>
<p>This is just a small peek into Nostr.  The protocol is extensible, and already there are working extensions that provide:</p>
<ul>
<li>Public follower lists and nicknames (<a href="https://github.com/fiatjaf/nostr/blob/master/nips/02.md">NIP-02</a>)</li>
<li>Private direct messages (<a href="https://github.com/fiatjaf/nostr/blob/master/nips/04.md">NIP-04</a>)</li>
<li>“Verified” accounts (<a href="https://github.com/fiatjaf/nostr/blob/master/nips/05.md">NIP-05</a>)</li>
<li>Event deletion (author-initiated) (<a href="https://github.com/fiatjaf/nostr/blob/master/nips/09.md">NIP-09</a>)</li>
</ul>
<p>There is much work to be done, and lots of exciting progress being made every day.  Nostr works today though, so pick up a client and send me a note!</p>
<h2 id="more-resources">More Resources</h2>
<ul>
<li><a href="https://github.com/fiatjaf/nostr">Nostr Github</a> - official Github project for the specification</li>
<li><a href="https://t.me/nostr_protocol">Telegram Group</a> - where development chat happens</li>
<li><a href="https://github.com/aljazceru/awesome-nostr">Awesome Nostr</a> - curated list of Nostr resources</li>
<li><a href="https://sr.ht/~gheartsfield/nostr-rs-relay/">Nostr-rs-relay</a> - my Nostr relay, written in Rust</li>
</ul>

</section></div>
  </body>
</html>
