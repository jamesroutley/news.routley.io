<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://fe-lang.org/">Original</a>
    <h1>Fe: next generation smart contract language for Ethereum</h1>
    
    <div id="readability-page-1" class="page"><div>
                
                <div>
                  <div>
                    <pre>                      <p>1
  2
  3
  4
  5
  6
  7
  8
  9
  10
  11
  12
  13
  14
  15
  16
  17
  18
  19
  20
  21
  22
  23

                      </p>
                      <code>
// Structs can be emitted as events
struct Signed {
    pub book_msg: String&lt;100&gt;
}

// The `contract` keyword defines a new contract type
contract GuestBook {
    // Strings are generic over a constant number
    // that restricts its maximum size
    messages: Map&lt;address, String&lt;100&gt;&gt;

    // Context is a struct provided by the standard library
    // that gives access to various features of the EVM
    pub fn sign(mut self, mut ctx: Context, book_msg: String&lt;100&gt;) {
        // All storage access is explicit using `self.&lt;some-key&gt;`
        self.messages[ctx.msg_sender()] = book_msg

        // Emit the `Signed` event.
        ctx.emit(Signed(book_msg))
    }

    pub fn get_msg(self, addr: address) -&gt; String&lt;100&gt; {
        // Copying data from storage to memory
        // has to be done explicitly via `to_mem()`
        return self.messages[addr].to_mem()
    }
}
</code>
                    </pre>
                  </div>
                </div>
              </div></div>
  </body>
</html>
