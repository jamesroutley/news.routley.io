<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.cloudcritical.org/article/kubernetes-documentary-part-1/">Original</a>
    <h1>Kubernetes Documentary: A Critical Review</h1>
    
    <div id="readability-page-1" class="page"><article>
    

    <div>
    

    <p><span>0001-01-01</span>
            
        

        

        

        
    </p>

    
        

        <h2 id="lets-watch-the-kubernetes-documentary">Let’s watch the Kubernetes Documentary!</h2>
<p>This documentary is a great launching point for my heterodox views on Kubernetes and the ecosystem
surrounding it. I was afraid it was going to be a commercial (it still kind of is),
but it actually substantiated
the research I had already done around the Kubernetes history.</p>
<p>I don’t want to start putting third party cookies in browsers.
So here is the link if you want to watch
<a href="https://youtu.be/BE77h7dmoQU">Kubernetes: The Documentary PART 1</a>.</p>
<h3 id="opening-scene">Opening Scene</h3>
<p>We have some direction from behind the camera as Tim Hockin tries to figure out audio and camera.
This could have been cut, but it gives it an Errol Morris sort of documentary feel.
These are real people doing real things.</p>
<h3 id="046-kelsey-hightower">0:46 Kelsey Hightower</h3>
<p>So here Kelsey Hightower says we were moving</p>
<blockquote>
<p>from pure virtualization into infrastructure as a service</p>
</blockquote>
<p>Which, you know if we want to be pedantic and it will become salient further on,
the infrastructure itself in the cloud was “pure virtualization”.</p>
<p>But then he says</p>
<blockquote>
<p>People are trying to abstract away the servers</p>
</blockquote>
<p>But the servers were already
abstracted away, unless we are discussing on-premise.
Given the fact that for the next 10 minutes they talk about how they
want to compete in the cloud, I don’t think that is what is meant.
AWS had already created a system that had abstracted all the hardware away.</p>
<p>The way they flip flop from talking about hardware and virtualization, seems to conflate
the two. Which I believe purposefully leads to a great deal of confusion.</p>
<h3 id="102-craig-mckluckie-now-vmware">1:02 Craig McKluckie (now VMWare)</h3>
<blockquote>
<p>We’re starting to see the ascendence of Amazon as certainly something
that was becoming mainstream enterprise technology</p>
</blockquote>
<p>The fact that is glossed over here is that Google was offering cloud services as far back as 2008.
They launched their compute services (VMs) in 2013.
It is not like they realized in 2013 “hey Amazon is doing cloud, we should too”.
They were doing cloud, they were just not performing well in the market.</p>
<h3 id="110-tim-hockin">1:10 Tim Hockin</h3>
<blockquote>
<p>AWS was this behemoth that was on Everybody’s mind</p>
</blockquote>
<p>If I worked at GCP in 2013, and looked at my market share numbers, I would be thinking
about AWS as well.</p>
<h3 id="128-chris-aniszczyk">1:28 Chris Aniszczyk</h3>
<blockquote>
<p>The main issue is they were so dominant that other people were like,
‘hmm, maybe we should have potentially a cloud-based business,’
right? Whether it’s like Google or Microsoft or other companies out there. The problem was they
were so kind of ahead that you…
if you want to change the game, you know strategically, like what do you do?</p>
</blockquote>
<p>Essentially Kubernetes was and is an attempt by Google to change what you think you need from
cloud. Even possibly redefine the term “cloud” as a strategic, corporate maneuver, not
to actually revolutionize compute services, for everyone’s benefit.</p>
<h3 id="149-ville-aikas-vmware-again">1:49 Ville Aikas (VMWare again)</h3>
<blockquote>
<p>We knew that we had really good computer technology because everything that we had been
doing was cloud first.</p>
</blockquote>
<p>I don’t think Google was operating “Cloud First”. Unless you want to define Borg as cloud,
which hey I will give a pass on that, but Borg works on bare metal, it isn’t even using
Virtualization. Google was managing all the physical machines, including all the crap that comes
with that. You could call that cloud, but it is not the same cloud that AWS, Azure or GCP
customers use. It is not what the masses believed cloud to be. If he means the GCP cloud, well
they may have been cloud first, but they must have been doing it wrong, because
they were in last place.</p>
<h3 id="206-joe-beda-vmware-again-sup1supnote1-">2:06 Joe Beda (VMWare again <a href="#note1"><!-- raw HTML omitted -->(1)<!-- raw HTML omitted --></a> )</h3>
<blockquote>
<p>How do we shake the snow  globe in a way that, you know, may not be
all about Google, but at least gives Google a fighting chance to be able to start grabbing some
of these customers and to start being that balance against the dominance that AWS had at the time?</p>
</blockquote>
<p>So to really drive the point home here.</p>
<p><strong>Kubernetes was invented solely so Google could be more competitive in the cloud space.</strong></p>
<p>The problem Kubernetes was attempting to solve was GCP’s less than stellar performance in
the cloud market.</p>
<h3 id="224-brian-grant">2:24 Brian Grant</h3>
<blockquote>
<p>Google was looking for ways to apply its internal infrastructure expertise to the cloud.
If we could leverage that expertise in that technology, then that would accelerate
our entry into the cloud space.</p>
</blockquote>
<p>You were in the cloud space for 5 years. Why do they keep saying “entry”? And Google’s internal
practices do not directly correlate to cloud as we would describe it, but maybe
they define cloud like
<a href="https://gigaom.com/2013/08/01/ibm-under-investigation-for-cloud-washing/">IBM does</a>.
IBM yet another large company and co-founder of the CNCF.
A company that was lagging so far behind, they
are not even ranked in market share reports anymore.</p>
<h3 id="236-kelsey-hightower">2:36 Kelsey Hightower</h3>
<blockquote>
<p>So around 2013, I think the world was kind of primed for some new abstractions.</p>
</blockquote>
<p>Were we? I feel like we were all talking about microservices, and chaos engineering, I personally
wanted decent service discovery (I still do).
At no point do I remember anyone saying we need more abstraction, but maybe I was
hanging around the wrong circles.</p>
<h3 id="404-arnaud-porterie">4:04 Arnaud Porterie</h3>
<blockquote>
<p>but the next step was really getting those things into production in a way that would scale.
You know, to the Google scale or Uber scale and those things were not accessible
to anyone. Really, this was really the unfair advantage of any sizeable company that had the
expertise to run this kind of services at scale. And this was the idea behind Docker.</p>
</blockquote>
<p>I am not sure where this idea of scalability comes from with Docker or Kubernetes. Containers
require a shared kernel even for one container, so it is completely reliant on an OS, which has
to run on bare metal or a VM. On bare metal you could argue, you can better exploit your resources
per machine, but that does not sound like some small hacker as he describes it. Small
hackers don’t run huge data centers, where the benefits of Borg <strong>may possibly</strong> be realized.
In the “traditional cloud” (AWS, Azure, etc) that argument sort of goes out the window.
AWS is not going to scale your machines faster because they are running containers.</p>
<p>This was TWO YEARS after Chaos Monkey was introduced,
which demonstrated automatic scaling and resiliency.
Netflix was scaling massively on AWS already… and so was Uber?!?</p>
<blockquote>
<p>Before Docker many companies  knew about containers…
it was it was running under the hood at Google,
at Heroku, at all those companies.</p>
</blockquote>
<p>Google runs on bare metal in their own data centers.
Heroku (correct me if I am wrong here, I could be) ran their own servers
with containers, consistently had scaling issues, then moved to EC2,
and now they are a thing that still exists.</p>
<h3 id="458-chen-goldberg">4:58 Chen Goldberg</h3>
<blockquote>
<p>What I think was really unique at that time is  that Docker Inc, created Docker and it made this
technology of containers so accessible, so easy to use with immediate benefits.</p>
</blockquote>
<p>Docker was great, but I am not sure anyone knew how to sell it yet, or what to offer in the cloud
world, which may be why Docker the company is where it is now. So I wonder if we really
knew the immediate benefits.</p>
<h3 id="510-arnaud-porterie">5:10 Arnaud Porterie</h3>
<blockquote>
<p>The whole idea was, ‘how can we build the OS that will allow people to program the cloud
in a way that abstracts away  the differences?
In a way that basically puts all the power in their hands,
without having to bother with the hardware?’</p>
</blockquote>
<p>I have been doing AWS for some time now, and I really have not had to worry about hardware.
I think what he means here
is the cloud provider, not the hardware. They wanted to abstract away the cloud provider.
They are once again conflating hardware to cloud VMs.</p>
<p>For us, the customers, abstracting away the cloud provider is appealing.  One common API to rule them
all sounds great, but it has problems. It is basically a race to the lowest common denominator,
of what all cloud providers offer.</p>
<p>For GCP, abstracting away the cloud provider is their attempt to normalize the workloads
so people could
possibly move to their cloud. Which is where terms like “cloud agnostic” or
“hybrid cloud” come from. Terms that are heavily promoted by Google, VMWare and IBM.</p>
<p>This did not work out for them in the end, and listening
to Thomas Kurian, you may see them abandon this strategy all together.</p>
<p>Which may be why in August 2018 Google
<a href="https://www.zdnet.com/article/google-cloud-hands-off-control-of-kubernetes-cloud-resources/">handed over control of Kubernetes to the CNCF</a> three month prior to
<a href="https://www.cxovoice.com/thomas-kurian-becomes-new-google-cloud-chief/">Kurian taking office</a></p>
<p>This also may be why a great deal of the people in this video now work for VMWare.</p>
<h3 id="510-brian-grant">5:10 Brian Grant</h3>
<blockquote>
<p>What Docker did that was innovative was it took all those different mechanisms you
needed and kind of bundled  it up into a single tool that you could run locally, or you could
run it in a data center or in the cloud.</p>
</blockquote>
<p>I completely support this statement, it is nice to run a completely different environment
right from my laptop or from a server in the cloud.
That is a clear benefit, but that does not suddenly lead me to Kubernetes.</p>
<h3 id="752-kelsey-hightower">7:52 Kelsey Hightower</h3>
<p>Errol Morris: How do you explain containers?</p>
<blockquote>
<p>Yeah, so if you take some real  world examples around us…
Let’s say, the holidays are coming up and you want  to ship something to a loved one as a present.
So let’s invent the post office.
And the post office says: ‘we can ship things,  but we don’t want you to bring loose things
to us. We don’t want loose books and jewellery  and money. No no. You need to put in a box.’
So if we extend this analogy,  let’s put an envelope.
Now there’s going to be a cost for me  to move this from one place to another,
and depending on how far it is and how  much it weighs, I’m gonna give you a price
and you can think about that like your stamp.
Now, whatever you put inside of it is up to you.
So the container can support  any programming language. Ruby,
Python, Java, Golang, it doesn’t matter.
To make Kubernetes efficient as the post  office, we need to ask you to put it in the box.
Now, the key is you now have to describe where  it needs to go. We need to put an address on it.
Where does it run, who’s it destined  for and how long would you like
to take, or are willing to  wait for it to get there?
And so, if you think about it, the post  office abstracts all that away from you.
You show up with your envelope  and your stamp and the address,
and they’ll tell you, ‘well, this  will get there in two or three days’.
Planes can break down. Cars can break down,
but no one at the post office calls  you when any of those things happen.
They make a promise to you, right? They  promise that this letter will get there
in two days. How they do it is not a concern.
So Kubernetes is built on this thing  we call ‘promise theory’. Even though
you have lots of machines in your Kubernetes  cluster, any of them can break at any time,
but Kubernetes’ job is to make sure that  application is always running, just like the
post office’s job is to make sure that letter  keeps moving until it gets to its destination.
Kubernetes does that for infrastructure.”</p>
</blockquote>
<p>That does not explain containers.
That explained Kubernetes, not containers, the two are not synonymous.</p>
<p>He basically also just described AMIs and Auto Scaling Groups.
Also serverless and any other PAAS that predated Kubernetes.
Everything STILL applies, and that pretty much
applies to ALL cloud providers. Maybe GCP doesn’t have this feature.</p>
<h3 id="1032-clayton-coleman">10:32 Clayton Coleman</h3>
<p>He says other stuff but this one should stand out, emphasis mine.</p>
<blockquote>
<p>if Red Hat hadn’t <strong>needed</strong> to think about what comes next after Linux..</p>
</blockquote>
<p>I have a theory!</p>
<p>There was a reason RedHat <strong>needed</strong> to think about a world after Linux… Amazon Linux.
Amazon Linux was a CentOS like(ish)
operating system that RedHat admins could easily adopt, and had support built
in with the cloud provider packaged with support for all their other services.
Why would a company pay Redhat for support on an OS plus cloud provider support, when
they already had OS support from the cloud provider?</p>
<p>This is why we have OpenShift.</p>
<p>End of theory.</p>
<h3 id="1103-joe-beda">11:03 Joe Beda</h3>
<blockquote>
<p>Now what? Now that I have a machine, how do I make that machine useful?’</p>
</blockquote>
<p>What the hell does this even mean? Is he implying we were wandering around like
morons our whole lives until Kubernetes showed us how to use computers? How was he using computers
before?</p>
<h3 id="1117-craig-mckluckie">11:17 Craig McKluckie</h3>
<blockquote>
<p>If we built the orchestration technology that would enable you to build real-world
distributed systems</p>
</blockquote>
<p>I mean Netflix was doing this way before Kubernetes. Granted they had built their own internal
tooling, but they were also building out a scale that most companies will never, ever have to
approach.</p>
<blockquote>
<p>What if we actually built the  whole orchestration system
as an open source project? What if we made that the thing that people could then deploy
and use? What if it wasn’t only available on Google but was available everywhere?</p>
</blockquote>
<p>Well then you would have that aforementioned common API that you were hoping
would allow customers to move to GCP.</p>
<h3 id="1117-craig-mckluckie-1">11:17 Craig McKluckie</h3>
<blockquote>
<p>I just wanted an opportunity to put  forth an open source community that would
generate a lot of attention and garner a lot of support
and then I wanted to be able to  run it better than anyone else.</p>
</blockquote>
<p>Ok, lets ignore the arrogance. So the worlds leading search engine
wanted to
<a href="https://www.washingtonpost.com/technology/2020/12/17/google-search-antitrust-lawsuit/">garner attention</a>
for their own Open Source platform just so they could drive business outcomes. I mean
in his own words he sounds like he is attempting social engineering.</p>
<p>Remarkably this aligns with Google’s own
<a href="https://www.theverge.com/2018/5/17/17344250/google-x-selfish-ledger-video-data-privacy">activities</a>
at the time.</p>
<p>Ultimately the goal was for customers to</p>
<blockquote>
<p>know GKE as being an industry-leading destination for workloads.</p>
</blockquote>
<p>This never really occurred. Last I checked Alibaba overtook them in market share, which is probably
why Kurian may change tact. Which begs the question where would that leave Kubernetes..</p>
<p>Well in the hands of IBM and VMWare of course.</p>
<h3 id="1527-ville-aikas">15:27 Ville Aikas</h3>
<p>This I think may be a testament to Google-think…</p>
<blockquote>
<p>There might be bugs.</p>
</blockquote>
<p>No, there absolutely will be bugs.</p>
<blockquote>
<p>so these contributors then come together and they go ahead and improve things all the time.</p>
</blockquote>
<p>Now there is a caveat to that OSS philosophy,
when all the controlling parties are creating open source
solely to increase their own profit margins… features and improvements that may improve the
capability of the software, but not improve their profits, may not make it into
the product. You can fork it, but forking a large code base, especially one as shit as Kubernetes,
and still getting community support can be daunting without some sort of titanic
change in the market.</p>
<h3 id="1642-tim-hockin">16:42 Tim Hockin</h3>
<blockquote>
<p>so we started communicating on a regular basis and bringing the unique experience
of the cloud folks, who know how to build that  product and work within that technology stack, and
the unique experience of the Borg people, who knew  how Borg worked, and meld those things together.</p>
</blockquote>
<p>I am lost, I thought you were already working in cloud, but now Borg isn’t cloud? So
all the people that developed Kubernetes didn’t actually work on Borg? They developed a
product first, then circled back around with the Borg people?
(see ### 1:49 Ville Aikas)</p>
<h3 id="1717-tim-hockin">17:17 Tim Hockin</h3>
<blockquote>
<p>going to someone like Urs and saying, ‘we want  to open source this’. Urs is very analytical.
He said, ‘why? What do we get out of this? What is the advantage that this brings to Google?’
and so his initial response was, I don’t think we need to do this.</p>
</blockquote>
<p>Clearly Urs is stating that Google does not do anything for your benefit. If it does not
feed their bottom line, even open source, it is not worth doing. Which is fine but later it begs
the question why did he change his mind?</p>
<p>It also makes me think if OSS is created solely to promote profit margins, is that
really good OSS, or just a tactic to wrap strategy in a thin veneer of altruism?</p>
<h3 id="1756-joe-beda">17:56 Joe Beda</h3>
<blockquote>
<p>if we didn’t get on this, if we didn’t get it out there, then the world was gonna pass us by and
we’re gonna be trying to adapt to something that we didn’t have a lot of influence on.</p>
</blockquote>
<p>So Kubernetes is rushed out the door, pursuing a hype cycle that they had heavy influence on,
so they could influence/control the OSS product, that was the motivation. This goes back to what I
said about corporate Open Source projects. (see ### 15:27 Ville Aikas)</p>
<h3 id="1756-joe-beda-1">17:56 Joe Beda</h3>
<blockquote>
<p>There was a turning point in the meeting where it’s clear that you know Urs was going to do it.</p>
</blockquote>
<p>What was the turning point?!?!? That seems kind of important? Why did he change his mind?
What was the sales pitch? That seems like a REALLY important point to gloss over. What was the answer
to his one fundamental question???? “What is the advantage that this brings to Google?”</p>
<h3 id="2156-joe-beda">21:56 Joe Beda</h3>
<blockquote>
<p>then we had to scramble to actually get the thing ready and get it out there.</p>
</blockquote>
<p>Just another scratched together product to sell. They continue on for a while at this point,
discussing the scramble (which led to the shitty code base)
to finish, to port to Go, to get ready for DockerCon, and naming it.</p>
<h2 id="conclusion">Conclusion</h2>
<p>So that is it for part 1.</p>
<p>The participants in this video spelled out some of
Kubernetes history I had already been researching. They frame it differently or will use
vague language, but it falls in line with what I had found.</p>
<p>I hope to review Part 2 soon. Thanks for reading.</p>
<h2 id="notes">Notes</h2>
<p><!-- raw HTML omitted -->(<!-- raw HTML omitted -->1<!-- raw HTML omitted -->)<!-- raw HTML omitted -->
This would be a good time to point out Diane Greene (formerly of VMWare)
was on the board of directors at Google
and took  over their cloud business in 2015.</p>

    
</div>

    


</article></div>
  </body>
</html>
