<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://sr.ht/~ashton314/emacs-bedrock/">Original</a>
    <h1>Emacs Bedrock: A minimal Emacs starter kit</h1>
    
    <div id="readability-page-1" class="page"><div>
<div>
<div>
<div><h2 id="bedrock"><a href="#bedrock" rel="nofollow noopener">#</a>Bedrock</h2>
<p>Stepping stones to a better Emacs experience</p>
<h3 id="synopsis"><a href="#synopsis" rel="nofollow noopener">#</a>Synopsis</h3>
<p>An <em>extremely</em> minimal Emacs starter kit uses just one external package by default, and only GNU-ELPA packages on an opt-in basis. Intended to be copied once and then modified as the user grows in knowledge and power.</p>
<ul>
<li><a href="https://sr.ht/~ashton314/emacs-bedrock/" rel="nofollow noopener">Project homepage</a></li>
<li><a href="https://todo.sr.ht/~ashton314/emacs-bedrock" rel="nofollow noopener">Issue Tracker</a></li>
<li>Mirrors:
<ul>
<li><a href="https://github.com/ashton314/emacs-bedrock" rel="nofollow noopener">GitHub</a> (just a place holder)</li>
</ul>
</li>
</ul>
<p><strong>NOTICE:</strong> Requires Emacs 29.1 or better.</p>
<h3 id="description"><a href="#description" rel="nofollow noopener">#</a>Description</h3>
<p>This is a minimal Emacs starter kit. Like, <em>really</em> minimal. Here&#39;s the short of the philosophy:</p>
<ul>
<li>
<p>Focus on using default, built-in Emacs behavior</p>
<p>Yes, we all love our fancy third-party packages. This starter kit focuses on what is built-in to Emacs. Why? Because there are too many good packages and picking and choosing the best is a joy we leave to the user.</p>
</li>
<li>
<p>Explain every customization and encourage modification</p>
<p>The goal of this starter kit is to encourage end-user adaptation and growth. All of the <code>.el</code> files should be legible and, more importantly, justify in plain English the rationale for adding the configuration they do.</p>
</li>
<li>
<p>No magic</p>
<p>We keep things <em>crushingly</em> simple here. That means no fancy loadable modules or whatnot. Everything is as straight-forward as can be.</p>
</li>
</ul>
<p>There are two files of interest: <code>early-init.el</code> and <code>init.el</code>.</p>
<h4 id="codeearly-initelcode"><a href="#codeearly-initelcode" rel="nofollow noopener">#</a><code>early-init.el</code></h4>
<p>The early init file uses <em>strictly</em> built-in Emacs features to do the following:</p>
<ul>
<li>Improve startup time</li>
<li>Set up initial frame behavior</li>
</ul>
<h4 id="codeinitelcode"><a href="#codeinitelcode" rel="nofollow noopener">#</a><code>init.el</code></h4>
<p>This is where the meat of all configuration goes. This file:</p>
<ul>
<li>Add minor UI niceties (e.g. clock in the tab-bar, full-screen by default, etc.)</li>
<li>Set the default theme (<code>modus-vivendi</code>)</li>
<li>Turn on discovery aids (e.g. <code>help-quick</code>, <a href="https://github.com/justbur/emacs-which-key" rel="nofollow noopener">which-key</a>, etc.)</li>
</ul>
<h4 id="trying-this-out-without-committing-too-hard"><a href="#trying-this-out-without-committing-too-hard" rel="nofollow noopener">#</a>Trying this out without committing too hard</h4>
<p>Emacs 29.1 added the handy <code>--init-directory</code> flag. This means that you can run <code>emacs --init-directory path/to/emacs-bedrock/</code> and all the customizations and package installations will be isolated to the project directory. Emacs should only add files that are already in the <code>.gitignore</code>.</p>
<p>Once you&#39;re happy, you should just copy <code>init.el</code> and <code>early-init.el</code> to <code>~/.emacs.d/</code>.</p>
<h3 id="mixins"><a href="#mixins" rel="nofollow noopener">#</a>Mixins</h3>
<p>For those who&#39;d like a little more help in tailoring Emacs for specific purposes, the <code>mixins/</code> folder contains a few files that can be included via <code>(load-file &#34;mixin/mixin-name.el&#34;)</code> from the <code>init.el</code> file, or copied wholesale or in part into <code>init.el</code> directly.</p>
<p><strong>NOTE:</strong> If you copy the <code>mixin/</code> directory to <code>~/.emacs.d/</code> or wherever you&#39;re setting <code>user-emacs-directory</code>, then simply incrementing the appropriate lines in the <code>init.el</code> file should work.</p>
<p>Mixins:</p>
<ul>
<li>Base UI Enhancements</li>
<li>Development tools</li>
<li>Org-mode</li>
<li>Vim refugee</li>
<li>Email (TODO: mu4e, EBDB)</li>
<li>Researcher (TODO: denote)</li>
</ul>
<h5 id="codemixinsbaseelcode"><a href="#codemixinsbaseelcode" rel="nofollow noopener">#</a><code>mixins/base.el</code></h5>
<p>Packages this mixin adds:</p>
<ul>
<li><a href="https://github.com/abo-abo/avy" rel="nofollow noopener">Avy</a></li>
<li><a href="https://github.com/oantolin/embark" rel="nofollow noopener">Embark</a></li>
<li><a href="https://github.com/minad/vertico" rel="nofollow noopener">Vertico</a></li>
<li><a href="https://github.com/minad/marginalia/" rel="nofollow noopener">Marginalia</a></li>
<li><a href="https://github.com/minad/corfu" rel="nofollow noopener">Corfu</a></li>
<li><a href="https://github.com/minad/consult" rel="nofollow noopener">Consult</a></li>
<li><a href="https://github.com/oantolin/orderless" rel="nofollow noopener">Orderless</a></li>
</ul>
<p>Along with a few ancillary packages that enhance the above.</p>
<p>These are some of the best UI enhancements that Emacs has to offer. Vertico and Consult make common operations like searching files, switching buffers, etc. a breeze. Corfu enhances the &#34;completion at point&#34; (aka &#34;tab-to-complete&#34;) to show a little popup window like what you&#39;d be used to in e.g. VS Code.</p>
<p>Avy is the fastest way to move around in a buffer, and it can do a <em>lot</em>.<a href="https://karthinks.com/software/avy-can-do-anything/" rel="nofollow noopener">^1</a> Embark is kind of like a right-click context menu, but entirely keyboard driven.</p>
<h5 id="codemixinsdevelcode"><a href="#codemixinsdevelcode" rel="nofollow noopener">#</a><code>mixins/dev.el</code></h5>
<p>Packages this mixin adds:</p>
<ul>
<li><a href="https://magit.vc" rel="nofollow noopener">magit</a></li>
<li>Markdown, YAML, and JSON modes</li>
</ul>
<p>Magit is the best Git interface in the known universe. Some people use Emacs just so they can use Magit. It&#39;s that good. Entry point is bound to <code>C-c g</code> by default.</p>
<p>Built-in packages that this mixin configures:</p>
<ul>
<li><a href="https://github.com/joaotavora/eglot" rel="nofollow noopener">Eglot</a> (<a href="https://microsoft.github.io/language-server-protocol/" rel="nofollow noopener">Language Server Protocol (LSP) client</a>)</li>
<li>Treesit (<a href="https://github.com/tree-sitter" rel="nofollow noopener">Tree-Sitter</a> support)</li>
</ul>
<p>Both of these packages are new in Emacs 29. Be sure to run <code>M-x treesit-install-language-grammar</code> to install the language grammar you&#39;ll need before editing a file the respective language for the first time.</p>
<h5 id="codemixinsvim-likeelcode"><a href="#codemixinsvim-likeelcode" rel="nofollow noopener">#</a><code>mixins/vim-like.el</code></h5>
<p>Packages this mixin adds:</p>
<ul>
<li><a href="https://github.com/emacs-evil/evil" rel="nofollow noopener">Evil</a></li>
</ul>
<p>If you like Vim keybindings, then this is the mixin for you. It configures <code>evil-mode</code> and enables it, so you get Vim-like keybindings all throughout Emacs. I understand that this is the best Vim emulation outside of Vim itself. I use <code>evil-mode</code> in all my work.</p>
<p>Other packages that I use personally, but are not on GNU or non-GNU ELPA and so left out of the config include:</p>
<ul>
<li><a href="https://github.com/emacs-evil/evil-collection" rel="nofollow noopener">Evil-Collection</a> Add Evil-friendly keybindings to lots of corners of Emacs</li>
<li><a href="https://github.com/cofi/evil-leader" rel="nofollow noopener">Evil-Leader</a> Setting a prefix (i.e. &#34;leader&#34;) key</li>
<li><a href="https://github.com/gregsexton/origami.el" rel="nofollow noopener">Origami</a> Code folding</li>
</ul>
<h5 id="codemixinsorgelcode"><a href="#codemixinsorgelcode" rel="nofollow noopener">#</a><code>mixins/org.el</code></h5>
<p>This mixin configures <code>org-mode</code>. There is a <em>lot</em> that Bedrock cannot configure out of the boxâ€”you will need to modify all variables to fit your file system and needs, as explained in comments in the file.</p>
<h5 id="codemixinsemailelcode"><a href="#codemixinsemailelcode" rel="nofollow noopener">#</a><code>mixins/email.el</code></h5>
<p>TODO</p>
<h3 id="using"><a href="#using" rel="nofollow noopener">#</a>Using</h3>
<p>Clone this repository wherever. Then you should copy <code>early-init.el</code>, <code>init.el</code>, and (optionally, recommended) <code>mixins/</code> into your <code>~/.emacs.d/</code> repository:</p>
<div><pre><span></span>git clone https://git.sr.ht/~ashton314/emacs-bedrock
mkdir -p ~/.emacs.d/
cp emacs-bedrock/early-init.el ~/.emacs.d/
cp emacs-bedrock/init.el ~/.emacs.d/
cp -r emacs-bedrock/mixins ~/.emacs.d/
</pre></div>
<p>Fire up Emacs and you&#39;re good to go!</p>
<h4 id="philosophy"><a href="#philosophy" rel="nofollow noopener">#</a>Philosophy</h4>
<p>Many people are looking for a good set of defaults and some easy-to-use switches that let Emacs get out of the way and let them work on what they want to. This is fine. This is not what Bedrock tries to do.</p>
<p>Emacs is the most customizable piece of software in existence. (No citation needed.) My goal with Bedrock is to make Emacs a little nicer by enabling some things that I personally think should be enabled by default. Bedrock goes a little further by suggesting a few well-built packages that go on to enhance the experience.</p>
<p>Bedrock encourages inspection and modification. I don&#39;t plan on making some core that periodically gets updated. You can think of this as just some guy&#39;s config that you wanted to adopt.</p>
<p>As an example of a deliberate choice, the <code>help-quick</code> buffer pops open on startup. Once a user has gotten used to this, they can just go into their <code>early-init.el</code> file and modify it themselves to remove that hook if they don&#39;t like it. It&#39;s a simple one-line change, and only users who are ready for it will do it.</p>
<p>When I started learning Emacs, my dad gave me his <code>.emacs</code> file. (That&#39;s what we used back in ye olden days instead of <code>.emacs.d/init.el</code> and stuff.) I used it without modification for many years. Eventually I learned how to write my own functions and customizations. This package aims to give other users a similar experience. When someone comes to me and expresses their desire to learn Emacs, I can point them at this to help them get over the initial hump, but not coddle them so much that they&#39;re afraid or unable to change things to their liking.</p>
<h3 id="requirements"><a href="#requirements" rel="nofollow noopener">#</a>Requirements</h3>
<p>Emacs 29.1 or later.</p>
<p>Emacs 29.1 is, as of 2023-09-04, the latest stable release. The specific features from Emacs 29.1 that Bedrock relies on are:</p>
<ul>
<li>The <code>use-package</code> macro for configuration</li>
<li>Enhancements to the built-in completion help (<code>completions-auto-select</code>, <code>completion-auto-help</code>, etc.)</li>
<li>Built-in tree-sitter support</li>
<li>Built-in LSP client (Eglot)</li>
</ul>
<h3 id="development"><a href="#development" rel="nofollow noopener">#</a>Development</h3>
<p>This is version <code>1.0.0</code>. No new <code>use-package</code> declarations will be added to <code>init.el</code>. No promises on the mixins. :)</p>
<p>This is a hobby project. Please be patient with development.</p>
<p>I welcome any feedback you may have. You can <a href="https://todo.sr.ht/~ashton314/emacs-bedrock" rel="nofollow noopener">open issues</a> or <a href="https://lambdaland.org/#contact" rel="nofollow noopener">drop me a line</a> directly with any comments or suggestions.</p>
<h4 id="roadmap"><a href="#roadmap" rel="nofollow noopener">#</a>Roadmap</h4>
<p>See the <a href="https://todo.sr.ht/~ashton314/emacs-bedrock" rel="nofollow noopener">issue tracker</a> on SourceHut.</p>
<h3 id="changelog"><a href="#changelog" rel="nofollow noopener">#</a>Changelog</h3>
<ul>
<li>
<p>1.0.0</p>
<p>2023-09-04</p>
<p>First &#34;stable&#34; release! Line number width improved, fix default load paths, expand Eglot and Vertico config, fix Corfu load.</p>
</li>
<li>
<p>0.2.1</p>
<p>2023-06-20</p>
<p>Minor bug fixes; add Embark package.</p>
</li>
<li>
<p>0.2.0</p>
<p>2023-03-14</p>
<p>Flesh out the <code>mixin/vim-like.el</code> so that there&#39;s <em>some</em> Vim configuration.</p>
</li>
<li>
<p>0.1.0</p>
<p>2023-01-17</p>
<p>Begin work on <code>mixin/org.el</code>, turn on windmove-mode.</p>
</li>
<li>
<p>0.0.2</p>
<p>2023-01-03</p>
<p>Reorganize to slim down <code>early-init.el</code> and add the first mixin files.</p>
</li>
<li>
<p>0.0.1</p>
<p>2023-01-03</p>
<p>Initial &#34;release&#34;.</p>
</li>
</ul>

<ul>
<li>Ashton Wiersdorf <a href="https://lambdaland.org" rel="nofollow noopener">https://lambdaland.org</a></li>
</ul>
</div>
</div>
</div>
</div></div>
  </body>
</html>
