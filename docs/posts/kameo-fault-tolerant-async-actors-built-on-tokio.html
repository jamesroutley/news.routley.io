<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/tqwewe/kameo">Original</a>
    <h1>Show HN: Kameo â€“ Fault-tolerant async actors built on Tokio</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a href="https://discord.gg/GMX4DV9fbk" rel="nofollow"><img src="https://camo.githubusercontent.com/de01de63a60e5025dc1f21adca1ef326d5f002533cc28538c0fb52eb006b89fd/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f446973636f72642d3538363865343f6c6f676f3d646973636f7264266c6f676f436f6c6f723d7768697465" alt="Discord" data-canonical-src="https://img.shields.io/badge/Discord-5868e4?logo=discord&amp;logoColor=white"/></a>
<a href="https://docs.page/tqwewe/kameo" rel="nofollow"><img src="https://camo.githubusercontent.com/22ce4cc7c63aa7852c4cb43f04ea13d9b6a8fd0f406e82168eca56b4624838c6/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f426f6f6b2d3042306430653f6c6f676f3d6d64626f6f6b" alt="Book" data-canonical-src="https://img.shields.io/badge/Book-0B0d0e?logo=mdbook"/></a>
<a href="https://crates.io/crates/kameo" rel="nofollow"><img src="https://camo.githubusercontent.com/8b6d516b44f5adc3cb90cb6401d8b1961eca5b10b9f541ab970defb8a960b6f0/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f6b616d656f" alt="Crates.io Version" data-canonical-src="https://img.shields.io/crates/v/kameo"/></a>
<a href="https://docs.rs/kameo" rel="nofollow"><img src="https://camo.githubusercontent.com/b1f9b5ce6c43182e633f38f0741b16988f91afa4c54227628563965a43e8f1e2/68747470733a2f2f696d672e736869656c64732e696f2f646f637372732f6b616d656f" alt="docs.rs" data-canonical-src="https://img.shields.io/docsrs/kameo"/></a>
<a href="https://crates.io/crates/kameo" rel="nofollow"><img src="https://camo.githubusercontent.com/a30fcd41e73241617bd50363f0702ab1b0a9c62654fb53c94905f5553a78b20a/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f642f6b616d656f" alt="Crates.io Total Downloads" data-canonical-src="https://img.shields.io/crates/d/kameo"/></a>
<a href="https://crates.io/crates/kameo" rel="nofollow"><img src="https://camo.githubusercontent.com/21a494fd98e78012e0084b2ad30080d6a809c6f7a2e4f284fb1984c7fef653ed/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f6c2f6b616d656f" alt="Crates.io License" data-canonical-src="https://img.shields.io/crates/l/kameo"/></a>
<a href="https://github.com/tqwewe/kameo/graphs/contributors"><img src="https://camo.githubusercontent.com/a1de366ecc9d97f3ef2533678071468b6eea4fcc5165d3c883f8c9db7efd9c5d/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6e7472696275746f72732d616e6f6e2f7471776577652f6b616d656f" alt="GitHub Contributors" data-canonical-src="https://img.shields.io/github/contributors-anon/tqwewe/kameo"/></a>
<a href="https://github.com/tqwewe/kameo/stargazers"><img src="https://camo.githubusercontent.com/232824165a50e4f7a23d73db9a70f7bbf65f1a7e187737899f635f28b2de81da/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f7471776577652f6b616d656f" alt="GitHub Stars" data-canonical-src="https://img.shields.io/github/stars/tqwewe/kameo"/></a></p>
<p dir="auto"><a href="https://github.com/tqwewe/kameo"><img src="https://github.com/tqwewe/kameo/raw/main/banner.png?raw=true" alt="Kameo banner image"/></a></p>

<p dir="auto">Kameo is a lightweight Rust library for building fault-tolerant, distributed, and asynchronous actors. It allows seamless communication between actors across nodes, providing <a href="#use-cases">scalability</a>, <a href="#feature-highlights">backpressure</a>, and panic recovery for robust distributed systems.</p>

<ul dir="auto">
<li><strong>Async Rust</strong>: Each actor runs as a separate Tokio task, making concurrency easy and efficient.</li>
<li><strong>Supervision</strong>: Link actors to create a fault-tolerant, self-healing actor hierarchy.</li>
<li><strong>Remote Messaging</strong>: Send messages to actors on different nodes seamlessly.</li>
<li><strong>Panic Safety</strong>: Panics are gracefully handled, allowing the system to recover and continue running.</li>
<li><strong>Backpressure Management</strong>: Supports both bounded and unbounded mpsc messaging for handling load effectively.</li>
</ul>

<p dir="auto">Kameo is versatile and can be applied in various domains, such as:</p>
<ul dir="auto">
<li><strong>Distributed Microservices</strong>: Build resilient microservices that communicate reliably over a distributed network.</li>
<li><strong>Real-Time Systems</strong>: Ideal for building chat systems, multiplayer games, or real-time monitoring dashboards where low-latency communication is essential.</li>
<li><strong>IoT Devices</strong>: Deploy lightweight actors on low-resource IoT devices for seamless networked communication.</li>
</ul>


<ul dir="auto">
<li>Rust installed (check <a href="https://rustup.rs" rel="nofollow">rustup</a> for installation instructions)</li>
<li>A basic understanding of asynchronous programming in Rust</li>
</ul>

<p dir="auto">Add kameo as a dependency in your <code>Cargo.toml</code> file:</p>

<div dir="auto"><h2 tabindex="-1" dir="auto">Example: Defining an Actor</h2><a id="user-content-example-defining-an-actor" aria-label="Permalink: Example: Defining an Actor" href="#example-defining-an-actor"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="use kameo::Actor;
use kameo::message::{Context, Message};
use kameo::request::MessageSend;

// Define an actor that will keep a count
#[derive(Actor)]
struct Counter {
    count: i64,
}

// Define the message for incrementing the count
struct Inc { amount: i64 }

// Implement how the actor will handle incoming messages
impl Message&lt;Inc&gt; for Counter {
    type Reply = i64;

    async fn handle(&amp;mut self, msg: Inc, _ctx: Context&lt;&#39;_, Self, Self::Reply&gt;) -&gt; Self::Reply {
        self.count += msg.amount;
        self.count
    }
}"><pre><span>use</span> kameo<span>::</span><span>Actor</span><span>;</span>
<span>use</span> kameo<span>::</span>message<span>::</span><span>{</span><span>Context</span><span>,</span> <span>Message</span><span>}</span><span>;</span>
<span>use</span> kameo<span>::</span>request<span>::</span><span>MessageSend</span><span>;</span>

<span>// Define an actor that will keep a count</span>
<span>#<span>[</span>derive<span>(</span><span>Actor</span><span>)</span><span>]</span></span>
<span>struct</span> <span>Counter</span> <span>{</span>
    <span>count</span><span>:</span> <span>i64</span><span>,</span>
<span>}</span>

<span>// Define the message for incrementing the count</span>
<span>struct</span> <span>Inc</span> <span>{</span> <span>amount</span><span>:</span> <span>i64</span> <span>}</span>

<span>// Implement how the actor will handle incoming messages</span>
<span>impl</span> <span>Message</span><span>&lt;</span><span>Inc</span><span>&gt;</span> <span>for</span> <span>Counter</span> <span>{</span>
    <span>type</span> <span>Reply</span> = <span>i64</span><span>;</span>

    <span>async</span> <span>fn</span> <span>handle</span><span>(</span><span>&amp;</span><span>mut</span> <span>self</span><span>,</span> <span>msg</span><span>:</span> <span>Inc</span><span>,</span> <span>_ctx</span><span>:</span> <span>Context</span><span>&lt;</span><span>&#39;</span>_<span>,</span> <span>Self</span><span>,</span> <span>Self</span><span>::</span><span>Reply</span><span>&gt;</span><span>)</span> -&gt; <span>Self</span><span>::</span><span>Reply</span> <span>{</span>
        <span>self</span><span>.</span><span>count</span> += msg<span>.</span><span>amount</span><span>;</span>
        <span>self</span><span>.</span><span>count</span>
    <span>}</span>
<span>}</span></pre></div>
<p dir="auto">Spawn and message the actor.</p>
<div dir="auto" data-snippet-clipboard-copy-content="// Spawn the actor and get a reference to it
let actor_ref = kameo::spawn(Counter { count: 0 });

// Use the actor reference to send a message and receive a reply
let count = actor_ref.ask(Inc { amount: 42 }).send().await?;
assert_eq!(count, 42);"><pre><span>// Spawn the actor and get a reference to it</span>
<span>let</span> actor_ref = kameo<span>::</span><span>spawn</span><span>(</span><span>Counter</span> <span>{</span> <span>count</span><span>:</span> <span>0</span> <span>}</span><span>)</span><span>;</span>

<span>// Use the actor reference to send a message and receive a reply</span>
<span>let</span> count = actor_ref<span>.</span><span>ask</span><span>(</span><span>Inc</span> <span>{</span> <span>amount</span><span>:</span> <span>42</span> <span>}</span><span>)</span><span>.</span><span>send</span><span>(</span><span>)</span><span>.</span><span>await</span>?<span>;</span>
<span>assert_eq</span><span>!</span><span>(</span>count, <span>42</span><span>)</span><span>;</span></pre></div>

<ul dir="auto">
<li><a href="https://docs.rs/kameo" rel="nofollow">Documentation</a></li>
<li><a href="https://docs.page/tqwewe/kameo" rel="nofollow">The Kameo Book</a></li>
<li><a href="https://crates.io/crates/kameo" rel="nofollow">Crates.io</a></li>
<li><a href="https://discord.gg/GMX4DV9fbk" rel="nofollow">Discord</a></li>
</ul>

<p dir="auto">Contributions are welcome! Whether you are a beginner or an experienced Rust developer, there are many ways to contribute:</p>
<ul dir="auto">
<li>Report issues or bugs</li>
<li>Improve documentation</li>
<li>Submit pull requests for new features or bug fixes</li>
<li>Suggest new ideas in discussions</li>
</ul>
<p dir="auto">Join our community on <a href="https://discord.gg/GMX4DV9fbk" rel="nofollow">Discord</a> to connect with fellow contributors!</p>

<p dir="auto"><code>kameo</code> is dual-licensed under either:</p>
<ul dir="auto">
<li>MIT License (<a href="https://github.com/tqwewe/kameo/blob/main/LICENSE-MIT">LICENSE-MIT</a> or <a href="http://opensource.org/licenses/MIT" rel="nofollow">http://opensource.org/licenses/MIT</a>)</li>
<li>Apache License, Version 2.0 (<a href="https://github.com/tqwewe/kameo/blob/main/LICENSE-APACHE">LICENSE-APACHE</a> or <a href="http://www.apache.org/licenses/LICENSE-2.0" rel="nofollow">http://www.apache.org/licenses/LICENSE-2.0</a>)</li>
</ul>
<p dir="auto">at your option.</p>
<hr/>
<p dir="auto"><a href="#kameo-">Home</a> | <a href="#feature-highlights">Features</a> | <a href="#use-cases">Use Cases</a> | <a href="#getting-started">Get Started</a> | <a href="#additional-resources">Additional Resources</a> | <a href="#contributing">Contributing</a> | <a href="#license">License</a></p>
</article></div></div>
  </body>
</html>
