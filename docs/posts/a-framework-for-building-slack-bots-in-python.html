<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/DonDebonair/slack-machine">Original</a>
    <h1>Show HN: A framework for building Slack bots in Python</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto"><a href="https://join.slack.com/t/slack-machine-chat/shared_invite/zt-1g87tzvlf-8bV_WnY3JZyaYNnRFwRd~w" rel="nofollow"><img src="https://camo.githubusercontent.com/9b612be8622d73cab503c8b1450dad7f265438aa9aba694cd8998279cd9dcb8b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636861742d736c61636b2d677265656e3f6c6f676f3d736c61636b266c6f676f436f6c6f723d7768697465" alt="Join the chat at Slack" data-canonical-src="https://img.shields.io/badge/chat-slack-green?logo=slack&amp;logoColor=white"/></a>
<a href="https://pypi.python.org/pypi/slack-machine" rel="nofollow"><img src="https://camo.githubusercontent.com/7a62ede78c4f36bd191506067076de67f437e3c278b139f44c85e9cfd36a041a/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f736c61636b2d6d616368696e652e737667" alt="image" data-canonical-src="https://img.shields.io/pypi/v/slack-machine.svg"/></a>
<a href="https://pypi.python.org/pypi/slack-machine" rel="nofollow"><img src="https://camo.githubusercontent.com/d3de9a03919a5184a652963ed2c2b5d52e1360a091113e275bacb8bd24ac9191/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f736c61636b2d6d616368696e652e737667" alt="image" data-canonical-src="https://img.shields.io/pypi/l/slack-machine.svg"/></a>
<a href="https://pypi.python.org/pypi/slack-machine" rel="nofollow"><img src="https://camo.githubusercontent.com/614a96cd0375fcfbf641d102980c5eec1123271d5921c551d996ae9c81afbf60/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f736c61636b2d6d616368696e652e737667" alt="image" data-canonical-src="https://img.shields.io/pypi/pyversions/slack-machine.svg"/></a>
<a href="https://github.com/DonDebonair/slack-machine/actions/workflows/ci.yml"><img src="https://github.com/DonDebonair/slack-machine/actions/workflows/ci.yml/badge.svg" alt="CI Status"/></a>
<a href="https://codecov.io/gh/DonDebonair/slack-machine" rel="nofollow"><img src="https://camo.githubusercontent.com/9232aa9474827de7c3f829325524f9921dbe5d9c8bc5863a8e81f506aa86b01e/68747470733a2f2f636f6465636f762e696f2f67682f446f6e4465626f6e6169722f736c61636b2d6d616368696e652f6272616e63682f6d61696e2f67726170682f62616467652e737667" alt="image" data-canonical-src="https://codecov.io/gh/DonDebonair/slack-machine/branch/main/graph/badge.svg"/></a></p>
<p dir="auto">Slack Machine is a simple, yet powerful and extendable Slack bot framework. More than just a bot, Slack
Machine is a framework that helps you develop your Slack workspace into a ChatOps powerhouse. Slack Machine is built
with an intuitive plugin system that lets you build bots quickly, but also allows for easy code organization. A
plugin can look as simple as this:</p>
<div dir="auto" data-snippet-clipboard-copy-content="from machine.plugins.base import MachineBasePlugin, Message
from machine.plugins.decorators import respond_to

class DeploymentPlugin(MachineBasePlugin):
    &#34;&#34;&#34;Deployments&#34;&#34;&#34;
    @respond_to(r&#34;deploy (?P&lt;application&gt;\w+) to (?P&lt;environment&gt;\w+)&#34;)
    async def deploy(self, msg: Message, application, environment):
        &#34;&#34;&#34;deploy &lt;application&gt; &lt;environment&gt;: deploy application to target environment&#34;&#34;&#34;
        await msg.say(f&#34;Deploying {application} to {environment}&#34;)"><pre><span>from</span> <span>machine</span>.<span>plugins</span>.<span>base</span> <span>import</span> <span>MachineBasePlugin</span>, <span>Message</span>
<span>from</span> <span>machine</span>.<span>plugins</span>.<span>decorators</span> <span>import</span> <span>respond_to</span>

<span>class</span> <span>DeploymentPlugin</span>(<span>MachineBasePlugin</span>):
    <span>&#34;&#34;&#34;Deployments&#34;&#34;&#34;</span>
    <span>@<span>respond_to</span>(<span>r&#34;deploy (?P&lt;application&gt;\w+) to (?P&lt;environment&gt;\w+)&#34;</span>)</span>
    <span>async</span> <span>def</span> <span>deploy</span>(<span>self</span>, <span>msg</span>: <span>Message</span>, <span>application</span>, <span>environment</span>):
        <span>&#34;&#34;&#34;deploy &lt;application&gt; &lt;environment&gt;: deploy application to target environment&#34;&#34;&#34;</span>
        <span>await</span> <span>msg</span>.<span>say</span>(<span>f&#34;Deploying <span><span>{</span><span>application</span><span>}</span></span> to <span><span>{</span><span>environment</span><span>}</span></span>&#34;</span>)</pre></div>
<h2 dir="auto"><a id="user-content-note" aria-hidden="true" href="#note"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><em>Note</em></h2>
<p dir="auto">As of v0.30.0 Slack Machine dropped support for the old backend based on the RTM API. As such, Slack Machine is now
fully based on <a href="https://docs.python.org/3/library/asyncio.html" rel="nofollow">AsyncIO</a>. This means plugins written before the
rewrite to asyncio aren&#39;t supported anymore. See <a href="https://dondebonair.github.io/slack-machine/migrating/" rel="nofollow">here</a> for
a migration guide to get your old plugins working with the new version of Slack Machine.</p>
<p dir="auto">It&#39;s really easy!</p>
<h2 dir="auto"><a id="user-content-features" aria-hidden="true" href="#features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Features</h2>
<ul dir="auto">
<li>Get started with mininal configuration</li>
<li>Built on top of the <a href="https://api.slack.com/apis/connections/events-api" rel="nofollow">Slack Events API</a> for smoothly responding
to events in semi real-time. Uses <a href="https://api.slack.com/apis/connections/socket" rel="nofollow">Socket Mode</a> so your bot doesn&#39;t
need to be exposed to the internet!</li>
<li>Support for rich interactions using the <a href="https://api.slack.com/web" rel="nofollow">Slack Web API</a></li>
<li>High-level API for maximum convenience when building plugins</li>
<li>Low-level API for maximum flexibility</li>
<li>Built on top of <a href="https://docs.python.org/3/library/asyncio.html" rel="nofollow">AsyncIO</a> to ensure good performance by handling
communication with Slack concurrently</li>
</ul>
<h3 dir="auto"><a id="user-content-plugin-api-features" aria-hidden="true" href="#plugin-api-features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Plugin API features:</h3>
<ul dir="auto">
<li>Listen and respond to any regular expression</li>
<li>Capture parts of messages to use as variables in your functions</li>
<li>Respond to messages in channels, groups and direct message conversations</li>
<li>Respond with reactions</li>
<li>Respond in threads</li>
<li>Respond with ephemeral messages</li>
<li>Send DMs to any user</li>
<li>Support for <a href="https://api.slack.com/reference/block-kit/blocks" rel="nofollow">blocks</a></li>
<li>Support for <a href="https://api.slack.com/docs/message-attachments" rel="nofollow">message attachments</a> [Legacy <g-emoji alias="derelict_house" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3da.png">üèö</g-emoji>]</li>
<li>Listen and respond to any <a href="https://api.slack.com/events" rel="nofollow">Slack event</a> supported by the Events API</li>
<li>Store and retrieve any kind of data in persistent storage (currently Redis, DynamoDB and in-memory storage are
supported)</li>
<li>Schedule actions and messages</li>
<li>Emit and listen for events</li>
<li>Help texts for Plugins</li>
</ul>
<h3 dir="auto"><a id="user-content-coming-soon" aria-hidden="true" href="#coming-soon"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Coming Soon</h3>
<ul dir="auto">
<li>Support for Interactive Buttons</li>
<li>... and much more</li>
</ul>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p dir="auto">You can install Slack Machine using pip:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ pip install slack-machine"><pre>$ pip install slack-machine</pre></div>
<p dir="auto">or add it to your <a href="https://python-poetry.org/" rel="nofollow">Poetry</a> project:</p>

<p dir="auto">It is <strong>strongly recommended</strong> that you install <code>slack-machine</code> inside a
<a href="https://docs.python.org/3/tutorial/venv.html" rel="nofollow">virtual environment</a>!</p>
<h2 dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage</h2>
<ol dir="auto">
<li>
<p dir="auto">Create a directory for your Slack Machine bot: <code>mkdir my-slack-bot &amp;&amp; cd my-slack-bot</code></p>
</li>
<li>
<p dir="auto">Add a <code>local_settings.py</code> file to your bot directory: <code>touch local_settings.py</code></p>
</li>
<li>
<p dir="auto">Create a new app in Slack: <a href="https://api.slack.com/apps" rel="nofollow">https://api.slack.com/apps</a></p>
</li>
<li>
<p dir="auto">Choose to create an app from an <em>App manifest</em></p>
</li>
<li>
<p dir="auto">Copy/paste the following manifest: <a href="https://github.com/DonDebonair/slack-machine/blob/main/docs/extra/manifest.yaml"><code>manifest.yaml</code></a></p>
</li>
<li>
<p dir="auto">Add the Slack App and Bot tokens to your <code>local_settings.py</code> like this:</p>
<div data-snippet-clipboard-copy-content="SLACK_APP_TOKEN = &#34;xapp-my-app-token&#34;
SLACK_BOT_TOKEN = &#34;xoxb-my-bot-token&#34;"><pre lang="title=&#34;local_settings.py&#34;"><code>SLACK_APP_TOKEN = &#34;xapp-my-app-token&#34;
SLACK_BOT_TOKEN = &#34;xoxb-my-bot-token&#34;
</code></pre></div>
</li>
<li>
<p dir="auto">Start the bot with <code>slack-machine-async</code></p>
</li>
<li>
<p dir="auto">...</p>
</li>
<li>
<p dir="auto">Profit!</p>
</li>
</ol>
<h2 dir="auto"><a id="user-content-documentation" aria-hidden="true" href="#documentation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Documentation</h2>
<p dir="auto">You can find the documentation for Slack Machine here: <a href="https://dondebonair.github.io/slack-machine/" rel="nofollow">https://dondebonair.github.io/slack-machine/</a></p>
<p dir="auto">Go read it to learn how to properly configure Slack Machine, write plugins, and more!</p>
</article>
          </div></div>
  </body>
</html>
