<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/maverick-js/observables">Original</a>
    <h1>Show HN: A tiny and fast reactive observables library via functions</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto"><a href="https://www.npmjs.com/package/@maverick-js/observables" rel="nofollow"><img src="https://camo.githubusercontent.com/556b5be1376ae77681dc069fd5a7bdac0e6269f7f29b7bb092b70aad4b905d1f/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f406d6176657269636b2d6a732f6f627365727661626c65732f6c6174657374" alt="package-badge" data-canonical-src="https://img.shields.io/npm/v/@maverick-js/observables/latest"/></a>
<a href="https://github.com/maverick-js/observables/blob/main/LICENSE"><img src="https://camo.githubusercontent.com/880ed0017f50e9c1d2975d7f31c556c7db55ac2f5e92498eb5e6cac11bcb5230/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6d6176657269636b2d6a732f6f627365727661626c6573" alt="license-badge" data-canonical-src="https://img.shields.io/github/license/maverick-js/observables"/></a>
<a href="https://bundlephobia.com/package/@maverick-js/observables@latest" rel="nofollow"><img src="https://camo.githubusercontent.com/3767f340e44c12edd1d3d1b30460a205be08d288d677b0d1bb575efa32a6a837/68747470733a2f2f696d672e736869656c64732e696f2f62756e646c6570686f6269612f6d696e7a69702f406d6176657269636b2d6a732f6f627365727661626c6573406c6174657374" alt="size-badge" data-canonical-src="https://img.shields.io/bundlephobia/minzip/@maverick-js/observables@latest"/></a></p>
<blockquote>
<p dir="auto"><g-emoji alias="trophy" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f3c6.png">üèÜ</g-emoji> The goal of this library is to provide a lightweight reactivity API for other UI libraries to
be built on top of. It follows the &#34;lazy principle&#34; that Svelte adheres to - don&#39;t
do any unnecessary work and don&#39;t place the burden of figuring it out on the developer.</p>
</blockquote>
<p dir="auto">This is a tiny (~850B minzipped) library for creating reactive observables via functions. You
can use observables to store state, create computed properties (<code>y = mx + b</code>), and subscribe to
updates as its value changes.</p>
<ul dir="auto">
<li><g-emoji alias="feather" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1fab6.png">ü™∂</g-emoji> Light (~850B minzipped)</li>
<li><g-emoji alias="minidisc" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4bd.png">üíΩ</g-emoji> Works in both browsers and Node.js</li>
<li><g-emoji alias="earth_americas" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f30e.png">üåé</g-emoji> All types are observable (i.e., string, array, object, etc.)</li>
<li><g-emoji alias="female_detective" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f575-2640.png">üïµÔ∏è‚Äç‚ôÄÔ∏è</g-emoji> Only updates when value has changed</li>
<li><g-emoji alias="stopwatch" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/23f1.png">‚è±Ô∏è</g-emoji> Batched updates via microtask scheduler</li>
<li><g-emoji alias="sleeping" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png">üò¥</g-emoji> Lazy by default - efficiently re-computes only what&#39;s needed</li>
<li><g-emoji alias="microscope" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f52c.png">üî¨</g-emoji> Computations via <code>$computed</code></li>
<li><g-emoji alias="telephone_receiver" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4de.png">üìû</g-emoji> Effect subscriptions via <code>$effect</code></li>
<li><g-emoji alias="recycle" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/267b.png">‚ôªÔ∏è</g-emoji> Detects cyclic dependencies</li>
<li><g-emoji alias="bug" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f41b.png">üêõ</g-emoji> Debugging identifiers</li>
<li><g-emoji alias="muscle" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4aa.png">üí™</g-emoji> Strongly typed - built with TypeScript</li>
</ul>
<p dir="auto"><g-emoji alias="next_track_button" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/23ed.png">‚è≠Ô∏è</g-emoji> <strong><a href="#api">Skip to API</a></strong></p>
<p dir="auto">Here&#39;s a simple demo to see how it works:</p>
<blockquote>
<p><span><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path></svg>Note</span></p>
<p dir="auto">Interact with the demo live on <a href="https://stackblitz.com/edit/maverick-observables?embed=1&amp;file=index.ts&amp;hideExplorer=1&amp;hideNavigation=1&amp;view=editor" rel="nofollow">StackBlitz</a>.</p>
</blockquote>
<div data-snippet-clipboard-copy-content="import { $observable, $computed, $effect, $tick } from &#39;@maverick-js/observables&#39;;

// Create - all types supported (string, array, object, etc.)
const $m = $observable(1);
const $x = $observable(1);
const $b = $observable(0);

// Compute - only re-computed when `$m`, `$x`, or `$b` changes.
const $y = $computed(() =&gt; $m() * $x() + $b());

// Effect - this will run whenever `$y` is updated.
const stop = $effect(() =&gt; console.log($y()));

$m.set(10); // logs `10` inside effect

// Wait a tick so update is applied and effect is run.
await $tick();

$b.update((prev) =&gt; prev + 5); // logs `15` inside effect

// Wait a tick so effect runs last update.
await $tick();

// Nothing has changed - no re-compute.
$y();

// Stop running effect.
stop();"><pre><span>import</span> <span>{</span> <span>$observable</span><span>,</span> <span>$computed</span><span>,</span> <span>$effect</span><span>,</span> <span>$tick</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>// Create - all types supported (string, array, object, etc.)</span>
<span>const</span> <span>$m</span> <span>=</span> <span>$observable</span><span>(</span><span>1</span><span>)</span><span>;</span>
<span>const</span> <span>$x</span> <span>=</span> <span>$observable</span><span>(</span><span>1</span><span>)</span><span>;</span>
<span>const</span> <span>$b</span> <span>=</span> <span>$observable</span><span>(</span><span>0</span><span>)</span><span>;</span>

<span>// Compute - only re-computed when `$m`, `$x`, or `$b` changes.</span>
<span>const</span> <span>$y</span> <span>=</span> <span>$computed</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>$m</span><span>(</span><span>)</span> <span>*</span> <span>$x</span><span>(</span><span>)</span> <span>+</span> <span>$b</span><span>(</span><span>)</span><span>)</span><span>;</span>

<span>// Effect - this will run whenever `$y` is updated.</span>
<span>const</span> <span>stop</span> <span>=</span> <span>$effect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>console</span><span>.</span><span>log</span><span>(</span><span>$y</span><span>(</span><span>)</span><span>)</span><span>)</span><span>;</span>

<span>$m</span><span>.</span><span>set</span><span>(</span><span>10</span><span>)</span><span>;</span> <span>// logs `10` inside effect</span>

<span>// Wait a tick so update is applied and effect is run.</span>
<span>await</span> <span>$tick</span><span>(</span><span>)</span><span>;</span>

<span>$b</span><span>.</span><span>update</span><span>(</span><span>(</span><span>prev</span><span>)</span> <span>=&gt;</span> <span>prev</span> <span>+</span> <span>5</span><span>)</span><span>;</span> <span>// logs `15` inside effect</span>

<span>// Wait a tick so effect runs last update.</span>
<span>await</span> <span>$tick</span><span>(</span><span>)</span><span>;</span>

<span>// Nothing has changed - no re-compute.</span>
<span>$y</span><span>(</span><span>)</span><span>;</span>

<span>// Stop running effect.</span>
<span>stop</span><span>(</span><span>)</span><span>;</span></pre></div>
<h2 dir="auto"><a id="user-content-export-sizes" aria-hidden="true" href="#export-sizes"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Export Sizes</h2>
<p><a target="_blank" rel="noopener noreferrer" href="https://donnywinston.com/maverick-js/observables/blob/main/export-sizes.png"><img src="https://donnywinston.com/maverick-js/observables/raw/main/export-sizes.png" alt="Library export sizes" width="250px"/></a></p>
<p dir="auto"><strong>Total:</strong> if you import everything it&#39;ll be ~850B.</p>
<p dir="auto">You can also check out the library size on <a href="https://bundlephobia.com/package/@maverick-js/observables@latest" rel="nofollow">Bundlephobia</a> (less accurate).</p>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<div data-snippet-clipboard-copy-content="$: npm i @maverick-js/observables

$: pnpm i @maverick-js/observables

$: yarn add @maverick-js/observables"><pre>$: npm i @maverick-js/observables

$: pnpm i @maverick-js/observables

$: yarn add @maverick-js/observables</pre></div>
<h2 dir="auto"><a id="user-content-api" aria-hidden="true" href="#api"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>API</h2>
<ul dir="auto">
<li><a href="#observable"><code>$observable</code></a></li>
<li><a href="#computed"><code>$computed</code></a></li>
<li><a href="#effect"><code>$effect</code></a></li>
<li><a href="#peek"><code>$peek</code></a></li>
<li><a href="#readonly"><code>$readonly</code></a></li>
<li><a href="#tick"><code>$tick</code></a></li>
<li><a href="#dispose"><code>$dispose</code></a></li>
<li><a href="#iscomputed"><code>isComputed</code></a></li>
</ul>
<h3 dir="auto"><a id="user-content-observable" aria-hidden="true" href="#observable"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>$observable</code></h3>
<p dir="auto">Wraps the given value into an observable function. The observable function will return the
current value when invoked <code>fn()</code>, and provide a simple write API via <code>set()</code> and <code>update()</code>. The
value can now be observed when used inside other computations created with <a href="#computed"><code>$computed</code></a>
and <a href="#effect"><code>$effect</code></a>.</p>
<div data-snippet-clipboard-copy-content="import { $observable } from &#39;@maverick-js/observables&#39;;

const $a = $observable(10);

$a(); // read
$a.set(20); // write (1)
$a.update((prev) =&gt; prev + 10); // write (2)"><pre><span>import</span> <span>{</span> <span>$observable</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>const</span> <span>$a</span> <span>=</span> <span>$observable</span><span>(</span><span>10</span><span>)</span><span>;</span>

<span>$a</span><span>(</span><span>)</span><span>;</span> <span>// read</span>
<span>$a</span><span>.</span><span>set</span><span>(</span><span>20</span><span>)</span><span>;</span> <span>// write (1)</span>
<span>$a</span><span>.</span><span>update</span><span>(</span><span>(</span><span>prev</span><span>)</span> <span>=&gt;</span> <span>prev</span> <span>+</span> <span>10</span><span>)</span><span>;</span> <span>// write (2)</span></pre></div>
<blockquote>
<p><span><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z"></path></svg>Warning</span>
Read the <a href="#tick"><code>$tick</code></a> section below to understand batched updates.</p>
</blockquote>
<h3 dir="auto"><a id="user-content-computed" aria-hidden="true" href="#computed"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>$computed</code></h3>
<p dir="auto">Creates a new observable whose value is computed and returned by the given function. The given
compute function is <em>only</em> re-run when one of it&#39;s dependencies are updated. Dependencies are
are all observables that are read during execution.</p>
<div data-snippet-clipboard-copy-content="import { $observable, $computed, $tick } from &#39;@maverick-js/observables&#39;;

const $a = $observable(10);
const $b = $observable(10);
const $c = $computed(() =&gt; $a() + $b());

console.log($c()); // logs 20

$a.set(20);
await $tick();
console.log($c()); // logs 30

$b.set(20);
await $tick();
console.log($c()); // logs 40

// Nothing changed - no re-compute.
console.log($c()); // logs 40"><pre><span>import</span> <span>{</span> <span>$observable</span><span>,</span> <span>$computed</span><span>,</span> <span>$tick</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>const</span> <span>$a</span> <span>=</span> <span>$observable</span><span>(</span><span>10</span><span>)</span><span>;</span>
<span>const</span> <span>$b</span> <span>=</span> <span>$observable</span><span>(</span><span>10</span><span>)</span><span>;</span>
<span>const</span> <span>$c</span> <span>=</span> <span>$computed</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>$a</span><span>(</span><span>)</span> <span>+</span> <span>$b</span><span>(</span><span>)</span><span>)</span><span>;</span>

<span>console</span><span>.</span><span>log</span><span>(</span><span>$c</span><span>(</span><span>)</span><span>)</span><span>;</span> <span>// logs 20</span>

<span>$a</span><span>.</span><span>set</span><span>(</span><span>20</span><span>)</span><span>;</span>
<span>await</span> <span>$tick</span><span>(</span><span>)</span><span>;</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>$c</span><span>(</span><span>)</span><span>)</span><span>;</span> <span>// logs 30</span>

<span>$b</span><span>.</span><span>set</span><span>(</span><span>20</span><span>)</span><span>;</span>
<span>await</span> <span>$tick</span><span>(</span><span>)</span><span>;</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>$c</span><span>(</span><span>)</span><span>)</span><span>;</span> <span>// logs 40</span>

<span>// Nothing changed - no re-compute.</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>$c</span><span>(</span><span>)</span><span>)</span><span>;</span> <span>// logs 40</span></pre></div>
<div data-snippet-clipboard-copy-content="import { $observable, $computed } from &#39;@maverick-js/observables&#39;;

const $a = $observable(10);
const $b = $observable(10);
const $c = $computed(() =&gt; $a() + $b());

// Computed observables can be deeply nested.
const $d = $computed(() =&gt; $a() + $b() + $c());
const $e = $computed(() =&gt; $d());"><pre><span>import</span> <span>{</span> <span>$observable</span><span>,</span> <span>$computed</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>const</span> <span>$a</span> <span>=</span> <span>$observable</span><span>(</span><span>10</span><span>)</span><span>;</span>
<span>const</span> <span>$b</span> <span>=</span> <span>$observable</span><span>(</span><span>10</span><span>)</span><span>;</span>
<span>const</span> <span>$c</span> <span>=</span> <span>$computed</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>$a</span><span>(</span><span>)</span> <span>+</span> <span>$b</span><span>(</span><span>)</span><span>)</span><span>;</span>

<span>// Computed observables can be deeply nested.</span>
<span>const</span> <span>$d</span> <span>=</span> <span>$computed</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>$a</span><span>(</span><span>)</span> <span>+</span> <span>$b</span><span>(</span><span>)</span> <span>+</span> <span>$c</span><span>(</span><span>)</span><span>)</span><span>;</span>
<span>const</span> <span>$e</span> <span>=</span> <span>$computed</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>$d</span><span>(</span><span>)</span><span>)</span><span>;</span></pre></div>
<h3 dir="auto"><a id="user-content-effect" aria-hidden="true" href="#effect"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>$effect</code></h3>
<p dir="auto">Invokes the given function each time any of the observables that are read inside are updated
(i.e., their value changes). The effect is immediately invoked on initialization.</p>
<div data-snippet-clipboard-copy-content="import { $observable, $computed, $effect } from &#39;@maverick-js/observables&#39;;

const $a = $observable(10);
const $b = $observable(20);
const $c = $computed(() =&gt; $a() + $b());

// This effect will run each time `$a` or `$b` is updated.
const stop = $effect(() =&gt; console.log($c()));

// Stop observing.
stop();"><pre><span>import</span> <span>{</span> <span>$observable</span><span>,</span> <span>$computed</span><span>,</span> <span>$effect</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>const</span> <span>$a</span> <span>=</span> <span>$observable</span><span>(</span><span>10</span><span>)</span><span>;</span>
<span>const</span> <span>$b</span> <span>=</span> <span>$observable</span><span>(</span><span>20</span><span>)</span><span>;</span>
<span>const</span> <span>$c</span> <span>=</span> <span>$computed</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>$a</span><span>(</span><span>)</span> <span>+</span> <span>$b</span><span>(</span><span>)</span><span>)</span><span>;</span>

<span>// This effect will run each time `$a` or `$b` is updated.</span>
<span>const</span> <span>stop</span> <span>=</span> <span>$effect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>console</span><span>.</span><span>log</span><span>(</span><span>$c</span><span>(</span><span>)</span><span>)</span><span>)</span><span>;</span>

<span>// Stop observing.</span>
<span>stop</span><span>(</span><span>)</span><span>;</span></pre></div>
<p dir="auto">You can optionally destroy all inner observables when stopping the effect by passing in <code>true</code>
to the stop effect function:</p>
<div data-snippet-clipboard-copy-content="// `$c` is from the example above.
const stop = $effect(() =&gt; console.log($c()));

// This will dispose of `$a`, `$b`, `$c`, and the effect itself.
stop(true); // &lt;- deep flag"><pre><span>// `$c` is from the example above.</span>
<span>const</span> <span>stop</span> <span>=</span> <span>$effect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>console</span><span>.</span><span>log</span><span>(</span><span>$c</span><span>(</span><span>)</span><span>)</span><span>)</span><span>;</span>

<span>// This will dispose of `$a`, `$b`, `$c`, and the effect itself.</span>
<span>stop</span><span>(</span><span>true</span><span>)</span><span>;</span> <span>// &lt;- deep flag</span></pre></div>
<h3 dir="auto"><a id="user-content-peek" aria-hidden="true" href="#peek"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>$peek</code></h3>
<p dir="auto">Returns the current value stored inside an observable without triggering a dependency.</p>
<div data-snippet-clipboard-copy-content="import { $observable, $computed, $peek } from &#39;@maverick-js/observables&#39;;

const $a = $observable(10);

$computed(() =&gt; {
  // `$a` will not be considered a dependency.
  const value = $peek($a);
});"><pre><span>import</span> <span>{</span> <span>$observable</span><span>,</span> <span>$computed</span><span>,</span> <span>$peek</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>const</span> <span>$a</span> <span>=</span> <span>$observable</span><span>(</span><span>10</span><span>)</span><span>;</span>

<span>$computed</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>// `$a` will not be considered a dependency.</span>
  <span>const</span> <span>value</span> <span>=</span> <span>$peek</span><span>(</span><span>$a</span><span>)</span><span>;</span>
<span>}</span><span>)</span><span>;</span></pre></div>
<h3 dir="auto"><a id="user-content-readonly" aria-hidden="true" href="#readonly"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>$readonly</code></h3>
<p dir="auto">Takes in the given observable and makes it read only by removing access to write
operations (i.e., <code>set()</code> and <code>update()</code>).</p>
<div data-snippet-clipboard-copy-content="import { $observable, $readonly } from &#39;@maverick-js/observables&#39;;

const $a = $observable(10);
const $b = $readonly($a);

console.log($b()); // logs 10

// We can still update value through `$a`.
$a.set(20);

console.log($b()); // logs 20"><pre><span>import</span> <span>{</span> <span>$observable</span><span>,</span> <span>$readonly</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>const</span> <span>$a</span> <span>=</span> <span>$observable</span><span>(</span><span>10</span><span>)</span><span>;</span>
<span>const</span> <span>$b</span> <span>=</span> <span>$readonly</span><span>(</span><span>$a</span><span>)</span><span>;</span>

<span>console</span><span>.</span><span>log</span><span>(</span><span>$b</span><span>(</span><span>)</span><span>)</span><span>;</span> <span>// logs 10</span>

<span>// We can still update value through `$a`.</span>
<span>$a</span><span>.</span><span>set</span><span>(</span><span>20</span><span>)</span><span>;</span>

<span>console</span><span>.</span><span>log</span><span>(</span><span>$b</span><span>(</span><span>)</span><span>)</span><span>;</span> <span>// logs 20</span></pre></div>
<h3 dir="auto"><a id="user-content-tick" aria-hidden="true" href="#tick"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>$tick</code></h3>
<p dir="auto">Tasks are batched onto the microtask queue. This means only the last write of multiple write
actions performed in the same execution window is applied. You can wait for the microtask
queue to be flushed before writing a new value so it takes effect.</p>
<blockquote>
<p><span><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path></svg>Note</span>
You can read more about microtasks on <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide">MDN</a>.</p>
</blockquote>
<div data-snippet-clipboard-copy-content="import { $observable } from &#39;@maverick-js/observables&#39;;

const $a = $observable(10);

$a.set(10);
$a.set(20);
$a.set(30); // only this write is applied"><pre><span>import</span> <span>{</span> <span>$observable</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>const</span> <span>$a</span> <span>=</span> <span>$observable</span><span>(</span><span>10</span><span>)</span><span>;</span>

<span>$a</span><span>.</span><span>set</span><span>(</span><span>10</span><span>)</span><span>;</span>
<span>$a</span><span>.</span><span>set</span><span>(</span><span>20</span><span>)</span><span>;</span>
<span>$a</span><span>.</span><span>set</span><span>(</span><span>30</span><span>)</span><span>;</span> <span>// only this write is applied</span></pre></div>
<div data-snippet-clipboard-copy-content="import { $observable, $tick } from &#39;@maverick-js/observables&#39;;

const $a = $observable(10);

// All writes are applied.
$a.set(10);
await $tick();
$a.set(20);
await $tick();
$a.set(30);"><pre><span>import</span> <span>{</span> <span>$observable</span><span>,</span> <span>$tick</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>const</span> <span>$a</span> <span>=</span> <span>$observable</span><span>(</span><span>10</span><span>)</span><span>;</span>

<span>// All writes are applied.</span>
<span>$a</span><span>.</span><span>set</span><span>(</span><span>10</span><span>)</span><span>;</span>
<span>await</span> <span>$tick</span><span>(</span><span>)</span><span>;</span>
<span>$a</span><span>.</span><span>set</span><span>(</span><span>20</span><span>)</span><span>;</span>
<span>await</span> <span>$tick</span><span>(</span><span>)</span><span>;</span>
<span>$a</span><span>.</span><span>set</span><span>(</span><span>30</span><span>)</span><span>;</span></pre></div>
<h3 dir="auto"><a id="user-content-dispose" aria-hidden="true" href="#dispose"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>$dispose</code></h3>
<p dir="auto">Unsubscribes the given observable and optionally all inner computations. Disposed functions will
retain their current value but are no longer reactive.</p>
<div data-snippet-clipboard-copy-content="import { $observable, $dispose } from &#39;@maverick-js/observables&#39;;

const $a = $observable(10);
const $b = $computed(() =&gt; $a());

// `$b` will no longer update if `$a` is updated.
$dispose($a);

$a.set(100);
console.log($b()); // still logs `10`"><pre><span>import</span> <span>{</span> <span>$observable</span><span>,</span> <span>$dispose</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>const</span> <span>$a</span> <span>=</span> <span>$observable</span><span>(</span><span>10</span><span>)</span><span>;</span>
<span>const</span> <span>$b</span> <span>=</span> <span>$computed</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>$a</span><span>(</span><span>)</span><span>)</span><span>;</span>

<span>// `$b` will no longer update if `$a` is updated.</span>
<span>$dispose</span><span>(</span><span>$a</span><span>)</span><span>;</span>

<span>$a</span><span>.</span><span>set</span><span>(</span><span>100</span><span>)</span><span>;</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>$b</span><span>(</span><span>)</span><span>)</span><span>;</span> <span>// still logs `10`</span></pre></div>
<p dir="auto">The second argument to <code>$dispose</code> is a <code>deep</code> flag which specifies whether all inner computations
should also be disposed of:</p>
<div data-snippet-clipboard-copy-content="const $a = $observable();
const $b = $computed(() =&gt; $a());
const $c = $effect(() =&gt; $b());

$dispose($c, true); // &lt;- deep flag

// `$a`, `$b`, and `$c` are all disposed."><pre><span>const</span> <span>$a</span> <span>=</span> <span>$observable</span><span>(</span><span>)</span><span>;</span>
<span>const</span> <span>$b</span> <span>=</span> <span>$computed</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>$a</span><span>(</span><span>)</span><span>)</span><span>;</span>
<span>const</span> <span>$c</span> <span>=</span> <span>$effect</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>$b</span><span>(</span><span>)</span><span>)</span><span>;</span>

<span>$dispose</span><span>(</span><span>$c</span><span>,</span> <span>true</span><span>)</span><span>;</span> <span>// &lt;- deep flag</span>

<span>// `$a`, `$b`, and `$c` are all disposed.</span></pre></div>
<h3 dir="auto"><a id="user-content-iscomputed" aria-hidden="true" href="#iscomputed"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>isComputed</code></h3>
<p dir="auto">Whether the given function is a computed observable.</p>
<div data-snippet-clipboard-copy-content="import { $observable, $computed, isComputed } from &#39;@maverick-js/observables&#39;;

isComputed(() =&gt; {}); // false

const $a = $observable(10);
isComputed($a); // false

const $b = $computed(() =&gt; $a() + 10);
isComputed($b); // true"><pre><span>import</span> <span>{</span> <span>$observable</span><span>,</span> <span>$computed</span><span>,</span> <span>isComputed</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>isComputed</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span><span>}</span><span>)</span><span>;</span> <span>// false</span>

<span>const</span> <span>$a</span> <span>=</span> <span>$observable</span><span>(</span><span>10</span><span>)</span><span>;</span>
<span>isComputed</span><span>(</span><span>$a</span><span>)</span><span>;</span> <span>// false</span>

<span>const</span> <span>$b</span> <span>=</span> <span>$computed</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>$a</span><span>(</span><span>)</span> <span>+</span> <span>10</span><span>)</span><span>;</span>
<span>isComputed</span><span>(</span><span>$b</span><span>)</span><span>;</span> <span>// true</span></pre></div>
<h2 dir="auto"><a id="user-content-debugging" aria-hidden="true" href="#debugging"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Debugging</h2>
<p dir="auto">The <code>$observable</code>, <code>$computed</code>, and <code>$effect</code> functions accept a debugging ID (string) as
their second argument. This can be helpful when logging a cyclic dependency chain to understand
where it&#39;s occurring.</p>
<div data-snippet-clipboard-copy-content="import { $observable, $computed } from &#39;@maverick-js/observables&#39;;

const $a = $observable(10, &#39;a&#39;);

// Cyclic dependency chain.
const $b = $computed(() =&gt; $a() + $c(), &#39;b&#39;);
const $c = $computed(() =&gt; $a() + $b(), &#39;c&#39;);

// This will throw an error in the form:
// $: Error: cyclic dependency detected
// $: a -&gt; b -&gt; c -&gt; b"><pre><span>import</span> <span>{</span> <span>$observable</span><span>,</span> <span>$computed</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>const</span> <span>$a</span> <span>=</span> <span>$observable</span><span>(</span><span>10</span><span>,</span> <span>&#39;a&#39;</span><span>)</span><span>;</span>

<span>// Cyclic dependency chain.</span>
<span>const</span> <span>$b</span> <span>=</span> <span>$computed</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>$a</span><span>(</span><span>)</span> <span>+</span> <span>$c</span><span>(</span><span>)</span><span>,</span> <span>&#39;b&#39;</span><span>)</span><span>;</span>
<span>const</span> <span>$c</span> <span>=</span> <span>$computed</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>$a</span><span>(</span><span>)</span> <span>+</span> <span>$b</span><span>(</span><span>)</span><span>,</span> <span>&#39;c&#39;</span><span>)</span><span>;</span>

<span>// This will throw an error in the form:</span>
<span>// $: Error: cyclic dependency detected</span>
<span>// $: a -&gt; b -&gt; c -&gt; b</span></pre></div>
<blockquote>
<p><span><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path></svg>Note</span>
This feature is only available in a development or testing Node environment (i.e., <code>NODE_ENV</code>).</p>
</blockquote>
<h2 dir="auto"><a id="user-content-scheduler" aria-hidden="true" href="#scheduler"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Scheduler</h2>
<p dir="auto">We provide the underlying microtask scheduler incase you&#39;d like to use it:</p>
<div data-snippet-clipboard-copy-content="import { createScheduler } from &#39;@maverick-js/observables&#39;;

// Creates a scheduler which batches tasks and runs them in the microtask queue.
const scheduler = createScheduler();

// Queue tasks.
scheduler.enqueue(() =&gt; {});
scheduler.enqueue(() =&gt; {});

// Schedule a flush - can be invoked more than once.
scheduler.flush();

// Wait for flush to complete.
await scheduler.tick;"><pre><span>import</span> <span>{</span> <span>createScheduler</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>// Creates a scheduler which batches tasks and runs them in the microtask queue.</span>
<span>const</span> <span>scheduler</span> <span>=</span> <span>createScheduler</span><span>(</span><span>)</span><span>;</span>

<span>// Queue tasks.</span>
<span>scheduler</span><span>.</span><span>enqueue</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span><span>}</span><span>)</span><span>;</span>
<span>scheduler</span><span>.</span><span>enqueue</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>{</span><span>}</span><span>)</span><span>;</span>

<span>// Schedule a flush - can be invoked more than once.</span>
<span>scheduler</span><span>.</span><span>flush</span><span>(</span><span>)</span><span>;</span>

<span>// Wait for flush to complete.</span>
<span>await</span> <span>scheduler</span><span>.</span><span>tick</span><span>;</span></pre></div>
<blockquote>
<p><span><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM0 8a8 8 0 1116 0A8 8 0 010 8zm6.5-.25A.75.75 0 017.25 7h1a.75.75 0 01.75.75v2.75h.25a.75.75 0 010 1.5h-2a.75.75 0 010-1.5h.25v-2h-.25a.75.75 0 01-.75-.75zM8 6a1 1 0 100-2 1 1 0 000 2z"></path></svg>Note</span>
You can read more about microtasks on <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_DOM_API/Microtask_guide">MDN</a>.</p>
</blockquote>
<h2 dir="auto"><a id="user-content-types" aria-hidden="true" href="#types"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Types</h2>
<div data-snippet-clipboard-copy-content="import { $computed, type Observable, type Computation } from &#39;@maverick-js/observables&#39;;

const observable: Observable&lt;number&gt;;
const computed: Computation&lt;number&gt;;

// Provide generic if TS fails to infer correct type.
const $a = $computed&lt;string&gt;(() =&gt; /* ... */);"><pre><span>import</span> <span>{</span> <span>$computed</span><span>,</span> <span>type</span> <span>Observable</span><span>,</span> <span>type</span> <span>Computation</span> <span>}</span> <span>from</span> <span>&#39;@maverick-js/observables&#39;</span><span>;</span>

<span>const</span> <span>observable</span>: <span>Observable</span><span>&lt;</span><span>number</span><span>&gt;</span><span>;</span>
<span>const</span> <span>computed</span>: <span>Computation</span><span>&lt;</span><span>number</span><span>&gt;</span><span>;</span>

<span>// Provide generic if TS fails to infer correct type.</span>
<span>const</span> <span>$a</span> <span>=</span> <span>$computed</span><span>&lt;</span><span>string</span><span>&gt;</span><span>(</span><span>(</span><span>)</span> <span>=&gt;</span> <span>/* ... */</span><span></span><span>)</span><span>;</span></pre></div>
<h2 dir="auto"><a id="user-content-inspiration" aria-hidden="true" href="#inspiration"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Inspiration</h2>
<p dir="auto"><code>@maverick-js/observables</code> was made possible based on my learnings from:</p>
<ul dir="auto">
<li><a href="https://github.com/solidjs/solid">Solid JS</a></li>
<li><a href="https://github.com/luwes/sinuous">Sinuous</a></li>
<li><a href="https://github.com/elbywan/hyperactiv">Hyperactiv</a></li>
<li><a href="https://github.com/sveltejs/svelte/blob/master/src/runtime/internal/scheduler.ts">Svelte Scheduler</a></li>
</ul>
<p dir="auto">Special thanks to Wesley, Julien, and Solid/Svelte contributors for all their work <g-emoji alias="tada" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f389.png">üéâ</g-emoji></p>
</article>
          </div></div>
  </body>
</html>
