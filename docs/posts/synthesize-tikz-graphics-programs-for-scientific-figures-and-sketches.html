<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/potamides/DeTikZify">Original</a>
    <h1>Show HN: Synthesize TikZ Graphics Programs for Scientific Figures and Sketches</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a href="https://arxiv.org/abs/2405.15306" rel="nofollow"><img src="https://camo.githubusercontent.com/19b4fa306c699ab3d009c8b335556282d14792dee6a856b12eab24ceea168bce/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f566965772532306f6e25323061725869762d4233314231423f6c6f676f3d6172786976266c6162656c436f6c6f723d67726179" alt="arXiv" data-canonical-src="https://img.shields.io/badge/View%20on%20arXiv-B31B1B?logo=arxiv&amp;labelColor=gray"/></a>
<a href="https://huggingface.co/collections/nllg/detikzify-664460c521aa7c2880095a8b" rel="nofollow"><img src="https://camo.githubusercontent.com/4858f5fff81c30fc74191c1561cc0d90c9ef9822c7a702404ff3ffef418b1294/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f566965772532306f6e25323048756767696e67253230466163652d626c75653f6c6162656c436f6c6f723d67726179266c6f676f3d646174613a696d6167652f706e673b6261736536342c6956424f5277304b47676f414141414e53556845556741414143414141414167434159414141427a656e72304141414149474e49556b304141486f6d41414341684141412b6741414149446f414142314d414141366d41414144715941414158634a79365554774141414147596b74485241442f415038412f36433970354d414141414a6345685a637741414c4573414143784c416155396c716b414141414864456c4e5251666f4252494c4c67674e756b33554141414b4e6b6c4551565259773432576558435539526e4850372f3332434f376d324d336759567751774d70744171575644777772534c546f6156566937554657672b6d4d35555a74646f5a6179314f713730744d2b7259633352716878696f466c42525a455247535a536a746945616b67715341776f3564704e4e6472506e752b2f372f76724862784e51636362667a4d362b387a7565342f73387a2f6435424a2b77486e2f3863524b4a424c4e6d7a654b4f4f2b376778496b54314e5856545a346650487a4d4634314f3837694f4933753654786257725036534e584857324e6a492b506734643939394e2f46346e445672316c426658382b6e586b382f2f545253536c6176586f325545696b6c6d4255694d5737504b7a6879766532346a7a6c572b69556e502f716d6b78393777796e6d64785a642b5a75634c6238784e4a79614e76464753736e3939393850774945444279367153337830592f763237537864757053464378644f376f316c374956426e3336486e756d2b5563534f7a43482b4c3533784869696d514f6a67713447717854446c536b74476c72317665384c4e695a485262564e7271766f42684242494b646d2f667a2f5858332f394a33752b632b644f4f6a6f364a7131762f73644f4d312b5547397855372f7579376564532f6e4f526c4530654b5a3833704e7a6a6c2f4c566f4a523741314b2b344a56797579356c5531444b7664644b32664f63644b7a4d34557a65575155494b65576b6a6a3137396c776367564f6e5468474a524b6973724154677a62654f2b71363866506c3935744342423268374b4544714861674a5146554176415949636636314242775873686245557a43757764774e7945742b4f6d52355a39362f59766d53625733747839314669785968706554496b534f457732454139416b4459724559652f62735964323664547a7971393862332f6e574e33396f6e7433314d7737663655667268726b3145433444553739593545415434444f674d67412b344d77687848425855492b7557486e724478343862656a6965444b5a704b47686763484251586274326e55656765626d5a704c4a4a4f7658727963554370457263714d2f39767266654f7632636f494a6d4245475853685050383053514c59495054476f2f68727979722f30705a7a796d797543766e6341576c74626955616a314e58564b514d47426761594d32634f2b587965675a48737a4b673539494a6f3262414d75303135726f6c5071666b6a526d51734f44554d39542f427557544c433866616a332f33433564644f72357030795a436f52435050665959656d646e4a2f7632375750333774304949664361327033476953633330723864356c6144527a3876554376395877794a69624d4c7a7a323643764b5a6472546f796a6d56737939377a3952463139713161346e465970696d6964625a32556c4c53777561707445336d4a6c6d70452f65516b2b7a536a69666f59514a694356302f76354b4f66734f42536a614830656b34774d7666396c647958736e766563334a52414f677047415539743858733365384d71727235554264485a3263752b393936494667304632374e674251453034384556743647413956693955425a55414b55484373362b56733356376d496566695844737046643558454a6d4c4b337832326644505035634a623972446a4d367269767445744131714135432f7a3630544e2b4b4c36363475673767355a64664a68714e6f76583239694b6c5241694252326176595041744477464e77566430594841556b686e534f5932716b455064544176622b54414374694f6f715853595831736b6d786659746f5352464d5448774855683549646950794c5258684d492b433844364f72713475323333385a343939313341576836385a42667330592b532b7039435070556e54734f5a417567433236354c7358566c2b525976696950783554676e6f633555753777792b2f484f54316b45682f54715336336f643953796c305854414e4d4278496477706931626f6b51516b677035524e50504945324e44514551503269756a4a686a55597044495058564a4b394a6b7950514c69637a387773306e685a6c6b44417854512b6e495643514a6c66556a2b76774d716c4f595375775a524b69495a4231315669656e58496e454849597530504e74396c4369486f362b74447932617a414a543566523768355079344252573343636c2b44786971456c4c6a4772316e5456783551645a72366a656130756b37363045364a6175385a736d52306a3164672b4934517472424a55732b707750453433454d5456504b584e6556456b304b495543364836383341663839376547525a794a632f666b6371786f797a4b697879525930326b353432583077784b786f6b55633244534d2b5669536c44614568456536453034376a5950683850674269386548386f766d4246486f5a574b4f514c797172445733796655326c51373467614e35667a6b7548416c534658504b575944536c59785546792b767a614d5946646b7641636c516c4652326f43434f466b646a6533475466634d4d4e684d4e686a4a3665486f51512f476a4c31767856502f356558437562416564367752574b39366458674f314377575a575a5941566e38757a727a56495930356a4e4b7352415871422f6b7148786d565a534264674a41636862366d4b5571566d5a635038686267593862622f764f4f4d6a5934677063526f61576d687171704b50507a41356d2f7132662b757748556735304a744252527336426c52564b774a6a4a7a4662562f785568637a57486643533859564249546b584e446c354e65534c4b6e4e774b6d45556a69635669684d43554c4267524548636f4e34386d6476536d667a42774e2b3730745136745644593962734b624a376e326a647349686b752f4b3474684a71676e4179426e355466586350773977777543466f38304f2f4358345846756468595147476b6a435368586b5236423152373261466f573845526e4d716e444e75784c3369722b2b636952652b4f6d6647314a6742345056365a6f743439307a47753242654e655274694b6556674f6b566b4d69713736415868744b7777416572624d5546452f796673324534413547417968315468326735784d636c6c694e5955413146472b4b4845666e5976454267356e516770696b596e41424336446961556c7a7567396c56436b61683443656568716b684e58544530684b6e6c475175554a54516e314c337173716750796b4a656946546b47534c67726b524d44524a50433342414b514262746c4544384e7630734441477a34384266435a63485a4d6f52417468317852786446724b415369355443514569547a636e4975696155686d564e68382b675138676f716646423042644679474d314b4273634646575743596a38692f712b4b55444377444a51355349534237674e584b752f445a544353555451364a6167384333695578314f4371732f4878714863433056584954553142425771704b6b4f714c746541775a53456b4d587a4b7945544b48556f48784969586e6541456c6d6b6a505342575649304b7669506a474d544e5332706b476c482f7154417164553336364543763935377071384b794153454770574c49577a524579756c466b51453031563248676a366d475a71525134626d6e2b75386771324f634e6d3542703258787356745345796e794a536b355467444442557746534669647a494447616545504f7665554d73323646766a514d4a4a517332315573647147693862796166484d57664441496658466c304742537365654664783270484a454f6e4937446b415a4c4873436463735837672f332f4f7751674e6d37634b4c5a74323659504a314a7271774c38516873345545393345385465426d63597645496c6c69595533426b587071364761434e594b64414d4d415051737750473279426f716a4a3058455641525130387454423946537a5969424e704f446163534430516e56727a2b6a3333334f4f4b7a73354f62722f39646e4830364647742f62334f4251732b552f64746e325a395130392f734a44682f2f68497641655a2f344754423238315446754a6e4c6d3250363958373544537a534a7868615a562b584c6433785a6e646c637a2f47386f7073454d516d6765524a59694938747962746e73347a6c4c376a72653865357a4b7935764f4c31323756713371616c4a3875696a6a394c61327372363965736e4b4d58592f2f6f624d3461476b312f50354a3166573058375264764b4862454c6d626169565469594b7a6850394a303564785867515932632b6f7a6157742b35776548723870627a35364b566237554c6d574f326c5439634b447137306a6e376b6636686b5455767672526e57696e70745532624e6f6b6a52343677646574576a4b36754c6b7a54704b6d705353356676707a392b2f633771363737556a3977446e6a6c31747475387a593266746b664449623073326650575066636656636173432b3939464a5258313876705a5330743764627464487141304a6f4c582f3434352b4355365a4f395354485275313972373661652f3735352f496c756849333333797a764f6161612b546d7a5a747061476767466f7368456f6b45547a3331464c4e6e7a366131745a556e6e3379536f306550736e667658744852306347785938644562322f765a474a66652b32316375584b6c664b68687836697672346579374c6f3775356d793559746f71576c685a61576c736c536d44392f507375574c5a4f4c46792b57447a3734494b5a7063743939393348545454647837747735504234502f7764794f624a47756730483951414141435630525668305a4746305a54706a636d5668644755414d6a41794e4330774e5330784f4651784d546f7a4d7a6f7a4e4373774d446f774d4e4b4f366b55414141416c6445565964475268644755366257396b61575a35414449774d6a51744d4455744d5468554d5445364d7a49364d5441724d4441364d44443665787170414141414b4852465748526b5958526c4f6e52706257567a64474674634141794d4449304c5441314c544534564445784f6a51324f6a41344b7a41774f6a417763767641646741414141424a52553545726b4a6767673d3d" alt="Hugging Face" data-canonical-src="https://img.shields.io/badge/View%20on%20Hugging%20Face-blue?labelColor=gray&amp;logo=data:image/png;base64,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"/></a>
<a href="https://colab.research.google.com/drive/1hPWqucbPGTavNlYvOBvSNBAwdcPZKe8F" rel="nofollow"><img src="https://camo.githubusercontent.com/f5e0d0538a9c2972b5d413e0ace04cecd8efd828d133133933dfffec282a4e1b/68747470733a2f2f636f6c61622e72657365617263682e676f6f676c652e636f6d2f6173736574732f636f6c61622d62616467652e737667" alt="Colab" data-canonical-src="https://colab.research.google.com/assets/colab-badge.svg"/></a></p>
<p dir="auto">Creating high-quality scientific figures can be time-consuming and challenging,
even though sketching ideas on paper is relatively easy. Furthermore,
recreating existing figures that are not stored in formats preserving semantic
information is equally complex. To tackle this problem, we introduce
<a href="https://github.com/potamides/DeTikZify">DeTi<em>k</em>Zify</a>, a novel multimodal
language model that automatically synthesizes scientific figures as
semantics-preserving <a href="https://github.com/pgf-tikz/pgf">Ti<em>k</em>Z</a> graphics
programs based on sketches and existing figures. We also introduce an
MCTS-based inference algorithm that enables DeTi<em>k</em>Zify to iteratively refine
its outputs without the need for additional training.</p>
<details open="">
  <summary>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z"></path>
</svg>
    <span aria-label="Video description Showcase.mp4">Showcase.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/53401822/334310983-203d2853-0b5c-4a2b-9d09-3ccb65880cd3.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTc3NDE1NTEsIm5iZiI6MTcxNzc0MTI1MSwicGF0aCI6Ii81MzQwMTgyMi8zMzQzMTA5ODMtMjAzZDI4NTMtMGI1Yy00YTJiLTlkMDktM2NjYjY1ODgwY2QzLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA2MDclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNjA3VDA2MjA1MVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTk2N2U0OGVlYmIwNGRkZGM4YjhkN2ZlZjI1N2M5NTE3Y2U0MjA5M2I4ZTI4Y2YzNzYyYTFhN2U3MjQ4MmU2NGImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.spd2g9PPegOAyPnDAM2dgJMuZ955rkVcrgjAF86eqDg" data-canonical-src="https://private-user-images.githubusercontent.com/53401822/334310983-203d2853-0b5c-4a2b-9d09-3ccb65880cd3.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MTc3NDE1NTEsIm5iZiI6MTcxNzc0MTI1MSwicGF0aCI6Ii81MzQwMTgyMi8zMzQzMTA5ODMtMjAzZDI4NTMtMGI1Yy00YTJiLTlkMDktM2NjYjY1ODgwY2QzLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDA2MDclMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwNjA3VDA2MjA1MVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTk2N2U0OGVlYmIwNGRkZGM4YjhkN2ZlZjI1N2M5NTE3Y2U0MjA5M2I4ZTI4Y2YzNzYyYTFhN2U3MjQ4MmU2NGImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.spd2g9PPegOAyPnDAM2dgJMuZ955rkVcrgjAF86eqDg" controls="controls" muted="muted">

  </video>
</details>


<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p><p dir="auto">If you encounter difficulties with installation and inference on your own
hardware, consider visiting our <a href="https://huggingface.co/spaces/nllg/DeTikZify" rel="nofollow">Hugging Face
Space</a> (if the space is
restarting the first run might take 10-15 minutes to download and load the
model). Should you experience long queues, you have the option to
<a href="https://huggingface.co/spaces/nllg/DeTikZify?duplicate=true" rel="nofollow">duplicate</a> it
with a paid private GPU runtime for a more seamless experience. Additionally,
you can try our demo on <a href="https://colab.research.google.com/drive/1hPWqucbPGTavNlYvOBvSNBAwdcPZKe8F" rel="nofollow">Google
Colab</a>.
However, setting up the environment there might take some time, and the free
tier only supports inference for the 1b models. Do not forget to read our
<a href="https://github.com/potamides/DeTikZify/tree/main/detikzify/webui#usage-tips">usage tips</a>!</p>
</div>
<p dir="auto">The Python package of DeTi<em>k</em>Zify can be easily installed using
<a href="https://pip.pypa.io/en/stable" rel="nofollow">pip</a>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="pip install &#39;detikzify @ git+https://github.com/potamides/DeTikZify&#39;"><pre>pip install <span><span>&#39;</span>detikzify @ git+https://github.com/potamides/DeTikZify<span>&#39;</span></span></pre></div>
<p dir="auto">Or, if your goal is to run the included <a href="https://github.com/potamides/DeTikZify/blob/main/examples">examples</a>, clone the
repository and install it in editable mode like this:</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/potamides/DeTikZify
pip install -e DeTikZify"><pre>git clone https://github.com/potamides/DeTikZify
pip install -e DeTikZify</pre></div>
<p dir="auto">In addition, DeTi<em>k</em>Zify requires a full
<a href="https://www.tug.org/texlive" rel="nofollow">TeX Live 2023</a> installation,
<a href="https://www.ghostscript.com" rel="nofollow">ghostscript</a>, and,
<a href="https://poppler.freedesktop.org" rel="nofollow">poppler</a> which you have to install through
your package manager or via other means.</p>

<p dir="auto">If all required dependencies are installed, the full range of DeTi<em>k</em>Zify
features such as compiling, rendering, and saving Ti<em>k</em>Z graphics, and
MCTS-based inference can be accessed through its programming interface:</p>
<div dir="auto" data-snippet-clipboard-copy-content="from operator import itemgetter

from detikzify.model import load
from detikzify.infer import DetikzifyPipeline
import torch

image = &#34;https://w.wiki/A7Cc&#34;
pipeline = DetikzifyPipeline(*load(
    base_model=&#34;nllg/detikzify-ds-7b&#34;,
    device_map=&#34;auto&#34;,
    torch_dtype=torch.bfloat16,
))

# generate a single TikZ program
fig = pipeline.sample(image=image)

# if it compiles, rasterize it and show it
if fig.is_rasterizable:
    fig.rasterize().show()

# run MCTS for 10 minutes and generate multiple TikZ programs
figs = set()
for score, fig in pipeline.simulate(image=image, timeout=600):
    figs.add((score, fig))

# save the best TikZ program
best = sorted(figs, key=itemgetter(0))[-1][1]
best.save(&#34;fig.tex&#34;)"><pre><span>from</span> <span>operator</span> <span>import</span> <span>itemgetter</span>

<span>from</span> <span>detikzify</span>.<span>model</span> <span>import</span> <span>load</span>
<span>from</span> <span>detikzify</span>.<span>infer</span> <span>import</span> <span>DetikzifyPipeline</span>
<span>import</span> <span>torch</span>

<span>image</span> <span>=</span> <span>&#34;https://w.wiki/A7Cc&#34;</span>
<span>pipeline</span> <span>=</span> <span>DetikzifyPipeline</span>(<span>*</span><span>load</span>(
    <span>base_model</span><span>=</span><span>&#34;nllg/detikzify-ds-7b&#34;</span>,
    <span>device_map</span><span>=</span><span>&#34;auto&#34;</span>,
    <span>torch_dtype</span><span>=</span><span>torch</span>.<span>bfloat16</span>,
))

<span># generate a single TikZ program</span>
<span>fig</span> <span>=</span> <span>pipeline</span>.<span>sample</span>(<span>image</span><span>=</span><span>image</span>)

<span># if it compiles, rasterize it and show it</span>
<span>if</span> <span>fig</span>.<span>is_rasterizable</span>:
    <span>fig</span>.<span>rasterize</span>().<span>show</span>()

<span># run MCTS for 10 minutes and generate multiple TikZ programs</span>
<span>figs</span> <span>=</span> <span>set</span>()
<span>for</span> <span>score</span>, <span>fig</span> <span>in</span> <span>pipeline</span>.<span>simulate</span>(<span>image</span><span>=</span><span>image</span>, <span>timeout</span><span>=</span><span>600</span>):
    <span>figs</span>.<span>add</span>((<span>score</span>, <span>fig</span>))

<span># save the best TikZ program</span>
<span>best</span> <span>=</span> <span>sorted</span>(<span>figs</span>, <span>key</span><span>=</span><span>itemgetter</span>(<span>0</span>))[<span>-</span><span>1</span>][<span>1</span>]
<span>best</span>.<span>save</span>(<span>&#34;fig.tex&#34;</span>)</pre></div>
<p dir="auto">For interactive use and additional usage tips, we recommend checking out our
<a href="https://github.com/potamides/DeTikZify/blob/main/detikzify/webui">web UI</a>, which can be started from the command line (use
<code>--help</code> for a list of all options):</p>
<div dir="auto" data-snippet-clipboard-copy-content="python -m detikzify.webui --light"><pre>python -m detikzify.webui --light</pre></div>
<p dir="auto">More involved examples, for example for evaluation and training, can be found
in the <a href="https://github.com/potamides/DeTikZify/blob/main/examples">examples</a> folder.</p>

<p dir="auto">We upload all our models and datasets to the <a href="https://huggingface.co/collections/nllg/detikzify-664460c521aa7c2880095a8b" rel="nofollow">Hugging Face
Hub</a>.
However, please note that for the public release of the DaTi<em>k</em>Z<sub>v2</sub>
dataset, we had to remove a considerable portion of Ti<em>k</em>Z drawings originating
from <a href="https://arxiv.org" rel="nofollow">arXiv</a>, as the <a href="https://arxiv.org/licenses/nonexclusive-distrib/1.0/license.html" rel="nofollow">arXiv non-exclusive
license</a> does
not permit redistribution. We do, however, release our <a href="https://github.com/potamides/DaTikZ">dataset creation
scripts</a> and encourage anyone to recreate
the full version of DaTi<em>k</em>Z<sub>v2</sub> themselves.</p>

<p dir="auto">The implementation of the model architecture is largely based on
<a href="https://github.com/haotian-liu/LLaVA">LLaVA</a>. Our MCTS implementation takes
heavy inspiration from
<a href="https://github.com/namin/llm-verified-with-monte-carlo-tree-search">VerMCTS</a>.</p>
</article></div></div>
  </body>
</html>
