<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://nxdomain.no/~peter/what_every_it_person_needs_to_know_about_openbsd.html">Original</a>
    <h1>What every IT person needs to know about OpenBSD (2021)</h1>
    
    <div id="readability-page-1" class="page">

  <p><a href="https://bsdly.blogspot.com/">Peter N. M. Hansteen</a></p>
<p>
<i>How to have fun with the world’s most important free software project<br/>
</i></p><ul><li>OpenBSD has been around for more than 25 years (started October 1995)</li><li>OpenBSD is proactively secure with only 2 remote holes in default install in all those years</li><li>OpenBSD pioneered use of strong cryptography, the first free system to ship with IPSec (entangling itself in US export regulations in the process)</li><li>OpenBSD pioneered and is still leading in code audit, fixing similar bugs tree-wide when found</li><li>OpenBSD has all security enhancements enabled by default and are hard going on impossible to disable</li><li>OpenBSD is open source, free software and the project actively encourages independent verification of code quality and security.</li><li>Today OpenBSD is in use in many network-centric roles, even though it is a general purpose operating system albeit with a particular emphasis on security.</li><li>OpenBSD has a high profile quality image based on actual code quality and proven performance in real world use</li><li>OpenBSD is upstream (origin) for several widely used pieces of software such as OpenSSH, OpenBGPD, PF, OpenSMTPd, LibreSSL, iked, mandoc and a number of others. For a complete list, please see the <i><a href="https://www.openbsd.org/innovations.html">OpenBSD Innovations</a></i> page on the OpenBSD website.</li><li>OpenBSD has been ‘growing up in public’ with code generally accessible via <i><a href="https://www.openbsd.org/anoncvs.html">anonymous CVS</a></i> (the first of its kind) since 1995 – transparent process, development discussions on public tech@ mailing list</li><li>Developers would do well to study high quality (mainly) C source and how the project runs a 6 month release cycle like clockwork (with only a few notable exceptions).</li></ul><p><b>Note:</b> <i>If you are more of a slides person you will be happy to hear that indeed the <a href="https://home.nuug.no/~peter/openbsd_needtoknow/">presentation</a> I used for this when given as a talk is available <a href="https://home.nuug.no/~peter/openbsd_needtoknow/">here</a> with the main highlights and little to no geek jokes.</i></p><p>Now with that out of the way, let&#39;s step back to  where it all started.<br/>
</p>
<h2>OpenBSD: How it all started </h2><p>OpenBSD&#39;s history is to a large extent the history of the Internet itself. You may have heard of the time back in the 1980s when the likes of IBM and Digital were slugging it out in the corporate IT sphere and the US department of defence paid for experiments in distributed, device independent networking.</p><ul><li>Lynne and Bill Jolitz ported BSD to Intel x86 (actually 80386sx), creating 386BSD. This was chronicled in a series of articles in <a href="https://en.wikipedia.org/wiki/Dr._Dobb%27s_Journal"><i>Dr Dobbs&#39; Journal</i></a> (also see a more condensed <a href="https://www.salon.com/2000/05/17/386bsd/">summary</a> over at <a href="https://www.salon.com/2000/05/17/386bsd/">salon.com</a>)</li><li>Next up, hackers started sharing improvements to the 386BSD code as &#34;patchkits&#34;, and two separate groups took the work further to form their projects: The <a href="https://www.freebsd.org">FreeBSD</a> group would be working on bringing the best possible BSD to PC-style hardware, while the <a href="https://www.netbsd.org/">NetBSD</a> group&#39;s ambition was to make BSD run on any hardware they could get their hands on. [See <i>Addendum</i> at the end of the article.]</li><li>A group of former CSRG employees formed <a href="https://en.wikipedia.org/wiki/Berkeley_Software_Design">BSDi Inc.</a> and marketed their product BSD/386 with among other things a contact phone number &#34;1-800-ITS-UNIX&#34;. The activities of an actual corporation in turn triggered a lawsuit from the owners of the UNIX trademark over code copyrights.</li></ul><h3>You are already an OpenBSD user!</h3><p>It is probably useful at this point to reveal that even if you do not know it, you are more likely than not using code with an OpenBSD origin right now. Your Apple product, be it iPad, iPhone or Mac, your Android device, your Cisco router, Solaris, Linux or other Unix or even your Microsoft product has some or a lot of OpenBSD originated code in it. We will get back some detail on that later.</p><h2>OpenBSD: Code audit and security evolution</h2><p>But about the code audit. The activity runs roughly like this: </p><p>Read the code, understand what it does. </p><ul><li>W^X -- memory can be writeable XOR executable</li><li>Address space randomization (ASLR) so the jump targets and gaps will vary for each execution</li><li>random-sized gaps inserted in the stack, again catching fixed-sized returns</li><li>unreadable, unwriteable guard pages at the end of malloc()ed chunks to catch overruns</li><li>privilege separation -- daemons run the bulk of their code as a non-privileged user, more likely than not in a shell-less chroot, coupled with privilege revocation, which means that daemons drop privilege as soon as possible</li><li>the pledge(2) system call to declare a profile to restrict program behavior to only specified operations and resources</li><li>the unveil(2) system call to restrict file system access to specified paths and permissions only</li><li>A fairly user visible change came when OpenBSD 6.2 introduced kernel address randomized link, or KARL, which sees to it that the kernel is relinked to a new, randomized layout for each boot. Once again, introducing randomness where none had been before is seen as a way to mitigate possible exploits based on code loading at predictable addresses.</li></ul><p> <i>&#34;where it is possible to spot damage, fail hard&#34;.</i><br/>
</p><h2>Usable, portable and secure</h2><p>Fortunately for us, the project was always coordinated from Canada by undisputed project leader Theo de Raadt who lives in Canada. There is anecdotal evidence that US based developers would trek across the border for hackathons with clean slate equipment to install OpenBSD while in Canada and hack, that is, work on the system and would then legally bring the result back with them.</p><img src="https://nxdomain.no/~peter/blogpix/tshirt-4.gif" alt="puffy with so long and thanks for all the fish"/>
<p>The expectation was that the T-shirt would be illegal to re-export from the US.</p><h2>So why use OpenBSD? What is it like?</h2><h2>Ported software goes under <span>/usr/local</span></h2><p><b>Note: </b>If you are more of a <i>slides</i> person than a <i>fulltext</i> person, you may be relieved to hear that you can find the <a href="https://home.nuug.no/~peter/openbsd_needtoknow/">slides</a> for the talk this article is based on (and vice versa) <a href="https://home.nuug.no/~peter/openbsd_needtoknow/">here</a>. <br/>
</p><h2>The installer was always good, got better</h2>
  <p>
    When I found OpenBSD more than twenty years ago, my main Unix 
exposure was from working with Linuxes and FreeBSD. What attracted me to
 OpenBSD and finally had me buy an OpenBSD 2.5 CD set was the strong 
focus on security and code correctness. When the CD set and the classic 
wireframe daemon T-shirt finally arrived in the mail, I set about at 
first to install it on whatever spare hardware I had lying around.
  </p><p><a href="https://nxdomain.no/~peter/blogpix/tshirt-2.jpg"><img alt="OpenBSD wireframe daemon head" data-original-height="305" data-original-width="288" src="https://nxdomain.no/~peter/blogpix/tshirt-2.jpg"/></a></p></div>
  </body>
</html>
