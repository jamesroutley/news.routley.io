<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.bleepingcomputer.com/news/security/dev-corrupts-npm-libs-colors-and-faker-breaking-thousands-of-apps/">Original</a>
    <h1>Dev corrupts NPM libs &#39;colors&#39; and &#39;faker&#39;, breaking thousands of apps</h1>
    
    <div id="readability-page-1" class="page"><div>
<p><img alt="npm" height="900" src="https://www.bleepstatic.com/content/hl-images/2021/10/23/npm-supply-chain-attack.jpg" width="1600"/></p>
<p>Users of popular open-source libraries &#39;colors&#39; and &#39;faker&#39; were left stunned after they saw their applications, using these libraries, printing gibberish data and breaking.</p>
<p>Some surmised if the NPM libraries had been compromised, but it turns out there&#39;s much more to the story.</p>
<p>The developer of these libraries intentionally introduced an infinite loop that bricked <strong>thousands of projects</strong> that depend on &#39;colors and &#39;faker&#39;. </p>
<p>The <em>colors</em> library receives over <a href="https://www.npmjs.com/package/colors" target="_blank" rel="nofollow noopener">20 million weekly downloads</a> on npm alone, and has almost 19,000 projects depending on it. Whereas, <em><a href="https://www.npmjs.com/package/faker" target="_blank" rel="nofollow noopener">faker</a></em> receives over 2.8 million weekly downloads on npm, and has over 2,500 dependents.</p>
<h2>Open Source Revolution?</h2>
<p>The developer behind popular open-source NPM libraries &#39;colors&#39; (aka colors.js on <a href="https://github.com/Marak/colors.js" target="_blank" rel="nofollow noopener">GitHub</a>) and &#39;faker&#39; (aka &#39;faker.js&#39; on <a href="https://github.com/marak/Faker.js/" target="_blank" rel="nofollow noopener">GitHub</a>) intentionally introduced mischievous commits in them that are impacting thousands of applications relying on these libraries.</p>
<p>Yesterday, users of popular open-source projects, such as <a href="https://github.com/aws/aws-cdk/issues/18323" target="_blank" rel="nofollow noopener">Amazon&#39;s Cloud Development Kit</a> (aws-cdk) were left stunned on seeing their applications print gibberish messages on their console.</p>
<p>These messages included the text &#39;LIBERTY LIBERTY LIBERTY&#39; followed by a sequence of non-ASCII characters:</p>
<div>
<figure><img alt="Users stunned on seeing garbage data" height="253" src="https://www.bleepstatic.com/images/news/u/1164866/2022/January-2022/colors-faker/faker-liberty.jpeg" width="500"/><figcaption><strong>Users left stunned on seeing garbage data printed by &#39;faker&#39; and &#39;colors&#39; projects </strong>(GitHub)</figcaption></figure></div>
<p>Initially, users suspected that the libraries &#39;colors&#39; and &#39;faker&#39; used by these projects were compromised [<a href="https://github.com/aws/aws-cdk/issues/18323" target="_blank" rel="nofollow noopener">1</a>, <a href="https://github.com/workshopper/javascripting/issues/327" target="_blank" rel="nofollow noopener">2</a>, <a href="https://github.com/oclif/oclif/issues/786" target="_blank" rel="nofollow noopener">3</a>], similar to how <a href="https://www.bleepingcomputer.com/news/security/popular-coa-npm-library-hijacked-to-steal-user-passwords/" target="_blank">coa, rc,</a> and <a href="https://www.bleepingcomputer.com/news/security/popular-npm-library-hijacked-to-install-password-stealers-miners/" target="_blank">ua-parser-j</a>s libraries were hijacked last year by malicious actors.</p>
<p>But, in fact, it was the dev behind <em>colors</em> and <em>faker</em> who appears to have intentionally <a href="https://github.com/Marak/colors.js/commit/074a0f8ed0c31c35d13d28632bd8a049ff136fb6?diff=unified" target="_blank" rel="nofollow noopener">committed</a> the code responsible for the major blunder, as seen by BleepingComputer.</p>
<p>The developer, named Marak Squires added a &#34;new American flag module&#34; to <em>colors.js</em> library yesterday in version <em>v1.4.44-liberty-2</em> that he then <a href="https://github.com/Marak/colors.js/commit/6bc50e79eeaa1d87369bb3e7e608ebed18c5cf26" target="_blank" rel="nofollow noopener">pushed to GitHub</a> and npm.</p>
<div>
<figure><img alt="colors.js mischievous GitHub acommit" height="265" src="https://www.bleepstatic.com/images/news/u/1164866/2022/January-2022/colors-faker/marak-commits.jpg" width="500"/><figcaption><strong>colors.js mischievous commit made by &#39;Marak&#39; </strong>(GitHub)</figcaption></figure></div>
<p>The <a href="https://github.com/Marak/colors.js/commit/074a0f8ed0c31c35d13d28632bd8a049ff136fb6#diff-92bbac9a308cd5fcf9db165841f2d90ce981baddcb2b1e26cfff170929af3bd1R18" target="_blank" rel="nofollow noopener">infinite loop</a> introduced in the code will keep running indefinitely; printing the gibberish non-ASCII character sequence endlessly on the console for any applications that use &#39;colors.&#39;</p>
<p>Likewise, a sabotaged version &#39;6.6.6&#39; of <em>faker</em> <a href="https://github.com/Marak/faker.js/blob/master/package.json#L4" target="_blank" rel="nofollow noopener">was published to</a> GitHub and npm.</p>
<p>&#34;It&#39;s come to our attention that there is a zalgo bug in the v1.4.44-liberty-2 release of colors,&#34; <a href="https://github.com/Marak/colors.js/issues/285" target="_blank" rel="nofollow noopener">mocked</a> the developer.</p>
<p>&#34;Please know we are working right now to fix the situation and will have a resolution shortly.&#34;</p>
<p><a href="https://www.bleepingcomputer.com/news/technology/why-certain-characters-glitch-gmail-youtube-and-twitter/" target="_blank">Zalgo text</a> refers to certain non-ASCII characters that appear glitchy.</p>
<p>The reason behind this mischief on the developer&#39;s part appears to be retaliation—against mega-corporations and commercial consumers of open-source projects who extensively rely on cost-free and community-powered software but do not, according to the developer, give back to the community.</p>
<p>In November 2020, Marak had warned that he will no longer be supporting the big corporations with his &#34;free work&#34; and that commercial entities should consider either forking the projects or compensating the dev with a yearly &#34;six figure&#34; salary.</p>
<p>&#34;Respectfully, I am no longer going to support Fortune 500s ( and other smaller sized companies ) with my free work. There isn&#39;t much else to say,&#34; the developer previously <a href="http://web.archive.org/web/20210704022108/https://github.com/Marak/faker.js/issues/1046" target="_blank" rel="nofollow noopener">wrote</a>.</p>
<p>&#34;Take this as an opportunity to send me a six figure yearly contract or fork the project and have someone else work on it.</p>
<p>Interestingly, as of today, BleepingComputer noticed that the <a href="https://github.com/marak/Faker.js/" target="_blank" rel="nofollow noopener">README</a> page for the &#39;faker&#39; GitHub repo was also modified by the developer to make reference to <a href="https://en.wikipedia.org/wiki/Aaron_Swartz" target="_blank" rel="nofollow noopener">Aaron Swartz</a> by stating: &#34;What really happened with Aaron Swartz?&#34;</p>
<p>Swartz was an American programmer, entrepreneur, and renowned hacktivist who, following a legal battle, <a href="https://www.eff.org/deeplinks/2013/01/farewell-aaron-swartz" target="_blank" rel="nofollow noopener">committed suicide</a>.</p>
<p>In an effort to make information freely accessible to all, the hacktivist downloaded millions of journal articles from the JSTOR database present on the MIT campus network, allegedly by rotating his IP and MAC addresses repeatedly to get around the technological blocks put in place by JSTOR and MIT.</p>
<p>In the process of doing this, Swartz may have run afoul of the Computer Fraud and Abuse Act and faced criminal charges, with penalties of up to thirty-five years in prison.</p>
<h2>Uncanny can of worms</h2>
<p>Marak&#39;s bold move has opened up a can of worms and attracted mixed responses.</p>
<p>Some members of the open-source software community have praised the developer&#39;s actions, while others are appalled by it.</p>
<p>&#34;Apparently the author of &#39;colors.js&#39; is angry for not being payed... So he decided to print the American flag each time his library is loaded... WTF,&#34; <a href="https://twitter.com/galtashma/status/1479929747337580546" target="_blank" rel="nofollow noopener">tweeted</a> one user. </p>
<p>Some <a href="https://twitter.com/vaultec81/status/1479991084587499521" target="_blank" rel="nofollow noopener">dubbed</a> this an instance of &#34;yet another OSS developer going rogue,&#34; whereas InfoSec expert <em>VessOnSecurity</em> called the action &#34;<a href="https://twitter.com/VessOnSecurity/status/1480189534625320960" target="_blank" rel="nofollow noopener">irresponsible</a>,&#34; stating:</p>
<p>&#34;If you have problems with business using your free code for free, don&#39;t publish free code. By sabotaging your own widely used stuff, you hurt not only big business but anyone using it. This trains people not to update, &#39;coz stuff might break.&#34;</p>
<p>GitHub has reportedly suspended the developer&#39;s account. And, that too, has caused mixed reactions:</p>
<blockquote>
<p dir="ltr" lang="en">NPM has reverted to a previous version of the faker.js package and Github has suspended my access to all public and private projects. I have 100s of projects. <a href="https://twitter.com/hashtag/AaronSwartz?src=hash&amp;ref_src=twsrc%5Etfw" rel="nofollow noopener">#AaronSwartz</a> <a href="https://t.co/zFddwn631S" rel="nofollow noopener">pic.twitter.com/zFddwn631S</a></p>
— marak (@marak) <a href="https://twitter.com/marak/status/1479200803948830724?ref_src=twsrc%5Etfw" rel="nofollow noopener">January 6, 2022</a></blockquote>
<p>&#34;Removing your own code from [GitHub] is a violation of their Terms of Service? WTF? This is a kidnapping. We need to start decentralizing the hosting of free software source code,&#34; <a href="https://twitter.com/sgomez/status/1480148595059965956" target="_blank" rel="nofollow noopener">responded</a> software engineer Sergio Gómez.</p>
<p>&#34;Never know what happened but I’m hosting all of my projects on GitLab private instance just in cause things like this happening to me. Never trust any internet service provider,&#34; <a href="https://twitter.com/Lakr233/status/1480178455736033282" target="_blank" rel="nofollow noopener">tweeted</a> another.</p>
<p>&#34;Marak yeeted faker and colors, bricking tons of projects, and expected nothing to happen?&#34; <a href="https://twitter.com/piemadd/status/1480017317278978048" target="_blank" rel="nofollow noopener">stated</a> a developer named Piero.</p>
<p>Note, Marak&#39;s surprising move follows the recent <a href="https://www.bleepingcomputer.com/news/security/new-zero-day-exploit-for-log4j-java-library-is-an-enterprise-nightmare/" target="_blank">Log4j debacle that set the internet on fire</a>.</p>
<p>Open-source library Log4j is used extensively in a vast range of Java applications, including those developed by corporations and commercial entities.</p>
<p>But, shortly after mass-exploitation of the Log4shell vulnerability, the maintainers of the open-source library worked without compensation over the holidays to patch the project, as <a href="https://www.bleepingcomputer.com/news/security/all-log4j-logback-bugs-we-know-so-far-and-why-you-must-ditch-215/" target="_blank">more and more CVEs were being discovered</a>.</p>
<p>Concerns followed as to how big businesses were used to &#34;<a href="https://www.theregister.com/2021/12/14/log4j_vulnerability_open_source_funding/" target="_blank" rel="nofollow noopener">exploiting</a>&#34; open-source; by consuming it incessantly but not giving back enough to support the unpaid volunteers who sustain these critical projects by giving up their free time.</p>
<p>Some also criticized the netizens and bug bounty hunters hounding the Log4j maintainers who were already &#34;working sleeplessly on mitigation measures; fixes, docs, CVE, replies to inquiries, etc.&#34; [<a href="https://twitter.com/yazicivo/status/1469349956880408583" target="_blank" rel="nofollow noopener">1</a>, <a href="https://twitter.com/pentestscraps/status/1473707415635963919" target="_blank" rel="nofollow noopener">2</a>, <a href="https://twitter.com/GossiTheDog/status/1469848362325270530" target="_blank" rel="nofollow noopener">3</a>].</p>
<p>&#34;The responses to the colors.js/faker.js author sabotaging their own packages are really telling about how many corporate developers think they are morally entitled to open source developers&#39; unpaid labour without contributing anything back,&#34; <a href="https://twitter.com/sadiekatze/status/1480164481112100872" target="_blank" rel="nofollow noopener">wrote</a> one Twitter user.</p>
<p>Time will tell what the future of open-source software entails, with regards to the <a href="https://github.blog/2019-01-17-lets-talk-about-open-source-sustainability/" target="_blank" rel="nofollow noopener">OSS sustainability problem</a>.</p>
<p>In the meantime, users of &#39;colors&#39; and &#39;faker&#39; NPM projects should ensure they are not using an unsafe version. Downgrading to an earlier version of colors (e.g. 1.4.0) and faker (e.g. 5.5.3) is one solution.</p>
<p><em>Update 10:08 AM ET: Added tweet from @VessOnSecurity after publishing.</em></p>
<p><em>Update 11:24 AM ET: Added developer&#39;s full name, Marak Squires.</em></p>

</div></div>
  </body>
</html>
