<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ericmigi.com/blog/how-to-build-a-smartwatch-software-setting-expectations-and-roadmap/">Original</a>
    <h1>How To Build A Smartwatch: Software</h1>
    
    <div id="readability-page-1" class="page"><div><p><a href="https://x.com/megaconfidence/status/1983850330053030244" target="_blank" rel="noopener noreferrer"><img src="https://ericmigi.com/assets/how-to-build-a-smartwatch-software-setting-expectations-and-roadmap-0-97ffb77d-ecee-4a7a-a52f-51307029b88b.png" alt="Thanks to everyone for posting pics of their new Pebble 2 Duos! "/></a></p><p>Thanks to everyone for posting pics of their new Pebble 2 Duos! </p><p><em>This blog post is MUCH longer than I intended. Itâ€™s way too long. I canâ€™t imagine that anyone will finish it. How about this - if you have any questions about whatâ€™s written here - post a comment below and I will try to do a follow-up</em> <a href="https://www.youtube.com/@TickTalk-with-Eric" target="_blank" rel="noopener noreferrer"><em>Tick Talk episode</em></a> <em>soon answering these questions and generally summarizing the whole post.</em> </p><h3 id="quick-update-on-pebb"><a href="#quick-update-on-pebb">Quick update on Pebble 2 Duo (P2D) shipping status<span>#</span></a></h3><p>Weâ€™ve sent an email to everyone who pre-ordered a P2D to confirm their address and order information. Search your email/spam for <a href="https://ericmigi.com/cdn-cgi/l/email-protection#a4cdcac2cbe4d6c1d4c1c6c6c8c18ac7cbc9" target="_blank" rel="noopener noreferrer"><span data-cfemail="6b02050d042b190e3b0e0909070e45080406">[emailÂ protected]</span></a>. <strong>If you havenâ€™t received it</strong>, please email us and weâ€™ll help get your watch shipped out asap! Weâ€™ve now manufactured all the P2Ds that will ever be made, and sent them to our fulfillment warehouse.</p><p>P2D shipping stats:</p><ul><li>70% - delivered</li><li>14% - in transit</li><li>16% - will be shipped over next week</li></ul><p>Honestly, the last 2 months have been pretty stressful. Getting P2D through production was a major pain (which is normal for hardware products - luckily I had repressed all my memories of this or else I would have never begun doing hardware again ðŸ˜‚). Weâ€™ll finish shipping out batch two about 2 months behind my initial August estimate - which is simultaneously good (could have been longer!) and bad (gosh, I should have known better than to ever have put a date down). </p><p>Pebble 2 Duo is sold out! We are not making more. If you want a Pebble, I recommend pre-ordering a <a href="https://store.repebble.com/" target="_blank" rel="noopener noreferrer">Pebble Time 2</a> soon.</p><h3 id="setting-expectations"><a href="#setting-expectations">Setting expectations<span>#</span></a></h3><p>Guess what? Shipping out thousands of brand new watches is not actually our finish line - itâ€™s the start of the real software saga. Now yâ€™all are actually using it and finding all kinds of interesting little bugs and features that arenâ€™t working yet (as I <a href="https://ericmigi.com/blog/introducing-two-new-pebbleos-watches#you-shouldnt-get-one">explicitly mentioned in March</a>, not all features would be ready at launch). </p><p>Keep in mind, during the first era Pebble Tech Co had 180 full time employees. We currently have 5 full-time people including myself. Why not hire a bunch more people? Well, thatâ€™s one of the reasons why the original company doesnâ€™t exist anymore. This time around, the name of the game is sustainability. I want organization to be sustainable. That means optimizing everything for the org continue to be profitable (ie so it can continue to exist). I want to keep selling cool watches, building more software, maintaining the Pebble appstore and providing support long into the future. </p><p>This is a relatively long blog post, itâ€™s up to you if you want to read it all! Iâ€™d recommend just reading the following section if youâ€™re pressed for time and/or bored already.</p><p>Compared to before, this path requires trade-offs and setting expectations, especially when it comes to software development, customer support and bug fixing.  Hereâ€™s how weâ€™re thinking about that:</p><ul><li>Core features (telling time, receiving notifications, controlling music, step/sleep tracking, installing apps/faces, long battery life) should always work well</li><li>Customize your Pebble (with apps, watchfaces, a myriad of settings, alternative mobile apps) but recognize that there will be rough edges, bugs, old apps that donâ€™t work correctly, etc.</li><li>Things that once worked may stop working! Hopefully they will start working again (sometime).</li><li>You might have to occasionally tap something 2-3 times to make it work. Getting something to work 100% in all situations is actually very hard. If we made this a goal it would occupy all our time, and weâ€™d never find time to build new things.</li><li>That having been said, weâ€™re staying focused and not trying to add a ton of new features (each feature makes the system more complex, more ways that the whole system can break, more testing that needs to be done).</li><li>Customer support is provided my brave colleague Claudio and me. Weâ€™ll provide basic support but weâ€™re not going to be able to walk you through how to use your watch via email.</li><li>This is a just fun smartwatch. Remember to breathe. You literally couldnâ€™t buy a new Pebble for last 9 years. Now you can.</li><li>If you see a bug, weâ€™d love if you could report it to us in the Pebble mobile app (Settings â†’ New Bug Report).</li><li>But even better, since <a href="https://github.com/coredevices/pebbleos" target="_blank" rel="noopener noreferrer">PebbleOS is now open source</a>, if you have the technical ability to do so, try to fix the bug and submit a PR!</li></ul><h3 id="near-term-software-r"><a href="#near-term-software-r">Near-term software roadmap<span>#</span></a></h3><p>Hereâ€™s our 100% subject to change software roadmap, in roughly prioritized order:</p><ul><li>Get PebbleOS ready for Pebble Time 2</li><li>Increase Pebble 2 Duo average battery life from 17 days (current) to 30 days</li><li>Add language and character set packs into Pebble app (though you can <a href="https://ndocs.repebble.com/getting-started" target="_blank" rel="noopener noreferrer">use them now</a>)</li><li>Little quality of life improvements (feel free to suggest them to us! Pebble app â†’ Settings â†’ New Bug Report)</li><li>PebbleKit Android - enabling companion apps like MusicBoss (no plans to get PebbleKit iOS working, sorry)</li><li>Make watch settings adjustable from mobile app (enables more customization without overloading the watch interface)</li><li>Notifications - this is going to be a huge focus for us. Think: custom vibe patterns per app/person, view chat message history (will probably require <a href="http://beeper.com/" target="_blank" rel="noopener noreferrer">Beeper</a> ðŸ˜‰), filtering out ads.</li><li>Developer SDK - big stuff in works! Improvements to <a href="https://developer.repebble.com/sdk/cloud" target="_blank" rel="noopener noreferrer">Pebble Cloud</a>, a new way to write Pebble apps/faces in JavaScript (in addition to C), new APIs for touchscreen and speaker</li><li>Adding a voice assistant - set alarms/timers, create reminders, add notes, send messages (will require Beeper), ask simple questions (whatâ€™s the weather forecast, whenâ€™s the next Caltrain, open XXX app)</li><li>Pebble Canvas/watchface generator - my colleague Steve (the creator of <a href="https://apps.rebble.io/en_US/application/52b0c7ff1f6c177866000007" target="_blank" rel="noopener noreferrer">Pebble Canvas</a>) has some ideasâ€¦</li></ul><p>Know how to code and want to help out? Here are some project ideas, but really I recommend just starting to build a feature you personally want!</p><ul><li>Add system-wide setting to vibrate on the hour, and vibrate when BT disconnects/reconnects so each watchface doesnâ€™t need to do it themselves</li><li>Adding barometer driver to <a href="https://github.com/coredevices/pebbleos" target="_blank" rel="noopener noreferrer">PebbleOS</a> (for P2D)</li><li>Supporting RtL languages (think<a href="https://elbbep.cpfx.ca/" target="_blank" rel="noopener noreferrer"> Elbbep</a> but built into PebbleOS)</li><li>Adding full timeline support or mess around with (Android) notification support to <a href="https://github.com/coredevices/libpebble3" target="_blank" rel="noopener noreferrer">libpebble3</a></li><li>Helping out with <a href="https://github.com/matejdro/microPebble" target="_blank" rel="noopener noreferrer">Micropebble</a></li><li>Building cool watchfaces and apps using the <a href="https://developer.repebble.com/sdk" target="_blank" rel="noopener noreferrer">SDK</a>!</li><li>Helping with an eventual migration from FreeRTOS to Zephyr</li></ul><h3 id="how-to-build-a-smart"><a href="#how-to-build-a-smart">How to build a smartwatch - software!<span>#</span></a></h3><p>Continuing my theme of â€˜how to build a smartwatchâ€™ (see last post: <a href="https://ericmigi.com/blog/how-to-build-a-smartwatch-picking-a-chip">picking a chip</a>), letâ€™s talk software. A smartwatch requires 4 main pieces of software:</p><pre><code>1. Operating system, sometimes called the firmware that runs on the watch
2. Companion iPhone/Android mobile app
3. Software Development Kit (SDK) for developing apps/faces
4. Cloud software for an appstore and other services
</code></pre><p>Everyone says â€˜hardware is hardâ€™. This is correct, but not for the reason most people think! I think building good embedded software is actually the hardest, most expensive and most unpredictable part of creating a consumer hardware product like a smartwatch. Ironic, I know.</p><p>One important lesson Iâ€™ve learned regarding embedded software is that you can actually â€˜be doneâ€™. During our heyday, we released PebbleOS updates every month or two for 4 years straight. Then, after December 2016, those updates stopped. And guess what? My Pebble kept working. I still got notifications reliably, I could control music on my phone, I got a buzz from my calendar before my next meeting. Unlike web or mobile software, thereâ€™s no bitrot, no dependencies that disappear (cough left-pad), no requirement for more and more RAM to run the same software. </p><h2>Pebble Software History</h2><p>Firmware started on <a href="https://www.tumblr.com/inpulse-blog/222972860/evolution1" target="_blank" rel="noopener noreferrer">inPulse</a> as a <code>while()</code> loop and evolved from there. When PebbleOS development began in earnest in 2012, there werenâ€™t not too many options for open source embedded OSes. We ended up using FreeRTOS as the kernel. Zephyr didnâ€™t exist at the time. For 4 years, we had on average 20 firmware engineers working full-time on PebbleOS. Overall, we probably invested $15m+ developing it.</p><p><img src="https://ericmigi.com/assets/how-to-build-a-smartwatch-software-setting-expectations-and-roadmap-1-image.png" alt="Roughly 10 days after the Kickstarter launch in 2012, the team hastily assembled to figure out how tf we were going to actually do it"/></p><p>Roughly 10 days after the Kickstarter launch in 2012, the team hastily assembled to figure out how tf we were going to actually do it</p><p>On the companion app side, we looked at cross platform libraries like Cordova, but decided to make separate iOS and Android companion apps. The Pebble appstore was written as a webapp, and displayed inside an embedded webview.</p><p>For 3rd party developers, we put TONS of effort into our software development kit (SDK) which encompasses all the tools that developers used to write software for Pebble. Iâ€™m extremely proud of our SDK - it was a huge investment for us and I think it really paid off! Over 10,000 apps/faces were published on the <a href="https://apps.repebble.com/en_US/watchfaces" target="_blank" rel="noopener noreferrer">appstore</a>. More importantly, we spent a lot of time with the people behind the apps. Many told us that they actually learned to code for the first time with Pebble! Someone even <a href="https://pebble.gitbooks.io/learning-c-with-pebble/content/" target="_blank" rel="noopener noreferrer">wrote a book</a> about it. My favourite part were the  developer retreats, where we flew in 50+ Pebble developers to our office to hang out, try our new SDK and give us feedback. So many great things were created in the community like httpebble, Cloudpebble, watchface-generator.de. At first our SDK was entirely based on C, later we added the ability to write watchfaces in JavaScript with Rocky.js.  </p><p><img src="https://ericmigi.com/assets/how-to-build-a-smartwatch-software-setting-expectations-and-roadmap-2-image.png"/></p><p>Back in 2012, we refused to call it â€˜the cloudâ€™ so instead we called our web services the â€˜Sky Castleâ€™. That evolved into the Pebble appstore, voice-to-text, and the over-the-air firmware update system. Before Pebble assets were acquired in 2016 by Fitbit, we negotiated and built a backdoor in the Pebble iOS and Android mobile apps which enabled these apps to be used with alternative cloud services. </p><p>Immediately after, a group of community members (and later joined by some of my Pebble colleagues) started <a href="https://rebble.io/2016/12/09/rebble-pebble-reborn.html" target="_blank" rel="noopener noreferrer">Rebble</a>. They backed up a copy of all the apps/faces on the Pebble appstore and built open source replacement web services (<a href="https://www.youtube.com/watch?v=6qrfjbb5jKw" target="_blank" rel="noopener noreferrer">watch the presentation on how it works!</a>). Rebble also started building an open source companion app (Cobble) and funded hackathons to encourage developers to continue writing apps/faces. The community is alive and well, thanks to Rebble for keeping everyone engaged with a product that hasnâ€™t been on sale since 2016! </p><p>In January 2025, Google (which had purchased Fitbit) <a href="https://opensource.googleblog.com/2025/01/see-code-that-powered-pebble-smartwatches.html?utm_source=chatgpt.com" target="_blank" rel="noopener noreferrer">open sourced the source code</a> for PebbleOS. Now a new era of Pebble has begun!</p><h2>What makes PebbleOS special</h2><p><video controls="" preload="metadata" playsinline=""><source src="/assets/how-to-build-a-smartwatch-software-setting-expectations-and-roadmap-5-cleanshot_2025-05-28_at_00.29.48.mp4" type="video/mp4"/>Your browser does not support the video tag.</video></p><p>PebbleOS running on Pebble Time in 2015. Credit </p><p>Constraints breed creativity. And oh boy, was Pebble full of constraints. The original Pebble had a 144x168 pixel black and white e-paper display that updated at 30fps. It was powered by an STM32F microcontroller with 128K of RAM and 1MB of flash memory. We had 10 people on the team (total). We had to do a lot with a little, which really helped us focus on the core features that we wanted Pebble to deliver. There was no time or energy for fluff, distractions or features that we ourselves wouldnâ€™t use. We turned to <a href="https://vimeo.com/47491719?fl=pl&amp;fe=vl" target="_blank" rel="noopener noreferrer">black and white graphical tricks</a> that were used on the original Mac. The initial result was fun, quirky and efficient. </p><p>Later in 2013, we hired a full product design team, led by Itai and <a href="https://x.com/ericmigi/status/1462920821366681600" target="_blank" rel="noopener noreferrer">Liron</a>, supported by Heiko and our amazing engineering team. That unlocked the next phase of even MORE quirkiness, beautiful animations, fun little easter eggs and more that launched with Pebble Time and its 64 colour e-paper screen.</p><p>Pebble felt retro when it launched because it didnâ€™t have an OLED screen and used buttons instead of touch. These constraints and retro feel made it simpler for third-party developers to build beautiful watchfaces and apps, which spurred thousands of people to learn how to code and launch apps on the <a href="https://apps.repebble.com/en_US/watchfaces" target="_blank" rel="noopener noreferrer">Pebble Appstore</a>.</p><p><img src="https://ericmigi.com/assets/how-to-build-a-smartwatch-software-setting-expectations-and-roadmap-4-cleanshot_2025-11-04_at_10.55.31.gif"/></p><p>Hereâ€™s a random grab bag of other things that made PebbleOS special:</p><ul><li>All Pebbles ran the same version of PebbleOS, rather than forking the OS for each new device. We took great pains to make new PebbleOS improvements backwards compatible to older Pebbles, eg 2.x on OG Pebble took 10+ engineers many months to build.</li><li>At the time, it was practically unheard of for an RTOS to support running dynamically loaded 3rd party apps safely in sandbox.</li><li>Pebble Protocol - an efficient extensible protocol that enabled us to switch pretty seamlessly from Bluetooth Classic to BLE.</li><li>Great SDK developer experience - get started in &lt;5 mins. Thereâ€™s even a remote developer connection that lets you hit build on your computer and within seconds see your compiled watchface running on your wrist.</li><li>It didn&#39;t try to replace your phone. It complemented your phone by acting as an accessory when it was needed and getting out of the way when it wasn&#39;t.</li></ul><p>What else do you love about PebbleOS? Share it in the comments below!</p><h2>Core Plans</h2><p>Generally, we like how PebbleOS looks and feels right now. Weâ€™re not planning to make major changes to PebbleOS UI/UX. Since it was designed for a black/white display, it was â€˜retroâ€™ tech before that was cool! If the design of it annoys you, get an Apple watch or something. Weâ€™re going to keep things as great as they were before.</p><p>Weâ€™ve preserved backwards compatibility as much as possible. This means that our new watches can run existing Pebble apps and watchfaces. Communication between the watch and companion app will be stock Pebble Protocol - meaning existing open source apps like Cobble and <a href="https://gadgetbridge.org/" target="_blank" rel="noopener noreferrer">Gadgetbridge</a> work great. But we&#39;re not going to make backwards compatibility something that blocks forward progress. Pebble Tech Co had 180 employees. We currently have 5. As I mentioned before, the name of the game is sustainability. We canâ€™t do everything. </p><h3 id="pebble-mobile-app"><a href="#pebble-mobile-app">Pebble mobile app<span>#</span></a></h3><p>Itâ€™s alive! Download it at <a href="http://repebble.com/app" target="_blank" rel="noopener noreferrer">rePebble.com/app</a>.</p><p>Even if Google had open sourced the source code for the original Pebble iOS and Android apps, we wouldnâ€™t have used it. Unlike PebbleOS, which is self-contained embedded C code, the old mobile apps contained dependencies and UI frameworks that have changed dramatically in the last decade. </p><p>Instead, weâ€™ve built a new open source library called <a href="https://github.com/coredevices/libpebble3" target="_blank" rel="noopener noreferrer">libpebble3</a>. This library is â€˜batteries includedâ€™ - designed to provide everything you need to build a Pebble companion app except for the UI. Itâ€™s a single cross platform (iOS, Android and desktop) codebase written in Kotlin Multi Platform (KMP). Weâ€™ve licensed libpebble3 under AGPL-3 with an optional commercial exemption for integration into a proprietary codebase. Learn about this <a href="https://ericmigi.notion.site/Core-Devices-Software-Licensing-1c0fbb55ea8480f88d27ccf20fcb84a8" target="_blank" rel="noopener noreferrer">strategy</a>.</p><p>Our new <a href="https://repebble.com/app" target="_blank" rel="noopener noreferrer">companion app</a> uses libpebble3 under the hood. Good news for those who have old generation Pebbles - new new app supports those devices too!</p><p>One major improvement that weâ€™ve made is adding a local speech-to-text (STT) model into the mobile app. Previously, we relied on a cloud service like Google STT to transcribe voice input to text. This cost money and required uploading voice samples to a cloud service. With the help of <a href="https://github.com/cactus-compute/cactus" target="_blank" rel="noopener noreferrer">Cactus Compute</a>, we now offer a local on-device STT option. We still offer a high quality cloud STT option from <a href="https://wisprflow.ai/" target="_blank" rel="noopener noreferrer">Wispr Flow</a> (AMAZING desktop app btw) for free, but we might need to put this behind a paywall because it costs real money.</p><p>While the new Pebble app is not currently open source, weâ€™re happy that open source projects like <a href="https://github.com/matejdro/microPebble" target="_blank" rel="noopener noreferrer">Micropebble</a> and <a href="https://gadgetbridge.org/" target="_blank" rel="noopener noreferrer">Gadgetbridge</a> are compatible with our new watches. </p><p>Why is our new Pebble app not open source? Two reasons: </p><ol><li>weâ€™re planning to use it as a companion app for other devices so itâ€™s not strictly a watch-only app anymore</li><li>if <a href="https://github.com/coredevices/pebbleos" target="_blank" rel="noopener noreferrer">PebbleOS</a>, mobile app and <a href="https://github.com/coredevices/hardware/tree/main/watch/Pebble%202%20Duo%20(asterix)" target="_blank" rel="noopener noreferrer">watch hardware designs</a> were ALL open source, it would be very easy for other commercial entities to leech off our work without contributing back. I decided to open source libpebble3 as a compromise. Hereâ€™s the explanation of that <a href="https://ericmigi.notion.site/Core-Devices-Software-Licensing-1c0fbb55ea8480f88d27ccf20fcb84a8" target="_blank" rel="noopener noreferrer">strategy</a>.</li></ol><p>Roadmap-wise, here are some of the new mobile app features weâ€™re considering:</p><ul><li>Adding Language packs and settings</li><li>Find my phone</li><li>Native appstore UI rather than ancient webview</li><li>Being able to connect 2+ Pebbles to one phone seamlessly, letting you easily switch between them without needing to disconnect/reconnect</li><li>Connecting Pebble health data to iOS and Android health APIs (if possible)</li><li>Major improvements to notifications (as discussed above)</li><li>Sending messages on <a href="http://beeper.com/" target="_blank" rel="noopener noreferrer">Beeper</a> from the watch (ie by voice or Send Text app). Probably Android-only</li><li>Pebble Canvas or Watchface-Generator-like functionality to create custom watchfaces right inside the mobile app</li></ul><h3 id="pebbleos-firmware-pl"><a href="#pebbleos-firmware-pl">PebbleOS firmware plan<span>#</span></a></h3><p>Over the last year since PebbleOS source code was released by Google, our ~2 person firmware team has been working to add support for 2 new microcontrollers to the codebase (nRF52840 and SiFli, discussed more <a href="https://ericmigi.com/blog/how-to-build-a-smartwatch-picking-a-chip">in this post</a>). This rapid progress was greatly helped by hexxehâ€™s contribution - he integrated <a href="https://github.com/apache/mynewt-nimble" target="_blank" rel="noopener noreferrer">nimBLE</a> stack, and the SiFli team who added a board support package (BSP). </p><p>You can check out the <a href="https://github.com/coredevices/pebbleos" target="_blank" rel="noopener noreferrer">PebbleOS codebase</a> and <a href="https://pebbleos-core.readthedocs.io/en/latest/getting_started.html" target="_blank" rel="noopener noreferrer">compile it yourself</a>.</p><p>Each Pebble ships from the factory with the Pebble Recovery Firmware (PRF) which has 3 uses: a) test functionality in factory before final assembly, b) first thing a user sees when they turn on a new watch, and c) fallback emergency system in case of a bad over-the-air update or critical bug. </p><p>After getting PRF to work with the new watches, we shifted gears to focus on stability, reducing power consumption and making sure that all existing features of PebbleOS work correctly on P2D. We had to tweak the step and sleep tracking algorithms for the new IMU and writing new drivers for new components. </p><p>In parallel, the core Core team also worked with SiFli and our manufacturing partners on Pebble Time 2 stuff. Weâ€™re reusing and benefitting greatly from the 2016 work on the original Pebble Time 2 (weâ€™re repurposing the old <a href="https://developer.rebble.io/developer.pebble.com/guides/tools-and-resources/hardware-information/index.html" target="_blank" rel="noopener noreferrer">Emery platform</a> name for apps targeting PT2) and most system apps already support the larger 200x228 pixel display. We still have to do some work to update other internal apps and figure out basic touchscreen integration. </p><p>One other major task this year has been integration of the <a href="https://github.com/Moddable-OpenSource/moddable" target="_blank" rel="noopener noreferrer">Moddable</a> Javascript runtime into PebbleOS. Huge shoutouts to the talented and friendly Moddable team who have done <em>all</em> the heavy lifting. Back in 2016, we supported basic JS watchfaces with <a href="https://developer.repebble.com/guides/rocky-js/rocky-js-overview" target="_blank" rel="noopener noreferrer">Rocky.js</a> but never really finished the project. Now Moddable runtime has replaced Rocky.js+Jerryscript with a full-featured runtime and SDK. You can even write apps that blend C and JS. Expect to hear a lot more about this in the near future.</p><p>We covered the near-term roadmap at the top of this post.</p><p>In general, we will tune PebbleOS to have great default settings and characteristics that match what I <a href="https://ericmigi.com/blog/why-were-bringing-pebble-back">want out of my smartwatch</a>. Where possible we will offer ways for you to customize (ie switches/toggles/controls) these settings to your liking. </p><p>Another background task is modernizing PebbleOS architecture and making it easier to port to other devices. Here are my colleague Gerardâ€™s thoughts: it is fundamental to invest in modernizing PebbleOS or consider switching to another platform (eg Zephyr). There are quite a few aspects of the OS that are painful to work with, specially the foundations (low level, driver abstractions, WAF build system, etc.) Adding a 2nd platform (SiFli) is already showing that another one would start making things difficult enough to maintain.</p><p>Core Devices has contributed <em>all</em> our improvements to PebbleOS as open source code on <a href="https://github.com/coredevices/pebbleos" target="_blank" rel="noopener noreferrer">GitHub</a>, but our firmware development process is not being run as an open governance project. I am the benevolent dictator. Why? Open governance is just not my area of expertise and Iâ€™m personally more interested in building cool gadgets than learning about how to do it well. </p><p>Gerard has served on the <a href="https://ericmigi.com/blog/how-to-build-a-smartwatch-software-setting-expectations-and-roadmap/github.com/zephyrproject-rtos/zephyr" target="_blank" rel="noopener noreferrer">Zephyr</a> working group for a while - his advice is that we could look into moving management of the fundamental operating system (drivers, architecture, SDK, compatibility layers) to the umbrella of a group like Linux Foundation or Apache Software Foundation, which have a lot of experience in open source project management. Heâ€™s also pushing for us to migrate to Zephyr instead of FreeRTOS as the foundation. This seems like a pretty reasonable goal, though it will be a pretty big software lift. Good news is that our <a href="https://github.com/coredevices/pblboot" target="_blank" rel="noopener noreferrer">bootloader for Pebble Time 2</a> is already built with Zephr.</p><p>Do you have any dream features you would like to see added to PebbleOS? No promises, but maybe if they sound cool and we think weâ€™d use them as well, weâ€™ll try to build it! Feel free to drop them in the comment section below.</p><p>Want to develop features or fix bugs in PebbleOS? We hang at <a href="https://discord.com/channels/221364737269694464/256091649996881922" target="_blank" rel="noopener noreferrer">#firmware-dev</a> on the Rebble discord. You can also post issues, send PRs and follow the progress on <a href="https://github.com/coredevices/pebbleos" target="_blank" rel="noopener noreferrer">GitHub</a>. We canâ€™t guarantee that we&#39;ll accept all PRs, but the good news is that it&#39;s quite easy to load your own custom-built firmware onto your Pebble. I expect in the future that there probably will be many versions of firmware for Pebble 2 Duos that offer a variety of different features and experiences. Thatâ€™s the beautiful and complexity of open source!</p><h3 id="pebble-sdk-and-devel"><a href="#pebble-sdk-and-devel">Pebble SDK and developer experience<span>#</span></a></h3><p>TLDR: check out the <a href="http://developer.repebble.com/" target="_blank" rel="noopener noreferrer">developer.rePebble.com</a> and try out the SDK (<a href="https://developer.repebble.com/sdk" target="_blank" rel="noopener noreferrer">local </a>or <a href="https://developer.repebble.com/sdk/cloud" target="_blank" rel="noopener noreferrer">cloud</a>)!</p><p>As I mentioned, the easy and (dare I say) fun experience of developing an app for PebbleOS is one of the most amazing benefits of PebbleOS. We want to preserve and invest time and energy in making it even better. When I think of a â€˜target marketâ€™ for the SDK, I visualize a hacker who knows how to code (but not necessarily C), has a Pebble and wants to play around with the SDK on a lazy Sunday afternoon. </p><p>My priority is that a person completely new to Pebble development canÂ go from zero to having a fun watchface compiled and installed on their watch in &lt;5 mins. No install/compatibility/library issues. Everything should be self-explanatory (no tutorial needed). Great examples. From there, hopefully you have been sufficiently nerdsniped into building fun things for yourself. Maybe you will even share what you build with the broader Pebble community ðŸ˜‰ </p><p>Most of this was already in place back in 2016. Developers wrote 10,000+ Pebble apps/faces in C and published them to the <a href="https://apps.repebble.com/" target="_blank" rel="noopener noreferrer">appstore</a>. Our new watches will support all these existing apps! </p><p>Over the summer, our <a href="https://bsky.app/profile/ericmigi.com/post/3lxxgv4gguk2j">hyper productive intern</a> Griffin made huge strides in modernizing the <a href="https://developer.repebble.com/sdk" target="_blank" rel="noopener noreferrer">Pebble SDK</a> and developer tools. He ported <a href="https://github.com/coredevices/pebble-tool" target="_blank" rel="noopener noreferrer">Pebble tool</a> (and <a href="https://github.com/coredevices/pypkjs" target="_blank" rel="noopener noreferrer">pkjs</a>) to Python3 and wrote a <a href="https://github.com/coredevices/pebble-vscode" target="_blank" rel="noopener noreferrer">VSCode</a> extension.</p><p>Many of you probably remember CloudPebble - a web-based IDE, with a remote compile environment and emulator that enabled people to develop for Pebble without the complexity of installing the SDK on their computer. This was hugely helpful for people new to Pebble and new to coding in general. <a href="https://github.com/pebble/cloudpebble" target="_blank" rel="noopener noreferrer">CloudPebble</a> was developed as an open source project primarily by Katharine Berry. We looked at upgrading it and getting it to work again, but it would have been a huge effort.</p><p>Instead, weâ€™ve begun working on <a href="https://developer.repebble.com/sdk/cloud" target="_blank" rel="noopener noreferrer">Pebble Cloud SDK</a> - a web-based IDE powered using Github Codespaces that lets you develop and test Pebble apps/faces right in your browser. Highly encourage you to try it out today - it takes under 1 minute to get started! Weâ€™re planning to improve this, add more examples and make it even easier to use. It doesn&#39;t have as many features as CloudPebble and definitely isn&#39;t as user-friendly, but it&#39;s a good place to start. </p><p>Next up, weâ€™ll be working on the following SDK related tasks:</p><ul><li>Creating new code examples and documentation, especially for new Moddable JS apps</li><li>Improving <a href="http://developer.repebble.com/" target="_blank" rel="noopener noreferrer">developer.rePebble.com</a> docs</li><li>Making it easier to use tools like Claude Code and Cursor to develop apps and faces</li><li>Create APIs for new hardware features on the new watches, like speaker and touch screen</li><li>Providing weather data as a system API, so each watchface does not have to include itâ€™s own weather-retrieval code</li><li>Improving the Pebble Cloud SDK experience (itâ€™s all open source, feel free to tweak it if youâ€™d like and please submit PRs to the VSCode extension!)</li><li>Making it really easy to submit your apps to the appstore directly from <code>pebble</code> tool</li></ul><p>One of the long-running ideas we&#39;re toying with is creating a complications API to enable watch faces to dynamically show widgets or data feeds from other apps or services. It&#39;s one of the rare things that I think Apple Watch does better than Pebble. Nothing concrete yet, but as soon as we have some ideas on paper weâ€™ll share them and gather feedback. If you&#39;ve got any ideas wrt complications, it would be great to hear them as well. </p><h3 id="appstore-and-cloud-s"><a href="#appstore-and-cloud-s">Appstore and cloud services<span>#</span></a></h3><p>The final piece of the software puzzle is the Pebble Appstore and various cloud services. I wrote about <a href="https://ericmigi.com/blog/re-introducing-the-pebble-appstore">relaunching the appstore already</a>. There many improvements we&#39;d like to make to it like:</p><ul><li>making it easier to discover fun and interesting apps and watch faces</li><li>filtering out apps/faces that no longer work, ie that use dead web APIs for weather</li><li>highlighting newer apps/faces, especially those that support PT2</li><li>better recommendations</li></ul><p>Another big idea thatâ€™s in the back of my mind is creating a Humble Bundle-like pay-what-you-want donation subscription built into the Pebble app that funnels money towards developers, rather than devs needing to spin up their own payment service. If youâ€™re a dev and interested in chatting about this, please send me a note!  </p><p>We also use <a href="http://memfault.com/" target="_blank" rel="noopener noreferrer">Memfault</a> - founded by a bunch of Ex-Pebblers. This service manages over-the-air (OTA) PebbleOS updates, a cohorts system for managing deploying PebbleOS to alpha testers, and collects watch analytics to help us track down annoying battery-life and other bugs.</p><p>Next up is:</p><ul><li>Bringing back weather and sunset/sunrise pins</li><li>Timeline support for 3rd party apps</li></ul><p>Phew! This turned out much longer than I expected. I think I need an editor! But Iâ€™m really glad to get all this shared out. If you have any feedback or questions, please feel free to drop them in the comments below! </p></div></div>
  </body>
</html>
