<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://kodiak64.co.uk/blog/seawolves-technical-tricks">Original</a>
    <h1>Coding Tricks Used in the C64 Game Seawolves (2025)</h1>
    
    <div id="readability-page-1" class="page"><div>
				
				<!--	ABOVE THE FOLD SECTION-->
				<section>
					<div>
						
						<!--	h1 Header	-->
						
						<h2>Updated on: <time datetime="2025-07-15">15th  July 2025</time></h2>
						<br/>
					</div>
					<br/>
				</section>	
					
					
				
				<section>
					<div>
														
							<h3 id="intro">Introduction</h3>
							<p><img src="https://kodiak64.co.uk/assets/Seawolves_LOGO_slanted.jpg" width="403" height="328" alt="Seawolves Submarine Game on the Commodore 64... LOGO!" aria-label="Seawolves Submarine Game on the Commodore 64... LOGO!" title="Seawolves Submarine Game on the Commodore 64... LOGO!"/></p>
							<ol>
								<li>NMIs + IRQs running in sync.</li>
								<li>Real-time torpedoes thanks to &#34;splites&#34;.</li>
								<li>Real-time implosion animations.</li>
								<li>Real-time ocean waves.</li>
								<li>Real-time water distortion effects.</li>
								<li>FLD shift + upward correction.</li>
								<li>GFX stream-ins.</li>
								<li>Quick logic.</li>
								<li>Branch-jumping.</li>
							</ol>
							
							
							
							<h3 id="item_1">#1: NMIs + IRQs Running in Synchronisation</h3>
							<p>
								I first combined NMIs and IRQs inside a game environment in 
								<a href="https://kodiak64.co.uk/games/parallaxian" target="_blank">Parallaxian</a> and again in 
								<a href="https://www.wildwoodgame.co.uk/" rel="noopener" target="_blank">The Wild Wood</a>, to great effect, because it offers the following benefits:
								</p>
							<ul>
								<li>You can easily interrupt long tasks in a raster IRQ (IRST) with the NMI to perform short scanline-exact tasks without the need for nesting IRQs; 
								it&#39;s simpler and more elegant.</li>
								<li>It can be used as a safety net to minimise the effects of raster stall events, in which freak load conditions on an IRQ (say a 1 in 1000 alignment of circumstances) 
								would cause the IRQ schema to stall / collapse for a screen refresh frame before recovering. In this case, the final NMI handler, rather than the last IRQ handler, 
								sets the IRQ pointers / vectors for the top-of-the-screen IRQ. This way, if (for example), IRQ handler #3 out of 7 IRQ handlers stalls, the contagion only spread to
								the bottom of the screen before normal service is resumed at the top during the next frame. Otherwise, the stall effects would not recover until the next time IRQ 
								handler #3 fires.</li>
								<li>NMIs, being timer interrupts, can be set up to trigger at pretty much any cycle along a scanline, making them more efficient in terms of managing raster time than 
								IRSTs are; typically with a raster IRQ, you will have to carefully place NOPs or otherwise juggle code before changing a register (e.g. changing background colour)
								and that&#39;s after you have lost time In stabilising the IRST, whereas with NMIs, you have better control over where on the desired scanline they fire.</li>
							</ul>
							
							
							
							<h3 id="item_2">#2: Real-Time Torpedoes thanks to &#34;Splites&#34;</h3>
							<p>
								The torpedoes are, fundamentally, sprites... but not in the usual sense.
								</p>
							<p><img src="https://kodiak64.co.uk/assets/Splites_FIG_1.png" width="498" height="221" alt="SPLITE Figure 1" aria-label="SPLITE Figure 1" title="SPLITE Figure 1"/></p>
							<p><img src="https://kodiak64.co.uk/assets/Splites_FIG_2.png" width="450" height="250" alt="SPLITE Figure 2" aria-label="SPLITE Figure 2" title="SPLITE Figure 2"/></p>
							<p><img src="https://kodiak64.co.uk/assets/Splites_FIG_3.png" width="533" height="384" alt="SPLITE Figure 3" aria-label="SPLITE Figure 3" title="SPLITE Figure 3"/></p>
							<p><img src="https://kodiak64.co.uk/assets/Splites_FIG_4.png" width="480" height="360" alt="SPLITE Figure 4" aria-label="SPLITE Figure 4" title="SPLITE Figure 4"/></p>
							<video width="480" height="360" controls="">
								<source src="https://kodiak64.co.uk/assets/Seawolves_SPLITES.mp4" type="video/mp4"/>
								Your browser does not support the video tag.
							</video>
							
							
							
							<h3 id="item_3">#3: Real-Time Implosion Animations</h3>
							<p>
								When a player submarine dies, instead of a clich√©d explosion I thought it might be interesting to have it disintegrate under pressure.
								</p>
							<p><img src="https://kodiak64.co.uk/assets/Vanish_Sub_FIG.png" width="670" height="704" alt="Submarine implosion routine" aria-label="Submarine implosion routine" title="Submarine implosion routine"/></p></div>
				</section>	
				
				
				<!--	HELP / SUPPORT KODIAK64	-->
								
				
				
				
				
								
				
				
								
				<!-- DO NOT REMOVE	(crashes smooth scroll) -->
								
				
				
			</div></div>
  </body>
</html>
