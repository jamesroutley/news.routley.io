<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.wesleyac.com/posts/getelementbyid-vs-queryselector">Original</a>
    
    <div id="readability-page-1" class="page"><div>
            <p>A while ago, I was curious how the speed of <code>document.getElementById</code> compared to <code>document.querySelector</code> in Javascript for selecting a single element by ID. <code>querySelector</code> has to do a lot more work, so one would expect that it would be slower, but I didn&#39;t know if the difference was enough to care about.</p>

<p>I wrote a little benchmark to test this. You can run it by clicking . This creates 100,000 elements, and then selects them all in a loop. It does this 105 times, and ignores the first 5 results (to avoid caching effects). It then plots a historgram of the average time per function call (in milliseconds) for each run. There is a template string used in the loop that I&#39;m testing, so the exact numbers are slightly inflated, but in a way that is consistent across both functions.</p>

<p>On Firefox 92 on my Linux machine, <code>getElementById</code> gets a average of 7ms, while <code>querySelector</code> gets 62ms. Chromium 93 on the same machine does significantly worse, getting around 44ms and 206ms respectively. <code>querySelector</code> has significantly more variance in both cases, although it&#39;s worse in Chromium than it is in Firefox.</p>

<p>Apologies for the janky histograms â€” the reason I didn&#39;t publish this months ago is that Plotly&#39;s histograms are essentially completely broken, so I just went and wrote my own thing.</p>

<h2 id="gebi_title"><code>document.getElementById</code></h2>



<h2 id="qs_title"><code>document.querySelector</code></h2>




          </div></div>
  </body>
</html>
