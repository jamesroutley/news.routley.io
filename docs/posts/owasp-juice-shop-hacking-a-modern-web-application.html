<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.javascripttoday.com/blog/hacking-a-web-application/">Original</a>
    <h1>OWASP Juice Shop: Hacking a Modern Web Application</h1>
    
    <div id="readability-page-1" class="page"><div><p>In this article, we’re going to hack a realistic web application called <a href="https://github.com/juice-shop/juice-shop">Juice Shop</a>. It’s a very neat project, created by <a href="https://github.com/bkimminich">Björn Kimminich</a>, project leader at <a href="https://owasp.org/">OWASP</a> and IT security lecturer at <a href="https://www.nordakademie.de/">Nordakademie</a>, and also developed/maintained by many other developers.</p>
<blockquote>
<p>OWASP Juice Shop is probably the most modern and sophisticated insecure web application!</p>
</blockquote>
<p>This is by far one of our favorite projects available on GitHub. It features all of the <a href="https://owasp.org/www-project-top-ten/">OWASP Top Ten</a> vulnerabilities along with many other security flaws. It offers both web developers and penetration testers an excellent environment to test their security skills.</p>
<p>If you’ve never learned how to secure your web applications, it’s probably a very good idea to learn as soon as possible. <a href="https://tryhackme.com/">TryHackMe</a> is a great place to start, providing real-world scenarios and top-notch tutorials. <a href="https://amzn.to/3DkCM0T">The Web Application Hacker’s Handbook</a> is also a <em>must</em>, as it is probably the most extensive book available on web security. If you’re still thirsty for knowledge, another excellent book is <a href="https://amzn.to/40gtAF0">The Tangled Web: A Guide to Securing Modern Web Applications</a>,</p>
<p>This article is going to demonstrate just one of the vulnerabilities within Juice Shop, as we don’t want to ruin the fun – there’s nothing more satisfying than discovering them yourself!</p>
<p><strong>Disclaimer</strong>: Everything contained within this article is for informational and educational purposes only. The word “Hacking” is to be regarded as Ethical Hacking. Performing hack attempts (without permission) on computers that you do not own is illegal. This site holds no responsibility for what you do with the information contained here, or anywhere else on the site.</p>
<h3 id="installing-juice-shop">Installing Juice Shop</h3>
<p>Before we begin, make sure your system has <a href="https://nodejs.org/en/">Node.js</a> installed. To do so, open up a terminal and type <code>node --version</code>. If Node is installed, you should see the version number. Else, head on over to the website and install it on your system.</p>
<p>Okay, Node is installed. Visit the <a href="https://github.com/juice-shop/juice-shop">GitHub repository</a> and clone the project.</p>
<p><img loading="lazy" decoding="async" width="1289" height="624" src="https://blog.javascripttoday.com/images/juice-shop-gh_hubde737f6a9205f3a3f9186ceae766632_201398_1289x0_resize_q100_h2_box_3.webp" alt="OWASP Juice Shop Github" onerror="this.onerror=&#39;null&#39;,this.src=&#39;/images/juice-shop-gh_hubde737f6a9205f3a3f9186ceae766632_201398_1289x0_resize_box_3.png&#39;"/></p><p>To save you some time, you can just copy and paste the following into your terminal:</p>
<div><pre tabindex="0"><code data-lang="bash">git clone https://github.com/juice-shop/juice-shop.git
</code></pre></div><p>Once this process is finished, <code>cd</code> into the directory and enter <code>npm install</code>.</p>
<p>Great. The packages are installed successfully. Enter <code>npm start</code> and open <a href="http://localhost:3000">http://localhost:3000</a> in your browser.</p>
<p><img loading="lazy" decoding="async" width="1292" height="623" src="https://blog.javascripttoday.com/images/juice-shop-app_hu0b5b48d5b44d2dc77cb745b2dc2417c3_172311_1292x0_resize_q100_h2_box_3.webp" alt="OWASP Juice Shop Application" onerror="this.onerror=&#39;null&#39;,this.src=&#39;/images/juice-shop-app_hu0b5b48d5b44d2dc77cb745b2dc2417c3_172311_1292x0_resize_box_3.png&#39;"/></p><p>It’s time to start hacking!</p>
<p><strong>Note</strong>: If you don’t want to clone the repo, there’s a version <a href="https://juice-shop.herokuapp.com/#/">available online</a>.</p>
<h3 id="cross-site-scripting-xss">Cross-Site Scripting (XSS)</h3>
<p>We’re going to focus on perhaps the easiest type of attack, the XSS attack.</p>
<p>From <a href="https://owasp.org/www-community/attacks/xss/">OWASP</a>: <em>Cross-Site Scripting (XSS) attacks are a type of injection, in which malicious scripts are injected into otherwise benign and trusted websites. XSS attacks occur when an attacker uses a web application to send malicious code, generally in the form of a browser side script, to a different end user. Flaws that allow these attacks to succeed are quite widespread and occur anywhere a web application uses input from a user within the output it generates without validating or encoding it</em>.</p>
<p>As stated above, this is the only attack we’ll perform in this article (there are many more for you to discover). Specifically, we’ll be performing a <em>reflected XSS attack</em>. However, before we show this attack, research it, and see if you can find the vulnerability yourself. It’s really quite easy. You might find this <a href="https://gist.github.com/kurobeats/9a613c9ab68914312cbb415134795b45">XSS Cheat Sheet</a> useful.</p>
<p>Anyway, let’s get hacking!</p>
<p>The target for this attack is the search bar. Let’s test it. Enter <code>juice</code> into the search bar and click enter. If we look at the URL, we’ll see <code>localhost:3000/#/search?q=juice</code>. The interesting part here is the key-value pair <code>q=juice</code>. The result of our query is also displayed on the page.</p>
<p><img loading="lazy" decoding="async" width="1288" height="453" src="https://blog.javascripttoday.com/images/juice-search_hu8f03d5f9d5f94b67911b286edc9e106d_169654_1288x0_resize_q100_h2_box_3.webp" alt="Juice Shop Search Result" onerror="this.onerror=&#39;null&#39;,this.src=&#39;/images/juice-search_hu8f03d5f9d5f94b67911b286edc9e106d_169654_1288x0_resize_box_3.png&#39;"/></p><p>Interesting. It would be pretty cool if the inputs weren’t sanitized (the process of removing specific characters from user input), and we were able to inject some code onto the page, right?</p>
<p>Let’s try something.</p>
<p>In the search bar, let’s enter the following:</p>
<p><code>&lt;a href=&#34;https://google.com&#34;&gt;juice&lt;/a&gt;</code></p>
<p>Click enter.</p>
<p><img loading="lazy" decoding="async" width="1107" height="114" src="https://blog.javascripttoday.com/images/juice-link_hue04e2732d5029cbf4235637504b5f585_10241_1107x0_resize_q100_h2_box_3.webp" alt="XSS attack on Juice Shop" onerror="this.onerror=&#39;null&#39;,this.src=&#39;/images/juice-link_hue04e2732d5029cbf4235637504b5f585_10241_1107x0_resize_box_3.png&#39;"/></p><p>Notice that there’s now a link element on the page? If we click that link, we’ll be sent to google.com. You might be wondering why or how this is dangerous. The answer is in the URL.</p>
<p><code>localhost:3000/#/search?q=%3Ca%20href%3D%22https:%2F%2Fgoogle.com%22%3Ejuice%3C%2Fa%3E</code>.</p>
<p>If this was a real website, say, a banking website – the possibilities for damage are evident. A bad actor can put <em>any</em> code they want into the URL, and then send it out to someone.</p>
<p>To put it in a better perspective, we can imagine some bad actor has executed an XSS attack on a banking site. They’ve added code to send the credentials from a login page to themselves. However, it won’t work unless they can trick an unknowing victim into clicking the link. They might set up a fake email account, and just mass deliver an email explaining to users that their account has been compromised, <em>log in to fix it</em>!</p>
<p>An unknowing victim won’t notice the URL:</p>
<p><code>bankingsite.com/login?username=&lt;bad_code_here&gt;</code></p>
<p>But when they click it, bad things will happen. As web developers, we must <strong>always</strong> sanitize user input, both on the frontend and the backend.</p>
<h3 id="conclusion">Conclusion</h3>
<p>In this article, we explored an incredible project and looked at one of many ways to attack it. We’ve also explored XSS attacks and discussed how they work. A lesson we can learn from this is to <strong>always sanitize user input</strong>. To learn more about input sanitization, there’s a great article <a href="https://www.webopedia.com/definitions/input-sanitization/">here</a>.</p>
<p>There are many more vulnerabilities to discover throughout the application. Check out the resources listed and have a great time hacking this application!</p>
<h4 id="recommended-resources">Recommended Resources</h4>
<ul>
<li><a href="https://amzn.to/3DkCM0T">The Web Application Hacker’s Handbook</a></li>
<li><a href="https://amzn.to/40gtAF0">The Tangled Web: A Guide to Securing Modern Web Applications</a></li>
<li><a href="https://imp.i115008.net/c/3639260/1483636/11298">Intro to Cybersecurity <strong>25% off</strong></a></li>
</ul>

<p><strong>Full Disclosure</strong>: this post contains affiliate links. However, we only recommend books or products (courses) that we have personally read or used. We may receive a (<em>very</em>) small commission if you purchase any of the books or courses from this list (at no additional cost to you).</p>
</div></div>
  </body>
</html>
