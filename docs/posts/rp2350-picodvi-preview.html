<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/Wren6991/PicoDVI/commit/ca941baf37e3f04738b8e641896d85feb3430385">Original</a>
    <h1>RP2350 PicoDVI Preview</h1>
    
    <div id="readability-page-1" class="page"><div>
                      
      <tr data-position="0">
    <td colspan="2">
          <a href="#diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" id="expand-up-link-0-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" aria-label="Expand Up" data-url="/Wren6991/PicoDVI/blob_excerpt/7442dc74a2468bd951ca4657473822606b0515c5?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=&amp;last_right=&amp;left=7&amp;left_hunk_size=11&amp;mode=100644&amp;path=software%2Fapps%2Fvista%2Fmain.c&amp;right=7&amp;right_hunk_size=17" data-left-range="1-6" data-right-range="1-6">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M7.823 1.677 4.927 4.573A.25.25 0 0 0 5.104 5H7.25v3.236a.75.75 0 1 0 1.5 0V5h2.146a.25.25 0 0 0 .177-.427L8.177 1.677a.25.25 0 0 0-.354 0ZM13.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5Zm-3.75.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75ZM7.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5ZM4 11.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75ZM1.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5Z"></path>
</svg>
          </a>
          <tool-tip id="tooltip-47d29abc-4db3-4a85-a3f5-ed087c2b82f5" for="expand-up-link-0-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" popover="manual" data-direction="ne" data-type="label" data-view-component="true">Expand Up</tool-tip>
    </td>
    <td>@@ -7,11 +7,17 @@</td>
  </tr>

    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L7" data-line-number="7"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R7" data-line-number="7"></td>

  <td>
    <span data-code-marker=" "><span>#include</span> <span>&#34;hardware/pll.h&#34;</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L8" data-line-number="8"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R8" data-line-number="8"></td>

  <td>
    <span data-code-marker=" "><span>#include</span> <span>&#34;hardware/sync.h&#34;</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L9" data-line-number="9"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R9" data-line-number="9"></td>

  <td>
    <span data-code-marker=" "><span>#include</span> <span>&#34;hardware/structs/bus_ctrl.h&#34;</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L10" data-line-number="10"></td>

    <td></td>

  <td>
    <span data-code-marker="-"><span>#include</span> <span>&#34;hardware/structs/ssi.h&#34;</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L11" data-line-number="11"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R10" data-line-number="10"></td>

  <td>
    <span data-code-marker=" "><span>#include</span> <span>&#34;hardware/vreg.h&#34;</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L12" data-line-number="12"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R11" data-line-number="11"></td>

  <td>
    <span data-code-marker=" "><span>#include</span> <span>&#34;pico/multicore.h&#34;</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L13" data-line-number="13"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R12" data-line-number="12"></td>

  <td>
    <span data-code-marker=" "><span>#include</span> <span>&#34;pico/sem.h&#34;</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L14" data-line-number="14"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R13" data-line-number="13"></td>

  <td>
    <span data-code-marker=" "><span>#include</span> <span>&#34;pico/stdlib.h&#34;</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R14" data-line-number="14"></td>

  <td>
    <span data-code-marker="+"><span>#if</span> <span>PICO_RP2040</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R15" data-line-number="15"></td>

  <td>
    <span data-code-marker="+"><span>#include</span> <span>&#34;hardware/structs/ssi.h&#34;</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R16" data-line-number="16"></td>

  <td>
    <span data-code-marker="+"><span>#else</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R17" data-line-number="17"></td>

  <td>
    <span data-code-marker="+"><span>#include</span> <span>&#34;hardware/structs/xip_ctrl.h&#34;</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R18" data-line-number="18"></td>

  <td>
    <span data-code-marker="+"><span>#include</span> <span>&#34;hardware/structs/xip_aux.h&#34;</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R19" data-line-number="19"></td>

  <td>
    <span data-code-marker="+"><span>#include</span> <span>&#34;hardware/structs/qmi.h&#34;</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R20" data-line-number="20"></td>

  <td>
    <span data-code-marker="+"><span>#endif</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L15" data-line-number="15"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R21" data-line-number="21"></td>

  <td>
    <span data-code-marker=" "><br/></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L16" data-line-number="16"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R22" data-line-number="22"></td>

  <td>
    <span data-code-marker=" "><span>#include</span> <span>&#34;tmds_encode.h&#34;</span></span></td>
</tr>




    <tr data-hunk="00cae5e2b97ba6d9501df6cf7377462c12d17324280f25fdf7c5adf1f0e63d90">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L17" data-line-number="17"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R23" data-line-number="23"></td>

  <td>
    <span data-code-marker=" "><br/></span></td>
</tr>




      <tr data-position="19">
    <td colspan="2">
          <a href="#diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" id="expand-down-link-19-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" aria-label="Expand Down" data-url="/Wren6991/PicoDVI/blob_excerpt/7442dc74a2468bd951ca4657473822606b0515c5?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=17&amp;last_right=23&amp;left=45&amp;left_hunk_size=27&amp;mode=100644&amp;path=software%2Fapps%2Fvista%2Fmain.c&amp;right=51&amp;right_hunk_size=40" data-left-range="18-30" data-right-range="24-36">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="m8.177 14.323 2.896-2.896a.25.25 0 0 0-.177-.427H8.75V7.764a.75.75 0 1 0-1.5 0V11H5.104a.25.25 0 0 0-.177.427l2.896 2.896a.25.25 0 0 0 .354 0ZM2.25 5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 4.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5a.75.75 0 0 1 .75.75ZM8.25 5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 4.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5a.75.75 0 0 1 .75.75Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z"></path>
</svg>
          </a>
          <tool-tip id="tooltip-676f04a1-6e51-4fab-aeb7-ecf905921f48" for="expand-down-link-19-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" popover="manual" data-direction="ne" data-type="label" data-view-component="true">Expand Down</tool-tip>
          <a href="#diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" id="expand-up-link-19-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" aria-label="Expand Up" data-url="/Wren6991/PicoDVI/blob_excerpt/7442dc74a2468bd951ca4657473822606b0515c5?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=17&amp;last_right=23&amp;left=45&amp;left_hunk_size=27&amp;mode=100644&amp;path=software%2Fapps%2Fvista%2Fmain.c&amp;right=51&amp;right_hunk_size=40" data-left-range="31-44" data-right-range="37-50">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M7.823 1.677 4.927 4.573A.25.25 0 0 0 5.104 5H7.25v3.236a.75.75 0 1 0 1.5 0V5h2.146a.25.25 0 0 0 .177-.427L8.177 1.677a.25.25 0 0 0-.354 0ZM13.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5Zm-3.75.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75ZM7.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5ZM4 11.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75ZM1.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5Z"></path>
</svg>
          </a>
          <tool-tip id="tooltip-49d3b639-4c05-4773-af91-fa5c302f7d7e" for="expand-up-link-19-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" popover="manual" data-direction="ne" data-type="label" data-view-component="true">Expand Up</tool-tip>
    </td>
    <td>@@ -45,27 +51,40 @@ static inline void prepare_scanline(const uint32_t *colourbuf, uint32_t *tmdsbuf</td>
  </tr>

    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L45" data-line-number="45"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R51" data-line-number="51"></td>

  <td>
    <span data-code-marker=" ">	<span>tmds_encode_data_channel_fullres_16bpp</span>(<span>colourbuf</span>, <span>tmdsbuf</span> <span>+</span> <span>2</span> <span>*</span> <span>pixwidth</span>, <span>pixwidth</span>, <span>15</span>, <span>11</span>);</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L46" data-line-number="46"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R52" data-line-number="52"></td>

  <td>
    <span data-code-marker=" ">}</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L47" data-line-number="47"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R53" data-line-number="53"></td>

  <td>
    <span data-code-marker=" "><br/></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L48" data-line-number="48"></td>

    <td></td>

  <td>
    <span data-code-marker="-"><span>void</span> <span>__no_inline_not_in_flash_func</span>(<span>flash_bulk_dma_start</span>)(<span>uint32_t</span> <span>*</span><span>rxbuf</span>, <span>uint32_t</span> <span>flash_offs</span>, <span>size_t</span> <span>len</span>, <span>uint</span> <span>dma_chan</span>)</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L49" data-line-number="49"></td>

    <td></td>

  <td>
    <span data-code-marker="-">{</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R54" data-line-number="54"></td>

  <td>
    <span data-code-marker="+"><span>void</span> <span>__no_inline_not_in_flash_func</span>(<span>flash_bulk_dma_start</span>)(<span>uint32_t</span> <span>*</span><span>rxbuf</span>, <span>uint32_t</span> <span>flash_offs</span>, <span>size_t</span> <span>len</span>, <span>uint</span> <span>dma_chan</span>) {</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R55" data-line-number="55"></td>

  <td>
    <span data-code-marker="+"><span>#if</span> <span>PICO_RP2040</span></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R56" data-line-number="56"></td>

  <td>
    <span data-code-marker="+">	<span>// On RP2040, program the SSI to clock the correct amount of data without stopping</span></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L50" data-line-number="50"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R57" data-line-number="57"></td>

  <td>
    <span data-code-marker=" ">	<span>ssi_hw</span><span>-&gt;</span><span>ssienr</span> <span>=</span> <span>0</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L51" data-line-number="51"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R58" data-line-number="58"></td>

  <td>
    <span data-code-marker=" ">	<span>ssi_hw</span><span>-&gt;</span><span>ctrlr1</span> <span>=</span> <span>len</span> <span>-</span> <span>1</span>; <span>// NDF, number of data frames</span></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L52" data-line-number="52"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R59" data-line-number="59"></td>

  <td>
    <span data-code-marker=" ">	<span>ssi_hw</span><span>-&gt;</span><span>dmacr</span> <span>=</span> <span>SSI_DMACR_TDMAE_BITS</span> | <span>SSI_DMACR_RDMAE_BITS</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L53" data-line-number="53"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R60" data-line-number="60"></td>

  <td>
    <span data-code-marker=" ">	<span>ssi_hw</span><span>-&gt;</span><span>ssienr</span> <span>=</span> <span>1</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L54" data-line-number="54"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R61" data-line-number="61"></td>

  <td>
    <span data-code-marker=" ">	<span>// Other than NDF, the SSI configuration used for XIP is suitable for a bulk read too.</span></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L55" data-line-number="55"></td>

    <td></td>

  <td>
    <span data-code-marker="-"><br/></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L56" data-line-number="56"></td>

    <td></td>

  <td>
    <span data-code-marker="-">	<span>dma_hw</span><span>-&gt;</span><span>ch</span>[<span>dma_chan</span>].<span>read_addr</span> <span>=</span> (<span>uint32_t</span>)<span>&amp;</span><span>ssi_hw</span><span>-&gt;</span><span>dr0</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R62" data-line-number="62"></td>

  <td>
    <span data-code-marker="+">	<span>const</span> <span>uintptr_t</span> <span>read_addr</span> <span>=</span> (<span>uintptr_t</span>)<span>&amp;</span><span>ssi_hw</span><span>-&gt;</span><span>dr0</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R63" data-line-number="63"></td>

  <td>
    <span data-code-marker="+">	<span>const</span> <span>uint</span> <span>dreq</span> <span>=</span> <span>DREQ_XIP_SSIRX</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R64" data-line-number="64"></td>

  <td>
    <span data-code-marker="+">	<span>const</span> <span>bool</span> <span>bswap</span> <span>=</span> true;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R65" data-line-number="65"></td>

  <td>
    <span data-code-marker="+"><span>#else</span></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R66" data-line-number="66"></td>

  <td>
    <span data-code-marker="+">	<span>// On RP2350, SSI is gone, but XIP streaming is fast enough to keep up with this demo</span></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R67" data-line-number="67"></td>

  <td>
    <span data-code-marker="+">	<span>// (you can still DMA to the DIRECT_MODE FIFOs if you really need 100%)</span></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R68" data-line-number="68"></td>

  <td>
    <span data-code-marker="+">	<span>xip_ctrl_hw</span><span>-&gt;</span><span>stream_addr</span> <span>=</span> <span>flash_offs</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R69" data-line-number="69"></td>

  <td>
    <span data-code-marker="+">	<span>xip_ctrl_hw</span><span>-&gt;</span><span>stream_ctr</span> <span>=</span> <span>len</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R70" data-line-number="70"></td>

  <td>
    <span data-code-marker="+">	<span>const</span> <span>uintptr_t</span> <span>read_addr</span> <span>=</span> (<span>uintptr_t</span>)<span>&amp;</span><span>xip_aux_hw</span><span>-&gt;</span><span>stream</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R71" data-line-number="71"></td>

  <td>
    <span data-code-marker="+">	<span>const</span> <span>uint</span> <span>dreq</span> <span>=</span> <span>DREQ_XIP_STREAM</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R72" data-line-number="72"></td>

  <td>
    <span data-code-marker="+">	<span>const</span> <span>bool</span> <span>bswap</span> <span>=</span> false;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R73" data-line-number="73"></td>

  <td>
    <span data-code-marker="+"><span>#endif</span></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R74" data-line-number="74"></td>

  <td>
    <span data-code-marker="+">	<span>dma_hw</span><span>-&gt;</span><span>ch</span>[<span>dma_chan</span>].<span>read_addr</span> <span>=</span> <span>read_addr</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L57" data-line-number="57"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R75" data-line-number="75"></td>

  <td>
    <span data-code-marker=" ">	<span>dma_hw</span><span>-&gt;</span><span>ch</span>[<span>dma_chan</span>].<span>write_addr</span> <span>=</span> (<span>uint32_t</span>)<span>rxbuf</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L58" data-line-number="58"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R76" data-line-number="76"></td>

  <td>
    <span data-code-marker=" ">	<span>dma_hw</span><span>-&gt;</span><span>ch</span>[<span>dma_chan</span>].<span>transfer_count</span> <span>=</span> <span>len</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L59" data-line-number="59"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R77" data-line-number="77"></td>

  <td>
    <span data-code-marker=" ">	<span>dma_hw</span><span>-&gt;</span><span>ch</span>[<span>dma_chan</span>].<span>ctrl_trig</span> <span>=</span></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L60" data-line-number="60"></td>

    <td></td>

  <td>
    <span data-code-marker="-">		<span>DMA_CH0_CTRL_TRIG_BSWAP_BITS</span> |</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L61" data-line-number="61"></td>

    <td></td>

  <td>
    <span data-code-marker="-">		<span>DREQ_XIP_SSIRX</span> &lt;&lt; <span>DMA_CH0_CTRL_TRIG_TREQ_SEL_LSB</span> |</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R78" data-line-number="78"></td>

  <td>
    <span data-code-marker="+">		<span>(</span><span>uint</span><span>)</span><span>bswap</span><span> &lt;&lt; </span><span>DMA_CH0_CTRL_TRIG_BSWAP_LSB</span> |</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R79" data-line-number="79"></td>

  <td>
    <span data-code-marker="+">		<span>dreq</span> &lt;&lt; <span>DMA_CH0_CTRL_TRIG_TREQ_SEL_LSB</span> |</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L62" data-line-number="62"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R80" data-line-number="80"></td>

  <td>
    <span data-code-marker=" ">		<span>dma_chan</span> &lt;&lt; <span>DMA_CH0_CTRL_TRIG_CHAIN_TO_LSB</span> |</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L63" data-line-number="63"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R81" data-line-number="81"></td>

  <td>
    <span data-code-marker=" ">		<span>DMA_CH0_CTRL_TRIG_INCR_WRITE_BITS</span> |</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L64" data-line-number="64"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R82" data-line-number="82"></td>

  <td>
    <span data-code-marker=" ">		<span>DMA_CH0_CTRL_TRIG_DATA_SIZE_VALUE_SIZE_WORD</span> &lt;&lt; <span>DMA_CH0_CTRL_TRIG_DATA_SIZE_LSB</span> |</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L65" data-line-number="65"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R83" data-line-number="83"></td>

  <td>
    <span data-code-marker=" ">		<span>DMA_CH0_CTRL_TRIG_EN_BITS</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L66" data-line-number="66"></td>

    <td></td>

  <td>
    <span data-code-marker="-"><br/></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R84" data-line-number="84"></td>

  <td>
    <span data-code-marker="+"><span>#if</span><span> </span><span>PICO_RP2040</span></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L67" data-line-number="67"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R85" data-line-number="85"></td>

  <td>
    <span data-code-marker=" ">	<span>// Now DMA is waiting, kick off the SSI transfer (mode continuation bits in LSBs)</span></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L68" data-line-number="68"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R86" data-line-number="86"></td>

  <td>
    <span data-code-marker=" ">	<span>ssi_hw</span><span>-&gt;</span><span>dr0</span> <span>=</span> (<span>flash_offs</span> &lt;&lt; <span>8</span>) | <span>0xa0</span>;</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R87" data-line-number="87"></td>

  <td>
    <span data-code-marker="+"><span>#endif</span></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L69" data-line-number="69"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R88" data-line-number="88"></td>

  <td>
    <span data-code-marker=" ">}</span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L70" data-line-number="70"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R89" data-line-number="89"></td>

  <td>
    <span data-code-marker=" "><br/></span></td>
</tr>




    <tr data-hunk="6cbc275c060dc4315da1ecf9dde9b6715a50da67de56f230ec694e625f1289e7">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L71" data-line-number="71"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R90" data-line-number="90"></td>

  <td>
    <span data-code-marker=" "><span>// Core 1 handles DMA IRQs and runs TMDS encode on scanline buffers it</span></span></td>
</tr>




      <tr data-position="67">
    <td colspan="2">
        <a href="#diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" id="expand-link-67-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" aria-label="Expand All" data-url="/Wren6991/PicoDVI/blob_excerpt/7442dc74a2468bd951ca4657473822606b0515c5?diff=unified&amp;in_wiki_context=&amp;last_left=71&amp;last_right=90&amp;left=91&amp;left_hunk_size=6&amp;mode=100644&amp;path=software%2Fapps%2Fvista%2Fmain.c&amp;right=110&amp;right_hunk_size=15" data-left-range="72-80" data-right-range="91-99">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z"></path>
</svg>
        </a>
        <tool-tip id="tooltip-cab3372a-9119-4afa-8d63-753d9246aa24" for="expand-link-67-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" popover="manual" data-direction="ne" data-type="label" data-view-component="true">Expand All</tool-tip>
    </td>
    <td>@@ -91,6 +110,15 @@ int __not_in_flash(&#34;main&#34;) main() {</td>
  </tr>

    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L91" data-line-number="91"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R110" data-line-number="110"></td>

  <td>
    <span data-code-marker=" ">	<span>sleep_ms</span>(<span>10</span>);</span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L92" data-line-number="92"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R111" data-line-number="111"></td>

  <td>
    <span data-code-marker=" ">	<span>set_sys_clock_khz</span>(<span>DVI_TIMING</span>.<span>bit_clk_khz</span>, true);</span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L93" data-line-number="93"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R112" data-line-number="112"></td>

  <td>
    <span data-code-marker=" "><br/></span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R113" data-line-number="113"></td>

  <td>
    <span data-code-marker="+">	<span>// A0 SDK won&#39;t pick up on the PICO_EMBED_XIP_SETUP flag, so just to make sure:</span></span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R114" data-line-number="114"></td>

  <td>
    <span data-code-marker="+"><span>#if</span> <span>PICO_RP2350</span></span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R115" data-line-number="115"></td>

  <td>
    <span data-code-marker="+">	<span>hw_write_masked</span>(</span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R116" data-line-number="116"></td>

  <td>
    <span data-code-marker="+">		<span>&amp;</span><span>qmi_hw</span><span>-&gt;</span><span>m</span>[<span>0</span>].<span>timing</span>,</span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R117" data-line-number="117"></td>

  <td>
    <span data-code-marker="+">		<span>3</span> &lt;&lt; <span>QMI_M0_TIMING_RXDELAY_LSB</span> | <span>2</span> &lt;&lt; <span>QMI_M0_TIMING_CLKDIV_LSB</span>,</span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R118" data-line-number="118"></td>

  <td>
    <span data-code-marker="+">		<span>QMI_M0_TIMING_RXDELAY_BITS</span> | <span>QMI_M0_TIMING_CLKDIV_BITS</span></span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R119" data-line-number="119"></td>

  <td>
    <span data-code-marker="+">	);</span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R120" data-line-number="120"></td>

  <td>
    <span data-code-marker="+"><span>#endif</span></span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R121" data-line-number="121"></td>

  <td>
    <span data-code-marker="+"><br/></span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L94" data-line-number="94"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R122" data-line-number="122"></td>

  <td>
    <span data-code-marker=" ">	<span>setup_default_uart</span>();</span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L95" data-line-number="95"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R123" data-line-number="123"></td>

  <td>
    <span data-code-marker=" "><br/></span></td>
</tr>




    <tr data-hunk="1af40bcf12ab2e0340ca83ad9fd659f59ea95ec69f6dbe57fa15964e6061e27b">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L96" data-line-number="96"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R124" data-line-number="124"></td>

  <td>
    <span data-code-marker=" ">	<span>gpio_init</span>(<span>LED_PIN</span>);</span></td>
</tr>




      <tr data-position="83">
    <td colspan="2">
          <a href="#diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" id="expand-down-link-83-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" aria-label="Expand Down" data-url="/Wren6991/PicoDVI/blob_excerpt/7442dc74a2468bd951ca4657473822606b0515c5?diff=unified&amp;direction=down&amp;in_wiki_context=&amp;last_left=96&amp;last_right=124&amp;left=131&amp;left_hunk_size=21&amp;mode=100644&amp;path=software%2Fapps%2Fvista%2Fmain.c&amp;right=159&amp;right_hunk_size=25" data-left-range="97-112" data-right-range="125-140">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="m8.177 14.323 2.896-2.896a.25.25 0 0 0-.177-.427H8.75V7.764a.75.75 0 1 0-1.5 0V11H5.104a.25.25 0 0 0-.177.427l2.896 2.896a.25.25 0 0 0 .354 0ZM2.25 5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 4.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5a.75.75 0 0 1 .75.75ZM8.25 5a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 4.25a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5a.75.75 0 0 1 .75.75Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z"></path>
</svg>
          </a>
          <tool-tip id="tooltip-0b7fb711-a8b4-400d-8322-da847e437f25" for="expand-down-link-83-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" popover="manual" data-direction="ne" data-type="label" data-view-component="true">Expand Down</tool-tip>
          <a href="#diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" id="expand-up-link-83-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" aria-label="Expand Up" data-url="/Wren6991/PicoDVI/blob_excerpt/7442dc74a2468bd951ca4657473822606b0515c5?diff=unified&amp;direction=up&amp;in_wiki_context=&amp;last_left=96&amp;last_right=124&amp;left=131&amp;left_hunk_size=21&amp;mode=100644&amp;path=software%2Fapps%2Fvista%2Fmain.c&amp;right=159&amp;right_hunk_size=25" data-left-range="113-130" data-right-range="141-158">
            <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M7.823 1.677 4.927 4.573A.25.25 0 0 0 5.104 5H7.25v3.236a.75.75 0 1 0 1.5 0V5h2.146a.25.25 0 0 0 .177-.427L8.177 1.677a.25.25 0 0 0-.354 0ZM13.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5Zm-3.75.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75ZM7.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5ZM4 11.75a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1-.75-.75ZM1.75 11a.75.75 0 0 0 0 1.5h.5a.75.75 0 0 0 0-1.5h-.5Z"></path>
</svg>
          </a>
          <tool-tip id="tooltip-84315ea4-275d-4e4f-9ba8-7a8c03693076" for="expand-up-link-83-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" popover="manual" data-direction="ne" data-type="label" data-view-component="true">Expand Up</tool-tip>
    </td>
    <td>@@ -131,21 +159,25 @@ int __not_in_flash(&#34;main&#34;) main() {</td>
  </tr>

    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L131" data-line-number="131"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R159" data-line-number="159"></td>

  <td>
    <span data-code-marker=" ">		}</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L132" data-line-number="132"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R160" data-line-number="160"></td>

  <td>
    <span data-code-marker=" ">		<span>for</span> (<span>int</span> <span>y</span> <span>=</span> <span>0</span>; <span>y</span> <span>&lt;</span> <span>2</span> <span>*</span> <span>FRAME_HEIGHT</span>; <span>y</span> <span>+=</span> <span>2</span>) {</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L133" data-line-number="133"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R161" data-line-number="161"></td>

  <td>
    <span data-code-marker=" ">			<span>// Start DMA to back buffer before starting to encode the front buffer (each buffer is two scanlines)</span></span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R162" data-line-number="162"></td>

  <td>
    <span data-code-marker="+"><span>#if</span> !<span>PICO_RP2040</span></span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R163" data-line-number="163"></td>

  <td>
    <span data-code-marker="+">			<span>// On RP2040 we could never reach this point early, because of the slow encode!</span></span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R164" data-line-number="164"></td>

  <td>
    <span data-code-marker="+">			<span>dma_channel_wait_for_finish_blocking</span>(<span>img_dma_chan</span>);</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R165" data-line-number="165"></td>

  <td>
    <span data-code-marker="+"><span>#endif</span></span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L134" data-line-number="134"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R166" data-line-number="166"></td>

  <td>
    <span data-code-marker=" ">			<span>flash_bulk_dma_start</span>(</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L135" data-line-number="135"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R167" data-line-number="167"></td>

  <td>
    <span data-code-marker=" ">				(<span>uint32_t</span><span>*</span>)<span>img_buf</span>[<span>img_buf_back</span>],</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L136" data-line-number="136"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R168" data-line-number="168"></td>

  <td>
    <span data-code-marker=" ">				<span>current_image_base</span> <span>+</span> ((<span>y</span> <span>+</span> <span>2</span>) % (<span>2</span> <span>*</span> <span>FRAME_HEIGHT</span>)) <span>*</span> <span>IMAGE_SCANLINE_SIZE</span>,</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L137" data-line-number="137"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R169" data-line-number="169"></td>

  <td>
    <span data-code-marker=" ">				<span>IMAGE_SCANLINE_SIZE</span> <span>*</span> <span>2</span> / <span>sizeof</span>(<span>uint32_t</span>),</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L138" data-line-number="138"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R170" data-line-number="170"></td>

  <td>
    <span data-code-marker=" ">				<span>img_dma_chan</span></span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L139" data-line-number="139"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R171" data-line-number="171"></td>

  <td>
    <span data-code-marker=" ">			);</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L140" data-line-number="140"></td>

    <td></td>

  <td>
    <span data-code-marker="-">			<span>const</span> <span>uint16_t</span> <span>*</span><span>img</span> <span>=</span> (<span>const</span> <span>uint16_t</span><span>*</span>)<span>img_buf</span>[<span>img_buf_front</span>];<span>			</span></span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R172" data-line-number="172"></td>

  <td>
    <span data-code-marker="+">			<span>const</span> <span>uint16_t</span> <span>*</span><span>img</span> <span>=</span> (<span>const</span> <span>uint16_t</span><span>*</span>)<span>img_buf</span>[<span>img_buf_front</span>];</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L141" data-line-number="141"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R173" data-line-number="173"></td>

  <td>
    <span data-code-marker=" ">			<span>uint32_t</span> <span>*</span><span>our_tmds_buf</span>, <span>*</span><span>their_tmds_buf</span>;</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L142" data-line-number="142"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R174" data-line-number="174"></td>

  <td>
    <span data-code-marker=" ">			<span>queue_remove_blocking_u32</span>(<span>&amp;</span><span>dvi0</span>.<span>q_tmds_free</span>, <span>&amp;</span><span>their_tmds_buf</span>);</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L143" data-line-number="143"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R175" data-line-number="175"></td>

  <td>
    <span data-code-marker=" ">			<span>multicore_fifo_push_blocking</span>((<span>uint32_t</span>)(<span>img</span>));</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L144" data-line-number="144"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R176" data-line-number="176"></td>

  <td>
    <span data-code-marker=" ">			<span>multicore_fifo_push_blocking</span>((<span>uint32_t</span>)<span>their_tmds_buf</span>);</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L145" data-line-number="145"></td>

    <td></td>

  <td>
    <span data-code-marker="-"><span>	</span></span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R177" data-line-number="177"></td>

  <td>
    <span data-code-marker="+"><br/></span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L146" data-line-number="146"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R178" data-line-number="178"></td>

  <td>
    <span data-code-marker=" ">			<span>queue_remove_blocking_u32</span>(<span>&amp;</span><span>dvi0</span>.<span>q_tmds_free</span>, <span>&amp;</span><span>our_tmds_buf</span>);</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L147" data-line-number="147"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R179" data-line-number="179"></td>

  <td>
    <span data-code-marker=" ">			<span>prepare_scanline</span>((<span>const</span> <span>uint32_t</span><span>*</span>)(<span>img</span> <span>+</span> <span>FRAME_WIDTH</span> <span>*</span> <span>2</span>), <span>our_tmds_buf</span>);</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L148" data-line-number="148"></td>

    <td></td>

  <td>
    <span data-code-marker="-"><span>			</span></span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R180" data-line-number="180"></td>

  <td>
    <span data-code-marker="+"><br/></span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L149" data-line-number="149"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R181" data-line-number="181"></td>

  <td>
    <span data-code-marker=" ">			<span>multicore_fifo_pop_blocking</span>();</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L150" data-line-number="150"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R182" data-line-number="182"></td>

  <td>
    <span data-code-marker=" ">			<span>queue_add_blocking_u32</span>(<span>&amp;</span><span>dvi0</span>.<span>q_tmds_valid</span>, <span>&amp;</span><span>their_tmds_buf</span>);</span></td>
</tr>




    <tr data-hunk="de0dd9b8512409c864e7b4519a128eda28be2ea170a06e7f0e04b08c045b7ac9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L151" data-line-number="151"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R183" data-line-number="183"></td>

  <td>
    <span data-code-marker=" ">			<span>queue_add_blocking_u32</span>(<span>&amp;</span><span>dvi0</span>.<span>q_tmds_valid</span>, <span>&amp;</span><span>our_tmds_buf</span>);</span></td>
</tr>




      <tr data-position="112">
    <td colspan="2">
        <a href="#diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" id="expand-link-112-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" aria-label="Expand All" data-url="/Wren6991/PicoDVI/blob_excerpt/7442dc74a2468bd951ca4657473822606b0515c5?diff=unified&amp;in_wiki_context=&amp;last_left=151&amp;last_right=183&amp;left=156&amp;left_hunk_size=4&amp;mode=100644&amp;path=software%2Fapps%2Fvista%2Fmain.c&amp;right=188&amp;right_hunk_size=3" data-left-range="152-152" data-right-range="184-184">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="m8.177.677 2.896 2.896a.25.25 0 0 1-.177.427H8.75v1.25a.75.75 0 0 1-1.5 0V4H5.104a.25.25 0 0 1-.177-.427L7.823.677a.25.25 0 0 1 .354 0ZM7.25 10.75a.75.75 0 0 1 1.5 0V12h2.146a.25.25 0 0 1 .177.427l-2.896 2.896a.25.25 0 0 1-.354 0l-2.896-2.896A.25.25 0 0 1 5.104 12H7.25v-1.25Zm-5-2a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM6 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 6 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5ZM12 8a.75.75 0 0 1-.75.75h-.5a.75.75 0 0 1 0-1.5h.5A.75.75 0 0 1 12 8Zm2.25.75a.75.75 0 0 0 0-1.5h-.5a.75.75 0 0 0 0 1.5h.5Z"></path>
</svg>
        </a>
        <tool-tip id="tooltip-55532065-0331-49d8-8da4-e70dbca89de1" for="expand-link-112-diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277" popover="manual" data-direction="ne" data-type="label" data-view-component="true">Expand All</tool-tip>
    </td>
    <td>@@ -156,4 +188,3 @@ int __not_in_flash(&#34;main&#34;) main() {</td>
  </tr>

    <tr data-hunk="99ed380a280fb2c8f1c57445c1ae4dbeb9c33b4e39fa102510e2458cf6ae63a9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L156" data-line-number="156"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R188" data-line-number="188"></td>

  <td>
    <span data-code-marker=" ">	}</span></td>
</tr>




    <tr data-hunk="99ed380a280fb2c8f1c57445c1ae4dbeb9c33b4e39fa102510e2458cf6ae63a9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L157" data-line-number="157"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R189" data-line-number="189"></td>

  <td>
    <span data-code-marker=" ">	<span>__builtin_unreachable</span>();</span></td>
</tr>




    <tr data-hunk="99ed380a280fb2c8f1c57445c1ae4dbeb9c33b4e39fa102510e2458cf6ae63a9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L158" data-line-number="158"></td>

    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277R190" data-line-number="190"></td>

  <td>
    <span data-code-marker=" ">}</span></td>
</tr>




    <tr data-hunk="99ed380a280fb2c8f1c57445c1ae4dbeb9c33b4e39fa102510e2458cf6ae63a9">
    <td id="diff-65f8b348a1c59c83c650cf607ac2998e5a23186964c1564489716fc01a6ee277L159" data-line-number="159"></td>

    <td></td>

  <td>
    <span data-code-marker="-"><br/></span></td>
</tr>






                </div></div>
  </body>
</html>
