<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://jdh.hamkins.org/transfinite-nim/">Original</a>
    <h1>Transfinite NIM (the game, not the programming language)</h1>
    
    <div id="readability-page-1" class="page"><div>
		<p><img decoding="async" src="http://jdh.hamkins.org/wp-content/uploads/2015/05/Wooden-blocks-e1432818896971-300x169.jpg" alt="Wooden blocks" width="300" height="169" srcset="https://jdh.hamkins.org/wp-content/uploads/2015/05/Wooden-blocks-e1432818896971-300x169.jpg 300w, https://jdh.hamkins.org/wp-content/uploads/2015/05/Wooden-blocks-e1432818896971-1024x576.jpg 1024w, https://jdh.hamkins.org/wp-content/uploads/2015/05/Wooden-blocks-e1432818896971-500x281.jpg 500w" sizes="(max-width: 300px) 100vw, 300px"/>Shall we have a game of transfinite Nim? One of us sets up finitely many piles of wooden blocks, each pile having some ordinal height, possibly transfinite, and the other of us decides who shall make the first move. Taking turns, we each successively remove a top part of any one pile of our choosing, making it strictly shorter. Whoever takes the very last block wins. (It is fine to remove an entire pile on a turn or to remove blocks from a different pile on a later turn.)</p>
<p>In my <a href="http://jdh.hamkins.org/win-at-nim-the-secret-mathematical-strategy/">challenge problem</a> last week, for example, I set up six piles with heights:</p>
<p>Before proceeding with the transfinite case, however, let’s review the winning strategy in ordinary finite Nim, which I explained in <a href="http://jdh.hamkins.org/win-at-nim-the-secret-mathematical-strategy/">my post last week</a> concerning my visit to the 7th/8th grade Math Team at my son’s school. To say it quickly again, a finite Nim position is <em>balanced</em>, if when you consider the binary representations of the pile heights, there are an even number of ones in each binary place position. Another way to say this, and this is how I explained it to the school kids, is that if you think of each pile height as a sum of distinct powers of two, then any power of two that arises in any pile does so an even number of times overall for all the piles. The mathematical facts to establish are that (1) any move on a balanced position will unbalance it; and (2) any unbalanced position admits a balancing move. Since the winning move of taking the very last block is a balancing move, it follows that the winning strategy is to balance whatever position with which you are faced. At the start, if the position is unbalanced, then you should go first and balance it; if it is already balanced, then you should go second and adopt the balancing strategy. It may be interesting to note that this winning strategy is unique in the sense that any move that does not balance the position is a losing move, since the opposing player can adopt the balancing strategy from that point on. But of course there is often a choice of balancing moves.</p>
<p>Does this balancing strategy idea continue to apply to transfinite Nim? Yes! All we need to do is to develop a little of the theory of transfinite binary representation. Let me assume that you are all familiar with the usual <a href="http://en.wikipedia.org/wiki/Ordinal_arithmetic">ordinal arithmetic</a>, for which $\alpha+\beta$ is the ordinal whose order type is isomorphic to a copy of $\alpha$ followed by a copy of $\beta$, and $\alpha\cdot\beta$ is the ordinal whose order type is isomorphic to $\beta$ many copies of $\alpha$. Consider now <a href="http://en.wikipedia.org/wiki/Ordinal_arithmetic#Exponentiation">ordinal exponentiation</a>, which can be defined recursively as follows:</p>
<p><strong>Theorem.</strong> Every ordinal $\beta$ has a unique representation as a decreasing finite sum of ordinal powers of two. $$\beta=2^{\beta_n}+\cdots+2^{\beta_0}, \qquad \beta_n&gt;\cdots&gt;\beta_0$$</p>
<p>The proof is easy! We simply prove it by transfinite induction on $\beta$. If the theorem holds below an ordinal $\beta$, first let $2^\alpha$ be the largest power of two that is at most $\beta$, so that $\beta=2^\alpha+\gamma$ for some ordinal $\gamma$. It follows that $\gamma&lt;2^\alpha$, for otherwise we could have made $2^{\alpha+1}\leq\beta$. Thus, by induction, $\gamma$ has a representation with powers of two, and so we may simply add $2^\alpha$ at the front to represent $\beta$. To see that the representations are unique, first establish that any power of two is equal to or more than the supremum of the finite decreasing sums of any strictly smaller powers of two. From this, it follows that any representation of $\beta$ as above must have used $2^\alpha$ just as we did for the first term, because otherwise it couldn’t be large enough, and then the representation of the remaining part $\gamma$ is unique by induction, and so we get uniqueness for the representation of $\beta$. <strong>QED</strong></p>
<p>Thus, the theorem shows that every ordinal has a unique binary representation in the ordinals, with finitely many nonzero bits. Suppose that we are given a position in transfinite Nim with piles of ordinal heights $\eta_0,\ldots,\eta_n$. We define that such a position is <em>balanced</em>, if every power of two appearing in the representation of any of the piles appears an even number of times overall for all the piles.</p>
<p>The mathematical facts to establish are (1) any move on a balanced position will unbalance it; and (2) every unbalanced position has a balancing move. These facts can be proved in the transfinite case in essentially the same manner as the finite case. Namely, if a position is balanced, then any move affects only one pile, changing the ordinal powers of two that appear in it, and thereby destroy the balanced parity of whichever powers of two are affected. And if a position is unbalanced, then look at the largest unbalanced ordinal power of two appearing, and make a move on any pile having such a power of two in its representation, reducing it so as exactly to balance all the smaller powers of two appearing in the position.</p>
<p>Finally, those two facts again imply that the balancing strategy is a winning strategy, since the winning move of taking the last block or blocks is a balancing move, down to the all-zero position, which is balanced.</p>
<p>In the case of my challenge problem above, we may represent the ordinals in binary. We know how to do that in the case of 1, 3, 5 and 7, and actually those numbers are balanced. Here are some other useful binary representations:</p>
<p>$\omega+3=2^\omega+2+1$</p>
<p>$\omega^\omega+5 = (2^\omega)^\omega+5=2^{\omega^2}+4+1$</p>
<p>$\omega^{\omega+3}=(2^\omega)^{\omega+3}=2^{\omega^2+\omega\cdot 3}$</p>
<p>$\omega^\omega\cdot3=(2^\omega)^\omega\cdot 3=2^{\omega^2}\cdot 2+2^{\omega^2}=2^{\omega^2+1}+2^{\omega^2}$</p>
<p>$\omega\cdot 5+7 =2^{\omega}\cdot 2^2+2^\omega+7=2^{\omega+2}+2^\omega+4+2+1$</p>
<p>$\epsilon_0 = 2^{\epsilon_0}$</p>
<p>$\omega_1=2^{\omega_1}$</p>
<p>I emphasize again that this is ordinal exponentiation. The Nim position of the challenge problem above is easily seen to be unbalanced in several ways. For example, the $\omega_1$ term among others appears only once. Thus, we definitely want to go first in this position. And since $\omega_1$ is the largest unbalanced power of two and it appears only once, we know that we must play on the $\omega_1$ pile. Once one represents all the ordinals in terms of their powers of two representation, one sees that the unique winning move is to reduce the $\omega_1$ pile to have ordinal height</p>
<p>Special honors to <a href="http://cs.famaf.unc.edu.ar/~pedro" rel="external nofollow">Pedro Sánchez Terraf</a> for being the only one to post the winning move in the comments on the other post!</p>
			</div></div>
  </body>
</html>
