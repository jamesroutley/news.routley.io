<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://timotijhof.net/posts/2023/an-internet-of-php/">Original</a>
    <h1>An Internet of PHP</h1>
    
    <div id="readability-page-1" class="page"><div>

<p>PHP is <strong>big</strong>. The trolls can proclaim its all-but-certain “death” until the cows come home, but no amount of heckling changes that the Internet runs on PHP. The evidence is overwhelming. What follows is a loosely organised collection of precisely that evidence.</p>



<ol>
<li><a href="#statistics">Statistics</a></li>



<li><a href="#anecdotes">Anecdotes</a></li>



<li><a href="#php-at-scale">At scale</a></li>



<li><a href="#what-about-my-bubble">What about my bubble?</a></li>



<li><a href="#conclusion">Conclusion</a></li>
</ol>



<hr/>



<h2 id="statistics">Statistics</h2>


<div>
<figure><img decoding="async" src="https://timotijhof.net/wp-content/uploads/2023_php_langs.png" alt="" width="270"/></figure></div>


<h3 id="php-as-programming-language-of-choice">PHP as programming language of choice</h3>



<p>From <a href="https://w3techs.com/technologies/overview/programming_language">Language analysis by W3 Techs</a> on the top 10 million websites worldwide:</p>



<ol>
<li>PHP at 77.2%.</li>



<li>ASP at 6.9%.</li>



<li>Ruby at 5.4%.</li>
</ol>



<h3 id="content-management-on-php">Content management on PHP</h3>



<p>The bulk of public sites build on PHP via a CMS. By market share, <strong>8 of the 12 largest CMS softwares are written in PHP</strong>. The below is from <a href="https://w3techs.com/technologies/overview/content_management">CMS usage by W3 Techs</a>, where each percent represents 100,000 of the top 10 million sites. There’s a similar <a href="https://trends.builtwith.com/cms/traffic/Entire-Internet">CMS report by BuiltWith</a> that analyses a larger set of 78 million websites.</p>


<div>
<figure><img decoding="async" fetchpriority="high" src="https://timotijhof.net/wp-content/uploads/2023_php_wordpress.png" alt="WordPress logo" width="256" height="256"/><figcaption>© WordPress.org</figcaption></figure></div>


<ol>
<li>[<strong>PHP</strong>] WordPress ecosystem (63%)</li>



<li>[Ruby] Shopify</li>



<li>Wix</li>



<li>Squarespace</li>



<li>[<strong>PHP</strong>] Joomla ecosystem (3%)</li>



<li>[<strong>PHP</strong>] Drupal ecosystem (2%)</li>



<li>[<strong>PHP</strong>] Adobe Magento (2%)</li>



<li>[<strong>PHP</strong>] PrestaShop (1%)</li>



<li>[Python] Google Blogger</li>



<li>[<strong>PHP</strong>] Bitrix (1%)</li>



<li>[<strong>PHP</strong>] OpenCart (1%)</li>



<li>[<strong>PHP</strong>] TYPO3 (1%)</li>
</ol>



<h3 id="e-commerce-on-php">E-commerce on PHP</h3>



<p>From <a href="https://trends.builtwith.com/shop">BuiltWith’s report on online stores</a>, as of Aug 2023:</p>


<div>
<figure><img decoding="async" src="https://timotijhof.net/wp-content/uploads/2023_php_shopware.png" alt="" width="256"/></figure></div>


<ul>
<li><a href="https://en.wikipedia.org/wiki/WooCommerce">WooCommerce for WordPress</a> (24% of global market share)</li>



<li><a href="https://en.wikipedia.org/wiki/Magento">Adobe Magento</a> (7% of global market share) </li>



<li>OpenCart (2% global market share, 24% <a href="https://trends.builtwith.com/shop/country/Russia">market share in Russia</a>)</li>



<li>PrestaShop (2% global market share, 14% <a href="https://trends.builtwith.com/shop/country/France">market share in France</a>)</li>



<li><a href="https://en.wikipedia.org/wiki/Shopware">Shopware</a> (1% global market share, 12% <a href="https://www.ehi.org/presse/e-commerce-2021-zeit-des-wachstums/">market share in Germany</a>)</li>
</ul>



<hr/>



<h2 id="anecdotes">Anecdotes</h2>



<p><a href="https://kinsta.com/blog/is-php-dead/">Kinsta published a retort</a> demonstrating that PHP is fast, lively, and popular:</p>



<blockquote>
<p>Well, first off, it’s important to point out that there’s a big difference between “wanting” and “being”. People have been calling for the death of PHP […] as far back as 2011.</p>



<p>PHP 7.3 was pushing 2-3x the number of requests per second as PHP 5.6. And PHP 8.1 is even faster.</p>



<p>[…] Because of PHP’s popularity, it’s <strong>easy to find PHP developers</strong>. And not just PHP developers – but PHP developers with experience.</p>
</blockquote>



<p>Matt Brown from Vimeo Engineering in <a href="https://medium.com/vimeo-engineering-blog/its-not-legacy-code-it-s-php-1f0ee0462580">It’s not legacy code — it’s PHP</a>:</p>



<blockquote>
<p><strong>PHP hasn’t stopped innovating</strong> […]. A new wave of backend engineers planned how we might carve up 500,000 lines of PHP into a bunch of [services]. […] Ultimately none of the proposals took hold.</p>



<p>Vimeo had grown many times over in the ten years since 2004, and our PHP codebase along with it […]</p>
</blockquote>



<p>Ars Technica tells us: <a href="https://arstechnica.com/gadgets/2021/09/php-maintains-an-enormous-lead-in-server-side-programming-languages/">PHP maintains an enormous lead</a>. Ars published a version of the W3 Techs report that includes historical data.</p>



<blockquote>
<p>Despite many infamous quirks, the server-side language seems here to stay. […]</p>



<figure><img decoding="async" width="900" height="500" src="https://timotijhof.net/wp-content/uploads/2023_php_arstechnica_w3techs.png" alt="" title="Usage of server-side programming languages for websites, September 2021, W3Techs.com."/></figure>
</blockquote>



<p>Lex Fridman put it as follows in an interview with Python-creator Guido van Rossum on his podcast (<a href="https://lexfridman.com/guido-van-rossum-2">episode</a>, <a href="https://www.youtube.com/watch?v=-DVyjdw4t9I&amp;t=25m50s">timestamp</a>):</p>



<blockquote>
<p><strong>Lex</strong>: “PHP probably still runs most of the back-end of the Internet.”</p>
</blockquote>



<p>Daniel Stenberg’s annual <a href="https://daniel.haxx.se/blog/2023/06/17/curl-user-survey-2023-analysis/">Curl user survey</a> (page 18) asks where people use curl. After curl’s own interface (78.4%), the most familiar curl binding is PHP. It has been, since the survey’s beginning in 2015. In 2023, 19.6% of curl survey respondents reported they use curl via PHP.</p>



<blockquote>
<p>curl (CLI) 78.4%, php-curl 19.6%, pycurl 13%, […], node-libcurl 4.1%.</p>
</blockquote>



<p>Ember.js famously originated from the Ruby community. But, as a frontend framework Ember can pair with any backend. The <a href="https://emberjs.com/survey/2022/">Ember Community Survey</a> reports PHP as the third-most favoured among survey participants, after Ruby and Java.</p>



<figure><img decoding="async" src="https://timotijhof.net/wp-content/uploads/2023_php_ember_survey.png" alt="Ember Survey 2022 results:
First 29.9% Rails (Ruby).
Second 14.3% Spring (Java).
Third 7.6% PHP.
Fourth 6.5% Express (Node.js)." height="266"/></figure>



<p>The Ember survey also asked general industry questions. For example, <strong>24% described their employer’s infrastructure as “self-hosted”</strong>, and not at a major cloud provider. This isn’t a representative survey per-se, but may still be a surprise. Especially for folks who rely on social media and conference talks for their sense of what businesses do in the real world. It is more important than ever for companies to have a <a href="https://www.infoworld.com/article/3211374/public-cloud-consolidation-requires-an-exit-plan-even-from-the-big-guys.html">cloud exit strategy</a> ready (<a href="https://digital.nhs.uk/services/cloud-centre-of-excellence/strategy/nhs-cloud-exit-strategy">NHS example</a>). You can read how <a href="https://world.hey.com/dhh/we-have-left-the-cloud-251760fb">Basecamp’s cloud exit</a> saves them millions of dollars a year.</p>



<h2 id="php-at-scale">PHP at scale</h2>



<p>The stats cited above measure the number of distinct sites and companies. The vast majority of those build on PHP. But, all that says about their scale is that they’re somewhere in the top 10 million. Does that worry you? What’s in the top 500?</p>


<div>
<figure><img decoding="async" src="https://timotijhof.net/wp-content/uploads/2023_php_laravel.svg" alt="Laravel logo" width="200" height="208"/><figcaption>Laravel</figcaption></figure></div>


<p>Jack Ellis from Fanthom Analytics in <a href="https://usefathom.com/blog/does-laravel-scale">Does Laravel Scale?</a> makes the case that you shouldn’t make choices based on handling millions of requests per second. You’re not likely to reach that, and will face many other bottlenecks. But, it turns out, PHP is one of the languages that does scale to that level.</p>



<blockquote>
<p>When we started seeing incredible growth in our software, Fathom Analytics (which is built on Laravel), […] never had moments of “does the framework do enough requests per second?”.  […]</p>



<p>I’ve worked with enterprise companies using Laravel to power their entire business, and companies such as Twitch, Disney, New York Times, WWE and Warner Bros are using Laravel for various projects they run. <strong>Laravel can handle your application at scale.</strong></p>
</blockquote>



<p>Matt Brown again, from Vimeo Engineering in <a href="https://medium.com/vimeo-engineering-blog/its-not-legacy-code-it-s-php-1f0ee0462580">It’s not legacy code</a>:</p>


<div>
<figure><img decoding="async" loading="lazy" src="https://timotijhof.net/wp-content/uploads/2023_php_vimeo.svg" alt="" width="210" height="60"/></figure></div>


<blockquote>
<p>I’m here to tell you that it can, and Vimeo’s continued success with PHP is proof that it’s a great tool for <strong>fast-moving companies in 2020</strong>.</p>
</blockquote>



<p>Vimeo is also known as the developer of <a href="https://psalm.dev/">Psalm</a>, a popular open-source static analysis tool for PHP.</p>



<p>From Keith Adams, Chief Architect at Slack Engineering in <a href="https://slack.engineering/taking-php-seriously/">Taking PHP Seriously</a>:</p>


<div>
<figure><img decoding="async" loading="lazy" src="https://timotijhof.net/wp-content/uploads/2023_php_slack.svg" alt="" width="110" height="110"/></figure></div>


<blockquote>
<p>Slack uses PHP for most of its server-side application logic […].</p>



<p>the advantages of the PHP environment (reduced cost of bugs through <strong>fault isolation</strong>; <strong>safe concurrency</strong>; and high <strong>developer throughput</strong>) are more valuable than the problems […]</p>
</blockquote>



<p>Let’s take another look at the <a href="https://w3techs.com/technologies/overview/content_management">W3 Techs report</a>, and this time focus on the size of some single businesses. At the top, we have WordPress which of course powers Automattic’s WordPress.com. That’s 20 billion page views <a href="https://wordpress.com/activity/">each month</a> (Alexa rank 55 worldwide).</p>



<p>If we move further down the report, to entries with 0.1% market share, we find PHP systems that power massive websites. Yet, these are also the platform of choice for over 100,000 smaller websites.</p>



<ul>
<li>#23 CMS: <a href="https://en.wikipedia.org/wiki/Moodle">Moodle</a></li>



<li>#25 CMS: phpBB, e.g. Google’s <a href="https://www.waze.com/forum/">Waze Community</a>, ApacheFriends Forum, VideoLAN Forums.</li>



<li>#31 CMS: XenForo forums, e.g. <a href="https://arstechnica.com/civis/">ArsTechnica.com</a>, <a href="https://forums.macrumors.com/">MacRumors.com</a>.</li>



<li>#33 CMS: Roundcube</li>



<li>#45 CMS: MediaWiki</li>



<li>#49 CMS: vBulletin forums</li>



<li>#53 CMS: IPS Community, e.g. <a href="https://forums.malwarebytes.com">MalwareBytes.com</a>, <a href="https://en.wikipedia.org/wiki/Bleeping_Computer">BleepingComputer</a>, and Squarespace.com Forums.</li>
</ul>


<div>
<figure><img decoding="async" loading="lazy" src="https://timotijhof.net/wp-content/uploads/2023_php_mediawiki_white.svg" alt="" width="200" height="222"/></figure></div>


<p><a href="https://en.wikipedia.org/wiki/MediaWiki">MediaWiki</a> is the <a href="https://wikitech.wikimedia.org/wiki/MediaWiki_at_WMF">platform behind Wikipedia.org</a> with <a href="https://stats.wikimedia.org/">25 billion page views</a> a month (Alexa #12). MediaWiki also powers <a href="https://en.wikipedia.org/wiki/Fandom_(website)">Fandom</a> with <a href="https://about.fandom.com/news/fandoms-2021-state-of-fandom-study-identifies-pandemic-era-consumer-behavior-trends-in-entertainment-gaming">2 billion page views</a> a month (Similarweb #44), and <a href="https://en.wikipedia.org/wiki/WikiHow">WikiHow</a> with 100 million monthly visitors (Alexa #215).</p>



<p>Other major Internet properties powered by PHP include Facebook (Alexa #7), Etsy (Alexa #66), Vimeo (Alexa #165), and Slack (Similarweb #362).</p>



<p>Etsy is interesting due to its high proportion of active sessions and dynamic content. This unlike Wikipedia or WordPress, which can serve most page views from a static cache. This means despite a similar scale, Etsy’s PHP application is a lot more exposed to <a href="https://www.etsy.com/codeascraft/how-etsy-prepared-for-historic-volumes-of-holiday-traffic-in-2020/">their high traffic</a>.</p>


<div>
<figure><img decoding="async" loading="lazy" src="https://timotijhof.net/wp-content/uploads/2023_php_etsy.svg" alt="" width="200" height="100"/></figure></div>


<p>Etsy is also where PHP-creator <a href="https://en.wikipedia.org/wiki/Rasmus_Lerdorf">Rasmus Lerdorf</a> is employed. He sometimes features snippets from Etsy’s codebase in his tech talks. (Geek side note: His <a href="https://www.youtube.com/watch?v=Hc4S74LCXHo&amp;t=1620s">2021 Modern PHP talk</a> explains how Etsy deploys with <code>rsync</code>, exactly like Wikipedia did for the past decade with <a href="https://wikitech.wikimedia.org/w/index.php?title=Scap&amp;oldid=2007017">Scap</a>). Etsy’s engineering blog occasionally covers work on their modular PHP monolith, e.g. <a href="https://www.etsy.com/uk/codeascraft/plurals-at-etsy">Plural localisation</a>, or their detailed <a href="https://www.etsy.com/uk/codeascraft/q1-2016-site-performance-report">Etsy Site Performance</a> reports:</p>



<blockquote>
<p>Happily, this quarter we saw site-wide performance improvements, due to our upgrade to PHP7.</p>



<p>[…] we saw significant performance gains on all our pages.</p>
</blockquote>



<h2 id="what-about-my-bubble">What about my bubble?</h2>



<p>One could critique the PHP community for not occupying much space in public discourse. Whether PHP core developers, or authors of PHP packages (like Laravel, Symfony, WordPress, Composer, and PHPUnit), or the average engineer using it in their day job… we’re not seen much in arguments on social media.</p>



<p>You also don’t see us give many conference talks prescribing formulas for a stack that will “definitely be better” for your company. If talks by fans of certain JavaScript frameworks are anything to go by, we should believe that most companies use their stack today, and that you should feel sorry if you still don’t. I don’t say that to judge JavaScript. What bothers me is prescriptive messaging without considering technical or business needs, without assessing what “better” means — better compared to what? It’s hard to compare the one thing you know.</p>



<p>The above isn’t to say JavaScript doesn’t have its place. Share your experience! Share your results (and the benchmarks behind them), what worked, what didn’t. Keep searching, keep innovating, keep sharing, and above all: keep pushing the human race forward. That’s <a href="https://en.wikipedia.org/wiki/Free_software_movement">free software</a>!</p>



<p>One could question merits through the <a href="https://infrequently.org/2023/02/the-market-for-lemons/">lost decade</a> and <a href="https://www.zachleat.com/web/react-criticism/">critique on React</a>, but… React holds a <a href="https://w3techs.com/technologies/overview/javascript_library">3% market share</a>. Add the smaller frameworks (Vue, Angular, Svelte) and we reach a sum of 5%. Similarly, Node.js as web server holds <a href="https://w3techs.com/technologies/overview/web_server">3% market share</a>. Does that mean over 90% missed out on This One Trick That Will Boost Your Business?</p>



<p>Lest we forget, this 5% represents 500,000 major websites. That’s huge. Node.js has its place and its strengths (real-time message streams). But, Node.js also has its weaknesses (<a href="https://www.langton.cloud/misconception-on-cpu-node-js-vs-php-blocking-web-requests/">blocking the main thread</a>). And remember, market share doesn’t say much about scale. It could be powering several organisations in the top 1% (like MediaWiki), or the bottom 1%. Or, be WordPress and power both the top 1% <em>and</em> over 40 <em>million</em> other sites.</p>



<h2 id="conclusion">Conclusion</h2>



<p>Companies young and old, small and big, <strong>might not be utilising</strong> the software stacks we hear talked about most in public spaces. This is especially true outside the bubble of personal projects and cash-burning startups.</p>


<div>
<figure><a href="https://www.php.net/releases/8.1/en.php"><img decoding="async" loading="lazy" src="https://timotijhof.net/wp-content/uploads/2023_php_php8.png" alt="" width="310" height="130"/></a></figure></div>


<p>Is PHP <em>the</em> most economic choice for growing and sustained businesses today? Is it in the top three? Does language runtime matter at all when scaling up a business and team of people around it? We don’t know. </p>



<p>What we do know is that a great many businesses today build on PHP, and PHP has proven to be a sustainable option. It stood the test of time. That includes new companies like Fathom that turned <a href="https://usefathom.com/blog/spending-money">profitable</a> in just three years. Like the Fathom article said, most of us will never reach that scale. But, <strong>it’s comforting to know that PHP is a sustainable and economical option</strong> even at scale. Is it the only option? No, certainly not.</p>



<p>There are languages that are even faster (Rust), have an even larger community (Node.js), or have more mature compilers (Java); but that tends to trade other values.</p>



<p>PHP hits a certain Goldilocks sweetspot. It is pretty fast, has a <a href="https://packagist.org/statistics">large community</a> for <a href="https://www.youtube.com/watch?v=x7OsH3bH6DA">productivity</a>, features <a href="https://stitcher.io/blog/evolution-of-a-php-object">modern syntax</a>, is actively <a href="https://wiki.php.net/RFC#implemented">developed</a>, easy to learn, easy to scale, and has a large standard library. It offers high and safe concurrency at scale, yet without async complexity or blocking a main thread. It also tends to carry low maintenance cost due to a stable platform, and through a community that values compatibility and <a href="https://blog.jim-nielsen.com/2023/software-crisis-dependencies/">low dependency count</a>. You will have different needs at times, of course, but for this particular sweetspot, PHP stands among very few others. Which others? You tell me!</p>



<h2 id="further-reading">Further reading</h2>



<ul>
<li><a href="https://mcfunley.com/choose-boring-technology"><em>Choose Boring Technology</em></a>, Dan McKinley, 2015.</li>



<li><a href="https://motherduck.com/blog/the-simple-joys-of-scaling-up/"><em>The Simple Joys of Scaling Up</em></a>, Jordan Tigani, 2023.</li>



<li><a href="https://timotijhof.net/posts/2019/protect-yourself-from-npm/"><em>How to protect yourself from npm</em></a>, Timo Tijhof, 2019.</li>



<li><em><a href="https://snarfed.org/2022-03-10_were-drowning-software-dependencies">We’re drowning in software dependencies</a></em>, Ryan Barrett, 2022.</li>



<li><a href="https://blog.jim-nielsen.com/2023/software-crisis-dependencies/"><em>“Out of the Software Crisis”: Dependencies</em></a>, Baldur Bjarnason.</li>



<li><a href="https://blog.danslimmon.com/2023/08/11/squeeze-the-hell-out-of-the-system-you-have/"><em>Squeeze the hell out of the system you have</em></a>, Dan Slimmon, 2023.</li>



<li><a href="https://www.mediawiki.org/wiki/Wikimedia_Developer_Summit/2018/Participants#Tim_Starling"><em>On language choice and maintenance burden at Wikimedia</em></a>, Tim Starling, 2018.</li>
</ul>



<hr/>



<p><strong>Update (6 Sep 2023)</strong>: Regarding HHVM, Wikipedia and Etsy indeed both tried it as PHP5-compatible alternative runtime (no Hacklang). After <a href="https://kinsta.com/blog/hhvm-wordpress/">performance improvements</a> in PHP 7, Wikipedia reverted its <a href="https://techblog.wikimedia.org/2014/12/29/how-we-made-editing-wikipedia-twice-as-fast/">roll out</a> and <a href="https://phabricator.wikimedia.org/T176370">upgraded to PHP 7.2</a>. Etsy also abandoned the <a href="https://www.etsy.com/uk/codeascraft/experimenting-with-hhvm-at-etsy?ref=codeascraft">experiment</a> and <a href="https://www.etsy.com/uk/codeascraft/q1-2015-site-performance-report?ref=codeascraft">partial</a> use and similarly <a href="https://www.etsy.com/uk/codeascraft/q1-2016-site-performance-report?ref=codeascraft">moved to PHP 7</a>, stating <a href="https://www.etsy.com/uk/codeascraft/api-first-transformation-at-etsy-operations?ref=codeascraft">later</a>: “<em>hhvm was a catalyst for performance improvements that made it into PHP7. We are now completely switched over to PHP7 everywhere</em>“.</p>
</div></div>
  </body>
</html>
