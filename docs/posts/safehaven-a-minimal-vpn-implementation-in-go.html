<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/kwakubiney/safehaven">Original</a>
    <h1>Show HN: SafeHaven â€“ A Minimal VPN Implementation in Go</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<ul dir="auto">
<li>Architecture
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/71296367/253837071-7a637a3f-337d-4e44-a793-4aa01049d191.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDA5NTQwNjQsIm5iZiI6MTc0MDk1Mzc2NCwicGF0aCI6Ii83MTI5NjM2Ny8yNTM4MzcwNzEtN2E2MzdhM2YtMzM3ZC00ZTQ0LWE3OTMtNGFhMDEwNDlkMTkxLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMDIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzAyVDIyMTYwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTMwMDRhNDFlMDNkYmZiYjg2YTBhODQ0ZWRhZDZmNmM3NGM0Y2YwMDE1ZWZhYTI1MjJhZTA1YTk0NmNjMzk5MjImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.DB5qjoiAhbojIHGimC4N3GxtNlwFAULhoNFKxfv4-C8"><img src="https://private-user-images.githubusercontent.com/71296367/253837071-7a637a3f-337d-4e44-a793-4aa01049d191.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDA5NTQwNjQsIm5iZiI6MTc0MDk1Mzc2NCwicGF0aCI6Ii83MTI5NjM2Ny8yNTM4MzcwNzEtN2E2MzdhM2YtMzM3ZC00ZTQ0LWE3OTMtNGFhMDEwNDlkMTkxLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTAzMDIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwMzAyVDIyMTYwNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTMwMDRhNDFlMDNkYmZiYjg2YTBhODQ0ZWRhZDZmNmM3NGM0Y2YwMDE1ZWZhYTI1MjJhZTA1YTk0NmNjMzk5MjImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.DB5qjoiAhbojIHGimC4N3GxtNlwFAULhoNFKxfv4-C8" alt="architecture"/></a></li>
</ul>

<p dir="auto">Checkout my blog <a href="https://kwakubiney.github.io/posts/UDP-Tunneling-With-Safehaven/" rel="nofollow">post</a> for implementation details.</p>

<p dir="auto"><a href="https://www.youtube.com/watch?v=BJcXyx5ae1Ac" rel="nofollow">Click here to watch demo</a></p>

<ul dir="auto">
<li>Only available on Linux</li>
</ul>
<div data-snippet-clipboard-copy-content="Usage:
  -d string
        private network destination (default &#34;10.108.0.2&#34;)
  -g    global
        routes all traffic to tunnel server
  -l string
        local address
  -s string
        remote server address (default &#34;138.197.32.138&#34;)
  -srv
        server mode
  -tc string
        client tun device ip (default &#34;192.168.1.100/24&#34;)
  -tname string
        tunname (default &#34;tun0&#34;)
  -ts string
        server tun device ip (default &#34;192.168.1.102/24&#34;)"><pre><code>Usage:
  -d string
        private network destination (default &#34;10.108.0.2&#34;)
  -g    global
        routes all traffic to tunnel server
  -l string
        local address
  -s string
        remote server address (default &#34;138.197.32.138&#34;)
  -srv
        server mode
  -tc string
        client tun device ip (default &#34;192.168.1.100/24&#34;)
  -tname string
        tunname (default &#34;tun0&#34;)
  -ts string
        server tun device ip (default &#34;192.168.1.102/24&#34;)
</code></pre></div>
<ul dir="auto">
<li>Build the project.</li>
<li>Run using appropriate flags on client.</li>
<li>Run on server in <code>server mode</code> and also run <code>sysctl -w net.ipv4.ip_forward=1</code> on server to allow IP forwarding.</li>
<li><code>ping</code> destination address from client after setup &amp; you should receive echo replies back.</li>
</ul>
<p dir="auto"><code>NB</code>: Your server must know how to reach the private network else your packet will get lost in the sauce on the server.</p>
</article></div></div>
  </body>
</html>
