<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://slowernews.substack.com/p/2021-winter">Original</a>
    <h1>|INFO| Slower News Quarterly - Winter Issue.</h1>
    
    <div id="readability-page-1" class="page"><div disabled="" sortable="">
<div>
          <p dir="auto">This PR adds support for shared-memory parallelism through domains and direct-style concurrency through effect handlers (without syntactic support). It intends to have backwards compatibility - in terms of language features, C API and also the performance of single-threaded code.</p>
<h2 dir="auto">For users</h2>
<p dir="auto">If you want to learn more about Multicore OCaml, please have a look at the <a href="https://github.com/ocaml-multicore/ocaml-multicore/wiki">multicore wiki</a> for papers, talks, tutorials and blog posts.</p>
<p dir="auto">If you are interested in using Multicore OCaml, we suggest having a look at the following work-in-progress libraries:</p>
<ol dir="auto">
<li><a href="https://github.com/ocaml-multicore/domainslib">domainslib</a> -- a library for nested task parallelism</li>
<li><a href="https://github.com/ocaml-multicore/eio">eio</a> -- asynchronous io in direct-style</li>
</ol>
<p dir="auto">Here is a snapshot of the multicore scalability results on parallel benchmarks from <a href="https://github.com/ocaml-bench/sandmark">sandmark</a> on a 2 processor AMD EPYC 7551 server with 64 cores in total:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/2f8bdd8347bca6b985cc824d5cdd41bb1a0d49c55f21ce332d6ba60f3ce3f94a/68747470733a2f2f692e696d6775722e636f6d2f517a42635466392e706e67"><img src="https://camo.githubusercontent.com/2f8bdd8347bca6b985cc824d5cdd41bb1a0d49c55f21ce332d6ba60f3ce3f94a/68747470733a2f2f692e696d6775722e636f6d2f517a42635466392e706e67" alt="" data-canonical-src="https://i.imgur.com/QzBcTf9.png"/></a></p>
<p dir="auto">The number in the parenthesis next to the benchmark name is the time (in seconds) taken by the sequential baseline of the corresponding benchmark.</p>
<h2 dir="auto">Review process</h2>
<p dir="auto">This PR comes at the back of asynchronous code reviews by the OCaml core developers followed by a week-long synchronous code review session. The summary of the discussions is available in the <a href="https://discuss.ocaml.org/t/multicore-ocaml-november-2021-with-results-of-code-review/8934/5#core-team-code-review-1" rel="nofollow">November multicore monthly</a>.</p>
<p dir="auto">As mentioned in the November multicore monthly, this PR constitutes the minimum viable product (MVP) for Multicore OCaml. The &#34;pre-MVP&#34; tasks have been completed, and the &#34;post-MVP for 5.00&#34; tasks are yet to be done. The aim is that these tasks, and the ones that follow, can be completed on ocaml/ocaml Github repo, through the usual OCaml PR review process rather than on the Multicore OCaml repo.</p>
<p dir="auto">Given that the PR is quite large, if you spot major breakages and functionality gaps, we suggest that you make separate issues on ocaml/ocaml Github repo. This will help keep the discussion threads readable. Feel free to comment on minor issues (typos, formatting edits, etc) directly in this PR, and we shall be happy to fix those.</p>
<h2 dir="auto">What&#39;s in the box</h2>
<p dir="auto">The only supported backend is <code>amd64</code> on Linux and macOS; <code>arm64</code> is in the works. The following features are not implemented:</p>
<ul dir="auto">
<li>statmemprof</li>
<li>compilation with frame pointers</li>
<li>ocamldebug</li>
<li>AFL support</li>
</ul>
<h2 dir="auto">Acknowledgements</h2>
<p dir="auto">Multicore OCaml has been a long running project. We would like to thank all those who have helped find issues, debugged issues, reviewed code and contributed code along the way.</p>
<p dir="auto">-- The Multicore OCaml team</p>
      </div>
</div></div>
  </body>
</html>
