<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.greptile.com/blog/ai-code-reviews-conflict">Original</a>
    <h1>AI code review: Should the author be the reviewer?</h1>
    
    <div id="readability-page-1" class="page"><article><p><em>Alternate title: I’m using AI to write code. Is it silly to use AI to review it?</em></p>
<p>I&#39;m Daksh, a co-founder of Greptile. Our product uses <a target="_blank" rel="noopener noreferrer" href="https://www.greptile.com/">AI to review pull requests</a> to surface bugs and anti-patterns that humans might miss. <a target="_blank" rel="noopener noreferrer" href="https://github.com/PostHog/posthog/pull/30481#discussion_r2015943547"><u>Here is an example</u></a> of what that looks like.</p>
<p>Recently, I was curious to see if there exists a power law in the number of PRs opened by individual Greptile users. In other words - were some users opening orders of magnitude more PRs than others? A quick SQL query later, I discovered that there is a power law to this.</p>
<p>I also noticed something else very interesting:</p>
<p><img src="https://www.greptile.com/author-and-reviewer/image2.png" alt="Chart showing PR authors with Devin AI at the top"/></p>
<p>At the far left of the long list of GitHub usernames was “devin-ai-integration[bot]”. <strong>An AI bot was writing more pull requests than any individual human. [1]</strong></p>
<p>Seeing as <a target="_blank" rel="noopener noreferrer" href="https://www.greptile.com/blog/comparing-replit-vs-devin">Devin</a> uses the same LLMs under-the-hood as Greptile, it does raise an interesting question - should the author be the reviewer?</p>
<hr/>
<p>[1] Granted that this is somewhat of a technicality. Devin’s contributions across many orgs are being counted in aggregate here. It would be more accurate to treat “Devin @ Company A” and “Devin @ Company B” as separate entries in this chart.</p>
<hr/>

<p>Most software companies wouldn’t want the PR reviewer to be the same person as the PR author. A large part of why PR reviews happen is to ensure every new piece of code is getting a <em>fresh</em> set of eyes. It seems silly to have <a title="Follow link to Claude" href="https://www.greptile.com/blog/claude-sonnet-vs-claude-sonnet-thinking">Claude</a> Sonnet generate a bunch of code, and then expect Claude Sonnet to find bugs in it.</p>
<p>There are a few counterpoints worth discussing:</p>
<h4 id="statelessness"><a href="#statelessness"></a>Statelessness</h4>
<p>If you’ve used <a target="_blank" rel="noopener noreferrer" href="https://www.greptile.com/blog/make-llms-shut-up">LLM APIs</a>, you’ll notice that they are stateless. Every inference call is a clean slate request for intelligence. As a result - asking an LLM to review its own code <em>is</em> looking at it with a fresh set of eyes.</p>
<h4 id="scaffolding"><a href="#scaffolding"></a>Scaffolding</h4>
<p>Scaffolding refers generally to the specific workflows that a tool uses to wrap the LLM call to allow it to do the task at hand. For an AI code reviewer it might be the set of steps it takes to review a diff, checking for bugs, formulating comments, and finally self-assessing comment severity, plus the context retrieval along the way to ensure it’s looking at the relevant docs files and other code files in the codebase. For <a target="_blank" rel="noopener noreferrer" href="https://www.greptile.com/blog/comparing-windsurf-vs-devin">Devin</a>, it likely is just as complex and completely different. In other words, the reviewer is in fact materially different from the author. These are two distinct cars that just happen to have the same <em>engine</em>.</p>
<h4 id="how-different-are-two-humans-really"><a href="#how-different-are-two-humans-really"></a>How different are two humans, really?</h4>
<p>In a pre-AI world, the author and reviewer of a PR are two distinct people. However, they contain the same intelligence at their core, not unlike two AI tools. Not only do they share a functionally identical brain from a biological standpoint, they even have shared knowledge since they are both trained engineers and shared context since they are coworkers at the same company.</p>
<h3 id=""><a href="#"></a></h3>
<h2 id="ai-generated-code-needs-closer-reviewing"><a href="#ai-generated-code-needs-closer-reviewing"></a>AI-Generated Code Needs Closer Reviewing</h2>
<h3 id="ai-code-isnt-slop-but-it-is-a-little-sloppy"><a href="#ai-code-isnt-slop-but-it-is-a-little-sloppy"></a>AI code isn’t slop, but it is a little sloppy</h3>
<p>There is no doubt that AI has made programmers faster and more effective. That said, in my opinion, AI has <strong>reduced</strong> the average quality of the code that <em>good</em> engineers write. This is not strictly because the models produce worse code than good engineers. It’s because:</p>
<ol>
<li>Prompting is an imperfect and lossy way to communicate requirements to AI</li>
<li>Engineers underestimate the degree to which this is true, and don’t carefully review AI-generated code to the degree to which they would review their own.</li>
</ol>
<p>The reason for #2 isn’t complacency, one can review code at the speed at which they can think and type, but not at the speed at which an LLM can generate.When you’re typing code, you review-as-you-go, when you AI-generate the code, you don’t.</p>
<p>Interestingly, the inverse is true for mediocre engineers, for whom AI actually improves the quality of the code they produce. AI simply makes good and bad engineers converge on the same median as they rely on it more heavily.</p>
<img src="https://www.greptile.com/author-and-reviewer/image1.png" alt="Graph showing code quality convergence between good and mediocre engineers when using AI"/>
<h3 id="humans-are-bad-at-catching-the-types-of-bugs-that-ai-introduces"><a href="#humans-are-bad-at-catching-the-types-of-bugs-that-ai-introduces"></a>Humans are bad at catching the types of bugs that AI introduces</h3>
<p><a target="_blank" rel="noopener noreferrer" href="https://www.greptile.com/blog/ai-vs-human-code">AI-generated code</a> generally contains more bugs. Moreover, these bugs are not the type humans would introduce. How often have you found a <a title="Follow link to Cursor" href="https://www.greptile.com/blog/cursorrules">Cursor</a>’s “Apply” function changed a line of code you didn’t expect it would change, and you didn’t notice until later? How many of those bugs were things you could see yourself introducing without AI?</p>
<p>Moreover, PR review is not a great way to catch bugs. <strong>Humans just aren’t that good at detecting them,</strong> so PR review tends to be more of a style/pattern enforcement exercise, and on occasion an architecture review.</p>
<p>Oddly, it turns out AI <em>is</em> actually much better than humans at finding bugs in code. During our tests, we found the newest <a title="Follow link to Anthropic" href="https://www.greptile.com/blog/claude-sonnet-vs-claude-sonnet-thinking">Anthropic</a> Sonnet model correctly identified 32 out of the 209 bugs in the “hard” category of our bug finding benchmark. For reference, none of the highly skilled engineers at Greptile could identify more than 5-7.</p>
<img src="https://www.greptile.com/author-and-reviewer/image3.png" alt="Graph showing AI bug detection performance compared to humans"/>
<p>Note that 32/209 isn’t <em>great</em> either, it’s just better than the human developer.</p>
<h2 id="just-in-used-car-salesman-sincerely-feels-you-need-a-used-car"><a href="#just-in-used-car-salesman-sincerely-feels-you-need-a-used-car"></a>Just In: Used Car Salesman Sincerely Feels You Need A Used Car</h2>
<p>Disclaimer in case it wasn’t clear - we sell an AI code reviewer, so take what you will from this. This isn’t an exercise in intellectual dishonesty that exists to persuade you to buy, it’s the earnest attempt at intellectual honesty that led us to work on <a title="Follow link to AI code review" href="https://www.greptile.com/">AI code review</a> in the first place.</p></article></div>
  </body>
</html>
