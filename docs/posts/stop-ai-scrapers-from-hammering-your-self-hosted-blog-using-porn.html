<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/vivienhenz24/fuzzy-canary">Original</a>
    <h1>Show HN: Stop AI scrapers from hammering your self-hosted blog (using porn)</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">AI companies are scraping everyone&#39;s sites for training data. If you&#39;re self-hosting your blog, there&#39;s not much you can do about it, except maybe make them think your site contains content they won&#39;t want. Fuzzy Canary plants invisible links (to porn websites...) in your HTML that trigger scrapers&#39; content safeguards.</p>
<p dir="auto"><a href="https://www.npmjs.com/package/@fuzzycanary/core" rel="nofollow"><img src="https://camo.githubusercontent.com/c432cc1905e5d60d48be0f3b2b0ff3076e54185635ca9e34765a84e3d12963c5/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f4066757a7a7963616e6172792f636f7265" alt="npm" data-canonical-src="https://img.shields.io/npm/v/@fuzzycanary/core"/></a>
<a href="https://github.com/vivienhenz24/fuzzyfrontend/actions"><img src="https://camo.githubusercontent.com/40387740366755e3f399aa92f324b0a106e39c386948128b15b4f45fce4e29b2/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f616374696f6e732f776f726b666c6f772f7374617475732f76697669656e68656e7a32342f66757a7a7966726f6e74656e642f63692e796d6c3f6272616e63683d6d61696e266c6162656c3d4349" alt="CI" data-canonical-src="https://img.shields.io/github/actions/workflow/status/vivienhenz24/fuzzyfrontend/ci.yml?branch=main&amp;label=CI"/></a>
<a href="https://github.com/vivienhenz24/fuzzyfrontend/blob/main/LICENSE"><img src="https://camo.githubusercontent.com/462a5bbdb33152cc85e12206a778078a030fde067044cd4d84d7bab3fc22b510/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f6c2f4066757a7a7963616e6172792f636f7265" alt="License" data-canonical-src="https://img.shields.io/npm/l/@fuzzycanary/core"/></a>
<a href="https://www.npmjs.com/package/@fuzzycanary/core" rel="nofollow"><img src="https://camo.githubusercontent.com/cd9b1c4865d2b0c155fc02420124250da464fe67733d18b0635d46eb86b31217/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f646d2f4066757a7a7963616e6172792f636f7265" alt="npm downloads" data-canonical-src="https://img.shields.io/npm/dm/@fuzzycanary/core"/></a>
<a href="https://bundlephobia.com/package/@fuzzycanary/core" rel="nofollow"><img src="https://camo.githubusercontent.com/91442860d6068df3e91997365cb77a642467634f82c9d7ce70e495ac2b6776d3/68747470733a2f2f696d672e736869656c64732e696f2f62756e646c6570686f6269612f6d696e7a69702f25343066757a7a7963616e617279253246636f7265" alt="Bundle size" data-canonical-src="https://img.shields.io/bundlephobia/minzip/%40fuzzycanary%2Fcore"/></a></p>


<div dir="auto" data-snippet-clipboard-copy-content="npm i @fuzzycanary/core
# or
pnpm add @fuzzycanary/core"><pre>npm i @fuzzycanary/core
<span><span>#</span> or</span>
pnpm add @fuzzycanary/core</pre></div>

<p dir="auto">There are two ways to use it: client-side or server-side. Use server-side if you can—it works better because the canary is in the HTML from the start, so scrapers that don&#39;t run JavaScript will still see it.</p>
<p dir="auto"><strong>Server-side (recommended):</strong></p>
<p dir="auto">If you&#39;re using a React-based framework (Next.js, Remix, etc.), add the <code>&lt;Canary /&gt;</code> component to your root layout:</p>
<div dir="auto" data-snippet-clipboard-copy-content="// Next.js App Router: app/layout.tsx
// Remix: app/root.tsx
// Other React frameworks: your root layout file
import { Canary } from &#39;@fuzzycanary/core/react&#39;

export default function RootLayout({ children }) {
  return (
    &lt;html&gt;
      &lt;body&gt;
        &lt;Canary /&gt;
        {children}
      &lt;/body&gt;
    &lt;/html&gt;
  )
}"><pre><span>// Next.js App Router: app/layout.tsx</span>
<span>// Remix: app/root.tsx</span>
<span>// Other React frameworks: your root layout file</span>
<span>import</span> <span>{</span> <span>Canary</span> <span>}</span> <span>from</span> <span>&#39;@fuzzycanary/core/react&#39;</span>

<span>export</span> <span>default</span> <span>function</span> <span>RootLayout</span><span>(</span><span>{</span> children <span>}</span><span>)</span> <span>{</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>html</span><span>&gt;</span>
      <span>&lt;</span><span>body</span><span>&gt;</span>
        <span>&lt;</span><span>Canary</span> <span>/&gt;</span>
        <span>{</span><span>children</span><span>}</span>
      <span>&lt;/</span><span>body</span><span>&gt;</span>
    <span>&lt;/</span><span>html</span><span>&gt;</span>
  <span>)</span>
<span>}</span></pre></div>
<p dir="auto">For Next.js, that&#39;s it. For other frameworks like Remix, you&#39;ll need to pass the user agent from your loader:</p>
<div dir="auto" data-snippet-clipboard-copy-content="// Remix example
export async function loader({ request }) {
  const userAgent = request.headers.get(&#39;user-agent&#39;) || &#39;&#39;
  return { userAgent }
}

export default function App() {
  const { userAgent } = useLoaderData()
  return (
    &lt;html&gt;
      &lt;body&gt;
        &lt;Canary userAgent={userAgent} /&gt;
        {children}
      &lt;/body&gt;
    &lt;/html&gt;
  )
}"><pre><span>// Remix example</span>
<span>export</span> <span>async</span> <span>function</span> <span>loader</span><span>(</span><span>{</span> request <span>}</span><span>)</span> <span>{</span>
  <span>const</span> <span>userAgent</span> <span>=</span> <span>request</span><span>.</span><span>headers</span><span>.</span><span>get</span><span>(</span><span>&#39;user-agent&#39;</span><span>)</span> <span>||</span> <span>&#39;&#39;</span>
  <span>return</span> <span>{</span> userAgent <span>}</span>
<span>}</span>

<span>export</span> <span>default</span> <span>function</span> <span>App</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>{</span> userAgent <span>}</span> <span>=</span> <span>useLoaderData</span><span>(</span><span>)</span>
  <span>return</span> <span>(</span>
    <span>&lt;</span><span>html</span><span>&gt;</span>
      <span>&lt;</span><span>body</span><span>&gt;</span>
        <span>&lt;</span><span>Canary</span> <span>userAgent</span><span>=</span><span>{</span><span>userAgent</span><span>}</span> <span>/&gt;</span>
        <span>{</span><span>children</span><span>}</span>
      <span>&lt;/</span><span>body</span><span>&gt;</span>
    <span>&lt;/</span><span>html</span><span>&gt;</span>
  <span>)</span>
<span>}</span></pre></div>
<p dir="auto">For non-React frameworks, use the <code>getCanaryHtml()</code> utility and insert it at the start of your <code>&lt;body&gt;</code> tag.</p>
<p dir="auto"><strong>Client-side:</strong></p>
<p dir="auto">If you&#39;re building a static site or prefer client-side injection, import the auto-init in your entry file:</p>
<div dir="auto" data-snippet-clipboard-copy-content="// Your main entry file (e.g., main.ts, index.ts, App.tsx)
import &#39;@fuzzycanary/core/auto&#39;"><pre><span>// Your main entry file (e.g., main.ts, index.ts, App.tsx)</span>
<span>import</span> <span>&#39;@fuzzycanary/core/auto&#39;</span></pre></div>
<p dir="auto">That&#39;s it. It will automatically inject the canary when the page loads.</p>

<p dir="auto">Fuzzy Canary tries to avoid showing the canary to legitimate search engines. It keeps a list of known bots—Google, Bing, DuckDuckGo, and so on—and skips injecting the links when it detects them.</p>
<p dir="auto">This works fine if your site is server-rendered. The server can check the incoming request&#39;s user agent before deciding whether to include the canary in the HTML. Google&#39;s crawler gets clean HTML, AI scrapers get the canary.</p>
<p dir="auto">The problem is static sites. If your HTML is generated at build time and served as plain files, there&#39;s no user agent to check. The canary gets baked into the HTML for everyone, including Google. Right now this will hurt your SEO, because Google will see those links.</p>
<p dir="auto">If you&#39;re using a static site generator, you probably want to use the client-side initialization instead. The JavaScript can check <code>navigator.userAgent</code> at runtime and skip injection for search bots. That&#39;s not perfect—it only works for bots that execute JavaScript—but it&#39;s better than nothing.</p>
</article></div></div>
  </body>
</html>
