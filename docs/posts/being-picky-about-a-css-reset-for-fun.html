<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://chriscoyier.net/2023/10/03/being-picky-about-a-css-reset-for-fun-pleasure/">Original</a>
    <h1>Being picky about a CSS reset for fun</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>Just days before <a href="https://andy-bell.co.uk/a-more-modern-css-reset/">Andy revamped his (more) Modern CSS Reset</a>, <a href="https://shoptalkshow.com/582/#t=43:01">Dave and I were line-by-lining it</a> on ShopTalk Show. Mouthblogging is fun and all, but so is Writemouthblogging, known colloquially as ‚Äúblogging‚Äù. </p>
<p>Allow me to do it again with my fingers on this new version. </p>
<p>Obviously this is all subjective and you can and should do whatever you want with your life.</p>
<hr/>
<pre aria-describedby="shcb-language-1" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code>*,
*<span>::before</span>,
*<span>::after</span> {
  <span>box-sizing</span>: border-box;
}</code></span><small id="shcb-language-1"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>You gotta do it. This is one of the things that makes me wish we could do a CSS version of <code>&#34;use strict&#34;;</code> at the top to opt into a version of CSS with all the <a href="https://wiki.csswg.org/ideas/mistakes">mistakes</a> fixed. The psuedos make that selector so ugly, don‚Äôt they? Ughghk. Since setting <code>width</code> and <code>height</code> is getting rarer in a world of flexbox and grid anyway (which is what <code>box-sizing</code> ‚Äúfixes‚Äù), and the pseudo usage rarer still, it makes me want to start omitting this entirely, but every time I try it, I regret it, and put it back. </p>
<p>This was a popular alternative for a minute, I think credit to Jon Neal for thinking it through:</p>
<pre aria-describedby="shcb-language-2" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code><span>html</span> {
  <span>box-sizing</span>: border-box;
}
*, *<span>:before</span>, *<span>:after</span> {
  <span>box-sizing</span>: inherit;
}</code></span><small id="shcb-language-2"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>The idea is that on any given element you could set a <em>different</em> <code>box-sizing</code> value and it would change it not only for that DOM node but all its descendants, which is maybe what you want. But it didn‚Äôt seem to catch on, probably because it‚Äôs <em>so</em> niche. I also don‚Äôt like looking at the slightly incorrect single colons, even though they will work fine forever.</p>
<hr/>
<pre aria-describedby="shcb-language-3" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code><span>html</span> {
  <span>-moz-text-size-adjust</span>: none;
  <span>-webkit-text-size-adjust</span>: none;
  <span>text-size-adjust</span>: none;
}</code></span><small id="shcb-language-3"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>This makes it so iPhones don‚Äôt dork up the font size in landscape mode, <a href="https://kilianvalkhof.com/2022/css-html/your-css-reset-needs-text-size-adjust-probably/">as Kilian documented</a>. Dumb. Apple should ditch that behavior. But for now, <em>fine</em>.</p>
<hr/>
<pre aria-describedby="shcb-language-4" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code><span>body</span>, <span>h1</span>, <span>h2</span>, <span>h3</span>, <span>h4</span>, <span>p</span>,
<span>figure</span>, <span>blockquote</span>, <span>dl</span>, <span>dd</span> {
  <span>margin</span>: <span>0</span>;
}</code></span><small id="shcb-language-4"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>I like the idea of nuking margins. Definitely on the <code>body</code>. That one is extra annoying. <code>8px</code> lol go to bed. Why? <a href="https://www.miriamsuzanne.com/2022/07/04/body-margin-8px/#:~:text=All%20browsers%20add%20an%208px,own%20&#39;user%20agent&#39;%20styles.">why.</a> But I get it. We can‚Äôt have text touching the edge of the browser window that would be worse. I think <code>1rem</code> would be a heck of a lot nicer, if not some exotic <code>max()</code> calculation with viewport units so large screens get more than small screens. But you can‚Äôt just <em>change things</em> on the web, lest it decent into chaos (cats/dogs/living together/etc). </p>
<p>I‚Äôd probably be a little more comprehensive here though. The list sisters <code>ol</code> and <code>ul</code> for sure, and <code>pre</code>, just to pick one more. And clearly Andy hates h5 and h6 üëÄ. <em>personally.</em></p>
<hr/>
<pre aria-describedby="shcb-language-5" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code><span>ul</span><span>[role=<span>&#39;list&#39;</span>]</span>,
<span>ol</span><span>[role=<span>&#39;list&#39;</span>]</span> {
  <span>list-style</span>: none;
}</code></span><small id="shcb-language-5"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>This was a head-scratcher to me, but Andy explains it‚Äôs to make sure Safari doesn‚Äôt wipe out the correct accessible role:</p>
<blockquote>
<p>‚Ä¶ to make sure that a¬†<code>role</code>¬†is added, I remove the list styling by default for it as a little reward.</p>
</blockquote>
<p>lol that is so weird that now I like it again. It reminds me of those selectors <a href="https://adrianroselli.com/2020/11/under-engineered-responsive-tables.html#CSS">like Adrian likes</a> where you are only awarded the correct styles if you use <em>all</em> the correct attributes‚Ä¶</p>
<details><summary>‚Ä¶ like this beauty.</summary><pre aria-describedby="shcb-language-6" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code><span>[role=<span>&#34;region&#34;</span>]</span><span>[aria-labelledby]</span><span>[tabindex]</span> {
  <span>overflow</span>: auto;
}

<span>[role=<span>&#34;region&#34;</span>]</span><span>[aria-labelledby]</span><span>[tabindex]</span><span>:focus</span> {
  <span>outline</span>: .<span>1em</span> solid <span>rgba</span>(<span>0</span>,<span>0</span>,<span>0</span>,.<span>1</span>);
}</code></span><small id="shcb-language-6"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>

</details>
<p>A more sober me might do something like this instead:</p>
<pre aria-describedby="shcb-language-7" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code><span>ul</span><span>[class]</span>,
<span>ol</span><span>[class]</span> {
  <span>margin</span>: <span>0</span>;
  <span>padding</span>: <span>0</span>;
  <span>list-style</span>: none;
}</code></span><small id="shcb-language-7"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>‚Ä¶ where I‚Äôm like: hey if you‚Äôre adding a class to this list, you‚Äôre probably doing something fancy to it, so boot it back to normal town first.</p>
<p>Maybe we need ‚ÄúJavaScript resets‚Äù? Like if we‚Äôre worried about roles getting wiped out, let‚Äôs force the issue.</p>
<pre aria-describedby="shcb-language-8" data-shcb-language-name="PHP" data-shcb-language-slug="php"><span><code>document
  .querySelectorAll(<span>&#34;ul, ol&#34;</span>)
  .<span>forEach</span>(<span>list</span> =&gt; <span>list</span>.setAttribute(<span>&#34;role&#34;</span>, <span>&#34;list&#34;</span>));</code></span><small id="shcb-language-8"><span>Code language:</span> <span>PHP</span> <span>(</span><span>php</span><span>)</span></small></pre>
<p>I can forsee no problems with that ‚Äî ship it.</p>
<hr/>
<pre aria-describedby="shcb-language-9" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code><span>body</span> {
  <span>min-height</span>: <span>100vh</span>;
  <span>line-height</span>: <span>1.5</span>;
}</code></span><small id="shcb-language-9"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>First of all I‚Äôd smash that <code>line-height</code> on the <code>html</code> element instead, mostly because I think that high-level ‚Äúinherit me!!‚Äù typography stuff should happen there. The <code>r</code> in <code>rem</code> means ‚Äúroot‚Äù and only responds to changes in size there. Likewise there is new units like <code>rlh</code> that mean ‚Äúroot line height‚Äù and it makes sense to me to just use the root in case we want to use that value. </p>
<p>Every part of me wants to use <code>dvh</code> instead of <code>vh</code> on that <code>min-height</code> because when browser chrome and crap comes up it makes sense to me that that size shrinks to the new area. But apparently it <a href="https://ishadeed.com/article/new-viewport-units/#:~:text=Be%20careful%20with%20the%20dvh,is%20scrolling%20up%20or%20down.">can be a performance issue</a> (??) so maybe not. Would like to see some testing there. Although I might just need to adjust my thinking and <a href="https://mastodon.social/@simevidas/111088262361593466">embrace the <code>svh</code></a>.</p>
<hr/>
<pre aria-describedby="shcb-language-10" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code><span>h1</span>, <span>h2</span>, <span>h3</span>, <span>h4</span>,
<span>button</span>, <span>input</span>, <span>label</span> {
  <span>line-height</span>: <span>1.1</span>;
}</code></span><small id="shcb-language-10"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>Heck yeah, if you‚Äôre going to go with that luxuriously tall <code>line-height</code> for the page, you gotta suck it back down for headers. Except <code>h5</code> and <code>h6</code> who can apparently suck it. Makes sense on the inputs too, I‚Äôve never seen that in a reset before and I like it.</p>
<hr/>
<pre aria-describedby="shcb-language-11" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code><span>h1</span>, <span>h2</span>,
<span>h3</span>, <span>h4</span> {
  <span>text-wrap</span>: balance;
}</code></span><small id="shcb-language-11"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>Hell yeah. This makes me think we should also be putting <code>text-wrap: pretty;</code> on all the Small But Long Text elements like <code>p</code>, <code>li</code>, <code>.intro-text</code>, <code>dd</code>, and whatnot. But that makes me feel like that‚Äôs maybe over-reaching? Doesn‚Äôt it bail out on elements over 4 lines or something anyway?</p>
<hr/>
<pre aria-describedby="shcb-language-12" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code><span>a</span><span>:not(</span><span>[class]</span>) {
  <span>text-decoration-skip-ink</span>: auto;
  <span>color</span>: currentColor;
}</code></span><small id="shcb-language-12"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p><code>auto</code> is already the default on <code>text-decoration-skip-ink</code> so I‚Äôm not sure how useful that is. I <em>kinda</em> like the <code>currentColor</code> idea, but it means you <em>really</em> need to keep the underlines then or have some other really obvious link style. ‚ÄúLinks are supposed to be blue‚Äù and all that. </p>
<hr/>
<pre aria-describedby="shcb-language-13" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code><span>input</span>,
<span>button</span>,
<span>textarea</span>,
<span>select</span> {
  <span>font</span>: inherit;
}</code></span><small id="shcb-language-13"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>Love it. I like that that even works on select now, I could have sworn it didn‚Äôt. I wonder if we should add <code>selectmenu</code> now too? Isn‚Äôt that getting close? I bet it would even cascade down into the <code>option</code>s then, maybe?</p>
<pre aria-describedby="shcb-language-14" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code><span>textarea</span><span>:not(</span><span>[rows]</span>) {
  <span>min-height</span>: <span>10em</span>;
}</code></span><small id="shcb-language-14"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>Fair. A rare case I like the <code>em</code> instead of <code>rem</code>. My optimisitically chuck on <code>form-sizing: normal;</code> also. </p>
<hr/>
<pre aria-describedby="shcb-language-15" data-shcb-language-name="CSS" data-shcb-language-slug="css"><span><code><span>:target</span> {
  <span>scroll-margin-block</span>: <span>5ex</span>;
}</code></span><small id="shcb-language-15"><span>Code language:</span> <span>CSS</span> <span>(</span><span>css</span><span>)</span></small></pre>
<p>Like it. Browsers butt targets too high. The <code>ex</code> unit is showing off a little lol. I vote for <code>1rlh</code>. </p>

 </div></div>
  </body>
</html>
