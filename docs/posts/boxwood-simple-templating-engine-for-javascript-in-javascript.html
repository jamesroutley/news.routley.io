<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/buxlabs/boxwood">Original</a>
    <h1>Show HN: Boxwood â€“ simple templating engine for JavaScript, in JavaScript</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a href="https://www.npmjs.com/package/boxwood" rel="nofollow"><img src="https://camo.githubusercontent.com/0b07cff52c444fcf6f586e508830d49fd50bfb5449e2b46d93d5e09da22b295a/68747470733a2f2f696d672e736869656c64732e696f2f6e706d2f762f626f78776f6f642e737667" alt="npm" data-canonical-src="https://img.shields.io/npm/v/boxwood.svg"/></a>
<a href="https://github.com/buxlabs/boxwood/actions"><img src="https://github.com/buxlabs/boxwood/workflows/build/badge.svg" alt="build"/></a></p>
<blockquote>
<p dir="auto">Server side templating engine written in JavaScript</p>
</blockquote>
<p dir="auto"><a href="https://github.com/buxlabs/boxwood">boxwood</a> was created to achieve the following design goals:</p>
<ol dir="auto">
<li>templates can be split into components</li>
<li>css is hashed per component</li>
<li>css is automatically minified</li>
<li>critical css is inlined</li>
<li>templates can import other dependencies</li>
<li>inline images or svgs</li>
<li>i18n support</li>
<li>server side</li>
<li>good for seo</li>
<li>small (1 file, 700 LOC~)</li>
<li>easy to start, familiar syntax</li>
<li>easy to test</li>
</ol>
<p dir="auto">The template starts with a standard js file, which builds a tree of nodes, that get rendered to html.</p>

<ul dir="auto">
<li><a href="#install">Install</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#syntax">Syntax</a></li>
<li><a href="#maintainers">Maintainers</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#license">License</a></li>
</ul>

<p dir="auto"><code>npm install boxwood</code></p>

<div dir="auto" data-snippet-clipboard-copy-content="const { compile } = require(&#34;boxwood&#34;)
const { join } = require(&#34;path&#34;)
// ...
const path = join(__dirname, &#34;index.js&#34;)
const { template } = await compile(path)
// ...
const html = template({ foo: &#34;bar&#34; })
console.log(html)"><pre><span>const</span> <span>{</span> compile <span>}</span> <span>=</span> <span>require</span><span>(</span><span>&#34;boxwood&#34;</span><span>)</span>
<span>const</span> <span>{</span> join <span>}</span> <span>=</span> <span>require</span><span>(</span><span>&#34;path&#34;</span><span>)</span>
<span>// ...</span>
<span>const</span> <span>path</span> <span>=</span> <span>join</span><span>(</span><span>__dirname</span><span>,</span> <span>&#34;index.js&#34;</span><span>)</span>
<span>const</span> <span>{</span> template <span>}</span> <span>=</span> <span>await</span> <span>compile</span><span>(</span><span>path</span><span>)</span>
<span>// ...</span>
<span>const</span> <span>html</span> <span>=</span> <span>template</span><span>(</span><span>{</span> <span>foo</span>: <span>&#34;bar&#34;</span> <span>}</span><span>)</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>html</span><span>)</span></pre></div>

<div dir="auto" data-snippet-clipboard-copy-content="// example/index.js
const layout = require(&#34;./layout&#34;)
const banner = require(&#34;./banner&#34;)

module.exports = () =&gt; {
  return layout([
    banner({
      title: &#34;Hello, world!&#34;,
      description: &#34;Lorem ipsum dolor sit amet&#34;,
    }),
  ])
}"><pre><span>// example/index.js</span>
<span>const</span> <span>layout</span> <span>=</span> <span>require</span><span>(</span><span>&#34;./layout&#34;</span><span>)</span>
<span>const</span> <span>banner</span> <span>=</span> <span>require</span><span>(</span><span>&#34;./banner&#34;</span><span>)</span>

<span>module</span><span>.</span><span>exports</span> <span>=</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>return</span> <span>layout</span><span>(</span><span>[</span>
    <span>banner</span><span>(</span><span>{</span>
      <span>title</span>: <span>&#34;Hello, world!&#34;</span><span>,</span>
      <span>description</span>: <span>&#34;Lorem ipsum dolor sit amet&#34;</span><span>,</span>
    <span>}</span><span>)</span><span>,</span>
  <span>]</span><span>)</span>
<span>}</span></pre></div>
<div dir="auto" data-snippet-clipboard-copy-content="// example/layout/index.js

const { component, css, html, head, body } = require(&#34;boxwood&#34;)
const head = require(&#34;./head&#34;)

const styles = css.load(__dirname)

module.exports = component(
  (children) =&gt; {
    return html([head(), body({ className: styles.layout }, children)])
  },
  { styles }
)"><pre><span>// example/layout/index.js</span>

<span>const</span> <span>{</span> component<span>,</span> css<span>,</span> html<span>,</span> head<span>,</span> body <span>}</span> <span>=</span> <span>require</span><span>(</span><span>&#34;boxwood&#34;</span><span>)</span>
<span>const</span> <span>head</span> <span>=</span> <span>require</span><span>(</span><span>&#34;./head&#34;</span><span>)</span>

<span>const</span> <span>styles</span> <span>=</span> <span>css</span><span>.</span><span>load</span><span>(</span><span>__dirname</span><span>)</span>

<span>module</span><span>.</span><span>exports</span> <span>=</span> <span>component</span><span>(</span>
  <span>(</span><span>children</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>return</span> <span>html</span><span>(</span><span>[</span><span>head</span><span>(</span><span>)</span><span>,</span> <span>body</span><span>(</span><span>{</span> <span>className</span>: <span>styles</span><span>.</span><span>layout</span> <span>}</span><span>,</span> <span>children</span><span>)</span><span>]</span><span>)</span>
  <span>}</span><span>,</span>
  <span>{</span> styles <span>}</span>
<span>)</span></pre></div>
<div dir="auto" data-snippet-clipboard-copy-content="// example/head/index.js
const { head, title } = require(&#34;boxwood&#34;)

module.exports = () =&gt; {
  return head([title(&#34;example&#34;)])
}"><pre><span>// example/head/index.js</span>
<span>const</span> <span>{</span> head<span>,</span> title <span>}</span> <span>=</span> <span>require</span><span>(</span><span>&#34;boxwood&#34;</span><span>)</span>

<span>module</span><span>.</span><span>exports</span> <span>=</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>return</span> <span>head</span><span>(</span><span>[</span><span>title</span><span>(</span><span>&#34;example&#34;</span><span>)</span><span>]</span><span>)</span>
<span>}</span></pre></div>
<div dir="auto" data-snippet-clipboard-copy-content="// example/banner/index.js
const { component, css, h1, p, section } = require(&#34;boxwood&#34;)

const styles = css.load(__dirname)

module.exports = component(
  ({ title, description }) =&gt; {
    return section({ className: styles.banner }, [
      h1(title),
      description &amp;&amp; p(description),
    ])
  },
  { styles }
)"><pre><span>// example/banner/index.js</span>
<span>const</span> <span>{</span> component<span>,</span> css<span>,</span> h1<span>,</span> p<span>,</span> section <span>}</span> <span>=</span> <span>require</span><span>(</span><span>&#34;boxwood&#34;</span><span>)</span>

<span>const</span> <span>styles</span> <span>=</span> <span>css</span><span>.</span><span>load</span><span>(</span><span>__dirname</span><span>)</span>

<span>module</span><span>.</span><span>exports</span> <span>=</span> <span>component</span><span>(</span>
  <span>(</span><span>{</span> title<span>,</span> description <span>}</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>return</span> <span>section</span><span>(</span><span>{</span> <span>className</span>: <span>styles</span><span>.</span><span>banner</span> <span>}</span><span>,</span> <span>[</span>
      <span>h1</span><span>(</span><span>title</span><span>)</span><span>,</span>
      <span>description</span> <span>&amp;&amp;</span> <span>p</span><span>(</span><span>description</span><span>)</span><span>,</span>
    <span>]</span><span>)</span>
  <span>}</span><span>,</span>
  <span>{</span> styles <span>}</span>
<span>)</span></pre></div>
<div dir="auto" data-snippet-clipboard-copy-content="// example/banner/index.test.js
const test = require(&#34;node:test&#34;)
const assert = require(&#34;node:assert&#34;)
const { compile } = require(&#34;boxwood&#34;)

test(&#34;banner renders a title&#34;, async () =&gt; {
  const { template } = await compile(__dirname)
  const html = template({ title: &#34;foo&#34; })
  assert(html.includes(&#34;&lt;h1&gt;foo&lt;/h1&gt;&#34;))
})

test(&#34;banner renders an optional description&#34;, async () =&gt; {
  const { template } = await compile(__dirname)
  const html = template({ title: &#34;foo&#34;, description: &#34;bar&#34; })
  assert(html.includes(&#34;&lt;h1&gt;foo&lt;/h1&gt;&#34;))
  assert(html.includes(&#34;&lt;p&gt;bar&lt;/p&gt;&#34;))
})"><pre><span>// example/banner/index.test.js</span>
<span>const</span> <span>test</span> <span>=</span> <span>require</span><span>(</span><span>&#34;node:test&#34;</span><span>)</span>
<span>const</span> <span>assert</span> <span>=</span> <span>require</span><span>(</span><span>&#34;node:assert&#34;</span><span>)</span>
<span>const</span> <span>{</span> compile <span>}</span> <span>=</span> <span>require</span><span>(</span><span>&#34;boxwood&#34;</span><span>)</span>

<span>test</span><span>(</span><span>&#34;banner renders a title&#34;</span><span>,</span> <span>async</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>const</span> <span>{</span> template <span>}</span> <span>=</span> <span>await</span> <span>compile</span><span>(</span><span>__dirname</span><span>)</span>
  <span>const</span> <span>html</span> <span>=</span> <span>template</span><span>(</span><span>{</span> <span>title</span>: <span>&#34;foo&#34;</span> <span>}</span><span>)</span>
  <span>assert</span><span>(</span><span>html</span><span>.</span><span>includes</span><span>(</span><span>&#34;&lt;h1&gt;foo&lt;/h1&gt;&#34;</span><span>)</span><span>)</span>
<span>}</span><span>)</span>

<span>test</span><span>(</span><span>&#34;banner renders an optional description&#34;</span><span>,</span> <span>async</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
  <span>const</span> <span>{</span> template <span>}</span> <span>=</span> <span>await</span> <span>compile</span><span>(</span><span>__dirname</span><span>)</span>
  <span>const</span> <span>html</span> <span>=</span> <span>template</span><span>(</span><span>{</span> <span>title</span>: <span>&#34;foo&#34;</span><span>,</span> <span>description</span>: <span>&#34;bar&#34;</span> <span>}</span><span>)</span>
  <span>assert</span><span>(</span><span>html</span><span>.</span><span>includes</span><span>(</span><span>&#34;&lt;h1&gt;foo&lt;/h1&gt;&#34;</span><span>)</span><span>)</span>
  <span>assert</span><span>(</span><span>html</span><span>.</span><span>includes</span><span>(</span><span>&#34;&lt;p&gt;bar&lt;/p&gt;&#34;</span><span>)</span><span>)</span>
<span>}</span><span>)</span></pre></div>

<p dir="auto"><a href="https://github.com/emilos">@emilos</a></p>

<p dir="auto">All contributions are highly appreciated. Please feel free to open new issues and send PRs.</p>

<p dir="auto">MIT</p>
</article></div></div>
  </body>
</html>
