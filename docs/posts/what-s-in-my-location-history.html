<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://zdimension.fr/whats-in-my-location-history/">Original</a>
    <h1>What&#39;s in my location history?</h1>
    
    <div id="readability-page-1" class="page"><div><p>I’ve been using Google Maps’ location history feature for a few years now. It’s a bit creepy to think about how much data Google has about me, but it’s also a goldmine for data analysis.</p><p>Kindly enough, Google allows me to download all of my precious data in machine-readable format using <a href="https://takeout.google.com/settings/takeout">Takeout</a>:</p><p><a href="https://zdimension.fr/assets/posts/2024-06-30-whats-in-my-location-history/chrome_bhSzpJGu6j.png"><img src="https://zdimension.fr/assets/posts/2024-06-30-whats-in-my-location-history/chrome_bhSzpJGu6j.png" alt="Google Takeout UI with the Location History item" loading="lazy"/></a></p><p>This gives us a bunch of JSON files:</p><div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td><pre><span>$ </span><span>ls</span> <span>-R</span>
.:
 Records.json  <span>&#39;Semantic Location History&#39;</span>   Settings.json  <span>&#39;Timeline Edits.json&#39;</span>

<span>&#39;./Semantic Location History&#39;</span>:
2012  2015  2017  2019  2021  2023
2014  2016  2018  2020  2022  2024

<span>&#39;./Semantic Location History/2012&#39;</span>:
2012_SEPTEMBER.json

<span>&#39;./Semantic Location History/2014&#39;</span>:
2014_APRIL.json  2014_DECEMBER.json  2014_MAY.json

...
</pre></td></tr></tbody></table></code></p></div><h2 id="first-look-at-the-data"><span>First look at the data</span><a href="#first-look-at-the-data"><i></i></a></h2><p>That first <code>Records.json</code> file here is almost a gigabyte for my account. Not surprising, given that it contains 10-odd years of location data. It contains every single “phone home” location data packet that my phone has sent to Google.</p><h3 id="unprocessed-data"><span>Unprocessed data</span><a href="#unprocessed-data"><i></i></a></h3><p>Here’s a packet from it:</p><div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td><pre><span>{</span><span>
    </span><span>&#34;latitudeE7&#34;</span><span>:</span><span> </span><span>460734187</span><span>,</span><span>
    </span><span>&#34;longitudeE7&#34;</span><span>:</span><span> </span><span>67312122</span><span>,</span><span>
    </span><span>&#34;accuracy&#34;</span><span>:</span><span> </span><span>3198</span><span>,</span><span>
    </span><span>&#34;activity&#34;</span><span>:</span><span> </span><span>[</span><span>
        </span><span>{</span><span>
            </span><span>&#34;activity&#34;</span><span>:</span><span> </span><span>[</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;STILL&#34;</span><span>,</span><span>
                    </span><span>&#34;confidence&#34;</span><span>:</span><span> </span><span>100</span><span>
                </span><span>}</span><span>
            </span><span>],</span><span>
            </span><span>&#34;timestamp&#34;</span><span>:</span><span> </span><span>&#34;2014-04-28T12:34:46.342Z&#34;</span><span>
        </span><span>}</span><span>
    </span><span>],</span><span>
    </span><span>&#34;source&#34;</span><span>:</span><span> </span><span>&#34;CELL&#34;</span><span>,</span><span>
    </span><span>&#34;deviceTag&#34;</span><span>:</span><span> </span><span>803364441</span><span>,</span><span>
    </span><span>&#34;timestamp&#34;</span><span>:</span><span> </span><span>&#34;2014-04-28T12:30:55.424Z&#34;</span><span>
</span><span>}</span><span>
</span></pre></td></tr></tbody></table></code></p></div><p>This one doesn’t contain much information because it’s quite old; it was sent from the phone I had back then (a budget Wiko Lenny) and it seems like they didn’t measure as much stuff as they do now.</p><p>Here’s a more recent packet:</p><div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
</pre></td><td><pre><span>{</span><span>
    </span><span>&#34;latitudeE7&#34;</span><span>:</span><span> </span><span>506444929</span><span>,</span><span>
    </span><span>&#34;longitudeE7&#34;</span><span>:</span><span> </span><span>30775562</span><span>,</span><span>
    </span><span>&#34;accuracy&#34;</span><span>:</span><span> </span><span>22</span><span>,</span><span>
    </span><span>&#34;altitude&#34;</span><span>:</span><span> </span><span>76</span><span>,</span><span>
    </span><span>&#34;verticalAccuracy&#34;</span><span>:</span><span> </span><span>3</span><span>,</span><span>
    </span><span>&#34;activity&#34;</span><span>:</span><span> </span><span>[</span><span>
        </span><span>{</span><span>
            </span><span>&#34;activity&#34;</span><span>:</span><span> </span><span>[</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;ON_FOOT&#34;</span><span>,</span><span>
                    </span><span>&#34;confidence&#34;</span><span>:</span><span> </span><span>80</span><span>
                </span><span>},</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;WALKING&#34;</span><span>,</span><span>
                    </span><span>&#34;confidence&#34;</span><span>:</span><span> </span><span>80</span><span>
                </span><span>},</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;IN_VEHICLE&#34;</span><span>,</span><span>
                    </span><span>&#34;confidence&#34;</span><span>:</span><span> </span><span>6</span><span>
                </span><span>},</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;ON_BICYCLE&#34;</span><span>,</span><span>
                    </span><span>&#34;confidence&#34;</span><span>:</span><span> </span><span>6</span><span>
                </span><span>},</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;IN_ROAD_VEHICLE&#34;</span><span>,</span><span>
                    </span><span>&#34;confidence&#34;</span><span>:</span><span> </span><span>6</span><span>
                </span><span>},</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;IN_RAIL_VEHICLE&#34;</span><span>,</span><span>
                    </span><span>&#34;confidence&#34;</span><span>:</span><span> </span><span>6</span><span>
                </span><span>},</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;RUNNING&#34;</span><span>,</span><span>
                    </span><span>&#34;confidence&#34;</span><span>:</span><span> </span><span>2</span><span>
                </span><span>},</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;type&#34;</span><span>:</span><span> </span><span>&#34;UNKNOWN&#34;</span><span>,</span><span>
                    </span><span>&#34;confidence&#34;</span><span>:</span><span> </span><span>0</span><span>
                </span><span>}</span><span>
            </span><span>],</span><span>
            </span><span>&#34;timestamp&#34;</span><span>:</span><span> </span><span>&#34;2024-03-21T17:42:26.290Z&#34;</span><span>
        </span><span>}</span><span>
    </span><span>],</span><span>
    </span><span>&#34;source&#34;</span><span>:</span><span> </span><span>&#34;WIFI&#34;</span><span>,</span><span>
    </span><span>&#34;deviceTag&#34;</span><span>:</span><span> </span><span>123456</span><span>,</span><span>
    </span><span>&#34;platformType&#34;</span><span>:</span><span> </span><span>&#34;ANDROID&#34;</span><span>,</span><span>
    </span><span>&#34;activeWifiScan&#34;</span><span>:</span><span> </span><span>{</span><span>
        </span><span>&#34;accessPoints&#34;</span><span>:</span><span> </span><span>[</span><span>
            </span><span>{</span><span>
                </span><span>&#34;mac&#34;</span><span>:</span><span> </span><span>&#34;xxxxxx237234444&#34;</span><span>,</span><span>
                </span><span>&#34;strength&#34;</span><span>:</span><span> </span><span>-80</span><span>,</span><span>
                </span><span>&#34;isConnected&#34;</span><span>:</span><span> </span><span>true</span><span>,</span><span>
                </span><span>&#34;frequencyMhz&#34;</span><span>:</span><span> </span><span>0</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;mac&#34;</span><span>:</span><span> </span><span>&#34;xxxxxx237222816&#34;</span><span>,</span><span>
                </span><span>&#34;strength&#34;</span><span>:</span><span> </span><span>-85</span><span>,</span><span>
                </span><span>&#34;frequencyMhz&#34;</span><span>:</span><span> </span><span>0</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;mac&#34;</span><span>:</span><span> </span><span>&#34;xxxxxx559068245&#34;</span><span>,</span><span>
                </span><span>&#34;strength&#34;</span><span>:</span><span> </span><span>-88</span><span>,</span><span>
                </span><span>&#34;frequencyMhz&#34;</span><span>:</span><span> </span><span>0</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;mac&#34;</span><span>:</span><span> </span><span>&#34;xxxxxx759298638&#34;</span><span>,</span><span>
                </span><span>&#34;strength&#34;</span><span>:</span><span> </span><span>-89</span><span>,</span><span>
                </span><span>&#34;frequencyMhz&#34;</span><span>:</span><span> </span><span>0</span><span>
            </span><span>}</span><span>
        </span><span>]</span><span>
    </span><span>},</span><span>
    </span><span>&#34;osLevel&#34;</span><span>:</span><span> </span><span>34</span><span>,</span><span>
    </span><span>&#34;serverTimestamp&#34;</span><span>:</span><span> </span><span>&#34;2024-03-21T17:44:37.220Z&#34;</span><span>,</span><span>
    </span><span>&#34;deviceTimestamp&#34;</span><span>:</span><span> </span><span>&#34;2024-03-21T17:44:38.992Z&#34;</span><span>,</span><span>
    </span><span>&#34;batteryCharging&#34;</span><span>:</span><span> </span><span>false</span><span>,</span><span>
    </span><span>&#34;formFactor&#34;</span><span>:</span><span> </span><span>&#34;PHONE&#34;</span><span>,</span><span>
    </span><span>&#34;timestamp&#34;</span><span>:</span><span> </span><span>&#34;2024-03-21T17:42:29.183Z&#34;</span><span>
</span><span>}</span><span>
</span></pre></td></tr></tbody></table></code></p></div><p>It only contains data processed locally on the phone. We can see it tried to guess what I was doing, and also sent a list of nearby Wi-Fi networks.</p><h3 id="processed-data">Processed data</h3><p>The aptly named <code>Semantic Location History</code> folder contains the Google-processed data. Notably, it contains both <strong>place visits</strong>, that describe places I was, and <strong>activity segments</strong>, that describe things I did over a period of time. Here are two packets from the same time period as the one above:</p><div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
</pre></td><td><pre><span>{</span><span>
    </span><span>&#34;placeVisit&#34;</span><span>:</span><span> </span><span>{</span><span>
        </span><span>&#34;location&#34;</span><span>:</span><span> </span><span>{</span><span>
            </span><span>&#34;latitudeE7&#34;</span><span>:</span><span> </span><span>506443503</span><span>,</span><span>
            </span><span>&#34;longitudeE7&#34;</span><span>:</span><span> </span><span>30774789</span><span>,</span><span>
            </span><span>&#34;placeId&#34;</span><span>:</span><span> </span><span>&#34;ChIJD-fhtSEqw0cRkCuIhwJPMx8&#34;</span><span>,</span><span>
            </span><span>&#34;address&#34;</span><span>:</span><span> </span><span>&#34;147 Rue du Ballon, 59110 La Madeleine, France&#34;</span><span>,</span><span>
            </span><span>&#34;name&#34;</span><span>:</span><span> </span><span>&#34;Nexedi&#34;</span><span>,</span><span>
            </span><span>&#34;semanticType&#34;</span><span>:</span><span> </span><span>&#34;TYPE_UNKNOWN&#34;</span><span>,</span><span>
            </span><span>&#34;sourceInfo&#34;</span><span>:</span><span> </span><span>{</span><span>
                </span><span>&#34;deviceTag&#34;</span><span>:</span><span> </span><span>850787795</span><span>
            </span><span>},</span><span>
            </span><span>&#34;locationConfidence&#34;</span><span>:</span><span> </span><span>46.95392</span><span>,</span><span>
            </span><span>&#34;calibratedProbability&#34;</span><span>:</span><span> </span><span>46.95392</span><span>
        </span><span>},</span><span>
        </span><span>&#34;duration&#34;</span><span>:</span><span> </span><span>{</span><span>
            </span><span>&#34;startTimestamp&#34;</span><span>:</span><span> </span><span>&#34;2024-03-20T18:36:21Z&#34;</span><span>,</span><span>
            </span><span>&#34;endTimestamp&#34;</span><span>:</span><span> </span><span>&#34;2024-03-21T17:42:24Z&#34;</span><span>
        </span><span>},</span><span>
        </span><span>&#34;placeConfidence&#34;</span><span>:</span><span> </span><span>&#34;MEDIUM_CONFIDENCE&#34;</span><span>,</span><span>
        </span><span>&#34;visitConfidence&#34;</span><span>:</span><span> </span><span>99</span><span>,</span><span>
        </span><span>&#34;otherCandidateLocations&#34;</span><span>:</span><span> </span><span>[</span><span>
            </span><span>{</span><span>
                </span><span>&#34;latitudeE7&#34;</span><span>:</span><span> </span><span>506442688</span><span>,</span><span>
                </span><span>&#34;longitudeE7&#34;</span><span>:</span><span> </span><span>30772597</span><span>,</span><span>
                </span><span>&#34;placeId&#34;</span><span>:</span><span> </span><span>&#34;ChIJt-gKoQwqw0cR_BiE7FjE1sM&#34;</span><span>,</span><span>
                </span><span>&#34;address&#34;</span><span>:</span><span> </span><span>&#34;34 Av. Verdi, 59110 La Madeleine, France&#34;</span><span>,</span><span>
                </span><span>&#34;semanticType&#34;</span><span>:</span><span> </span><span>&#34;TYPE_SEARCHED_ADDRESS&#34;</span><span>,</span><span>
                </span><span>&#34;locationConfidence&#34;</span><span>:</span><span> </span><span>45.081074</span><span>,</span><span>
                </span><span>&#34;calibratedProbability&#34;</span><span>:</span><span> </span><span>45.081074</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;latitudeE7&#34;</span><span>:</span><span> </span><span>506443473</span><span>,</span><span>
                </span><span>&#34;longitudeE7&#34;</span><span>:</span><span> </span><span>30774441</span><span>,</span><span>
                </span><span>&#34;placeId&#34;</span><span>:</span><span> </span><span>&#34;ChIJW0n_oQwqw0cRLSCoT36NyAY&#34;</span><span>,</span><span>
                </span><span>&#34;address&#34;</span><span>:</span><span> </span><span>&#34;147 Rue du Ballon, 59110 La Madeleine, France&#34;</span><span>,</span><span>
                </span><span>&#34;semanticType&#34;</span><span>:</span><span> </span><span>&#34;TYPE_UNKNOWN&#34;</span><span>,</span><span>
                </span><span>&#34;locationConfidence&#34;</span><span>:</span><span> </span><span>7.4105234</span><span>,</span><span>
                </span><span>&#34;calibratedProbability&#34;</span><span>:</span><span> </span><span>7.4105234</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;latitudeE7&#34;</span><span>:</span><span> </span><span>506445560</span><span>,</span><span>
                </span><span>&#34;longitudeE7&#34;</span><span>:</span><span> </span><span>30775986</span><span>,</span><span>
                </span><span>&#34;placeId&#34;</span><span>:</span><span> </span><span>&#34;ChIJy6IzmAwqw0cRyUwotTJRo8M&#34;</span><span>,</span><span>
                </span><span>&#34;address&#34;</span><span>:</span><span> </span><span>&#34;48 Av. Louise, 59110 La Madeleine, France&#34;</span><span>,</span><span>
                </span><span>&#34;semanticType&#34;</span><span>:</span><span> </span><span>&#34;TYPE_UNKNOWN&#34;</span><span>,</span><span>
                </span><span>&#34;locationConfidence&#34;</span><span>:</span><span> </span><span>0.20785488</span><span>,</span><span>
                </span><span>&#34;calibratedProbability&#34;</span><span>:</span><span> </span><span>0.20785488</span><span>
            </span><span>},</span><span>
            </span><span>&#34;/* many others */&#34;</span><span>
        </span><span>],</span><span>
        </span><span>&#34;editConfirmationStatus&#34;</span><span>:</span><span> </span><span>&#34;NOT_CONFIRMED&#34;</span><span>,</span><span>
        </span><span>&#34;locationConfidence&#34;</span><span>:</span><span> </span><span>47</span><span>,</span><span>
        </span><span>&#34;placeVisitType&#34;</span><span>:</span><span> </span><span>&#34;SINGLE_PLACE&#34;</span><span>,</span><span>
        </span><span>&#34;placeVisitImportance&#34;</span><span>:</span><span> </span><span>&#34;MAIN&#34;</span><span>
    </span><span>}</span><span>
</span><span>}</span><span>
</span><span>{</span><span>
    </span><span>&#34;activitySegment&#34;</span><span>:</span><span> </span><span>{</span><span>
        </span><span>&#34;startLocation&#34;</span><span>:</span><span> </span><span>{</span><span>
            </span><span>&#34;latitudeE7&#34;</span><span>:</span><span> </span><span>506452913</span><span>,</span><span>
            </span><span>&#34;longitudeE7&#34;</span><span>:</span><span> </span><span>30765453</span><span>,</span><span>
            </span><span>&#34;sourceInfo&#34;</span><span>:</span><span> </span><span>{</span><span>
                </span><span>&#34;deviceTag&#34;</span><span>:</span><span> </span><span>850787795</span><span>
            </span><span>}</span><span>
        </span><span>},</span><span>
        </span><span>&#34;endLocation&#34;</span><span>:</span><span> </span><span>{</span><span>
            </span><span>&#34;latitudeE7&#34;</span><span>:</span><span> </span><span>506525419</span><span>,</span><span>
            </span><span>&#34;longitudeE7&#34;</span><span>:</span><span> </span><span>30805372</span><span>,</span><span>
            </span><span>&#34;sourceInfo&#34;</span><span>:</span><span> </span><span>{</span><span>
                </span><span>&#34;deviceTag&#34;</span><span>:</span><span> </span><span>850787795</span><span>
            </span><span>}</span><span>
        </span><span>},</span><span>
        </span><span>&#34;duration&#34;</span><span>:</span><span> </span><span>{</span><span>
            </span><span>&#34;startTimestamp&#34;</span><span>:</span><span> </span><span>&#34;2024-03-21T17:42:24Z&#34;</span><span>,</span><span>
            </span><span>&#34;endTimestamp&#34;</span><span>:</span><span> </span><span>&#34;2024-03-21T17:54:24Z&#34;</span><span>
        </span><span>},</span><span>
        </span><span>&#34;distance&#34;</span><span>:</span><span> </span><span>973</span><span>,</span><span>
        </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;WALKING&#34;</span><span>,</span><span>
        </span><span>&#34;confidence&#34;</span><span>:</span><span> </span><span>&#34;HIGH&#34;</span><span>,</span><span>
        </span><span>&#34;activities&#34;</span><span>:</span><span> </span><span>[</span><span>
            </span><span>{</span><span>
                </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;WALKING&#34;</span><span>,</span><span>
                </span><span>&#34;probability&#34;</span><span>:</span><span> </span><span>97.82699942588806</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;IN_TRAM&#34;</span><span>,</span><span>
                </span><span>&#34;probability&#34;</span><span>:</span><span> </span><span>0.5118888337165117</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;IN_PASSENGER_VEHICLE&#34;</span><span>,</span><span>
                </span><span>&#34;probability&#34;</span><span>:</span><span> </span><span>0.27286421973258257</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;CYCLING&#34;</span><span>,</span><span>
                </span><span>&#34;probability&#34;</span><span>:</span><span> </span><span>0.17150864005088806</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;IN_TRAIN&#34;</span><span>,</span><span>
                </span><span>&#34;probability&#34;</span><span>:</span><span> </span><span>0.1608503283932805</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;IN_SUBWAY&#34;</span><span>,</span><span>
                </span><span>&#34;probability&#34;</span><span>:</span><span> </span><span>0.10802004253491759</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;IN_BUS&#34;</span><span>,</span><span>
                </span><span>&#34;probability&#34;</span><span>:</span><span> </span><span>0.08674889104440808</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;RUNNING&#34;</span><span>,</span><span>
                </span><span>&#34;probability&#34;</span><span>:</span><span> </span><span>0.07946699624881148</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;IN_FERRY&#34;</span><span>,</span><span>
                </span><span>&#34;probability&#34;</span><span>:</span><span> </span><span>0.04058652848470956</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;SAILING&#34;</span><span>,</span><span>
                </span><span>&#34;probability&#34;</span><span>:</span><span> </span><span>0.005038841118221171</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;MOTORCYCLING&#34;</span><span>,</span><span>
                </span><span>&#34;probability&#34;</span><span>:</span><span> </span><span>0.0035849196137860417</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;SKIING&#34;</span><span>,</span><span>
                </span><span>&#34;probability&#34;</span><span>:</span><span> </span><span>0.0032918462238740176</span><span>
            </span><span>},</span><span>
            </span><span>{</span><span>
                </span><span>&#34;activityType&#34;</span><span>:</span><span> </span><span>&#34;FLYING&#34;</span><span>,</span><span>
                </span><span>&#34;probability&#34;</span><span>:</span><span> </span><span>9.03989166545216E-4</span><span>
            </span><span>}</span><span>
        </span><span>],</span><span>
        </span><span>&#34;waypointPath&#34;</span><span>:</span><span> </span><span>{</span><span>
            </span><span>&#34;waypoints&#34;</span><span>:</span><span> </span><span>[</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;latE7&#34;</span><span>:</span><span> </span><span>506444816</span><span>,</span><span>
                    </span><span>&#34;lngE7&#34;</span><span>:</span><span> </span><span>30776507</span><span>
                </span><span>},</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;latE7&#34;</span><span>:</span><span> </span><span>506459426</span><span>,</span><span>
                    </span><span>&#34;lngE7&#34;</span><span>:</span><span> </span><span>30749950</span><span>
                </span><span>},</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;latE7&#34;</span><span>:</span><span> </span><span>506460113</span><span>,</span><span>
                    </span><span>&#34;lngE7&#34;</span><span>:</span><span> </span><span>30750701</span><span>
                </span><span>},</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;latE7&#34;</span><span>:</span><span> </span><span>506521911</span><span>,</span><span>
                    </span><span>&#34;lngE7&#34;</span><span>:</span><span> </span><span>30811212</span><span>
                </span><span>},</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;latE7&#34;</span><span>:</span><span> </span><span>506525421</span><span>,</span><span>
                    </span><span>&#34;lngE7&#34;</span><span>:</span><span> </span><span>30805346</span><span>
                </span><span>}</span><span>
            </span><span>],</span><span>
            </span><span>&#34;source&#34;</span><span>:</span><span> </span><span>&#34;INFERRED&#34;</span><span>,</span><span>
            </span><span>&#34;roadSegment&#34;</span><span>:</span><span> </span><span>[</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;placeId&#34;</span><span>:</span><span> </span><span>&#34;ChIJG9zengwqw0cRnoAeiorlC5U&#34;</span><span>,</span><span>
                    </span><span>&#34;duration&#34;</span><span>:</span><span> </span><span>&#34;8s&#34;</span><span>
                </span><span>},</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;placeId&#34;</span><span>:</span><span> </span><span>&#34;ChIJHYTkuwwqw0cRwMDf0gLaefA&#34;</span><span>,</span><span>
                    </span><span>&#34;duration&#34;</span><span>:</span><span> </span><span>&#34;71s&#34;</span><span>
                </span><span>},</span><span>
                </span><span>&#34;/* many others */&#34;</span><span>
            </span><span>],</span><span>
            </span><span>&#34;distanceMeters&#34;</span><span>:</span><span> </span><span>1175.9853099670709</span><span>,</span><span>
            </span><span>&#34;travelMode&#34;</span><span>:</span><span> </span><span>&#34;WALK&#34;</span><span>,</span><span>
            </span><span>&#34;confidence&#34;</span><span>:</span><span> </span><span>0.9999485583582982</span><span>
        </span><span>},</span><span>
        </span><span>&#34;simplifiedRawPath&#34;</span><span>:</span><span> </span><span>{</span><span>
            </span><span>&#34;points&#34;</span><span>:</span><span> </span><span>[</span><span>
                </span><span>{</span><span>
                    </span><span>&#34;latE7&#34;</span><span>:</span><span> </span><span>506459770</span><span>,</span><span>
                    </span><span>&#34;lngE7&#34;</span><span>:</span><span> </span><span>30751483</span><span>,</span><span>
                    </span><span>&#34;accuracyMeters&#34;</span><span>:</span><span> </span><span>6</span><span>,</span><span>
                    </span><span>&#34;timestamp&#34;</span><span>:</span><span> </span><span>&#34;2024-03-21T17:45:19.542Z&#34;</span><span>
                </span><span>}</span><span>
            </span><span>]</span><span>
        </span><span>}</span><span>
    </span><span>}</span><span>
</span><span>}</span><span>
</span></pre></td></tr></tbody></table></code></p></div><p>Here, the gremlins inside Google’s servers have managed to deduce from the periodic location data sent by my phone that I was at <a href="https://www.nexedi.com/">the office</a> for a bit more than a day (I was sleeping in the office bedroom that week), and that I walked somewhere. Indeed, I was on my way to the <a href="https://www.linkedin.com/posts/zenika_rust-lille-6-du-rss-et-de-lecs-jeu-activity-7173262334382063616-tl-b/">sixth edition of the Rust Lille meetup</a>!</p><h2 id="adding-google-fit-to-the-mix"><span>Adding Google Fit to the mix</span><a href="#adding-google-fit-to-the-mix"><i></i></a></h2><p>I also happen to use Google Fit on my phone to track my physical activity. Fit uses the phone’s internal accelerometer and step counter to more accurately track the details of my walks. It uses the GPS like Maps, but more processing is done locally, and the sensors help make more sense of the recorded data.</p><p>I downloaded the Fit data from Takeout, this time it’s in a different format:</p><div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
</pre></td><td><pre><span>$ </span><span>ls</span> | <span>head
</span>2018-10-28T14_30_31.734+01_00_PT22M11.176S_Marche_.tcx
2018-10-31T11_06_19.466+01_00_PT13M22.611S_Marche_.tcx
2018-11-01T19_24_54.616+01_00_PT20M9.73S_Marche à_.tcx
2018-11-03T09_59_04.525+01_00_PT23M3.316S_Marche à.tcx
2018-11-03T11_05_37.903+01_00_PT23M23.153S_Marche_.tcx
...
</pre></td></tr></tbody></table></code></p></div><p>TCX is an <a href="https://fitnesskit.github.io/TcxDataProtocol/">open format</a> for fitness data. It’s a bit more concise than the Location History data:</p><div><p><code><table><tbody><tr><td><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
</pre></td><td><pre><span>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span>&lt;TrainingCenterDatabase</span>
    <span>xmlns=</span><span>&#34;http://www.garmin.com/xmlschemas/TrainingCenterDatabase/v2&#34;</span>
    <span>xmlns:ns2=</span><span>&#34;http://www.garmin.com/xmlschemas/UserProfile/v2&#34;</span>
    <span>xmlns:ns3=</span><span>&#34;http://www.garmin.com/xmlschemas/ActivityExtension/v2&#34;</span>
    <span>xmlns:ns4=</span><span>&#34;http://www.garmin.com/xmlschemas/ProfileExtension/v1&#34;</span>
    <span>xmlns:ns5=</span><span>&#34;http://www.garmin.com/xmlschemas/ActivityGoals/v1&#34;</span>
    <span>xmlns:xsi=</span><span>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> <span>xsi:schemaLocation=</span><span>&#34;http://www.garmin.com/xmlschemas/TrainingCenterDatabase/v2 http://www.garmin.com/xmlschemas/TrainingCenterDatabasev2.xsd&#34;</span><span>&gt;</span>
    <span>&lt;Activities&gt;</span>
        <span>&lt;Activity</span> <span>Sport=</span><span>&#34;Walking&#34;</span><span>&gt;</span>
            <span>&lt;Id&gt;</span>2024-03-21T17:44:50.622Z<span>&lt;/Id&gt;</span>
            <span>&lt;Lap</span> <span>StartTime=</span><span>&#34;2024-03-21T17:44:50.622Z&#34;</span><span>&gt;</span>
                <span>&lt;Track&gt;</span>
                    <span>&lt;Trackpoint&gt;</span>
                        <span>&lt;DistanceMeters&gt;</span>0.0<span>&lt;/DistanceMeters&gt;</span>
                        <span>&lt;Time&gt;</span>2024-03-21T17:44:50.622Z<span>&lt;/Time&gt;</span>
                    <span>&lt;/Trackpoint&gt;</span>
                    <span>&lt;Trackpoint&gt;</span>
                        <span>&lt;DistanceMeters&gt;</span>16.5991829017131<span>&lt;/DistanceMeters&gt;</span>
                        <span>&lt;Time&gt;</span>2024-03-21T17:44:51.050Z<span>&lt;/Time&gt;</span>
                        <span>&lt;Position&gt;</span>
                            <span>&lt;LatitudeDegrees&gt;</span>50.645694732666016<span>&lt;/LatitudeDegrees&gt;</span>
                            <span>&lt;LongitudeDegrees&gt;</span>3.0756449699401855<span>&lt;/LongitudeDegrees&gt;</span>
                        <span>&lt;/Position&gt;</span>
                        <span>&lt;AltitudeMeters&gt;</span>71.0<span>&lt;/AltitudeMeters&gt;</span>
                    <span>&lt;/Trackpoint&gt;</span>
                    <span>&lt;!-- many more --&gt;</span>
                    <span>&lt;Trackpoint&gt;</span>
                        <span>&lt;DistanceMeters&gt;</span>1157.9140959867575<span>&lt;/DistanceMeters&gt;</span>
                        <span>&lt;Time&gt;</span>2024-03-21T17:56:05.043Z<span>&lt;/Time&gt;</span>
                        <span>&lt;Position&gt;</span>
                            <span>&lt;LatitudeDegrees&gt;</span>50.65315246582031<span>&lt;/LatitudeDegrees&gt;</span>
                            <span>&lt;LongitudeDegrees&gt;</span>3.0800328254699707<span>&lt;/LongitudeDegrees&gt;</span>
                        <span>&lt;/Position&gt;</span>
                        <span>&lt;AltitudeMeters&gt;</span>85.20000457763672<span>&lt;/AltitudeMeters&gt;</span>
                    <span>&lt;/Trackpoint&gt;</span>
                    <span>&lt;Trackpoint&gt;</span>
                        <span>&lt;DistanceMeters&gt;</span>1157.9140959867575<span>&lt;/DistanceMeters&gt;</span>
                        <span>&lt;Time&gt;</span>2024-03-21T17:56:06.272Z<span>&lt;/Time&gt;</span>
                    <span>&lt;/Trackpoint&gt;</span>
                <span>&lt;/Track&gt;</span>
                <span>&lt;DistanceMeters&gt;</span>1157.9140959867575<span>&lt;/DistanceMeters&gt;</span>
                <span>&lt;TotalTimeSeconds&gt;</span>675.65<span>&lt;/TotalTimeSeconds&gt;</span>
                <span>&lt;Calories&gt;</span>40.936883866013424<span>&lt;/Calories&gt;</span>
                <span>&lt;Intensity&gt;</span>Active<span>&lt;/Intensity&gt;</span>
                <span>&lt;TriggerMethod&gt;</span>Manual<span>&lt;/TriggerMethod&gt;</span>
            <span>&lt;/Lap&gt;</span>
        <span>&lt;/Activity&gt;</span>
    <span>&lt;/Activities&gt;</span>
    <span>&lt;Author</span> <span>xsi:type=</span><span>&#34;Application_t&#34;</span><span>&gt;</span>
        <span>&lt;Name&gt;</span>Google Fit<span>&lt;/Name&gt;</span>
        <span>&lt;Build&gt;</span>
            <span>&lt;Version&gt;</span>
                <span>&lt;VersionMajor&gt;</span>0<span>&lt;/VersionMajor&gt;</span>
                <span>&lt;VersionMinor&gt;</span>0<span>&lt;/VersionMinor&gt;</span>
                <span>&lt;BuildMajor&gt;</span>0<span>&lt;/BuildMajor&gt;</span>
                <span>&lt;BuildMinor&gt;</span>0<span>&lt;/BuildMinor&gt;</span>
            <span>&lt;/Version&gt;</span>
        <span>&lt;/Build&gt;</span>
        <span>&lt;LangID&gt;</span>en<span>&lt;/LangID&gt;</span>
        <span>&lt;PartNumber&gt;</span>000-00000-00<span>&lt;/PartNumber&gt;</span>
    <span>&lt;/Author&gt;</span>
<span>&lt;/TrainingCenterDatabase&gt;</span>
</pre></td></tr></tbody></table></code></p></div><p>Already there are small differences between Maps and Fit. Maps recorded a single walk activity but Fit cut it in two activities. The previous Fit activity isn’t shown above, but I can tell you Fit thinks I walked 1193 meters while Maps says 1175 meters. We’ll compare both of their datasets below.</p><h2 id="processing-it-with-python"><span>Processing it with Python</span><a href="#processing-it-with-python"><i></i></a></h2><p>I wrote a simple <a href="https://gist.github.com/zdimension/8bf11dd61a6e18f70ddad9f47fdecef6">Python script</a> that parses the JSON, aggregates the data in multiple fun ways, and outputs it to JSON files I can use as charts on this blog (try viewing the page source!).</p><h3 id="measuring-my-walking-speed"><span>Measuring my walking speed</span><a href="#measuring-my-walking-speed"><i></i></a></h3><p>The most obvious measure for a dataset is often the average. As a disclaimer, I filtered walks that indicated a walking speed of more than 15 km/h (I’m not <em>that</em> good of an athlete) and less than 1 km/h (I’m not <em>that</em> slow of a walker).</p><p>Binned and histogrammed, the data looks like this:</p><p>The average measured walking speed is <strong>4.01 km/h</strong> (median 4.03 km/h), that is, close enough to the 5 km/h figure that is often used as a rule of thumb for walking speed for an adult human. High-passing above 2 or 3 km/h (which are realistic speeds for walking) would contribute to make the average closer to 5 km/h.</p><p>The data isn’t perfect by any means, we can see a long tail of fast walks on the right that we can attribute to me running to catch my bus, and a few slow walks on the left that are probably me walking around the house. And that’s without accounting for the fact that the data is only from when I had my phone on me, which is true most of the time but not always. Plus, it’s only what <em>the algorithms</em> have deduced from periodic position data!</p><h3 id="measuring-my-walking-distance-over-time"><span>Measuring my walking distance over time</span><a href="#measuring-my-walking-distance-over-time"><i></i></a></h3><p>Grouping walks by month and summing the distance gives us this lovely chart that I’ve labelled with what I was doing at the time:</p><p><label>I started using Fit in November of 2018, so no data before that.</label></p><p>Here, I’ve grouped batches of 12 months by the academic year they belong to, instead of the calendar year. The rationale is that for those years, my life was mostly structured by the academic year, from September to August.</p><p>I walked a lot in high school, a bit less in prep school, and got to an all-time low in my second year, because of the first COVID lockdown (admittedly I was also skipping a lot of classes in the end of the year) which made us attend the last 3-4 months of class from home.</p><p>Interestingly, Maps and Fit agree for the Prep. Y1 part, but start disagreeing more and more as time passes. I’ve manually compared a few bits of data from both (comparing everything is… a bit hard) and it seems like most of the divergence can be explained by the fact that Maps is unable to measure what I’d call “internal walks”, e.g. walking in my apartment, because the GPS location doesn’t vary much. Fit, on the other hand, can measure those because it uses the phone’s accelerometer and step counter <em>in addition</em> to the GPS.</p><p>This hypothesis is supported by the fact that in first year I lived in a very small apartment, and then in second year there’s the lockdown, and I start walking <em>a lot</em> in a bigger apartment (but that’s still not bit enough for Maps to notice my movements).</p><p>Enter third year and it goes back up a bit, well, until the next lockdown, at the end of October, but this time the whole year was done remotely. Again, Maps and Fit disagree quite a lot here, and I remember that I was walking circles often in my apartment during that year to help me think.</p><p>Fourth and fifth year were pretty normal, and then around half of fifth year I started interning and then this year, working (remotely, so again, disagreement between Maps and Fit).</p><p>We can get a bit more granular and look at the monthly distance walked. Here I’ve labelled specific periods of time that explain some of the peaks and valleys:</p><p><label>Mobile users: consider landscape mode?</label></p>  </div></div>
  </body>
</html>
