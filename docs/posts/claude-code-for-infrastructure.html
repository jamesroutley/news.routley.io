<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.fluid.sh/">Original</a>
    <h1>Claude Code for Infrastructure</h1>
    
    <div id="readability-page-1" class="page"><div data-astro-cid-j7pv25f6=""> <header data-astro-cid-j7pv25f6=""> <div data-astro-cid-j7pv25f6="">  <p data-astro-cid-j7pv25f6="">
Claude Code for infrastructure. Debug, act, and audit
                    everything Fluid does on your infrastructure.
</p> <h2 data-astro-cid-j7pv25f6="">What does that mean?</h2> <p data-astro-cid-j7pv25f6="">
Fluid is a terminal agent that do work on production infrastructure like VMs/K8s cluster/etc. by making sandbox clones of the infrastructure for AI agents to work on, allowing the agents to run commands, test connections, edit files, and then generate Infra-as-code like an Ansible Playbook to be applied on production.
</p> <h2 data-astro-cid-j7pv25f6="">
Why not just use an LLM to generate Infrastructure-as-Code (IaC)?
</h2> <p data-astro-cid-j7pv25f6="">
LLMs are great at generating Terraform, OpenTofu, Ansible, etc. but bad at guessing how production systems work. By giving access to a clone of the infrastructure, agents can explore, run commands, test things before writing the IaC, giving them better context and a place to test ideas and changes before deploying.

                I got the idea after seeing how much Claude Code has helped me work on code, I thought &#34;I wish there was something like that for infrastructure&#34;, and here we are.
</p> <h2 data-astro-cid-j7pv25f6="">
Why not just provide tools, skills, MCP server to Claude Code?
</h2> <p data-astro-cid-j7pv25f6="">
Safety. I didn&#39;t want CC to SSH into a prod machine from where it is running locally (real problem!). I wanted to lock down the tools it can run to be only on sandboxes while also giving it autonomy to create sandboxes and not have access to anything else.

                Fluid gives access to a live output of commands run (it&#39;s pretty cool) and does this by ephemeral SSH Certificates. Fluid gives tools for creating IaC and requires human approval for creating sandboxes on hosts with low memory/CPU and for accessing the internet or installing packages.
</p> <!-- <p class="mt-4 text-neutral-400">
                    Create sandboxes from VMs, investigate, plan, execute,
                    generate Ansible playbooks, and audit everything.
                </p> --> <h2 data-astro-cid-j7pv25f6="">
Installation
</h2> <p data-astro-cid-j7pv25f6="">Note: this is a terminal agent (like Claude Code) meant to be installed on your local laptop/workstation</p> <div data-astro-cid-j7pv25f6=""> <div data-astro-cid-j7pv25f6=""> <p><span data-astro-cid-j7pv25f6="">$ </span>curl -fsSL https://fluid.sh/install.sh |
                            bash
</p> </div> <p><span data-astro-cid-j7pv25f6="">$ </span>fluid
</p> </div>  </div> </header> <main data-astro-cid-j7pv25f6=""> <div data-astro-cid-j7pv25f6=""> <section data-astro-cid-j7pv25f6=""> <h2 data-astro-cid-j7pv25f6="">
Built for where you already work
</h2> <!-- Feature Cards Grid --> <div data-astro-cid-j7pv25f6=""> <!-- Card 1: Sandbox --> <div data-astro-cid-j7pv25f6=""> <div data-astro-cid-j7pv25f6=""> <p>[~]</p> <div data-astro-cid-j7pv25f6=""> <h3 data-astro-cid-j7pv25f6="">Sandbox Isolation</h3> <p data-astro-cid-j7pv25f6="">Clone VMs instantly. Test changes in isolation before touching production.</p> </div> </div> </div> <!-- Card 2: Explore --> <div data-astro-cid-j7pv25f6=""> <div data-astro-cid-j7pv25f6=""> <p>ls</p> <div data-astro-cid-j7pv25f6=""> <h3 data-astro-cid-j7pv25f6="">Context-Aware</h3> <p data-astro-cid-j7pv25f6="">Fluid explores your host first - OS, packages, CLI tools - then adapts.</p> </div> </div> </div> <!-- Card 3: Audit --> <div data-astro-cid-j7pv25f6=""> <div data-astro-cid-j7pv25f6=""> <p>&gt;&gt;&gt;</p> <div data-astro-cid-j7pv25f6=""> <h3 data-astro-cid-j7pv25f6="">Full Audit Trail</h3> <p data-astro-cid-j7pv25f6="">Every command logged. Every change tracked. Review before production.</p> </div> </div> </div> <!-- Card 4: Ansible --> <div data-astro-cid-j7pv25f6=""> <div data-astro-cid-j7pv25f6=""> <p>.yaml</p> <div data-astro-cid-j7pv25f6=""> <h3 data-astro-cid-j7pv25f6="">Ansible Playbooks</h3> <p data-astro-cid-j7pv25f6="">Auto-generates playbooks from sandbox work. Reproducible infrastructure.</p> </div> </div> </div> </div> <!-- Workflow Steps --> <!-- <div class="relative">
                        <h3 class="text-neutral-400 text-sm font-mono mb-4 uppercase tracking-wider">How it works</h3>


                        <div class="hidden md:block absolute top-18 left-0 right-0 h-px bg-neutral-800"></div>
                        <div id="workflow-progress" class="hidden md:block absolute top-18 left-0 h-px bg-linear-to-r from-blue-500 to-blue-400 transition-all duration-1000 ease-out" style="width: 0%;"></div>

                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div class="workflow-step opacity-0 translate-y-4 transition-all duration-500" data-step="1">
                                <div class="relative flex flex-col items-center text-center">
                                    <div class="w-10 h-10 rounded-full bg-neutral-900 border-2 border-neutral-700 flex items-center justify-center mb-3 transition-all duration-300 workflow-dot">
                                        <span class="text-neutral-500 font-mono text-sm transition-colors duration-300">1</span>
                                    </div>
                                    <span class="text-blue-400 font-mono text-sm mb-1">explore</span>
                                    <span class="text-neutral-600 text-xs">Scan host environment</span>
                                </div>
                            </div>


                            <div class="workflow-step opacity-0 translate-y-4 transition-all duration-500" data-step="2">
                                <div class="relative flex flex-col items-center text-center">
                                    <div class="w-10 h-10 rounded-full bg-neutral-900 border-2 border-neutral-700 flex items-center justify-center mb-3 transition-all duration-300 workflow-dot">
                                        <span class="text-neutral-500 font-mono text-sm transition-colors duration-300">2</span>
                                    </div>
                                    <span class="text-blue-400 font-mono text-sm mb-1">plan</span>
                                    <span class="text-neutral-600 text-xs">Build execution strategy</span>
                                </div>
                            </div>

                            <div class="workflow-step opacity-0 translate-y-4 transition-all duration-500" data-step="3">
                                <div class="relative flex flex-col items-center text-center">
                                    <div class="w-10 h-10 rounded-full bg-neutral-900 border-2 border-neutral-700 flex items-center justify-center mb-3 transition-all duration-300 workflow-dot">
                                        <span class="text-neutral-500 font-mono text-sm transition-colors duration-300">3</span>
                                    </div>
                                    <span class="text-blue-400 font-mono text-sm mb-1">execute</span>
                                    <span class="text-neutral-600 text-xs">Run in sandbox</span>
                                </div>
                            </div>

                            <div class="workflow-step opacity-0 translate-y-4 transition-all duration-500" data-step="4">
                                <div class="relative flex flex-col items-center text-center">
                                    <div class="w-10 h-10 rounded-full bg-neutral-900 border-2 border-neutral-700 flex items-center justify-center mb-3 transition-all duration-300 workflow-dot">
                                        <span class="text-neutral-500 font-mono text-sm transition-colors duration-300">4</span>
                                    </div>
                                    <span class="text-blue-400 font-mono text-sm mb-1">export</span>
                                    <span class="text-neutral-600 text-xs">Generate playbook</span>
                                </div>
                            </div>
                        </div>
                    </div> -->  </section> <section data-astro-cid-j7pv25f6=""> <h2 data-astro-cid-j7pv25f6="">Usage</h2> <!-- Timeline container --> <div id="usage-timeline" data-astro-cid-j7pv25f6=""> <!-- Vertical timeline line - grows as items appear -->  <!-- User Prompt - Blue accent -->  <!-- Sandbox Info -->  <!-- OS Detection --> <div data-color="neutral" data-tool="run_command" data-command="cat /etc/os-release" data-astro-cid-j7pv25f6="">  <div data-astro-cid-j7pv25f6=""> <p><span data-astro-cid-j7pv25f6=""></span> <span data-astro-cid-j7pv25f6="">Running: <span data-astro-cid-j7pv25f6="">cat /etc/os-release</span></span> </p>  </div> </div> <!-- Package Update -->  <!-- Install Apache --> <div data-color="neutral" data-tool="run_command" data-command="apt install -y apache2" data-astro-cid-j7pv25f6="">  <div data-astro-cid-j7pv25f6=""> <p><span data-astro-cid-j7pv25f6=""></span> <span data-astro-cid-j7pv25f6="">Running: <span data-astro-cid-j7pv25f6="">apt install -y apache2</span></span> </p>  </div> </div> <!-- Create HTML file --> <div data-color="neutral" data-tool="run_command" data-command="echo &#39;&lt;h1&gt;Hello&lt;/h1&gt;&#39; &gt; /var/www/html/index.html" data-astro-cid-j7pv25f6="">  <div data-astro-cid-j7pv25f6=""> <p><span data-astro-cid-j7pv25f6=""></span> <span data-astro-cid-j7pv25f6="">Running: <span data-astro-cid-j7pv25f6="">echo &#39;...&#39; &gt; /var/www/html/index.html</span></span> </p>  </div> </div> <!-- Service Status --> <div data-color="neutral" data-tool="run_command" data-command="systemctl status apache2" data-astro-cid-j7pv25f6="">  <div data-astro-cid-j7pv25f6=""> <p><span data-astro-cid-j7pv25f6=""></span> <span data-astro-cid-j7pv25f6="">Running: <span data-astro-cid-j7pv25f6="">systemctl status apache2</span></span> </p>  </div> </div> <!-- Verification -->  <!-- Playbook Creation -->  <!-- Playbook Tasks -->  <!-- Final Summary --> <div data-color="green" data-tool="summary" data-astro-cid-j7pv25f6="">  <div data-astro-cid-j7pv25f6=""> <p>Done! Here&#39;s what I accomplished:</p> <div data-astro-cid-j7pv25f6=""> <p><span data-astro-cid-j7pv25f6="">Sandbox Created</span></p><p>- ID: SBX-demo1234</p> <p>- IP: 192.168.122.50</p> </div> <div data-astro-cid-j7pv25f6=""> <p><span data-astro-cid-j7pv25f6="">Apache HTTP Server</span></p><p>- Installed and running</p> <p>- Custom page at /var/www/html/index.html</p> <p>- Verified working with curl</p> </div> <div data-astro-cid-j7pv25f6=""> <p><span data-astro-cid-j7pv25f6="">Ansible Playbook: httpd-setup</span></p><p>The playbook includes 4 tasks:</p> <p>1. Update apt cache</p> <p>2. Install Apache</p> <p>3. Create custom index.html</p> <p>4. Start and enable Apache service</p> </div> <p>
You can run this playbook on any Ubuntu server to reproduce this setup.
</p> </div> </div> </div> </section>   </div> </main> </div></div>
  </body>
</html>
