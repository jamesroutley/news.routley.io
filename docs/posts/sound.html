<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ciechanow.ski/sound/">Original</a>
    <h1>Sound</h1>
    
    <div id="readability-page-1" class="page"><div><p>Invisible and relentless, sound is seemingly just there, traveling through our surroundings to carry beautiful music or annoying noises. In this article I’ll explain what sound is, how it’s created and propagated.</p>
<p>Throughout this presentation you will be hearing different sounds, which you will often play yourself on little keyboards like the one below. <span>You can either click its keys with your mouse or use <kbd>W</kbd><kbd>E</kbd><kbd>R</kbd> keys on your computer keyboard, but before you do so make sure your system volume is at a reasonable level:</span><span>You can press its keys with your fingers, but before you do so make sure your system volume is at a reasonable level. You may also need to unmute your device:</span></p>


<p>We’ll eventually understand how these sounds are created and how they get to your ears, but we have to start by talking about the medium that is most commonly associated with sound – air.</p>

<p>You’re probably aware that at microscopic level air consists of individual, tiny particles. Let’s look at the behavior of those molecules up close. In the demonstration below, I parceled out a tiny cube of air – notice how the molecules freely enter and leave this space. You can drag the cube around to change the viewing angle and you can also control the speed of the flow of time with the slider:</p>


<p>I need to note that this visualization simplifies things a little. The air consists primarily of nitrogen and oxygen – their particles contain two atoms bound together, but for simplicity I’m drawing all molecules as simple spheres.</p>
<p>Each particle of air travels through space with some velocity in a more or less random direction. While some molecules are faster, and some are slower, at room temperature the average velocity of a particle is a staggering <span>1510 ft/s</span><span>460 m/s</span> so to make the particles visible I’m showing their motion <em>significantly</em> slowed down. As a side note, I’m using <span>imperial</span><span>metric</span> units here, but you can <a href="#" onclick="switch_units();return false;">switch</a> to <span>the metric</span><span>the imperial</span> system if you prefer.</p>
<p>With all the commotion in the previous simulation it may have been hard to see that the air particles collide with each other. In the demonstration below, I’m flashing the particles <span><strong>red</strong></span> and making them a little bigger right after they collided. To make these events easier to see you can control the speed of time with the slider:</p>


<p>Naturally, those particles can also collide with other things in the environment. In the simulation below I put up walls around that parcel of air. While at this scale we could also see the individual atoms constituting the walls of the box, I’m not showing them here to make things clearer. The particles of air are bouncing off these sides and every time that happens I’m drawing a little <span><strong>blue glow</strong></span> on the wall:</p>


<p>When an air particle bounces off, it imparts a small force on the wall. Although a single collision doesn’t do that much, with enough particles present the walls experience a constant barrage of collisions which exert expanding <em>pressure</em> on the container. The magnitude of that pressure is the sum of all these forces of impacts divided by the area of the box. Intuitively, for a box of a fixed size, the more particles there are, the heavier they are, and the faster they move, the higher the pressure.</p>
<p>Let’s see what happens if we resize this box a little while keeping the number of particles constant. In the demonstration below, you can drag the slider to change the <span><strong>length</strong></span> of the box, the plot in the bottom tracks the number of collisions <em>per area</em> of the box in a unit of time:</p>


<p>The number of collisions per area, and thus the pressure, increases as we <a href="#" onclick="particles4_f0();return false;">squeeze</a> particles closer together, and it decreases as we <a href="#" onclick="particles4_f1();return false;">let them loose</a>. Remember that we’re observing a significantly slowed down simulation. Because of the speeds involved here, I’m only letting you resize the box at a limited pace. That limitation prevents the walls from moving at enormous speeds, which would create some truly extreme pressure conditions.</p>
<p>It may not be immediately clear, but the experience of pressure is not limited to the walls of the box we built. Molecules in any <em>open</em> region of gas also experience compressing forces exerted by collisions with molecules from the neighboring regions. Those collisions aren’t as neatly aligned in space, but in aggregate it makes no difference if particles are bouncing off a wall or off particles from the neighboring area – the pressure is still there.</p>
<p>All the collisions between particles also have other consequences, but to look at them I need to adjust the scale at which we’ll be looking at – you can do this with a slider below:</p>


<p>The <span><strong>small cube of air</strong></span> from the previous demonstration is now just part of a <span><strong>larger volume</strong></span>. While this <span><strong>large cube</strong></span> is 20 times larger in each dimension, its sides measure only 1 micrometer – a few times smaller than a width of spider silk. Unfortunately, it would be both chaotic to display and taxing to correctly simulate the over 26 million air particles that one could find in this area. Instead, I’ll just visualize the motion of a single molecule as it travels through this space. In the demonstration below, I enlarged that particle to make it visible, you can also control the flow of time with the slider:</p>


<p>Due to collisions with other molecules, it may take a while for this particle to travel a significant distance and get out of this larger volume. You probably experienced this yourself – when someone sprays perfume in a distant part of a room the scent doesn’t instantly get to you. It’s only after some lucky aromatic particles manage to bounce into the vicinity of your nose that you get to experience the smell. If it wasn’t for the collisions with other molecules, those fragrant particles could travel the distance to your nose in a fraction of a second.</p>
<p>The important point is that, while the air particles move very fast, the collisions with other particles keep them mostly contained inside their local area. Over a longer period of time they will eventually all mix up, but at the short timeframes we’ll be interested in here, each reasonably sized parcel of air consists mostly the same particles.</p>
<p>All the microscopic behavior of individual particles we’ve observed ends up contributing to properties of air at larger scales. From this point on, we’ll move past looking at individual molecules and instead we’ll focus on regions of air that more closely match the sizes we’re used to. Those particles are still there, and they’re what actually end up distributing changes in gases, but we need to aggregate a huge collection of the molecules to end up with more discernible motions.</p>
<p>Let’s witness some of this large scale behavior when a section of air in a tube gets pushed on by a moving <span><strong>plate</strong></span>. In the demonstration below, I divided the air next to that <span><strong>circular plate</strong></span> into individual slices, which I’m drawing with thin lines. Although these boundaries are imaginary, they let us see what happens to different sections of air as you move the <span><strong>plate</strong></span> around with the slider:</p>


<p>Notice that the individual parcels of air move only a little from their initial position, but the <em>disturbance</em> caused by the motion of the <span><strong>plate</strong></span> seems to propagate through them with some speed. Moreover, that disturbance moves away from the <span><strong>plate</strong></span> regardless of the direction of the plate’s motion.</p>
<p>If you recall our experiment with a resized cube of air having more or less available space, you’ll notice that a very similar situation happens here inside each slice – this tells us that we’re witnessing some changes in pressure.</p>
<p>Let’s look at this situation from the side, which will make it easier to see how these pressure changes propagate. In the following demonstration I’m coloring each slice of air <span><strong>red</strong></span> when it’s compressed and the <span><strong>pressure increases</strong></span>, and I’m coloring it <span><strong>blue</strong></span> when it’s expanded and the <span><strong>pressure decreases</strong></span>:</p>


<p>When the <span><strong>plate</strong></span> moves to the right, it compresses the air particles in its vicinity, which <span><strong>increases</strong></span> the pressure in this region. Those particles then push and expand into particles in the neighboring slice of air, which then push onto the next slice and so on. All of this results in an area of <span><strong>higher pressure</strong></span> propagating away from the plate.</p>
<p>On the flip side, when the plate moves to the left, it creates an area of depletion, or <em>rarefication</em>, which the neighboring slice of air rushes to fill in. This then <span><strong>reduces the pressure</strong></span> in the vicinity of the next slice and so on. While the slices move towards the receding <span><strong>plate</strong></span>, the pressure <em>disturbance</em> still moves <em>away</em> from the plate.</p>
<p>What we’ve just seen more clearly were <em>pressure waves</em> propagating through the air. When those pressure waves reach our ears we perceive them as <em>sound</em>. By moving the <span><strong>plate</strong></span> we’ve effectively created a very crude speaker that emits sounds as its moving element changes position.</p>
<p>While this simple demonstration helps to build an intuitive understanding of the propagation of pressure waves, the relation between the vibration of the object and the pressure disturbances it generates is much more complicated. We’ll soon explore some of those details, but for now we’ll focus on the relation between the movement of that vibrating element and the sound it produces.</p>

<p>Let’s begin by introducing a simple musical instrument. By pressing a key down, you can request the <span><strong>plate</strong></span> to rapidly change its position. When you let that key go, the plate will move back by the same amount. Notice that each of <span><strong>the</strong></span> <span><strong>three</strong></span> <span><strong>keys</strong></span> moves the plate by a different amount, with <span><strong>red marker</strong></span> showing the total offset:</p>


<p>Despite its simplicity, this device lets us observe a few things. Firstly, a sudden jump of a <span><strong>plate</strong></span> creates a popping sound. It also doesn’t matter if the object has jumped forwards or backwards – the effect sounds the same.</p>
<p>Secondly, the loudness of that pop depends on the magnitude of the jump – the larger the jump the louder the pop.</p>
<p>Finally, this plate can jump forwards or backwards from any position – you can verify this by holding one of the keys and then pressing some other key. That pop sounds exactly the same as the sound created by a standalone key press.</p>
<p>Three pops of different loudness is not much to create music with as this only lets us play some simple beats. You may have tried pressing the buttons as fast as possible to create more upbeat tunes, but there are limits to how fast human fingers can press buttons.</p>
<p>Thankfully, we can ask the device you’re using to repeat the pops at a certain rate. In the demonstration below, you can drag the first slider to change <span><strong>how many times per second</strong></span> the <span><strong>plate</strong></span> should jump forwards and backwards. You can also control <span><strong>how far the plate moves</strong></span> with each jump using the second slider:</p>



<p>To describe the <span><strong>frequency</strong></span> of vibration, I’m using the unit of <a href="https://en.wikipedia.org/wiki/Hertz">hertz</a>, often abbreviated as <strong>Hz</strong> – it describes how many <em>full</em> cycles of motion happen within a single second. For example, a <a href="#" onclick="waveform_sound1_f0();return false;">frequency of 2 Hz</a> means that two full cycles happened in a second which means that the plate moved back and forth <em>and</em> back and forth again.</p>
<p>While at lower frequencies these patterns sound like a rapid series of pops, at higher frequencies these sounds blend together into a discernible note. The most important observation we can make here is that the higher the frequency with which the plate vibrates, the higher the perceived <a href="https://en.wikipedia.org/wiki/Pitch_(music)"><em>pitch</em></a> of the resulting sound is.</p>
<p>You’ve probably observed that at lower rates you could follow the motion of the vibrating <span><strong>plate</strong></span>, but as the frequency increases, it becomes impossible to reliably track its movement. Unfortunately, we’re hitting the limits of frequencies we can easily display on a screen and perceive with our eyes, so from this point on I’ll significantly slow down the motion of the <span><strong>plate</strong></span>. The <em>patterns</em> of motion will still be correct, they’ll just happen at much slower pace so that we can actually see what’s going on.</p>
<p>With that in mind, let’s make our music synthesizer create those very frequent jumps of the <span><strong>plate</strong></span>. We’ll assign a different frequency to each key – you can see them displayed above the keys. I’m also <span><strong>drawing</strong></span> <span><strong>three</strong></span> <span><strong>plots</strong></span> corresponding <span><strong>to</strong></span> <span><strong>each</strong></span> <span><strong>key</strong></span>, and an <span><strong>additional plot</strong></span> showing the <em>cumulative</em> effect of the individual motions.</p>
<p>These plots, or <em>waveforms</em>, represent the motion of the plate as requested by the keys. As the plots pass through the center line they reflect the current position of the plate, but remember that the motions we see here are a few hundred times slower than the actual ones:</p>


<p>Notice that when you press two keys at the same time you can still hear both sounds playing through – we’ve already seen that the final <span><strong>plate</strong></span> movement is just the sum of individual motions that each key requests.</p>
<p>You may also have realized that I’ve shifted the center line of the plate. What we consider a base position of that object is ultimately arbitrary. The keys simply request the plate to move forward or backward and they don’t care from where it’s starting, but having the object oscillate around a well defined origin will be more convenient.</p>
<p>If you look closely at the plots when two keys are pressed, you may have also noticed that there are some areas where one of the keys wants the <span><strong>plate</strong></span> to move forward, while the other wants it to move back. As a result, the <span><strong>plate</strong></span> stays at the same position.</p>
<p>What may be a little surprising is that there is nothing magical about the sound emitted by the <span><strong>plate</strong></span> when two keys are pressed – the emitted sound depends purely on the final movement of the plate. In the demonstration below, I made the <span><strong>third key</strong></span> emit the same pattern of motion as the combination of the <span><strong>first</strong></span> <span><strong>two</strong></span>:</p>


<p>The sound emitted when the <span><strong>third key</strong></span> is pressed is exactly the same as the sound emitted when the <span><strong>first</strong></span> <span><strong>two</strong></span> keys are pressed together. This is a very important observation, as it lets us explore some other patterns of motion that the keys could induce.</p>
<p>We’ll expand on this idea by changing the way in which the <span><strong>plate</strong></span> vibrates. Instead of having it rapidly jump back and forth, we can request the <span><strong>plate</strong></span> to move with constant velocity, following a triangular pattern. Let’s look at that pattern up close. Like other periodic shapes, a triangular waveform can be characterized by its <span><strong>amplitude</strong></span>, <span><strong>frequency</strong></span>, and <span><strong>phase</strong></span>:</p>




<p>In these visual examples the <span><strong>amplitude</strong></span> controls the height of the waveform. The <span><strong>frequency</strong></span> controls the width of the repeating pattern, which affects how many repetitions of the up-and-down triangles can fit inside a single second. The <span><strong>phase</strong></span> just shifts the shape around to change what we consider the beginning of that pattern.</p>
<p>We’ve already seen how the <span><strong>amplitude</strong></span> of the plate’s motion affects the perceived loudness, and this triangular motion is no different. In the demonstration below, all three keys move the plate in the same pattern, only their <span><strong>amplitude</strong></span> is different:</p>


<p>Similarly to the original rectangular pattern, we perceive different frequencies of this triangular motion as different pitches. In the following demonstration, each key has a different frequency as marked by the display in the upper part of the keyboard. The higher the frequency the higher the perceived pitch:</p>


<p>With these more complicated triangular shapes in place it may be a bit harder to understand how all these waveforms add up to form the <span><strong>final plot</strong></span>. Let’s visualize this process step-by-step using a few examples that you can select in the demonstration below. The slider tracks the process of the addition of four different triangular shapes of different <span><strong>amplitude</strong></span>:</p>



<p>Notice that each waveform expresses some shift from the current position. This offset can be <span><strong>positive</strong></span> or <span><strong>negative</strong></span> – I’m visualizing it using small arrows. To add the waveforms we just need to apply these arrows to the existing shape, which we can do by placing the arrows on that shape and then deforming the shape as the arrows demand.</p>
<p>The yellow bars in the bottom part symbolize the <span><strong>amplitude</strong></span> of the specific triangular waveforms at different frequencies. Notice that it’s completely fine for an amplitude to be zero – that element just won’t participate in the creation of the final cumulative waveform.</p>
<p>The last parameter of any periodic function is <span><strong>phase</strong></span>. On its own, <span><strong>phase</strong></span> doesn’t do much for sound, but it may give us some trouble when a phase-shifted shape is combined with another shape of the same frequency. In the demonstration below, all three keys of our synthesizer vibrate at the same frequency and amplitude, but each one is shifted in <span><strong>phase</strong></span> by a quarter of a cycle:</p>


<p>Individually, each of the three keys sounds exactly the same, but once we combine the keys the trouble begins. When the <span><strong>middle key</strong></span> is combined with the <span><strong>left</strong></span> or the <span><strong>right</strong></span> key, the resulting sound is slight louder. However, when the <span><strong>first</strong></span> and <span><strong>last</strong></span> keys combine, their waveforms perfectly cancel each other out causing no plate movement – no sounds gets emitted! We’re experiencing a destructive interference where the peaks of one waveform end up getting cancelled out by the valleys of the other waveform.</p>
<p>Triangular functions were a little more intricate than simple jumps, but nothing prevents us from using completely arbitrary motions. In the top part of the demonstration below, you can <span><strong>draw your own shape</strong></span> of the waveform that defines the vibration of the plate. I then repeat this pattern at frequency prescribed by each keyboard key, letting you hear the result through your speakers:</p>


<p>After playing with different shapes you may have noticed that while they have a different character, they all share a very similar pitch. Different shapes end up creating different <a href="https://en.wikipedia.org/wiki/Timbre"><em>timbre</em></a> which is a property of sound that lets us distinguish different instruments playing the same note.</p>
<p>So far we’ve been building waveforms of increasing complexity, but it’s time we reversed this direction by discussing sinusoidal waves, which form the most fundamental periodic functions.</p>

<p>Let’s try to create a sine wave from scratch. In the demonstration below, you can witness a rotating circle with a small red point marked on it. If we track the vertical position of that point over time we’ll draw a perfect sine wave. While we can assign <span><strong>amplitude</strong></span>, <span><strong>frequency</strong></span>, and <span><strong>phase</strong></span> to any other periodic function, those properties beautifully correspond to radius, speed, and initial angle of the rotating circle that generates this wave:</p>




<p>Let’s see how a sinusoidal vibration of a <span><strong>plate</strong></span> sounds. In the demonstration below, you can experience the whole range of sine waves with different <span><strong>frequencies</strong></span> and <span><strong>amplitudes</strong></span> playing through your speakers. Some of the tones are expected to be impercebtile, so do not adjust your sound volume until you reach the middle <span><strong>frequencies</strong></span>:</p>



<p>You’ve probably noticed that low <span><strong>frequencies</strong></span> start inaudible, and they increase in loudness as the <span><strong>frequency</strong></span> increases. However, as the <span><strong>frequencies</strong></span> go toward the higher end the sound fades away into silence. Although your speaker and audio settings may to some extent contribute to this effect, it’s otherwise perfectly natural – humans can hear in a limited range of frequencies and the perceived loudness changes with frequency.</p>
<p>In the physical world, these pure sine tones are easily generated by striking different <a href="https://en.wikipedia.org/wiki/Tuning_fork">tuning forks</a>, but on this website we have to resolve to making our synthesizer play some of these notes at different <span><strong>frequencies</strong></span>:</p>


<p>Once again, as each key requests the plate to vibrate in a certain way, its <span><strong>final motion</strong></span> is the sum of <span><strong>those</strong></span> <span><strong>individual</strong></span> <span><strong>requests</strong></span>. That addition can sometimes create unexpected effects when the frequencies of played sounds are close to each other, which you can experience in the demonstration below. Notice the frequencies of sounds as shown above the keyboard keys:</p>


<p>When you press two keys at the same time you’ll hear the volume of sound increasing and decreasing in a phenomena known as <a href="https://en.wikipedia.org/wiki/Beat_(acoustics)"><em>beats</em></a>. It’s not your ears misleading you – it’s a real effect caused by the two original frequencies interfering with each other, which you can observe on the plots. This effect can happen with all periodic signals and you can sometimes hear it when sitting in an airplane – the rotation speeds of two engines may not be perfectly synchronized and you can hear the variation in slowly changing volume of the resulting sound.</p>
<p>Similarly to triangular waves, we can fairly easily visualize how the addition of multiple sine waves with different amplitudes, frequencies, and phases creates more complex shapes. In the demonstration below, I’m adding a bunch of these sine waves. You can use the control below to choose the shape we’re creating:</p>



<p>Observe that I’m also using a “special” sine wave with frequency of 0 Hz – it reflects a constant value that is useful to represent waveforms that are, on average, not centered around the baseline. Looking at the construction of these waveforms, we can easily reason that the final shape is actually created by 6 different sine waves with varied amplitude, frequency, and phase.</p>
<p>Instead of adding these sinusoidal basic blocks to create a complicated function, we can, perhaps surprisingly, invert this process and <em>decompose</em> any repeating waveform into its constituent sine waves. Let’s see this in action. In the demonstration below, you can <span><strong>draw the desired shape</strong></span> in the top part and I’ll do my best to express it using the sum of 64 sine waves with increasing frequencies. For clarity, I’ll skip the animations of green and red arrows being added:</p>


<p>In the bottom part I’m once again showing the amplitudes of individual sine waves creating the final shape, but since we have so many of them I just pack their <span><strong>amplitude bars</strong></span> next to each other to create a cumulative plot of amplitudes.</p>
<p>Depending on how the original signal is expressed, this method of decomposing periodic functions into sines is known as <a href="https://en.wikipedia.org/wiki/Fourier_series"><em>Fourier series</em></a> or <a href="https://en.wikipedia.org/wiki/Discrete_Fourier_transform"><em>Fourier transform</em></a>. It lets us deconstruct a waveform expressed as a function of time into a waveform expressed as a collection of individual frequencies that are contained in that waveform.</p>
<p>We can look at any repeating pattern either as a collection of individual values over time <em>or</em> as a collection of distinct sine waves that add up to the same pattern. Both views represent the same shape, they just present it in a different way.</p>
<p>In general, Fourier transform provides us with both amplitude <em>and</em> phase of each contributing sine wave. As we’ve seen, however, human hearing is almost completely agnostic to phase shifts so amplitudes typically provide enough information to express the original shape.</p>
<p>Let me bring in the little waveform decomposer once more, this time I’ll fill it with a square function corresponding to the simple back-and-forth jumps that our plate did initially:</p>


<p>As you <a href="#" onclick="waveform_addition4_f2();return false;">drag the slider to the end</a> you’ll notice that the decomposition of a waveform that rapidly changes values ends up creating ripples in the recreated function in an effect known as <a href="https://en.wikipedia.org/wiki/Gibbs_phenomenon"><em>Gibbs phenomenon</em></a>. Notice, however, that as we add more sines of high frequency the width of that ripply region decreases.</p>
<p>More importantly, this <a href="#" onclick="waveform_addition4_f0();return false;">square pattern</a> that repeats once per second contains in it many sine waves of much higher frequencies. This explains why we were able to hear a plate jumping back and forth once per second – while we can’t hear many of those lower frequencies, we <em>can</em> hear the higher pure tones. A <a href="#" onclick="waveform_addition4_f1();return false;">sine wave at 1Hz frequency</a> contains only a 1Hz signal that we <em>can’t</em> hear.</p>
<p>Let’s look at the frequency spectrum of the things in your environment. In the demonstration below, you can press the button to start using your microphone. I’ll then draw a plot of different frequencies and their amplitudes as heard by the device:</p>

<p>I recommend whistling, or singing <em>“aaaaaa”</em> using lower and higher voice to see different frequencies appear. If you have any musical instruments handy or applications that can recreate their sounds, the resulting diagrams will in many cases also show interesting distributions. More complicated sounds like speech or music will rapidly change their shapes, which reflects their dynamic nature.</p>
<p>When singing or playing your simple notes into the microphone you may have noticed repeating patterns of frequencies – a certain base frequency gets a strong sibling at double, triple, and higher multiples of that initial frequency. These repeating patterns can happen for different reasons, and in the next section I’ll explain how they’re created by some of the simplest vibrating objects.</p>

<p>To explore these vibrations, we’ll start by building a simple system consisting of a <span><strong>small mass</strong></span> attached to <span><strong>two springs</strong></span>. In the demonstration you can move that <span><strong>mass</strong></span> up and down with the slider:</p>


<p>At the small amplitudes of motion we’re considering here, the system oscillates sinusoidally with a certain natural frequency that depends on the mass of the <span><strong>object</strong></span> and the stiffness of the <span><strong>springs</strong></span>. The friction between moving parts and the air resistance causes the oscillations to  die out after a while.</p>
<p>You may have realized that in this simulation the <span><strong>mass</strong></span> moves only up and down, but in principle it could also move left and right. However, these horizontal motions won’t be of much use to us, so we’ll focus purely on the vertical movements.</p>
<p>Let’s add another <span><strong>mass</strong></span> and <span><strong>spring</strong></span> to this system:</p>



<p>Even with this simple setup the behavior of this system can get fairly complicated, including some <a href="#" onclick="string2_f0();return false;">unusual patterns</a> of motion, but all of these scenarios can actually be decomposed into the sum of two much simpler motions.</p>
<p>In the <span><strong>first motion</strong></span> the <span><strong>masses</strong></span> move together in the same direction, and in the <span><strong>other motion</strong></span> the <span><strong>masses</strong></span> move in the <em>opposite</em> directions. In the demonstration below, you no longer control the position of the <span><strong>masses</strong></span>, but instead the <em>amplitudes</em> of those <span><strong>two</strong></span> <span><strong>separate</strong></span> modes:</p>



<p>With careful arrangements, you can recreate the <a href="#" onclick="string3_f0();return false;">interesting motion patterns</a> that this system can create. Notice that the <a href="#" onclick="string3_f1();return false;">second mode</a> oscillates faster than the <a href="#" onclick="string3_f2();return false;">first mode</a>. This should make intuitive sense since the central <span><strong>spring</strong></span> is getting stretched, which adds an additional pulling force to the system.</p>
<p>Any pattern of vertical motion of those two identical <span><strong>masses</strong></span> and three <span><strong>springs</strong></span> can be decomposed into the two <a href="https://en.wikipedia.org/wiki/Normal_mode"><em>normal modes</em></a> that we’ve just looked at. That idea extends to even more complicated systems. In the demonstration below, you can see the five normal modes of a system consisting of five <span><strong>masses</strong></span> and six <span><strong>springs</strong></span>:</p>


<p>As we increase the number of masses and springs to the extreme, each segment starts to resemble a tiny section of a string that has some mass and elasticity. Conceptually, a simple string can be thought of as a system of a huge amount of very small spring-and-mass segments – you can see one in the following demonstration. Let’s look at the first few normal modes of this system:</p>


<p>Since the endpoints of the string can’t move, only certain wave patterns are allowed – no wave shapes that would cause the ends to wiggle up and down can be expressed with this setup. The frequency of the <a href="#" onclick="string5_f0();return false;">first mode</a> is known as the <em>fundamental frequency</em>. Each higher mode has a frequency that is an integer multiple of that base frequency – for instance the <a href="#" onclick="string5_f1();return false;">third mode</a> has three times as high frequency as the fundamental mode. These modes of vibration are known as <a href="https://en.wikipedia.org/wiki/Harmonic"><em>harmonics</em></a>.</p>
<p>Similarly to the more primitive systems, any motion of a string tied to two ends can be decomposed into the sum of these individual motions, each with a different amplitude. These concepts are very similar to the Fourier transform operations we did for the waveform shapes, but this time they’re applied to the shape of a string.</p>
<p>What this all ultimately means is that the motion of a vibrating string is the sum of the individual harmonic modes, each with an arbitrary amplitude, and a prescribed frequency that is a multiple of the fundamental frequency. Let’s see and hear how this manifests in practice. In the demonstration below, you can pluck the string <span>by clicking and dragging over with your mouse</span><span>with your finger</span>:</p>

<p>You may have noticed that the place at which you pluck the string changes the sound it produces – it’s just a result of different ratios of harmonics created by the shape of the plucked string right before it’s released. The extent to which this string can be pulled is quite exaggerated here making it look a little unrealistic, but a <a href="https://youtu.be/LNNQvG0jWtw?t=15">slow-motion capture</a> of a guitar string reveals a very similar behavior.</p>
<p>The fundamental frequency of vibration of a taut string depends on its length, weight, and tension. The shorter the length, the higher the frequency – this is the main reason why a <a href="https://en.wikipedia.org/wiki/Violin">violin</a> has a much higher pitch than a <a href="https://en.wikipedia.org/wiki/Double_bass">double bass</a>.</p>
<p>More importantly, by placing a finger on a string and thus changing its effective length the performer can play different notes using a limited set of strings. In the demonstration below, you can hear the variation in pitch as you drag the slider to change the location of the <span><strong>finger</strong></span> holding down the string:</p>


<p>The thicker the string the more inertia it has and the more difficult it is to move it around, so the frequency of the sound <em>decreases</em> as string gets heavier, or, more specifically, as its <a href="https://en.wikipedia.org/wiki/Linear_density"><em>linear density</em></a> increases. By using strings of different <span><strong>thickness</strong></span> or material, musical instruments can achieve different pitches on strings of roughly the same length – you can play with that parameter in the demonstration below:</p>


<p>Finally, the more taut the string is, the faster it snaps backs back, so a higher tension increases the frequency – by turning the <a href="https://en.wikipedia.org/wiki/Machine_head">tuning pegs</a> of a string instrument one can tweak the fundamental frequency of each string.</p>
<p>On its own, a vibrating string doesn’t move much air and it’s not very loud. To make the sound more pronounced, the motion of the string is transferred to a larger surface to increase the vibrating area and the volume of emitted sound. The shape and materials used in the construction of the body of an instrument strongly contribute to different sound frequencies getting amplified or absorbed.</p>
<p>Our models of springs and masses also extends to other vibrating elements. Membranes of drums form a two dimensional grid of vibrating elements. Tightly packed particles of solids form a three dimensional lattice – its elements also elastically interact with each other, which at larger scales causes cymbals, gongs, and bells to <a href="https://www.youtube.com/watch?v=zVPOL3Wwqbc">vibrate</a> with various natural frequencies that depend on the shape and construction of these instruments.</p>
<p>Some other instruments like flutes or organs rely on a column of air rapidly traveling back and forth through their pipe-like bodies, forming yet another way to make the surrounding air vibrate at certain rates. When we sing, the vocal cords rhythmically open and close creating puffs of air – those also induce pressure disturbances that then travel around.</p>
<p>In the final part of this article we’ll explore how pressure waves get emitted from vibrating objects and how they end up spreading through the air and interacting with the environment.</p>

<p>Let me bring back the vibrating <span><strong>plate</strong></span> inside a tube that we could control directly with a slider:</p>


<p>While easy to understand, the contained nature of this model makes it a little simplified as it doesn’t match the behavior of typical instruments or speakers. To explore more realistic scenarios of sound propagation we’ll firstly use a simple sphere that can inflate and deflate to quickly change its radius – you can think of it as some sort of water-filled balloon that we can rapidly add or remove liquid from. In the demonstration below, you can see an example of that simple pulsing sphere with the slider controlling the <span><strong>frequency</strong></span> of its vibration:</p>


<p>Let’s look at the pressure near the surface of this sphere up close using our method of slicing the air, this time into thin shells surrounding this sphere. At high frequencies of vibration the behavior of the air surrounding the sphere resembles that of the simple plate in a tube, which you can experience in the following demonstration. The slider controls the speed of the <em>animation</em>, which lets you see the details, but the sphere vibrates with the same frequency at all times:</p>


<p>As this sphere finishes expanding, it creates an area of <span><strong>higher pressure</strong></span> near its vicinity. However, at lower frequencies of vibration the situation is a bit different – you can see this in the simulation below. Notice that when the sphere finishes expanding, the <span><strong>pressure decreases</strong></span>. I’m exaggerating the size changes of the sphere to make it more visible:</p>


<p>What we’re witnessing here is the air’s inertia. The initial expansion of the sphere accelerates the neighboring air. When the sphere stops growing, that air still has some velocity so it moves away from the sphere, creating the local <span><strong>rarefaction</strong></span>. Similarly, as the sphere shrinks, the surrounding air starts getting pulled towards it, and it continues to <span><strong>bunch up</strong></span> even after the sphere reaches its smallest size.</p>
<p>The analytical derivation of this behavior is <a href="https://asa.scitation.org/doi/pdf/10.1121/2.0001259">quite complicated</a>, but ultimately the range of frequencies at which these different behaviors occur depends on the size and shape of the vibrating object.</p>
<p>Sphere forms only a simple model of a speaker – a more realistic example would be a vibrating <span><strong>circular plate</strong></span> surrounded by a very large wall:</p>


<p>Similarly to a sphere, the relation between the position of this <span><strong>plate</strong></span> and the resulting pressure also depends on <span><strong>frequency</strong></span> of the sound. However, the sphere was perfectly symmetrical, which made the intensity of the created pressure waves independent of direction. For a vibrating <span><strong>plate</strong></span> some of those symmetries are lost and the intensity of the pressure disturbances also depends on the direction relative to the source:</p>


<p>As you <a href="#" onclick="frequency_shape_f0();return false;">increase</a> the <span><strong>frequency</strong></span> of the sound, the pressure waves focus in the frontal direction. Most commonly, lower frequencies emitted by speakers are much more widespread than higher frequencies. Notice that I also stopped drawing the thin lines separating individual sections of air – we’ll now more realistically assume that the pressure changes without any discrete steps.</p>
<p>As we’ve seen, the distribution of pressure that a vibrating object creates can get a little complicated, but, thankfully, at a reasonable distance, a steady sinusoidal oscillation of the source creates a steady sinusoidal variation in pressure that travels through the air. You can see the “side” view of that pressure variation on the dotted line in the bottom part of the following simulation:</p>


<p>This means that everything related to sinusoidal vibrations of plates like the amplitude, frequency, and phase of their motion also applies to the pressure waves themselves.</p>
<p>While these colorful diagrams made it easier to see how pressure changes propagate through air, they’re unfortunately a little deceptive. Firstly, I’m slowing things down significantly to make the propagation of waves visible, otherwise they’d just zip across your screen in a fraction of a second. At room temperatures the speed of sound in air is around <span>1125 ft/s or 767 mph</span><span>is 343 m/s or 1,235 km/h</span>.</p>
<p>Moreover, the actual pressure variation in sound waves is very small. When a person speaks at a normal volume the pressure increases and decreases by around 0.02 Pascals or around 0.00002% of the atmospheric pressure. The <span><strong>red</strong></span> and <span><strong>blue</strong></span> colors make it look like pressure is changing a lot, but in practice these variations are minuscule – it’s quite astonishing that our ears pick up differences that small.</p>
<p>I also need to note that the pressure simulations we’ve just seen were fairly simplified. The behavior of a typical speaker is more complicated and the way it impacts the surrounding air depends on the speaker’s size, shape, and overall construction.  All of these intricate behaviors may obscure some other phenomena that we’ll discuss, so for the following examples I’ll simplify things a little by using a basic, omnidirectional source of sound, similar to the expanding sphere we’ve used.</p>
<p>In the demonstration below, the <span><strong>blue speaker icon</strong></span> symbolizes that source and the <span><strong>yellow ear icon</strong></span> shows the location at which you can hear things – you can drag the latter around to change where <span><strong>you</strong></span> are:</p>


<p>You may have noticed a few interesting phenomena. Firstly, as <span><strong>you</strong></span> move away from the <span><strong>source</strong></span> it may take some time for the sound to get to you. This effect is just a consequence of the finite speed of sound. While at small distances we don’t notice that delay, it’s easily observed when a lightning bolt strikes and the sound gets to us with a perceptible lag. In this demonstration the distances are also quite large which you can see on the scale in the bottom left corner.</p>
<p>Secondly, the loudness of the sound we hear depends on the distance from the source. With a simple source like this the pressure waves travel away radially. While the waves look like circles in this two dimensional demonstration, in the physical world they form expanding spheres. The amplitude of pressure <strong>p</strong> of these waves is <em>inversely</em> proportional to the distance <strong>r</strong> from the source:</p>
<p>
p ~ <span>
    <span>1</span>
    <span>/</span>
    <span>r</span> 
</span>
</p>
<p>This effectively means that when we double the distance from the source the amplitude of the sound pressure wave gets halved. As we’ve seen a few times with vibrating plates, a change in amplitude of their motion, and thus the change of amplitude of the generated pressure waves, affects how loud a sound sounds.</p>
<p>The difference in magnitude of those pressure variations between loud and quiet sounds can get very large – the amplitude of sound pressure waves from a roaring jet engine is around 10000 times larger than that of a faint whisper. Comparing values using numbers that large would be inconvenient and vague terms like “faint whisper” aren’t particularly well-defined.</p>
<p>To solve these problems the concept of <a href="https://en.wikipedia.org/wiki/Sound_pressure#Sound_pressure_level"><em>sound pressure level</em></a> or <span><strong>SPL</strong></span> gets introduced:</p>
<p><span>SPL</span> = <span>20</span>×<span>log<sub>10</sub></span><span>
    <span>p</span>
    <span>/</span>
    <span>p<sub>0</sub></span>
</span><span>  dB</span>
</p>
<p>Let’s unpack this equation. For reference pressure <span><strong>p<sub>0</sub></strong></span> the commonly used value is 20 µPa, or 20 micro Pascals, since it is considered to be the threshold of human hearing, while <span><strong>p</strong></span> is the average <em>measured</em> pressure for which we’re calculating the <span><strong>SPL</strong></span>.</p>
<p>The <span><strong>logarithm</strong></span> compacts large numbers into much more manageable values. Speaking very roughly, this logarithm is related to the number of digits in the decimal representation of a number – making a number 10 times as large, or, equivalently, adding one more 0 digit to it, increases the value of a <span><strong>base-10 logarithm</strong></span> by 1.</p>
<p>What we’re calculating here is the <span><strong>logarithm</strong></span> of the <em>ratio</em> of the measured pressure <span><strong>p</strong></span> to the reference pressure <span><strong>p<sub>0</sub></strong></span>. All of that is scaled by number <span><strong>20</strong></span>, which gives us the result in units of <a href="https://en.wikipedia.org/wiki/Decibel"><em>decibels</em></a>, often abbreviated as <strong>dB</strong>.</p>
<p>Let’s see how this equation can be used in practice. In the demonstration below, you can change the value of <span><strong>pressure</strong></span> and see how it affects the computed value of <span><strong>sound pressure level</strong></span>:</p>
<p><span>SPL</span> = 20×<span>log<sub>10</sub></span><span>
    <span id="pressure_value">2000 µPa</span>
    <span>/</span>
    <span>20 µPa</span>
</span> = <span id="spl_value">40</span><span> dB</span>
</p>

<p>Recall that doubling distance halves the pressure, which effectively means that every doubling of distances reduces <span><strong>sound pressure level</strong></span> by 6 decibels. On the flip side, using two speakers instead of one also increases the <span><strong>SPL</strong></span> by just 6 decibels. Note that these equations can also be used to compare the <span><strong>SPL</strong></span> of any two sources – for example, if two sounds differ by 20 dB then the amplitude of one is 10 times larger than that of the other.</p>
<p>The perceived loudness of sound very strongly depends on the <span><strong>sound pressure level</strong></span>, however, that loudness also <a href="https://en.wikipedia.org/wiki/Loudness#/media/File:Lindos1.svg">depends on the frequency</a> of the sound – you’ve experienced this when tinkering with the plate moving in a sinusoidal motion. To account for this, the value of pressure amplitude at different frequencies is often <a href="https://en.wikipedia.org/wiki/A-weighting">weighted</a> so that the decibel values match human perception more closely.</p>
<p>It’s also worth mentioning another quantity related to the “amount” of sound – the sound <em>intensity</em> <strong>I</strong> which measures the <em>power</em> of the sound per area. The power of any wave depends on the <em>square</em> of its amplitude, so for simple spherical waves the sound intensity is proportional to the inverse <em>square</em> of the distance in, already <a href="https://ciechanow.ski/lights-and-shadows/#lns_inv_square">mentioned on this blog</a>, inverse square law:</p>
<p>
I ~ <span>
    <span>1</span>
    <span>/</span>
    <span>r<sup>2</sup></span> 
</span>
</p>
<p>Similarly to pressure, one can also define a <a href="https://en.wikipedia.org/wiki/Sound_intensity#Sound_intensity_level">sound <em>intensity</em> level</a>, which expresses the ratio of intensity to a reference intensity.</p>
<p>Another aspect affecting the propagation of sound is <a href="https://en.wikipedia.org/wiki/Acoustic_attenuation">acoustic attenuation</a> caused by e.g. viscosity of air and thermal conduction between its molecules. These interactions cause additional decrease in amplitude of the pressure waves as they move away from the source. Attenuation depends on temperature and humidity of air and it also varies with the frequency of the sound. These effects are fairly complicated so I won’t account for them here.</p>
<p>The last demonstration had one final hidden feature that you may have experienced when simultaneously pressing the keyboard keys <em>and</em> changing your <span><strong>hearing position</strong></span> relative to the <span><strong>speaker</strong></span>. This effect is more commonly experienced when it’s the <span><strong>source</strong></span> of the sound that’s moving relative to the <span><strong>receiver</strong></span>, like in the demonstration below, where you can control the <span><strong>velocity</strong></span> of the <span><strong>speaker</strong></span> using the slider:</p>



<p>Notice that when the <span><strong>speaker</strong></span> moves toward the <span><strong>receiver</strong></span> the pitch increases, and when it moves away from the <span><strong>receiver</strong></span> the pitch decreases in the phenomenon known as <a href="https://en.wikipedia.org/wiki/Doppler_effect">Doppler effect</a> – you’ve probably experienced this in real life when an emergency vehicle with blazing sirens or a motorcycle with a loud engine was passing by.</p>
<p>This effect is easiest to understand by looking at the individual <span><strong>peaks</strong></span> of the sound waves. In the demonstration below, you can control both the <span><strong>flow of time</strong></span> and the <span><strong>velocity</strong></span> of the <span><strong>speaker</strong></span>. The plot at the bottom tracks when the <span><strong>peaks</strong></span> of the sound wave are <span><strong>emitted</strong></span>, and when they’re <span><strong>heard</strong></span> at the center of their respective icons:</p>



<p>The <span><strong>speaker</strong></span> emits the <span><strong>peaks</strong></span> at a certain fixed cadence, which depends on the sound frequency. When a <a href="#" onclick="doppler2_f0();return false;">first peak is emitted</a>, it will take some time for it to get to the <span><strong>receiver</strong></span>. However, as the <span><strong>speaker</strong></span> moves towards the <span><strong>listener</strong></span>, the <a href="#" onclick="doppler2_f1();return false;">next peak</a> will be emitted from a closer distance than the previous one, and it will take it <em>less</em> time to get to the <span><strong>receiver</strong></span> – the <span><strong>receiver</strong></span> will witness the peaks coming in at faster rate, or higher frequency, which we perceive as higher pitch.</p>
<p>When the <span><strong>speaker</strong></span> moves away from the <span><strong>receiver</strong></span>, the situation is reversed – each new peak has to travel a bit longer distance to get to the <span><strong>listener</strong></span>, making the peaks more spread out for the <span><strong>receiver</strong></span> causing the frequency and the pitch to drop.</p>
<p>You can see both of those effects in the plot in the bottom part of the demonstration – the <span><strong>yellow bars</strong></span> get bunched up or loosened up relative to the <span><strong>blue bars</strong></span>, which implies increased or decreased frequency of received sound.</p>
<p>The <span><strong>speaker</strong></span> is completely unaware of what’s going – it just keeps emitting the sounds at the same frequency. However, as the <span><strong>speed</strong></span> of the <span><strong>sound emitter</strong></span> increases, the circles corresponding to the <span><strong>peaks</strong></span> of the waves get bunched up more and more creating more extreme pressure conditions. When the sound-emitting object surpasses the speed of sound it will create a <a href="https://en.wikipedia.org/wiki/Sonic_boom">sonic boom</a>.</p>
<p>Although relative motion created interesting effects, even static conditions may end up forming unexpected phenomena. In the demonstration below, the pure notes played on the keyboard are emitted by <span><strong>two speakers</strong></span> at the same time. You can drag <span><strong>your position</strong></span> around to see how the interaction of pressure waves affects what you hear:</p>


<p>Depending on the location of the <span><strong>receiver</strong></span> the sound level increases and decreases, which we can also see in the diminished intensity of the pressure variations in those areas. This effect is caused by destructive interference of pressure waves from the two speakers – <span><strong>peaks</strong></span> from one speaker cancel out <span><strong>valleys</strong></span> from the other. As long as you have access to a two speaker system you can actually try to <a href="https://www.youtube.com/watch?v=b87QZtYKmqo">replicate that experiment</a>.</p>
<p>Fortunately, different frequencies played by different keys end up having dead spots in different places, too. Since the vast majority of the typical sounds we hear consists of a multitude of different frequencies that constantly change, we don’t experience this loudness variation in more practical scenarios.</p>
<p>It’s important to note that the interference doesn’t permanently destroy the waves as the disturbances merely pass through each other. This should make intuitive sense – when a few people are simultaneously speaking in the same room their speech doesn’t become garbled or faded and we can still understand what they say.</p>
<p>Quite conveniently, all of our experiments so far happened in a vast open space unencumbered by any obstacles. Let’s see what happens if we put a wall in our testing environment:</p>


<p>When you emit a short pulse of sound while <a href="#" onclick="reflection1_f0();return false;">standing far enough</a> from the wall, you’ll hear the originally emitted sound with some delay in a familiar effect known as <em>echo</em>. Notice the distances involved here as shown by the scale in the bottom left corner. When standing <a href="#" onclick="reflection1_f1();return false;">close to the wall</a>, the delay between the original and reflected sound gets very short – when it’s smaller than around 50 ms, our auditory system doesn’t discern these two separate sounds.</p>
<p>You may have noticed that the reflected wave is quieter. While the increased travel distance accounts for some of that reduction, it’s also the wall itself that partially absorbs the energy of the pressure disturbances.</p>
<p>For the last demonstration in this article we’ll move to a completely enclosed space allowing the sound waves to bounce back and forth from the walls. You can change the size of this room using the slider and witness the reflection of sound off the walls:</p>



<p>Even after you stop pressing the keys it may take a while for the sound to die out, because the waves keep reflecting off the walls, losing only some portion of their energy with each bounce. You may have heard this effect known as <a href="https://en.wikipedia.org/wiki/Reverberation"><em>reverb</em></a> in an empty room devoid of any furniture, drapes, or clothes that absorb the pressure waves and heavily attenuate the reflection of sound.</p>

<p><a href="https://www.pearson.com/en-us/subject-catalog/p/science-of-sound-the/P200000006977/9780805385656">The Science of Sound</a> is an entry level, yet very thorough book dedicated to many topics related to sound. The three authors use a minimal amount of math and focus more on higher level descriptions of different phenomena, including perception of sound, musical scales, and audio hardware. The only drawback is the price, but thankfully one can easily find cheaper used copies online.</p>
<p>For further exploration of Fourier Transform and signal processing I highly recommend <a href="https://www.dspguide.com">The Scientist and Engineer’s Guide to Digital Signal Processing</a> by Steven W. Smith. I personally really like the author’s style of patiently explaining things step by step with multiple examples. On top of that, the entire book is available online for free on the author’s website.</p>

<p>Sound waves aren’t limited to gases – they spread through liquids and solids too. However, in daily life almost everything we hear are just minuscule pressure variations of air, which ultimately are just changes in the number and intensity of collisions of individual air particles.</p>
<p>I find it fascinating that the most irritating noises and the most inspiring music are driven by the same phenomena – it’s only the underlying shapes and magnitudes of their pressure waves that make them sound so distinctively different.</p>

    </div></div>
  </body>
</html>
