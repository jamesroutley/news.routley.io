<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.edfloreshz.dev/articles/linux/system76/rust-based-desktop-environment/">Original</a>
    <h1>Exploring System76&#39;s New Rust Based Desktop Environment</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>A few months ago System76 announced that they would be developing a new desktop environment based on the Rust programming language called <strong>COSMIC</strong>.</p>
<p>Their idea is to create a desktop environment that is similar to the one that is currently available for the Pop!_OS operating system, but with a different focus.</p>
<p>System76’s objective is to create something that is faster, more customizable, and free of the limitations of the GNOME desktop environment, and let’s face it, we’re all curious as to how this desktop will look like.</p>
<p>This post will explore how this new desktop environment is shaping up.</p>

<blockquote>
<p>The COSMIC desktop is still a work in progress and is not yet ready for use, most of what you’ll see here is a preview and subject to change.</p>
</blockquote>

<p>As of right now, Pop!_OS uses GNOME Settings app but System76 is hard at work developing a new version of the settings app for the COSMIC desktop using GTK 4, here’s a comparison between the two.</p>
<p><img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/comparison.png" alt="cosmic_settings" title="COSMIC Settings: Left, GNOME Settings: Right"/></p>
<p>Here’s some of the UI changes I noticed:</p>

<h2 id="search">Search</h2>
<p>One of the biggest changes is the search feature, in GNOME Settings, the search bar is available at the top of the navigation view, this is problematic when inside nested menus as the user has to go back to the begining to access it, but in COSMIC it’s available everywhere in the app, no matter how deep inside a menu the user is.</p>
<h3 id="settings-at-a-glance">Settings at a glance</h3>
<p>The search also displays a list of all the settings that match the search criteria and not only where they’re located as GNOME Settings does, this makes it easier to change your settings without having to leave the section you currently are in.</p>
<p><img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/search_comparison.png" alt="search_comparison" title="Search Comparison"/></p>

<p>There is already a working version of Pop Launcher, it’s built using GTK.</p>
<p><img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/new_launcher.png" alt="new_launcher" title="New Launcher"/></p>
<p>The new launcher is fairly similar to the one that is currently available in Pop!_OS.</p>
<p><img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/launcher.png" alt="launcher" title="Current Launcher"/></p>
<p>There aren’t any major changes, but there are some minor ones:</p>
<ul>
<li>The launcher is a bit smaller and more compact.</li>
<li>The launcher selection indicator has a yellow border around it as opposed to the grey one already present in the current launcher.
<img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/launcher_selection.png" alt="launcher_selection" title="Launcher Selection"/></li>
</ul>
<p>I found a small bug where if you selected an application and then return to search something else the launcher would panic, an <a href="https://github.com/pop-os/libcosmic/issues/9">issue</a> has been filled.</p>

<p>Pop!_OS recently received an <a href="https://blog.system76.com/post/670564272872488960/popos-2110-has-landed">update</a> to the App Library where instead of opening in fullscreen, the app is opened in a floating window.</p>
<p><img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/app_library.png" alt="app_library" title="Current App Library"/></p>
<p>COSMIC will also have an app library, but it will be built using GTK.</p>
<p><img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/new_app_library.png" alt="new_app_library" title="New App Library"/></p>
<p>We can notice that the new app library is very similar to the one that is currently available for the Pop!_OS, the only difference I could notice was the use of colored folder icons.</p>
<p>As expected, there are some bugs present and some features missing, after all this is still a work in progress.</p>
<p>I found a small bug where if you try to navigate the app grid with the keyboard, it opens the second app it selects, an <a href="https://github.com/pop-os/libcosmic/issues/8">issue</a> has been filled.</p>

<p>The new dock looks basically the same as the one that is currently available.</p>
<p><img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/new_dock.png" alt="new_dock" title="New Dock"/></p>
<p>There’s no visual difference between the two, we expect them to look and work the same.</p>
<p><img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/dock.png" alt="dock" title="Current Dock"/></p>
<p>Here are some small details that I noticed:</p>
<ul>
<li>Currently it’s only possible to drop icons from the app library to the dock.</li>
<li>Non-favorite applications don’t show up in the dock.</li>
<li>The dock is not expandable to the sides yet.</li>
<li>It is not possible to rearrange the dock icons.</li>
</ul>

<p>The panel has also been rewritten, it’s now built using GTK.</p>
<p><img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/panel.png" alt="panel" title="Current Panel"/></p>
<p>It not currently capable to trigger <code>Workspaces</code> or <code>Applications</code>, but it is capable of displaying a calendar and media controls when clicking the date button, and both of them work.</p>
<p><img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/panel_popup.png" alt="panel_popup" title="Panel Popup"/></p>
<p>The new popup is considerably smaller, but we can expect it to look and work the same as the one that is currently available.</p>
<p>The tray icons and system controls are still missing, but I’m sure they will be added in the future.</p>
<p><img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/current_popup.png" alt="current_popup" title="Current Popup"/></p>
<p>There’s quite a difference between the two, but then again, this is still a work in progress.</p>

<p>System76 is also working on a new compositor, they’re using <a href="https://smithay.github.io/">Smithay</a> for the backend.</p>
<p>I tried running the compositor on a <code>tty</code> session but this behavior isn’t implemented yet, we can, however, see the output of the compositor in a window.</p>
<p><img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/compositor.png" alt="compositor" title="Compositor"/></p>
<p>Once we have this open, we can run any application that we want to test and it opens inside the compositor.</p>
<p><img src="https://blog.edfloreshz.dev/images/articles/linux/system76/rust-based-de/window_render.png" alt="window_render" title="Window Render"/></p>
<p>The settings app opened inside the compositor, every change I made to the settings app was reflected on my OS while running inside the compositor.</p>
<p>I will run every new piece of software System76 is working on and see how it works inside the compositor in the future.</p>
<p>Expect a follow up post soon.</p>

<p>This is the first step towards creating a new desktop environment, there’s no doubt that there are many things that will be improved. this is just the beginning.</p>
<p>I hope that this article gives you an idea of what the future of the COSMIC desktop will be like.</p>
</div></div>
  </body>
</html>
