<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://developer.mozilla.org/en-US/blog/javascript-temporal-is-coming/">Original</a>
    <h1>JavaScript Temporal Is Coming</h1>
    
    <div id="readability-page-1" class="page"><div><main><article lang="en-US"><figure><img alt="JavaScript Temporal is coming title. A JavaScript logo, a clock graphic and a globe with orbiting bodies symbolizing calendars and time." src="https://developer.mozilla.org/en-US/blog/javascript-temporal-is-coming/featured.png" height="420" width="800"/></figure><div><p>Implementations of the new JavaScript Temporal object are starting to be shipped in experimental releases of browsers.
This is big news for web developers because working with dates and times in JavaScript will be hugely simplified and modernized.</p>
<p>Applications that rely on scheduling, internationalization, or time-sensitive data will be able to use built-ins for efficient, precise and consistent dates, times, durations, and calendars.
We&#39;re a long way away from stable, cross-browser support, and there may be changes as implementations develop, but we can already take a look at Temporal as it stands now, why it&#39;s exciting, and what problems it solves.</p>
<p>To help you get up to speed, there are over <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Temporal">270 pages of Temporal docs on MDN</a> added this week, with detailed explanations and examples.</p></div><section aria-labelledby="what_is_javascript_temporal"><h2 id="what_is_javascript_temporal"><a href="#what_is_javascript_temporal">What is JavaScript Temporal?</a></h2><div><p>To understand Temporal, we can look at JavaScript&#39;s <code>Date</code> object.
When JavaScript was created in 1995, the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date"><code>Date</code></a> object was copied from Java&#39;s early, flawed <code>java.util.Date</code> implementation.
Java replaced this implementation in 1997, but JavaScript is stuck with the same API for almost 30 years, despite known problems.</p>
<p>The major issues with JavaScript&#39;s <code>Date</code> object are that it only supports the user&#39;s local time and UTC, and there&#39;s no time zone support.
Additionally, its parsing behavior is very unreliable, and <code>Date</code> itself is mutable, which can introduce hard-to-trace bugs.
There are other problems like calculations across Daylight Saving Time (DST) and historical calendar changes, which are notoriously difficult to work with.</p>
<p>All of these issues make working with dates and times in JavaScript complex and prone to bugs, which can have serious consequences for some systems.
Most developers rely on dedicated libraries like <a href="https://momentjs.com/" target="_blank">Moment.js</a> and <a href="https://date-fns.org/" target="_blank">date-fns</a> for better handling of dates and times in their applications.</p>
<p>Temporal is designed as a full replacement for the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date"><code>Date</code></a> object, making date and time management reliable and predictable.
Temporal adds support for time zone and calendar representations, many built-in methods for conversions, comparisons and computations, formatting, and more.
The API surface has over 200 utility methods, and you can find information about all of them in the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Temporal">Temporal docs on MDN</a>.</p></div></section><section aria-labelledby="core_concepts"><h2 id="core_concepts"><a href="#core_concepts">Core concepts</a></h2><div><p>In Temporal, the key concepts are that it has instants (unique points in history), wall-clock times (regional time), and durations.
The APIs have this overall structure to handle these concepts:</p>
<ul>
<li><strong>Duration</strong>: <code>Temporal.Duration</code> the difference between two points in time</li>
<li><strong>Points in time</strong>:
<ul>
<li><strong>Unique points in time</strong>:
<ul>
<li>As a timestamp: <code>Temporal.Instant</code></li>
<li>A date-time with a time zone: <code>Temporal.ZonedDateTime</code></li>
</ul>
</li>
<li><strong>Time-zone-unaware date/time (&#34;Plain&#34;)</strong>:
<ul>
<li>Full date and time: <code>Temporal.PlainDateTime</code>
<ul>
<li>Just the date: <code>Temporal.PlainDate</code>
<ul>
<li>Year and month: <code>Temporal.PlainYearMonth</code></li>
<li>Month and day: <code>Temporal.PlainMonthDay</code></li>
</ul>
</li>
<li>Just the time: <code>Temporal.PlainTime</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>Now:</strong> using <code>Temporal.now</code> to get the current time as various class instances, or in a specific format</li>
</ul></div></section><section aria-labelledby="temporal_examples"><h2 id="temporal_examples"><a href="#temporal_examples">Temporal examples</a></h2><div><p>Some of the most basic usages of Temporal include getting current dates and times as an ISO string, but we can see from the example below, that we can now provide time zones with many methods, which takes care of complex calculations you may be doing yourself:</p>
<div><pre><code>// The current date in the system&#39;s time zone
const dateTime = Temporal.Now.plainDateTimeISO();
console.log(dateTime); // e.g.: 2025-01-22T11:46:36.144

// The current date in the &#34;America/New_York&#34; time zone
const dateTimeInNewYork = Temporal.Now.plainDateTimeISO(&#34;America/New_York&#34;);
console.log(dateTimeInNewYork);
// e.g.: 2025-01-22T05:47:02.555
</code></pre></div>
<p>Working with different calendars is also simplified, as it&#39;s possible to create dates in calendar systems other than Gregorian, such as Hebrew, Chinese, and Islamic, for example.
The code below helps you find out when the next Chinese New Year is (which is quite soon!):</p>
<div><pre><code>// Chinese New Years are on 1/1 in the Chinese calendar
const chineseNewYear = Temporal.PlainMonthDay.from({
  monthCode: &#34;M01&#34;,
  day: 1,
  calendar: &#34;chinese&#34;,
});
const currentYear = Temporal.Now.plainDateISO().withCalendar(&#34;chinese&#34;).year;
let nextCNY = chineseNewYear.toPlainDate({ year: currentYear });
// If nextCNY is before the current date, move forward by 1 year
if (Temporal.PlainDate.compare(nextCNY, Temporal.Now.plainDateISO()) &lt;= 0) {
  nextCNY = nextCNY.add({ years: 1 });
}
console.log(
  `The next Chinese New Year is on ${nextCNY.withCalendar(&#34;iso8601&#34;).toLocaleString()}`,
);
// The next Chinese New Year is on 1/29/2025 (at the time of writing)
</code></pre></div>
<p>Working with Unix timestamps is a very common use case as many systems (APIs, databases) use the format to represent times.
The following example shows how to take a Unix Epoch timestamp in milliseconds, create an instant from it, get the current time with <code>Temporal.Now</code>, then calculate how many hours from now until the Unix timestamp:</p>
<div><pre><code>// 1851222399924 is our timestamp
const launch = Temporal.Instant.fromEpochMilliseconds(1851222399924);
const now = Temporal.Now.instant();
const duration = now.until(launch, { smallestUnit: &#34;hour&#34; });
console.log(`It will be ${duration.toLocaleString(&#34;en-US&#34;)} until the launch`);
// &#34;It will be 31,600 hr until the launch&#34; &lt;- @js-temporal/polyfill
// &#34;It will be PT31600H until the launch&#34; &lt;- Firefox Nightly
</code></pre></div>
<p>Currently, <code>toLocaleString</code> <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1839694" target="_blank">doesn&#39;t output a locale-sensitive string</a> in the Firefox implementation, so durations above (<code>PT31600H</code>) are returned as a non-locale-sensitive <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Temporal/Duration#iso_8601_duration_format">duration format</a>.
This may change as it&#39;s more of a design decision rather than a technical limitation as <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Temporal/PlainDate/since#using_since">formatting the duration</a> is possible, so the polyfill and Firefox implementations may eventually converge.</p>
<p>There&#39;s a lot to highlight, but one pattern that I thought was interesting in the API is the <code>compare()</code> methods, which allow you to <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Temporal/Duration/compare#sorting_an_array_of_durations">sort durations</a> in an elegant and efficient way:</p>
<div><pre><code>const durations = [
  Temporal.Duration.from({ hours: 1 }),
  Temporal.Duration.from({ hours: 2 }),
  Temporal.Duration.from({ hours: 1, minutes: 30 }),
  Temporal.Duration.from({ hours: 1, minutes: 45 }),
];

durations.sort(Temporal.Duration.compare);
console.log(durations.map((d) =&gt; d.toString()));
// [ &#39;PT1H&#39;, &#39;PT1H30M&#39;, &#39;PT1H45M&#39;, &#39;PT2H&#39; ]
</code></pre></div></div></section><section aria-labelledby="trying_temporal_and_browser_support"><h2 id="trying_temporal_and_browser_support"><a href="#trying_temporal_and_browser_support">Trying Temporal and browser support</a></h2><div><p>Support is slowly starting to be included in experimental browser releases, and Firefox appears to have the most mature implementation at this point.
In Firefox, Temporal is being built into the <a href="https://www.mozilla.org/en-US/firefox/channel/desktop/" target="_blank">Nightly version</a> behind the <code>javascript.options.experimental.temporal</code> preference.
If you want to see the full compatibility story, you can check the (quite epic) <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Temporal#browser_compatibility">Temporal object Browser Compatibility section</a>.</p>
<p>Here are the main browser bugs that track Temporal implementations:</p>
<ul>
<li><strong>Firefox:</strong> <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1912757" target="_blank">Build temporal in Nightly by default</a></li>
<li><strong>Safari:</strong> <a href="https://bugs.webkit.org/show_bug.cgi?id=223166" target="_blank">[JSC] Implement Temporal</a></li>
<li><strong>Chrome:</strong> <a href="https://issues.chromium.org/issues/42201538" target="_blank">Implement the Temporal proposal</a></li>
</ul>
<p>Additionally, you can visit <a href="https://tc39.es/proposal-temporal/docs/" target="_blank">https://tc39.es/proposal-temporal/docs/</a> which has <code>@js-temporal/polyfill</code> available.
That means, you can open the developer tools on the TC39 docs page, and try some of the examples in the console in any browser without changing flags or preferences.</p>
<p>With experimental implementations landing, now is a good time to try out Temporal and become familiar with what will be the modern approach to handling dates and times in JavaScript.</p></div></section><section aria-labelledby="acknowledgements"><h2 id="acknowledgements"><a href="#acknowledgements">Acknowledgements</a></h2><div><ul>
<li>Thanks to <a href="https://meyerweb.com/" target="_blank">Eric Meyer</a> for his work on the topic.
It&#39;s been roughly 4 years since Eric&#39;s efforts to document <a href="https://github.com/mdn/browser-compat-data/pull/10643" target="_blank">browser compatibility data</a> and scaffold the documentation <a href="https://github.com/meyerweb/content/tree/temporal/" target="_blank">in his fork of mdn/content</a>.</li>
<li><a href="https://developer.mozilla.org/en-US/community/spotlight/joshua-chen">Joshua Chen</a> for picking up the torch from Eric and getting a pull request together for <a href="https://github.com/mdn/content/pull/37344" target="_blank">the MDN documentation</a>.</li>
<li><a href="https://bugzilla.mozilla.org/user_profile?user_id=339940" target="_blank">André Bargull</a> for the work on the Firefox Temporal implementation.</li>
</ul></div></section><section aria-labelledby="see_also"><h2 id="see_also"><a href="#see_also">See also</a></h2></section><section><a href="https://developer.mozilla.org/en-US/blog/fix-image-lcp/"><article><h2><strong>Previous<!-- --> Post</strong> <!-- -->Fix your website&#39;s Largest Contentful Paint by optimizing image loading</h2></article></a></section></article></main></div></div>
  </body>
</html>
