<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://discuss.ocaml.org/t/ocaml-5-0-zeroth-alpha-release/10026">Original</a>
    <h1>OCaml 5.0 Alpha Release</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="articleBody">
          <p>Five months after the initial merge of the multicore branch into the mainline OCaml and three months after the release of OCaml 4.14.0, OCaml 5.0.0 is starting to take shape.</p>
<p>I am thus happy to announce an exceptional zeroth alpha release of OCaml 5.0.0 (see below for the installation instructions).</p>
<p>This alpha release is expected to be rougher than an usual alpha release, due to the full rewrite of the OCaml runtime. In particular, the bytecode debugger will only be available in the next alpha release. Similarly, there will be some changes to the internal C runtime API and to the files installed by the compiler package in the next alpha release.</p>
<p>Moreover, this zeroth alpha release is the occasion to remind everyone that OCaml 5.0 itself is expected to be a more experimental release than usual. Notably, the native compiler will only be available on the ARM64 and x86-64 architectures in this 5.0 release.</p>
<p>Nevertheless, this zeroth alpha version is already stable enough for fellow hackers eager to join us in our early bug hunting and opam ecosystem fixing fun, or to venture in the new era of parallelism and (experimental) effects.</p>
<p>You can follow the progresses in stabilising the opam ecosystem on</p>
<p><a href="https://github.com/ocaml/opam-repository/issues/21526">OCaml 5.0 Release Readiness · Issue #21526 · ocaml/opam-repository · GitHub</a></p>
<p>A brief summary is that at least dune, merlin, ppxlib, utop, ocamlfind, and ocamlbuild work (potentially by using patches from the alpha opam repository).</p>
<p>If you find any bugs, please report them here:</p>
<p><a href="https://github.com/ocaml/ocaml/issues">Issues · ocaml/ocaml · GitHub</a></p>
<p>In particular, any sequential OCaml 4 library or program should be valid in OCaml 5 (except for deprecated modules and functions). Please don’t hesitate to report any compatibility bugs!</p>
<p>If you are interested by the ongoing list of bug fixes, the updated change log for OCaml 5.0.0 is available at:</p>
<p><a href="https://github.com/ocaml/ocaml/blob/5.0/Changes">ocaml/Changes at 5.0 · ocaml/ocaml · GitHub</a></p>
<h2>
<a name="installation-instructions-1" href="#installation-instructions-1"></a>Installation instructions</h2>
<p>The base compiler can be installed as an opam switch with the following commands</p>
<pre><code>opam update
opam switch create 5.0.0~alpha0
</code></pre>
<p>For previous version of opam, the switch creation command line is slightly more verbose:</p>
<pre><code>opam update
opam switch create 5.0.0~alpha0 --repositories=default,beta=git+https://github.com/ocaml/ocaml-beta-repository.git
</code></pre>
<p>If you want to tweak the configuration of the compiler, you can switch to the option variant with:</p>
<pre><code>opam update
opam switch create &lt;switch_name&gt; ocaml-variants.5.0.0~alpha0+options &lt;option_list&gt;
</code></pre>
<p>where <code>&lt;option_list&gt;</code> is a comma separated list of <code>ocaml-option-*</code> packages. For instance, for a flambda and no-flat-float-array switch:</p>
<pre><code>opam switch create 5.0.0~alpha0+flambda+nffa ocaml-variants.5.0.0~alpha0+options ocaml-option-flambda ocaml-option-no-flat-float-array
</code></pre>
<p>The command line above is slightly more complicated for an opam version anterior to opam 2.1:</p>
<pre><code>opam update
opam switch create &lt;switch_name&gt; --packages=ocaml-variants.5.0.0~alpha0+options,&lt;option_list&gt; --repositories=default,beta=git+https://github.com/ocaml/ocaml-beta-repository.git
</code></pre>
<p>In both cases, all available options can be listed with <code>opam search ocaml-option</code>.</p>
<p>If you want to test this version, it is strongly advised to install the alpha opam repository</p>


<p>with</p>
<pre><code>opam repo add alpha git://github.com/kit-ty-kate/opam-alpha-repository.git
</code></pre>
<p>This alpha repository contains various fixes in the process of being upstreamed.</p>
<p>The source code for the alpha is also available at these addresses:</p>
<p><a href="https://github.com/ocaml/ocaml/archive/5.0.0-alpha0.tar.gz">https://github.com/ocaml/ocaml/archive/5.0.0-alpha0.tar.gz</a></p>
        </div></div>
  </body>
</html>
