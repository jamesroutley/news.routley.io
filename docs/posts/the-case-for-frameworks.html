<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://seldo.com/posts/the_case_for_frameworks">Original</a>
    <h1>The case for frameworks</h1>
    
    <div id="readability-page-1" class="page"><div><p>Today I read Alex Russell&#39;s post <a href="https://infrequently.org/2023/02/the-market-for-lemons/">The Market for Lemons</a> and I found myself compelled to write a rebuttal. I am a big fan of Alex&#39;s work in general but not of this post in particular, which is very long, so allow me to attempt to summarize it:
</p><ul>
<li>JavaScript-heavy single page apps (SPAs) are very popular
</li><li>The web is mobile-first and Android-dominated
</li><li>JavaScript-heavy apps do not perform well on mobile Android devices
</li><li>We were sold on said JavaScript frameworks by a few noisy individuals
</li><li>They were lying when they said the frameworks were good (the specific analogy drawn is: like oil companies denying climate change)
</li><li>This is terrible, and so are those people
</li><li>We must kick JavaScript frameworks to the curb (specifically: we must throw out both the baby and the bath water)
</li></ul>

<p>This is a song Alex has been singing for a long time and I&#39;m on board with caring about performance and making the web more accessible to more people (especially poorer people with slower devices and worse internet connections). But this post goes way too far in ascribing malice aforethought when the explanation, in my opinion, is an economic one. As is too often the case when Alex gets passionate I feel like he ends up calling developers stupid for being fooled into using frameworks.

</p><p>Disclaimer: I was involved in npm, the world&#39;s repository of open source JavaScript software. I quite like JavaScript, and as a <a href="https://twitter.com/seldo/status/1453094314439942149">mediocre web developer</a> of many years I am a fan of frameworks (we&#39;ll get into why shortly), and dislike being called stupid. Take all of this bias into account when reading the rest of this.

</p><h2>Hawks and Doves</h2>

<p>To understand my explanation I&#39;m afraid I have to delve into <a href="https://en.wikipedia.org/wiki/Evolutionary_game_theory">evolutionary game theory</a> just for a second. You can click through to Wikipedia for a fuller description but simplifying greatly the <a href="https://en.wikipedia.org/wiki/Evolutionary_game_theory#Hawk_dove">Hawk Dove game</a>, first posited by Maynard Smith, imagines a finite world with limited resources and two species. One species, called the hawks, will fight for resources. The other species, called the doves, will share resources. When either species gets resources, they breed, creating more of themselves.

</p><p>A key finding of the game (which you can simulate in software to varying degrees of complexity) is that neither species can &#34;win&#34;. In a population of entirely doves, a single hawk will fight doves and get way more resources, producing more hawks. In a population of almost entirely hawks, two doves will cooperate and do better than the hawks, which waste resources fighting, and there will be more doves soon.

</p><p>In fact the finding is that you can throw in any number of hawks and doves to start with but for a given quantity of resources you will always end up at the same mix of hawks and doves, a point of equilibrium known as an <a href="https://en.wikipedia.org/wiki/Evolutionarily_stable_strategy">evolutionarily stable strategy</a>.

</p><p>All you need to take away from this to understand the argument I&#39;m about to make is that: while a world of doves all cooperating with each other would be nicer, indeed the best possible world, it is not the world you end up with because it is not <b>stable</b>. It only takes a single hawk to show up to throw it out of whack.

</p><p>How this translates to the world of software is: it is my assertion that the world as it exists is a world in a relatively stable equilibrium. Reality is complicated, so there aren&#39;t just two teams of hawks and doves, there are tens of millions of software developers out there, all working relatively independently and in their own best interests with different priorities and resources and trade-offs. The result is the world we see, and despite it being not the best possible world depending on your own priorities, <b>the equilibrium exists for completely rational reasons</b>.

</p><p>So: there is no secret cabal of charismatic influencers destroying what would be a perfect world without them. We cannot blame anybody for the state of things. We created this world ourselves, collectively. If we want to change the status quo, we need to understand the rational forces of self-interest that created it. We have to change the game, not just yell at the players.

</p><h2>Let&#39;s talk about React</h2>

<p>In our world of rational actors in a stable equilibrium <a href="https://jamstack.org/survey/2022/#frameworks-by-usage-and-satisfaction">71% of devs say they are using React</a> for some or most projects and that number has been rising every year for 9 years now, which is when I started tracking these things. So let&#39;s do two things: first let&#39;s stop talking about &#34;JS frameworks&#34; in the abstract: all the frameworks are different, they make different trade-offs and have different performance characteristics. Let&#39;s instead talk concretely about React, the elephant in the room. And the second thing we should do is assume there&#39;s a good reason, and not that developers being bamboozled by liars. What could it be? The answer lies in the economics, I think.

</p><h2>React is popular despite being bad for performance</h2>

<p>I&#39;m absolutely not going to claim that JavaScript-heavy single-page apps are good for performance because they&#39;re not. They are slow to load, slow to render, hog resources and are frequently more fragile than vanilla HTML and CSS would be. Developers of JS frameworks are, I think, pretty open about these limitations, which is part of why server-side rendering is such an important feature in modern frameworks. Most React proponents will tell you that not every website needs to be a React app. I also think developers aren&#39;t stupid, so they know that they are making these trade-offs when they pick React. So why do they?

</p><h2>Single page apps are pretty useful, actually</h2>
<p><img src="https://seldo.com/pictures/2023/my%20apps.png" alt="A grid of app icons, described in the table later in this article"/></p>

<p>Alex makes the astonishing assertion that &#34;vanishingly few scaled sites feature long sessions and login-gated content&#34;. The above, as an anecdote to the contrary, is a screenshot of my start screen on my personal laptop in Firefox; it is roughly speaking a list of my most-visited websites. Ignoring Alpaca, an unreleased side project of mine, all but one are SPAs. Taking the requirements of &#34;long sessions, login gated content&#34;, all but one <b>should</b> be single page apps.


</p><table>
<thead>
<tr>
	<td>App</td>
	<td>Is SPA</td>
	<td>Should be</td>
</tr>
</thead>
<tbody><tr>
	<td>Tumblr</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
<tr>
	<td>Instagram</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
<tr>
	<td>Chase</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
<tr>
	<td>GMail</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
<tr>
	<td>Zillow</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
<tr>
	<td>Pinafore</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
<tr>
	<td>LinkedIn</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
<tr>
	<td>Google Maps</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
<tr>
	<td>Google Sheets</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
<tr>
	<td>Slides.com</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
<tr>
	<td>Netlify</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
<tr>
	<td>Questionable Content</td>
	<td>No</td>
	<td>No</td>
</tr>
<tr>
	<td>Google Drive</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
<tr>
	<td>Mode Analytics</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
<tr>
	<td>Bamboo HR</td>
	<td>Yes</td>
	<td>Yes</td>
</tr>
</tbody></table>

<p>This is just one data point and proves nothing. Instead take a look at the <a href="https://www.similarweb.com/top-websites/">top 100 sites by traffic</a> and consider how many have long sessions and login-gated content. Certainly the long tail of websites in the world is probably mostly static, but the big sites -- where all the development dollars are spent -- are overwhelmingly rich, complex sites. <b>The money is in rich apps</b>, not because the money is being wasted, but because the content and services people pay for are highly personalized and dynamic, where rich apps shine.

</p><h2>React saves developer time</h2>
<p><img src="https://seldo.com/pictures/2023/complexity.png" alt="A roughly drawn graph. Using a bespoke solution starts out with low effort but grows linearly as complexity increases. Frameworks start out with greater effort but the effort grows much more slowly with complexity, making frameworks eventually less work than bespoke solutions"/></p>

<p>This is sometimes described as &#34;developer experience&#34; but from an economic standpoint, <b>money doesn&#39;t care how the developer experiences anything, money cares how fast they work</b>. Any framework obviously takes more time to get started than a simple static site, but I think it&#39;s uncontroversial to claim that over time, a framework like React is going to save your developers time: that&#39;s what frameworks are invented to do. Let&#39;s be clear why that is, though.

</p><h2>React has already been used to solve your problem</h2>

<p>This is the primary technical benefit of any framework: it has been used many times to solve problems of great complexity, usually greater than anything you need to do. So you&#39;re not asking &#34;is there a way to do this?&#34; you&#39;re asking &#34;what is the way to do this?&#34; And more often than not, the <b>solution is easy to find</b> because somebody has written documentation, or a blog post, or an open-source component that does it. Frameworks have compounding returns this way: the more people who use them, the better they get. 

</p><p>That network effect is part of why React, regardless of its technical merits, is currently the best choice for a host of basic applications: the React ecosystem will get you 80% of the way there with pre-built solutions and well-documented boilerplate. You can concentrate on the things that make your app different. And this brings us to another big reason.

</p><h2>You can hire people who already know React</h2>

<p>When 71% of the developer population is already using React, hiring for React developers becomes easier, and from an economic standpoint that is a huge advantage. Finding developers is expensive, on-boarding developers is expensive, retaining developers is expensive. A React developer is easier to find, a developer who already knows React requires less on-boarding, and a developer using a framework they enjoy (and they know they can use elsewhere) is happier, so React developers are easier to retain.

</p><h2>React&#39;s performance hit loses customers</h2>

<p>But all of this developer time saved and convenience comes at a cost: performance. A React app is, as Alex never tires of pointing out, problematic at best on mobile and even more so on a low-power Android device. At the margins, the effect is going to be lost customers. People will either be unable to use a site at all, or find the experience so painful that they&#39;ll churn. This is bad! Losing customers is always bad... right?

</p><h2>Developer time is more valuable than some customers</h2>

<p>This brings us back to the Hawk Dove game. Our hawks are developers, greedily sucking up browser resources to save themselves time. The doves are customers, meekly trying to load a website and hoping it will run. If the developers were allowed to use all the resources, the site would run for nobody -- an all hawk population. But on the other hand, if the website were designed to run perfectly for every single customer, in every location, on every device, then the developers would spend their entire time in optimization work and never ship anything new.

</p><h2>The status quo is an equilibrium between developer and customer experience</h2>

<p>Which brings us to the reality. Developers are expensive. Their salaries are paid, ultimately, by customers. But not all customers are equally valuable. The less money a customer is likely to pay, the more likely it is to be worth to sacrifice their experience in favor of quickly shipping some feature that will, at the margins, attract or retain some other, wealthier customer.

</p><p>The brutal truth is that the status quo reflects the economics of the developer market: expensive developers mean cutting off poorer customers. The observed reality is that modern web development sacrifices the experience of poorer people, and the model we&#39;ve laid out here explains why that is: X &gt; Y, where X is &#34;cost of developer time&#34; and Y is &#34;cost of customers lost&#34;.

</p><h2>Shifting the point of equilibrium</h2>

<p>But this is bad! Here Alex and I have always agreed. We want an open, accessible, world wide web. We want as many people as possible to have a great experience. But simply saying it&#39;s bad won&#39;t help. To shift the equilibrium, we need to change something about the equation. The variables I can see are:
</p><ul>
<li>The cost of developer time (we&#39;d want it to go down)
</li><li>The amount of developer time required (also better if lower)
</li><li>The value of the customers lost (if higher, this would shift to losing fewer of them)
</li></ul>

<p>How do we tackle this? Is there something that makes developers cheaper? Is there something that makes developers faster? Is there something that makes customers richer?

</p><h2>The solution is more frameworks, better frameworks</h2>

<p>The answer is frameworks. They&#39;re not solving the problem perfectly, but the nature of the Hawk Dove game is that it&#39;s impossible to get the ideal world. But making frameworks better works on all three fronts:
</p><ul>
	 <li>Making frameworks <b>easier to learn</b> means more people can become developers, and increasing the supply of developers will make development cheaper
	 </li><li>Making frameworks <b>richer</b> means more of the work is done by the framework, so you need less time to build the same level of functionality
	 </li><li>Making frameworks <b>technically better</b> pushes the equilibrium as well, by giving developers better efficiency for &#34;free&#34;, thus expanding the number of customers who can access the site on the same devices. Relatively speaking, the customers get &#34;richer&#34;.
</li></ul>

<p>And that&#39;s why frameworks are the dominant development paradigm. They don&#39;t work against users, making their experience bad. Economics is what makes their experience bad. Frameworks in their frantic, endlessly competitive push to make developers faster, better and more numerous are working tirelessly on the behalf of users, making their experience better, and making developers better too.

</p><h2>Why not a more efficient framework than React?</h2>

<p>This brings us to the final question: if we&#39;re sold that frameworks in general are a good thing, why is React in particular dominant right now? There are delightfully light and performant frameworks and Alex lists several of them in his many extensive frameworks. Alex isn&#39;t against <b>all</b> frameworks, just the big heavy ones, React being overwhelmingly dominant and Next.js being the biggest framework within React.

</p><p>But I think we&#39;ve already answered the question. React has huge network effects: a long history, many solved edge-cases, a huge developer base, an enormous ecosystem of drop-in solutions. If you want to get rid of React&#39;s inefficiency you can&#39;t just be more efficient (because of Hawks and Doves, it just doesn&#39;t matter enough). <b>You have to be better at something that makes developers faster</b>, and it has to be a LOT faster to overcome the network effects. No framework has hit that threshold yet, but that doesn&#39;t mean it won&#39;t happen.

</p><h2>You&#39;re doing just fine</h2>

<p>In the meantime, my fellow developers, don&#39;t feel stupid. You have not had the wool pulled over your eyes by a cabal of fast talkers. You&#39;ve been making sensible decisions in the best interests of yourself <b>and your users</b> in the aggregate, and you don&#39;t need to feel like you&#39;re a bad person for using the popular frameworks. They are popular because they are a damn good idea.</p></div></div>
  </body>
</html>
