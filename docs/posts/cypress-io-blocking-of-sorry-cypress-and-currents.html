<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://currents.dev/posts/v13-blocking">Original</a>
    <h1>Cypress.io Blocking of Sorry Cypress and Currents</h1>
    
    <div id="readability-page-1" class="page"><div><div><p><b>TL;DR</b></p><p>Cypress.io decided to block Currents and Sorry Cypress.</p><p><strong>We are suspending our support of integration with Cypress starting from version 13</strong>.<!-- --></p><p>Meanwhile, we are exploring options for providing an independent, safe and stable solution.</p><p>We will continue to support older versions of Cypress and provide assistance to the affected customers. Please contact our support channels for details.</p><p>We are seeing massive adoption of Playwright as the preferred testing framework. If you are interested in migrating your workflows to Playwright, we will be happy to be your partner during and after the transition.</p><p>We sincerely apologize for the interruption of your workflows and any
inconvenience caused by those events.</p><p>See the <!-- --><a href="#technical-analysis">Technical Analysis</a> below.<!-- --></p></div>
<!-- --><p>Starting September 27, 2023, Sorry Cypress users and Currents customers started seeing the following message while trying to use one of our tools:</p>
<!-- --><blockquote>
<!-- --><p>We&#39;ve detected that you&#39;re using a 3rd party library that is not supported by Cypress: cypress-debugger. To continue running Cypress, please remove this library or reach out for help migrating.</p>
<!-- --></blockquote>
<!-- --><p>The message is accompanied by a link to a <!-- --><a href="https://www.cypress.io/blog/2023/09/25/defense-intellectual-property/">blog post</a>:<!-- --></p>
<!-- --><figure><p><span><span><img alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%271850%27%20height=%272430%27/%3e"/></span><img alt="Cypress.io Blog Post, September 25, 2023, https://www.cypress.io/blog/2023/09/25/defense-intellectual-property/" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic"/></span></p><figcaption>Cypress.io Blog Post, September 25, 2023, https://www.cypress.io/blog/2023/09/25/defense-intellectual-property/</figcaption></figure>
<!-- --><p>Cypress.io leadership mentions multiple topics without being specific: what plugins are being blocked, what are the criteria for blocking the plugins, and what are the third parties involved?</p>
<!-- --><p>I had a few guesses, let me share them with you. Here&#39;s a list of currently blocked plugins.</p>
<!-- --><ul>
<!-- --><li><code>cypress-cloud</code></li>
<!-- --></ul>
<!-- --><p>It is a plugin that allows running Cypress tests in parallel and recording test results to alternative services like Sorry Cypress and Currents, skipping Cypress Cloud.</p>
<!-- --><ul>
<!-- --><li><code>@deploysentinel/cypress-parallel</code></li>
<!-- --></ul>
<!-- --><p>Is a fork of <!-- --><code>cypress-cloud</code> used by DeploySentinel (see below) to integrate with their recording dashboard.<!-- --></p>
<!-- --><ul>
<!-- --><li><code>@deploysentinel/cypress-debugger</code></li>
<!-- --></ul>
<!-- --><p>In the summer of 2022, a small YC (S22) company DeploySentinel released an innovative <!-- --><a href="https://www.deploysentinel.com/blog/debug-failing-cypress-tests-in-ci#install-deploysentinel-cypress-debugger-plugin">DeploySentinel Cypress Debugger Plugin</a> - the plugin allowed capturing everything that&#39;s happening in Cypress runs and later replay it using a cloud dashboard. The plugin is very helpful for troubleshooting failing CI tests. DeploySentinel also provided orchestration and parallelization by running a managed Sorry Cypress instance.<!-- --></p>
<!-- --><ul>
<!-- --><li><code>cypress-debugger</code></li>
<!-- --></ul>
<!-- --><p>Inspired by DeploySentinel and Playwright Traces, Currents created a similar tool, available under <!-- --><code>cypress-debugger</code> umbrella. The plugin doesn&#39;t require access to any dashboard - it is standalone, open-source and free to use. It creates a &#34;trace&#34; file that you can store on your CI-attached storage and later replay in a browser (<!-- --><a href="https://cypress-debugger.dev">https://cypress-debugger.dev</a>), similar to how Playwright Traces work.<!-- --></p>
<!-- --><p>Bottom line - those packages undermine Cypress.io&#39;s attempts to monetize the ecosystem, and thus are being blocked. See the full list of the blocked plugins in the <!-- --><a href="#technical-analysis">Technical Analysis</a>.<!-- --></p>
<!-- --><h2 id="reasons-behind-the-blocking">Reasons Behind the Blocking<!-- --><a aria-hidden="true" tabindex="-1" href="#reasons-behind-the-blocking"><span></span></a></h2>
<!-- --><p>Given the list of blocked plugins, it is now clear what parties Cypress.io leadership is referring to. The disclosure of not being able ‚Äúto reach an agreement‚Äù is surprising, given that the mere existence of such attempts is usually covered by non-disclosure agreements.</p>
<!-- --><p>Cypress is truly a great product - it revolutionized frontend development and testing, focusing on developers&#39; experience and ease of use. Cypress has gained popularity and support, it leveraged the open-source angle in its distribution model, public messaging and marketing strategies.</p>
<!-- --><p>Although Cypress, the tool, reached great adoption, Cypress.io, the company, needs to better monetize its ‚Äúfree‚Äù users to meet their financial goals. The economic climate, combined with major shifts in the testing industry escalated the urge to act and triggered a series of private and public actions. Not all of those actions are &#34;ethical business practice&#34;.</p>
<!-- --><p>Sorry Cypress and Currents&#39; never intended to derail Cypress.io, its investors or employees. Instead, we have been focusing on helping our customers and users, using the modest resources we have.</p>
<!-- --><p>Sorry Cypress is a community project built independently over 4 years by ~50 contributors. Currents is the commercial evolution of it, built solely based on our customers&#39; requests and community feedback. We share our free tools (<!-- --><a href="https://www.npmjs.com/package/cypress-debugger">cypress-debugger</a>, <!-- --><a href="https://www.npmjs.com/package/cypress-cloud">cypress-cloud</a>) with the community, using the MIT-licensed Cypress app as a platform.<!-- --></p>
<!-- --><p>We‚Äôve been keeping companies within Cypress ecosystem, preventing migration to alternative frameworks. We barely advertised our services - each of those companies and individuals had a reason to use an alternative. We‚Äôve gained support from open-source enthusiasts, businesses, Cypress Ambassadors, and, surprisingly, even Cypress.io employees.</p>
<!-- --><h2 id="currents-response">Currents Response<!-- --><a aria-hidden="true" tabindex="-1" href="#currents-response"><span></span></a></h2>
<!-- --><p>We realize that the current way of integrating with Cypress as a platform is no longer feasible. It creates uncertainty for our users and customers, a toxic, counter-productive tension for all involved.</p>
<!-- --><p><strong>Currents will suspend supporting its integration with Cypress starting from version 13.</strong></p>
<!-- --><p>We will continue supporting the previous versions of Cypress and will help our customers to adjust to that change.</p>
<!-- --><p>Meanwhile, we are exploring options for providing a stable, independent and safe solution that doesn&#39;t provoke Cypress.io and ensures long-term peace of mind for our supporters and customers.</p>
<!-- --><p>We sincerely apologize to the affected customers and users. We met many of you personally, listened to your feedback, and hopefully, were able to help you and your organization. We will assist the affected customers with adjusting to the change. Please contact our support channels for details.</p>
<!-- --><p>We also want to use this opportunity to highlight our integration with Playwright üé≠. Many companies are already looking to switch or are in the process of adopting Playwright. We will be happy to be your partner during and after the transition, assisting in migrating your workflows to Playwright or alternative solutions.</p>
<!-- --><h2 id="technical-analysis">Technical Analysis<!-- --><a aria-hidden="true" tabindex="-1" href="#technical-analysis"><span></span></a></h2>
<!-- --><h3 id="intro">Intro<!-- --><a aria-hidden="true" tabindex="-1" href="#intro"><span></span></a></h3>
<!-- --><p>Cypress.io already tried to implement technical blocking - first by <!-- --><a href="https://docs.cypress.io/guides/references/changelog#11-0-0">adding integrity checks</a>, then by <!-- --><a href="https://news.ycombinator.com/item?id=36162007">improving network security</a>. Later there were attempts to monetize Sorry Cypress via <!-- --><a href="https://go.cypress.io/continue-recording-with-gateway-connector">Cypress Cloud Gateway Connector</a>. Now they are explicitly blocking our plugins.<!-- --></p>
<!-- --><p>As a background - Cypress installation has 2 components:</p>
<!-- --><ul>
<!-- --><li>an npm package - a lightweight NodeJS wrapper that parses command line flags, downloads and runs a platform-specific Electron binary application.</li>
<!-- --><li>Electron application - platform-specific binary code, it is hosted on Cypress.io CDN, usually pre-installed and cached on docker images.</li>
<!-- --></ul>
<!-- --><p>The blocking is &#34;injected&#34; into the compiled binary app during the build process.</p>
<!-- --><h3 id="affected-distributions">Affected Distributions<!-- --><a aria-hidden="true" tabindex="-1" href="#affected-distributions"><span></span></a></h3>
<!-- --><p>As of Oct 04, 2023, only <!-- --><code>linux</code> distributions for versions <!-- --><code>13.2.0+</code> are affected. That&#39;s the most popular platform for CI environments. You can reproduce our finding by running Cypress with one of the packages installed in a docker container.<!-- --></p>
<!-- --><h3 id="blocking-implementation">Blocking Implementation<!-- --><a aria-hidden="true" tabindex="-1" href="#blocking-implementation"><span></span></a></h3>
<!-- --><h4 id="affected-npm-packages">Affected NPM packages<!-- --><a aria-hidden="true" tabindex="-1" href="#affected-npm-packages"><span></span></a></h4>
<!-- --><p>At launch, Cypress scans the contents of the local <!-- --><code>node_modules</code> directory, looking for specific packages:<!-- --></p>
<!-- --><pre><code>- @deploysentinel/cypress-debugger
- @deploysentinel/cypress-parallel

- cypress-debugger
- @currents/cypress-debugger-support
- @currents/cypress-debugger-plugin

- cypress-cloud
- cypress-debug
- cypress-vscode
</code></pre>
<!-- --><p>If any of those packages is present in the local <!-- --><code>node_modules</code> directory, regardless of being used, Cypress will halt the execution.<!-- --></p>
<!-- --><h4 id="local-filesystem-packages">Local Filesystem Packages<!-- --><a aria-hidden="true" tabindex="-1" href="#local-filesystem-packages"><span></span></a></h4>
<!-- --><p>In addition, Cypress reads <!-- --><code>package.json</code> of the <!-- --><strong>direct filesystem dependencies defined as <!-- --><code>file:/</code></strong>. For example:<!-- --></p>
<!-- --><pre><code>&#34;packageName&#34;: &#34;file:/path/to/local/package&#34;
</code></pre>
<!-- --><p>Cypress will read its <!-- --><code>package.json</code> <!-- --><code>author</code> field and block if the value is:<!-- --></p>
<!-- --><ul>
<!-- --><li><code>DeploySentinel</code></li>
<!-- --><li>or <!-- --><code>Currents Software Inc</code></li>
<!-- --></ul>
<!-- --><h4 id="blocked-configuration-files">Blocked Configuration Files<!-- --><a aria-hidden="true" tabindex="-1" href="#blocked-configuration-files"><span></span></a></h4>
<!-- --><p>Additionally, Cypress will not work if you have a <!-- --><code>currents.config.*</code> file in the project&#39;s root directory.<!-- --></p>
<!-- --><h3 id="tech-analysis-summary">Tech Analysis Summary<!-- --><a aria-hidden="true" tabindex="-1" href="#tech-analysis-summary"><span></span></a></h3>
<!-- --><p>The sole presence of those dependencies or files in your project will trigger the error with an offer to &#34;migrate&#34;.</p>
<!-- --><p>The blocking is not very comprehensive technically - it wouldn‚Äôt take much effort to pass. But as mentioned, we‚Äôd rather focus on a long-term and safe solution.</p>
<!-- --><hr/>
<!-- --><p><small><p>All third-party trademarks and materials (including logos, icons, marks and
labels) referenced herein are the property of their respective owners.</p></small></p></div></div>
  </body>
</html>
