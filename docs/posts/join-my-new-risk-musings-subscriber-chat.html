<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://riskmusings.substack.com/p/join-my-new-risk-musings-subscriber">Original</a>
    <h1>Join my new Risk Musings subscriber chat</h1>
    
    <div id="readability-page-1" class="page">





<p>a more powerful, ultra fast, user-friendly, compatible grep
</p><p><a target="_blank" href="https://github.com/Genivia/ugrep/releases">ugrep release 4.4.1</a>

</p><div>
<div>
<p>ugrep installs on
</p><ul>
<li>MacOS: <code><a target="_blank" href="https://formulae.brew.sh/formula/ugrep">brew</a> install ugrep</code>
</li><li>Windows: <code><a target="_blank" href="https://learn.microsoft.com/en-us/windows/package-manager/">winget</a> install Genivia.ugrep</code>
</li><li>Windows: <code><a target="_blank" href="https://community.chocolatey.org/packages/ugrep">choco</a> install ugrep</code>
</li><li>Windows: <code><a target="_blank" href="https://scoop.sh">scoop</a> install ugrep</code>
</li><li>Alpine: <code>apk add ugrep ugrep-doc</code>
</li><li>Android Termux: <code>pkg install ugrep</code>
</li><li>Arch: <code>pacman -S ugrep</code>
</li><li>CentOS: <code>dnf install ugrep</code>
</li><li>Debian: <code>apt-get install ugrep</code>
</li><li>Fedora: <code>dnf install ugrep</code>
</li><li>FreeBSD: <code>pkg install ugrep</code>
</li><li>NetBSD: <a target="_blank" href="http://cdn.netbsd.org/pub/pkgsrc/current/pkgsrc/textproc/ugrep/README.html">download textproc/ugrep</a>
</li><li>OpenSUSE: <code>zypper install ugrep</code>
</li><li>RHEL: <code>dnf install ugrep</code>
</li><li>Other:
<pre>git clone <a target="_blank" href="https://github.com/Genivia/ugrep">https://github.com/Genivia/ugrep</a>
cd ugrep
./build.sh # build ug and ugrep in ugrep/bin
sudo make install # install as desired
</pre>
</li></ul>
<p>how fast is ugrep?
</p><ul>
<li><a target="_blank" href="https://github.com/Genivia/ugrep-benchmarks">Benchmarks</a>: ugrep is one of the fastest grep
</li><li>New <a href="#index">file indexer</a> to speed up cold FS search
</li></ul>
</div>
<div>
<p><img src="https://ugrep.com/ug.png" alt="ugrep screenshot with TUI"/></p><p>Search with a <a href="#TUI">TUI</a> (shown) or from the command line with grep-compatible options.  You can also <a href="#Google">Google search</a> (shown) and <a href="#fuzzy">fuzzy search</a> your files.  Search (nested) zip/tar/pax/cpio <a href="#zip">archives, tarballs and compressed files</a>, search and <a href="#binary">hexdump binary</a>, search PDF, doc, docx, and much more.
</p></div>
</div>

<a name="commands"> </a>
<h2>Commands</h2>

<p>Search for patterns in files with the <code>ug</code> and <code>ugrep</code> commands, where

</p><dl>
<dt>ug</dt>                     <dd>uses a .ugrep configuration file with your preferences located in the working directory or in your home directory;</dd>
<dt>ug --save-config <i>OPTIONS</i></dt>
                                <dd>saves a new .ugrep file in the working directory using the current .ugrep configuration and by copying the relevant <tt><i>OPTIONS</i></tt> (if any) to the new .ugrep file</dd>
<dt>ugrep</dt>                  <dd>same as <code>ug</code>, but does not use a .ugrep configuration file: <code>ugrep</code> works best in shell scripts;</dd>
</dl>

<p>Examples:

</p><dl>
<dt>ug <i>PATTERN</i></dt>
                                <dd>recursively search for files matching <tt><i>PATTERN</i></tt></dd>
<dt>ug <i>PATTERN</i> <i>FILE</i></dt>
                                <dd>search lines in <tt><i>FILE</i></tt> matching <tt><i>PATTERN</i></tt></dd>
<dt>ug <i>PATTERN</i> <i>DIR</i></dt>
                                <dd>search files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt>, excluding sub-directories (like <code>ls DIR</code> takes a <tt><i>DIR</i></tt> to list)</dd>
<dt>ug -r <i>PATTERN</i> <i>DIR</i></dt>
                                <dd><a href="#constraints">recursively search</a> files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt>, excluding symlinks</dd>
<dt>ug -rS <i>PATTERN</i> <i>DIR</i></dt>
                                <dd><a href="#constraints">recursively search</a> files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt>, <a href="#constraints">including symlinks to files</a> (option <tt>-S</tt>), but not to directories</dd>
<dt>ug -R <i>PATTERN</i> <i>DIR</i></dt>
                                <dd><a href="#constraints">recursively search</a> files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt>, including symlinks to files and directories</dd>
<dt>ug -3 <i>PATTERN</i> <i>DIR</i></dt>
                                <dd><a href="#constraints">recursively search</a> files in <tt><i>DIR</i></tt> matching <tt><i>PATTERN</i></tt> as <tt>-r</tt>, but up to 3 levels, i.e. <tt><i>DIR/</i></tt>, <tt><i>DIR/one/</i></tt>, and <tt><i>DIR/one/two/</i></tt></dd>
<dt>ug --save-config --ignore-files --no-tree</dt>
                                <dd>save a .ugrep configuration file that obeys <a href="#constraints">.gitignore file exclusions</a> in recursive searches and turns <a href="#pretty">directory tree output</a> off</dd>
<dt>ug -%% -j -w -Q</dt>
                                <dd>recursively <a href="#Google">Google search files</a> (option <tt>-%%</tt>) with <a href="#modes">smart ignore case</a> (option <tt>-j</tt>) regex patterns matching <a href="#modes">words</a> (option <tt>-w</tt>) in the interactive query <a href="#TUI">TUI</a> (option <tt>-Q</tt>)</dd>
</dl>

<ol>
<li>the regex pattern syntax supports standard <a href="#regex">POSIX ERE</a> by default, like GNU <code>egrep</code>, but also adds syntax to support Unicode by default
</li><li>patterns match Unicode and may include newline breaks <tt>\n</tt> and <tt>\R</tt> to match multiple lines as a single match
</li><li>quote <tt><i>&#34;PATTERN&#34;</i></tt> or <tt><i>&#39;PATTERN&#39;</i></tt> to prevent globbing of the pattern by the shell that may expand <tt>*</tt>, <tt>?</tt> and <tt>[a-z]</tt> into pathnames
</li><li><i>Windows Command Prompt</i> does not parse <tt>&#39;</tt> to quote patterns; you must use <tt>&#34;</tt> instead
</li><li><i>Windows PowerShell</i> does not parse <tt>&#34;&#34;</tt> (empty pattern); you must specify <tt>--match</tt> instead
</li><li>an empty pattern <tt>&#34;&#34;</tt> matches every line, same as option <tt>--match</tt>
</li><li>multiple <tt><i>FILE</i></tt> and <tt><i>DIR</i></tt> pathname arguments may be specified as search targets; if none are provided, the working directory is recursively searched
</li><li>standard input is searched if standard input is not a terminal, such as a pipe redirect
</li></ol>

<a name="options"> </a>
<h2>Options</h2>

<p>Ugrep is compatible with GNU grep and supports GNU grep command-line options.  But ugrep also offers new options and features.  In general, command-line options can be mixed and specified in any order.  Long options <tt>--<i>OPTION</i></tt> may start with <tt>--no-<i>OPTION</i></tt> to disable them.  All short options have long alternatives.  This page shows short options for the most part.  Specify <tt>--stats</tt> to output a final summary search report of options, patterns, and search statistics.

<a name="list"> </a>
</p><h3>List matching files</h3>

<dl>
<dt>-l</dt>                     <dd>list matching files</dd>
<dt>-L</dt>                     <dd>list non-matching files</dd>
<dt>-c</dt>                     <dd>count matching lines in files</dd>
<dt>-cv</dt>                    <dd>count non-matching lines in files; option <tt>-v</tt> inverts pattern matching</dd>
<dt>-cu</dt>                    <dd>count all pattern matches by ungrouping multiple matches from lines (option <tt>-u</tt>)</dd>
<dt>-cm1,</dt>                  <dd>count matching lines in files, but skip files with zero matches (include the comma in <tt>-m1,</tt>)</dd>
</dl>

<ol>
<li>if you never want <tt>-c</tt> to output zero match counts, then add <tt>min-count=1</tt> to your ~/.ugrep file (outputing zero match counts is a GNU grep behavior)
</li><li>to disable directory tree-based listings, specify <tt>--no-tree</tt> or permanently add <tt>no-tree</tt> to your ~/.ugrep file
</li><li>listings are sorted by name; to sort by date/time or by size, specify <tt>--sort=changed</tt> or <tt>--sort=size</tt>
</li></ol>

<a name="match"> </a>
<h3>Displaying matches, match info, match context</h3>

<dl>
<dt>-H</dt>                     <dd>always output the filename; normally, a filename is not output when searching a single specified file</dd>
<dt>-n</dt>                     <dd>output the line number of a match</dd>
<dt>-k</dt>                     <dd>output the column number of a match</dd>
<dt>-b</dt>                     <dd>output the byte offset of a match</dd>
<dt>-u</dt>                     <dd>ungroup multiple matches from lines to count and output each match separately</dd>
<dt>-C3</dt>                    <dd>output matching lines with 3 lines as context before (option <tt>-B3</tt>) and after (option <tt>-A3</tt>)</dd>
<dt>-y</dt>                     <dd>output matching lines with the rest of the file as context (<tt>--any-line</tt> or <tt>--passthru</tt>)</dd>
<dt>-o</dt>                     <dd>output only the matching part</dd>
<dt>-o -C20</dt>                <dd>output only the matching part with the matching line as context before (option <tt>-B20</tt>) and after (option <tt>-A20</tt>) to fit 40 characters</dd>
<dt>--width</dt>                <dd>truncate lines to the terminal window width; <tt>--width=40</tt> truncates to 40 characters</dd>
</dl>

<a name="modes"> </a>
<h3>Pattern matching modes</h3>

<dl>
<dt>-F</dt>                     <dd>search for matching strings, not regex patterns, like GNU <code>fgrep</code>
</dd><dt>-G</dt>                     <dd>BRE pattern syntax, like GNU <code>grep</code> or <code>grep -G</code>
</dd><dt>-P</dt>                     <dd>Perl regex pattern search with PCRE, see also <a href="#regex"><tt>ug --help regex</tt></a></dd>
<dt>-U</dt>                     <dd>non-Unicode ASCII/binary search like GNU grep; patterns such as <tt>\xa3</tt> match a byte, not the U+00a3 multi-byte code point</dd>
<dt>-Y</dt>                     <dd>empty-matching patterns such as <tt>x*y*z*</tt> match all lines like GNU grep, instead of returning useful matches</dd>
<dt>-i</dt>                     <dd>ignore case in matching patterns</dd>
<dt>-j</dt>                     <dd>smart ignore case, enables <tt>-i</tt> when patterns are specified in lower case</dd>
<dt>-w</dt>                     <dd>patterns must match as words and not be part of words</dd>
<dt>-x</dt>                     <dd>patterns must match whole lines from start to end</dd>
<dt>-v</dt>                     <dd>invert pattern matching; output lines that do not match</dd>
<dt>-e <i>PATTERN</i></dt>      <dd>explicitly specify <tt><i>PATTERN</i></tt>; <tt>-e</tt> is used to specify multiple patterns and when specifying a pattern after the <tt><i>FILE</i></tt> argument</dd>
<dt>-N <i>PATTERN</i></dt>      <dd>do not match <tt><i>PATTERN</i></tt> when combined with <tt>-e</tt>; for example <tt>-e &#34;[0-9]+&#34; -N &#34;0+&#34;</tt> matches nonzero numbers</dd>
<dt>-f <i>FILE</i></dt>         <dd>read (additional) patterns from <tt><i>FILE</i></tt></dd>
<dt>-f cpp/names</dt>           <dd>if <tt>cpp/names</tt> is not a local file, then read built-in C++ name-matching patterns (installed in <tt>/.../share/ugrep/patterns/cpp/names</tt>)</dd>
</dl>

<a name="TUI"> </a>
<h3>The interactive TUI</h3>

<dl>
<dt>-Q</dt>                     <dd>start TUI to specify search patterns and options interactively</dd>
<dt>-Q -e <i>PATTERN</i></dt>   <dd>start TUI and search for <tt><i>PATTERN</i></tt></dd>
</dl>

<ol>
<li>additional options, files and directories can be specified on the command line to start the TUI search
</li><li><em>ALT-key</em> toggles the option letter corresponding to the key press, for example <em>ALT-L</em> lists matching files (option <tt>-l</tt>) and <em>SHIFT-ALT-C</em> shows context (option <tt>-C3</tt>)
</li><li>navigate to directories and files with <em>Tab</em>, then <em>SHIFT-Tab</em> to go back and restore previous options and patterns (if changed)
</li><li>use the cursor keys, <em>PgUp</em>, <em>PgDn</em> and the scroll wheel to scroll the search results
</li><li><em>CTRL-S</em> jumps to the next directory or file in the results, <em>CTRL-W</em> jumps back
</li><li><em>CTRL-T</em> toggles the split screen file viewer; option <tt>--split</tt> starts the TUI with the split screen
</li><li><em>CTRL-Y</em> displays a file in a pager
</li><li><em>CTRL-Z</em> displays help and the active search options
</li></ol>

<a name="Google"> </a>
<h3>Googling files</h3>

<dl>
<dt>-% &#34;foo bar&#34;</dt>           <dd>search files for lines matching both regex patterns <tt>foo</tt> and <tt>bar</tt> anywhere on the same line</dd>
<dt>-F -% &#34;*foo* bar?&#34;</dt>     <dd>search files for lines matching both fixed (option <tt>-F</tt>) strings <tt>*foo*</tt> and <tt>bar?</tt> anywhere on the same line</dd>
<dt>-% &#34;foo -bar&#34;</dt>          <dd>search files for lines matching pattern <tt>foo</tt> that do not match <tt>bar</tt> anywhere on the same line</dd>
<dt>-% &#34;foo bar|baz&#34;</dt>       <dd>search files for lines matching both patterns <tt>foo</tt> and <tt>bar|baz</tt> (<tt>bar OR baz</tt>) anywhere on the same line</dd>
<dt>-% &#34;foo -(bar|baz)&#34;</dt>    <dd>search files for lines matching pattern <tt>foo</tt> that do not match <tt>bar|baz</tt> anywhere on the same line</dd>
<dt>-% &#34;foo -bar -baz&#34;</dt>     <dd>same as above (normalized form)</dd>
<dt>-% &#39;foo &#34;-bar&#34;&#39;</dt>        <dd>search files for lines matching both patterns <tt>foo</tt> and <tt>-bar</tt>, where <tt>&#34;-bar&#34;</tt> is quoted to match literally &#34;as is&#34;</dd>
<dt>-%% &#34;foo bar&#34;</dt>          <dd>find files matching both patterns <tt>foo</tt> and <tt>bar</tt> anywhere in the same file (<tt>-%%</tt> is the same as <tt>--bool --files</tt>)</dd>
<dt>-%% &#34;foo -bar&#34;</dt>         <dd>find files matching pattern <tt>foo</tt> that do not match <tt>bar</tt> anywhere in the same file (<tt>-%%</tt> is the same as <tt>--bool --files</tt>)</dd>
</dl>

<ol>
<li>option <tt>-%</tt> can be combined with any <a href="#modes">pattern matching modes</a> <tt>-F</tt>, <tt>-G</tt>, <tt>-P</tt>, <tt>-Z</tt> and other options
</li><li>white space is a logical <tt>AND</tt> (lowest precedence)
</li><li>a <tt>|</tt> is a logical <tt>OR</tt> (taking higher precedence than <tt>AND</tt>)
</li><li>white space followed by a <tt>-</tt> is a logical <tt>NOT</tt> (taking highest precedence)
</li><li>quote strings in a pattern with <tt>&#34;</tt> to match literally
</li><li>group patterns with <tt>( )</tt> parentheses
</li><li>the logical operators <tt>AND</tt>, <tt>OR</tt> and <tt>NOT</tt> may also be used, when spaced apart, for example <tt>-% &#34;foo AND NOT (bar OR baz)&#34;</tt>
</li><li>the default search mode is <tt>--lines</tt> to match lines; option <tt>--files</tt> switches the search mode to find files<!-- (also <tt>-%%</tt> specifies both options <tt>--files -%</tt> since 4.3.2) -->
</li></ol>

<a name="fuzzy"> </a>
<h3>Fuzzy search</h3>

<dl>
<dt>-Z</dt>                     <dd>approximately match patterns up to one extra, missing or replaced character in the input</dd>
<dt>-Z2</dt>                    <dd>approximately match patterns up to two extra, missing or replaced characters in the input</dd>
<dt>-Z+2</dt>                   <dd>approximately match patterns up to two extra characters in the input</dd>
<dt>-Z-2</dt>                   <dd>approximately match patterns up to two missing characters in the input</dd>
<dt>-Z~2</dt>                   <dd>approximately match patterns up to two replaced characters in the input</dd>
<dt>-Z+-2</dt>                  <dd>approximately match patterns up to two extra or missing characters in the input</dd>
<dt>-c -Z</dt>                  <dd>count approximate matches in files</dd>
<dt>-c -Zbest2</dt>             <dd>count <tt>-Z2</tt> approximate matches in files, but only keep the best matches, i.e. if a file has at least one exact match, then only exact matches are counted</dd>
<dt>-c -Zbest2 --sort=best</dt> <dd>count the best approximate matches in files and sort by best matching files per directory</dd>
</dl>

<ol>
<li>the first character or characters that make up a pattern always match; to approximately match the first character(s), replace it with a <tt>.</tt> or <tt>.?</tt>
</li><li>no whitespace may be given between <tt>-Z</tt> and its argument
</li></ol>

<a name="zip"> </a>
<h3>Archives and compressed files</h3>

<dl>
<dt>-z</dt>                     <dd>also search zip/tar/pax/cpio archives, tarballs and gz/Z/bz/bz2/lzma/xz/lz4/zstd/brotli compressed files</dd>
<dt>-z --zmax=2</dt>            <dd>also search archives, tarballs and compressed files stored within archives (max 2 levels)</dd>
<dt>-z -I --zmax=2</dt>         <dd>same as above, but ignore binary files and also those in (nested) archives and compressed files</dd>
<dt>-z -tc,cpp</dt>             <dd>search C and C++ source code files and also those in archives, see also <a href="#types"><tt>ug -tlist</tt></a> for a list of file types</dd>
<dt>-z -g&#34;*.txt,*.md&#34;</dt>      <dd>search files matching the globs <tt>*.txt</tt> and <tt>*.md</tt> and also those in archives, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>-z -g&#34;^bak/&#34;</dt>           <dd>exclude all <tt>bak</tt> directories from the search and skip those in archives, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
</dl>

<a name="binary"> </a>
<h3>Binary files and devices</h3>

<dl>
<dt>-I</dt>                     <dd>ignore binary files and exclude them from searches</dd>
<dt>-W</dt>                     <dd>hexdump the binary matches, keeping text matches as is</dd>
<dt>-X</dt>                     <dd>hexdump all matches</dd>
<dt>-UX</dt>                    <dd>hexdump with 8-bit binary patterns instead of Unicode character-based patterns (option <tt>-U</tt>)</dd>
<dt>--hexdump=4a</dt>           <dd>hexdump in 4 columns and output a <tt>*</tt> for hex lines that are identical to the previous line (<tt>a</tt>)</dd>
<dt>--hexdump=4ch</dt>          <dd>hexdump in 4 columns, no character column (<tt>c</tt>), no hex spacing (<tt>h</tt>)</dd>
<dt>--hexdump=4aC3</dt>         <dd>hexdump in 4 columns with 3 hex lines of context before and after (<tt>C3</tt> or <tt>B3A3</tt>)</dd>
<dt>-Dread</dt>                 <dd>also read special devices to search them; danger: can get stuck on a non-responsive device!</dd>
</dl>

<a name="constraints"> </a>
<h3>Exclusions and inclusions</h3>

<dl>
<dt>-I</dt>                     <dd>ignore binary files and exclude them from searches</dd>
<dt>-p</dt>                     <dd>never follow symlinks, even when specified on the command line</dd>
<dt>-r</dt>                     <dd>search recursively without following symlinks</dd>
<dt>-rS</dt>                    <dd>search recursively following symlinks to files, but not to directories (option <tt>-S</tt>)</dd>
<dt>-R</dt>                     <dd>search recursively following symlinks to files and directories</dd>
<dt>-.</dt>                     <dd>include hidden files in searches; normally, hidden files are excluded from searching</dd>
<dt>-tc,cpp</dt>                <dd>only search C and C++ source code files, see also <a href="#types"><tt>ug -tlist</tt></a> for a list of file types</dd>
<dt>-Ohpp,cpp</dt>              <dd>shorthand for <tt>-g&#34;*.hpp,*.cpp&#34;</tt> with filename extension globs to search <tt>.hpp</tt> and <tt>.cpp</tt> files</dd>
<dt>-g&#34;*.hpp,*.cpp&#34;</dt>        <dd>only search <tt>.hpp</tt> and <tt>.cpp</tt> files with the specified glob patterns, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>-g&#34;src/&#34;</dt>               <dd>only recursively search <tt>src</tt> directories with the specified glob pattern ending in a <tt>/</tt> for directories, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>-g&#34;^*.txt,^bak/&#34;</dt>       <dd>do not search <tt>.txt</tt> files and <tt>bak</tt> directories with the specified negated glob patterns, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>--iglob=&#34;^*.txt,^bak/&#34;</dt> <dd>same as above, but with case-insensitive glob matching (option <tt>--glob-ignore-case</tt> applies to all globs)</dd>
<dt>-K10,99</dt>                <dd>only search files from line 10 up to and including line 99</dd>
<dt>-m1</dt>                    <dd>output only the first matching line</dd>
<dt>-m2,9</dt>                  <dd>only search files with at least two matching lines and output up to and including 9 matching lines</dd>
<dt>-m2,9 -u</dt>               <dd>only search files with at least two matches and output up to and including 9 matches</dd>
<dt>-3</dt>                     <dd>recursively search up to three directory levels deep, i.e. <tt><i>one/</i></tt>, <tt><i>one/two/</i></tt>, and <tt><i>one/two/three/</i></tt></dd>
<dt>-2-3</dt>                   <dd>only recursively search sub-directories at two to three levels deep, i.e. <tt><i>one/two/</i></tt>, and <tt><i>one/two/three/</i></tt></dd>
<dt>--ignore-files</dt>         <dd>obey .gitignore file exclusions in recursive searches</dd>
<dt>--exclude-fs=<i>PATH</i></dt>
                                <dd>do not search the file system associated with <tt><i>PATH</i></tt> (a mounted directory or mount point)</dd>
<dt>--include-fs=.</dt>         <dd>only search the file system associated with <tt>.</tt> (here the working directory is the mount point <tt><i>PATH</i></tt>)</dd>
<dt>--exclude-from=<i>FILE</i></dt>
                                <dd>do not search the files and directories specified as globs in <tt><i>FILE</i></tt>, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>--include-from=<i>FILE</i></dt>
                                <dd>only search the files and directories specified as globs in <tt><i>FILE</i></tt>, see also <a href="#globs"><tt>ug --help globs</tt></a></dd>
<dt>--filter=<i>&#34;COMMANDS&#34;</i></dt>
                                <dd>filter files first before searching them by executing a utility on a file based on its type, see also <a href="#filter"><tt>ug --help filter</tt></a></dd>
</dl>

<ol>
<li>to disable searching binary files by default, add <tt>ignore-binary</tt> to your ~/.ugrep file
</li><li>to obey .gitignore file exclusions in recursive searches by default, add <tt>ignore-files</tt> to your ~/.ugrep file
</li></ol>

<a name="formatting"> </a>
<h3>Formatted output</h3>

<dl>
<dt>--csv</dt>                  <dd>CSV output format</dd>
<dt>--json</dt>                 <dd>JSON output format</dd>
<dt>--xml</dt>                  <dd>XML output format</dd>
<dt>--format=<i>&#34;FORMAT&#34;</i></dt>
                                <dd>custom output formatting, see also <a href="#format"><tt>ug --help format</tt></a></dd>
</dl>

<ol>
<li>formatting can be combined with other options, such as <tt>-n</tt> to include line numbers
</li></ol>

<a name="pretty"> </a>
<h3>Pretty things, more or less</h3>

<dl>
<dt>--pretty</dt>               <dd>enable <tt>-n</tt>, <tt>-T</tt>, <tt>--color</tt>, <tt>--tree</tt>, <tt>--heading</tt>, <tt>--break</tt> and <tt>--sort</tt> when output is sent to a terminal</dd>
<dt>--tree</dt>                 <dd>list files in a directory tree for options <tt>-l</tt> and <tt>-c</tt></dd>
<dt>--heading</dt>              <dd>output the file name as a heading of a matching file</dd>
<dt>--break</dt>                <dd>output an empty line between matching files</dd>
<dt>-T</dt>                     <dd>tabulate line and column numbers to add spacing</dd>
<dt>--color</dt>                <dd>colorize the output when displayed on a terminal (default)</dd>
<dt>--colors=<i>COLORS</i></dt> <dd>specify a color pallette <tt><i>COLORS</i></tt>, see also <a href="#colors"><tt>ug --help colors</tt></a></dd>
<dt>--hyperlink=+</dt>          <dd>embeds hyperlinks in the output when sent to a terminal, with linked line/column numbers when <tt>=+</tt> is specified</dd>
<dt>--pager</dt>                <dd>output to a pager, default is <tt>more</tt> or <tt>less</tt></dd>
<dt>--pager=<i>COMMAND</i></dt> <dd>output to <tt><i>COMMAND</i></tt> as a pager</dd>
<dt>--tag</dt>                  <dd>output matches as <tt>___<i>match</i>___</tt> instead of colorizing them, where <tt>--tag=<i>TAG,TAG</i></tt> outputs <tt><i>TAGmatchTAG</i></tt></dd>
<dt>--replace=<i>&#34;FORMAT&#34;</i></dt>
                                <dd>replace matches in the output by <tt><i>FORMAT</i></tt>, see also <a href="#format"><tt>ug --help format</tt></a>
</dd><dt>--separator=<i>SEP</i></dt> <dd>specify <i>SEP</i> to separate line and column numbers from the match</dd>
<dt>--group-separator=<i>SEP</i></dt>
                                <dd>specify <i>SEP</i> to separate context for options <tt>-ABC</tt></dd>
</dl>

<ol>
<li><code>ug</code> enables <tt>--pretty</tt> and <tt>--sort</tt> by default
</li><li><code>ugrep</code> only enables <tt>--color</tt> by default
</li></ol>

<a name="help"> </a>
<h3>Getting help</h3>

<dl>
<dt>--help <i>WHAT</i></dt>     <dd>display help on <tt><i>WHAT</i></tt> you are looking for</dd>
<dt>--help count</dt>           <dd>display help on option <tt>-c</tt> (<tt>--count</tt>) and <tt>-m [MIN,][MAX]</tt> (<tt>--min-count=MIN</tt>, <tt>--max-count=MAX</tt>)</dd>
<dt>--help regex</dt>           <dd>display help with details on regex patterns</dd>
<dt>--help globs</dt>           <dd>display help with details on glob patterns, e.g. for option <tt>-g</tt></dd>
</dl>

<a name="regex"> </a>
<h2>Regex</h2>

<center>

<div>
<table>
<tbody><tr><td><tt>.      </tt></td><td>any character except <tt>\n</tt></td></tr>
<tr><td><tt>a      </tt></td><td>the character <tt>a</tt></td></tr>
<tr><td><tt>ab     </tt></td><td>the string <tt>ab</tt></td></tr>
<tr><td><tt>a|b    </tt></td><td><tt>a</tt> or <tt>b</tt></td></tr>
<tr><td><tt>a*     </tt></td><td>zero or more <tt>a</tt>&#39;s</td></tr>
<tr><td><tt>a+     </tt></td><td>one or more <tt>a</tt>&#39;s</td></tr>
<tr><td><tt>a?     </tt></td><td>zero or one <tt>a</tt></td></tr>
<tr><td><tt>a{3}   </tt></td><td>3 <tt>a</tt>&#39;s</td></tr>
<tr><td><tt>a{3,}  </tt></td><td>3 or more <tt>a</tt>&#39;s</td></tr>
<tr><td><tt>a{3,7} </tt></td><td>3 to 7 <tt>a</tt>&#39;s</td></tr>
<tr><td><tt>a*?    </tt></td><td>zero or more <tt>a</tt>&#39;s lazily</td></tr>
<tr><td><tt>a+?    </tt></td><td>one or more <tt>a</tt>&#39;s lazily</td></tr>
<tr><td><tt>a??    </tt></td><td>zero or one <tt>a</tt> lazily</td></tr>
<tr><td><tt>a{3}?  </tt></td><td>3 <tt>a</tt>&#39;s lazily</td></tr>
<tr><td><tt>a{3,}? </tt></td><td>3 or more <tt>a</tt>&#39;s lazily</td></tr>
<tr><td><tt>a{3,7}?</tt></td><td>3 to 7 <tt>a</tt>&#39;s lazily</td></tr>
<tr><td><tt>\.             </tt></td><td>escapes <tt>.</tt> to match <tt>.</tt></td></tr>
<tr><td><tt>\Q...\E        </tt></td><td>the literal string <tt>...</tt></td></tr>
<tr><td><tt>\f             </tt></td><td>form feed</td></tr>
<tr><td><tt>\n             </tt></td><td>newline</td></tr>
<tr><td><tt>\r             </tt></td><td>carriage return</td></tr>
<tr><td><tt>\R             </tt></td><td>any Unicode line break</td></tr>
<tr><td><tt>\t             </tt></td><td>tab</td></tr>
<tr><td><tt>\v             </tt></td><td>vertical tab</td></tr>
<tr><td><tt>\X             </tt></td><td>any character and <tt>\n</tt></td></tr>
<tr><td><tt>\c<i>Z</i>     </tt></td><td>control character <tt>^<i>Z</i></tt></td></tr>
<tr><td><tt>\0             </tt></td><td>NUL</td></tr>
<tr><td><tt>\0<i>ddd</i>   </tt></td><td>octal character code <tt><i>ddd</i></tt></td></tr>
<tr><td><tt>\x<i>hh</i>    </tt></td><td>hex character code <tt><i>hh</i></tt></td></tr>
<tr><td><tt>\x{<i>hhhh</i>}</tt></td><td>Unicode code point U+<tt><i>hhhh</i></tt></td></tr>
<tr><td><tt>\u{<i>hhhh</i>}</tt></td><td>Unicode code point U+<tt><i>hhhh</i></tt></td></tr>
</tbody></table>
</div>

<div>
<table>
<tbody><tr><td><tt>[abc-e]         </tt></td><td>one character <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt></td></tr>
<tr><td><tt>[^abc-e]        </tt></td><td>one char not <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt>,<tt>\n</tt></td></tr>
<tr><td><tt>[[:alnum:]]     </tt></td><td><tt>a</tt>-<tt>z</tt>,<tt>A</tt>-<tt>Z</tt>,<tt>0</tt>-<tt>9</tt></td></tr>
<tr><td><tt>[[:alpha:]]     </tt></td><td><tt>a</tt>-<tt>z</tt>,<tt>A</tt>-<tt>Z</tt></td></tr>
<tr><td><tt>[[:ascii:]]     </tt></td><td>ASCII char <tt>\x00</tt>-<tt>\x7f</tt></td></tr>
<tr><td><tt>[[:blank:]]     </tt></td><td>space or tab</td></tr>
<tr><td><tt>[[:cntrl:]]     </tt></td><td>control characters</td></tr>
<tr><td><tt>[[:digit:]]     </tt></td><td><tt>0</tt>-<tt>9</tt></td></tr>
<tr><td><tt>[[:graph:]]     </tt></td><td>visible characters</td></tr>
<tr><td><tt>[[:lower:]]     </tt></td><td><tt>a</tt>-<tt>z</tt></td></tr>
<tr><td><tt>[[:print:]]     </tt></td><td>visible chars and space</td></tr>
<tr><td><tt>[[:punct:]]     </tt></td><td>punctuation characters</td></tr>
<tr><td><tt>[[:space:]]     </tt></td><td>space,<tt>\t,<tt>\v,<tt>\f,<tt>\r</tt></tt></tt></tt></td></tr>
<tr><td><tt>[[:upper:]]     </tt></td><td><tt>A</tt>-<tt>Z</tt></td></tr>
<tr><td><tt>[[:word:]]      </tt></td><td><tt>a</tt>-<tt>z</tt>,<tt>A</tt>-<tt>Z</tt>,<tt>0</tt>-<tt>9</tt>,<tt>_</tt></td></tr>
<tr><td><tt>[[:xdigit:]]    </tt></td><td><tt>0</tt>-<tt>9</tt>,<tt>a</tt>-<tt>f</tt>,<tt>A</tt>-<tt>F</tt></td></tr>
<tr><td><tt>\p{<i>Class</i>}</tt></td><td>one character in <tt><i>Class</i></tt></td></tr>
<tr><td><tt>\P{<i>Class</i>}</tt></td><td>one char not in <tt><i>Class</i></tt></td></tr>
<tr><td><tt>\d              </tt></td><td>a digit</td></tr>
<tr><td><tt>\D              </tt></td><td>a non-digit</td></tr>
<tr><td><tt>\h              </tt></td><td>a space or tab</td></tr>
<tr><td><tt>\H              </tt></td><td>not a space or tab</td></tr>
<tr><td><tt>\s              </tt></td><td>a whitespace except <tt>\n</tt></td></tr>
<tr><td><tt>\S              </tt></td><td>a non-whitespace</td></tr>
<tr><td><tt>\w              </tt></td><td>a word character</td></tr>
<tr><td><tt>\W              </tt></td><td>a non-word character</td></tr>
</tbody></table>
</div>

<div>
<table>
<tbody><tr><td><tt>^          </tt></td><td>begin of line anchor</td></tr>
<tr><td><tt>$          </tt></td><td>end of line anchor</td></tr>
<tr><td><tt>\b         </tt></td><td>word boundary</td></tr>
<tr><td><tt>\B         </tt></td><td>non-word boundary</td></tr>
<tr><td><tt>\&lt;      </tt></td><td>start of word boundary</td></tr>
<tr><td><tt>\&gt;      </tt></td><td>end of word boundary</td></tr>
<tr><td><tt>(?=...)    </tt></td><td>lookahead (<tt>-P</tt>)</td></tr>
<tr><td><tt>(?!...)    </tt></td><td>negative lookahead (<tt>-P</tt>)</td></tr>
<tr><td><tt>(?&lt;=...)</tt></td><td>lookbehind (<tt>-P</tt>)</td></tr>
<tr><td><tt>(?&lt;!...)</tt></td><td>negative lookbehind (<tt>-P</tt>)</td></tr>
<tr><td><tt>(...)                 </tt></td><td>capturing group (<tt>-P</tt>)</td></tr>
<tr><td><tt>(...)                 </tt></td><td>non-capturing group</td></tr>
<tr><td><tt>(?:...)               </tt></td><td>non-capturing group</td></tr>
<tr><td><tt>(?&lt;<i>X</i>&gt;...)</tt></td><td>capturing, named <tt><i>X</i></tt> (<tt>-P</tt>)</td></tr>
<tr><td><tt>\1                    </tt></td><td>matches group 1 (<tt>-P</tt>)</td></tr>
<tr><td><tt>\g{10}                </tt></td><td>matches group 10 (<tt>-P</tt>)</td></tr>
<tr><td><tt>\g{<i>X</i>}          </tt></td><td>matches group name <i>X</i> (<tt>-P</tt>)</td></tr>
<tr><td><tt>(?#...)               </tt></td><td>comments <tt>...</tt> are ignored</td></tr>
</tbody></table>
</div>

</center>

<ol>
<li>(<tt>-P</tt>): this pattern requires option <tt>-P</tt> for PCRE (Perl regular expressions)
</li><li>ERE (Extended Regular Expression) syntax is the default regex pattern syntax (shown)
</li><li>BRE (Basic Regular Expression) syntax with option <tt>-G</tt> replaces <tt>|</tt> with <tt>\|</tt>, <tt>+</tt> with <tt>\+</tt>, <tt>?</tt> with <tt>\?</tt>, <tt>( )</tt> with <tt>\( \)</tt>, and <tt>{ }</tt> with <tt>\{ \}</tt>
</li></ol>

<a name="globs"> </a>
<h2>Globs</h2>

<p>Ugrep supports gitignore-style globbing for all glob-related options <tt>-g</tt>, <tt>--iglob=</tt>, <tt>--exclude=</tt>, <tt>--include=</tt>, <tt>-include-dir=</tt>, <tt>--exclude-dir=</tt>, <tt>--include-from=</tt>, <tt>--exclude-from=</tt>, and <tt>--ignore-files</tt>, where

</p><table>
<tbody><tr><td><tt>*       </tt></td><td>matches anything except <tt>/</tt></td></tr>
<tr><td><tt>?       </tt></td><td>matches any one character except <tt>/</tt></td></tr>
<tr><td><tt>[abc-e] </tt></td><td>matches one character <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt></td></tr>
<tr><td><tt>[^abc-e]</tt></td><td>matches one character not <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt>,<tt>/</tt></td></tr>
<tr><td><tt>[!abc-e]</tt></td><td>matches one character not <tt>a</tt>,<tt>b</tt>,<tt>c</tt>,<tt>d</tt>,<tt>e</tt>,<tt>/</tt></td></tr>
<tr><td><tt>/       </tt></td><td>when used at the start of a glob, matches the working directory</td></tr>
<tr><td><tt>**/     </tt></td><td>matches zero or more directories</td></tr>
<tr><td><tt>/**     </tt></td><td>when at the end of a glob, matches everything after the <tt>/</tt></td></tr>
<tr><td><tt>\?      </tt></td><td>matches a <tt>?</tt> or any other character specified after the backslash</td></tr>
</tbody></table>

<ol>
<li>when a glob pattern is used with a command-line option such as <tt>-g&#34;*.cpp&#34;</tt>, you must quote the glob <tt>&#34;*.cpp&#34;</tt> to prevent the shell from expanding the glob
</li><li>a glob pattern starting with a <tt>^</tt> or a <tt>!</tt> inverts the matching: instead of matching a filename or directory name, the directory or file is ignored and excluded from the search
</li><li>when a glob pattern contains a <tt>/</tt>, the full pathname is matched, otherwise, the basename of a file or directory is matched in recursive searches
</li><li>when a glob pattern starts with a <tt>/</tt>, the glob matches files and directories from the working directory path, not recursively
</li><li>when a glob pattern ends with a <tt>/</tt>, the glob matches directories, not files
</li></ol>

<a name="types"> </a>
<h2>File types</h2>

<p>The <tt>-t</tt> argument is a comma-separated list of file types.  A file type matches one or more filename extensions, internally using option <tt>-O</tt> for filename extension matching.  For capitalized file types, the search is expanded to include files with matching file signature magic bytes, internally using option <tt>-M</tt>.  When a type is preceded by a <tt>!</tt> or a <tt>^</tt>, excludes files of the specified type.

</p><table>
<tbody><tr><td><tt>actionscript</tt></td><td>=</td><td><tt>-O as,mxml</tt></td></tr>
<tr><td><tt>         ada</tt></td><td>=</td><td><tt>-O ada,adb,ads</tt></td></tr>
<tr><td><tt>         asm</tt></td><td>=</td><td><tt>-O asm,s,S</tt></td></tr>
<tr><td><tt>         asp</tt></td><td>=</td><td><tt>-O asp</tt></td></tr>
<tr><td><tt>        aspx</tt></td><td>=</td><td><tt>-O master,ascx,asmx,aspx,svc</tt></td></tr>
<tr><td><tt>    autoconf</tt></td><td>=</td><td><tt>-O ac,in</tt></td></tr>
<tr><td><tt>    automake</tt></td><td>=</td><td><tt>-O am,in</tt></td></tr>
<tr><td><tt>         awk</tt></td><td>=</td><td><tt>-O awk</tt></td></tr>
<tr><td><tt>         Awk</tt></td><td>=</td><td><tt>-O awk</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;#!\h*/.*\Wg?awk(\W.*)?\n&#39;</tt></td></tr>
<tr><td><tt>       basic</tt></td><td>=</td><td><tt>-O bas,BAS,cls,frm,ctl,vb,resx</tt></td></tr>
<tr><td><tt>       batch</tt></td><td>=</td><td><tt>-O bat,BAT,cmd,CMD</tt></td></tr>
<tr><td><tt>       bison</tt></td><td>=</td><td><tt>-O y,yy,ymm,ypp,yxx</tt></td></tr>
<tr><td><tt>           c</tt></td><td>=</td><td><tt>-O c,h,H,hdl,xs</tt></td></tr>
<tr><td><tt>         c++</tt></td><td>=</td><td><tt>-O cpp,CPP,cc,cxx,CXX,h,hh,H,hpp,hxx,Hxx,HXX</tt></td></tr>
<tr><td><tt>     clojure</tt></td><td>=</td><td><tt>-O clj</tt></td></tr>
<tr><td><tt>         cpp</tt></td><td>=</td><td><tt>-O cpp,CPP,cc,cxx,CXX,h,hh,H,hpp,hxx,Hxx,HXX</tt></td></tr>
<tr><td><tt>      csharp</tt></td><td>=</td><td><tt>-O cs</tt></td></tr>
<tr><td><tt>         css</tt></td><td>=</td><td><tt>-O css</tt></td></tr>
<tr><td><tt>         csv</tt></td><td>=</td><td><tt>-O csv</tt></td></tr>
<tr><td><tt>        dart</tt></td><td>=</td><td><tt>-O dart</tt></td></tr>
<tr><td><tt>        Dart</tt></td><td>=</td><td><tt>-O dart</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;#!\h*/.*\Wdart(\W.*)?\n&#39;</tt></td></tr>
<tr><td><tt>      delphi</tt></td><td>=</td><td><tt>-O pas,int,dfm,nfm,dof,dpk,dproj,groupproj,bdsgroup,bdsproj</tt></td></tr>
<tr><td><tt>       elisp</tt></td><td>=</td><td><tt>-O el</tt></td></tr>
<tr><td><tt>      elixir</tt></td><td>=</td><td><tt>-O ex,exs</tt></td></tr>
<tr><td><tt>      erlang</tt></td><td>=</td><td><tt>-O erl,hrl</tt></td></tr>
<tr><td><tt>     fortran</tt></td><td>=</td><td><tt>-O for,ftn,fpp,f,F,f77,F77,f90,F90,f95,F95,f03,F03</tt></td></tr>
<tr><td><tt>         gif</tt></td><td>=</td><td><tt>-O gif</tt></td></tr>
<tr><td><tt>         Gif</tt></td><td>=</td><td><tt>-O gif</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;GIF87a|GIF89a&#39;</tt></td></tr>
<tr><td><tt>          go</tt></td><td>=</td><td><tt>-O go</tt></td></tr>
<tr><td><tt>      groovy</tt></td><td>=</td><td><tt>-O groovy,gtmpl,gpp,grunit,gradle</tt></td></tr>
<tr><td><tt>         gsp</tt></td><td>=</td><td><tt>-O gsp</tt></td></tr>
<tr><td><tt>     haskell</tt></td><td>=</td><td><tt>-O hs,lhs</tt></td></tr>
<tr><td><tt>        html</tt></td><td>=</td><td><tt>-O htm,html,xhtml</tt></td></tr>
<tr><td><tt>        jade</tt></td><td>=</td><td><tt>-O jade</tt></td></tr>
<tr><td><tt>        java</tt></td><td>=</td><td><tt>-O java,properties</tt></td></tr>
<tr><td><tt>        jpeg</tt></td><td>=</td><td><tt>-O jpg,jpeg</tt></td></tr>
<tr><td><tt>        Jpeg</tt></td><td>=</td><td><tt>-O jpg,jpeg</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;\xff\xd8\xff[\xdb\xe0\xe1\xee]&#39;</tt></td></tr>
<tr><td><tt>          js</tt></td><td>=</td><td><tt>-O js</tt></td></tr>
<tr><td><tt>        json</tt></td><td>=</td><td><tt>-O json</tt></td></tr>
<tr><td><tt>         jsp</tt></td><td>=</td><td><tt>-O jsp,jspx,jthm,jhtml</tt></td></tr>
<tr><td><tt>       julia</tt></td><td>=</td><td><tt>-O jl</tt></td></tr>
<tr><td><tt>      kotlin</tt></td><td>=</td><td><tt>-O kt,kts</tt></td></tr>
<tr><td><tt>        less</tt></td><td>=</td><td><tt>-O less</tt></td></tr>
<tr><td><tt>         lex</tt></td><td>=</td><td><tt>-O l,ll,lmm,lpp,lxx</tt></td></tr>
<tr><td><tt>        lisp</tt></td><td>=</td><td><tt>-O lisp,lsp</tt></td></tr>
<tr><td><tt>         lua</tt></td><td>=</td><td><tt>-O lua</tt></td></tr>
<tr><td><tt>          m4</tt></td><td>=</td><td><tt>-O m4</tt></td></tr>
<tr><td><tt>        make</tt></td><td>=</td><td><tt>-O mk,mak</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-g makefile,Makefile,Makefile.Debug,Makefile.Release</tt></td></tr>
<tr><td><tt>    markdown</tt></td><td>=</td><td><tt>-O md</tt></td></tr>
<tr><td><tt>      matlab</tt></td><td>=</td><td><tt>-O m</tt></td></tr>
<tr><td><tt>        node</tt></td><td>=</td><td><tt>-O js</tt></td></tr>
<tr><td><tt>        Node</tt></td><td>=</td><td><tt>-O js</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;#!\h*/.*\Wnode(\W.*)?\n&#39;</tt></td></tr>
<tr><td><tt>        objc</tt></td><td>=</td><td><tt>-O m,h</tt></td></tr>
<tr><td><tt>      objc++</tt></td><td>=</td><td><tt>-O mm,h</tt></td></tr>
<tr><td><tt>       ocaml</tt></td><td>=</td><td><tt>-O ml,mli,mll,mly</tt></td></tr>
<tr><td><tt>      parrot</tt></td><td>=</td><td><tt>-O pir,pasm,pmc,ops,pod,pg,tg</tt></td></tr>
<tr><td><tt>      pascal</tt></td><td>=</td><td><tt>-O pas,pp</tt></td></tr>
<tr><td><tt>         pdf</tt></td><td>=</td><td><tt>-O pdf</tt></td></tr>
<tr><td><tt>         Pdf</tt></td><td>=</td><td><tt>-O pdf</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;\x25\x50\x44\x46\x2d&#39;</tt></td></tr>
<tr><td><tt>        perl</tt></td><td>=</td><td><tt>-O pl,PL,pm,pod,t,psgi
</tt></td></tr><tr><td><tt>        Perl</tt></td><td>=</td><td><tt>-O pl,PL,pm,pod,t,psgi</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;#!\h*/.*\Wperl(\W.*)?\n&#39;</tt></td></tr>
<tr><td><tt>         php</tt></td><td>=</td><td><tt>-O php,php3,php4,phtml</tt></td></tr>
<tr><td><tt>         Php</tt></td><td>=</td><td><tt>-O php,php3,php4,phtml</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;#!\h*/.*\Wphp(\W.*)?\n&#39;</tt></td></tr>
<tr><td><tt>         png</tt></td><td>=</td><td><tt>-O png</tt></td></tr>
<tr><td><tt>         Png</tt></td><td>=</td><td><tt>-O png</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;\x89PNG\x0d\x0a\x1a\x0a&#39;</tt></td></tr>
<tr><td><tt>      prolog</tt></td><td>=</td><td><tt>-O pl,pro</tt></td></tr>
<tr><td><tt>      python</tt></td><td>=</td><td><tt>-O py</tt></td></tr>
<tr><td><tt>      Python</tt></td><td>=</td><td><tt>-O py</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;#!\h*/.*\Wpython[23]?(\W.*)?\n&#39;</tt></td></tr>
<tr><td><tt>           r</tt></td><td>=</td><td><tt>-O R</tt></td></tr>
<tr><td><tt>         rpm</tt></td><td>=</td><td><tt>-O rpm</tt></td></tr>
<tr><td><tt>         Rpm</tt></td><td>=</td><td><tt>-O rpm</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;\xed\xab\xee\xdb&#39;</tt></td></tr>
<tr><td><tt>         rst</tt></td><td>=</td><td><tt>-O rst</tt></td></tr>
<tr><td><tt>         rtf</tt></td><td>=</td><td><tt>-O rtf</tt></td></tr>
<tr><td><tt>         Rtf</tt></td><td>=</td><td><tt>-O rtf</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;\{\rtf1&#39;</tt></td></tr>
<tr><td><tt>        ruby</tt></td><td>=</td><td><tt>-O rb,rhtml,rjs,rxml,erb,rake,spec</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-g Rakefile</tt></td></tr>
<tr><td><tt>        Ruby</tt></td><td>=</td><td><tt>-O rb,rhtml,rjs,rxml,erb,rake,spec</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-g Rakefile</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;#!\h*/.*\Wruby(\W.*)?\n&#39;</tt></td></tr>
<tr><td><tt>        rust</tt></td><td>=</td><td><tt>-O rs</tt></td></tr>
<tr><td><tt>       scala</tt></td><td>=</td><td><tt>-O scala</tt></td></tr>
<tr><td><tt>      scheme</tt></td><td>=</td><td><tt>-O scm,ss</tt></td></tr>
<tr><td><tt>       shell</tt></td><td>=</td><td><tt>-O sh,bash,dash,csh,tcsh,ksh,zsh,fish</tt></td></tr>
<tr><td><tt>       Shell</tt></td><td>=</td><td><tt>-O sh,bash,dash,csh,tcsh,ksh,zsh,fish</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;#!\h*/.*\W(ba|da|t?c|k|z|fi)?sh(\W.*)?\n&#39;</tt></td></tr>
<tr><td><tt>   smalltalk</tt></td><td>=</td><td><tt>-O st</tt></td></tr>
<tr><td><tt>         sql</tt></td><td>=</td><td><tt>-O sql,ctl</tt></td></tr>
<tr><td><tt>         svg</tt></td><td>=</td><td><tt>-O svg</tt></td></tr>
<tr><td><tt>       swift</tt></td><td>=</td><td><tt>-O swift</tt></td></tr>
<tr><td><tt>         tcl</tt></td><td>=</td><td><tt>-O tcl,itcl,itk</tt></td></tr>
<tr><td><tt>         tex</tt></td><td>=</td><td><tt>-O tex,cls,sty,bib</tt></td></tr>
<tr><td><tt>        text</tt></td><td>=</td><td><tt>-O text,txt,TXT,md,rst</tt></td></tr>
<tr><td><tt>        tiff</tt></td><td>=</td><td><tt>-O tif,tiff</tt></td></tr>
<tr><td><tt>        Tiff</tt></td><td>=</td><td><tt>-O tif,tiff</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;\x49\x49\x2a\x00|\x4d\x4d\x00\x2a&#39;</tt></td></tr>
<tr><td><tt>          tt</tt></td><td>=</td><td><tt>-O tt,tt2,ttml</tt></td></tr>
<tr><td><tt>  typescript</tt></td><td>=</td><td><tt>-O ts,tsx</tt></td></tr>
<tr><td><tt>     verilog</tt></td><td>=</td><td><tt>-O v,vh,sv</tt></td></tr>
<tr><td><tt>        vhdl</tt></td><td>=</td><td><tt>-O vhd,vhdl</tt></td></tr>
<tr><td><tt>         vim</tt></td><td>=</td><td><tt>-O vim</tt></td></tr>
<tr><td><tt>         xml</tt></td><td>=</td><td><tt>-O xml,xsd,xsl,xslt,wsdl,rss,svg,ent,plist</tt></td></tr>
<tr><td><tt>         Xml</tt></td><td>=</td><td><tt>-O xml,xsd,xsl,xslt,wsdl,rss,svg,ent,plist</tt></td></tr>
<tr><td><tt>            </tt></td><td> </td><td><tt>-M &#39;&lt;\?xml &#39;</tt></td></tr>
<tr><td><tt>        yacc</tt></td><td>=</td><td><tt>-O y</tt></td></tr>
<tr><td><tt>        yaml</tt></td><td>=</td><td><tt>-O yaml,yml</tt></td></tr>
<tr><td><tt>         zig</tt></td><td>=</td><td><tt>-O zig,zon</tt></td></tr>
</tbody></table>

<a name="filter"> </a>
<h2>Filters</h2>

<p>A filter utility is associated with one or more filename extensions using the syntax <tt>--filter=&#34;ext1,ext2,ext3:command&#34;</tt>.  Options to the specified <tt>command</tt> may be included.  The special option <tt>%</tt> is expanded into the pathname of the file to search.  Filters are applied first when the filename extension matches one of the specified filters, then the output of the filter is searched.  Some examples:

</p><dl>
<dt>--filter=&#34;7z:7z x -so %&#34; -W</dt>
                                <dd>search 7zip files as one piece; specify option <tt>-W</tt> to permit binaries in the archive</dd>
<dt>--filter=&#34;pdf:pdftotext % -&#34;</dt>
                                <dd>search PDF files, like <code>ug+</code></dd>
<dt>--filter=&#34;doc:antiword %&#34;</dt>
                                <dd>search documents, like <code>ug+</code></dd>
<dt>--filter=&#34;odt,docx,epub,rtf:pandoc --wrap=preserve -t plain % -o -&#34;</dt>
                                <dd>search documents and e-books, like <code>ug+</code></dd>
<dt>--filter=&#34;gif,jpg,jpeg,mpg,mpeg,png,tiff:exiftool %&#34;</dt>
                                <dd>search image metadata, like <code>ug+</code></dd>
<dt>--filter=&#34;odt,doc,docx,rtf,xls,xlsx,ppt,pptx:soffice --headless --cat %&#34;</dt>
                                <dd>search documents, spreadsheets and presentations (this is slow)</dd>
<dt>--filter=&#34;pem:openssl x509 -text,cer,crt,der:openssl x509 -text -inform der&#34;</dt>
                                <dd>search certificates</dd>
<dt>--filter=&#34;jis:iconv -f SHIFT-JIS -t UTF-8&#34;</dt>
                                <dd>search <tt>.jis</tt> files encoded in Shift-JIS format converted to UTF-8</dd>
</dl>

<ol>
<li>a filter utility should be a command or a script that produces standard output (to search)
</li><li>instead of a filename extension alone, it is also possible to specify a file&#39;s &#34;magic bytes&#34; regex pattern with <tt>--filter-magic-label=<i>&#34;LABEL:MAGIC&#34;</i></tt> to associate the <tt><i>MAGIC</i></tt> regex pattern when found at the start of a file with a <tt><i>LABEL</i></tt> to be used as a filename extension in a <tt>--filter=&#34;<i>LABEL</i>:command&#34;</tt>
</li><li>UTF-8, UTF-16 and UTF-32 input is automatically searched and does not require a filter
</li><li>the Shift-JIS conversion in the example is a special case, option <tt>--encoding=</tt> supports the arguments
  <tt>binary</tt>, <tt>ASCII</tt>, <tt>UTF-8</tt>, <tt>UTF-16</tt>, <tt>UTF-16BE</tt>,
  <tt>UTF-16LE</tt>, <tt>UTF-32</tt>, <tt>UTF-32BE</tt>, <tt>UTF-32LE</tt>, <tt>LATIN1</tt>,
  <tt>ISO-8859-1</tt>, <tt>ISO-8859-2</tt>, <tt>ISO-8859-3</tt>, <tt>ISO-8859-4</tt>,
  <tt>ISO-8859-5</tt>, <tt>ISO-8859-6</tt>, <tt>ISO-8859-7</tt>, <tt>ISO-8859-8</tt>,
  <tt>ISO-8859-9</tt>, <tt>ISO-8859-10</tt>, <tt>ISO-8859-11</tt>, <tt>ISO-8859-13</tt>,
  <tt>ISO-8859-14</tt>, <tt>ISO-8859-15</tt>, <tt>ISO-8859-16</tt>, <tt>MAC</tt>, <tt>MACROMAN</tt>,
  <tt>EBCDIC</tt>, <tt>CP437</tt>, <tt>CP850</tt>, <tt>CP858</tt>, <tt>CP1250</tt>, <tt>CP1251</tt>, <tt>CP1252</tt>,
  <tt>CP1253</tt>, <tt>CP1254</tt>, <tt>CP1255</tt>, <tt>CP1256</tt>, <tt>CP1257</tt>, <tt>CP1258</tt>,
  <tt>KOI8-R</tt>, <tt>KOI8-U</tt>, <tt>KOI8-RU</tt>
</li></ol>

<a name="colors"> </a>
<h2>Colors</h2>

<p>The <tt>--colors=</tt> argument is a colon-separated list of parameters, such as <tt>--colors=sl=hy:mt=hyB</tt>, where

</p><table>
<tbody><tr><td><tt>sl=</tt></td><td>selected lines</td></tr>
<tr><td><tt>cx=</tt></td><td>context lines</td></tr>
<tr><td><tt>rv </tt></td><td>swaps the <tt>sl=</tt> and <tt>cx=</tt> capabilities when <tt>-v</tt> is specified</td></tr>
<tr><td><tt>mt=</tt></td><td>matching text in any matching line</td></tr>
<tr><td><tt>ms=</tt></td><td>matching text in a selected line, the substring <tt>mt=</tt> by default</td></tr>
<tr><td><tt>mc=</tt></td><td>matching text in a context line, the substring <tt>mt=</tt> by default</td></tr>
<tr><td><tt>fn=</tt></td><td>file names</td></tr>
<tr><td><tt>ln=</tt></td><td>line numbers</td></tr>
<tr><td><tt>cn=</tt></td><td>column numbers</td></tr>
<tr><td><tt>bn=</tt></td><td>byte offsets</td></tr>
<tr><td><tt>se=</tt></td><td>separators</td></tr>
<tr><td><tt>hl </tt></td><td>hyperlink file names, same as <tt>--hyperlink</tt></td></tr>
<tr><td><tt>qp=</tt></td><td>TUI prompt</td></tr>
<tr><td><tt>qe=</tt></td><td>TUI errors</td></tr>
<tr><td><tt>qr=</tt></td><td>TUI regex</td></tr>
<tr><td><tt>qm=</tt></td><td>TUI regex meta characters</td></tr>
<tr><td><tt>ql=</tt></td><td>TUI regex lists and literals</td></tr>
<tr><td><tt>qb=</tt></td><td>TUI regex braces</td></tr>
</tbody></table>

<p>Multiple <a target="_blank" href="https://en.wikipedia.org/wiki/ANSI_escape_code#SGR_(Select_Graphic_Rendition)_parameters">SGR codes</a> may be specified for a single parameter when separated by a semicolon, for example <tt>--colors=&#34;mt=1;31&#34;</tt> specifies bright red.  For quick and easy color specification, the corresponding single-letter color names may be used in place of numeric SGR codes and semicolons are not required to separate color names, for example <tt>--colors=mt=hr</tt> specifies bright red.  Color letters and numeric codes may be mixed.  The following SGR codes have corresponding letter designations:

</p><table>
<tbody><tr><td>0   </td><td><tt>n</tt></td><td>normal font and color     </td><td>2   </td><td><tt>f </tt></td><td>faint (not widely supported)</td></tr>
<tr><td>1   </td><td><tt>h</tt></td><td>highlighted bold font     </td><td>21  </td><td><tt>H </tt></td><td>highlighted bold off</td></tr>
<tr><td>4   </td><td><tt>u</tt></td><td>underline                 </td><td>24  </td><td><tt>U </tt></td><td>underline off</td></tr>
<tr><td>7   </td><td><tt>i</tt></td><td>invert video              </td><td>27  </td><td><tt>I </tt></td><td>invert off</td></tr>
<tr><td>30  </td><td><tt>k</tt></td><td>black text                </td><td>90  </td><td><tt>+k</tt></td><td>bright gray text</td></tr>
<tr><td>31  </td><td><tt>r</tt></td><td>red text                  </td><td>91  </td><td><tt>+r</tt></td><td>bright red text</td></tr>
<tr><td>32  </td><td><tt>g</tt></td><td>green text                </td><td>92  </td><td><tt>+g</tt></td><td>bright green text</td></tr>
<tr><td>33  </td><td><tt>y</tt></td><td>yellow text               </td><td>93  </td><td><tt>+y</tt></td><td>bright yellow text</td></tr>
<tr><td>34  </td><td><tt>b</tt></td><td>blue text                 </td><td>94  </td><td><tt>+b</tt></td><td>bright blue text</td></tr>
<tr><td>35  </td><td><tt>m</tt></td><td>magenta text              </td><td>95  </td><td><tt>+m</tt></td><td>bright magenta text</td></tr>
<tr><td>36  </td><td><tt>c</tt></td><td>cyan text                 </td><td>96  </td><td><tt>+c</tt></td><td>bright cyan text</td></tr>
<tr><td>37  </td><td><tt>w</tt></td><td>white text                </td><td>97  </td><td><tt>+w</tt></td><td>bright white text</td></tr>
<tr><td>40  </td><td><tt>K</tt></td><td>black background          </td><td>100 </td><td><tt>+K</tt></td><td>bright gray background</td></tr>
<tr><td>41  </td><td><tt>R</tt></td><td>dark red background       </td><td>101 </td><td><tt>+R</tt></td><td>bright red background</td></tr>
<tr><td>42  </td><td><tt>G</tt></td><td>dark green background     </td><td>102 </td><td><tt>+G</tt></td><td>bright green background</td></tr>
<tr><td>43  </td><td><tt>Y</tt></td><td>dark yellow backgrounda   </td><td>103 </td><td><tt>+Y</tt></td><td>bright yellow background</td></tr>
<tr><td>44  </td><td><tt>B</tt></td><td>dark blue background      </td><td>104 </td><td><tt>+B</tt></td><td>bright blue background</td></tr>
<tr><td>45  </td><td><tt>M</tt></td><td>dark magenta background   </td><td>105 </td><td><tt>+M</tt></td><td>bright magenta background</td></tr>
<tr><td>46  </td><td><tt>C</tt></td><td>dark cyan background      </td><td>106 </td><td><tt>+C</tt></td><td>bright cyan background</td></tr>
<tr><td>47  </td><td><tt>W</tt></td><td>dark white background     </td><td>107 </td><td><tt>+W</tt></td><td>bright white background</td></tr>
</tbody></table>

<p>The default color scheme is <tt>cx=33:</tt> <tt>mt=1;31:</tt> <tt>fn=1;35:</tt> <tt>ln=1;32:</tt> <tt>cn=1;32:</tt> <tt>bn=1;32:</tt> <tt>se=36:</tt> <tt>qp=1;32:</tt> <tt>qe=1;37;41:</tt> <tt>qm=1;32:</tt> <tt>ql=36:</tt> <tt>qb=1;35</tt>

<a name="format"> </a>
</p><h2>Custom output formatting</h2>

<p>Formatted output and match replacement puts you in full control of the output.  In fact, CSV (<tt>--csv</tt>), JSON (<tt>--json</tt>) and XML (<tt>--xml</tt>) are all produced this way.

</p><table>
<tbody><tr><td><tt>--format-begin=<i>&#34;FORMAT&#34;</i></tt></td><td>format string for beginning the search</td></tr>
<tr><td><tt>--format-open=<i>&#34;FORMAT&#34;</i> </tt></td><td>format string for opening a file when a match was found</td></tr>
<tr><td><tt>--format=<i>&#34;FORMAT&#34;</i>      </tt></td><td>format string for each match in a file</td></tr>
<tr><td><tt>--format-close=<i>&#34;FORMAT&#34;</i></tt></td><td>format string for closing a file when a match was found</td></tr>
<tr><td><tt>--format-end=<i>&#34;FORMAT&#34;</i>  </tt></td><td>format string for ending the search</td></tr>
<tr><td><tt>--replace=<i>&#34;FORMAT&#34;</i>     </tt></td><td>replace matches in the output with the specified formatted string</td></tr>
</tbody></table>

<p>where <tt><i>FORMAT</i></tt> may contain any text and the following format fields:

</p><table>
<tbody><tr><td><tt>%F                   </tt></td><td>if option <tt>-H</tt> is used: the file pathname and separator</td></tr>
<tr><td><tt>%[TEXT]F             </tt></td><td>if option <tt>-H</tt> is used: <tt>TEXT</tt>, the file pathname and separator</td></tr>
<tr><td><tt>%f                   </tt></td><td>the file pathname</td></tr>
<tr><td><tt>%a                   </tt></td><td>the file basename without directory path</td></tr>
<tr><td><tt>%p                   </tt></td><td>the directory path to the file</td></tr>
<tr><td><tt>%z                   </tt></td><td>the pathname in a (compressed) archive, without <tt>{</tt> and <tt>}</tt></td></tr>
<tr><td><tt>%H                   </tt></td><td>if option <tt>-H</tt> is used: the quoted pathname and separator, <tt>\&#34;</tt> and <tt>\\</tt> replace <tt>&#34;</tt> and <tt>\</tt></td></tr>
<tr><td><tt>%[TEXT]H             </tt></td><td>if option <tt>-H</tt> is used: <tt>TEXT</tt>, the quoted pathname and separator, \&#34; and \\ replace &#34; and \</td></tr>
<tr><td><tt>%h                   </tt></td><td>the quoted file pathname, <tt>\&#34;</tt> and <tt>\\</tt> replace <tt>&#34;</tt> and <tt>\</tt></td></tr>
<tr><td><tt>%N                   </tt></td><td>if option <tt>-n</tt> is used: the line number and separator</td></tr>
<tr><td><tt>%[TEXT]N             </tt></td><td>if option <tt>-n</tt> is used: <tt>TEXT</tt>, the line number and separator</td></tr>
<tr><td><tt>%n                   </tt></td><td>the line number of the match</td></tr>
<tr><td><tt>%K                   </tt></td><td>if option <tt>-k</tt> is used: the column number and separator</td></tr>
<tr><td><tt>%[TEXT]K             </tt></td><td>if option <tt>-k</tt> is used: <tt>TEXT</tt>, the column number and separator</td></tr>
<tr><td><tt>%k                   </tt></td><td>the column number of the match</td></tr>
<tr><td><tt>%B                   </tt></td><td>if option <tt>-b</tt> is used: the byte offset and separator</td></tr>
<tr><td><tt>%[TEXT]B             </tt></td><td>if option <tt>-b</tt> is used: <tt>TEXT</tt>, the byte offset and separator</td></tr>
<tr><td><tt>%b                   </tt></td><td>the byte offset of the match</td></tr>
<tr><td><tt>%T                   </tt></td><td>if option <tt>-T</tt> is used: <tt>TEXT</tt> and a tab character</td></tr>
<tr><td><tt>%[TEXT]T             </tt></td><td>if option <tt>-T</tt> is used: <tt>TEXT</tt> and a tab character</td></tr>
<tr><td><tt>%t                   </tt></td><td>a tab character</td></tr>
<tr><td><tt>%[SEP]$              </tt></td><td>set field separator to <tt>SEP</tt> for the rest of the format fields</td></tr>
<tr><td><tt>%[TEXT]&lt;          </tt></td><td>if the first match: <tt>TEXT</tt></td></tr>
<tr><td><tt>%[TEXT]&gt;          </tt></td><td>if not the first match: <tt>TEXT</tt></td></tr>
<tr><td><tt>%,                   </tt></td><td>if not the first match: a comma, same as <tt>%[,]&lt;</tt></td></tr>
<tr><td><tt>%:                   </tt></td><td>if not the first match: a colon, same as <tt>%[:]&gt;</tt></td></tr>
<tr><td><tt>%;                   </tt></td><td>if not the first match: a semicolon, same as <tt>%[;]&gt;</tt></td></tr>
<tr><td><tt>%|                   </tt></td><td>if not the first match: a vertical bar, same as <tt>%[|]&gt;</tt></td></tr>
<tr><td><tt>%S                   </tt></td><td>if not the first match: separator, see also <tt>%[SEP]$</tt></td></tr>
<tr><td><tt>%[TEXT]S             </tt></td><td>if not the first match: <tt>TEXT</tt> and separator, see also <tt>%[SEP]$</tt></td></tr>
<tr><td><tt>%s                   </tt></td><td>the separator, see also <tt>%[TEXT]S</tt> and <tt>%[SEP]$</tt></td></tr>
<tr><td><tt>%~                   </tt></td><td>a newline character</td></tr>
<tr><td><tt>%+                   </tt></td><td>if option <tt>--heading</tt> is used: <tt>%F</tt> and a newline character, suppress all <tt>%F</tt> and <tt>%H</tt> afterward</td></tr>
<tr><td><tt>%m                   </tt></td><td>the number of matches, sequential (or number of matching files with <tt>--format-end</tt>)</td></tr>
<tr><td><tt>%M                   </tt></td><td>the number of matching lines (or number of matching files with <tt>--format-end</tt>)</td></tr>
<tr><td><tt>%O                   </tt></td><td>the matching line is output as is (a raw string of bytes)</td></tr>
<tr><td><tt>%o                   </tt></td><td>the match is output as is (a raw string of bytes)</td></tr>
<tr><td><tt>%Q                   </tt></td><td>the matching line as a quoted string, <tt>\&#34;</tt> and <tt>\\</tt> replace <tt>&#34;</tt> and <tt>\</tt></td></tr>
<tr><td><tt>%q                   </tt></td><td>the match as a quoted string, <tt>\&#34;</tt> and <tt>\\</tt> replace <tt>&#34;</tt> and <tt>\</tt></td></tr>
<tr><td><tt>%C                   </tt></td><td>the matching line formatted as a quoted C/C++ string</td></tr>
<tr><td><tt>%c                   </tt></td><td>the match formatted as a quoted C/C++ string</td></tr>
<tr><td><tt>%J                   </tt></td><td>the matching line formatted as a quoted JSON string</td></tr>
<tr><td><tt>%j                   </tt></td><td>the match formatted as a quoted JSON string</td></tr>
<tr><td><tt>%V                   </tt></td><td>the matching line formatted as a quoted CSV string</td></tr>
<tr><td><tt>%v                   </tt></td><td>the match formatted as a quoted CSV string</td></tr>
<tr><td><tt>%X                   </tt></td><td>the matching line formatted as XML character data</td></tr>
<tr><td><tt>%x                   </tt></td><td>the match formatted as XML character data</td></tr>
<tr><td><tt>%w                   </tt></td><td>the width of the match, counting (wide) characters</td></tr>
<tr><td><tt>%d                   </tt></td><td>the size of the match, counting bytes</td></tr>
<tr><td><tt>%e                   </tt></td><td>the ending byte offset of the match</td></tr>
<tr><td><tt>%Z                   </tt></td><td>the edit distance cost of an approximate match with option <tt>-Z</tt></td></tr>
<tr><td><tt>%u                   </tt></td><td>select unique lines only unless option <tt>-u</tt> is used</td></tr>
<tr><td><tt>%1 %2 ... %9         </tt></td><td>the first regex group capture of the match, and so on up to group <tt>%9</tt>, requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM]#              </tt></td><td>the regex group capture <tt>NUM</tt>; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM]b              </tt></td><td>the byte offset of the group capture <tt>NUM</tt>; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM]e              </tt></td><td>the ending byte offset of the group capture <tt>NUM</tt>; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM]d              </tt></td><td>the byte length of the group capture <tt>NUM</tt>; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM1|NUM2|...]#    </tt></td><td>the first group capture <tt>NUM</tt> in the list that matched; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM1|NUM2|...]b    </tt></td><td>the byte offset of the first group capture <tt>NUM</tt> in the list that matched; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM1|NUM2|...]e    </tt></td><td>the ending byte offset of the first group capture <tt>NUM</tt> in the list that matched; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NUM1|NUM2|...]d    </tt></td><td>the byte length of the first group capture <tt>NUM</tt> in the list that matched; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%[NAME]#             </tt></td><td>the <tt>NAME</tt>d group capture; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME]b             </tt></td><td>the byte offset of the <tt>NAME</tt>d group capture; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME]e             </tt></td><td>the ending byte offset of the <tt>NAME</tt>d group capture; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME]d             </tt></td><td>the byte length of the <tt>NAME</tt>d group capture; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME1|NAME2|...]#  </tt></td><td>the first <tt>NAME</tt>d group capture in the list that matched; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME1|NAME2|...]b  </tt></td><td>the byte offset of the first <tt>NAME</tt>d group capture in the list that matched; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME1|NAME2|...]e  </tt></td><td>the ending byte offset of the first <tt>NAME</tt>d group capture in the list that matched; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%[NAME1|NAME2|...]d  </tt></td><td>the byte length of the first <tt>NAME</tt>d group capture in the list that matched; requires option <tt>-P</tt> and capturing pattern <tt>(?&lt;NAME&gt;PATTERN)</tt></td></tr>
<tr><td><tt>%G                   </tt></td><td>all group capture indices/names of the match</td></tr>
<tr><td><tt>%[TEXT1|TEXT2|...]G  </tt></td><td>all <tt>TEXT</tt> indexed by group capture indices that matched; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%g                   </tt></td><td>the group capture index of the match or 1</td></tr>
<tr><td><tt>%[TEXT1|TEXT2|...]g  </tt></td><td>the <tt>TEXT</tt> indexed by the first group capture index that matched; requires option <tt>-P</tt></td></tr>
<tr><td><tt>%%                   </tt></td><td>the percentage sign</td></tr>
</tbody></table>

<ol>
<li>output for <tt>--csv</tt> is internally produced with
<pre>--format-open=&#39;%+&#39;
--format=&#39;%[,]$%H%N%K%B%V%~%u&#39;
</pre>
</li><li>output for <tt>--json</tt> is internally produced with
<pre>--format-begin=&#39;[&#39;
--format-open=&#39;%,%~  {%~    %[,%~    ]$%[&#34;file&#34;: ]H&#34;matches&#34;: [&#39;
--format=&#39;%,%~      { %[, ]$%[&#34;line&#34;: ]N%[&#34;column&#34;: ]K%[&#34;offset&#34;: ]B&#34;match&#34;: %J }%u&#39;
--format-close=&#39;%~    ]%~  }&#39;
--format-end=&#39;%~]%~&#39;
</pre>
</li><li>output for <tt>--xml</tt> is internally produced with
<pre>--format-begin=&#39;&lt;grep&gt;%~&#39;
--format-open=&#39;  &lt;file%[]$%[ name=]H&gt;%~&#39;
--format=&#39;    &lt;match%[\&#34;]$%[ line=\&#34;]N%[ column=\&#34;]K%[ offset=\&#34;]B&gt;%X&lt;/match&gt;%~%u&#39;
--format-close=&#39;  &lt;/file&gt;%~&#39;
--format-end=&#39;&lt;/grep&gt;%~&#39;
</pre>
</li><li>to output replaced matches in a file while keeping the rest of the file unchanged, use option <tt>--replace=<i>&#34;FORMAT&#34;</i></tt> and <tt>-y</tt> (<tt>--any-line</tt> or <tt>--passthru</tt>)
</li><li>to replace matches with corresponding text substitutions, you can use <tt>-P &#34;(PATTERN1)|(PATTERN2)|...|(PATTERNn)&#34;</tt> <tt>--replace=&#34;%[TEXT1|TEXT2|...|TEXTn]g&#34;</tt> for example <tt>-P -iw &#34;(one)|(two)|(three)&#34; --replace=&#34;%[ūnum|duo|tria]g&#34;</tt>
</li></ol>

<a name="index"> </a>
<h2>Indexing</h2>

<p>The new <a target="_blank" href="https://github.com/Genivia/ugrep-indexer"><tt>ugrep-indexer</tt></a> tool indexes a directory tree to accelerate cold searching.  File searching is generally slow when a file system on a drive is not cached in memory, i.e. when most files are &#34;cold&#34;.  Indexing accelerates recursive searching by performing a quick check on precomputed indexes to only search those files that may match.

</p><p>Indexed-based search with ugrep is safe and never skips new or updated files that may now match.  If any files and directories are added or changed after indexing, then ugrep will search these additions and changes made to the file system by comparing file and directory time stamps to the indexing time stamp.  When many files were added or changed, then you may want to re-index to bring the indexes up to date.  Re-indexing is incremental, it will not take as much time as the initial indexing process.

</p><p>Please note that indexing is effective for large file systems on slower storage media or when searching many zip and tarball archives.  Indexing won&#39;t speed up regular file searching on fast nVME SSDs, for example.

</p><dl>
<dt>ugrep-indexer -Iz -v</dt>  <dd>recursively (re-)index the working directory tree, ignore binary files (option <tt>-I</tt>), index archives and compressed files (option <tt>-z</tt>), showing verbose output (option <tt>-v</tt>)</dd>
<dt>ugrep-indexer -Iz -v <i>PATH</i></dt>
                               <dd>same as above, but (re-)index the specified directory tree <tt><i>PATH</i></tt></dd>
<dt>ugrep-indexer -f -0 -Iz -v <i>PATH</i></dt>
                               <dd>force full re-indexing with lowest index match accuracy to minimize index files (option <tt>-0</tt> for zero, default is <tt>-5</tt> for five)</dd>
<dt>ugrep-indexer -c <i>PATH</i></dt>
                               <dd>check the directory tree <tt><i>PATH</i></tt> indexes, the default is to check the working directory tree</dd>
<dt>ugrep-indexer -d <i>PATH</i></dt>
                               <dd>delete the hidden index files from the directory tree <tt><i>PATH</i></tt>, the default is to delete index files from the working directory tree</dd>
<dt>ug --index -Iz <i>OPTIONS</i> <i>PATTERN</i></dt>
                               <dd>perform an index-based recursive search, ignore binary files (option <tt>-I</tt>), also search archives and compressed files (option <tt>-z</tt>)</dd>
<dt>ug --index -r -Iz <i>OPTIONS</i> <i>PATTERN</i> <i>PATH</i></dt>
                               <dd>same as above, but perform an index-based recursive search on the specified directory tree <tt><i>PATH</i></tt></dd>
<dt>ug --index <i>OPTIONS</i> <i>PATTERN</i> <i>FILE</i></dt>
                               <dd>search <tt><i>FILE</i></tt>, but <u>not using an index</u> (only <u>recursive searching</u> is accelerated)
</dd></dl>

<ol>
<li><tt>ugrep-indexer</tt> option <tt>-v</tt> reports progress; to create a log, redirect <tt>ugrep-indexer</tt> output to a log file
</li><li><tt>ugrep-indexer</tt> option <tt>-S</tt> follows symlinks to files, never follows symlinks to directories
</li><li><tt>ugrep-indexer</tt> option <tt>--ignore-files</tt> obeys gitignore files
</li><li><tt>ugrep-indexer</tt> options <tt>-z --zmax=2</tt> index nested archives and tarballs
</li><li><tt>ug</tt> option <tt>--index</tt> works with all other search options, except for options <tt>-P</tt>, <tt>-Z</tt>, <tt>-v</tt> and <tt>--filter</tt>
</li><li><tt>ug</tt> option <tt>--stats</tt> reports index-based search details, including false positives; false positives are reduced with higher indexing accuracy and/or by using more specific search patterns
</li></ol>

<a name="bugs"> </a>
<h2>Bugs</h2>

<p>If you found a bug or an issue, then please report it at <a href="https://github.com/Genivia/ugrep/issues">https://github.com/Genivia/ugrep/issues</a>

<a name="license"> </a>
</p><h2>License</h2>

<p>Ugrep is open source BSD-3 licensed:

</p><div>
<table>
<tbody><tr><th>Permissions</th></tr>
<tr><td>✔️  commercial use</td></tr>
<tr><td>✔️  modification</td></tr>
<tr><td>✔️  distribution</td></tr>
<tr><td>✔️  private use</td></tr>
</tbody></table>
</div>

<div>
<table>
<tbody><tr><th>Limitations</th></tr>
<tr><td>❌ liability</td></tr>
<tr><td>❌ warranty</td></tr>
</tbody></table>
</div>

<div>
<table>
<tbody><tr><th>Conditions</th></tr>
<tr><td>ⓘ  include license</td></tr>
<tr><td>ⓘ  copyright notice</td></tr>
</tbody></table>
</div>

<p>Ugrep is written by Robert A. van Engelen, Copyright (c) 2023 Robert A. van Engelen, Genivia Inc.

</p><p>The ugrep author received the 🏆 <a href="https://opensource.googleblog.com/2022/03/Announcing-First-Group-of-Google-Open-Source-Peer-Bonus-Winners-in-2022.html">Google Peer Bonus Award 2022</a> for developing ugrep

</p><p>Ugrep project repo: <a href="https://github.com/Genivia/ugrep">https://github.com/Genivia/ugrep</a> ⭐️ thank you for starring the project!

</p><p>Ugrep uses the RE/flex regex library: <a href="https://github.com/Genivia/RE-flex">https://github.com/Genivia/RE-flex</a>

</p><p>Ugrep <tt>-P</tt> uses the PCRE2 library: <a href="https://www.pcre.org">https://www.pcre.org</a>

</p><hr/>

<p><small>See also: <a target="_blank" href="https://www.gnu.org/software/grep/">gnu grep</a>, <a taget="_blank" href="https://man.freebsd.org/cgi/man.cgi?grep(1)">bsd grep</a>, <a target="_blank" href="https://git-scm.com/docs/git-grep">git grep</a>, <a target="_blank" href="https://man7.org/linux/man-pages/man1/pcregrep.1.html">pcre grep</a>, <a href="https://www.usenix.org/legacy/publications/library/proceedings/wu.pdf">agrep</a>, <a target="_blank" href="https://beyondgrep.com">ack</a>, <a target="_blank" href="https://geoff.greer.fm/ag/">ag</a>, <a target="_blank" href="https://docs.rs/crate/ripgrep/0.2.7">rg</a>, <a target="_blank" href="https://sift-tool.org">sift</a></small>

</p><p><small>Last updated: Fri Dec 22, 2023</small>

</p><hr/>




</div>
  </body>
</html>
