<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/PRQL/prql">Original</a>
    <h1>PRQL: Pipelined Relational Query Language</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">

<p dir="auto"><a href="https://prql-lang.org" rel="nofollow"><img src="https://camo.githubusercontent.com/9d310183f968381c446a43f1225521cfe7755af675ba04d7cc648d1aa3f348a8/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f494e54524f2d5745422d626c75653f7374796c653d666f722d7468652d6261646765" alt="Website" data-canonical-src="https://img.shields.io/badge/INTRO-WEB-blue?style=for-the-badge"/></a>
<a href="https://prql-lang.org/playground" rel="nofollow"><img src="https://camo.githubusercontent.com/68e68473f42ca8d5d31d7a86e27bd1d2a9b08425a959073425d3163bda127e39/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f494e54524f2d504c415947524f554e442d626c75653f7374796c653d666f722d7468652d6261646765" alt="Playground" data-canonical-src="https://img.shields.io/badge/INTRO-PLAYGROUND-blue?style=for-the-badge"/></a>
<a href="https://prql-lang.org/book" rel="nofollow"><img src="https://camo.githubusercontent.com/91acdbb5a1171a4092ebccf530cd2e015b67a8264fc41402d283b9a201a76a29/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f444f43532d424f4f4b2d626c75653f7374796c653d666f722d7468652d6261646765" alt="Language Docs" data-canonical-src="https://img.shields.io/badge/DOCS-BOOK-blue?style=for-the-badge"/></a>
<a href="https://discord.gg/eQcfaCmsNc" rel="nofollow"><img src="https://camo.githubusercontent.com/3d5cec0c7f1816c3d516aa343bba76dd86bbfaa93a3d7c3436e23756b3cf9555/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f3933363732383131363731323331363938393f6c6162656c3d646973636f726425323063686174267374796c653d666f722d7468652d6261646765" alt="Discord" data-canonical-src="https://img.shields.io/discord/936728116712316989?label=discord%20chat&amp;style=for-the-badge"/></a></p>



<p dir="auto"><a href="https://github.com/PRQL/prql/actions?query=branch%3Amain+workflow%3Atest-all"><img src="https://camo.githubusercontent.com/743fbd692fee4a030f7eb1b37e96f271fa2091fa2a0a7b3f52480be2fb265e12/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f616374696f6e732f776f726b666c6f772f7374617475732f5052514c2f7072716c2f70756c6c2d726571756573742e79616d6c3f6272616e63683d6d61696e266c6f676f3d676974687562267374796c653d666f722d7468652d6261646765" alt="GitHub CI Status" data-canonical-src="https://img.shields.io/github/actions/workflow/status/PRQL/prql/pull-request.yaml?branch=main&amp;logo=github&amp;style=for-the-badge"/></a>
<a href="https://github.com/PRQL/prql/graphs/contributors"><img src="https://camo.githubusercontent.com/efe23154c6fb42a3b0c2ce0c1f482b687ab7303567211d6f84d8e10a6cdc42f6/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f636f6e7472696275746f72732f5052514c2f7072716c3f7374796c653d666f722d7468652d6261646765" alt="GitHub contributors" data-canonical-src="https://img.shields.io/github/contributors/PRQL/prql?style=for-the-badge"/></a>
<a href="https://github.com/PRQL/prql/stargazers"><img src="https://camo.githubusercontent.com/aa2a20c1221a4e5148eef3102bb622d4bee6cd6b6df32e474f54adaaf016c927/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f73746172732f5052514c2f7072716c3f7374796c653d666f722d7468652d6261646765" alt="Stars" data-canonical-src="https://img.shields.io/github/stars/PRQL/prql?style=for-the-badge"/></a></p>
<p dir="auto"><strong>P</strong>ipelined <strong>R</strong>elational <strong>Q</strong>uery <strong>L</strong>anguage, pronounced &#34;Prequel&#34;.</p>
<p dir="auto">PRQL is a modern language for transforming data — a simple, powerful, pipelined
SQL replacement. Like SQL, it&#39;s readable, explicit and declarative. Unlike SQL,
it forms a logical pipeline of transformations, and supports abstractions such
as variables and functions. It can be used with any database that uses SQL,
since it compiles to SQL.</p>
<p dir="auto">PRQL can be as simple as:</p>
<div dir="auto" data-snippet-clipboard-copy-content="from tracks
filter artist == &#34;Bob Marley&#34;                 # Each line transforms the previous result
aggregate {                                   # `aggregate` reduces each column to a value
  plays    = sum plays,
  longest  = max length,
  shortest = min length,                      # Trailing commas are allowed
}"><pre><span>from </span>tracks
<span>filter </span>artist <span>==</span> <span><span>&#34;</span>Bob Marley<span>&#34;</span></span>                 # <span>Each</span> line transforms the previous result
<span>aggregate </span><span><span>{</span></span>                                   # <span>`aggregate`</span> reduces each column to a value
  plays    <span>=</span> sum plays<span><span>,</span></span>
  longest  <span>=</span> max length<span><span>,</span></span>
  shortest <span>=</span> min length<span><span>,</span></span>                      # <span>Trailing</span> commas are allowed
<span><span>}</span></span></pre></div>
<p dir="auto">Here&#39;s a fuller example of the language;</p>
<div dir="auto" data-snippet-clipboard-copy-content="from employees
filter start_date &gt; @2021-01-01               # Clear date syntax
derive {                                      # `derive` adds columns / variables
  gross_salary = salary + (tax ?? 0),         # Terse coalesce
  gross_cost = gross_salary + benefits_cost,  # Variables can use other variables
}
filter gross_cost &gt; 0
group {title, country} (                      # `group` runs a pipeline over each group
  aggregate {                                 # `aggregate` reduces each group to a value
    average gross_salary,
    sum_gross_cost = sum gross_cost,          # `=` sets a column name
  }
)
filter sum_gross_cost &gt; 100_000               # `filter` replaces both of SQL&#39;s `WHERE` &amp; `HAVING`
derive id = f&#34;{title}_{country}&#34;              # F-strings like Python
derive country_code = s&#34;LEFT(country, 2)&#34;     # S-strings allow using SQL as an escape hatch
sort {sum_gross_cost, -country}               # `-country` means descending order
take 1..20                                    # Range expressions (also valid here as `take 20`)"><pre><span>from </span>employees
<span>filter </span>start_date <span>&gt;</span> @<span>2021</span><span>-</span><span>01</span><span>-</span><span>01</span>               # <span>Clear</span> date syntax
<span>derive </span><span><span>{</span></span>                                      # <span>`derive`</span> adds columns <span>/</span> variables
  gross_salary <span>=</span> salary <span>+</span> <span>(</span>tax <span>??</span> <span>0</span><span>)</span><span><span>,</span></span>         # <span>Terse</span> coalesce
  gross_cost <span>=</span> gross_salary <span>+</span> benefits_cost<span><span>,</span></span>  # <span>Variables</span> can use other variables
<span><span>}</span></span>
<span>filter </span>gross_cost <span>&gt;</span> <span>0</span>
<span>group </span><span><span>{</span></span>title<span><span>,</span></span> country<span><span>}</span></span> <span>(</span>                      # <span>`group`</span> runs a pipeline over each group
  aggregate <span><span>{</span></span>                                 # <span>`aggregate`</span> reduces each group to a value
    average gross_salary<span><span>,</span></span>
    sum_gross_cost <span>=</span> sum gross_cost<span><span>,</span></span>          # `<span>=</span>` sets a column name
  <span><span>}</span></span>
<span>)</span>
<span>filter </span>sum_gross_cost <span>&gt;</span> 100_000               # <span>`filter`</span> replaces both <span>of </span><span>SQL</span>&#39;s <span>`WHERE`</span> <span>&amp;</span> <span>`HAVING`</span>
<span>derive </span>id <span>=</span> f<span><span>&#34;</span>{title}_{country}<span>&#34;</span></span>              # <span>F</span><span>-</span>strings like <span>Python</span>
<span>derive </span>country_code <span>=</span> s<span><span>&#34;</span>LEFT(country, 2)<span>&#34;</span></span>     # <span>S</span><span>-</span>strings allow using <span>SQL</span> <span>as </span>an escape hatch
<span>sort </span><span><span>{</span></span>sum_gross_cost<span><span>,</span></span> <span>-</span>country<span><span>}</span></span>               # `<span>-</span>country` means descending order
<span>take </span><span>1</span><span>..</span><span>20</span>                                    # <span>Range</span> expressions <span>(</span>also valid here <span>as </span>`take <span>20</span>`<span>)</span></pre></div>
<p dir="auto">For more on the language, more examples &amp; comparisons with SQL, visit
<a href="https://prql-lang.org" rel="nofollow">prql-lang.org</a>. To experiment with PRQL in the browser, check out
<a href="https://prql-lang.org/playground" rel="nofollow">PRQL Playground</a>.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-current-status---april-2023" aria-hidden="true" href="#current-status---april-2023"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Current Status - April 2023</h2>
<p dir="auto">PRQL is being actively developed by a growing community. It&#39;s ready to use by
the intrepid, either with our supported integrations, or within your own tools,
using one of our supported language bindings.</p>
<p dir="auto">PRQL still has some minor bugs and some missing features, and probably is only
ready to be rolled out to non-technical teams for fairly simple queries.</p>
<p dir="auto">Here&#39;s our current <a href="https://prql-lang.org/roadmap/" rel="nofollow">Roadmap</a> and our
<a href="https://github.com/PRQL/prql/milestones">Milestones.</a></p>
<p dir="auto">Our immediate focus for the code is on:</p>
<ul dir="auto">
<li>Building out the next few big features, including
<a href="https://github.com/PRQL/prql/pull/1964" data-hovercard-type="pull_request" data-hovercard-url="/PRQL/prql/pull/1964/hovercard">types</a> and
<a href="https://github.com/PRQL/prql/pull/2129" data-hovercard-type="pull_request" data-hovercard-url="/PRQL/prql/pull/2129/hovercard">modules</a>.</li>
<li>Ensuring our supported features feel extremely robust; resolving any
<a href="https://github.com/PRQL/prql/issues?q=is%3Aissue+is%3Aopen+label%3Abug+label%3Apriority">priority bugs</a>.</li>
</ul>
<p dir="auto">We&#39;re also spending time thinking about:</p>
<ul dir="auto">
<li>Making it really easy to start using PRQL. We&#39;re doing that by building
integrations with tools that folks already use; for example our VS Code
extension &amp; Jupyter integration. If there are tools you&#39;re familiar with that
you think would be open to integrating with PRQL, please let us know in an
issue.</li>
<li>Making it easier to contribute to the compiler. We have a wide group of
contributors to the project, but contributions to the compiler itself are
quite concentrated. We&#39;re keen to expand this;
<a href="https://github.com/PRQL/prql/issues/1840" data-hovercard-type="issue" data-hovercard-url="/PRQL/prql/issues/1840/hovercard">#1840</a> for feedback.</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-get-involved" aria-hidden="true" href="#get-involved"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Get involved</h2>
<p dir="auto">To stay in touch with PRQL:</p>
<ul dir="auto">
<li>Follow us on <a href="https://twitter.com/prql_lang" rel="nofollow">Twitter</a></li>
<li>Join us on <a href="https://discord.gg/eQcfaCmsNc" rel="nofollow">Discord</a></li>
<li>Star this repo</li>
<li><a href="https://prql-lang.org/book/project/contributing/" rel="nofollow">Contribute</a> — join us in building PRQL, through writing code
<a href="https://github.com/PRQL/prql/discussions">(send us your use-cases!)</a>, or
inspiring others to use it.</li>
<li>See the <a href="https://prql-lang.org/book/project/contributing/development.html" rel="nofollow">development</a> documentation for PRQL. It&#39;s easy to get
started — the project can be built in a couple of commands, and we&#39;re a really
friendly community!</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-explore" aria-hidden="true" href="#explore"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Explore</h2>
<ul dir="auto">
<li><a href="https://prql-lang.org/playground" rel="nofollow">PRQL Playground</a> — experiment with PRQL in the browser.</li>
<li><a href="https://prql-lang.org/book" rel="nofollow">PRQL Book</a> — the language documentation.</li>
<li><a href="https://github.com/prql/dbt-prql">dbt-prql</a> — write PRQL in dbt models.</li>
<li><a href="https://pyprql.readthedocs.io/en/latest/magic_readme.html" rel="nofollow">Jupyter magic</a> —
run PRQL in Jupyter, either against a DB, or a Pandas DataFrame / CSV /
Parquet file through DuckDB.</li>
<li><a href="https://pyprql.readthedocs.io" rel="nofollow">pyprql Docs</a> — the pyprql documentation, the
Python bindings to PRQL, including Jupyter magic.</li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=prql-lang.prql-vscode" rel="nofollow">PRQL VS Code extension</a></li>
<li><a href="https://www.npmjs.com/package/prql-js" rel="nofollow">prql-js</a> — JavaScript bindings for
PRQL.</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-repo-organization" aria-hidden="true" href="#repo-organization"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Repo organization</h2>
<p dir="auto">This repo is composed of:</p>
<ul dir="auto">
<li><strong><a href="https://dev.to/PRQL/prql/blob/main/crates/prql-compiler">prql-compiler</a></strong> — the compiler, written in rust,
whose main role is to compile PRQL into SQL. It also includes
<a href="https://dev.to/PRQL/prql/blob/main/crates/prqlc">prqlc</a>, the CLI.</li>
<li><strong><a href="https://dev.to/PRQL/prql/blob/main/web">web</a></strong> — our web content: the <a href="https://prql-lang.org/book" rel="nofollow">Book</a>,
<a href="https://prql-lang.org" rel="nofollow">Website</a>, and <a href="https://prql-lang.org/playground" rel="nofollow">Playground</a>.</li>
<li><strong><a href="https://dev.to/PRQL/prql/blob/main/bindings">bindings</a></strong> — bindings from various languages to
<code>prql-compiler</code>.</li>
</ul>
<p dir="auto">It also contains our testing / CI infrastructure and development tools. Check
out our <a href="https://prql-lang.org/book/project/contributing/development.html" rel="nofollow">development docs</a> for more details.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-contributors" aria-hidden="true" href="#contributors"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Contributors</h2>
<p dir="auto">Many thanks to those who&#39;ve made our progress possible:</p>
<p dir="auto"><a href="https://github.com/PRQL/prql/graphs/contributors"><img src="https://camo.githubusercontent.com/c4ec6198e5445cfa52d83958a5d1be5fbd83409a2cdebb3bb7d1ad180cd053a2/68747470733a2f2f636f6e747269622e726f636b732f696d6167653f7265706f3d5052514c2f7072716c" alt="Contributors" data-canonical-src="https://contrib.rocks/image?repo=PRQL/prql"/></a></p>
</article>
          </div></div>
  </body>
</html>
