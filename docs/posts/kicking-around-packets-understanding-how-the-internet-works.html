<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://otee.dev/2022/02/02/understanding-the-internet.html">Original</a>
    <h1>Kicking Around Packets: Understanding How the Internet Works</h1>
    
    <div id="readability-page-1" class="page"><div>
        <article>
            
<p><small>February 02, 2022</small></p>

<p>In this post, I try to answer the question “What is the internet and how does it really work?”</p>

<h2 id="key-actors">Key actors</h2>

<p>Before going into further details, here is a useful list of some of the key terms used in this article.</p>

<ul>
  <li><strong>End-system or host</strong>: This is a device (e.g., a computer) that actually wants to use the internet. It is the ultimate consumer of the communication services offered by the internet. It typically executes a network application on behalf of the user and uses the internet to that end. This article uses the terms ‘host’ and ‘end-system’ interchangeably.</li>
  <li><strong>Packet switches or routers</strong>: Different networks are interconnected to each other through a series of packet-switches. They are mainly responsible for forwarding packets of information from one node to another.  Packet switches are of two kinds: link-layer switches and routers (discussed below). For the most part, this article uses the term ‘routers’ to refer to packet-switches in general.</li>
  <li><strong>Communication links</strong>: These are the physical media that connect routers to one another. Packets travel from one router to the next via a communication link.</li>
</ul>

<h2 id="understanding-the-internet">Understanding the Internet</h2>

<p>The internet is a <strong>network of networks</strong>.</p>

<p>Each end-system accesses the internet through an <strong>Internet Service Provider</strong> (ISP). An ISP is typically a telecom company providing internet service to end-users.</p>

<p>The starting point of the internet is an access ISP. The access ISP is the network which connects a host with the rest of the internet.</p>

<p>Each ISP has its own network. The overarching goal of the internet is to enable any two end-systems to communicate with each other, irrespective of where they are situated. Thus, it is not practically feasible for one ISP to provide a direct line of communication between every pair of end-points. Instead, networks have inter-connections with each other. In other words, each network interacts with one or more networks to deliver a message.  Here’s how <a href="https://en.wikipedia.org/wiki/Internetworking">Wikipedia</a> defines ‘inter-networking’</p>

<blockquote>
  <p>“Internetworking is the practice of interconnecting multiple computer networks, such that any pair of hosts in the connected networks can exchange messages irrespective of their hardware-level networking technology. The resulting system of interconnected networks are called an internetwork, or simply an internet.”</p>

</blockquote>

<p>These interconnections can be direct, i.e., between two networks directly. This kind of interconnection is called <strong>peering</strong>, where two ISPs, at the same level of hierarchy, choose to mutually allow each other access to their respective networks. Most often, though, interconnections take place indirectly, i.e., to reach your destination end-system’s access ISP, you will have to go via one or more intermediary networks (which are typically larger networks with larger coverage). These kinds of indirect interconnections are called <strong>transit</strong>. Thus, typically, to pass on a message from one end-user to another the “<em>the traffic will often be transferred through several indirect interconnections to reach the end-user</em>” (<a href="https://arstechnica.com/features/2008/09/peering-and-transit/">source</a>)</p>

<p><img src="https://twitter.com/assets/images/network_interconnections.png" width="90%"/></p>

<p><em>Source: <a href="https://eclass.teicrete.gr/modules/document/file.php/TP326/%CE%98%CE%B5%CF%89%CF%81%CE%AF%CE%B1%20(Lectures)/Computer_Networking_A_Top-Down_Approach.pdf">Computer Programming: A Top-Down Approach</a></em></p>

<h2 id="how-the-internet-works-kicking-around-packets">How the Internet Works: Kicking Around Packets</h2>

<p>Largely, this is how the internet works: when a piece of information needs to be sent from one end-system to another, the information is divided into several segments, called <strong>packets.</strong> These packets are then sent to the destination end-system through the internet, which comprises several <strong>communication links</strong> and <strong>packet switches</strong>.</p>

<p>Communication links are the physical media through which packets are transmitted. Examples include optical fibers and twisted copper wires.</p>

<p>Each packet switch has multiple communication links attached to it. Packet switches take each packet it receives on any one of its attached communication links and forwards them to another one of its attached communication links.  There are two main types of packet switches: routers and link-layer switches. While both forward packets towards the destination host, link-layer switches are used for connecting devices within a network. They are mostly used at the access network (for connecting a device to an access ISP). On the other hand, routers are used in the network core, i.e., for sending packets across networks. As both link-layers and routers do the fundamental task of forwarding packets towards the destination end-point, the rest of this article will refer to packet-switches as <strong>routers.</strong></p>

<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1480 542.51"><defs></defs><path d="M432.77,196a17.38,17.38,0,1,0-27.44,14.18,1.66,1.66,0,1,1-1.93,2.7,20.7,20.7,0,1,1,23.06.62,1.69,1.69,0,0,1-.89.25,1.64,1.64,0,0,1-1.4-.77,1.66,1.66,0,0,1,.51-2.29A17.3,17.3,0,0,0,432.77,196ZM398,222.3a1.72,1.72,0,0,0,.92.27,1.66,1.66,0,0,0,.92-3,28.17,28.17,0,1,1,31.4-.22,1.66,1.66,0,0,0,1.87,2.75,31.5,31.5,0,1,0-35.11.24Zm167.72,20.08v60a7.49,7.49,0,0,1-7.48,7.47H378.34a7.48,7.48,0,0,1-7.47-7.47v-60a7.49,7.49,0,0,1,7.47-7.48h33V206.74a4.15,4.15,0,0,1,8.3,0V234.9H558.25A7.49,7.49,0,0,1,565.73,242.38Zm-8.31.83H379.17v58.32H557.42Zm-48.19,36a6,6,0,1,0-6-6A6,6,0,0,0,509.23,279.17Zm19.31,0a6,6,0,1,0-6-6A6,6,0,0,0,528.54,279.17Zm-57.93,0a6,6,0,1,0-6-6A6,6,0,0,0,470.61,279.17Zm19.31,0a6,6,0,1,0-6-6A6,6,0,0,0,489.92,279.17Zm43.34,37.68H403.34a4.16,4.16,0,0,0,0,8.31H533.26a4.16,4.16,0,0,0,0-8.31Z"></path><path d="M1428.78,183.83V76a8.53,8.53,0,0,0-8.52-8.52H1257.72A8.53,8.53,0,0,0,1249.2,76V183.83h-11.37c1,7.7,6.35,13.63,12.76,13.63H1426.5c6.41,0,11.75-5.93,12.76-13.63ZM1258.94,77.2h160.11V183.83H1258.94Z"></path><path d="M1428.75,422V314.2a8.53,8.53,0,0,0-8.52-8.52H1257.69a8.52,8.52,0,0,0-8.51,8.52V422h-11.37c1,7.7,6.34,13.63,12.75,13.63h175.91c6.41,0,11.75-5.93,12.76-13.63ZM1258.91,315.41H1419V422H1258.91Z"></path><path d="M1069.94,121h-7.09v19.56h-3.93V121h-7v-3.19h18Z"></path><path d="M1080.39,127.08a9.7,9.7,0,0,0-1.54-.12,3.48,3.48,0,0,0-3.52,2v11.56h-3.8V123.61h3.63l.09,1.89a4.28,4.28,0,0,1,3.82-2.2,3.48,3.48,0,0,1,1.34.22Z"></path><path d="M1092.42,140.52a6,6,0,0,1-.43-1.58,6.4,6.4,0,0,1-8.6.44,4.67,4.67,0,0,1-1.61-3.6,4.78,4.78,0,0,1,2-4.14,9.68,9.68,0,0,1,5.74-1.45h2.33v-1.11a3,3,0,0,0-.73-2.1,2.91,2.91,0,0,0-2.24-.79,3.35,3.35,0,0,0-2.12.65,2,2,0,0,0-.83,1.65h-3.8a4.17,4.17,0,0,1,.93-2.6,6.13,6.13,0,0,1,2.5-1.9,8.8,8.8,0,0,1,3.54-.69,7.14,7.14,0,0,1,4.74,1.49,5.36,5.36,0,0,1,1.81,4.2v7.62a8.58,8.58,0,0,0,.64,3.64v.27Zm-4.17-2.74a4.37,4.37,0,0,0,2.12-.54,3.7,3.7,0,0,0,1.49-1.47v-3.19h-2a5.62,5.62,0,0,0-3.18.74,2.37,2.37,0,0,0-1.06,2.07,2.23,2.23,0,0,0,.73,1.75A2.8,2.8,0,0,0,1088.25,137.78Z"></path><path d="M1101,140.52v-14.1h-2.58v-2.81H1101v-1.54a5.82,5.82,0,0,1,1.56-4.35,6,6,0,0,1,4.38-1.53,8.59,8.59,0,0,1,2.12.28l-.09,3a7.79,7.79,0,0,0-1.45-.12c-1.82,0-2.72.93-2.72,2.79v1.5h3.44v2.81h-3.44v14.1Z"></path><path d="M1112.32,140.52v-14.1h-2.58v-2.81h2.58v-1.54a5.82,5.82,0,0,1,1.56-4.35,6,6,0,0,1,4.37-1.53,8.67,8.67,0,0,1,2.13.28l-.1,3a7.71,7.71,0,0,0-1.45-.12c-1.81,0-2.72.93-2.72,2.79v1.5h3.44v2.81h-3.44v14.1Z"></path><path d="M1122.33,119.22a2,2,0,0,1,.56-1.45,2,2,0,0,1,1.58-.58,2.12,2.12,0,0,1,1.6.58,2,2,0,0,1,.56,1.45,2,2,0,0,1-.56,1.43,2.16,2.16,0,0,1-1.6.57,2.08,2.08,0,0,1-1.58-.57A2,2,0,0,1,1122.33,119.22Zm4,21.3h-3.79V123.61h3.79Z"></path><path d="M1137.44,137.8a3.45,3.45,0,0,0,2.36-.83,2.83,2.83,0,0,0,1-2.05h3.58a5.51,5.51,0,0,1-1,3,6.36,6.36,0,0,1-2.5,2.16,7.31,7.31,0,0,1-3.4.8,7.19,7.19,0,0,1-5.63-2.3,9.12,9.12,0,0,1-2.08-6.34v-.39a9,9,0,0,1,2.07-6.18,7.12,7.12,0,0,1,5.62-2.32,7,7,0,0,1,4.92,1.76,6.3,6.3,0,0,1,2,4.61h-3.58a3.49,3.49,0,0,0-1-2.39,3.21,3.21,0,0,0-2.37-.93,3.32,3.32,0,0,0-2.84,1.33,6.79,6.79,0,0,0-1,4.06v.61a6.94,6.94,0,0,0,1,4.1A3.34,3.34,0,0,0,1137.44,137.8Z"></path><path d="M1160,119.5v4.11h3v2.81h-3v9.44a2.11,2.11,0,0,0,.38,1.4,1.78,1.78,0,0,0,1.37.43,5.56,5.56,0,0,0,1.33-.16v2.94a9.38,9.38,0,0,1-2.5.36q-4.38,0-4.38-4.83v-9.58h-2.78v-2.81h2.78V119.5Z"></path><path d="M1164.67,131.91a9.93,9.93,0,0,1,1-4.48,7.21,7.21,0,0,1,2.76-3.06,7.86,7.86,0,0,1,4.1-1.07,7.37,7.37,0,0,1,5.55,2.2,8.67,8.67,0,0,1,2.31,5.85v.89a10.12,10.12,0,0,1-1,4.47,7.06,7.06,0,0,1-2.75,3,7.83,7.83,0,0,1-4.13,1.08,7.32,7.32,0,0,1-5.73-2.38,9.15,9.15,0,0,1-2.15-6.35Zm3.8.33a6.77,6.77,0,0,0,1.08,4.08,3.5,3.5,0,0,0,3,1.48,3.46,3.46,0,0,0,3-1.5,7.54,7.54,0,0,0,1.07-4.39,6.67,6.67,0,0,0-1.1-4.06,3.51,3.51,0,0,0-3-1.5,3.47,3.47,0,0,0-3,1.47A7.4,7.4,0,0,0,1168.47,132.24Z"></path><path d="M1204.67,135.22h-8.81l-1.84,5.3h-4.11l8.59-22.75h3.55l8.61,22.75h-4.13ZM1197,132h6.6l-3.3-9.43Z"></path><path d="M1272.68,227.73a8.23,8.23,0,0,1-2.69,5.68,9.15,9.15,0,0,1-6.23,2,8.85,8.85,0,0,1-4.79-1.29,8.45,8.45,0,0,1-3.2-3.67,13.18,13.18,0,0,1-1.17-5.51v-2.13a13.35,13.35,0,0,1,1.14-5.67,8.65,8.65,0,0,1,3.27-3.78,9.21,9.21,0,0,1,4.93-1.33,8.83,8.83,0,0,1,6.07,2,8.54,8.54,0,0,1,2.67,5.77h-3.94a5.59,5.59,0,0,0-1.43-3.53,4.71,4.71,0,0,0-3.37-1.09,4.62,4.62,0,0,0-4,1.88,9.44,9.44,0,0,0-1.41,5.53v2a10,10,0,0,0,1.32,5.63,4.39,4.39,0,0,0,3.87,1.94,5.12,5.12,0,0,0,3.5-1,5.45,5.45,0,0,0,1.48-3.48Z"></path><path d="M1275.13,226.53a9.93,9.93,0,0,1,1-4.48,7.09,7.09,0,0,1,2.76-3.06,7.73,7.73,0,0,1,4.09-1.07,7.37,7.37,0,0,1,5.56,2.2,8.66,8.66,0,0,1,2.3,5.84l0,.89a10.05,10.05,0,0,1-1,4.47,7.15,7.15,0,0,1-2.75,3.05,7.83,7.83,0,0,1-4.13,1.08,7.33,7.33,0,0,1-5.73-2.39,9.11,9.11,0,0,1-2.15-6.35Zm3.8.32a6.83,6.83,0,0,0,1.08,4.09,3.76,3.76,0,0,0,6,0,7.56,7.56,0,0,0,1.07-4.39,6.78,6.78,0,0,0-1.1-4.07,3.54,3.54,0,0,0-3-1.5,3.47,3.47,0,0,0-3,1.48A7.37,7.37,0,0,0,1278.93,226.85Z"></path><path d="M1297.63,218.23l.11,1.76a6.1,6.1,0,0,1,4.88-2.07c2.26,0,3.8.86,4.64,2.59a6,6,0,0,1,5.18-2.59,5.28,5.28,0,0,1,4.17,1.54A6.89,6.89,0,0,1,1318,224v11.1h-3.8v-11a3.38,3.38,0,0,0-.7-2.35,3.09,3.09,0,0,0-2.33-.75,3.18,3.18,0,0,0-2.12.69,3.64,3.64,0,0,0-1.15,1.82l0,11.59h-3.8V224a2.71,2.71,0,0,0-3.05-3,3.34,3.34,0,0,0-3.23,1.85v12.25h-3.8v-16.9Z"></path><path d="M1336.71,226.85a10.05,10.05,0,0,1-1.78,6.26,6.19,6.19,0,0,1-9.24.51v8h-3.79v-23.4h3.5l.15,1.72a5.57,5.57,0,0,1,4.55-2,5.75,5.75,0,0,1,4.85,2.3,10.36,10.36,0,0,1,1.76,6.4Zm-3.78-.32a7.08,7.08,0,0,0-1-4A3.26,3.26,0,0,0,1329,221a3.5,3.5,0,0,0-3.35,1.92v7.5a3.54,3.54,0,0,0,3.38,2,3.25,3.25,0,0,0,2.83-1.47A7.67,7.67,0,0,0,1332.93,226.53Z"></path><path d="M1350.16,233.48a5.89,5.89,0,0,1-4.75,2,5.25,5.25,0,0,1-4.16-1.61,6.82,6.82,0,0,1-1.42-4.66v-11h3.8v10.9c0,2.15.89,3.22,2.67,3.22a3.76,3.76,0,0,0,3.74-2V218.23h3.79v16.9h-3.57Z"></path><path d="M1362.46,214.12v4.11h3V221h-3v9.44a2.13,2.13,0,0,0,.38,1.4,1.81,1.81,0,0,0,1.37.43,6.12,6.12,0,0,0,1.33-.16v2.94a9.38,9.38,0,0,1-2.5.36q-4.38,0-4.38-4.83V221h-2.78v-2.81h2.78v-4.11Z"></path><path d="M1375.79,235.45a7.83,7.83,0,0,1-5.85-2.28,8.21,8.21,0,0,1-2.25-6v-.47a10.11,10.11,0,0,1,1-4.52,7.39,7.39,0,0,1,2.74-3.1,7.26,7.26,0,0,1,3.94-1.11,6.65,6.65,0,0,1,5.34,2.2,9.35,9.35,0,0,1,1.88,6.23v1.53h-11a5.12,5.12,0,0,0,1.4,3.32,4.22,4.22,0,0,0,3.09,1.22,5.17,5.17,0,0,0,4.25-2.11l2,1.95a6.81,6.81,0,0,1-2.71,2.35A8.45,8.45,0,0,1,1375.79,235.45Zm-.46-14.49a3.19,3.19,0,0,0-2.52,1.1,5.68,5.68,0,0,0-1.23,3h7.24v-.28a4.61,4.61,0,0,0-1-2.88A3.16,3.16,0,0,0,1375.33,221Z"></path><path d="M1394.37,221.7a8.76,8.76,0,0,0-1.55-.13,3.5,3.5,0,0,0-3.52,2v11.56h-3.79v-16.9h3.62l.09,1.89a4.28,4.28,0,0,1,3.82-2.2,3.66,3.66,0,0,1,1.34.21Z"></path><path d="M1417.83,229.84H1409l-1.84,5.29h-4.11l8.59-22.75h3.55l8.61,22.75h-4.13Zm-7.7-3.19h6.59l-3.29-9.44Z"></path><path d="M1273.21,464.82a8.23,8.23,0,0,1-2.69,5.68,9.16,9.16,0,0,1-6.24,2,8.88,8.88,0,0,1-4.79-1.29,8.46,8.46,0,0,1-3.19-3.66,13.26,13.26,0,0,1-1.17-5.52V460a13.36,13.36,0,0,1,1.14-5.68,8.65,8.65,0,0,1,3.27-3.78,9.19,9.19,0,0,1,4.93-1.33,8.78,8.78,0,0,1,6.06,2,8.55,8.55,0,0,1,2.68,5.78h-3.94a5.65,5.65,0,0,0-1.43-3.54,4.71,4.71,0,0,0-3.37-1.09,4.61,4.61,0,0,0-4,1.89,9.42,9.42,0,0,0-1.41,5.53v2a10,10,0,0,0,1.32,5.63,4.36,4.36,0,0,0,3.86,1.94,5.13,5.13,0,0,0,3.5-1,5.48,5.48,0,0,0,1.49-3.49Z"></path><path d="M1275.66,463.62a10.06,10.06,0,0,1,1-4.48,7.17,7.17,0,0,1,2.77-3.06,7.82,7.82,0,0,1,4.09-1.07,7.4,7.4,0,0,1,5.56,2.2,8.66,8.66,0,0,1,2.3,5.85l0,.89a10,10,0,0,1-1,4.46,7.09,7.09,0,0,1-2.75,3,7.86,7.86,0,0,1-4.14,1.08,7.32,7.32,0,0,1-5.72-2.38,9.1,9.1,0,0,1-2.15-6.35Zm3.8.33a6.77,6.77,0,0,0,1.07,4.08,3.77,3.77,0,0,0,6,0,7.54,7.54,0,0,0,1.07-4.39,6.68,6.68,0,0,0-1.11-4.06,3.71,3.71,0,0,0-5.94,0A7.41,7.41,0,0,0,1279.46,464Z"></path><path d="M1298.16,455.32l.11,1.77a6.07,6.07,0,0,1,4.87-2.08q3.39,0,4.64,2.59A6,6,0,0,1,1313,455a5.22,5.22,0,0,1,4.16,1.55,6.75,6.75,0,0,1,1.4,4.56v11.11h-3.79v-11a3.35,3.35,0,0,0-.71-2.36,3.06,3.06,0,0,0-2.32-.75,3.16,3.16,0,0,0-2.12.69,3.68,3.68,0,0,0-1.15,1.82l0,11.6h-3.8V461.1a2.71,2.71,0,0,0-3.05-3,3.33,3.33,0,0,0-3.23,1.86v12.25h-3.8V455.32Z"></path><path d="M1337.24,464a10.08,10.08,0,0,1-1.78,6.25,6.19,6.19,0,0,1-9.24.51v8h-3.8V455.32h3.5l.16,1.72a5.58,5.58,0,0,1,4.55-2,5.77,5.77,0,0,1,4.85,2.3,10.36,10.36,0,0,1,1.76,6.4Zm-3.78-.33a7.08,7.08,0,0,0-1-4,3.28,3.28,0,0,0-2.89-1.48,3.49,3.49,0,0,0-3.34,1.92v7.5a3.53,3.53,0,0,0,3.38,2,3.28,3.28,0,0,0,2.83-1.46A7.79,7.79,0,0,0,1333.46,463.62Z"></path><path d="M1350.69,470.57a5.91,5.91,0,0,1-4.75,2,5.25,5.25,0,0,1-4.16-1.61,6.8,6.8,0,0,1-1.42-4.66V455.32h3.8v10.91c0,2.14.89,3.22,2.67,3.22a3.75,3.75,0,0,0,3.73-2V455.32h3.8v16.91h-3.58Z"></path><path d="M1363,451.21v4.11h3v2.81h-3v9.44a2.06,2.06,0,0,0,.38,1.4,1.76,1.76,0,0,0,1.37.43,5.48,5.48,0,0,0,1.32-.16v2.94a9.27,9.27,0,0,1-2.5.36q-4.36,0-4.37-4.83v-9.58h-2.78v-2.81h2.78v-4.11Z"></path><path d="M1376.31,472.54a7.89,7.89,0,0,1-5.85-2.27,8.29,8.29,0,0,1-2.24-6.06v-.47a10.17,10.17,0,0,1,1-4.52,7.39,7.39,0,0,1,2.74-3.1,7.26,7.26,0,0,1,3.94-1.11,6.61,6.61,0,0,1,5.33,2.2,9.31,9.31,0,0,1,1.89,6.24V465h-11a5,5,0,0,0,1.4,3.31,4.18,4.18,0,0,0,3.08,1.22,5.13,5.13,0,0,0,4.25-2.11l2,2a6.8,6.8,0,0,1-2.71,2.35A8.46,8.46,0,0,1,1376.31,472.54Zm-.45-14.48a3.19,3.19,0,0,0-2.52,1.09,5.69,5.69,0,0,0-1.23,3.05h7.24v-.29a4.67,4.67,0,0,0-1-2.88A3.17,3.17,0,0,0,1375.86,458.06Z"></path><path d="M1394.89,458.79a9.7,9.7,0,0,0-1.54-.13,3.49,3.49,0,0,0-3.52,2v11.57H1386V455.32h3.63l.09,1.89a4.28,4.28,0,0,1,3.81-2.2,3.5,3.5,0,0,1,1.35.22Z"></path><path d="M1405.63,472.23V449.48h7.79a9.52,9.52,0,0,1,5.88,1.54,5.47,5.47,0,0,1,2,4.61,5,5,0,0,1-.84,2.82,5.34,5.34,0,0,1-2.47,1.93,5,5,0,0,1,2.85,1.89,5.43,5.43,0,0,1,1,3.32,6.06,6.06,0,0,1-2,4.92,9,9,0,0,1-5.89,1.72Zm3.95-13.17h3.88a4.49,4.49,0,0,0,2.88-.84,2.88,2.88,0,0,0,1-2.37,2.92,2.92,0,0,0-1-2.44,4.87,4.87,0,0,0-3-.75h-3.84Zm0,2.9v7.11H1414a4.28,4.28,0,0,0,2.91-.92,3.26,3.26,0,0,0,1-2.56q0-3.55-3.62-3.63Z"></path><path d="M1069.94,394.66h-7.09v19.57h-3.93V394.66h-7v-3.18h18Z"></path><path d="M1080.39,400.79a9.7,9.7,0,0,0-1.54-.13,3.49,3.49,0,0,0-3.52,2v11.57h-3.8V397.32h3.63l.09,1.89a4.28,4.28,0,0,1,3.82-2.2,3.48,3.48,0,0,1,1.34.22Z"></path><path d="M1092.42,414.23a6.07,6.07,0,0,1-.43-1.58,6.4,6.4,0,0,1-8.6.44,4.67,4.67,0,0,1-1.61-3.6,4.81,4.81,0,0,1,2-4.15,9.75,9.75,0,0,1,5.74-1.44h2.33v-1.11a2.65,2.65,0,0,0-3-2.89,3.35,3.35,0,0,0-2.12.65,2,2,0,0,0-.83,1.65h-3.8a4.21,4.21,0,0,1,.93-2.61,6.11,6.11,0,0,1,2.5-1.89,8.8,8.8,0,0,1,3.54-.69,7.14,7.14,0,0,1,4.74,1.49,5.34,5.34,0,0,1,1.81,4.2v7.62a8.58,8.58,0,0,0,.64,3.64v.27Zm-4.17-2.74a4.37,4.37,0,0,0,2.12-.54,3.7,3.7,0,0,0,1.49-1.47v-3.19h-2a5.62,5.62,0,0,0-3.18.73,2.38,2.38,0,0,0-1.06,2.08,2.19,2.19,0,0,0,.73,1.74A2.76,2.76,0,0,0,1088.25,411.49Z"></path><path d="M1101,414.23v-14.1h-2.58v-2.81H1101v-1.55a5.81,5.81,0,0,1,1.56-4.34,6,6,0,0,1,4.38-1.53,8.59,8.59,0,0,1,2.12.28l-.09,3a7.73,7.73,0,0,0-1.45-.13c-1.82,0-2.72.94-2.72,2.8v1.5h3.44v2.81h-3.44v14.1Z"></path><path d="M1112.32,414.23v-14.1h-2.58v-2.81h2.58v-1.55a5.81,5.81,0,0,1,1.56-4.34,6,6,0,0,1,4.37-1.53,8.67,8.67,0,0,1,2.13.28l-.1,3a7.65,7.65,0,0,0-1.45-.13c-1.81,0-2.72.94-2.72,2.8v1.5h3.44v2.81h-3.44v14.1Z"></path><path d="M1122.33,392.93a2,2,0,0,1,.56-1.45,2,2,0,0,1,1.58-.58,2.12,2.12,0,0,1,1.6.58,2,2,0,0,1,.56,1.45,2,2,0,0,1-.56,1.43,2.16,2.16,0,0,1-1.6.57,2.08,2.08,0,0,1-1.58-.57A2,2,0,0,1,1122.33,392.93Zm4,21.3h-3.79V397.32h3.79Z"></path><path d="M1137.44,411.51a3.45,3.45,0,0,0,2.36-.83,2.83,2.83,0,0,0,1-2.05h3.58a5.51,5.51,0,0,1-1,2.95,6.36,6.36,0,0,1-2.5,2.16,7.43,7.43,0,0,1-3.4.8,7.22,7.22,0,0,1-5.63-2.3,9.12,9.12,0,0,1-2.08-6.34v-.39a9,9,0,0,1,2.07-6.18,7.12,7.12,0,0,1,5.62-2.32,6.93,6.93,0,0,1,4.92,1.76,6.3,6.3,0,0,1,2,4.61h-3.58a3.47,3.47,0,0,0-1-2.39,3.21,3.21,0,0,0-2.37-.93,3.32,3.32,0,0,0-2.84,1.33,6.79,6.79,0,0,0-1,4.06v.61a6.94,6.94,0,0,0,1,4.1A3.34,3.34,0,0,0,1137.44,411.51Z"></path><path d="M1160,393.21v4.11h3v2.81h-3v9.44a2.11,2.11,0,0,0,.38,1.4,1.78,1.78,0,0,0,1.37.43,5.56,5.56,0,0,0,1.33-.16v2.94a9.38,9.38,0,0,1-2.5.36q-4.38,0-4.38-4.83v-9.58h-2.78v-2.81h2.78v-4.11Z"></path><path d="M1164.67,405.62a9.93,9.93,0,0,1,1-4.48,7.21,7.21,0,0,1,2.76-3.06,7.86,7.86,0,0,1,4.1-1.07,7.37,7.37,0,0,1,5.55,2.2,8.67,8.67,0,0,1,2.31,5.85V406a10,10,0,0,1-1,4.46,7,7,0,0,1-2.75,3,7.83,7.83,0,0,1-4.13,1.08,7.32,7.32,0,0,1-5.73-2.38,9.15,9.15,0,0,1-2.15-6.35Zm3.8.33a6.77,6.77,0,0,0,1.08,4.08,3.5,3.5,0,0,0,3,1.48,3.46,3.46,0,0,0,3-1.5,7.54,7.54,0,0,0,1.07-4.39,6.67,6.67,0,0,0-1.1-4.06,3.51,3.51,0,0,0-3-1.5,3.47,3.47,0,0,0-3,1.47A7.4,7.4,0,0,0,1168.47,406Z"></path><path d="M1191.94,414.23V391.48h7.8a9.51,9.51,0,0,1,5.87,1.54,5.45,5.45,0,0,1,2,4.61,4.88,4.88,0,0,1-.85,2.82,5.36,5.36,0,0,1-2.46,1.93,5,5,0,0,1,2.85,1.89,5.49,5.49,0,0,1,1,3.32,6.06,6.06,0,0,1-2.05,4.92,9,9,0,0,1-5.88,1.72Zm4-13.17h3.88a4.45,4.45,0,0,0,2.88-.84,2.88,2.88,0,0,0,1-2.37,2.92,2.92,0,0,0-1-2.44,4.85,4.85,0,0,0-3-.75h-3.85Zm0,2.9v7.11h4.39a4.28,4.28,0,0,0,2.91-.92,3.24,3.24,0,0,0,1-2.56q0-3.55-3.63-3.63Z"></path><path d="M933.88,321.4h-185a3.5,3.5,0,0,1-3.5-3.5v-57a3.5,3.5,0,0,1,3.5-3.5h185a3.5,3.5,0,0,1,3.5,3.5v57A3.5,3.5,0,0,1,933.88,321.4Zm-181.49-7h178v-50h-178Z"></path><path d="M933.88,264.42h-185a3.49,3.49,0,0,1-2.28-6.15l33.24-28.49a3.46,3.46,0,0,1,2.28-.85h58.65a3.83,3.83,0,0,1,.6,0,4.07,4.07,0,0,1,.61,0h58.65a3.5,3.5,0,0,1,2.28.85l33.24,28.49a3.5,3.5,0,0,1-2.28,6.15Zm-175.53-7H924.42l-25.08-21.49H842a3.08,3.08,0,0,1-.61-.05,2.92,2.92,0,0,1-.6.05H783.42Z"></path><rect x="779.29" y="284.92" width="16.16" height="16.16"></rect><rect x="782.29" y="281.96" width="10.17" height="5.91"></rect><rect x="806.3" y="284.92" width="16.16" height="16.16"></rect><rect x="809.29" y="281.96" width="10.17" height="5.91"></rect><rect x="833.3" y="284.92" width="16.16" height="16.16"></rect><rect x="836.3" y="281.96" width="10.17" height="5.91"></rect><rect x="860.31" y="284.92" width="16.16" height="16.16"></rect><rect x="863.3" y="281.96" width="10.17" height="5.91"></rect><rect x="887.31" y="284.92" width="16.16" height="16.16"></rect><rect x="890.31" y="281.96" width="10.17" height="5.91"></rect><path d="M80.88,385.51H76.94V362.76h3.94Z"></path><path d="M88.9,368.6l.11,2a6.08,6.08,0,0,1,4.92-2.27q5.28,0,5.37,6v11.17H95.51V374.56a3.52,3.52,0,0,0-.7-2.39,2.93,2.93,0,0,0-2.27-.77,3.67,3.67,0,0,0-3.43,2.08v12H85.32V368.6Z"></path><path d="M107.93,364.49v4.11h3v2.82h-3v9.43a2,2,0,0,0,.38,1.4,1.77,1.77,0,0,0,1.37.43,6.16,6.16,0,0,0,1.33-.15v2.93a9.38,9.38,0,0,1-2.5.36q-4.38,0-4.38-4.83v-9.57h-2.78V368.6h2.78v-4.11Z"></path><path d="M121.26,385.82a7.9,7.9,0,0,1-5.86-2.27,8.27,8.27,0,0,1-2.24-6.06V377a10.19,10.19,0,0,1,1-4.53,7.39,7.39,0,0,1,2.74-3.1,7.26,7.26,0,0,1,3.94-1.11,6.64,6.64,0,0,1,5.33,2.2,9.31,9.31,0,0,1,1.89,6.24v1.53H117a5,5,0,0,0,1.4,3.31,4.16,4.16,0,0,0,3.08,1.22,5.13,5.13,0,0,0,4.25-2.11l2,2a6.87,6.87,0,0,1-2.71,2.35A8.58,8.58,0,0,1,121.26,385.82Zm-.46-14.48a3.19,3.19,0,0,0-2.52,1.09,5.72,5.72,0,0,0-1.23,3.05h7.24v-.28a4.72,4.72,0,0,0-1-2.89A3.17,3.17,0,0,0,120.8,371.34Z"></path><path d="M139.83,372.07a9.7,9.7,0,0,0-1.54-.12,3.48,3.48,0,0,0-3.52,2v11.56H131V368.6h3.63l.09,1.89a4.3,4.3,0,0,1,3.82-2.2,3.48,3.48,0,0,1,1.34.22Z"></path><path d="M145.76,368.6l.1,2a6.1,6.1,0,0,1,4.93-2.27q5.28,0,5.37,6v11.17h-3.8V374.56a3.52,3.52,0,0,0-.69-2.39,2.93,2.93,0,0,0-2.27-.77,3.66,3.66,0,0,0-3.43,2.08v12h-3.79V368.6Z"></path><path d="M167.47,385.82a7.89,7.89,0,0,1-5.85-2.27,8.27,8.27,0,0,1-2.24-6.06V377a10.19,10.19,0,0,1,1-4.53,7.39,7.39,0,0,1,2.74-3.1,7.26,7.26,0,0,1,3.94-1.11,6.64,6.64,0,0,1,5.33,2.2,9.31,9.31,0,0,1,1.89,6.24v1.53h-11a5,5,0,0,0,1.4,3.31,4.14,4.14,0,0,0,3.08,1.22,5.13,5.13,0,0,0,4.25-2.11l2.05,2a6.87,6.87,0,0,1-2.71,2.35A8.59,8.59,0,0,1,167.47,385.82ZM167,371.34a3.19,3.19,0,0,0-2.52,1.09,5.72,5.72,0,0,0-1.23,3.05h7.24v-.28a4.72,4.72,0,0,0-1-2.89A3.17,3.17,0,0,0,167,371.34Z"></path><path d="M182,364.49v4.11h3v2.82h-3v9.43a2.09,2.09,0,0,0,.38,1.4,1.77,1.77,0,0,0,1.37.43,6.1,6.1,0,0,0,1.33-.15v2.93a9.38,9.38,0,0,1-2.5.36q-4.38,0-4.38-4.83v-9.57h-2.78V368.6h2.78v-4.11Z"></path><path d="M807.74,379.65a2.75,2.75,0,0,0-1-2.31,12.73,12.73,0,0,0-3.81-1.64,18.11,18.11,0,0,1-4.37-1.85,5.82,5.82,0,0,1-3.11-5.09,5.56,5.56,0,0,1,2.24-4.53,9.06,9.06,0,0,1,5.82-1.78,9.92,9.92,0,0,1,4.24.87,7.12,7.12,0,0,1,2.92,2.49,6.4,6.4,0,0,1,1.06,3.59h-3.94a3.57,3.57,0,0,0-1.11-2.79,4.65,4.65,0,0,0-3.2-1,4.83,4.83,0,0,0-3,.83,2.77,2.77,0,0,0-1.07,2.31,2.5,2.5,0,0,0,1.16,2.09,13.32,13.32,0,0,0,3.81,1.63,17.56,17.56,0,0,1,4.27,1.79,6.88,6.88,0,0,1,2.36,2.31,6.06,6.06,0,0,1,.75,3.06,5.41,5.41,0,0,1-2.18,4.52,9.48,9.48,0,0,1-5.92,1.68,11.12,11.12,0,0,1-4.54-.91,7.68,7.68,0,0,1-3.22-2.52,6.35,6.35,0,0,1-1.14-3.75h3.95a3.7,3.7,0,0,0,1.28,3,5.65,5.65,0,0,0,3.67,1.06,4.84,4.84,0,0,0,3.1-.84A2.66,2.66,0,0,0,807.74,379.65Z"></path><path d="M829.65,380.28l2.69-11.68H836l-4.61,16.91H828.3l-3.62-11.61-3.56,11.61H818l-4.62-16.91h3.7l2.73,11.55,3.47-11.55h2.86Z"></path><path d="M838.59,364.21a2,2,0,0,1,.55-1.45,2.47,2.47,0,0,1,3.18,0,2,2,0,0,1,.56,1.45,1.92,1.92,0,0,1-.56,1.43,2.5,2.5,0,0,1-3.18,0A2,2,0,0,1,838.59,364.21Zm4,21.3h-3.8V368.6h3.8Z"></path><path d="M851.51,364.49v4.11h3v2.82h-3v9.43a2,2,0,0,0,.38,1.4,1.77,1.77,0,0,0,1.37.43,6.1,6.1,0,0,0,1.33-.15v2.93a9.38,9.38,0,0,1-2.5.36q-4.38,0-4.38-4.83v-9.57h-2.78V368.6h2.78v-4.11Z"></path><path d="M864.34,382.79a3.42,3.42,0,0,0,2.36-.83,2.86,2.86,0,0,0,1-2h3.57a5.58,5.58,0,0,1-1,2.94,6.61,6.61,0,0,1-2.5,2.17,7.47,7.47,0,0,1-3.41.79,7.2,7.2,0,0,1-5.62-2.29,9.12,9.12,0,0,1-2.08-6.35v-.39a9,9,0,0,1,2.06-6.18,7.14,7.14,0,0,1,5.63-2.32,6.94,6.94,0,0,1,4.91,1.76,6.27,6.27,0,0,1,2,4.62H867.7a3.51,3.51,0,0,0-1-2.39,3.17,3.17,0,0,0-2.36-.94,3.35,3.35,0,0,0-2.85,1.33,6.89,6.89,0,0,0-1,4.06v.61a6.94,6.94,0,0,0,1,4.1A3.34,3.34,0,0,0,864.34,382.79Z"></path><path d="M877.88,370.45a6,6,0,0,1,4.71-2.16q5.4,0,5.48,6.17v11.05h-3.8V374.6a3.35,3.35,0,0,0-.75-2.47,3.09,3.09,0,0,0-2.23-.73,3.67,3.67,0,0,0-3.41,2v12.08h-3.79v-24h3.79Z"></path><path d="M430.52,376.76h-4.41v8.75h-3.95V362.76h8a9.32,9.32,0,0,1,6.08,1.77,6.27,6.27,0,0,1,2.14,5.11,6.35,6.35,0,0,1-1.11,3.82,6.9,6.9,0,0,1-3.07,2.37l5.11,9.48v.2h-4.23Zm-4.41-3.19h4.06a4.48,4.48,0,0,0,3.13-1,3.5,3.5,0,0,0,1.12-2.75,3.72,3.72,0,0,0-1-2.83,4.38,4.38,0,0,0-3.1-1h-4.17Z"></path><path d="M441.05,376.9a10.06,10.06,0,0,1,1-4.48,7.29,7.29,0,0,1,2.77-3.06,7.82,7.82,0,0,1,4.09-1.07,7.44,7.44,0,0,1,5.56,2.2,8.66,8.66,0,0,1,2.3,5.85l0,.89a10.05,10.05,0,0,1-1,4.47,7.06,7.06,0,0,1-2.75,3,7.86,7.86,0,0,1-4.14,1.08,7.32,7.32,0,0,1-5.72-2.38,9.1,9.1,0,0,1-2.15-6.35Zm3.8.33a6.77,6.77,0,0,0,1.07,4.08,3.77,3.77,0,0,0,6,0A7.54,7.54,0,0,0,453,376.9a6.68,6.68,0,0,0-1.11-4.06,3.71,3.71,0,0,0-5.94,0A7.41,7.41,0,0,0,444.85,377.23Z"></path><path d="M470.22,383.85a5.88,5.88,0,0,1-4.75,2,5.22,5.22,0,0,1-4.16-1.61,6.79,6.79,0,0,1-1.42-4.65v-11h3.8v10.91c0,2.15.89,3.22,2.67,3.22a3.76,3.76,0,0,0,3.74-2V368.6h3.79v16.91h-3.58Z"></path><path d="M482.52,364.49v4.11h3v2.82h-3v9.43a2,2,0,0,0,.38,1.4,1.76,1.76,0,0,0,1.37.43,6.16,6.16,0,0,0,1.33-.15v2.93a9.38,9.38,0,0,1-2.5.36q-4.38,0-4.38-4.83v-9.57h-2.78V368.6h2.78v-4.11Z"></path><path d="M495.85,385.82a7.9,7.9,0,0,1-5.86-2.27,8.27,8.27,0,0,1-2.24-6.06V377a10.19,10.19,0,0,1,1-4.53,7.39,7.39,0,0,1,2.74-3.1,7.26,7.26,0,0,1,3.94-1.11,6.64,6.64,0,0,1,5.33,2.2,9.31,9.31,0,0,1,1.89,6.24v1.53H491.58a5,5,0,0,0,1.4,3.31,4.16,4.16,0,0,0,3.08,1.22,5.13,5.13,0,0,0,4.25-2.11l2.05,2a6.87,6.87,0,0,1-2.71,2.35A8.58,8.58,0,0,1,495.85,385.82Zm-.46-14.48a3.19,3.19,0,0,0-2.52,1.09,5.72,5.72,0,0,0-1.23,3.05h7.24v-.28a4.72,4.72,0,0,0-1-2.89A3.17,3.17,0,0,0,495.39,371.34Z"></path><path d="M514.42,372.07a9.7,9.7,0,0,0-1.54-.12,3.48,3.48,0,0,0-3.52,2v11.56h-3.8V368.6h3.63l.09,1.89a4.3,4.3,0,0,1,3.82-2.2,3.48,3.48,0,0,1,1.34.22Z"></path><path d="M131,174.35a85.81,85.81,0,1,0,85.81,85.81A85.9,85.9,0,0,0,131,174.35ZM197.7,299.82H171.84a145.82,145.82,0,0,0,5-33.72h31.54A77.23,77.23,0,0,1,197.7,299.82Zm-43.77,34.51c6.17-6.46,11.41-15.47,15.32-26.34h22.82A77.83,77.83,0,0,1,153.93,334.33ZM69.91,308H92.72c3.92,10.87,9.16,19.88,15.33,26.34A77.9,77.9,0,0,1,69.91,308ZM53.6,266.1H85.14a145.82,145.82,0,0,0,5,33.72H64.28A77.23,77.23,0,0,1,53.6,266.1Zm9.61-43.74H89.63a149.31,149.31,0,0,0-4.58,35.57H53.41A77,77,0,0,1,63.21,222.36ZM108.05,186c-6.52,6.82-12,16.51-16,28.2H68.48A78,78,0,0,1,108.05,186Zm85.45,28.2H169.89c-4-11.69-9.44-21.38-16-28.2A77.94,77.94,0,0,1,193.5,214.18Zm-24.74,43.75H93.22a138.84,138.84,0,0,1,5-35.57h65.5A138.84,138.84,0,0,1,168.76,257.93Zm-5.55,41.89H98.77a136,136,0,0,1-5.45-33.72h75.34A136.47,136.47,0,0,1,163.21,299.82ZM160.36,308c-7,17.68-17.66,29.21-29.37,29.21S108.61,325.67,101.62,308ZM100.9,214.18c7-18.72,18-31.07,30.09-31.07s23.12,12.35,30.09,31.07Zm76,43.75a149.83,149.83,0,0,0-4.58-35.57h26.42a77,77,0,0,1,9.8,35.57Z"></path><rect x="237.69" y="264.61" width="109.58" height="5"></rect><polygon points="337.31 275.58 345.79 267.11 337.31 258.63 344.5 258.63 352.98 267.11 344.5 275.58 337.31 275.58"></polygon><rect x="584.34" y="264.61" width="135.99" height="5"></rect><polygon points="710.37 275.58 718.85 267.11 710.37 258.63 717.57 258.63 726.05 267.11 717.57 275.58 710.37 275.58"></polygon><polygon points="1062.57 259.61 956.26 259.61 956.26 254.61 1057.57 254.61 1057.57 159.13 1200.03 159.13 1200.03 164.13 1062.57 164.13 1062.57 259.61"></polygon><polygon points="1190.07 170.11 1198.55 161.63 1190.07 153.16 1197.27 153.16 1205.74 161.63 1197.27 170.11 1190.07 170.11"></polygon><polygon points="1200.03 366.2 1057.57 366.2 1057.57 280.73 956.26 280.73 956.26 275.73 1062.57 275.73 1062.57 361.2 1200.03 361.2 1200.03 366.2"></polygon><polygon points="1190.07 372.18 1198.55 363.7 1190.07 355.23 1197.27 355.23 1205.74 363.7 1197.27 372.18 1190.07 372.18"></polygon><path d="M624.36,304h-3l-7.61-12.11V304h-3V287h3l7.63,12.16V287h2.94Z"></path><path d="M633.17,304.26a5.9,5.9,0,0,1-4.38-1.7A6.17,6.17,0,0,1,627.1,298v-.35a7.61,7.61,0,0,1,.74-3.39,5.44,5.44,0,0,1,5-3.16,5,5,0,0,1,4,1.65,7,7,0,0,1,1.41,4.68v1.15H630a3.83,3.83,0,0,0,1,2.48,3.17,3.17,0,0,0,2.32.92,3.88,3.88,0,0,0,3.19-1.58l1.53,1.46a5.1,5.1,0,0,1-2,1.76A6.36,6.36,0,0,1,633.17,304.26Zm-.34-10.86a2.38,2.38,0,0,0-1.89.82,4.21,4.21,0,0,0-.92,2.28h5.43v-.21a3.54,3.54,0,0,0-.76-2.16A2.4,2.4,0,0,0,632.83,293.4Z"></path><path d="M644,288.26v3.09h2.24v2.11H644v7.07a1.55,1.55,0,0,0,.28,1.05,1.34,1.34,0,0,0,1,.33,4.34,4.34,0,0,0,1-.12V304a7.06,7.06,0,0,1-1.88.27q-3.29,0-3.28-3.62v-7.18H639.1v-2.11h2.09v-3.09Z"></path><path d="M659.59,300.1l2-8.75h2.78L660.92,304h-2.34l-2.72-8.71L653.19,304h-2.34l-3.47-12.68h2.77l2.06,8.66,2.6-8.66H657Z"></path><path d="M665.75,297.57a7.54,7.54,0,0,1,.74-3.36,5.44,5.44,0,0,1,2.07-2.3,5.93,5.93,0,0,1,3.07-.8,5.54,5.54,0,0,1,4.17,1.65,6.54,6.54,0,0,1,1.73,4.39v.67a7.56,7.56,0,0,1-.72,3.35,5.36,5.36,0,0,1-2.06,2.28,5.9,5.9,0,0,1-3.1.81,5.52,5.52,0,0,1-4.3-1.79,6.86,6.86,0,0,1-1.61-4.76Zm2.85.25a5.1,5.1,0,0,0,.81,3.06,2.63,2.63,0,0,0,2.25,1.11,2.59,2.59,0,0,0,2.24-1.13,5.6,5.6,0,0,0,.81-3.29,5.06,5.06,0,0,0-.83-3.05,2.8,2.8,0,0,0-4.46,0A5.55,5.55,0,0,0,668.6,297.82Z"></path><path d="M686.59,294a7.36,7.36,0,0,0-1.16-.1,2.61,2.61,0,0,0-2.64,1.5V304h-2.85V291.35h2.72l.07,1.41a3.21,3.21,0,0,1,2.86-1.65,2.66,2.66,0,0,1,1,.17Z"></path><path d="M692.51,298.59l-1.27,1.3V304h-2.85V286h2.85v10.38l.89-1.11,3.5-3.95h3.43l-4.71,5.28,5.21,7.4h-3.29Z"></path><path d="M634.05,314h-5.32v14.67h-2.94V314h-5.28v-2.39h13.54Z"></path><path d="M641.89,318.6a7.46,7.46,0,0,0-1.16-.09,2.61,2.61,0,0,0-2.64,1.5v8.67h-2.85V316H638l.07,1.42a3.21,3.21,0,0,1,2.86-1.65,2.67,2.67,0,0,1,1,.16Z"></path><path d="M650.91,328.68a4.87,4.87,0,0,1-.33-1.18,4.79,4.79,0,0,1-6.44.32,3.45,3.45,0,0,1-1.21-2.69,3.59,3.59,0,0,1,1.51-3.11,7.28,7.28,0,0,1,4.3-1.09h1.75v-.83a2.24,2.24,0,0,0-.55-1.57,2.18,2.18,0,0,0-1.68-.6,2.51,2.51,0,0,0-1.59.49,1.49,1.49,0,0,0-.62,1.24H643.2a3.14,3.14,0,0,1,.69-2,4.64,4.64,0,0,1,1.88-1.43,6.68,6.68,0,0,1,2.66-.51,5.32,5.32,0,0,1,3.55,1.12,4,4,0,0,1,1.36,3.14v5.72a6.49,6.49,0,0,0,.48,2.73v.2Zm-3.13-2.05a3.3,3.3,0,0,0,1.59-.41,2.7,2.7,0,0,0,1.12-1.1v-2.39H649a4.21,4.21,0,0,0-2.38.55,1.77,1.77,0,0,0-.79,1.56,1.66,1.66,0,0,0,.54,1.3A2.1,2.1,0,0,0,647.78,326.63Z"></path><path d="M657.32,328.68V318.11h-1.93V316h1.93v-1.16a4.37,4.37,0,0,1,1.17-3.26,4.52,4.52,0,0,1,3.28-1.15,6.71,6.71,0,0,1,1.6.21l-.07,2.23a5.93,5.93,0,0,0-1.09-.09,1.83,1.83,0,0,0-2,2.1V316h2.58v2.11h-2.58v10.57Z"></path><path d="M665.83,328.68V318.11h-1.94V316h1.94v-1.16a4.37,4.37,0,0,1,1.17-3.26,4.5,4.5,0,0,1,3.28-1.15,6.56,6.56,0,0,1,1.59.21l-.07,2.23a5.77,5.77,0,0,0-1.09-.09,1.83,1.83,0,0,0-2,2.1V316h2.57v2.11h-2.57v10.57Z"></path><path d="M673.34,312.71a1.5,1.5,0,0,1,.42-1.09,1.55,1.55,0,0,1,1.19-.44,1.58,1.58,0,0,1,1.19.44,1.5,1.5,0,0,1,.42,1.09,1.47,1.47,0,0,1-.42,1.07,1.62,1.62,0,0,1-1.19.43,1.59,1.59,0,0,1-1.19-.43A1.47,1.47,0,0,1,673.34,312.71Zm3,16h-2.84V316h2.84Z"></path><path d="M684.67,326.64a2.6,2.6,0,0,0,1.77-.62,2.11,2.11,0,0,0,.75-1.54h2.68a4.16,4.16,0,0,1-.73,2.21,4.82,4.82,0,0,1-1.88,1.63,5.56,5.56,0,0,1-2.55.59,5.39,5.39,0,0,1-4.22-1.72,6.83,6.83,0,0,1-1.56-4.76v-.29a6.71,6.71,0,0,1,1.55-4.63,5.35,5.35,0,0,1,4.22-1.74,5.24,5.24,0,0,1,3.68,1.31,4.71,4.71,0,0,1,1.49,3.47h-2.68a2.63,2.63,0,0,0-.74-1.8,2.44,2.44,0,0,0-1.78-.7,2.52,2.52,0,0,0-2.13,1,5.13,5.13,0,0,0-.76,3v.46a5.26,5.26,0,0,0,.74,3.08A2.52,2.52,0,0,0,684.67,326.64Z"></path></svg>

<p><em>Source: <a href="https://www.cloudflare.com/en-in/learning/network-layer/what-is-a-network-switch/">Cloudflare</a></em></p>

<p>How does a router know which communication link to forward a given packet to? Every message transmitted by a source host will contain the IP address of the destination host. An IP address is hierarchical in nature and by looking at a specific part of the packet’s IP address and consulting its own <strong>forwarding table</strong> (which maps IP addresses to outbound communication links), it determines the correct communication link to forward the packet to.</p>

<p>On the destination end-system, the original message is re-composed by re-assembling all the packets. <strong>This is similar to how cargo gets delivered over roads.</strong> First, you divide the delivery goods into small packets and load them onto trucks. Then each of these trucks travel on high-ways (communication links) and at each intersection (packet switches) they are redirected to the next highway, which will eventually take them to their destination.</p>

<p>To ensure consistency, each actor involved in the exchange of information over the internet, are governed by a set of <strong>protocols</strong>. Two of the most fundamental protocols are the <strong>Internet Protocol (IP) and Transfer Control Protocol (TCP).</strong></p>

<p>Here’s a brief description of how a bit gets “kicked around” between two end-systems:</p>

<blockquote>
  <p>“Consider a bit traveling from one end system, through a series of links and routers, to another end system. This poor bit gets kicked around and transmitted many, many times! The source end system first transmits the bit, and shortly thereafter the first router in the series receives the bit; the first router then transmits the bit, and shortly thereafter the second router receives the bit; and so on. Thus our bit, when traveling from source to destination, passes through a series of transmitter-receiver pairs” (<a href="https://eclass.teicrete.gr/modules/document/file.php/TP326/%CE%98%CE%B5%CF%89%CF%81%CE%AF%CE%B1%20(Lectures)/Computer_Networking_A_Top-Down_Approach.pdf">Source</a>)</p>
</blockquote>

<h2 id="a-layered-approach-to-understanding-the-internet">A layered approach to Understanding the Internet</h2>

<p>Given the complexity and the numerous moving parts involved in the working of the internet, it is more elegant to organise the many happenings between two hosts, as a series of top-down layers of protocols.</p>

<blockquote>
  <p>“To provide structure to the design of network protocols, network designers organize protocols—and the network hardware and software that implement the protocols— in layers.”(<a href="https://eclass.teicrete.gr/modules/document/file.php/TP326/%CE%98%CE%B5%CF%89%CF%81%CE%AF%CE%B1%20(Lectures)/Computer_Networking_A_Top-Down_Approach.pdf">Source</a>)</p>
</blockquote>

<p>To understand this layered architecture, it is important to note that at each layer, the protocol provides some service to the layer above, by performing certain actions and by utilising the services provided by the layer immediately below it</p>

<p>A layered architecture provides the advantage of simplifying the architecture of the internet by breaking it down into specific, well-defined parts, each of which performs a specific task by depending on the service provided by the layer beneath it. More importantly, it adds modularity to the entire system, thereby allowing one to modify the implementation of the service provided by a specific layer, without affecting the rest of the system (so long as the modified implementation provides the same service and depends on the same layer to provide that service).</p>

<p>A protocol layer can be composed solely of software (application and transport layer), hardware (physical layer and data link layer) or a mixture of both (network link)</p>

<p>When taken together, the protocols of the various layers are called the <strong>protocol stack</strong>. According to the the TCP/IP architecture, the Internet protocol stack consists of five layers: the application layer, the transport layer, the network layer, the link layer and the physical layer.</p>

<p>Here’s a brief summary of what each of the protocol layers do:</p>

<ul>
  <li><strong>Application layer:</strong> This layer provides services to the end-user, by executing an application that uses the internet. It does this by sending and receiving a series of messages from and to another host(s). It hides the complexities of how the network is laid out.</li>
  <li><strong>Transport layer:</strong>  This layer provides services to the application layer, by ensuring that the application layer messages are transported to and from the correct destination. It hides how the underlying network is managed (e.g., how packets of information is actually delivered to the correct destination).</li>
  <li><strong>Network layer:</strong> This layer provides services to the transport layer by finding a “best effort” path via multiple routers, to deliver packets of information from the source host to the destination host. It hides how each router forwards packets to the successive router.</li>
  <li><strong>Link layer:</strong> It provides services to the network layer by actually determining how to deliver packets of information between two given routers.</li>
  <li><strong>Physical layer:</strong> It provides the service of physically transmitting “bits” of information to the next router, in a way that the receiver can understand and reconstruct the same.</li>
</ul>

<h3 id="heres-an-analogy-involving-a-king-and-a-queen">Here’s an Analogy involving a King and a Queen</h3>

<p>Before moving forward and delving into the details of each protocol layer, it would be convenient to take an analogy to better understand the services provided by each layer. Let’s go back to a time before the advent of modern communication technologies: a world where one relied on postal services to send messages over a large distance. Now let’s imagine the King of a distant kingdom—presently at the battlefield—wishes to send a letter to his beloved Queen—presently residing at the Royal Palace.  Let’s follow how the letter gets delivered to the Queen, from the prism of the five network protocol layers.</p>

<ol>
  <li><strong>Application Layer:</strong> The King at the battlefield dictates the letter to his personal assistant, who writes its out and sends it to the Royal Secretary to deliver the letter he has written.
    <ul>
      <li>Here, the King represents the <strong>user</strong>,  the battlefield is the <strong>end-system,</strong> the King’s personal assistant represents the <strong>application layer</strong> and the Royal Secretary represents the <strong>transport layer</strong>.</li>
    </ul>
  </li>
  <li><strong>Transport Layer:</strong> The Royal Secretary puts the Royal Seal, adds the address of the Royal Palace and hands it over to the local post office.
    <ul>
      <li>Here, the local post office represents the <strong>first router</strong> in the network layer and the Royal Palace is the destination end-system.</li>
    </ul>
  </li>
  <li><strong>Network Layer:</strong> The postal officer realizes that the destination is far-off and that there is no direct route to the Royal Palace. But, looking at the address, the postal officer understands that the Royal Palace is due East. So, they deliver the letter to the next postal caravan moving East.</li>
  <li><strong>Link Layer:</strong> The caravan carries a load of postal traffic from this postal office to the next postal office in the East. The caravan leader draws out the route to the next postal office in the eastward direction.
    <ul>
      <li>Here, the caravan leader is the link layer, connecting the first postal office (a router) to the next postal office (another router).</li>
    </ul>
  </li>
  <li><strong>Physical Layer:</strong> The caravan leader employs their trusted nephew to carry the King’s letter. The nephew, along with their camel-driven carriage, carries the King’s letter, following the route drawn by the caravan leader.
    <ul>
      <li>The nephew and their carriage, is the physical layer, physically carrying the postal traffic from one postal office (router) to the next.</li>
    </ul>

    <p><img src="https://twitter.com/assets/images/network_stack_analogy.png" width="120%"/></p>
  </li>
  <li><strong>Physical Layer:</strong> Once the carriage reaches the next postal office, the nephew off-loads its load from their carriage.</li>
  <li><strong>Link Layer:</strong> The guard at the next postal office unpacks the postal load and hands over all its contents to the postal officer of that postal office.
    <ul>
      <li>The guard is the link layer, passing on the load received from the carriage driven by the nephew (physical layer). The postal officer is the second router.</li>
    </ul>
  </li>
  <li><strong>Network Layer:</strong> The postal officer at the next postal office, receives the postal load delivered by the caravan leader and examines it. They find the King’s letter, and realize that the Royal Post Office is in the next town (it is only natural that the Royal Family has a post office of their own!). However, they have to find a way to physically transport the letter to the Royal Post Office. Luckily, they have a local pigeon sender who regularly delivers mail locally.  The postal officer delivers the King’s letter to the local pigeon sender.
    <ul>
      <li>Here, the local pigeon sender is the link layer and the pigeon is the physical layer.</li>
    </ul>
  </li>
  <li><strong>Link Layer:</strong> The pigeon sender knows the way to the Royal Post Office. They instruct the pigeon to fly to the Royal Post Office.</li>
  <li><strong>Physical Layer:</strong> The pigeon flies away towards the Royal Post Office.</li>
  <li><strong>Physical Layer:</strong> The pigeon successfully lands at the entrance of the Royal Pigeon Receiver at the Royal Post Office.</li>
  <li><strong>Link Layer:</strong> The Royal Pigeon Receiver at the Royal Post Office receives the pigeon’s parcel, cleans it up and hands it over to the postal officer at the Royal Post Office.
    <ul>
      <li>Here, the Royal Guard represents the link layer, which hands over the information received from the pigeon (physical layer) to the postal office (network layer).</li>
    </ul>
  </li>
  <li><strong>Network Layer:</strong> The postal officer at the Royal Post Office accepts the mail from the Royal Pigeon Receiver. They pass on the King’s letter to the Queen’s Secretary.
    <ul>
      <li>The postal officer represents the network layer, while the Queen’s Secretary is the transport layer.</li>
    </ul>
  </li>
  <li><strong>Transport Layer:</strong> The Queen’s Secretary receives the King’s letter from the Royal Post Office, verifies the Royal Seal, ensures that it is complete and hands it over to the Queen’s personal assistant.
    <ul>
      <li>Here, the Queen’s personal assistant represents the application layer, accepting the message delivered by the Queen’s Secretary (transport layer)</li>
    </ul>
  </li>
  <li><strong>Application Layer:</strong> The Queen’s personal assistant knock’s on the Queen’s room and reads out loud what the King had to say. The Queen is delighted to hear from the King!</li>
</ol>

<p>Now, let’s try to understand how each of these layers actually work.</p>

<h3 id="application-layer">Application layer</h3>

<p>First, it is important to understand what a ‘network application’ is. It is a program that runs on one host and communicates with another host, using the internet. In fact, programs running on different hosts, communicating over the internet are called <strong>processes:</strong></p>

<blockquote>
  <p>“In the jargon of operating systems, it is not actually programs but processes that communicate. A process can be thought of as a program that is running within an end system” (<a href="https://eclass.teicrete.gr/modules/document/file.php/TP326/%CE%98%CE%B5%CF%89%CF%81%CE%AF%CE%B1%20(Lectures)/Computer_Networking_A_Top-Down_Approach.pdf">Source</a>)</p>
</blockquote>

<p>Processes on different hosts communicate with each other via <strong>messages</strong>. Typically, a network application consists of two different processes running on two different hosts, that send messages to each other (eg., server and client process on the web).</p>

<p>Now each process sends and receives messages over the internet by using a programming interface called the <strong>socket</strong>. Sockets act like doors- when the network application needs to send a message across the internet, it simply  delivers it across the door, with the expectation that the rest will be taken care of by the network. Sockets in an end-system are identified by port numbers</p>

<p>In fact, sockets are the interface between the application layer and the transport layer.</p>

<p>Now, coming back to the application layer itself, it is defined as the “<em>communications protocols and interface methods used in process-to-process communications across an Internet Protocol (IP) computer network</em>”(<a href="https://en.wikipedia.org/wiki/Application_layer">source</a>). Mainly, the application layer protocol standardized the manner in which data should be exchanged between two hosts. It does not deal with how this data will, in fact, be transferred.</p>

<p>Examples of application layer protocol include: HTTP(Hyper Text Transfer Protocol), FTP (File Transfer Protocol), SMTP (Simple Mail Transfer Protocol).</p>

<h3 id="transport-layer">Transport layer</h3>

<p>The transport layer transports the application-layer messages (received over the socket) between two application end-points (or hosts).  The main objective of this layer is to provide <strong>logical communication</strong> between two application processes. This means that this layer will abstract out the details of the internet before the application layer, giving the impression to the application that it is directly connected to the other end-system’s application.</p>

<p>It is important to note that the transport layer protocols are implemented in the end-systems (or hosts). They are not implemented by intermediate routers or communication links.</p>

<p>In the internet, there are two transport layer protocols both of which can transport application layer messages:</p>

<ul>
  <li>Transmission Control Protocol (TCP): TCP provides <strong>reliable data transfer</strong>. It guarantees delivery of messages and manages flow control. The latter ensures that messages are delivered in the correct order. It also provides congestion control, by preventing over-congestion of traffic on routers and links between two hosts. This is done by dividing messages into smaller segments, and reducing the transmission rate when the network is congested.</li>
  <li>User Datagram Protocol (UDP): UDP provides a <strong>connectionless service</strong>. It provides no  guarantees towards reliability, flow control, or congestion control.</li>
</ul>

<p>The transport layer protocols convert each application layer message into several transport layer packets called <strong>segments</strong> each of which is then sent across the network layer, via the routers and links.</p>

<h3 id="network-layer">Network layer</h3>

<p>The network layer receives a transport layer segment and a destination address from the transport layer protocol of the source host. The network layer provides the service of delivering this segment to the correct destination host’s transport layer.</p>

<p>The <strong>Internet Protocol (IP)</strong> is the only network layer protocol of the internet. The IP implements a <strong>best effort</strong> service, meaning that while it makes a “best effort” to deliver segments between hosts, it does not make any guarantees regarding their delivery, i.e., the IP cannot guarantee the eventual delivery of a packet. Neither can it assure that the packets will be delivered in an orderly fashion nor that there will not be any tampering of the packets in the process of transmission.</p>

<p>The network layer protocol converts the transport layer segments into network layer segments called “datagrams”. Each datagram contains the address of the destination host. Once this is done, the source host pops each datagram into the network, i.e., it sends the datagram to its nearby router. For this datagram to reach the ultimate destination host, it needs to traverse through several routers. Each router forwards a datagram that it receives in any of its input links to the next appropriate router. The determination of which router to forward the datagram to, is done by looking at the destination address and its own forwarding table. Thus, to send one packet from one host to another, each router has to make a local decision that is compatible with its next router. In this way, we get a <strong>global convergence on packet delivery</strong> using a series of local decisions at the router-level.</p>

<p>Note that routing, i.e., the route or path that a packet will traverse within the network layer, is implemented by each router and is not determined by the end-systems. This is very convenient, as it insulates the host application from the changes in the internet’s routing architecture.  (<a href="https://datatracker.ietf.org/doc/html/rfc1122#section-1.1.1">RFC</a>1122) This is a direct consequence of having a modular protocol stack.</p>

<p>Also, as another corollary of the modular architecture of the protocol stack, routers remain stateless. They do not maintain any state of the end-to-end flow of information. Each router inspects the IP address of the destination of a packet, and determines the next router to forward it to. This enables the effective utilization of redundant paths: two packets headed for the same destination, may take two different routes.(<a href="https://datatracker.ietf.org/doc/html/rfc1122#section-1.1.1">RFC</a>1122)</p>

<p><img src="https://twitter.com/assets/images/network_redundant_paths.gif" width="100%"/></p>

<p><em>Source: <a href="https://upload.wikimedia.org/wikipedia/commons/f/f6/Packet_Switching.gif">Wikipedia</a></em></p>

<h3 id="link-layer">Link Layer</h3>

<p>The network layer provides the service of transporting packets between two end-systems, via a series of routers. The link layer protocols provide the service of actually transporting packets from one node (a host, or a router) to another node (a router or a host). This is done by establishing connectivity with the next router and breaking up network layer datagrams into “frames” to transmit them to the next router. In other words, link layer protocols provide the service of converting datagrams into frames and transporting them across each individual link connecting two specific nodes. At each node, the network layer (after determining the next forwarding router/host) passes the Network Layer datagram to the respective link layer protocol, which sends it across to the next node. At the next node, the link layer protocol hands over the packet to the network layer protocol of that node.</p>

<p>Examples of link layer protocols include WiFi, Ethernet and  Point-to-Point protocol.</p>

<h3 id="physical-layer">Physical Layer</h3>

<p>The physical layer provides the service of transporting each individual bit of a given frame from one node to the next. The protocol of this layer will depend on the actual link connecting the two nodes. In other words, physical layer protocols determine how to encode digital information and transmit them across a communication link.</p>

<h2 id="end-to-end-argument">End-to-End Argument</h2>

<p>As shown above, the network layer does not make any guarantees regarding delivery of messages. It is the job of the end-systems (transfer layer and application layer) to ensure integrity, encryption and orderly delivery of information. Thus, as lower layers of the protocol stack do not implement complex functionalities, the internet is designed as a “dumb” network that relies on “smart” end-systems to carry out complex tasks. To put it in another way, the lower level actors (routers) perform simple tasks efficiently, while higher level actors are expected to use the services of the lower level actors to perform complex tasks. By pushing the complexity to the edges, the internet can be scaled to be compatible with any kind of network or device.</p>



        </article>
    </div></div>
  </body>
</html>
