<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://matthewbilyeu.com/blog/2022-09-01/responding-to-recruiter-emails-with-gpt-3">Original</a>
    <h1>Responding to recruiter emails with GPT-3</h1>
    
    <div id="readability-page-1" class="page"><div>
      <div>
  

  
  

  <p><strong>If you’re just interested in the code, <a href="https://github.com/bi1yeu/recruiter_rm">here it is</a>.</strong></p>

<p>Like many software engineers, each week I receive multiple emails from recruiters.</p>

<p>I’m grateful to work in a field with such opportunities, and I know that receiving a lot offers to interview is a good problem to have. But, practically, most of the time I’m not looking for a new job, and so handling all these emails is a recurring administrative task.</p>

<p>Here’s an example thread that I neglected to respond to:</p>

<p><img src="https://matthewbilyeu.com/blog/assets/recruiter_mail/recruiter_mail.png" alt="screenshot of emails from a recruiter"/></p>

<p>I do try to respond to all recruiter emails with a short message that pretty much always follows a format like:</p>

<blockquote>
  <p>Hi &lt;recruiter name&gt;,</p>

  <p>Thanks for reaching out! I’m not interested at this time, but I’ll keep &lt;your company&gt; in mind.</p>

  <p>- Matt</p>
</blockquote>

<p>There are a few reasons that I respond to these emails (rather than merely ignore them):</p>

<ol>
  <li>It’s polite</li>
  <li>If I don’t respond, the recruiter will often send multiple follow-up emails</li>
  <li>Maintaining a cordial relationship with the recruiters is in my best interest for future job searches</li>
</ol>

<p>I use some rough email filtering rules to funnel recruiter emails to an email folder. Then, when I have time, I go through the list of unreads and send my little response.</p>

<p>It would be ideal if I could automate sending these responses. Assuming I get four such emails per week and that it takes two minutes to read and respond to each one, automating this would save me about seven hours of administrative work per year.</p>

<p>A trivial approach would be to send a canned response. But a touch of personalization would aid in my goal of maintaining a good relationship with the recruiter.</p>

<p>Extracting the name of the recruiter and their company from the email using a rule-based approach / trying to parse the text would be really tricky and error prone. Luckily, <a href="https://en.wikipedia.org/wiki/GPT-3">OpenAI’s GPT-3 language model</a> is quite good at processing this email.</p>

<p>Using the GPT-3 API, we can provide the recruiter’s email along with an example, and extract the required information. It can even format the output as JSON.</p>

<figure><pre><code data-lang="python">    <span>def</span> <span>get_recruiter_name_and_company</span><span>(</span><span>email_text</span><span>:</span> <span>str</span><span>):</span>
        <span>&#34;&#34;&#34;Uses OpenAI text models to automatically parse the recruiter&#39;s name
        and company from their email.&#34;&#34;&#34;</span>
    
        <span>prompt</span> <span>=</span> <span>f</span><span>&#34;&#34;&#34;
        Given an email from a recruiter, return the recruiter&#39;s first name and the recruiter&#39;s company&#39;s name formatted as valid JSON.
    
        Example: ***
        Email:
        &#39;&#39;&#39;
        Hi Matt! This is Steve Jobs with Apple Computer Company! I&#39;m interested in having you join our team here.
        &#39;&#39;&#39;
    
        Response:
        {{&#34;name&#34;: &#34;Steve&#34;, &#34;company&#34;: &#34;Apple Computer Company&#34;}}
        ***
    
        Email:
        &#39;&#39;&#39;
        </span><span>{</span><span>email_text</span><span>}</span><span>
        &#39;&#39;&#39;
    
        Response:
        &#34;&#34;&#34;</span>
    
        <span># don&#39;t make expensive OpenAI API calls unless operating in production
</span>        <span>if</span> <span>not</span> <span>IS_PROD</span><span>:</span>
            <span>return</span> <span>json</span><span>.</span><span>loads</span><span>(</span><span>&#39;{&#34;name&#34;: &#34;Steve&#34;, &#34;company&#34;: &#34;Apple Computer Company&#34;}&#39;</span><span>)</span>
    
        <span>completion</span> <span>=</span> <span>openai</span><span>.</span><span>Completion</span><span>.</span><span>create</span><span>(</span>
            <span>model</span><span>=</span><span>&#34;text-davinci-002&#34;</span><span>,</span>
            <span>prompt</span><span>=</span><span>textwrap</span><span>.</span><span>dedent</span><span>(</span><span>prompt</span><span>),</span>
            <span>max_tokens</span><span>=</span><span>20</span><span>,</span>
            <span>temperature</span><span>=</span><span>0</span><span>,</span>
        <span>)</span>
    
        <span>return</span> <span>json</span><span>.</span><span>loads</span><span>(</span><span>completion</span><span>.</span><span>choices</span><span>[</span><span>0</span><span>].</span><span>text</span><span>)</span></code></pre></figure>

<p>Here’s an example from the <a href="https://beta.openai.com/playground">OpenAI Playground</a>.</p>

<p><img src="https://matthewbilyeu.com/blog/assets/recruiter_mail/openai_playground.png" alt="screenshot of the OpenAI playground"/></p>

<p>With the recruiter’s name and company in hand, responding is just a matter of interpolating those variables into the body of my standard response template:</p>

<div><div><pre><code><span>response</span> <span>=</span> <span>f</span><span>&#34;&#34;&#34;</span><span>\
</span><span>Hi </span><span>{</span><span>recruiter_name</span> <span>or</span> <span>&#34;&#34;</span><span>}</span><span>,
Thanks for reaching out! I&#39;m not interested in new opportunities at this time, but I&#39;ll keep </span><span>{</span><span>recruiter_company</span> <span>or</span> <span>&#34;your company&#34;</span><span>}</span><span> in mind for the future.
Thanks again,
</span><span>{</span><span>SIGNATURE</span><span>}</span><span>
&#34;&#34;&#34;</span>
</code></pre></div></div>

<p>IMAP and SMTP are used to interface with the mailbox. The rest of the code can be found in <a href="https://github.com/bi1yeu/recruiter_rm">this repo</a>.</p>

<p>This solution worked well for the handful of emails I tried it on. I’m planning to run this on a cron to save myself some time and automatically maintain recruiter relationships.</p>


</div>




    </div></div>
  </body>
</html>
