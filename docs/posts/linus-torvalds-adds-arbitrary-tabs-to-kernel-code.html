<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://arstechnica.com/gadgets/2024/04/linus-torvalds-reiterates-his-tabs-versus-spaces-stance-with-a-kernel-trap/">Original</a>
    <h1>Linus Torvalds adds arbitrary tabs to kernel code</h1>
    
    <div id="readability-page-1" class="page"><div>
        <header>
            <h4>
      Tabs Versus Space 2024: The Sabotage    â€”
</h4>
            
            <h2 itemprop="description">One does not simply suggest changing a kernel line to help out a parsing tool.</h2>
            <section>

  


  
</section>        </header>
        <section>
            <div itemprop="articleBody">
                                    
<figure>
  <img src="https://cdn.arstechnica.net/wp-content/uploads/2024/04/GettyImages-595289606-800x533.jpg" alt="Tab soda displayed on a grocery shelf"/>
      <figcaption><p><a href="https://cdn.arstechnica.net/wp-content/uploads/2024/04/GettyImages-595289606-scaled.jpg" data-height="1707" data-width="2560">Enlarge</a> <span>/</span> Cans of Tab diet soda on display in 2011. Tab was discontinued in 2020. There has never been a soda named &#34;Spaces&#34; that had a cult following.</p><p>Getty Images</p></figcaption>  </figure>

  




<!-- cache hit 88:single/related:0e0d4bde31214059db44bb94ab9f54c4 --><!-- empty -->
<p>Anybody can contribute to the Linux kernel, but any person&#39;s commit suggestion can become the focus of the kernel&#39;s master and namesake, Linus Torvalds. Torvalds is famously <a href="https://arstechnica.com/information-technology/2015/01/linus-torvalds-responds-to-ars-about-diversity-niceness-in-open-source/">not overly committed to niceness</a>, though he has been <a href="https://arstechnica.com/gadgets/2018/09/linus-torvalds-apologizes-for-years-of-being-a-jerk-takes-time-off-to-learn-empathy/">working on it since 2018</a>. You can see glimpses of this newer, less curse-laden approach in how Torvalds recently addressed a commit with which he vehemently disagreed. It involves tabs.</p>
<p>The commit last week changed <a href="https://git.kernel.dk/?p=linux-block.git;a=commit;h=d96c36004e31">exactly one thing on one line</a>, replacing a tab character with a space: &#34;It helps Kconfig parsers to read file without error.&#34; Torvalds responded with a commit of his own, <a href="https://www.theregister.com/2024/04/16/torvalds_complicates_his_indents/">as spotted by The Register</a>, which would &#34;<a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/diff/?id=d5cf50dafc9dd5faa1e61e7021e3496ddf7fd61e">add some hidden tabs on purpose</a>.&#34; Trying to smooth over a tabs-versus-spaces matter seemed to awaken Torvalds to the need to have tab-detecting failures be &#34;more obvious.&#34; Torvalds would have added more, he wrote, but didn&#39;t &#34;want to make things uglier than necessary. But it *might* be necessary if it turns out we see more of this kind of silly tooling.&#34;</p>
<p>If you&#39;ve read this far and don&#39;t understand what&#39;s happening, please allow me, a failed CS minor, to offer a quick explanation: <a href="https://www.popsci.com/inside-silicon-valleys-spaces-and-tabs-debate/">Tabs Versus Spaces</a> will <a href="https://roberttruesdale.medium.com/tabs-vs-spaces-the-never-ending-battle-beyond-code-037d493e6dd8">never</a> be truly resolved, codified, or set right by standards, and the energy spent on the issue over time could, if harnessed, likely power one or more small nations. Still, the Linux kernel has <a href="https://www.kernel.org/doc/html/latest/process/coding-style.html">its own coding style</a>, and it directly cites &#34;K&amp;R,&#34; or <a href="https://arstechnica.com/gadgets/2022/08/unix-legend-who-owes-us-nothing-keeps-fixing-foundational-awk-code/">Kernighan</a> &amp; <a href="https://arstechnica.com/information-technology/2011/10/dennis-ritchie-the-giant-whose-shoulders-we-stand-on/">Ritchie</a>, the authors of the coding bible <em>The C Programming Language,</em> which is a tabs book. If you are submitting kernel code, it had better use tabs (eight-character tabs, ideally, though that is tied in part to <a href="https://retrocomputing.stackexchange.com/questions/16172/when-did-tabs-start-defaulting-to-8-columns">teletype and line-printer history</a>).</p>                                            
                                                        
<p>By attempting to smooth over one tiny part of the kernel so that a parsing tool could see a space character as a delineating whitespace, Prasad Pandit inadvertently spurred <a href="https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?utm_source=anzwix&amp;id=d5cf50dafc9dd5faa1e61e7021e3496ddf7fd61e">a robust rebuttal</a>:</p>
<blockquote><p>It wasn&#39;t clear what tool it was, but let&#39;s make sure it gets fixed. Because if you can&#39;t parse tabs as whitespace, you should not be parsing the kernel Kconfig files.</p>
<p>In fact, let&#39;s make such breakage more obvious than some esoteric ftrace record size option. If you can&#39;t parse tabs, you can&#39;t have page sizes.</p>
<p>Yes, tab-vs-space confusion is sadly a traditional Unix thing, and &#39;make&#39; is famous for being broken in this regard. But no, that does not mean that it&#39;s ok.</p></blockquote>
<p>Torvalds&#39; hidden tabs appear in the fourth release candidate for Linux kernel 6.9, which <a href="https://lore.kernel.org/lkml/CAHk-=whdUP62_7N6s837tTFjvmcGxyRnMGwnVnZwn2fDVf5E8A@mail.gmail.com/T/#u">Torvlads wrote</a> had &#34;nothing particularly unusual going on&#34; the week of its release.</p>
<p><em>Disclosure: The author is a tab person insofar as he has any idea what he&#39;s doing.</em></p>
<p><em>This post was updated at 6:33 pm Eastern to fix some line-break issues in the Torvalds blockquote. The irony was duly noted. A better link regarding the Tabs Vs. Spaces debate was also swapped in.<br/>
</em></p>

                                                </div>

            
            
            
        </section>
    </div></div>
  </body>
</html>
