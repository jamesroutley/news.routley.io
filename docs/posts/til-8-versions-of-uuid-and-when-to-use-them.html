<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ntietz.com/blog/til-uses-for-the-different-uuid-versions/?utm_source=atom&amp;utm_medium=feed">Original</a>
    <h1>TIL: 8 versions of UUID and when to use them</h1>
    
    <div id="readability-page-1" class="page"><div>
  

  <p><strong>Saturday, June 29, 2024</strong></p>

  <div><p>About a month ago, I was onboarding a friend into one of my side project codebases and she asked me why I was using a particular type of UUID.
I&#39;d heard about this type while working on that project, and it&#39;s really neat.
So instead of hogging that knowledge for just us, here it is: some good uses for different versions of UUID.</p>

<p>Usually when we have multiple numbered versions, the higher numbers are newer and presumed to be better.
In contrast, there are 8 UUID versions (v1 through v8) which are different and all defined in <a href="https://datatracker.ietf.org/doc/html/rfc9562">the standard</a>.</p>
<p>Here, I&#39;ll provide some explanation of what they are at a high level, linking to the specific section of the RFC in case you want more details.</p>
<ul>
<li><a href="https://www.rfc-editor.org/rfc/rfc9562.html#name-uuid-version-1">UUID Version 1 (v1)</a> is generated from timestamp, monotonic counter, and a MAC address.</li>
<li><a href="https://datatracker.ietf.org/doc/html/rfc9562#name-uuid-version-2">UUID Version 2 (v2)</a> is reserved for security IDs with no known details.</li>
<li><a href="https://www.rfc-editor.org/rfc/rfc9562.html#name-uuid-version-3">UUID Version 3 (v3)</a> is generated from MD5 hashes of some data you provide. The RFC suggests DNS and URLs among the candidates for data.</li>
<li><a href="https://www.rfc-editor.org/rfc/rfc9562.html#name-uuid-version-4">UUID Version 4 (v4)</a> is generated from entirely random data. This is probably what most people think of and run into with UUIDs.</li>
<li><a href="https://www.rfc-editor.org/rfc/rfc9562.html#name-uuid-version-5">UUID Version 5 (v5)</a> is generated from SHA1 hahes of some data you proivde. As with v3, the RFC suggests DNS or URLs as candidates.</li>
<li><a href="https://www.rfc-editor.org/rfc/rfc9562.html#name-uuid-version-6">UUID Version 6 (v6)</a> is generated from timestamp, monotonic counter, and a MAC address. These are the same data as Version 1, but they change the order so that sorting them will sort by creation time.</li>
<li><a href="https://www.rfc-editor.org/rfc/rfc9562.html#name-uuid-version-7">UUID Version 7 (v7)</a> is generated from a timestamp and random data.</li>
<li><a href="https://www.rfc-editor.org/rfc/rfc9562.html#name-uuid-version-8">UUID Version 8 (v8)</a> is entirely custom (besides the required version/variant fields that all versions contain).</li>
</ul>

<p>With eight different versions, which should you use?
There are a few common use cases that dictate which you should use, and some have been replaced by others.</p>
<p>You&#39;ll usually be picking between two of them: v4 or v7.
There are also some occasions to pick v5 or v8.</p>
<ul>
<li>Use v4 when you just want a random ID.
<em>This is a good default choice.</em></li>
<li>Use v7 if you&#39;re using the ID in a context where you want to be able to sort.
For example, consider using v7 if you are using UUIDs as database keys.</li>
<li>v5 or v8 are used if you have your own data you want in the UUID, but generally, you will know if you need it.</li>
</ul>
<p>What about the other ones?</p>
<ul>
<li><a href="https://www.rfc-editor.org/rfc/rfc9562.html#section-5.7-4">Per the RFC</a>, v7 improves on v1 and v6 and should be used over those if possible.
So you usually won&#39;t want v1 or v6.
If you do want one of those, you <em>can</em> use v6.</li>
<li>v2 is reserved for unspecified security things.
If you <em>are</em> using these, you probably can&#39;t tell me or anyone else about it, and you&#39;re probably not reading this post to figure out more about them.</li>
<li>v3 is superceded by v5, which uses a stronger hash.
This one is one where you probably <em>know</em> if you need it.</li>
</ul>
<hr/>


</div>

  


  <hr/>
  <p>
    If this post was enjoyable or useful for you, <strong>please share it!</strong>
    If you have comments, questions, or feedback, you can email <a href="mailto:me@ntietz.com">my personal email</a>.
    To get new posts and support my work, subscribe to the <a href="https://github.com/newsletter/">newsletter</a>. There is also an <a href="https://github.com/atom.xml">RSS feed</a>.
  </p>
  <p>
  <i></i> Want to become a better programmer?
  <a href="https://www.recurse.com/scout/click?t=c9a1a9e2e7a2ffefd4af20020b4af1e6">Join the Recurse Center!</a>
  </p>


</div></div>
  </body>
</html>
