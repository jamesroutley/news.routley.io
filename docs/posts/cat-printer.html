<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/rbaron/catprinter">Original</a>
    <h1>Cat Printer</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/rbaron/catprinter/blob/main/media/hackoclock.jpg"><img src="https://github.com/rbaron/catprinter/raw/main/media/hackoclock.jpg" alt="Cat Printer"/></a></p>
<p dir="auto">Cat printer is a portable thermal printer sold on AliExpress for around $20.</p>
<p dir="auto">This repository contains Python code for talking to the cat printer over Bluetooth Low Energy (BLE). The code has been reverse engineered from the <a href="https://play.google.com/store/apps/details?id=com.frogtosea.iprint&amp;hl=en_US&amp;gl=US" rel="nofollow">official Android app</a>.</p>

<div data-snippet-clipboard-copy-content="# Clone the repository.
$ git clone git@github.com:rbaron/catprinter.git
$ cd catprinter
# Create a virtualenv on venv/ and activate it.
$ virtualenv --python=python3 venv
$ source venv/bin/activate
# Install requirements from requirements.txt.
$ pip install -r requirements.txt"><pre><span><span>#</span> Clone the repository.</span>
$ git clone git@github.com:rbaron/catprinter.git
$ <span>cd</span> catprinter
<span><span>#</span> Create a virtualenv on venv/ and activate it.</span>
$ virtualenv --python=python3 venv
$ <span>source</span> venv/bin/activate
<span><span>#</span> Install requirements from requirements.txt.</span>
$ pip install -r requirements.txt</pre></div>

<div data-snippet-clipboard-copy-content="$ python print.py --help
usage: print.py [-h] [--devicename] [--log-level {debug,info,warn,error}] [--img-binarization-algo {mean-threshold,floyd-steinberg}] [--show-preview] filename

prints an image on your cat thermal printer

positional arguments:
  filename

optional arguments:
  -h, --help            show this help message and exit
  --devicename          Specify the Bluetooth device name to search for. Default value is GT01.
  --log-level {debug,info,warn,error}
  --img-binarization-algo {mean-threshold,floyd-steinberg, halftone}
                        Which image binarization algorithm to use.
  --show-preview        If set, displays the final image and asks the user for confirmation before printing."><pre>$ python print.py --help
usage: print.py [-h] [--devicename] [--log-level {debug,info,warn,error}] [--img-binarization-algo {mean-threshold,floyd-steinberg}] [--show-preview] filename

prints an image on your cat thermal printer

positional arguments:
  filename

optional arguments:
  -h, --help            show this <span>help</span> message and <span>exit</span>
  --devicename          Specify the Bluetooth device name to search for. Default value is GT01.
  --log-level {debug,info,warn,error}
  --img-binarization-algo {mean-threshold,floyd-steinberg, halftone}
                        Which image binarization algorithm to use.
  --show-preview        If set, displays the final image and asks the user <span>for</span> confirmation before printing.</pre></div>

<div data-snippet-clipboard-copy-content="% python print.py --show-preview test.png
‚è≥ Applying Floyd-Steinberg dithering to image...
‚úÖ Done.
‚ÑπÔ∏è Displaying preview.
ü§î Go ahead with print? [Y/n]?
‚úÖ Read image: (42, 384) (h, w) pixels
‚úÖ Generated BLE commands: 2353 bytes
‚è≥ Looking for a BLE device named GT01...
‚úÖ Got it. Address: 09480C21-65B5-477B-B475-C797CD0D6B1C: GT01
‚è≥ Connecting to 09480C21-65B5-477B-B475-C797CD0D6B1C: GT01...
‚úÖ Connected: True; MTU: 104
‚è≥ Sending 2353 bytes of data in chunks of 101 bytes...
‚úÖ Done."><pre>% python print.py --show-preview test.png
‚è≥ Applying Floyd-Steinberg dithering to image...
‚úÖ Done.
‚ÑπÔ∏è Displaying preview.
ü§î Go ahead with print<span>?</span> [Y/n]<span>?</span>
‚úÖ Read image: (42, 384) (h, w) pixels
‚úÖ Generated BLE commands: 2353 bytes
‚è≥ Looking <span>for</span> a BLE device named GT01...
‚úÖ Got it. Address: 09480C21-65B5-477B-B475-C797CD0D6B1C: GT01
‚è≥ Connecting to 09480C21-65B5-477B-B475-C797CD0D6B1C: GT01...
‚úÖ Connected: True<span>;</span> MTU: 104
‚è≥ Sending 2353 bytes of data <span>in</span> chunks of 101 bytes...
‚úÖ Done.</pre></div>

<p dir="auto">Mean Threshold:
<a target="_blank" rel="noopener noreferrer" href="https://github.com/rbaron/catprinter/blob/main/media/grumpy_mean_threshold.png"><img src="https://github.com/rbaron/catprinter/raw/main/media/grumpy_mean_threshold.png" alt="Mean threshold"/></a></p>
<p dir="auto">Floyd Steinberg (default)
<a target="_blank" rel="noopener noreferrer" href="https://github.com/rbaron/catprinter/blob/main/media/grumpy_floydsteinberg.png"><img src="https://github.com/rbaron/catprinter/raw/main/media/grumpy_floydsteinberg.png" alt="Floyd Steinberg"/></a></p>
<p dir="auto">Halftone dithering
<a target="_blank" rel="noopener noreferrer" href="https://github.com/rbaron/catprinter/blob/main/media/grumpy_halftone.png"><img src="https://github.com/rbaron/catprinter/raw/main/media/grumpy_halftone.png" alt="Halftone"/></a></p>
</article>
          </div></div>
  </body>
</html>
