<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/arkflow-rs/arkflow">Original</a>
    <h1>ArkFlow: High-performance Rust stream processing engine</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">English | <a href="https://github.com/arkflow-rs/arkflow/blob/main/README_zh.md">中文</a></p>
<p dir="auto"><a href="https://github.com/arkflow-rs/arkflow/actions/workflows/rust.yml"><img src="https://github.com/arkflow-rs/arkflow/actions/workflows/rust.yml/badge.svg" alt="Rust"/></a>
<a href="https://github.com/arkflow-rs/arkflow/blob/main/LICENSE"><img src="https://camo.githubusercontent.com/c355f200ea90fddaa407b6eaab303663a669248ea3ca7b1fcf77dbe04ff5f48c/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d417061636865253230322e302d626c75652e737667" alt="License" data-canonical-src="https://img.shields.io/badge/license-Apache%202.0-blue.svg"/></a></p>
<p dir="auto"><a href="https://www.producthunt.com/posts/arkflow?embed=true&amp;utm_source=badge-featured&amp;utm_medium=badge&amp;utm_souce=badge-arkflow" rel="nofollow"><img src="https://camo.githubusercontent.com/85bc9a37fb504dfdad5bf0aba5e7d0fe211288afd9a6a9c7a64e632f1bffbd0d/68747470733a2f2f6170692e70726f6475637468756e742e636f6d2f776964676574732f656d6265642d696d6167652f76312f66656174757265642e7376673f706f73745f69643d393432383034267468656d653d6c6967687426743d31373433313336323632333336" alt="ArkFlow - High-performance rust stream processing engine | Product Hunt" width="250" height="54" data-canonical-src="https://api.producthunt.com/widgets/embed-image/v1/featured.svg?post_id=942804&amp;theme=light&amp;t=1743136262336"/></a></p>
<p dir="auto">High-performance Rust stream processing engine, providing powerful data stream processing capabilities, supporting
multiple input/output sources and processors.</p>

<ul dir="auto">
<li><strong>High Performance</strong>: Built on Rust and Tokio async runtime, offering excellent performance and low latency</li>
<li><strong>Multiple Data Sources</strong>: Support for Kafka, MQTT, HTTP, files, and other input/output sources</li>
<li><strong>Powerful Processing Capabilities</strong>: Built-in SQL queries, JSON processing, Protobuf encoding/decoding, batch
processing, and other processors</li>
<li><strong>Extensible</strong>: Modular design, easy to extend with new input, output, and processor components</li>
</ul>


<div dir="auto" data-snippet-clipboard-copy-content="# Clone the repository
git clone https://github.com/arkflow-rs/arkflow.git
cd arkflow

# Build the project
cargo build --release

# Run tests
cargo test"><pre><span><span>#</span> Clone the repository</span>
git clone https://github.com/arkflow-rs/arkflow.git
<span>cd</span> arkflow

<span><span>#</span> Build the project</span>
cargo build --release

<span><span>#</span> Run tests</span>
cargo <span>test</span></pre></div>

<ol dir="auto">
<li>Create a configuration file <code>config.yaml</code>:</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="logging:
  level: info
streams:
  - input:
      type: &#34;generate&#34;
      context: &#39;{ &#34;timestamp&#34;: 1625000000000, &#34;value&#34;: 10, &#34;sensor&#34;: &#34;temp_1&#34; }&#39;
      interval: 1s
      batch_size: 10

    pipeline:
      thread_num: 4
      processors:
        - type: &#34;json_to_arrow&#34;
        - type: &#34;sql&#34;
          query: &#34;SELECT * FROM flow WHERE value &gt;= 10&#34;

    output:
      type: &#34;stdout&#34;
    error_output:
      type: &#34;stdout&#34;"><pre><span>logging</span>:
  <span>level</span>: <span>info</span>
<span>streams</span>:
  - <span>input</span>:
      <span>type</span>: <span><span>&#34;</span>generate<span>&#34;</span></span>
      <span>context</span>: <span><span>&#39;</span>{ &#34;timestamp&#34;: 1625000000000, &#34;value&#34;: 10, &#34;sensor&#34;: &#34;temp_1&#34; }<span>&#39;</span></span>
      <span>interval</span>: <span>1s</span>
      <span>batch_size</span>: <span>10</span>

    <span>pipeline</span>:
      <span>thread_num</span>: <span>4</span>
      <span>processors</span>:
        - <span>type</span>: <span><span>&#34;</span>json_to_arrow<span>&#34;</span></span>
        - <span>type</span>: <span><span>&#34;</span>sql<span>&#34;</span></span>
          <span>query</span>: <span><span>&#34;</span>SELECT * FROM flow WHERE value &gt;= 10<span>&#34;</span></span>

    <span>output</span>:
      <span>type</span>: <span><span>&#34;</span>stdout<span>&#34;</span></span>
    <span>error_output</span>:
      <span>type</span>: <span><span>&#34;</span>stdout<span>&#34;</span></span></pre></div>
<ol start="2" dir="auto">
<li>Run ArkFlow:</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="./target/release/arkflow --config config.yaml"><pre>./target/release/arkflow --config config.yaml</pre></div>

<p dir="auto">ArkFlow uses YAML format configuration files, supporting the following main configuration items:</p>

<div dir="auto" data-snippet-clipboard-copy-content="logging:
  level: info  # Log level: debug, info, warn, error

streams: # Stream definition list
  - input:      # Input configuration
    # ...
    pipeline:   # Processing pipeline configuration
    # ...
    output:     # Output configuration
    # ...
    error_output: # Error output configuration
    # ...
    buffer:     # Buffer configuration
    # ... "><pre><span>logging</span>:
  <span>level</span>: <span>info  </span><span><span>#</span> Log level: debug, info, warn, error</span>

<span>streams</span>: <span><span>#</span> Stream definition list</span>
  - <span>input</span>:      <span><span>#</span> Input configuration</span>
    <span><span>#</span> ...</span>
    <span>pipeline</span>:   <span><span>#</span> Processing pipeline configuration</span>
    <span><span>#</span> ...</span>
    <span>output</span>:     <span><span>#</span> Output configuration</span>
    <span><span>#</span> ...</span>
    <span>error_output</span>: <span><span>#</span> Error output configuration</span>
    <span><span>#</span> ...</span>
    <span>buffer</span>:     <span><span>#</span> Buffer configuration</span>
    <span><span>#</span> ... </span></pre></div>

<p dir="auto">ArkFlow supports multiple input sources:</p>
<ul dir="auto">
<li><strong>Kafka</strong>: Read data from Kafka topics</li>
<li><strong>MQTT</strong>: Subscribe to messages from MQTT topics</li>
<li><strong>HTTP</strong>: Receive data via HTTP</li>
<li><strong>File</strong>: Reading data from files(Csv,Json, Parquet, Avro, Arrow) using SQL</li>
<li><strong>Generator</strong>: Generate test data</li>
<li><strong>Database</strong>: Query data from databases(MySQL, PostgreSQL, SQLite, Duckdb)</li>
</ul>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="input:
  type: kafka
  brokers:
    - localhost:9092
  topics:
    - test-topic
  consumer_group: test-group
  client_id: arkflow
  start_from_latest: true"><pre><span>input</span>:
  <span>type</span>: <span>kafka</span>
  <span>brokers</span>:
    - <span>localhost:9092</span>
  <span>topics</span>:
    - <span>test-topic</span>
  <span>consumer_group</span>: <span>test-group</span>
  <span>client_id</span>: <span>arkflow</span>
  <span>start_from_latest</span>: <span>true</span></pre></div>

<p dir="auto">ArkFlow provides multiple data processors:</p>
<ul dir="auto">
<li><strong>JSON</strong>: JSON data processing and transformation</li>
<li><strong>SQL</strong>: Process data using SQL queries</li>
<li><strong>Protobuf</strong>: Protobuf encoding/decoding</li>
<li><strong>Batch Processing</strong>: Process messages in batches</li>
</ul>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="pipeline:
  thread_num: 4
  processors:
    - type: json_to_arrow
    - type: sql
      query: &#34;SELECT * FROM flow WHERE value &gt;= 10&#34;"><pre><span>pipeline</span>:
  <span>thread_num</span>: <span>4</span>
  <span>processors</span>:
    - <span>type</span>: <span>json_to_arrow</span>
    - <span>type</span>: <span>sql</span>
      <span>query</span>: <span><span>&#34;</span>SELECT * FROM flow WHERE value &gt;= 10<span>&#34;</span></span></pre></div>

<p dir="auto">ArkFlow supports multiple output targets:</p>
<ul dir="auto">
<li><strong>Kafka</strong>: Write data to Kafka topics</li>
<li><strong>MQTT</strong>: Publish messages to MQTT topics</li>
<li><strong>HTTP</strong>: Send data via HTTP</li>
<li><strong>Standard Output</strong>: Output data to the console</li>
<li><strong>Drop</strong>: Discard data</li>
</ul>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="output:
  type: kafka
  brokers:
    - localhost:9092
  topic: 
    type: value
    value: test-topic
  client_id: arkflow-producer"><pre><span>output</span>:
  <span>type</span>: <span>kafka</span>
  <span>brokers</span>:
    - <span>localhost:9092</span>
  <span>topic</span>: 
    <span>type</span>: <span>value</span>
    <span>value</span>: <span>test-topic</span>
  <span>client_id</span>: <span>arkflow-producer</span></pre></div>

<p dir="auto">ArkFlow supports multiple error output targets:</p>
<ul dir="auto">
<li><strong>Kafka</strong>: Write error data to Kafka topics</li>
<li><strong>MQTT</strong>: Publish error messages to MQTT topics</li>
<li><strong>HTTP</strong>: Send error data via HTTP</li>
<li><strong>Standard Output</strong>: Output error data to the console</li>
<li><strong>Drop</strong>: Discard error data</li>
</ul>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="error_output:
  type: kafka
  brokers:
    - localhost:9092
  topic: 
    type: value
    value: error-topic
  client_id: error-arkflow-producer"><pre><span>error_output</span>:
  <span>type</span>: <span>kafka</span>
  <span>brokers</span>:
    - <span>localhost:9092</span>
  <span>topic</span>: 
    <span>type</span>: <span>value</span>
    <span>value</span>: <span>error-topic</span>
  <span>client_id</span>: <span>error-arkflow-producer</span></pre></div>

<p dir="auto">ArkFlow provides buffer capabilities to handle backpressure and temporary storage of messages:</p>
<ul dir="auto">
<li><strong>Memory Buffer</strong>: Memory buffer, for high-throughput scenarios and window aggregation</li>
</ul>
<p dir="auto">Example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="buffer:
  type: memory
  capacity: 10000  # Maximum number of messages to buffer
  timeout: 10s  # Maximum time to buffer messages"><pre><span>buffer</span>:
  <span>type</span>: <span>memory</span>
  <span>capacity</span>: <span>10000</span>  <span><span>#</span> Maximum number of messages to buffer</span>
  <span>timeout</span>: <span>10s</span>  <span><span>#</span> Maximum time to buffer messages</span></pre></div>

<div dir="auto"><h3 tabindex="-1" dir="auto">Kafka to Kafka Data Processing</h3><a id="user-content-kafka-to-kafka-data-processing" aria-label="Permalink: Kafka to Kafka Data Processing" href="#kafka-to-kafka-data-processing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="streams:
  - input:
      type: kafka
      brokers:
        - localhost:9092
      topics:
        - test-topic
      consumer_group: test-group

    pipeline:
      thread_num: 4
      processors:
        - type: json_to_arrow
        - type: sql
          query: &#34;SELECT * FROM flow WHERE value &gt; 100&#34;

    output:
      type: kafka
      brokers:
        - localhost:9092
      topic: processed-topic"><pre><span>streams</span>:
  - <span>input</span>:
      <span>type</span>: <span>kafka</span>
      <span>brokers</span>:
        - <span>localhost:9092</span>
      <span>topics</span>:
        - <span>test-topic</span>
      <span>consumer_group</span>: <span>test-group</span>

    <span>pipeline</span>:
      <span>thread_num</span>: <span>4</span>
      <span>processors</span>:
        - <span>type</span>: <span>json_to_arrow</span>
        - <span>type</span>: <span>sql</span>
          <span>query</span>: <span><span>&#34;</span>SELECT * FROM flow WHERE value &gt; 100<span>&#34;</span></span>

    <span>output</span>:
      <span>type</span>: <span>kafka</span>
      <span>brokers</span>:
        - <span>localhost:9092</span>
      <span>topic</span>: <span>processed-topic</span></pre></div>
<div dir="auto"><h3 tabindex="-1" dir="auto">Generate Test Data and Process</h3><a id="user-content-generate-test-data-and-process" aria-label="Permalink: Generate Test Data and Process" href="#generate-test-data-and-process"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="streams:
  - input:
      type: &#34;generate&#34;
      context: &#39;{ &#34;timestamp&#34;: 1625000000000, &#34;value&#34;: 10, &#34;sensor&#34;: &#34;temp_1&#34; }&#39;
      interval: 1ms
      batch_size: 10000

    pipeline:
      thread_num: 4
      processors:
        - type: &#34;json_to_arrow&#34;
        - type: &#34;sql&#34;
          query: &#34;SELECT count(*) FROM flow WHERE value &gt;= 10 group by sensor&#34;

    output:
      type: &#34;stdout&#34;"><pre><span>streams</span>:
  - <span>input</span>:
      <span>type</span>: <span><span>&#34;</span>generate<span>&#34;</span></span>
      <span>context</span>: <span><span>&#39;</span>{ &#34;timestamp&#34;: 1625000000000, &#34;value&#34;: 10, &#34;sensor&#34;: &#34;temp_1&#34; }<span>&#39;</span></span>
      <span>interval</span>: <span>1ms</span>
      <span>batch_size</span>: <span>10000</span>

    <span>pipeline</span>:
      <span>thread_num</span>: <span>4</span>
      <span>processors</span>:
        - <span>type</span>: <span><span>&#34;</span>json_to_arrow<span>&#34;</span></span>
        - <span>type</span>: <span><span>&#34;</span>sql<span>&#34;</span></span>
          <span>query</span>: <span><span>&#34;</span>SELECT count(*) FROM flow WHERE value &gt;= 10 group by sensor<span>&#34;</span></span>

    <span>output</span>:
      <span>type</span>: <span><span>&#34;</span>stdout<span>&#34;</span></span></pre></div>

<p dir="auto"><a href="https://github.com/arkflow-rs/arkflow-plugin-examples">ArkFlow Plugin Examples</a></p>

<p dir="auto">ArkFlow is licensed under the <a href="https://github.com/arkflow-rs/arkflow/blob/main/LICENSE">Apache License 2.0</a>.</p>

<p dir="auto">Discord: <a href="https://discord.gg/CwKhzb8pux" rel="nofollow">https://discord.gg/CwKhzb8pux</a></p>
<p dir="auto">If you like or are using this project to learn or start your solution, please give it a star⭐. Thanks!</p>
</article></div></div>
  </body>
</html>
