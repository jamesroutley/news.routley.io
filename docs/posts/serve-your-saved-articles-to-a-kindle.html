<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/edgartaor/kindleServer">Original</a>
    <h1>Show HN: Serve your saved articles to a Kindle</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p dir="auto">I save articles into HTML files with  <a href="https://github.com/tagspaces/browser-extensions">TagSpaces</a> or <a href="https://github.com/gildas-lormeau/SingleFile">SingleFile</a> to read them later but I could not find a way to serve them easily to a Kindle Paperwhite and read them there.</p>
<p dir="auto">This project serve HTML files (and a few more) saved in your computer with a UI suitable for Kindle web browser. On top of that, it include a Read Mode (thanks to <a href="https://github.com/alan-turing-institute/ReadabiliPy">ReadabiliPy</a>)  to display the text in a comfortable size without have to use the &#39;Article Mode&#39; in Kindle web browser.</p>
<p dir="auto">This app does not use Javascript or any database (the files themselves are the database). To serve the file it uses <a href="https://whitenoise.evans.io/en/stable/#" rel="nofollow">Whitenoise</a>, so it does not need a nginx o apache server.</p>
<p dir="auto"><em>Disclaimer</em>: I use this app only accessible in my LAN, running
<code>flask run -h 192.168.1.100 -p 8000</code> is enough for my use case. If  you need a public instance over the Internet, please setup a proper web server.</p>
<h2 dir="auto"><a id="user-content-demo" aria-hidden="true" href="#demo"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Demo</h2>
<details open="">
  <summary>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path fill-rule="evenodd" d="M16 3.75a.75.75 0 00-1.136-.643L11 5.425V4.75A1.75 1.75 0 009.25 3h-7.5A1.75 1.75 0 000 4.75v6.5C0 12.216.784 13 1.75 13h7.5A1.75 1.75 0 0011 11.25v-.675l3.864 2.318A.75.75 0 0016 12.25v-8.5zm-5 5.075l3.5 2.1v-5.85l-3.5 2.1v1.65zM9.5 6.75v-2a.25.25 0 00-.25-.25h-7.5a.25.25 0 00-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 00.25-.25v-4.5z"></path>
</svg>
    <span aria-label="Video description Kindleserver.Demo-2.mp4">Kindleserver.Demo-2.mp4</span>
    <span></span>
  </summary>

  <video src="https://user-images.githubusercontent.com/430438/158122704-8fe414f9-260e-431d-9d6c-29463062fd7e.mp4" data-canonical-src="https://user-images.githubusercontent.com/430438/158122704-8fe414f9-260e-431d-9d6c-29463062fd7e.mp4" controls="controls" muted="muted">

  </video>
</details>

<h2 dir="auto"><a id="user-content-install" aria-hidden="true" href="#install"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Install</h2>
<div data-snippet-clipboard-copy-content="git clone https://github.com/edgartaor/kindleServer.git
cd kindleServer
pip install -r requirements.txt
flask run -h 0.0.0.0 -p 8000"><pre>git clone https://github.com/edgartaor/kindleServer.git
<span>cd</span> kindleServer
pip install -r requirements.txt
flask run -h 0.0.0.0 -p 8000</pre></div>
<p dir="auto"><strong>Important</strong>: In the <code>config.py</code> file change <code>SAVED_WEBPAGES_DIR</code> to the path where the HTML files are stored.</p>
<h2 dir="auto"><a id="user-content-customize" aria-hidden="true" href="#customize"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Customize</h2>
<p dir="auto">You can customize some aspects in the <code>config.py</code> file.</p>
<div data-snippet-clipboard-copy-content="# The files that are gonna be listed, 
# compatibility depends on the browser and the device
# Usually if a file it is not compatible in the browser
# it will prompt to download 
# Kindle Paperwhite currently can download .AZW, .PRC and .MOBI with the web browser
# and can display html and txt (pdf is not compatible though)
# other files had not being tested
FILE_TYPES_ALLOWED = (&#39;html&#39;, &#39;txt&#39;, &#39;md&#39;, &#39;pdf&#39;, &#34;azw3&#34;, &#34;azw&#34;,
                        &#39;prc&#39;, &#39;mobi&#39;)

# Files that are compatible with the Read Mode
# It support html files and any plain text files
READ_MODE_FILES_COMPATIBLE = (&#39;html&#39;, &#39;txt&#39;, &#39;md&#39;)

# Path where the webpages are saved
SAVED_WEBPAGES_DIR = &#34;/mnt/c/Users/Edgar/Documents/Saved webpages/&#34;

# Number of files to show per page
PER_PAGE = 10

# SORT_BY options are 
# &#39;CREATION&#39; = Creation date
# &#39;MODIFIED&#39; = Last modification date
# &#39;FILENAME&#39; = Alphabetical order
SORT_BY = &#39;CREATION&#39;

# Reverse the order of the files after being sorted
REVERSE_ORDER = True

# Set USE_READABILITY to True if you have a nodejs instance installed
# If mozilla/readability is not found it will fallback to a pure-python parser included in ReadabiliPy
# https://github.com/alan-turing-institute/ReadabiliPy#installation 
USE_READABILITY = True

"><pre><span># The files that are gonna be listed, </span>
<span># compatibility depends on the browser and the device</span>
<span># Usually if a file it is not compatible in the browser</span>
<span># it will prompt to download </span>
<span># Kindle Paperwhite currently can download .AZW, .PRC and .MOBI with the web browser</span>
<span># and can display html and txt (pdf is not compatible though)</span>
<span># other files had not being tested</span>
<span>FILE_TYPES_ALLOWED</span> <span>=</span> (<span>&#39;html&#39;</span>, <span>&#39;txt&#39;</span>, <span>&#39;md&#39;</span>, <span>&#39;pdf&#39;</span>, <span>&#34;azw3&#34;</span>, <span>&#34;azw&#34;</span>,
                        <span>&#39;prc&#39;</span>, <span>&#39;mobi&#39;</span>)

<span># Files that are compatible with the Read Mode</span>
<span># It support html files and any plain text files</span>
<span>READ_MODE_FILES_COMPATIBLE</span> <span>=</span> (<span>&#39;html&#39;</span>, <span>&#39;txt&#39;</span>, <span>&#39;md&#39;</span>)

<span># Path where the webpages are saved</span>
<span>SAVED_WEBPAGES_DIR</span> <span>=</span> <span>&#34;/mnt/c/Users/Edgar/Documents/Saved webpages/&#34;</span>

<span># Number of files to show per page</span>
<span>PER_PAGE</span> <span>=</span> <span>10</span>

<span># SORT_BY options are </span>
<span># &#39;CREATION&#39; = Creation date</span>
<span># &#39;MODIFIED&#39; = Last modification date</span>
<span># &#39;FILENAME&#39; = Alphabetical order</span>
<span>SORT_BY</span> <span>=</span> <span>&#39;CREATION&#39;</span>

<span># Reverse the order of the files after being sorted</span>
<span>REVERSE_ORDER</span> <span>=</span> <span>True</span>

<span># Set USE_READABILITY to True if you have a nodejs instance installed</span>
<span># If mozilla/readability is not found it will fallback to a pure-python parser included in ReadabiliPy</span>
<span># https://github.com/alan-turing-institute/ReadabiliPy#installation </span>
<span>USE_READABILITY</span> <span>=</span> <span>True</span>
</pre></div>
<p dir="auto">You can also customize the font size, font family and any aspect in the template files</p>
</article>
        </div></div>
  </body>
</html>
