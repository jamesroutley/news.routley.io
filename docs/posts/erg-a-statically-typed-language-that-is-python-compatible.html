<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/erg-lang/erg">Original</a>
    <h1>Erg: a statically typed language that is Python compatible</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/erg-lang/erg/blob/main/assets/erg_logo_with_slogan.svg"><img width="500" src="https://github.com/erg-lang/erg/raw/main/assets/erg_logo_with_slogan.svg"/></a>
</p>

<p dir="auto">
    <a target="_blank" rel="noopener noreferrer" href="https://github.com/erg-lang/erg/actions/workflows/rust.yml/badge.svg"><img alt="Build status" src="https://github.com/erg-lang/erg/actions/workflows/rust.yml/badge.svg"/></a>
    <a href="https://opensource.org/licenses/Apache-2.0" rel="nofollow"><img alt="License: MIT &amp; APACHE 2.0" src="https://camo.githubusercontent.com/a1d5018f8a6015e06a48d834f5b263c81792bc62934b6db09bce0001eb60b5b2/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4170616368652d2d322e305f4f525f4d49542d626c7565" data-canonical-src="https://img.shields.io/badge/license-Apache--2.0_OR_MIT-blue"/></a></p>
<h2 dir="auto"><a id="user-content-erg-can-be-recommended-to-a-person-that" aria-hidden="true" href="#erg-can-be-recommended-to-a-person-that"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Erg can be recommended to a person that:</h2>
<ul dir="auto">
<li>uses Python, but want Rust-like robustness and comfortable compiler support.</li>
<li>and yet, doesn&#39;t need the verbose type specifications &amp; memory management model like Rust.</li>
<li>wants a simple and consistent language like ML.</li>
<li>wants a practical general-purpose language with dependent/refinement types.</li>
<li>wants a language like Scala that can be used both object-oriented and functional.</li>
</ul>
<h2 dir="auto"><a id="user-content-features" aria-hidden="true" href="#features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Features</h2>
<blockquote>
<p dir="auto">Some features are not yet implemented. Please see <a href="https://github.com/erg-lang/erg/blob/main/TODO.md">TODO.md</a> for implementation status.</p>
</blockquote>
<ol dir="auto">
<li>
<p dir="auto">Robustness</p>
<p dir="auto">Erg has a smart &amp; powerful type system. For example, Erg can do null checking (Option type), division by zero and out-of-range addresses in arrays at compile time.</p>
<div data-snippet-clipboard-copy-content="rand = pyimport &#34;random&#34;

l = [1, 2, 3]
assert l in [Nat; 3] # type checking
assert l in [1..3; 3] # more detailed
l2 = l.push(rand.choice! 0..10)
assert l2 in [0..10; 4]
assert l2 + [3, 5, 7] in [0..10; 7]
# This causes an IndexError, Erg can detect it at compile time
l2[10] # IndexError: `l2` has 7 elements but was accessed the 11th element

2.times! do!:
    print! &#34;hello, &#34;, end: &#34;&#34;
# =&gt; hello, hello, 
-2.times! do!:
    print! &#34;hello, &#34;, end: &#34;&#34;
# TypeError: `.times!` is a method of `Nat` (0 or more Int), not `Int`

{Meter; Sec; meter; yard; sec; ...} = import &#34;unit&#34;

velocity x: Meter, t: Sec = x / t

v = velocity 3yard, 2sec # TypeError: the type of `x` was mismatched: expect `Meter`, found `Yard`
v = velocity 3meter, 2sec # v == 1.5 m/s"><pre><span>rand</span> <span>=</span> <span>pyimport</span> <span>&#34;random&#34;</span>

<span>l</span> <span>=</span> [<span>1</span>, <span>2</span>, <span>3</span>]
<span>assert</span> <span>l</span> <span>in</span> [<span>Nat</span>; <span>3</span>] <span># type checking</span>
<span>assert</span> <span>l</span> <span>in</span> [<span>1.</span>.<span>3</span>; <span>3</span>] <span># more detailed</span>
<span>l2</span> <span>=</span> <span>l</span>.<span>push</span>(<span>rand</span>.<span>choice</span>! <span>0.</span><span>.10</span>)
<span>assert</span> <span>l2</span> <span>in</span> [<span>0.</span>.<span>10</span>; <span>4</span>]
<span>assert</span> <span>l2</span> <span>+</span> [<span>3</span>, <span>5</span>, <span>7</span>] <span>in</span> [<span>0.</span>.<span>10</span>; <span>7</span>]
<span># This causes an IndexError, Erg can detect it at compile time</span>
<span>l2</span>[<span>10</span>] <span># IndexError: `l2` has 7 elements but was accessed the 11th element</span>

<span>2.</span><span>times</span>! <span>do</span>!:
    <span>print</span>! &#34;<span>hello</span>, <span>&#34;, end: &#34;</span>&#34;
<span># =&gt; hello, hello, </span>
<span>-</span><span>2.</span><span>times</span>! <span>do</span>!:
    <span>print</span>! &#34;<span>hello</span>, <span>&#34;, end: &#34;</span><span>&#34;</span>
<span><span># TypeError: `.times!` is a method of `Nat` (0 or more Int), not `Int`</span></span>
<span></span>
<span><span><span>{</span><span>Meter</span>; <span>Sec</span>; <span>meter</span>; <span>yard</span>; <span>sec</span>; ...<span>}</span></span> = import &#34;</span><span>unit</span>&#34;

<span>velocity</span> <span>x</span>: <span>Meter</span>, <span>t</span>: <span>Sec</span> <span>=</span> <span>x</span> <span>/</span> <span>t</span>

<span>v</span> <span>=</span> <span>velocity</span> <span>3</span><span>yard</span>, <span>2</span><span>sec</span> <span># TypeError: the type of `x` was mismatched: expect `Meter`, found `Yard`</span>
<span>v</span> <span>=</span> <span>velocity</span> <span>3</span><span>meter</span>, <span>2</span><span>sec</span> <span># v == 1.5 m/s</span></pre></div>
</li>
<li>
<p dir="auto">Simplicity</p>
<p dir="auto">Erg consists of a very simple syntax, which can significantly reduce the amount of code compared to other languages. However, its functionality is not inferior to them.</p>
<p dir="auto">Since the type inference system is powerful, you can code like a dynamically typed language.</p>
<div data-snippet-clipboard-copy-content="fib 0 = 0
fib 1 = 1
fib n = fib(n - 1) + fib(n - 2)
assert fib(10) == 55"><pre><span>fib</span> <span>0</span> <span>=</span> <span>0</span>
<span>fib</span> <span>1</span> <span>=</span> <span>1</span>
<span>fib</span> <span>n</span> <span>=</span> <span>fib</span>(<span>n</span> <span>-</span> <span>1</span>) <span>+</span> <span>fib</span>(<span>n</span> <span>-</span> <span>2</span>)
<span>assert</span> <span>fib</span>(<span>10</span>) <span>==</span> <span>55</span></pre></div>
<p dir="auto">In Erg, there are very few things that are treated as special; there are no reserved words.
even for and while expressions are just one of the subroutines, so this is possible.</p>
<div data-snippet-clipboard-copy-content="loop! block = while! True, block

# equals to `while! True, do! print! &#34;hello&#34;`
loop! do!:
    print! &#34;hello&#34;"><pre><span>loop</span>! <span>block</span> <span>=</span> <span>while</span>! <span>True</span>, <span>block</span>

<span># equals to `while! True, do! print! &#34;hello&#34;`</span>
<span>loop</span>! <span>do</span>!:
    <span>print</span>! <span>&#34;hello&#34;</span></pre></div>
</li>
<li>
<p dir="auto">Functional &amp; Object-oriented</p>
<p dir="auto">Erg is a pure object-oriented language. Everything is an object; types, functions, and operators are all objects. On the other hand, Erg is also a functional language.
Erg requires some kinds of markers to be placed on code that causes side effects or changes internal state, which can localize the complexity of code. This will greatly improve the maintainability of your code.</p>
<div data-snippet-clipboard-copy-content="# Functional style (immutable), same as `.sorted()` in Python
immut_arr = [1, 3, 2]
assert immut_arr.sort() == [1, 2, 3]
# Object-oriented style (mutable)
mut_arr = ![1, 3, 2]
mut_arr.sort!()
assert mut_arr == [1, 2, 3]
i = !1
i.update! old -&gt; old + 1
assert i == 2

# Functions cannot cause side effects
inc i: Int! =
    i.update! old -&gt; old + 1
# SyntaxError: cannot call a procedural method in a function
# hint: only methods of mutable types can change the state of objects

Counter! = Inherit Int!
Counter!.
    new i: Int = Self!::__new__ !i
    inc! ref! self =
        self.update! old -&gt; old + 1

c = Counter!.new 1
c.inc!()
assert c == 2"><pre><span># Functional style (immutable), same as `.sorted()` in Python</span>
<span>immut_arr</span> <span>=</span> [<span>1</span>, <span>3</span>, <span>2</span>]
<span>assert</span> <span>immut_arr</span>.<span>sort</span>() <span>==</span> [<span>1</span>, <span>2</span>, <span>3</span>]
<span># Object-oriented style (mutable)</span>
<span>mut_arr</span> <span>=</span> ![<span>1</span>, <span>3</span>, <span>2</span>]
<span>mut_arr</span>.<span>sort</span>!()
<span>assert</span> <span>mut_arr</span> <span>==</span> [<span>1</span>, <span>2</span>, <span>3</span>]
<span>i</span> <span>=</span> !<span>1</span>
<span>i</span>.<span>update</span>! <span>old</span> <span>-</span><span>&gt;</span> <span>old</span> <span>+</span> <span>1</span>
<span>assert</span> <span>i</span> <span>==</span> <span>2</span>

<span># Functions cannot cause side effects</span>
<span>inc</span> <span>i</span>: <span>Int</span>! <span>=</span>
    <span>i</span>.<span>update</span>! <span>old</span> <span>-</span><span>&gt;</span> <span>old</span> <span>+</span> <span>1</span>
<span># SyntaxError: cannot call a procedural method in a function</span>
<span># hint: only methods of mutable types can change the state of objects</span>

<span>Counter</span>! <span>=</span> <span>Inherit</span> <span>Int</span>!
<span>Counter</span>!.
    <span>new</span> <span>i</span>: <span>Int</span> <span>=</span> <span>Self</span>!::<span>__new__</span> !i
    <span>inc</span>! <span>ref</span>! <span>self</span> <span>=</span>
        <span>self</span>.<span>update</span>! <span>old</span> <span>-</span><span>&gt;</span> <span>old</span> <span>+</span> <span>1</span>

<span>c</span> <span>=</span> <span>Counter</span>!.<span>new</span> <span>1</span>
<span>c</span>.<span>inc</span>!()
<span>assert</span> <span>c</span> <span>==</span> <span>2</span></pre></div>
</li>
<li>
<p dir="auto">Interoperability</p>
<p dir="auto">Erg is internally compatible with Python and can import the Python API at zero cost.</p>
<div data-snippet-clipboard-copy-content="# using built-in Python modules
math, time = pyimport &#34;math&#34;, &#34;time&#34;
{sin; pi; ...} = math
# using an external Python module
Tqdm! = pyimport(&#34;tqdm&#34;).&#39;tqdm&#39;

print! sin pi # 1.2246467991473532e-16
for! Tqdm!.&#39;__call__&#39;(0..99), i =&gt;
    time.sleep! 0.01 * i"><pre><span># using built-in Python modules</span>
<span>math</span>, <span>time</span> <span>=</span> <span>pyimport</span> <span>&#34;math&#34;</span>, <span>&#34;time&#34;</span>
{<span>sin</span>; <span>pi</span>; ...} <span>=</span> <span>math</span>
<span># using an external Python module</span>
<span>Tqdm</span>! <span>=</span> <span>pyimport</span>(<span>&#34;tqdm&#34;</span>).<span>&#39;tqdm&#39;</span>

<span>print</span>! <span>sin</span> <span>pi</span> <span># 1.2246467991473532e-16</span>
<span>for</span>! <span>Tqdm</span>!.<span>&#39;__call__&#39;</span>(<span>0.</span>.<span>99</span>), <span>i</span> <span>=</span><span>&gt;</span>
    <span>time</span>.<span>sleep</span>! <span>0.01</span> <span>*</span> <span>i</span></pre></div>
</li>
<li>
<p dir="auto">Readable Error Messages</p>
<p dir="auto">Erg emphasizes the readability of error messages; Erg is a programmer-friendly language, <del>unlike C++.</del></p>
<div data-snippet-clipboard-copy-content="proc! x =
    l = [1, 2, 3]
    l.push!(x)
    l"><pre><span>proc</span>! <span>x</span> <span>=</span>
    <span>l</span> <span>=</span> [<span>1</span>, <span>2</span>, <span>3</span>]
    <span>l</span>.<span>push</span>!(<span>x</span>)
    <span>l</span></pre></div>
<div data-snippet-clipboard-copy-content="Error[#12]: File example.er, line 3, in &lt;module&gt;::proc!
2│     l = [1, 2, 3]
3│     l.push!(x)
         ^^^^^
AttributeError: Array object has no attribute `.push!`
hint: in order to update the internal state of an object, make it mutable by using `!` operator
hint: `Array` has `push`, see https://erg-lang.github.io/docs/prelude/Array/##push for more information
hint: `Array!` has `push!`, see https://erg-lang.github.io/docs/prelude/Array!/##push! for more information"><pre><span>Error[#12]: File example.er, line 3, in &lt;module&gt;::proc!</span>
<span>2│     l = [1, 2, 3]</span>
<span>3│     l.push!(x)</span>
<span>         ^^^^^</span>
<span>AttributeError: Array object has no attribute `.push!`</span>
<span>hint: in order to update the internal state of an object, make it mutable by using `!` operator</span>
<span>hint: `Array` has `push`, see https://erg-lang.github.io/docs/prelude/Array/##push for more information</span>
<span>hint: `Array!` has `push!`, see https://erg-lang.github.io/docs/prelude/Array!/##push! for more information</span></pre></div>
</li>
</ol>
<h2 dir="auto"><a id="user-content-requirements" aria-hidden="true" href="#requirements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Requirements</h2>
<p dir="auto">A <a href="https://www.python.org/" rel="nofollow">Python3</a> interpreter is required. If it is already installed on your machine, no setup is required.</p>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<h3 dir="auto"><a id="user-content-installing-by-cargo-rust-package-manager" aria-hidden="true" href="#installing-by-cargo-rust-package-manager"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installing by cargo (Rust package manager)</h3>

<h3 dir="auto"><a id="user-content-building-from-source" aria-hidden="true" href="#building-from-source"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Building from source</h3>
<p dir="auto">Building from source code requires the Rust toolchain.</p>
<div data-snippet-clipboard-copy-content="git clone https://github.com/erg-lang/erg.git
cd erg
cargo build --release"><pre>git clone https://github.com/erg-lang/erg.git
<span>cd</span> erg
cargo build --release</pre></div>
<h2 dir="auto"><a id="user-content-contribution" aria-hidden="true" href="#contribution"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Contribution</h2>
<p dir="auto">Contributions are always welcome!
If you have any questions, please feel free to ask them on the <a href="https://discord.gg/zfAAUbgGr4" rel="nofollow">Discord channel</a>.</p>
<h2 dir="auto"><a id="user-content-license" aria-hidden="true" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>License</h2>
<p dir="auto">Erg is distributed under the terms of both the MIT license and the Apache License (Version 2.0).
See <a href="https://github.com/erg-lang/erg/blob/main/LICENSE-APACHE">LICENSE-APACHE</a>, <a href="https://github.com/erg-lang/erg/blob/main/LICENSE-MIT">LICENSE-MIT</a> for details.</p>
</article>
          </div></div>
  </body>
</html>
