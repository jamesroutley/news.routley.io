<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://v2.tauri.app/blog/tauri-verso-integration/">Original</a>
    <h1>Experimental Tauri Verso Integration</h1>
    
    <div id="readability-page-1" class="page"><div>   <h2 id="what-is-verso"><a aria-hidden="" tabindex="-1" href="#what-is-verso">What is Verso?</a></h2>
<p>So first off, what is <code dir="auto">Verso</code>? <a href="https://github.com/versotile-org/verso"><code dir="auto">Verso</code></a> is a browser based on <a href="https://servo.org/"><code dir="auto">Servo</code></a>, a web browser rendering engine written in Rust</p>
<h2 id="why-using-verso-instead-of-servo-directly"><a aria-hidden="" tabindex="-1" href="#why-using-verso-instead-of-servo-directly">Why using Verso instead of Servo directly?</a></h2>
<p>I believe there’re quite a lot of people having thought about using Servo but got intimidated by the complex APIs and just gave up, which frankly I was one of them, so the goal of building the Verso webview is to make it easy enough to understand and use so that people will actually start to experiment and use it</p>
<p>Servo itself is made to be relatively easy to embed compared to other browsers, but the APIs are still way too low level and it’s quite daunting to use, you can take a look at the minimal example for running Servo with Winit at (note this is not even a fully functional example): <a href="https://github.com/servo/servo/blob/8d39d7706aee50971e848a5e31fc6bfd7ef552c1/components/servo/examples/winit_minimal.rs">https://github.com/servo/servo/blob/8d39d7706aee50971e848a5e31fc6bfd7ef552c1/components/servo/examples/winit_minimal.rs</a></p>
<p>And compared to that, Verso’s API looks like this, which is much easier and ergonomic to use</p>
<div><figure><pre data-language="rust"><code><div><p><span>use</span><span> std</span><span>::</span><span>env</span><span>::</span><span>current_exe;</span></p></div><div><p><span>use</span><span> std</span><span>::</span><span>thread</span><span>::</span><span>sleep;</span></p></div><div><p><span>use</span><span> std</span><span>::</span><span>time</span><span>::</span><span>Duration;</span></p></div><div><p><span>use</span><span> url</span><span>::</span><span>Url;</span></p></div><div><p><span>use</span><span> verso</span><span>::</span><span>VersoBuilder;</span></p></div><div></div><div><p><span>fn</span><span> </span><span>main</span><span>() {</span></p></div><div><p><span>    </span><span>let</span><span> </span><span>versoview_path</span><span> </span><span>=</span><span> </span><span>current_exe</span><span>()</span><span>.</span><span>unwrap</span><span>()</span><span>.</span><span>parent</span><span>()</span><span>.</span><span>unwrap</span><span>()</span><span>.</span><span>join</span><span>(</span><span>&#34;</span><span>versoview</span><span>&#34;</span><span>);</span></p></div><div><p><span>    </span><span>let</span><span> </span><span>controller</span><span> </span><span>=</span><span> VersoBuilder</span><span>::</span><span>new</span><span>()</span></p></div><div><p><span>        </span><span>.</span><span>with_panel</span><span>(</span><span>true</span><span>)</span></p></div><div><p><span>        </span><span>.</span><span>maximized</span><span>(</span><span>true</span><span>)</span></p></div><div><p><span>        </span><span>.</span><span>build</span><span>(</span><span>versoview_path</span><span>, Url</span><span>::</span><span>parse</span><span>(</span><span>&#34;</span><span>https://example.com</span><span>&#34;</span><span>)</span><span>.</span><span>unwrap</span><span>());</span></p></div><div><p><span>    </span><span>loop</span><span> {</span></p></div><div><p><span>        </span><span>sleep</span><span>(Duration</span><span>::</span><span>MAX</span><span>);</span></p></div><div><p><span><span>    </span></span><span>}</span></p></div><div><p><span>}</span></p></div></code></pre></figure></div>
<blockquote>
<p><a href="https://github.com/versotile-org/verso/blob/2e853d4f3f4cb88274daa211b7a2eb3bd1517115/verso/src/main.rs">https://github.com/versotile-org/verso/blob/2e853d4f3f4cb88274daa211b7a2eb3bd1517115/verso/src/main.rs</a></p>
</blockquote>
<p>It’s not to say Servo’s API is bad though, as they need to support a lot more use cases while we just need it for building applications with Tauri</p>
<h2 id="tauri-runtime-verso"><a aria-hidden="" tabindex="-1" href="#tauri-runtime-verso"><code dir="auto">tauri-runtime-verso</code></a></h2>
<p>So let’s talk about the integration with Tauri!</p>
<p>We choose to integrate Verso and Tauri through a new custom runtime <a href="https://github.com/versotile-org/tauri-runtime-verso"><code dir="auto">tauri-runtime-verso</code></a> for this time, this is similar to our default runtime <code dir="auto">tauri-runtime-wry</code>.</p>
<p>With this approach, you can easily swap out the runtime and use Tauri like what you’ll normally do:</p>
<div><figure><pre data-language="rust"><code><div><p><span>use</span><span> tauri_runtime_verso</span><span>::</span><span>{</span></p></div><div><p><span><span>    </span></span><span>INVOKE_SYSTEM_SCRIPTS, VersoRuntime, set_verso_path, set_verso_resource_directory,</span></p></div><div><p><span>};</span></p></div><div></div><div><p><span>fn</span><span> </span><span>main</span><span>() {</span></p></div><div><p><span>    </span><span>// You need to set this to the path of the versoview executable</span></p></div><div><p><span>    </span><span>// before creating any of the webview windows</span></p></div><div><p><span>    </span><span>set_verso_path</span><span>(</span><span>&#34;</span><span>../verso/target/debug/versoview</span><span>&#34;</span><span>);</span></p></div><div><p><span>    </span><span>// Set this to verso/servo&#39;s resources directory before creating any of the webview windows</span></p></div><div><p><span>    </span><span>// this is optional but recommended, this directory will include very important things</span></p></div><div><p><span>    </span><span>// like user agent stylesheet</span></p></div><div><p><span>    </span><span>set_verso_resource_directory</span><span>(</span><span>&#34;</span><span>../verso/resources</span><span>&#34;</span><span>);</span></p></div><div><p><span><span>    </span></span><span>tauri</span><span>::</span><span>Builder</span><span>::</span><span>&lt;VersoRuntime&gt;</span><span>::</span><span>new</span><span>()</span></p></div><div><p><span>        </span><span>// Make sure to do this or some of the commands will not work</span></p></div><div><p><span>        </span><span>.</span><span>invoke_system</span><span>(</span><span>INVOKE_SYSTEM_SCRIPTS</span><span>.</span><span>to_owned</span><span>())</span></p></div><div><p><span>        </span><span>.</span><span>run</span><span>(tauri</span><span>::</span><span>generate_context!</span><span>())</span></p></div><div><p><span>        </span><span>.</span><span>unwrap</span><span>();</span></p></div><div><p><span>}</span></p></div></code></pre></figure></div>
<p>Just note that it’s not as feature rich and powerful as the current backends used by Tauri in production yet, but it still has a lot to it, and we have built an example show casing it at <a href="https://github.com/versotile-org/tauri-runtime-verso/tree/main/examples/api">https://github.com/versotile-org/tauri-runtime-verso/tree/main/examples/api</a></p>

<h4 id="features-you-can-see-from-the-video"><a aria-hidden="" tabindex="-1" href="#features-you-can-see-from-the-video">Features you can see from the video:</a></h4>
<ul>
<li>We have all the functions the <code dir="auto">tauri-cli</code> provides</li>
<li>We’re using a modern framework, in this case <a href="https://react.dev/"><code dir="auto">React</code></a></li>
<li>We have our official log and opener plugins, they work exactly the same as if you’re using Tauri with the other backends</li>
<li>Windowing functions work, including size, position, maximize, minimize, close, …</li>
<li><a href="https://vitejs.dev/"><code dir="auto">Vite</code></a>’s css hot reload works as well</li>
<li>The <code dir="auto">data-tauri-drag-region</code> attribute works</li>
</ul>
<h2 id="future-works"><a aria-hidden="" tabindex="-1" href="#future-works">Future works</a></h2>
<p>Right now, Verso and <code dir="auto">tauri-runtime-verso</code> are still in active development so we’ll need to see as we go, but we do have something planned to do next</p>
<h3 id="pre-built-verso-executable"><a aria-hidden="" tabindex="-1" href="#pre-built-verso-executable">Pre-built Verso executable</a></h3>
<p>Releasing an easy to use pre-built Verso executable to help people get started with it quicker and easier, as currently you need to compile Verso yourself to get started</p>
<p>Also if possible, as a long term goal, we would like an evergreen shared Verso, similar to WebView2 on Windows which you would place it on the system and it would update itself automatically, and shared between multiple apps so you don’t have to ship the browser inside your app to reduce the bundle size significantly</p>
<h3 id="more-windowing-and-webview-features-support"><a aria-hidden="" tabindex="-1" href="#more-windowing-and-webview-features-support">More windowing and webview features support</a></h3>
<p>We currently only support a small subset of features in Tauri, and we would like to expand this to include more things, and we have currently planned to support window decorations, window titles and transparency</p>
<h3 id="initialization-script-without-temporary-files"><a aria-hidden="" tabindex="-1" href="#initialization-script-without-temporary-files">Initialization script without temporary files</a></h3>
<p>Currently Servo can only take an userscript directory to run on document start which is ok but for the Tauri’s use case, we would like to do this programmatically without the help of files, as that could result in left over temporary files that we never clean up</p>
<p>We have a <a href="https://github.com/servo/servo/pull/35388">PR</a> merged in Servo just a few days ago and we should just need to use in Verso and then the <code dir="auto">tarui-runtime-verso</code> so this is a coming soon!</p>
<h3 id="customization-unique-to-the-verso-runtime"><a aria-hidden="" tabindex="-1" href="#customization-unique-to-the-verso-runtime">Customization unique to the Verso runtime</a></h3>
<p>Tauri is largely made with the assumption of the underlying webview libraries, so there’re very little ways to use many Verso specific futures right now, for example, setting the verso executable path and resources directory are being done through global variables, which is not really applicable to window specific features (for example setting rounded corners), so we would like to add support for that next</p>
<h2 id="thank-you"><a aria-hidden="" tabindex="-1" href="#thank-you">Thank you</a></h2>
<p>At the end we want to thank <a href="https://nlnet.nl/">NLNet</a> for making this project possible by supporting it financially through grants!</p>  </div><p>© 2025 Tauri Contributors. CC-BY / MIT</p></div>
  </body>
</html>
