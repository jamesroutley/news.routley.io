<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/kushalpandya/Petrichor">Original</a>
    <h1>Show HN: Petrichor â€“ a free, open-source, offline music player for macOS</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/kushalpandya/Petrichor/blob/main/Resources/Assets.xcassets/AppIcon.appiconset/1024-mac.png"><img width="200" src="https://github.com/kushalpandya/Petrichor/raw/main/Resources/Assets.xcassets/AppIcon.appiconset/1024-mac.png" alt="Petrichor App Icon"/></a></p>
<div dir="auto">

<p dir="auto">An offline music player for macOS</p>
<p><a href="https://github.com/kushalpandya/Petrichor/releases"><img src="https://github.com/kushalpandya/Petrichor/raw/main/.github/assets/macos_download.png" width="140" alt="Download for macOS"/></a>
</p></div>


<hr/>


<ul dir="auto">
<li>Everything you&#39;d expect from an offline music player!</li>
<li>Map your music folders and browse your library in an organized view.</li>
<li>Create playlists and manage the play queue interactively.</li>
<li>Browse music using folder view when needed.</li>
<li>Pin <em>anything</em> (almost!) to the sidebar for quick access to your favorite music.</li>
<li>Navigate easily: right-click a track to go to its album, artist, year, etc.</li>
<li>Native macOS integration with menubar and dock playback controls, plus dark mode support.</li>
<li>Search quickly through large libraries containing thousands of songs.</li>
</ul>
<p dir="auto">ðŸ’¡ <strong>Tip</strong>: Petrichor relies heavily on tracks having good metadata for all its features to work well.</p>

<ul dir="auto">
<li>Smart playlists with user-configurable conditional filters</li>
<li>AirPlay 2 casting support</li>
<li>Miniplayer and full-screen modes</li>
<li>Automatic in-app updates</li>
<li>Online album &amp; artist information fetching</li>
<li>... and much more!</li>
</ul>

<ul dir="auto">
<li>macOS 14 or later</li>
</ul>

<ul dir="auto">
<li>Go to <a href="https://github.com/kushalpandya/Petrichor/releases">Releases</a> and download the latest <code>.dmg</code>.</li>
<li>Open the <code>.dmg</code> and drag the app icon into the Applications folder.</li>
<li>In Applications, right-click <strong>Petrichor &gt; Open</strong>.</li>
</ul>
<p dir="auto"><em>P.S. I plan publish it on Homebrew soon.</em></p>

<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/kushalpandya/Petrichor/blob/main/.github/assets/screenshot_1.png"><img src="https://github.com/kushalpandya/Petrichor/raw/main/.github/assets/screenshot_1.png" width="392" alt="Screenshot"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/kushalpandya/Petrichor/blob/main/.github/assets/screenshot_2.png"><img src="https://github.com/kushalpandya/Petrichor/raw/main/.github/assets/screenshot_2.png" width="392" alt="Screenshot"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/kushalpandya/Petrichor/blob/main/.github/assets/screenshot_3.png"><img src="https://github.com/kushalpandya/Petrichor/raw/main/.github/assets/screenshot_3.png" width="392" alt="Screenshot"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/kushalpandya/Petrichor/blob/main/.github/assets/screenshot_4.png"><img src="https://github.com/kushalpandya/Petrichor/raw/main/.github/assets/screenshot_4.png" width="392" alt="Screenshot"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/kushalpandya/Petrichor/blob/main/.github/assets/screenshot_5.png"><img src="https://github.com/kushalpandya/Petrichor/raw/main/.github/assets/screenshot_5.png" width="392" alt="Screenshot"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/kushalpandya/Petrichor/blob/main/.github/assets/screenshot_6.png"><img src="https://github.com/kushalpandya/Petrichor/raw/main/.github/assets/screenshot_6.png" width="392" alt="Screenshot"/></a>
</p>


<p dir="auto">I have a large collection of music files that Iâ€™ve gathered over the years, and I missed having a good offline
music player on macOS. I used <a href="https://swinsian.com/" rel="nofollow">Swinsian</a> (great app, by the way!), but it hasn&#39;t been
updated in years. I also missed features commonly found in streaming apps; so I built Petrichor to scratch that
itch and learn Swift and macOS app development along the way!</p>

<ul dir="auto">
<li>Built entirely with Swift and SwiftUI for the best macOS integration.</li>
<li>Once folders are added, the app scans them and populates a SQLite database using <a href="https://github.com/groue/GRDB.swift/">GRDB</a>.</li>
<li>Petrichor does <strong>not</strong> alter your music files, it only reads from the directories you add.</li>
<li>Tracks searching is powered by <a href="https://www.sqlite.org/fts5.html" rel="nofollow">SQLite FTS5</a> with fall-back to in-memory search.</li>
<li>Playback is powered by <a href="https://developer.apple.com/av-foundation/" rel="nofollow">AVFoundation</a>.</li>
</ul>
<details>
<summary>View Database Schema</summary>
<section data-identity="833d7e4d-a83d-488b-a443-1aaa35a3224d" data-host="https://viewscreen.githubusercontent.com" data-src="https://viewscreen.githubusercontent.com/markdown/mermaid?docs_host=https%3A%2F%2Fdocs.github.com" data-type="mermaid" aria-label="mermaid rendered output container">
  <div data-json="{&#34;data&#34;:&#34;erDiagram\n    folders {\n        INTEGER id PK \&#34;AUTO_INCREMENT\&#34;\n        TEXT name \&#34;NOT NULL\&#34;\n        TEXT path \&#34;NOT NULL UNIQUE\&#34;\n        INTEGER track_count \&#34;NOT NULL DEFAULT 0\&#34;\n        DATETIME date_added \&#34;NOT NULL\&#34;\n        DATETIME date_updated \&#34;NOT NULL\&#34;\n        BLOB bookmark_data \&#34;Security-scoped bookmark\&#34;\n    }\n\n    artists {\n        INTEGER id PK \&#34;AUTO_INCREMENT\&#34;\n        TEXT name \&#34;NOT NULL\&#34;\n        TEXT normalized_name \&#34;NOT NULL UNIQUE\&#34;\n        TEXT sort_name\n        BLOB artwork_data\n        TEXT bio\n        TEXT bio_source\n        DATETIME bio_updated_at\n        TEXT image_url\n        TEXT image_source\n        DATETIME image_updated_at\n        TEXT discogs_id\n        TEXT musicbrainz_id\n        TEXT spotify_id\n        TEXT apple_music_id\n        TEXT country\n        INTEGER formed_year\n        INTEGER disbanded_year\n        TEXT genres \&#34;JSON array\&#34;\n        TEXT websites \&#34;JSON array\&#34;\n        TEXT members \&#34;JSON array\&#34;\n        INTEGER total_tracks \&#34;NOT NULL DEFAULT 0 CHECK &amp;gt;= 0\&#34;\n        INTEGER total_albums \&#34;NOT NULL DEFAULT 0 CHECK &amp;gt;= 0\&#34;\n        DATETIME created_at \&#34;NOT NULL\&#34;\n        DATETIME updated_at \&#34;NOT NULL\&#34;\n    }\n\n    albums {\n        INTEGER id PK \&#34;AUTO_INCREMENT\&#34;\n        TEXT title \&#34;NOT NULL\&#34;\n        TEXT normalized_title \&#34;NOT NULL\&#34;\n        TEXT sort_title\n        BLOB artwork_data\n        TEXT release_date\n        INTEGER release_year \&#34;CHECK 1900-2100\&#34;\n        TEXT album_type\n        INTEGER total_tracks \&#34;CHECK &amp;gt;= 0\&#34;\n        INTEGER total_discs \&#34;CHECK &amp;gt;= 0\&#34;\n        TEXT description\n        TEXT review\n        TEXT review_source\n        TEXT cover_art_url\n        TEXT thumbnail_url\n        TEXT discogs_id\n        TEXT musicbrainz_id\n        TEXT spotify_id\n        TEXT apple_music_id\n        TEXT label\n        TEXT catalog_number\n        TEXT barcode\n        TEXT genres \&#34;JSON array\&#34;\n        DATETIME created_at \&#34;NOT NULL\&#34;\n        DATETIME updated_at \&#34;NOT NULL\&#34;\n    }\n\n    album_artists {\n        INTEGER album_id FK \&#34;NOT NULL\&#34;\n        INTEGER artist_id FK \&#34;NOT NULL\&#34;\n        TEXT role \&#34;NOT NULL DEFAULT &#39;primary&#39;\&#34;\n        INTEGER position \&#34;NOT NULL DEFAULT 0\&#34;\n    }\n\n    genres {\n        INTEGER id PK \&#34;AUTO_INCREMENT\&#34;\n        TEXT name \&#34;NOT NULL UNIQUE\&#34;\n    }\n\n    tracks {\n        INTEGER id PK \&#34;AUTO_INCREMENT\&#34;\n        INTEGER folder_id FK \&#34;NOT NULL\&#34;\n        INTEGER album_id FK\n        TEXT path \&#34;NOT NULL UNIQUE\&#34;\n        TEXT filename \&#34;NOT NULL\&#34;\n        TEXT title\n        TEXT artist\n        TEXT album\n        TEXT composer\n        TEXT genre\n        TEXT year\n        REAL duration \&#34;CHECK &amp;gt;= 0\&#34;\n        TEXT format\n        INTEGER file_size\n        DATETIME date_added \&#34;NOT NULL\&#34;\n        DATETIME date_modified\n        BLOB track_artwork_data\n        BOOLEAN is_favorite \&#34;NOT NULL DEFAULT false\&#34;\n        INTEGER play_count \&#34;NOT NULL DEFAULT 0\&#34;\n        DATETIME last_played_date\n        BOOLEAN is_duplicate \&#34;NOT NULL DEFAULT false\&#34;\n        INTEGER primary_track_id FK\n        TEXT duplicate_group_id\n        TEXT album_artist\n        INTEGER track_number \&#34;CHECK &amp;gt; 0\&#34;\n        INTEGER total_tracks\n        INTEGER disc_number \&#34;CHECK &amp;gt; 0\&#34;\n        INTEGER total_discs\n        INTEGER rating \&#34;CHECK 0-5\&#34;\n        BOOLEAN compilation \&#34;DEFAULT false\&#34;\n        TEXT release_date\n        TEXT original_release_date\n        INTEGER bpm\n        TEXT media_type \&#34;Music/Audiobook/Podcast\&#34;\n        INTEGER bitrate \&#34;CHECK &amp;gt; 0\&#34;\n        INTEGER sample_rate\n        INTEGER channels \&#34;1=mono, 2=stereo\&#34;\n        TEXT codec\n        INTEGER bit_depth\n        TEXT sort_title\n        TEXT sort_artist\n        TEXT sort_album\n        TEXT sort_album_artist\n        TEXT extended_metadata \&#34;JSON\&#34;\n    }\n\n    playlists {\n        TEXT id PK \&#34;UUID\&#34;\n        TEXT name \&#34;NOT NULL\&#34;\n        TEXT type \&#34;NOT NULL (regular/smart)\&#34;\n        BOOLEAN is_user_editable \&#34;NOT NULL\&#34;\n        BOOLEAN is_content_editable \&#34;NOT NULL\&#34;\n        DATETIME date_created \&#34;NOT NULL\&#34;\n        DATETIME date_modified \&#34;NOT NULL\&#34;\n        BLOB cover_artwork_data\n        TEXT smart_criteria \&#34;JSON\&#34;\n        INTEGER sort_order \&#34;NOT NULL DEFAULT 0\&#34;\n    }\n\n    playlist_tracks {\n        TEXT playlist_id FK \&#34;NOT NULL\&#34;\n        INTEGER track_id FK \&#34;NOT NULL\&#34;\n        INTEGER position \&#34;NOT NULL\&#34;\n        DATETIME date_added \&#34;NOT NULL\&#34;\n    }\n\n    track_artists {\n        INTEGER track_id FK \&#34;NOT NULL\&#34;\n        INTEGER artist_id FK \&#34;NOT NULL\&#34;\n        TEXT role \&#34;NOT NULL DEFAULT &#39;artist&#39;\&#34;\n        INTEGER position \&#34;NOT NULL DEFAULT 0\&#34;\n    }\n\n    track_genres {\n        INTEGER track_id FK \&#34;NOT NULL\&#34;\n        INTEGER genre_id FK \&#34;NOT NULL\&#34;\n    }\n\n    pinned_items {\n        INTEGER id PK \&#34;AUTO_INCREMENT\&#34;\n        TEXT item_type \&#34;NOT NULL (library/playlist)\&#34;\n        TEXT filter_type \&#34;For library items\&#34;\n        TEXT filter_value \&#34;Artist/album name\&#34;\n        TEXT entity_id \&#34;UUID for entities\&#34;\n        INTEGER artist_id \&#34;Database ID\&#34;\n        INTEGER album_id \&#34;Database ID\&#34;\n        TEXT playlist_id \&#34;For playlist items\&#34;\n        TEXT display_name \&#34;NOT NULL\&#34;\n        TEXT subtitle \&#34;For albums\&#34;\n        TEXT icon_name \&#34;NOT NULL\&#34;\n        INTEGER sort_order \&#34;NOT NULL DEFAULT 0\&#34;\n        DATETIME date_added \&#34;NOT NULL\&#34;\n    }\n\n    tracks_fts {\n        INTEGER track_id \&#34;NOT INDEXED\&#34;\n        TEXT title\n        TEXT artist\n        TEXT album\n        TEXT album_artist\n        TEXT composer\n        TEXT genre\n        TEXT year\n    }\n\n    folders ||--o{ tracks : contains\n    albums ||--o{ album_artists : \&#34;has artists\&#34;\n    artists ||--o{ album_artists : \&#34;appears on\&#34;\n    albums ||--o{ tracks : contains\n    artists ||--o{ track_artists : \&#34;appears in\&#34;\n    tracks ||--o{ track_artists : \&#34;has artists\&#34;\n    tracks ||--o| tracks : \&#34;duplicate of\&#34;\n    genres ||--o{ track_genres : \&#34;categorizes\&#34;\n    tracks ||--o{ track_genres : \&#34;has genres\&#34;\n    playlists ||--o{ playlist_tracks : contains\n    tracks ||--o{ playlist_tracks : \&#34;appears in\&#34;\n    tracks ||--|| tracks_fts : \&#34;searchable in\&#34;\n&#34;}" data-plain="erDiagram
    folders {
        INTEGER id PK &#34;AUTO_INCREMENT&#34;
        TEXT name &#34;NOT NULL&#34;
        TEXT path &#34;NOT NULL UNIQUE&#34;
        INTEGER track_count &#34;NOT NULL DEFAULT 0&#34;
        DATETIME date_added &#34;NOT NULL&#34;
        DATETIME date_updated &#34;NOT NULL&#34;
        BLOB bookmark_data &#34;Security-scoped bookmark&#34;
    }

    artists {
        INTEGER id PK &#34;AUTO_INCREMENT&#34;
        TEXT name &#34;NOT NULL&#34;
        TEXT normalized_name &#34;NOT NULL UNIQUE&#34;
        TEXT sort_name
        BLOB artwork_data
        TEXT bio
        TEXT bio_source
        DATETIME bio_updated_at
        TEXT image_url
        TEXT image_source
        DATETIME image_updated_at
        TEXT discogs_id
        TEXT musicbrainz_id
        TEXT spotify_id
        TEXT apple_music_id
        TEXT country
        INTEGER formed_year
        INTEGER disbanded_year
        TEXT genres &#34;JSON array&#34;
        TEXT websites &#34;JSON array&#34;
        TEXT members &#34;JSON array&#34;
        INTEGER total_tracks &#34;NOT NULL DEFAULT 0 CHECK &gt;= 0&#34;
        INTEGER total_albums &#34;NOT NULL DEFAULT 0 CHECK &gt;= 0&#34;
        DATETIME created_at &#34;NOT NULL&#34;
        DATETIME updated_at &#34;NOT NULL&#34;
    }

    albums {
        INTEGER id PK &#34;AUTO_INCREMENT&#34;
        TEXT title &#34;NOT NULL&#34;
        TEXT normalized_title &#34;NOT NULL&#34;
        TEXT sort_title
        BLOB artwork_data
        TEXT release_date
        INTEGER release_year &#34;CHECK 1900-2100&#34;
        TEXT album_type
        INTEGER total_tracks &#34;CHECK &gt;= 0&#34;
        INTEGER total_discs &#34;CHECK &gt;= 0&#34;
        TEXT description
        TEXT review
        TEXT review_source
        TEXT cover_art_url
        TEXT thumbnail_url
        TEXT discogs_id
        TEXT musicbrainz_id
        TEXT spotify_id
        TEXT apple_music_id
        TEXT label
        TEXT catalog_number
        TEXT barcode
        TEXT genres &#34;JSON array&#34;
        DATETIME created_at &#34;NOT NULL&#34;
        DATETIME updated_at &#34;NOT NULL&#34;
    }

    album_artists {
        INTEGER album_id FK &#34;NOT NULL&#34;
        INTEGER artist_id FK &#34;NOT NULL&#34;
        TEXT role &#34;NOT NULL DEFAULT &#39;primary&#39;&#34;
        INTEGER position &#34;NOT NULL DEFAULT 0&#34;
    }

    genres {
        INTEGER id PK &#34;AUTO_INCREMENT&#34;
        TEXT name &#34;NOT NULL UNIQUE&#34;
    }

    tracks {
        INTEGER id PK &#34;AUTO_INCREMENT&#34;
        INTEGER folder_id FK &#34;NOT NULL&#34;
        INTEGER album_id FK
        TEXT path &#34;NOT NULL UNIQUE&#34;
        TEXT filename &#34;NOT NULL&#34;
        TEXT title
        TEXT artist
        TEXT album
        TEXT composer
        TEXT genre
        TEXT year
        REAL duration &#34;CHECK &gt;= 0&#34;
        TEXT format
        INTEGER file_size
        DATETIME date_added &#34;NOT NULL&#34;
        DATETIME date_modified
        BLOB track_artwork_data
        BOOLEAN is_favorite &#34;NOT NULL DEFAULT false&#34;
        INTEGER play_count &#34;NOT NULL DEFAULT 0&#34;
        DATETIME last_played_date
        BOOLEAN is_duplicate &#34;NOT NULL DEFAULT false&#34;
        INTEGER primary_track_id FK
        TEXT duplicate_group_id
        TEXT album_artist
        INTEGER track_number &#34;CHECK &gt; 0&#34;
        INTEGER total_tracks
        INTEGER disc_number &#34;CHECK &gt; 0&#34;
        INTEGER total_discs
        INTEGER rating &#34;CHECK 0-5&#34;
        BOOLEAN compilation &#34;DEFAULT false&#34;
        TEXT release_date
        TEXT original_release_date
        INTEGER bpm
        TEXT media_type &#34;Music/Audiobook/Podcast&#34;
        INTEGER bitrate &#34;CHECK &gt; 0&#34;
        INTEGER sample_rate
        INTEGER channels &#34;1=mono, 2=stereo&#34;
        TEXT codec
        INTEGER bit_depth
        TEXT sort_title
        TEXT sort_artist
        TEXT sort_album
        TEXT sort_album_artist
        TEXT extended_metadata &#34;JSON&#34;
    }

    playlists {
        TEXT id PK &#34;UUID&#34;
        TEXT name &#34;NOT NULL&#34;
        TEXT type &#34;NOT NULL (regular/smart)&#34;
        BOOLEAN is_user_editable &#34;NOT NULL&#34;
        BOOLEAN is_content_editable &#34;NOT NULL&#34;
        DATETIME date_created &#34;NOT NULL&#34;
        DATETIME date_modified &#34;NOT NULL&#34;
        BLOB cover_artwork_data
        TEXT smart_criteria &#34;JSON&#34;
        INTEGER sort_order &#34;NOT NULL DEFAULT 0&#34;
    }

    playlist_tracks {
        TEXT playlist_id FK &#34;NOT NULL&#34;
        INTEGER track_id FK &#34;NOT NULL&#34;
        INTEGER position &#34;NOT NULL&#34;
        DATETIME date_added &#34;NOT NULL&#34;
    }

    track_artists {
        INTEGER track_id FK &#34;NOT NULL&#34;
        INTEGER artist_id FK &#34;NOT NULL&#34;
        TEXT role &#34;NOT NULL DEFAULT &#39;artist&#39;&#34;
        INTEGER position &#34;NOT NULL DEFAULT 0&#34;
    }

    track_genres {
        INTEGER track_id FK &#34;NOT NULL&#34;
        INTEGER genre_id FK &#34;NOT NULL&#34;
    }

    pinned_items {
        INTEGER id PK &#34;AUTO_INCREMENT&#34;
        TEXT item_type &#34;NOT NULL (library/playlist)&#34;
        TEXT filter_type &#34;For library items&#34;
        TEXT filter_value &#34;Artist/album name&#34;
        TEXT entity_id &#34;UUID for entities&#34;
        INTEGER artist_id &#34;Database ID&#34;
        INTEGER album_id &#34;Database ID&#34;
        TEXT playlist_id &#34;For playlist items&#34;
        TEXT display_name &#34;NOT NULL&#34;
        TEXT subtitle &#34;For albums&#34;
        TEXT icon_name &#34;NOT NULL&#34;
        INTEGER sort_order &#34;NOT NULL DEFAULT 0&#34;
        DATETIME date_added &#34;NOT NULL&#34;
    }

    tracks_fts {
        INTEGER track_id &#34;NOT INDEXED&#34;
        TEXT title
        TEXT artist
        TEXT album
        TEXT album_artist
        TEXT composer
        TEXT genre
        TEXT year
    }

    folders ||--o{ tracks : contains
    albums ||--o{ album_artists : &#34;has artists&#34;
    artists ||--o{ album_artists : &#34;appears on&#34;
    albums ||--o{ tracks : contains
    artists ||--o{ track_artists : &#34;appears in&#34;
    tracks ||--o{ track_artists : &#34;has artists&#34;
    tracks ||--o| tracks : &#34;duplicate of&#34;
    genres ||--o{ track_genres : &#34;categorizes&#34;
    tracks ||--o{ track_genres : &#34;has genres&#34;
    playlists ||--o{ playlist_tracks : contains
    tracks ||--o{ playlist_tracks : &#34;appears in&#34;
    tracks ||--|| tracks_fts : &#34;searchable in&#34;
" dir="auto">
    <div dir="auto">
      <pre lang="mermaid" aria-label="Raw mermaid code">erDiagram
    folders {
        INTEGER id PK &#34;AUTO_INCREMENT&#34;
        TEXT name &#34;NOT NULL&#34;
        TEXT path &#34;NOT NULL UNIQUE&#34;
        INTEGER track_count &#34;NOT NULL DEFAULT 0&#34;
        DATETIME date_added &#34;NOT NULL&#34;
        DATETIME date_updated &#34;NOT NULL&#34;
        BLOB bookmark_data &#34;Security-scoped bookmark&#34;
    }

    artists {
        INTEGER id PK &#34;AUTO_INCREMENT&#34;
        TEXT name &#34;NOT NULL&#34;
        TEXT normalized_name &#34;NOT NULL UNIQUE&#34;
        TEXT sort_name
        BLOB artwork_data
        TEXT bio
        TEXT bio_source
        DATETIME bio_updated_at
        TEXT image_url
        TEXT image_source
        DATETIME image_updated_at
        TEXT discogs_id
        TEXT musicbrainz_id
        TEXT spotify_id
        TEXT apple_music_id
        TEXT country
        INTEGER formed_year
        INTEGER disbanded_year
        TEXT genres &#34;JSON array&#34;
        TEXT websites &#34;JSON array&#34;
        TEXT members &#34;JSON array&#34;
        INTEGER total_tracks &#34;NOT NULL DEFAULT 0 CHECK &gt;= 0&#34;
        INTEGER total_albums &#34;NOT NULL DEFAULT 0 CHECK &gt;= 0&#34;
        DATETIME created_at &#34;NOT NULL&#34;
        DATETIME updated_at &#34;NOT NULL&#34;
    }

    albums {
        INTEGER id PK &#34;AUTO_INCREMENT&#34;
        TEXT title &#34;NOT NULL&#34;
        TEXT normalized_title &#34;NOT NULL&#34;
        TEXT sort_title
        BLOB artwork_data
        TEXT release_date
        INTEGER release_year &#34;CHECK 1900-2100&#34;
        TEXT album_type
        INTEGER total_tracks &#34;CHECK &gt;= 0&#34;
        INTEGER total_discs &#34;CHECK &gt;= 0&#34;
        TEXT description
        TEXT review
        TEXT review_source
        TEXT cover_art_url
        TEXT thumbnail_url
        TEXT discogs_id
        TEXT musicbrainz_id
        TEXT spotify_id
        TEXT apple_music_id
        TEXT label
        TEXT catalog_number
        TEXT barcode
        TEXT genres &#34;JSON array&#34;
        DATETIME created_at &#34;NOT NULL&#34;
        DATETIME updated_at &#34;NOT NULL&#34;
    }

    album_artists {
        INTEGER album_id FK &#34;NOT NULL&#34;
        INTEGER artist_id FK &#34;NOT NULL&#34;
        TEXT role &#34;NOT NULL DEFAULT &#39;primary&#39;&#34;
        INTEGER position &#34;NOT NULL DEFAULT 0&#34;
    }

    genres {
        INTEGER id PK &#34;AUTO_INCREMENT&#34;
        TEXT name &#34;NOT NULL UNIQUE&#34;
    }

    tracks {
        INTEGER id PK &#34;AUTO_INCREMENT&#34;
        INTEGER folder_id FK &#34;NOT NULL&#34;
        INTEGER album_id FK
        TEXT path &#34;NOT NULL UNIQUE&#34;
        TEXT filename &#34;NOT NULL&#34;
        TEXT title
        TEXT artist
        TEXT album
        TEXT composer
        TEXT genre
        TEXT year
        REAL duration &#34;CHECK &gt;= 0&#34;
        TEXT format
        INTEGER file_size
        DATETIME date_added &#34;NOT NULL&#34;
        DATETIME date_modified
        BLOB track_artwork_data
        BOOLEAN is_favorite &#34;NOT NULL DEFAULT false&#34;
        INTEGER play_count &#34;NOT NULL DEFAULT 0&#34;
        DATETIME last_played_date
        BOOLEAN is_duplicate &#34;NOT NULL DEFAULT false&#34;
        INTEGER primary_track_id FK
        TEXT duplicate_group_id
        TEXT album_artist
        INTEGER track_number &#34;CHECK &gt; 0&#34;
        INTEGER total_tracks
        INTEGER disc_number &#34;CHECK &gt; 0&#34;
        INTEGER total_discs
        INTEGER rating &#34;CHECK 0-5&#34;
        BOOLEAN compilation &#34;DEFAULT false&#34;
        TEXT release_date
        TEXT original_release_date
        INTEGER bpm
        TEXT media_type &#34;Music/Audiobook/Podcast&#34;
        INTEGER bitrate &#34;CHECK &gt; 0&#34;
        INTEGER sample_rate
        INTEGER channels &#34;1=mono, 2=stereo&#34;
        TEXT codec
        INTEGER bit_depth
        TEXT sort_title
        TEXT sort_artist
        TEXT sort_album
        TEXT sort_album_artist
        TEXT extended_metadata &#34;JSON&#34;
    }

    playlists {
        TEXT id PK &#34;UUID&#34;
        TEXT name &#34;NOT NULL&#34;
        TEXT type &#34;NOT NULL (regular/smart)&#34;
        BOOLEAN is_user_editable &#34;NOT NULL&#34;
        BOOLEAN is_content_editable &#34;NOT NULL&#34;
        DATETIME date_created &#34;NOT NULL&#34;
        DATETIME date_modified &#34;NOT NULL&#34;
        BLOB cover_artwork_data
        TEXT smart_criteria &#34;JSON&#34;
        INTEGER sort_order &#34;NOT NULL DEFAULT 0&#34;
    }

    playlist_tracks {
        TEXT playlist_id FK &#34;NOT NULL&#34;
        INTEGER track_id FK &#34;NOT NULL&#34;
        INTEGER position &#34;NOT NULL&#34;
        DATETIME date_added &#34;NOT NULL&#34;
    }

    track_artists {
        INTEGER track_id FK &#34;NOT NULL&#34;
        INTEGER artist_id FK &#34;NOT NULL&#34;
        TEXT role &#34;NOT NULL DEFAULT &#39;artist&#39;&#34;
        INTEGER position &#34;NOT NULL DEFAULT 0&#34;
    }

    track_genres {
        INTEGER track_id FK &#34;NOT NULL&#34;
        INTEGER genre_id FK &#34;NOT NULL&#34;
    }

    pinned_items {
        INTEGER id PK &#34;AUTO_INCREMENT&#34;
        TEXT item_type &#34;NOT NULL (library/playlist)&#34;
        TEXT filter_type &#34;For library items&#34;
        TEXT filter_value &#34;Artist/album name&#34;
        TEXT entity_id &#34;UUID for entities&#34;
        INTEGER artist_id &#34;Database ID&#34;
        INTEGER album_id &#34;Database ID&#34;
        TEXT playlist_id &#34;For playlist items&#34;
        TEXT display_name &#34;NOT NULL&#34;
        TEXT subtitle &#34;For albums&#34;
        TEXT icon_name &#34;NOT NULL&#34;
        INTEGER sort_order &#34;NOT NULL DEFAULT 0&#34;
        DATETIME date_added &#34;NOT NULL&#34;
    }

    tracks_fts {
        INTEGER track_id &#34;NOT INDEXED&#34;
        TEXT title
        TEXT artist
        TEXT album
        TEXT album_artist
        TEXT composer
        TEXT genre
        TEXT year
    }

    folders ||--o{ tracks : contains
    albums ||--o{ album_artists : &#34;has artists&#34;
    artists ||--o{ album_artists : &#34;appears on&#34;
    albums ||--o{ tracks : contains
    artists ||--o{ track_artists : &#34;appears in&#34;
    tracks ||--o{ track_artists : &#34;has artists&#34;
    tracks ||--o| tracks : &#34;duplicate of&#34;
    genres ||--o{ track_genres : &#34;categorizes&#34;
    tracks ||--o{ track_genres : &#34;has genres&#34;
    playlists ||--o{ playlist_tracks : contains
    tracks ||--o{ playlist_tracks : &#34;appears in&#34;
    tracks ||--|| tracks_fts : &#34;searchable in&#34;
</pre>
    </div>
  </div>
  <span role="presentation">
    <span data-view-component="true">
  <svg style="box-sizing: content-box; color: var(--color-icon-primary);" width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true" data-view-component="true">
    <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-opacity="0.25" stroke-width="2" vector-effect="non-scaling-stroke" fill="none"></circle>
    <path d="M15 8a7.002 7.002 0 00-7-7" stroke="currentColor" stroke-width="2" stroke-linecap="round" vector-effect="non-scaling-stroke"></path>
</svg>    <span>Loading</span>
</span>
  </span>
</section>

</details>

<ul dir="auto">
<li>Make sure youâ€™re running macOS 14 or later.</li>
<li>Install <a href="https://developer.apple.com/xcode/" rel="nofollow">Xcode</a>.</li>
<li>To build the <code>.dmg</code> installer using the <a href="https://github.com/kushalpandya/Petrichor/blob/main/Scripts/build-installer.sh"><code>build-installer.sh</code></a> script, install:
<ul dir="auto">
<li><a href="https://github.com/xcpretty/xcpretty">xcpretty</a></li>
<li><a href="https://github.com/sindresorhus/create-dmg">create-dmg</a></li>
</ul>
</li>
</ul>

<p dir="auto"><a href="https://github.com/kushalpandya/Petrichor/blob/main/LICENSE">MIT</a></p>

<ul dir="auto">
<li><a href="https://www.youtube.com/@twostraws" rel="nofollow">Paul Hudson</a> for creating all those Swift tutorials!</li>
<li><a href="https://github.com/sindresorhus/create-dmg">create-dmg</a> by awesome <a href="https://sindresorhus.com/" rel="nofollow">Sindre Sorhus</a>!</li>
<li><a href="https://claude.ai/" rel="nofollow">Claude by Anthropic</a> for being a peer-programmer for this project!</li>
</ul>
</article></div></div>
  </body>
</html>
