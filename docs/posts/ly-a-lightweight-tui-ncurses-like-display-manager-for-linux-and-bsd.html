<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://codeberg.org/fairyglade/ly">Original</a>
    <h1>Ly â€“ A lightweight TUI (ncurses-like) display manager for Linux and BSD</h1>
    
    <div id="readability-page-1" class="page"><div id="readme">

	

	
	<div>
		
		<div>
			
				
<p dir="auto"><a href="http://approximateknowledge.net/fairyglade/ly/media/branch/master/.github/screenshot.png" title="Ly screenshot" target="_blank" rel="nofollow noopener"><img src="http://approximateknowledge.net/fairyglade/ly/media/branch/master/.github/screenshot.png" alt="Ly screenshot" title="Ly screenshot" loading="lazy"/></a></p>
<p dir="auto">Ly is a lightweight TUI (ncurses-like) display manager for Linux and BSD,
designed with portability in mind (e.g. it does not require systemd to run).</p>
<p dir="auto">Join us on Matrix over at <a href="https://matrix.to/#/%23ly:envs.net" rel="nofollow">#ly:envs.net</a>!</p>
<p dir="auto"><strong>Note</strong>: Development happens on <a href="https://codeberg.org/fairyglade/ly" rel="nofollow">Codeberg</a>
with a mirror on <a href="https://github.com/fairyglade/ly" rel="nofollow">GitHub</a>.</p>
<h2 id="user-content-dependencies" dir="auto">Dependencies</h2>
<ul dir="auto">
<li>Compile-time:
<ul dir="auto">
<li>zig 0.15.x</li>
<li>libc</li>
<li>pam</li>
<li>xcb (optional, required by default; needed for X11 support)</li>
</ul>
</li>
<li>Runtime (with default config):
<ul dir="auto">
<li>xorg</li>
<li>xorg-xauth</li>
<li>shutdown</li>
<li>brightnessctl</li>
</ul>
</li>
</ul>
<h3 id="user-content-debian" dir="auto">Debian</h3>
<pre><code># apt install build-essential libpam0g-dev libxcb-xkb-dev xauth xserver-xorg brightnessctl
</code></pre><h3 id="user-content-fedora" dir="auto">Fedora</h3>
<p dir="auto"><strong>Warning</strong>: You may encounter issues with SELinux on Fedora.
It is recommended to add a rule for Ly as it currently does not ship one.</p>
<pre><code># dnf install kernel-devel pam-devel libxcb-devel zig xorg-x11-xauth xorg-x11-server brightnessctl
</code></pre><h3 id="user-content-freebsd" dir="auto">FreeBSD</h3>
<pre><code># pkg install ca_root_nss libxcb git xorg xauth
</code></pre><h2 id="user-content-availability" dir="auto">Availability</h2>
<p dir="auto"><a href="https://repology.org/project/ly-display-manager/versions" rel="nofollow"><img src="https://repology.org/badge/vertical-allrepos/ly-display-manager.svg?exclude_unsupported=1" alt="Packaging status"/></a></p>
<h2 id="user-content-support" dir="auto">Support</h2>
<p dir="auto">Ly has been tested with a wide variety of desktop environments and window
managers, all of which you can find in the sections below:</p>
<p dir="auto"><a href="#user-content-supported-wayland-environments" rel="nofollow">Wayland environments</a></p>
<p dir="auto"><a href="#user-content-supported-x11-environments" rel="nofollow">X11 environments</a></p>
<p dir="auto">Logs are defined by <code>/etc/ly/config.ini</code>:</p>
<ul dir="auto">
<li>The session log is located at <code>~/.local/state/ly-session.log</code> by default.</li>
<li>The system log is located at <code>/var/log/ly.log</code> by default.</li>
</ul>
<h2 id="user-content-manually-building" dir="auto">Manually building</h2>
<p dir="auto">The procedure for manually building Ly is pretty standard:</p>
<pre><code>$ git clone https://codeberg.org/fairyglade/ly.git
$ cd ly
$ zig build
</code></pre><p dir="auto">After building, you can (optionally) test Ly in a terminal emulator, although
authentication will <strong>not</strong> work:</p>
<pre><code>$ zig build run
</code></pre><p dir="auto"><strong>Important</strong>: While you can also run Ly in a terminal emulator as root, it is
<strong>not</strong> recommended either. If you want to properly test Ly, please enable its
service (as described below) and reboot your machine.</p>
<p dir="auto">The following sections show how to install Ly for a particular init system.
Because the procedure is very similar for all of them, the commands will only
be detailed for the first section (which is about systemd).</p>
<p dir="auto"><strong>Note</strong>: All following sections will assume you are using LightDM for
convenience sake.</p>
<h3 id="user-content-systemd" dir="auto">systemd</h3>
<p dir="auto">Now, you can install Ly on your system:</p>
<pre><code># zig build installexe -Dinit_system=systemd
</code></pre><p dir="auto"><strong>Note</strong>: The <code>init_system</code> parameter is optional and defaults to <code>systemd</code>.</p>
<p dir="auto">Note that you also need to disable your current display manager. For example,
if LightDM is the current display manager, you can execute the following
command:</p>
<pre><code># systemctl disable lightdm.service
</code></pre><p dir="auto">Then, similarly to the previous command, you need to enable the Ly service:</p>
<pre><code># systemctl enable ly.service
</code></pre><p dir="auto"><strong>Important</strong>: Because Ly runs in a TTY, you <strong>must</strong> disable the TTY service
that Ly will run on, otherwise bad things will happen. For example, to disable <code>getty</code> spawning on TTY 2 (the default TTY on which Ly spawns), you need to
execute the following command:</p>
<pre><code># systemctl disable getty@tty2.service
</code></pre><p dir="auto">You can change the TTY Ly will run on by editing the corresponding
service file for your platform.</p>
<h3 id="user-content-openrc" dir="auto">OpenRC</h3>
<pre><code># zig build installexe -Dinit_system=openrc
# rc-update del lightdm
# rc-update add ly
# rc-update del agetty.tty2
</code></pre><p dir="auto"><strong>Note</strong>: On Gentoo specifically, you also <strong>must</strong> comment out the appropriate
line for the TTY in /etc/inittab.</p>
<h3 id="user-content-runit" dir="auto">runit</h3>
<pre><code># zig build installexe -Dinit_system=runit
# rm /var/service/lightdm
# ln -s /etc/sv/ly /var/service/
# rm /var/service/agetty-tty2
</code></pre><h3 id="user-content-s6" dir="auto">s6</h3>
<pre><code># zig build installexe -Dinit_system=s6
# s6-rc -d change lightdm
# s6-service add default ly-srv
# s6-db-reload
# s6-rc -u change ly-srv
</code></pre><p dir="auto">To disable TTY 2, edit <code>/etc/s6/config/tty2.conf</code> and set <code>SPAWN=&#34;no&#34;</code>.</p>
<h3 id="user-content-dinit" dir="auto">dinit</h3>
<pre><code># zig build installexe -Dinit_system=dinit
# dinitctl disable lightdm
# dinitctl enable ly
</code></pre><p dir="auto">To disable TTY 2, go to <code>/etc/dinit.d/config/console.conf</code> and modify
<code>ACTIVE_CONSOLES</code>.</p>
<h3 id="user-content-sysvinit" dir="auto">sysvinit</h3>
<pre><code># zig build installexe -Dinit_system=sysvinit
# update-rc.d lightdm disable
# update-rc.d ly defaults
</code></pre><p dir="auto">To disable TTY 2, go to <code>/etc/inittab</code> and comment out the line containing <code>tty2</code>.</p>
<h3 id="user-content-freebsd-1" dir="auto">FreeBSD</h3>
<pre><code># zig build installexe -Dprefix_directory=/usr/local -Dconfig_directory=/usr/local/etc -Dinit_system=freebsd
# sysrc lightdm_enable=&#34;NO&#34;
</code></pre><p dir="auto">To enable Ly, add the following entry to <code>/etc/gettytab</code>:</p>
<pre><code>Ly:\
	:lo=/usr/local/bin/ly_wrapper:\
	:al=root:
</code></pre><p dir="auto">Then, modify the command field of the <code>ttyv1</code> terminal entry in <code>/etc/ttys</code>
(TTYs in FreeBSD start at 0):</p>
<pre><code>ttyv1 &#34;/usr/libexec/getty Ly&#34; xterm on secure
</code></pre><h3 id="user-content-updating" dir="auto">Updating</h3>
<p dir="auto">You can also install Ly without overrding the current configuration file. This
is called <strong>updating</strong>. To update, simply run:</p>
<pre><code># zig build installnoconf
</code></pre><p dir="auto">You can, of course, still select the init system of your choice when using this
command.</p>
<h2 id="user-content-configuration" dir="auto">Configuration</h2>
<p dir="auto">You can find all the configuration in <code>/etc/ly/config.ini</code>. The file is fully
commented, and includes the default values.</p>
<h2 id="user-content-controls" dir="auto">Controls</h2>
<p dir="auto">Use the Up/Down arrow keys to change the current field, and the Left/Right
arrow keys to scroll through the different fields (whether it be the info line,
the desktop environment, or the username). The info line is where messages and
errors are displayed.</p>
<h2 id="user-content-a-note-on-xinitrc" dir="auto">A note on .xinitrc</h2>
<p dir="auto">If your <code>.xinitrc</code> file doesn&#39;t work ,make sure it is executable and includes a
shebang. This file is supposed to be a shell script! Quoting from <code>xinit</code>&#39;s man
page:</p>
<blockquote>
<p dir="auto">If no specific client program is given on the command line, xinit will look
for a file in the user&#39;s home directory called .xinitrc to run as a shell
script to start up client programs.</p>
</blockquote>
<p dir="auto">A typical shebang for a shell script looks like this:</p>
<pre><code>#!/bin/sh
</code></pre><h2 id="user-content-tips" dir="auto">Tips</h2>
<ul dir="auto">
<li>The numlock and capslock state is printed in the top-right corner.</li>
<li>Use the F1 and F2 keys to respectively shutdown and reboot.</li>
<li>Take a look at your <code>.xsession</code> file if X doesn&#39;t start, as it can interfere
(this file is launched with X to configure the display properly).</li>
</ul>
<h2 id="user-content-supported-wayland-environments" dir="auto">Supported Wayland environments</h2>
<ul dir="auto">
<li>budgie</li>
<li>cosmic</li>
<li>deepin</li>
<li>enlightenment</li>
<li>gnome</li>
<li>hyprland</li>
<li>kde</li>
<li>labwc</li>
<li>niri</li>
<li>pantheon</li>
<li>sway</li>
<li>weston</li>
</ul>
<h2 id="user-content-supported-x11-environments" dir="auto">Supported X11 environments</h2>
<ul dir="auto">
<li>awesome</li>
<li>bspwm</li>
<li>budgie</li>
<li>cinnamon</li>
<li>dwm</li>
<li>enlightenment</li>
<li>gnome</li>
<li>kde</li>
<li>leftwm</li>
<li>lxde</li>
<li>mate</li>
<li>maxx</li>
<li>pantheon</li>
<li>qwm</li>
<li>spectrwm</li>
<li>windowmaker</li>
<li>xfce</li>
<li>xmonad</li>
</ul>
<h2 id="user-content-a-final-note" dir="auto">A final note</h2>
<p dir="auto">The name &#34;Ly&#34; is a tribute to the fairy from the game Rayman. Ly was tested by
oxodao, who is some seriously awesome dude.</p>

			
		</div>
	</div>
</div></div>
  </body>
</html>
