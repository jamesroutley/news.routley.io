<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/basis-robotics/basis">Original</a>
    <h1>Show HN: Basis – a production focused robotics framework</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto">
  <a href="#">
    <img src="https://github.com/basis-robotics/basis/raw/main/docs/bug%20light.svg" width="90"/>
  </a>
</p>

<p dir="auto">Basis is a robotics development framework developed by <a href="https://basisrobotics.tech/" rel="nofollow">Basis Robotics</a></p>
<p dir="auto"><a href="https://docs.basisrobotics.tech/guide-getting-started/environment" rel="nofollow">Getting Started</a>
<span>  ·  </span>
<a href="https://docs.basisrobotics.tech" rel="nofollow">Documentation</a>
<span>  ·  </span>
<a href="https://github.com/basis-robotics/basis-examples">Examples</a></p>
<p dir="auto"><a href="https://discord.gg/8bzvASNPZ8" rel="nofollow">Discord</a>
<span>  ·  </span>
<a href="https://basisrobotics.tech/blog/" rel="nofollow">Blog</a>
<span>  ·  </span>
<a href="https://www.linkedin.com/company/basisrobotics/" rel="nofollow">LinkedIn</a></p>

<p dir="auto">Basis is a production-focused robotics development framework by <a href="https://basisrobotics.tech/" rel="nofollow">Basis Robotics</a>, built on a pub-sub architecture designed for deterministic testing. Unlike ROS and similar frameworks, Basis abstracts publishers and subscribers from the developer, using a model of <code>Inputs + Conditions (synchronizer) -&gt; Handler (your code) -&gt; Outputs</code>. You declare the messages and conditions that your code responds to, allowing the framework to automatically manage all underlying publishers, subscribers, and message routing as inputs and conditions trigger your code to process data and produce outputs.</p>
<p dir="auto"><g-emoji alias="warning">⚠️</g-emoji> Basis is alpha software. While we&#39;re proud of what we&#39;ve written so far, it might not be ready for production.<g-emoji alias="warning">⚠️</g-emoji></p>
<p dir="auto">Basis has three main goals, in approximate order of priority:</p>
<ol dir="auto">
<li><strong>Testability</strong>: Robots and robotics code should be easy to test.
<ul dir="auto">
<li>Unit and Integration Tests should always produce the same result (determinism!)</li>
<li>Testing the robot shouldn&#39;t require manual process management</li>
</ul>
</li>
<li><strong>Usability</strong>: It should be easy to work with the framework and fast to develop on.
<ul dir="auto">
<li>Users declare the behavior they want out of the framework - callbacks, conditions, messages. The framework handles the rest. Just write code!</li>
<li>The framework should never &#34;get in your way&#34; - if you need an advanced feature not supported with the code generator (like a transport bridge), we won&#39;t stop you from doing that (though it may not be supported for deterministic replay).</li>
<li>It&#39;s very easy to compose units together into different processes, and very easy to configure launch files and units at runtime.</li>
</ul>
</li>
<li><strong>Performance</strong>: As the codebase grows larger, it shouldn&#39;t get slower.
<ul dir="auto">
<li>Making it easy to compose Units and allow for inproc transport helps a lot here.</li>
<li><a href="https://github.com/basis-robotics/basis_test_robot/blob/main/unit/yuyv_to_rgb/yuyv_to_rgb.unit.yaml#L21">On-demand serialization allows only serializing a type when it&#39;s serialized to the network or written to disk</a></li>
<li>We&#39;ve been able to run a simple pub/sub connection over TCP at well over 10kHz without heavy CPU load. This is a very artificial benchmark, but shows good promise.</li>
<li>Real benchmarks coming soon!</li>
</ul>
</li>
</ol>

<ul dir="auto">
<li><strong><a href="https://docs.basisrobotics.tech/guide-tools/unit-yaml-schema" rel="nofollow">Code generation</a></strong>: You specify the behavior you want, we write the backend code.
<ul dir="auto">
<li>This allows creation of bindings for other languages, different schedulers, as well as providing metadata and an easy interface for test code to work against.</li>
</ul>
</li>
<li><strong>Plugin-based serialization</strong>: we don&#39;t want to decide for you which tradeoffs to make when serializing.
<ul dir="auto">
<li>protobuf: this is our standard serializer</li>
<li>ros1msg: to easily migrate ros1 code</li>
<li>Bring your own serializer! Documentation coming soon, but for now check out <a href="https://github.com/basis-robotics/basis/blob/main/cpp/plugins/serialization/protobuf/include/basis/plugins/serialization/protobuf.h">https://github.com/basis-robotics/basis/blob/main/cpp/plugins/serialization/protobuf/include/basis/plugins/serialization/protobuf.h</a></li>
</ul>
</li>
<li><strong>Plugin based transport layers</strong>:
<ul dir="auto">
<li>inproc (shared pointer)</li>
<li>tcp</li>
<li>More coming soon (UDP, shared memory (iceoryx?), ZeroMQ or another pubsub backend?).</li>
</ul>
</li>
<li><strong><a href="https://docs.basisrobotics.tech/guide-tools/launch-files" rel="nofollow">Powerful template-based launch files</a></strong></li>
</ul>

<ul dir="auto">
<li>Easy testing
<ul dir="auto">
<li>This is already halfway there - one can manually instantiate a Unit and call <code>Update()</code> by hand, without an external Coordinator. Needs launch file support.</li>
</ul>
</li>
<li>Deterministic replay and simulation
<ul dir="auto">
<li>This is key to enabling reliable testing, especially in CI where resources may be constrained.</li>
<li>For now - this is not a feature available as part of the free open source release</li>
<li>We&#39;ve implemented and written about this here: <a href="https://basisrobotics.tech/2024/09/02/determinism/" rel="nofollow">https://basisrobotics.tech/2024/09/02/determinism/</a></li>
</ul>
</li>
<li>Language bindings:
<ul dir="auto">
<li>python</li>
<li>rust</li>
</ul>
</li>
<li>Unit/launch file namespacing
<ul dir="auto">
<li>We don&#39;t want to go as far as a package system, but we want to make it easy to compose together Units from different projects.</li>
</ul>
</li>
<li>Multi-compute/agent/swarm
<ul dir="auto">
<li>We want to be able to natively support communications between both multiple computers in the same robot as well as communicate between robots. It&#39;s not an immediate goal but could be accomplished quickly for an interested customer.</li>
<li>Additionally, we want to make it easy to externally interface with basis via telemetry, developer machines, fleet management, web tooling, etc.</li>
</ul>
</li>
</ul>
<p dir="auto">Known areas for improvement:</p>
<ul dir="auto">
<li>Disconnects: currently there is little to no code handling disconnections for the network transport, just stubs.</li>
<li>Transport type safety: there&#39;s no protection against subscribing to the wrong type of topic</li>
<li>TCP transport plugin: the current epoll implementation isn&#39;t great (it&#39;s overly complex, doesn&#39;t have support for write polling, and doesn&#39;t have easy mechanisms for unsubscription). We also create a thread per connection, which isn&#39;t the best use of memory on many systems.</li>
<li>Dynamic topic creation: creating a new publisher or subscriber can currently only be done by one thread at a time (per process), with no guardrails. This isn&#39;t really a problem (most Units shouldn&#39;t need to do this), but should still be fixed.</li>
<li>Shutdown: our handling of signals at shutdown isn&#39;t perfect - the intent is for child processes of a launch to be hard killed via SIGHUP if graceful shutdown doesn&#39;t occur, but this doesn&#39;t always happen.</li>
<li>Drivers: we know drivers are important, but for now you will have to port or write your own. <a href="https://github.com/basis-robotics/basis_test_robot/tree/main/unit/v4l2_camera_driver">We have one example here</a> but recognize that we will need both more features and a deeper catalog of drivers to really drive adoption.</li>
<li>Testing: some of the libraries have pretty good tests, some of them are pretty bare. We want to achieve excellent test coverage across the whole codebase.</li>
</ul>

<p dir="auto">See LICENSE. In general - it is free to use if you&#39;re an indie hacker or a student. For companies - if you&#39;re just evaluating how basis works, go for it. If you&#39;d like to use it on a production robot, please contact us!</p>

<p dir="auto"><a href="https://github.com/basis-robotics/basis_test_robot">https://github.com/basis-robotics/basis_test_robot</a> is a living, breathing repo used by Basis (the team) for exercising the framework.</p>
</article></div></div>
  </body>
</html>
