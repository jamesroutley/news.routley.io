<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://rgoswami.me/posts/scipycon-2022-meta/">Original</a>
    <h1>Supplements for SciPy 2022</h1>
    
    <div id="readability-page-1" class="page"><div><blockquote><p>A meta-post on my in-person attendance of the 2022 SciPy Conference</p></blockquote><h2 id="background">Background</h2><p>I hadn’t been in an in-person conference for quite a long while now. There were
multiple things going for SciPyCon. Collaborators at UT Austin (from the <a href="http://theory.cm.utexas.edu/eon/">EON
project</a>). The prospect of meeting folks <a href="https://quansight.com/">from Quansight</a>. Meeting other members
of the <a href="https://numpy.org/teams/">NumPy community</a> I’d been working with virtually for a year. I had the pleasure
of being the recipient of a <a href="https://twitter.com/marsbarlee/status/1547580143232618499">SciPy Scholarship</a> for <a href="https://github.com/HaoZeke/wailord/blob/main/docs/scipycon22/wailord.pdf">my poster</a> and <a href="https://conference.scipy.org/proceedings/scipy2022/rohit_goswami_wailord.html">conference
proceeding</a> on <a href="https://wailord.xyz">Wailord</a>, which sealed the deal for me. I had the privilege of
representing every faucet of my interests, including a poster on LPython (an
LFortran spin-off) and a talk on F2PY (with a distinguished <a href="https://twitter.com/scientific_py/status/1548033869080772612">panel of maintainers</a>).</p><h2 id="maintaining-fortran-in-python-in-perpetuity">Maintaining Fortran in Python in Perpetuity</h2><dl><dt>Co-Authors</dt><dd><a href="https://melissawm.github.io/">Dr. Melissa Mendonca</a> (Quansight Labs), <a href="https://rgommers.github.io/">Dr. Ralf Gommers</a> (Quansight Labs), <a href="https://github.com/Thirumalai-Shaktivel">Thirumalai Shaktivel</a> (Fortran-Lang / LFortran), <a href="https://github.com/pearu">Dr. Pearu Peterson</a> (Quansight Labs)</dd><dt>Duration</dt><dd>20 minutes (15 + 5)</dd><dt>Medium</dt><dd>Maintainers Track Talk</dd></dl><p><a href="https://dx.doi.org/10.25080/majora-212e5952-021"><img src="https://img.shields.io/badge/Paper%20DOI-10.25080/majora--212e5952--021-blue?labelColor=gray&amp;style=flat&amp;link=https://dx.doi.org/10.25080/majora-212e5952-021" alt="Paper DOI"/></a></p><p><a href="https://doi.org/10.5281/zenodo.7325023"><img src="https://img.shields.io/badge/Slides%20DOI-10.5281/zenodo.7325023-blue?labelColor=gray&amp;style=flat&amp;link=https://doi.org/10.5281/zenodo.7325023" alt="Slides DOI"/></a></p><h3 id="abstract">Abstract</h3><blockquote><p>Fortran forms the computational bedrock of the scientific community. Despite the prevalence of the pack libraries (LAPACK, PROPACK etc.) within SciPy and the fact that <code>f2py</code> has been an integral part of the NumPy ecosystem for decades now, it is seldom brought up. In particular, newer, younger programming languages and projects are consistently brought up as possible contenders to the crown of numerical computing within the Scientific Python ecosystem. Being such a foundational project has a unique set of maintainability challenges as well. Hyrum’s law rings especially true for <code>f2py</code>, scientific projects, both public and private, depend heavily on every aspect of the exposed API. A boon for scientific programming from the very beginning, <code>f2py</code> has enabled high performance computing without in-depth understanding of either the Python-C API or the Fortran language itself. Even as <code>f2py</code> reinvents itself for modern Fortran constructs however, backwards compatibility requirements remain (e.g. <code>scipy</code> lags by two versions). From a brief historical overview of the scientific python ecosystem and interoperability issues we will move through the sustainability efforts through the years. We will cover changes in <code>f2py</code>, both planned and implemented, including the migration towards the Python-C Limited API, the newer <code>argparse</code> front-end, moving away from <code>np.distutils</code>, restructuring and reducing reliance on features implemented by the NumPy-C API, and supporting newer Fortran standards (with derived types being the poster child of missing Modern Fortran features). The talk will also briefly cover the code-generation and fortranobject constructs. The focus is not meant to be the internals so much as a 50-foot view of each constituent part of <code>f2py</code> and its long term viability. Part of the discussion will revolve around synergies with existing projects, both within the scientific Python ecosystem (scipy), and Fortran-Lang (LFortran), and by planning to involve younger developers via GSoC. Lastly, we will discuss how the FOSS community stepped up to support <code>f2py</code> and how we intend to continue to carry modern Fortran as a corner stone of the scientific python ecosystem for many years to come in no small part by providing a common set of interoperability standards in the form of NEPs (NumPy Enhancement Proposals).</p></blockquote><h4 id="short-summary">Short Summary</h4><p>This talk covers recent advances to the <code>f2py</code> project, including preliminary derived type support, better documentation, and restructured design to enhance new contributor experiences. Additionally, we will discuss the structure and role of interoperability libraries and how modern Fortran intends to harmoniously and symbiotically evolve within the Python ecosystem in the context of Fortran-Lang, the <code>np.distutils</code> deprecation, newer compute devices and the ever changing landscape of high performance programming.</p><h3 id="slides">Slides</h3><ul><li><a href="https://www.tasteatlas.com/revealjs/scipy_2022/fortraninperpetuity">Best viewed here</a> using a browser (in a new tab)</li><li>A <code>pdf</code> copy of the slides are embedded below</li><li>The <code>orgmode</code> source <a href="https://raw.githubusercontent.com/HaoZeke/haozeke.github.io/src/presentations/SciPyCon2022/scipy_f2py_maint.org">is here on the site’s GH repo</a></li></ul><h3 id="video">Video</h3><p><iframe src="https://www.youtube.com/embed/CivzdD3jxB8" allowfullscreen="" title="YouTube Video"></iframe></p><h2 id="lpython-interactive-llvm-based-python-compiler-for-modern-architectures">LPython: Interactive LLVM-based Python Compiler for Modern Architectures</h2><dl><dt>Co-Authors</dt><dd><a href="https://ondrejcertik.com/">Ondřej Čertík</a> (GSI Technology), <a href="https://www.linkedin.com/in/brianbeckman/">Brian Beckman</a> (GSI Technology), <a href="https://www.linkedin.com/in/namannimmo/">Naman Gera</a> (IIT Guwahati), <a href="https://in.linkedin.com/in/smit-lunagariya-356b93179">Smit Lunagariya</a> (IIT BHU), <a href="https://github.com/czgdp1807">Gagandeep Singh</a> (GSI Technology), <a href="https://github.com/Thirumalai-Shaktivel">Thirumalai Shaktivel</a> (Fortran-Lang / LFortran), <a href="https://www.linkedin.com/in/dylon-edwards-0936bb39/">Dylon Edwards</a> (GSI Technology)</dd><dt>Medium</dt><dd>General Track Poster</dd></dl><p><a href="https://doi.org/10.5281/zenodo.7325061"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.7325061.svg" alt="DOI"/></a></p><h3 id="abstract">Abstract</h3><blockquote><p>We demonstrate to the community that it is possible to use Python in a modern
interactive way and yet have execution speed as fast or faster than other
compiled languages such as C++ or Fortran. Python is one of the most used
languages today. For performance applications such as High Performance Computing
(HPC) or any other kind of numerical computing the standard CPython
implementation is often not fast enough and it is difficult to run Python code
on GPUs and other accelerators. To address these issues we have developed
LPython, a Python compiler that can compile Python code to binaries, work
interactively, and run on all platforms.</p><p>LPython is written in C++ and it has multiple backends to generate code
including LLVM [1] and C++. The compiler has been open sourced under BSD
license, available at <a href="https://github.com/lcompilers/lpython">https://github.com/lcompilers/lpython</a>. The Abstract
Syntax Tree (AST) and the intermediate Abstract Semantic Representation (ASR)
is represented using the ASDL domain-specific language [2], just like CPython’s
AST. LPython is designed as a library with separate building blocks (parser,
AST, ASR, semantic phase, codegen) that are all exposed to the user/developer
in a natural way to make it easy to contribute back. LPython is using the same
internal representation (ASR) as in LFortran [3], and both the LPython and
LFortran frontends are effectively surface languages that share the same middle
end and backends, as well as high and low level optimizations. Both LPython and
LFortran are part of LCompilers [4]. The speed of LPython comes from high level
optimizations at the ASR level, as well as the low level optimizations that
LLVM can do. In addition it is remarkably easy to customize back ends.</p></blockquote><h4 id="short-summary">Short Summary</h4><p>We are developing a modern open-source Python compiler called LPython
(<a href="https://lpython.org/">https://lpython.org/</a>) that can execute user’s code interactively in Jupyter to
allow exploratory work (much like CPython, MATLAB or Julia) as well as compile
to binaries with the goal to run user’s code on modern architectures such as
multi-core CPU, GPU, as well as unfamiliar, new architectures like GSI’s APU,
which features programmable compute-in memory. We aim to provide the best
possible performance for numerical array oriented code. Live demo in a Jupyter
notebook will be shown. The compiler itself is written in C++ for robustness
and speed.</p><h2 id="wailord-parsers-and-reproducibility-for-quantum-chemistry">Wailord: Parsers and Reproducibility for Quantum Chemistry</h2><dl><dt>Medium</dt><dd>Materials &amp; Chemistry Poster</dd></dl><p><a href="https://doi.org/10.5281/zenodo.7325038"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.7325038.svg" alt="DOI"/></a></p><h3 id="abstract">Abstract</h3><blockquote><p>The concept of a crisis of reproducibility in scientific research needs no introduction. Although there are several tooling approaches on can take to reduce the cognitive load of keeping track of various steps of an analysis pipeline [1], there remains an almost linguistic gap when it comes to interfacing with domain specific tools.</p><p>We demonstrate the role of parsers in the reproducibility workflow. By focusing on the generation of input files and the structured extraction of output data, we will aim to plug a gap in the generation of reproducible reports, namely, interfacing (via file I/O) with existing software. The file I/O interface justifiably has many detractors, especially on an HPC (high performance computing) cluster, I/O can be a bottleneck. However, when faced with an opaque binary which outputs freeform results, powered by an input file which has little to no structure beyond a 1500 page manual of keyword arguments, the utility of a domain specific parser can pay off immensely. In our quest to translate domain intuition into computational input constraints, we will work in a reduced grammar, an intermediate representation (IR). Such an IR can be generated for multiple program specifications, so extensions to other software is not difficult either.</p><p>As a concrete realization of an abstract concept, we will discuss Wailord [2], which uses parsimonious [3] and cookiecutter [4] to interface with ORCA [5], a popular free (but not open source) quantum chemistry software suite. Wailord. We will go over how such an input generation and output parser technique allows for catching otherwise hard to track down errors. Taking a step away from the problem of writing single-purpose input files and functionalities, we demonstrate how a series of tasks can be defined, executed, and harvested into a single report, at the cost of giving up control over the folder structure.</p><p>[1] <a href="https://rgoswami.me/posts/pycon-in-2020-meta/">https://rgoswami.me/posts/pycon-in-2020-meta/</a>
[2] <a href="https://wailord.xyz">https://wailord.xyz</a>
[3] <a href="https://github.com/erikrose/parsimonious">https://github.com/erikrose/parsimonious</a>
[4] <a href="https://cookiecutter.readthedocs.io/">https://cookiecutter.readthedocs.io/</a>
[5] <a href="https://www.kofo.mpg.de/en/research/services/orca">https://www.kofo.mpg.de/en/research/services/orca</a></p></blockquote><h4 id="short-summary">Short Summary</h4><p>Much of the scientific python ecosystem deals with problems at the level when their structure is already present in memory. However, the generation of input files for driving existing codes, as well as the parsing of results is not typically covered in great detail. This submission bridges the gap between external programs and data-structures, demonstrating via a practical example, the utility of code-generation and parsing expression grammar parsers for reproducible results in quantum chemistry.</p><h2 id="thoughts">Thoughts</h2><p>SciPyCon exceeded my expectations. Everyone was kind, and I met a good number of
people from QS and other places who hopefully did not come away with a poor
impression of me. There was a last minute <a href="https://twitter.com/marsbarlee/status/1548420979814084608">comic rush</a> which <a href="https://twitter.com/marsbarlee">Mars</a> arranged. I also
ended up <a href="https://groups.google.com/g/comp.text.tex/c/aLbKE3ami2g/m/f48XXbuHAwAJ">chatting with Jonathan Fine</a> to discuss NumPy <a href="https://www.mail-archive.com/numpy-discussion@python.org/msg06130.html">dropping PDF documentation
builds</a>. Plus I snagged a <a href="https://twitter.com/scientific_py/status/1547788365101031430">Scientific Python tee-shirt</a>. With <a href="https://ondrejcertik.com/">Ondřej Čertík</a> and
<a href="http://antocuni.eu/">Antonio Cuni</a>, thanks to a suggestion from <a href="https://twitter.com/teoliphant">Travis</a> there were some neat
discussions on LPython. Met with Sebastian and Inessa and Mars and Chuck among
other NumPy folks. Reconnected with some people who’ve gone across the pond,
like <a href="https://pyiron.org/">PyIron</a>’s Dr. Jan Janssen. Interacted with a bunch of people from the
computational chemistry minisymposium in-spite of originally planning to stay
away from (comp-chem) shop talk. This post is harder to write sinceafter-all,
SciPyCon was almost four months ago. Nevertheless, this is a supplements post.
Presentations of projects ought to be tracked, for posterity and the projects
themselves. It was good to have the opportunity to highlight projects I believe
in, and to introduce <code>f2py</code>’s GSoC student (<a href="https://namamishanker.github.io/">Namami Shankar</a>) to the community. I
suppose, if invited, I would return.</p></div></div>
  </body>
</html>
