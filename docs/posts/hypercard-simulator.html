<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://hypercardsimulator.com/">Original</a>
    <h1>Hypercard Simulator</h1>
    
    <div id="readability-page-1" class="page"><div><td colspan="2">
		
		<table id="reference">
			
			<tbody><tr><td></td><td></td></tr>
			
			<tr><td colspan="2">Script handlers for messages:</td></tr>
			<tr><td>on &lt;message&gt; &lt;parameterList&gt;</td><td>function &lt;message&gt;(&lt;parameterList&gt;) {</td></tr>
			<tr><td colspan="2">    [ &lt;scriptLine&gt; ]*</td></tr>
			<tr><td>end &lt;message&gt; </td><td>}</td></tr>
			
			<tr id="placeimportsbefore"></tr>
			<tr><td>&lt;identifier&gt; </td><td>/[A-Z][A-Z\d]*/i</td></tr>
			<tr><td>&lt;number&gt; </td><td>/[\d]+([.][\d]+)?/</td></tr>
			<tr><td>&lt;string&gt; </td><td>/&#34;[^&#34;]*&#34;/</td></tr>

			<tr><td colspan="2">messages are sent to parts, cards, backgrounds, and stacks</td></tr>
			<tr><td colspan="2">&lt;message&gt; is mouseDown, mouseStillDown, mouseUp, openField, closeField, openCard, and anything else you write.</td></tr>
			<tr><td colspan="2">The targets can catch them in script handlers. If not caught they are sent down the message path to their containing cards and backgrounds, and then the stack. Handlers can respond to both user-generated messages as well as ones you call yourself.</td></tr>
			
			<tr><td colspan="2">
				
			</td></tr>
			<tr><td colspan="2">
				<field-part id="wildcard_script" type="transparent" spellcheck="false" autoreplace="false" onkeydown="if (event.keyCode==9) { 
						event.preventDefault(); 
						document.execCommand(&#39;insertHTML&#39;,false,&#39;&lt;span&gt;\t&lt;/span&gt;&#39;);
					}" tabindex="0" oninput="var err; try { 
					load_wildcard_script();
					localStorageSetItem(&#39;wildcard_script&#39;,this.contents);
					reset_wcs.enabled = true;
					upload_wcs.enabled = true;
				} catch(e) { err = e } 
				scripterror.innerText=err||&#39;&#39;;
				">-- These handlers are available to any WildCard script.

-- Handlers accept parameters and can return a value
on square y
  return y times y
end square 

-- You can use JavaScript in handlers
function sqrt n
	return Math.sqrt(n);
end sqrt

function random n
	return Math.floor(Math.random()*n) + 1;
end random

function date
	return new Date().toUTCString();
end date

-- Send messages from Javascript with wildcard.do(&#39;beep&#39;) or just wildcard.Beep();
on do lineOfScript
	put &#34;on run&#34; &amp; return &amp; lineOfScript &amp; return &amp; &#34;end run&#34; into handler
	return new Script(null, _.handler).run();
end do

function value scriptExpression
	put &#34;on run&#34; &amp; return &amp; &#34;return&#34; &amp;&amp; scriptExpression &amp; return &amp; &#34;end run&#34; into handler
	return new Script(null, _.handler).run();
end value

on put message
  put_into_messagebox(message, true);
end put

on beep count
  for (var i=1; (count||1)&gt;=i; i++) setTimeout(perform_system_beep,350*(i-1));
end beep

on help
	go home
	go to card &#34;What was HyperCard?&#34;
end help

</field-part></td></tr>

</tbody></table>
	</td></div></div>
  </body>
</html>
