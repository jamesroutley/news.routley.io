<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/plutoprint/plutoprint">Original</a>
    <h1>Show HN: PlutoPrint – Generate PDFs and PNGs from HTML with Python</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a href="https://github.com/plutoprint/plutoprint/actions"><img alt="build" src="https://camo.githubusercontent.com/74ad580ddae61a0641332910717d9e9d6847f2cf38bff7394676bce80203e77b/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f616374696f6e732f776f726b666c6f772f7374617475732f706c75746f7072696e742f706c75746f7072696e742f6d61696e2e796d6c" data-canonical-src="https://img.shields.io/github/actions/workflow/status/plutoprint/plutoprint/main.yml"/></a> <a href="https://plutoprint.readthedocs.io" rel="nofollow"><img alt="docs" src="https://camo.githubusercontent.com/12e4e1dc8f3df4db485e7f67434f97a8a0e55c4a833b8a92e3be62506823c99b/68747470733a2f2f696d672e736869656c64732e696f2f72656164746865646f63732f706c75746f7072696e74" data-canonical-src="https://img.shields.io/readthedocs/plutoprint"/></a> <a href="https://github.com/plutoprint/plutoprint/blob/main/LICENSE"><img alt="license" src="https://camo.githubusercontent.com/ec65d5c648e26dab0ff1cab2a3450baeb961e49f41b572e8d40387e808d3f4a8/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f706c75746f7072696e74" data-canonical-src="https://img.shields.io/pypi/l/plutoprint"/></a> <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/3d52513b746d011776ca4b18907daac61cafe5e792e30a221759f2105d17a4c4/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646d2f706c75746f7072696e74"><img alt="downloads" src="https://camo.githubusercontent.com/3d52513b746d011776ca4b18907daac61cafe5e792e30a221759f2105d17a4c4/68747470733a2f2f696d672e736869656c64732e696f2f707970692f646d2f706c75746f7072696e74" data-canonical-src="https://img.shields.io/pypi/dm/plutoprint"/></a> <a href="https://pypi.org/project/plutoprint" rel="nofollow"><img alt="pypi" src="https://camo.githubusercontent.com/471de2ebe532842b26b5b0d57ff93a95d017b38691ac0dc0b4d20a4ceb2bcfcd/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f706c75746f7072696e74" data-canonical-src="https://img.shields.io/pypi/v/plutoprint"/></a> <a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/0efacecbbd67135b7c4e2ad6d6546d44e921e186c701bf96b07a234ecf42085c/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f706c75746f7072696e74"><img alt="pyver" src="https://camo.githubusercontent.com/0efacecbbd67135b7c4e2ad6d6546d44e921e186c701bf96b07a234ecf42085c/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f706c75746f7072696e74" data-canonical-src="https://img.shields.io/pypi/pyversions/plutoprint"/></a></p>
<a name="user-content-plutoprint"></a>

<p dir="auto">PlutoPrint is a lightweight and easy-to-use Python library for generating high-quality PDFs and images directly from HTML or XML content. It is based on <a href="https://github.com/plutoprint/plutobook">PlutoBook’s</a> robust rendering engine and provides a simple API to convert your HTML into crisp PDF documents or vibrant image files. This makes it ideal for reports, invoices, or visual snapshots.</p>
<markdown-accessiblity-table><table>




<thead>
<tr><th>Invoices</th>
<th>Tickets</th>
</tr>
</thead>
<tbody>
<tr><td><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/plutoprint/plutoprint-samples/main/images/invoices.png"><img alt="Invoices" src="https://raw.githubusercontent.com/plutoprint/plutoprint-samples/main/images/invoices.png"/></a></td>
<td><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/plutoprint/plutoprint-samples/main/images/tickets.jpg"><img alt="Tickets" src="https://raw.githubusercontent.com/plutoprint/plutoprint-samples/main/images/tickets.jpg"/></a></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<a name="user-content-installation"></a>


<p dir="auto">PlutoPrint depends on <a href="https://github.com/plutoprint/plutobook">PlutoBook</a>. For faster installation, it is highly recommended to <a href="https://plutoprint.readthedocs.io/en/latest/getting_started.html" rel="nofollow">install PlutoBook and its dependencies manually</a> beforehand. Otherwise, Meson will build them from source during installation, which can take significantly longer.</p>
<p dir="auto">For Windows and Linux 64-bit users, PlutoPrint provides <strong>prebuilt binaries</strong>, so no additional setup is required.</p>
<a name="user-content-quick-usage"></a>

<p dir="auto">Generate a PDF from the command line with the installed <code>plutoprint</code> script:</p>
<div dir="auto" data-snippet-clipboard-copy-content="plutoprint input.html output.pdf --size=A4"><pre>plutoprint input.html output.pdf --size=A4</pre></div>
<p dir="auto"><strong>Generate PDF with Python</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="import plutoprint

book = plutoprint.Book(plutoprint.PAGE_SIZE_A4)
book.load_url(&#34;input.html&#34;)
book.write_to_pdf(&#34;output.pdf&#34;)"><pre><span>import</span> <span>plutoprint</span>

<span>book</span> <span>=</span> <span>plutoprint</span>.<span>Book</span>(<span>plutoprint</span>.<span>PAGE_SIZE_A4</span>)
<span>book</span>.<span>load_url</span>(<span>&#34;input.html&#34;</span>)
<span>book</span>.<span>write_to_pdf</span>(<span>&#34;output.pdf&#34;</span>)</pre></div>
<p dir="auto"><strong>Generate PNG with Python</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="import plutoprint
import math

book = plutoprint.Book(media=plutoprint.MEDIA_TYPE_SCREEN)
book.load_html(&#34;&lt;b&gt;Hello World&lt;/b&gt;&#34;, user_style=&#34;body { text-align: center }&#34;)

width = math.ceil(book.get_document_width())
height = math.ceil(book.get_document_height())

with plutoprint.ImageCanvas(width, height) as canvas:
   canvas.clear_surface(1, 1, 1)
   book.render_document(canvas)
   canvas.write_to_png(&#34;hello.png&#34;)"><pre><span>import</span> <span>plutoprint</span>
<span>import</span> <span>math</span>

<span>book</span> <span>=</span> <span>plutoprint</span>.<span>Book</span>(<span>media</span><span>=</span><span>plutoprint</span>.<span>MEDIA_TYPE_SCREEN</span>)
<span>book</span>.<span>load_html</span>(<span>&#34;&lt;b&gt;Hello World&lt;/b&gt;&#34;</span>, <span>user_style</span><span>=</span><span>&#34;body { text-align: center }&#34;</span>)

<span>width</span> <span>=</span> <span>math</span>.<span>ceil</span>(<span>book</span>.<span>get_document_width</span>())
<span>height</span> <span>=</span> <span>math</span>.<span>ceil</span>(<span>book</span>.<span>get_document_height</span>())

<span>with</span> <span>plutoprint</span>.<span>ImageCanvas</span>(<span>width</span>, <span>height</span>) <span>as</span> <span>canvas</span>:
   <span>canvas</span>.<span>clear_surface</span>(<span>1</span>, <span>1</span>, <span>1</span>)
   <span>book</span>.<span>render_document</span>(<span>canvas</span>)
   <span>canvas</span>.<span>write_to_png</span>(<span>&#34;hello.png&#34;</span>)</pre></div>
<p dir="auto"><strong>Generate Charts with Matplotlib</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="import plutoprint

import matplotlib.pyplot as plt
import urllib.parse
import io

class CustomResourceFetcher(plutoprint.ResourceFetcher):
    def fetch_url(self, url):
        if not url.startswith(&#39;chart:&#39;):
            return super().fetch_url(url)
        values = [float(v) for v in urllib.parse.unquote(url[6:]).split(&#39;,&#39;)]
        labels = [chr(65 + i) for i in range(len(values))]

        plt.bar(labels, values)
        plt.title(&#39;Bar Chart&#39;)
        plt.xlabel(&#39;Labels&#39;)
        plt.ylabel(&#39;Values&#39;)

        buffer = io.BytesIO()
        plt.savefig(buffer, format=&#39;svg&#39;, transparent=True)

        return plutoprint.ResourceData(buffer.getvalue(), &#34;image/svg+xml&#34;, &#34;utf-8&#34;)

book = plutoprint.Book(plutoprint.PAGE_SIZE_A4.landscape(), plutoprint.PAGE_MARGINS_NONE)

book.custom_resource_fetcher = CustomResourceFetcher()

HTML_CONTENT = &#34;&#34;&#34;
&lt;div&gt;
    &lt;img src=&#39;chart:23,45,12,36,28,50&#39;&gt;
    &lt;img src=&#39;chart:5,15,25,35,45&#39;&gt;
    &lt;img src=&#39;chart:50,40,30,20,10&#39;&gt;
    &lt;img src=&#39;chart:10,20,30,40,50,60,70&#39;&gt;
&lt;/div&gt;
&#34;&#34;&#34;

USER_STYLE = &#34;&#34;&#34;
div { display: flex; flex-wrap: wrap; justify-content: center; height: 98vh }
img { flex: 0 0 45%; height: 50%; background: #fff; border: 1px solid #ccc; }
body { background: #f7f7f7 }
&#34;&#34;&#34;

book.load_html(HTML_CONTENT, USER_STYLE)
book.write_to_png(&#34;charts.png&#34;)
book.write_to_pdf(&#34;charts.pdf&#34;)"><pre><span>import</span> <span>plutoprint</span>

<span>import</span> <span>matplotlib</span>.<span>pyplot</span> <span>as</span> <span>plt</span>
<span>import</span> <span>urllib</span>.<span>parse</span>
<span>import</span> <span>io</span>

<span>class</span> <span>CustomResourceFetcher</span>(<span>plutoprint</span>.<span>ResourceFetcher</span>):
    <span>def</span> <span>fetch_url</span>(<span>self</span>, <span>url</span>):
        <span>if</span> <span>not</span> <span>url</span>.<span>startswith</span>(<span>&#39;chart:&#39;</span>):
            <span>return</span> <span>super</span>().<span>fetch_url</span>(<span>url</span>)
        <span>values</span> <span>=</span> [<span>float</span>(<span>v</span>) <span>for</span> <span>v</span> <span>in</span> <span>urllib</span>.<span>parse</span>.<span>unquote</span>(<span>url</span>[<span>6</span>:]).<span>split</span>(<span>&#39;,&#39;</span>)]
        <span>labels</span> <span>=</span> [<span>chr</span>(<span>65</span> <span>+</span> <span>i</span>) <span>for</span> <span>i</span> <span>in</span> <span>range</span>(<span>len</span>(<span>values</span>))]

        <span>plt</span>.<span>bar</span>(<span>labels</span>, <span>values</span>)
        <span>plt</span>.<span>title</span>(<span>&#39;Bar Chart&#39;</span>)
        <span>plt</span>.<span>xlabel</span>(<span>&#39;Labels&#39;</span>)
        <span>plt</span>.<span>ylabel</span>(<span>&#39;Values&#39;</span>)

        <span>buffer</span> <span>=</span> <span>io</span>.<span>BytesIO</span>()
        <span>plt</span>.<span>savefig</span>(<span>buffer</span>, <span>format</span><span>=</span><span>&#39;svg&#39;</span>, <span>transparent</span><span>=</span><span>True</span>)

        <span>return</span> <span>plutoprint</span>.<span>ResourceData</span>(<span>buffer</span>.<span>getvalue</span>(), <span>&#34;image/svg+xml&#34;</span>, <span>&#34;utf-8&#34;</span>)

<span>book</span> <span>=</span> <span>plutoprint</span>.<span>Book</span>(<span>plutoprint</span>.<span>PAGE_SIZE_A4</span>.<span>landscape</span>(), <span>plutoprint</span>.<span>PAGE_MARGINS_NONE</span>)

<span>book</span>.<span>custom_resource_fetcher</span> <span>=</span> <span>CustomResourceFetcher</span>()

<span>HTML_CONTENT</span> <span>=</span> <span>&#34;&#34;&#34;</span>
<span>&lt;div&gt;</span>
<span>    &lt;img src=&#39;chart:23,45,12,36,28,50&#39;&gt;</span>
<span>    &lt;img src=&#39;chart:5,15,25,35,45&#39;&gt;</span>
<span>    &lt;img src=&#39;chart:50,40,30,20,10&#39;&gt;</span>
<span>    &lt;img src=&#39;chart:10,20,30,40,50,60,70&#39;&gt;</span>
<span>&lt;/div&gt;</span>
<span>&#34;&#34;&#34;</span>

<span>USER_STYLE</span> <span>=</span> <span>&#34;&#34;&#34;</span>
<span>div { display: flex; flex-wrap: wrap; justify-content: center; height: 98vh }</span>
<span>img { flex: 0 0 45%; height: 50%; background: #fff; border: 1px solid #ccc; }</span>
<span>body { background: #f7f7f7 }</span>
<span>&#34;&#34;&#34;</span>

<span>book</span>.<span>load_html</span>(<span>HTML_CONTENT</span>, <span>USER_STYLE</span>)
<span>book</span>.<span>write_to_png</span>(<span>&#34;charts.png&#34;</span>)
<span>book</span>.<span>write_to_pdf</span>(<span>&#34;charts.pdf&#34;</span>)</pre></div>
<p dir="auto">Expected output:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://raw.githubusercontent.com/plutoprint/plutoprint-samples/main/charts.png"><img alt="Charts" src="https://raw.githubusercontent.com/plutoprint/plutoprint-samples/main/charts.png"/></a></p>
<a name="user-content-samples"></a>

<markdown-accessiblity-table>
Invoices





</markdown-accessiblity-table>
<markdown-accessiblity-table>
Tickets




</markdown-accessiblity-table>
<a name="user-content-links-resources"></a>

<ul dir="auto">
<li>Documentation: <a href="https://plutoprint.readthedocs.io" rel="nofollow">https://plutoprint.readthedocs.io</a></li>
<li>Samples: <a href="https://github.com/plutoprint/plutoprint-samples">https://github.com/plutoprint/plutoprint-samples</a></li>
<li>Code: <a href="https://github.com/plutoprint/plutoprint">https://github.com/plutoprint/plutoprint</a></li>
<li>Issues: <a href="https://github.com/plutoprint/plutoprint/issues">https://github.com/plutoprint/plutoprint/issues</a></li>
<li>Donation: <a href="https://github.com/sponsors/plutoprint">https://github.com/sponsors/plutoprint</a></li>
</ul>
<a name="user-content-license"></a>

<p dir="auto">PlutoPrint is licensed under the <a href="https://github.com/plutoprint/plutoprint/blob/main/LICENSE">MIT License</a>, allowing for both personal and commercial use.</p>

</article></div></div>
  </body>
</html>
