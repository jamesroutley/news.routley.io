<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/nettlep/magic">Original</a>
    <h1>The Nettle Magic Project: Scanner for decks of cards with bar codes on edges</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">This deck of cards has a bar code printed on the edge of each card. Scanning these bar codes would reveal where every card is (or isn&#39;t - if cards are missing.)</p>
<p dir="auto">Think card magic.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nettlep/magic/blob/main/docs/img/stamped-deck.jpg"><img src="https://github.com/nettlep/magic/raw/main/docs/img/stamped-deck.jpg" alt="A deck of cards with digital marks printed on the edge of each card."/></a></p>
<p dir="auto">This wouldn&#39;t be a very good magic trick if you could see the marks. We need invisible marks.</p>
<p dir="auto">One of these decks is unmarked, the other is marked with this special ink that is only visible under specific IR conditions.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nettlep/magic/blob/main/docs/img/ink_comparison.jpg"><img src="https://github.com/nettlep/magic/raw/main/docs/img/ink_comparison.jpg" alt="Two decks of cards - each viewed from the same end. Both decks appear normal."/></a></p>
<p dir="auto">This device (a Raspberry Pi Zero W with a NoIR camera) can see these marks. The shiny circle is a special IR filter.</p>
<p dir="auto">A scanning server runs on this small device.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nettlep/magic/blob/main/docs/img/device.png"><img src="https://github.com/nettlep/magic/raw/main/docs/img/device.png" alt="A small computer module, about the size of a thumb. It has a small camera attached. The lens of the camera is covered with what looks like s small round mirror."/></a></p>
<p dir="auto">This is Abra, the iOS client application running on my iPad. It shows what the server&#39;s camera sees along with the decoded deck. As you can see, the IR marks are quite visible to the camera.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nettlep/magic/blob/main/docs/img/abra_ipad.png"><img src="https://github.com/nettlep/magic/raw/main/docs/img/abra_ipad.png" alt="A screenshot of an app containing an array of playing cards in suit and numerical order, with a black-and-white image of a deck of playing cards with edge-marks clearly visible."/></a></p>
<p dir="auto">Your iDevices can also be a server, but they can&#39;t see those infrared marks, even with special filters. However, they can see black ink marks and marks made using a different type of invisible ink - ultraviolet fluorescing ink.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nettlep/magic/blob/main/docs/img/uv-ink.jpg"><img src="https://github.com/nettlep/magic/raw/main/docs/img/uv-ink.jpg" alt="A deck of cards with marks on the edges of cards that are glowing brightly under the light of a UV pen light. Next to the deck is an iPad showing the deck from it&#39;s camera&#39;s perspective."/></a></p>
<p dir="auto">For hard core developers, I&#39;ve included the testbed, which has a bunch of visualization tools to understand how things work.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nettlep/magic/blob/main/docs/img/steve.png"><img src="https://github.com/nettlep/magic/raw/main/docs/img/steve.png" alt="A screenshot of an app that shows a deck of cards in a viewport with marks outlined digitally, and various statistics listed below."/></a></p>
<p dir="auto">The testbed only runs on Mac. However, the server app is a generic Linux console app and it includes a text-based GUI mode.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/nettlep/magic/blob/main/docs/img/whisper.png"><img src="https://github.com/nettlep/magic/raw/main/docs/img/whisper.png" alt="A text-based console app with an image of a deck of cards printed using alphanumeric characters. Statistics appear below this text-based viewport."/></a></p>
<p dir="auto">Performance is critical.</p>
<p dir="auto">The statistical model requires a full 30Hz of data. Also, this can be strapped to a person&#39;s body during a performance. Efficiency means longer battery, less heat.</p>
<p dir="auto">It can scan/decode a 1080p image to an ordered deck in as little as 4ms. On a rPI.</p>

<p dir="auto">Full documentation is available <a href="https://nettlep.github.io/magic/" rel="nofollow">here</a>.</p>
</article>
          </div></div>
  </body>
</html>
