<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://simonwillison.net/2023/Feb/17/analytics/">Original</a>
    <h1>Analytics: Hacker News v.s. a tweet from Elon Musk</h1>
    
    <div id="readability-page-1" class="page"><div id="primary">

<div>




<p>My post <a href="https://simonwillison.net/2023/Feb/15/bing/">Bing: “I will not harm you unless you harm me first”</a> really took off.</p>
<p>It sat <a href="https://news.ycombinator.com/item?id=34804874">at the top of Hacker News</a> for a full day, and is currently <a href="https://hn.algolia.com/">the 18th most popular post</a> of all time on that site.</p>
<p>And then this happened:</p>

<blockquote><p lang="en" dir="ltr">Might need a bit more polish …<a href="https://t.co/rGYCxoBVeA">https://t.co/rGYCxoBVeA</a></p>- Elon Musk (@elonmusk) <a href="https://twitter.com/elonmusk/status/1625936009841213440?ref_src=twsrc%5Etfw">February 15, 2023</a></blockquote>

<p>Given <a href="https://www.theverge.com/2023/2/14/23600358/elon-musk-tweets-algorithm-changes-twitter">recent changes</a> made to the Twitter algorithm, a <em>lot</em> of people saw that. Twitter currently reports 30.4M views of that tweet.</p>
<p>A bunch of people asked me how much of that converted into page views. So let’s dive in!</p>
<h4>Headline figures</h4>
<p>Here’s my Plausible dashboard for that post over the past few days:</p>
<p><img src="https://static.simonwillison.net/static/2023/plausible-bing.jpg" alt="simonwillison.net on Plausible, filtered for /2023/Feb/15/bing/ - there&#39;s a huge spike in traffic starting on the 16th of Feb. 959k unique visitors, 1.1M page views, 90% bounce rate, 42m43s time on page. Top sources of traffic are Twitter at 721k, Direct / None at 132k, Hacker News at 49.5k, Facebook at 13.4k, Reddit at 8.3x, Google at 7.8k, tldrnewsletter at 6k and LinkedIn at 5.4k"/></p>
<p>Overall numbers: 959k unique visitors, 1.1M page views.</p>
<p>Top sources of traffic:</p>
<ul>
<li>Twitter: 721k</li>
<li>Direct / None: 132k (this includes traffic from Mastodon)</li>
<li>Hacker News: 49.5k</li>
<li>Facebook: 13.4k</li>
<li>Reddit: 8.3k</li>
<li>Google: 7.8k</li>
<li>tldrnewsletter: 6k</li>
<li>LinkedIn: 5.4k</li>
</ul>
<p>If we assume the vast majority of the Twitter traffic was from Elon (which seems reasonable) that’s 30.4M / 721k = roughly a 2.37% click through rate.</p>
<p>Notable that sticking at the top of Hacker News for a day really does drive an enormous amount of traffic—18% of the traffic you get from the second most followed account on Twitter (looks like <a href="https://twitter.com/barackobama">Barack Obama</a> is still number one).</p>
<h4>More detailed analytics via Plausible and Cloudflare</h4>
<p>I mainly use <a href="https://plausible.io/">Plausible</a> for my site’s analytics. I really like them: they’re privacy-focused, open source (though I use their hosted version) and show me exactly the subset of data I want to see. Most importantly, they don’t set cookies.</p>
<p>My site also runs behind <a href="https://www.cloudflare.com/">Cloudflare</a>, which also provides analytics. I don’t pay for the upgraded analytics, but it turns out you can still get some pretty detailed numbers out of them—especially if you’re willing to dig around in the browser DevTools.</p>
<p>Plausible offers an “export” button, so I used that... and got a zip file with a bunch of CSVs in it. <a href="https://github.com/simonw/i-will-not-harm-you-unless-you-harm-me-first/tree/main/plausible-csvs">Here they are</a> in a GitHub repo.</p>
<p>Cloudflare—at least for the free tier—doesn’t have a detailed export. But... under the hood the Cloudflare web application <a href="https://developers.cloudflare.com/analytics/graphql-api/">uses their GraphQL API</a> to retrieve stats for display, and with a bit of digging you can get numbers out that way.</p>
<p>I extracted <a href="https://github.com/simonw/i-will-not-harm-you-unless-you-harm-me-first/blob/main/cloudflare.json">this 3.2MB JSON file</a> using the Cloudflare API.</p>
<h4>Loading it into Datasette</h4>
<p>I wrote <a href="https://github.com/simonw/i-will-not-harm-you-unless-you-harm-me-first/blob/main/build-dbs.sh">this script</a> to load the data I had extracted into SQLite database files, and then deployed them to Vercel using <a href="https://datasette.io/">Datasette</a>.</p>
<p>You can explore the result here: <a href="https://i-will-not-harm-you-unless-you-harm-me-first.vercel.app/">https://i-will-not-harm-you-unless-you-harm-me-first.vercel.app/</a></p>
<p><a href="https://i-will-not-harm-you-unless-you-harm-me-first.vercel.app/plausible/visitors?_sort=rowid&amp;date__gte=2023-02-15#g.mark=bar&amp;g.x_column=date&amp;g.x_type=ordinal&amp;g.y_column=pageviews&amp;g.y_type=quantitative">Here’s page views according to Plausible</a> over the time period in question:</p>
<p><img src="https://static.simonwillison.net/static/2023/datasette-plausible-pageviews.jpg" alt="Chart in Datasette showing page views per hour according to Plausible - a big jump up to around 185,000 at 11am on the 15th"/></p>
<p>It looks to me like the timezone for that data is Pacific Time.</p>
<p><a href="https://i-will-not-harm-you-unless-you-harm-me-first.vercel.app/cloudflare/timeslots#g.mark=bar&amp;g.x_column=timeslot&amp;g.x_type=ordinal&amp;g.y_column=pageViews&amp;g.y_type=quantitative">This page</a> shows page views count according to Cloudflare, by hour.</p>
<p><img src="https://static.simonwillison.net/static/2023/datasette-cloudflare-pageview.jpg" alt="Datasette interafce showing a chart plotted using the datasette-vega plugin - the chart shows pageviews against time spiking up to just over 200,000 at 7pm UTC on 15th Feb, the time of the Elon tweet"/></p>
<p>This data is in UTC, where 7pm UTC corresponds to 11am Pacific.</p>
<p>These numbers should differ, because Plausible uses JavaScript to track analytics while Cloudflare is server-side, plus Plausible is filtered to just hits to the specific page while Cloudflare is showing all hits to any page on my site.</p>
<p>There are plenty more ways to slice and dice the data in Datasette:</p>
<ul>
<li><a href="https://i-will-not-harm-you-unless-you-harm-me-first.vercel.app/plausible/visitors?_sort=rowid&amp;date__gte=2023-02-15#g.mark=bar&amp;g.x_column=date&amp;g.x_type=ordinal&amp;g.y_column=visitors&amp;g.y_type=quantitative">Unique visitors over time according to Plausible</a></li>
<li><a href="https://i-will-not-harm-you-unless-you-harm-me-first.vercel.app/cloudflare/timeslots#g.mark=bar&amp;g.x_column=timeslot&amp;g.x_type=ordinal&amp;g.y_column=uniques&amp;g.y_type=quantitative">Uniques over time according to Cloudflare</a></li>
<li><a href="https://i-will-not-harm-you-unless-you-harm-me-first.vercel.app/plausible/sources#g.mark=bar&amp;g.x_column=name&amp;g.x_type=ordinal&amp;g.y_column=visitors&amp;g.y_type=quantitative">Full data for those traffic sources from Plausible</a></li>
<li><a href="https://i-will-not-harm-you-unless-you-harm-me-first.vercel.app/plausible/devices">Plausible device breakdown</a>—778,678 mobile, 101,216 desktop, 47,781 laptop (not sure how it distinguishes between desktop and laptop though), 16,967 tablet.</li>
<li>
<a href="https://i-will-not-harm-you-unless-you-harm-me-first.vercel.app/cloudflare?sql=select+timeslot%2C+requests%2C+cachedRequests%2C+100.0+*+cachedRequests+%2F+requests+as+pctCached+from+timeslots+order+by+timeslot+limit+101#g.mark=line&amp;g.x_column=timeslot&amp;g.x_type=ordinal&amp;g.y_column=pctCached&amp;g.y_type=quantitative">Percentage of cached requests over time according to Cloudflare</a> using a custom SQL query—this was around 40% before the Elon tweet, then jumped up to over 90% and stayed there, thankfully!</li>
</ul>
<p>I’ve long been a fan of full-page HTTP caching as protection against surprise traffic events—it’s a pattern I’ve implemented in the past using Varnish and Fastly, and I’ve been using it on my blog via Cloudflare for several years.</p>
<p>It definitely paid off this time!</p>




</div>

</div></div>
  </body>
</html>
