<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.joshwcomeau.com/css/subgrid/">Original</a>
    <h1>New layouts with CSS Subgrid</h1>
    
    <div id="readability-page-1" class="page"><div><main><article><a id="introduction"><span>Introduction</span></a><p>When CSS Grid layout was first released, it came with a big asterisk: only the grid‚Äôs <em>direct children</em> could participate in the layout. ‚ÄúSubgrid‚Äù is a newer addition to CSS Grid which allows us to <i>extend</i> the grid layout down through the DOM tree.</p>
<p>When I first heard about subgrid, it seemed to me like a convenience, a way to make it a bit simpler to accomplish the same stuff I was already doing. <strong>As it turns out, subgrid is <em>way</em> more interesting than that.</strong> It opens whole new doors in terms of the UIs we can build!</p>
<p>In this tutorial, I‚Äôll show you some of the exciting new things we can do with subgrid. Along the way, you‚Äôll learn the basic mechanics of subgrid. We‚Äôll even go over the most common gotchas!</p>


<h2 id="the-fundamentals" data-element-type="ContentHeading"><a id="the-fundamentals-1" href="#the-fundamentals-1"><svg viewBox="0 0 24 24" fill="none" style="width:21px;height:21px;opacity:1"><line x1="2" y1="8" x2="22" y2="8" stroke="currentColor"></line><line x1="2" y1="16" x2="22" y2="16" stroke="currentColor"></line><line x1="10" y1="2" x2="6" y2="22" stroke="currentColor"></line><line x1="18" y1="2" x2="14" y2="22" stroke="currentColor"></line></svg><span>Link to this heading</span></a>The fundamentals</h2>
<p>We‚Äôll get to the interesting stuff soon, but first, let‚Äôs start with the basics.</p>
<p>Suppose we want to implement the following mockup:</p>
<p><img alt="Mockup of a portfolio UI. On the left, there&#39;s a gray box with a heading and some smaller text. On the right, there&#39;s a collection of 6 pieces of artwork. The whole thing is arranged in a 4 by 2 grid, with the gray box on the left spanning two rows." loading="lazy" width="708" height="321.5" decoding="async" data-nimg="1" srcset="/_next/image/?url=%2Fimages%2Fsubgrid%2Fportfolio-mockup.png&amp;w=750&amp;q=75 1x, /_next/image/?url=%2Fimages%2Fsubgrid%2Fportfolio-mockup.png&amp;w=1920&amp;q=75 2x" src="https://hannahilea.com/_next/image/?url=%2Fimages%2Fsubgrid%2Fportfolio-mockup.png&amp;w=1920&amp;q=75"/></p>
<p>We can create this layout using a flat grid, no subgrid required. Here‚Äôs a quick implementation:</p>
<!-- --><div><div><div data-id="portfolio-flat-grid" data-can-be-annotated="false" data-stacked="false"><div data-is-fullscreened="false"><div><div><header><p>Code Playground<!-- --> </p></header><div><div translate="no"><div><div aria-labelledby="/index.html-:R1bgleiavfelb:-tab" id="/index.html-:R1bgleiavfelb:-tab-panel" role="tabpanel"><div aria-autocomplete="list" aria-label="Code Editor for index.html" aria-multiline="true" role="textbox" tabindex="0" translate="no"><pre><span>&lt;</span><span>style</span><span>&gt;</span>
  .grid <span>{</span>
    <span>display</span><span>:</span> <span>grid</span><span>;</span>
    <span>grid-template-columns</span><span>:</span> <span>35</span><span>%</span> <span>1</span><span>fr</span> <span>1</span><span>fr</span> <span>1</span><span>fr</span><span>;</span>
    
    <span>header</span> <span>{</span>
      <span>grid-row</span><span>:</span> <span>1</span> / <span>3</span><span>;</span>
    <span>}</span>
  <span>}</span>
<span>&lt;/</span><span>style</span><span>&gt;</span>

<span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;grid&#34;</span><span>&gt;</span>
  <span>&lt;</span><span>header</span><span>&gt;</span>
    <span>&lt;</span><span>h1</span><span>&gt;</span>My Portfolio<span>&lt;/</span><span>h1</span><span>&gt;</span>
    <span>&lt;</span><span>p</span><span>&gt;</span>
      A small selection of the works created using Blender. No robots or AI involved.
    <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;</span><span>p</span><span>&gt;</span>
      In a real artist portfolio, there would be more text here.
    <span>&lt;/</span><span>p</span><span>&gt;</span>
  <span>&lt;/</span><span>header</span><span>&gt;</span>
  <span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-sneakers.jpg&#34;</span> <span>/&gt;</span>
  <span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-rocket.jpg&#34;</span> <span>/&gt;</span>
  <span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-fish.jpg&#34;</span> <span>/&gt;</span>
  <span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-guitar-pedals.jpg&#34;</span> <span>/&gt;</span>
  <span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-machine.jpg&#34;</span> <span>/&gt;</span>
  <span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-particles.jpg&#34;</span> <span>/&gt;</span>
<span>&lt;/</span><span>div</span><span>&gt;</span></pre></div></div></div></div></div></div></div></div></div></div></div>

<p>If we check the ‚ÄúGrid‚Äù devtools, we see that this is a 4x2 grid, with the header spanning the first two rows:</p>
<p><img alt="Screenshot of the UI shown above, with grid lines overlaid. The lines are labeled 1 through 5 horizontally, for the 4 columns, and 1 through 3 vertically, for the 2 rows." loading="lazy" width="746" height="409" decoding="async" data-nimg="1" srcset="/_next/image/?url=%2Fimages%2Fsubgrid%2Fgrid-diagram-p3.png&amp;w=750&amp;q=75 1x, /_next/image/?url=%2Fimages%2Fsubgrid%2Fgrid-diagram-p3.png&amp;w=1920&amp;q=75 2x" src="https://hannahilea.com/_next/image/?url=%2Fimages%2Fsubgrid%2Fgrid-diagram-p3.png&amp;w=1920&amp;q=75"/></p>
<p>In order for this to work <em>without</em> subgrid, every grid participant has to be a direct child of the <code>.grid</code> container. Sure enough, if we inspect the HTML, we see the following structure:</p>
<div translate="no" data-less-bottom-margin="false"><div><pre><code><span><span>&lt;</span><span>div</span><span> class</span><span>=</span><span>&#34;</span><span>grid</span><span>&#34;</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>header</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>h1</span><span>&gt;</span><span>‚Ä¶</span><span>&lt;/</span><span>h1</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>p</span><span>&gt;</span><span>‚Ä¶</span><span>&lt;/</span><span>p</span><span>&gt;</span></span>
<span><span>  &lt;/</span><span>header</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>img</span><span> alt</span><span>=</span><span>&#34;</span><span>‚Ä¶</span><span>&#34;</span><span> src</span><span>=</span><span>&#34;</span><span>/img/thumb-sneakers.jpg</span><span>&#34;</span><span> /&gt;</span></span>
<span><span>  &lt;</span><span>img</span><span> alt</span><span>=</span><span>&#34;</span><span>‚Ä¶</span><span>&#34;</span><span> src</span><span>=</span><span>&#34;</span><span>/img/thumb-rocket.jpg</span><span>&#34;</span><span> /&gt;</span></span>
<span><span>  &lt;</span><span>img</span><span> alt</span><span>=</span><span>&#34;</span><span>‚Ä¶</span><span>&#34;</span><span> src</span><span>=</span><span>&#34;</span><span>/img/thumb-fish.jpg</span><span>&#34;</span><span> /&gt;</span></span>
<span><span>  &lt;</span><span>img</span><span> alt</span><span>=</span><span>&#34;</span><span>‚Ä¶</span><span>&#34;</span><span> src</span><span>=</span><span>&#34;</span><span>/img/thumb-guitar-pedals.jpg</span><span>&#34;</span><span> /&gt;</span></span>
<span><span>  &lt;</span><span>img</span><span> alt</span><span>=</span><span>&#34;</span><span>‚Ä¶</span><span>&#34;</span><span> src</span><span>=</span><span>&#34;</span><span>/img/thumb-machine.jpg</span><span>&#34;</span><span> /&gt;</span></span>
<span><span>  &lt;</span><span>img</span><span> alt</span><span>=</span><span>&#34;</span><span>‚Ä¶</span><span>&#34;</span><span> src</span><span>=</span><span>&#34;</span><span>/img/thumb-particles.jpg</span><span>&#34;</span><span> /&gt;</span></span>
<span><span>&lt;/</span><span>div</span><span>&gt;</span></span></code></pre></div></div>
<p>Semantically, this feels a bit <em>funky</em> to me. I feel like these images should be grouped in a list, since we‚Äôre displaying a <i>collection</i> of portfolio pieces. Proper semantic markup will provide more context to folks using assistive technologies like screen readers, and to search engines that are trying to make sense of our page.</p>
<p>Unfortunately, adding this extra markup throws a wrench into the grid:</p>
<!-- --><div><div><div data-id="portfolio-busted" data-can-be-annotated="false" data-stacked="false"><div data-is-fullscreened="false"><div><div><header><p>Code Playground<!-- --> </p></header><div><div translate="no"><div><div aria-labelledby="/index.html-:R1bh5eiavfelb:-tab" id="/index.html-:R1bh5eiavfelb:-tab-panel" role="tabpanel"><div aria-autocomplete="list" aria-label="Code Editor for index.html" aria-multiline="true" role="textbox" tabindex="0" translate="no"><pre><span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;grid&#34;</span><span>&gt;</span>
  <span>&lt;</span><span>header</span><span>&gt;</span>
    <span>&lt;</span><span>h1</span><span>&gt;</span>My Portfolio<span>&lt;/</span><span>h1</span><span>&gt;</span>
    <span>&lt;</span><span>p</span><span>&gt;</span>
      A small selection of the works created using Blender. No robots or AI involved.
    <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;</span><span>p</span><span>&gt;</span>
      In a real artist portfolio, there would be more text here.
    <span>&lt;/</span><span>p</span><span>&gt;</span>
  <span>&lt;/</span><span>header</span><span>&gt;</span>
  
  
  <span>&lt;</span><span>ul</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span><span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-sneakers.jpg&#34;</span> <span>/&gt;</span><span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span><span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-rocket.jpg&#34;</span> <span>/&gt;</span><span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span><span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-fish.jpg&#34;</span> <span>/&gt;</span><span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span><span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-guitar-pedals.jpg&#34;</span> <span>/&gt;</span><span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span><span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-machine.jpg&#34;</span> <span>/&gt;</span><span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span><span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-particles.jpg&#34;</span> <span>/&gt;</span><span>&lt;/</span><span>li</span><span>&gt;</span>
  <span>&lt;/</span><span>ul</span><span>&gt;</span>
<span>&lt;/</span><span>div</span><span>&gt;</span></pre></div></div></div></div></div></div></div></div></div></div></div>
<p>Instead of having each image occupy its own grid cell, we instead cram <em>the entire list of images</em> into a single cell in the second column, leaving the final two columns totally empty. üò¨</p>
<p>CSS subgrid allows us to extend the parent grid through that <code>&lt;ul&gt;</code> tag, so that the images can participate in the main grid. Here‚Äôs what that looks like:</p>
<!-- --><div><div><div data-id="portfolio-with-subgrid" data-can-be-annotated="false" data-stacked="false"><div data-is-fullscreened="false"><div><div><header><p>Code Playground<!-- --> </p></header><div><div translate="no"><div><div aria-labelledby="/index.html-:R1bhbeiavfelb:-tab" id="/index.html-:R1bhbeiavfelb:-tab-panel" role="tabpanel"><div aria-autocomplete="list" aria-label="Code Editor for index.html" aria-multiline="true" role="textbox" tabindex="0" translate="no"><pre><span>&lt;</span><span>style</span><span>&gt;</span>
  .grid <span>{</span>
    <span>display</span><span>:</span> <span>grid</span><span>;</span>
    <span>grid-template-columns</span><span>:</span> <span>35</span><span>%</span> <span>1</span><span>fr</span> <span>1</span><span>fr</span> <span>1</span><span>fr</span><span>;</span>
  <span>}</span>
  .grid <span>header</span> <span>{</span>
    <span>grid-row</span><span>:</span> <span>1</span> / <span>3</span><span>;</span>
  <span>}</span>
  
  .grid <span>ul</span> <span>{</span>
    <span>grid-row</span><span>:</span> <span>span</span> <span>2</span><span>;</span>
    <span>grid-column</span><span>:</span> <span>span</span> <span>3</span><span>;</span>
    <span>display</span><span>:</span> <span>grid</span><span>;</span>
    <span>grid-template-rows</span><span>:</span> <span>subgrid</span><span>;</span>
    <span>grid-template-columns</span><span>:</span> <span>subgrid</span><span>;</span>
  <span>}</span>
<span>&lt;/</span><span>style</span><span>&gt;</span>

<span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;grid&#34;</span><span>&gt;</span>
  <span>&lt;</span><span>header</span><span>&gt;</span>
    <span>&lt;</span><span>h1</span><span>&gt;</span>My Portfolio<span>&lt;/</span><span>h1</span><span>&gt;</span>
    <span>&lt;</span><span>p</span><span>&gt;</span>
      A small selection of the works created using Blender. No robots or AI involved.
    <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;</span><span>p</span><span>&gt;</span>
      In a real artist portfolio, there would be more text here.
    <span>&lt;/</span><span>p</span><span>&gt;</span>
  <span>&lt;/</span><span>header</span><span>&gt;</span>
  
  <span>&lt;</span><span>ul</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span><span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-sneakers.jpg&#34;</span> <span>/&gt;</span><span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span><span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-rocket.jpg&#34;</span> <span>/&gt;</span><span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span><span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-fish.jpg&#34;</span> <span>/&gt;</span><span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span><span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-guitar-pedals.jpg&#34;</span> <span>/&gt;</span><span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span><span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-machine.jpg&#34;</span> <span>/&gt;</span><span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;</span><span>li</span><span>&gt;</span><span>&lt;</span><span>img</span> <span>alt</span>=<span>&#34;‚Ä¶&#34;</span> <span>src</span>=<span>&#34;/img/thumb-particles.jpg&#34;</span> <span>/&gt;</span><span>&lt;/</span><span>li</span><span>&gt;</span>
  <span>&lt;/</span><span>ul</span><span>&gt;</span>
<span>&lt;/</span><span>div</span><span>&gt;</span></pre></div></div></div></div></div></div></div></div></div></div></div>
<p>There‚Äôs a lot going on here, so let‚Äôs unpack it.</p>
<ol>
<li><p>Using <code>grid-column</code> and <code>grid-row</code>, we assign the <code>&lt;ul&gt;</code> to span three columns and two rows. This is how we specify <i>which portion</i> of the grid we want to share with the <code>&lt;ul&gt;</code>‚Äôs descendants. We‚Äôll dig more into this later.</p></li>
<li><p>Next, we apply <code>display: grid</code> to the <code>&lt;ul&gt;</code>, to create a new child grid.</p></li>
<li><p>Finally, we pass along the row/column definitions using <code>grid-template-rows</code> and <code>grid-template-columns</code>. The <code>subgrid</code> keyword is the key bit of magic that ties the two grids together, allowing each <code>&lt;li&gt;</code> to occupy its own cell in the parent grid.</p></li>
</ol>

<p>When I first learned about subgrid, this is the sort of scenario I was imagining: cases where nested HTML elements like <code>&lt;ul&gt;</code> + <code>&lt;li&gt;</code> or <code>&lt;figure&gt;</code> + <code>&lt;figcaption&gt;</code> block us from assigning the actual UI elements to the grid. CSS subgrid <i>is</i> a nifty lil‚Äô escape hatch for these types of situations!</p>
<p><strong>That said, it&#39;s not like we haven‚Äôt had other ways to solve these kinds of problems.</strong> Instead of sharing a single CSS grid template with subgrid, we could instead combine a Flexbox row with a nested grid:</p>
<!-- --><div><div><div data-id="portfolio-alternative-implementation" data-can-be-annotated="false" data-stacked="false"><div data-is-fullscreened="false"><div><div><header><p>Code Playground<!-- --> </p></header><div><div translate="no"><div><div aria-labelledby="/index.html-:R1bhneiavfelb:-tab" id="/index.html-:R1bhneiavfelb:-tab-panel" role="tabpanel"><div aria-autocomplete="list" aria-label="Code Editor for index.html" aria-multiline="true" role="textbox" tabindex="0" translate="no"><pre><span>&lt;</span><span>style</span><span>&gt;</span>
  
  .wrapper <span>{</span>
    <span>display</span><span>:</span> <span>flex</span><span>;</span>
    
    
    <span>header</span> <span>{</span>
      <span>flex-basis</span><span>:</span> <span>35</span><span>%</span><span>;</span>
    <span>}</span>
    
    
    .grid <span>{</span>
      <span>flex</span><span>:</span> <span>1</span><span>;</span>
      <span>display</span><span>:</span> <span>grid</span><span>;</span>
      <span>grid-template-columns</span><span>:</span> <span>1</span><span>fr</span> <span>1</span><span>fr</span> <span>1</span><span>fr</span><span>;</span>
    <span>}</span>
  <span>}</span>
<span>&lt;/</span><span>style</span><span>&gt;</span>

<span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;wrapper&#34;</span><span>&gt;</span>
  <span>&lt;</span><span>header</span><span>&gt;</span>
    <span>&lt;</span><span>h1</span><span>&gt;</span>My Portfolio<span>&lt;/</span><span>h1</span><span>&gt;</span>
    <span>&lt;</span><span>p</span><span>&gt;</span>
      A small selection of the works created using Blender. No robots or AI involved.
    <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;</span><span>p</span><span>&gt;</span>
      In a real artist portfolio, there would be more text here.
    <span>&lt;/</span><span>p</span><span>&gt;</span>
  <span>&lt;/</span><span>header</span><span>&gt;</span>
  
  <span>&lt;</span><span>ul</span> <span>class</span>=<span>&#34;grid&#34;</span><span>&gt;</span>
    <span>&lt;</span><span>img</span> <span>src</span>=<span>&#34;/img/thumb-sneakers.jpg&#34;</span> <span>/&gt;</span>
    <span>&lt;</span><span>img</span> <span>src</span>=<span>&#34;/img/thumb-rocket.jpg&#34;</span> <span>/&gt;</span>
    <span>&lt;</span><span>img</span> <span>src</span>=<span>&#34;/img/thumb-fish.jpg&#34;</span> <span>/&gt;</span>
    <span>&lt;</span><span>img</span> <span>src</span>=<span>&#34;/img/thumb-guitar-pedals.jpg&#34;</span> <span>/&gt;</span>
    <span>&lt;</span><span>img</span> <span>src</span>=<span>&#34;/img/thumb-machine.jpg&#34;</span> <span>/&gt;</span>
    <span>&lt;</span><span>img</span> <span>src</span>=<span>&#34;/img/thumb-particles.jpg&#34;</span> <span>/&gt;</span>
  <span>&lt;/</span><span>ul</span><span>&gt;</span>
<span>&lt;/</span><span>div</span><span>&gt;</span></pre></div></div></div></div></div></div></div></div></div></div></div>
<p>Instead of trying to rig everything up to use a single grid structure, we can often create the same layout with nested combinations of Flexbox/Grid. And honestly, I think I prefer this approach in this case! It feels simpler to me.</p>
<p><strong>But like I said earlier, this isn‚Äôt the most exciting use case for subgrid.</strong> Now that we‚Äôve covered the basic syntax, we can explore some of the more interesting possibilities. üòÑ</p>

<h2 id="new-layout-possibilities" data-element-type="ContentHeading"><a id="new-layout-possibilities-2" href="#new-layout-possibilities-2"><svg viewBox="0 0 24 24" fill="none" style="width:21px;height:21px;opacity:1"><line x1="2" y1="8" x2="22" y2="8" stroke="currentColor"></line><line x1="2" y1="16" x2="22" y2="16" stroke="currentColor"></line><line x1="10" y1="2" x2="6" y2="22" stroke="currentColor"></line><line x1="18" y1="2" x2="14" y2="22" stroke="currentColor"></line></svg><span>Link to this heading</span></a>New layout possibilities</h2>
<p>Sticking with the artist portfolio example, let‚Äôs suppose we have this card design:</p>
<article><img alt="A big yellow pufferfish" src="https://hannahilea.com/images/subgrid/thumb-fish.jpg"/><div><p>Bret‚Äôs Dead Fish</p><p>I created this render for the Animation Design module in my upcoming course,<!-- --> <a rel="noopener noreferrer" target="_blank" href="https://whimsy.joshwcomeau.com/">Whimsical<!-- --> <span>Animations<svg viewBox="0 0 24 24" fill="none" style="width:0.7em;height:0.7em;opacity:1"><mask id="external-icon-mask-:Rbei3eiavfelb:"><rect x="0" y="0" width="24" height="24" fill="white"></rect><rect x="10" y="0" width="16" height="14" fill="black"></rect></mask><rect x="3" y="6" width="15" height="15" rx="2" mask="url(#external-icon-mask-:Rbei3eiavfelb:)"></rect><path d="M 10 14 L 20 4 h -6 h 6 v 6" stroke="currentColor"></path></svg><span>(opens in new tab)</span></span></a>. The fish is a nod to Bret Victor‚Äôs talk, ‚ÄúStop Drawing Dead Fish‚Äù, which is referenced in the course.</p></div></article>
<p>This looks alright on its own, but something funky happens when we put it in a grid:</p>
<!-- --><div><div><div data-id="card-layout-inconsistent" data-can-be-annotated="false" data-stacked="false"><div data-is-fullscreened="false"><div><div><header><p>Code Playground<!-- --> </p></header><div><div translate="no"><div><div aria-labelledby="/index.html-:R1bi7eiavfelb:-tab" id="/index.html-:R1bi7eiavfelb:-tab-panel" role="tabpanel"><div aria-autocomplete="list" aria-label="Code Editor for index.html" aria-multiline="true" role="textbox" tabindex="0" translate="no"><pre><span>&lt;</span><span>style</span><span>&gt;</span>
  .grid <span>{</span>
    <span>display</span><span>:</span> <span>grid</span><span>;</span>
    <span>grid-template-columns</span><span>:</span> <span>1</span><span>fr</span> <span>1</span><span>fr</span><span>;</span>
    
    <span>@media</span> <span>(</span><span>max-width</span><span>:</span> <span>32</span><span>rem</span><span>)</span> <span>{</span>
      <span>grid-template-columns</span><span>:</span> <span>1</span><span>fr</span><span>;</span>
    <span>}</span>
  <span>}</span>
  .grid <span>article</span> <span>{</span>
    <span>display</span><span>:</span> <span>grid</span><span>;</span>
    <span>grid-template-columns</span><span>:</span> <span>2</span><span>fr</span> <span>1</span><span>fr</span><span>;</span>
  <span>}</span>
<span>&lt;/</span><span>style</span><span>&gt;</span>

<span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;grid&#34;</span><span>&gt;</span>
  <span>&lt;</span><span>article</span><span>&gt;</span>
    <span>&lt;</span><span>img</span>
      <span>alt</span>=<span>&#34;A big yellow pufferfish&#34;</span>
      <span>src</span>=<span>&#34;/img/thumb-fish.jpg&#34;</span>
    <span>/&gt;</span>
    <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;content&#34;</span><span>&gt;</span>
      <span>&lt;</span><span>h2</span><span>&gt;</span>Bret‚Äôs Dead Fish<span>&lt;/</span><span>h2</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>
        I created this render for the Animation Design module in my
        upcoming course,
        <span>&lt;</span><span>a</span> <span>href</span>=<span>&#34;https://whimsy.joshwcomeau.com/&#34;</span> <span>target</span>=<span>&#34;_blank&#34;</span>
          <span>&gt;</span>Whimsical Animations<span>&lt;/</span><span>a</span>
        <span>&gt;</span>. The fish is a nod to Bret Victor‚Äôs talk, ‚ÄúStop Drawing Dead
        Fish‚Äù, which is referenced in the course.
      <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;/</span><span>article</span><span>&gt;</span>
  <span>&lt;</span><span>article</span><span>&gt;</span>
    <span>&lt;</span><span>img</span>
      <span>alt</span>=<span>&#34;two white sneakers with pink details and a shiny sparkly rainbow&#34;</span>
      <span>src</span>=<span>&#34;/img/thumb-sneakers.jpg&#34;</span>
    <span>/&gt;</span>
    <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;content&#34;</span><span>&gt;</span>
      <span>&lt;</span><span>h2</span><span>&gt;</span>Big Shoes To Fill<span>&lt;/</span><span>h2</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>
        In this piece, I tried to create my own sneaker design, taking
        inspiration from the Air Force Ones I‚Äôve been wearing for most of
        my adult life. Topographically, shoes are a really weird shape, so
        this was a good challenge!
      <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;/</span><span>article</span><span>&gt;</span>
  <span>&lt;</span><span>article</span><span>&gt;</span>
    <span>&lt;</span><span>img</span>
      <span>alt</span>=<span>&#34;three colorful guitar pedals, with foot controls and knobs&#34;</span>
      <span>src</span>=<span>&#34;/img/thumb-guitar-pedals.jpg&#34;</span>
    <span>/&gt;</span>
    <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;content&#34;</span><span>&gt;</span>
      <span>&lt;</span><span>h2</span><span>&gt;</span>Guitar Pedalboard<span>&lt;/</span><span>h2</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>
        Over the past few years, I‚Äôve been getting back into music
        production, and have started collecting effect pedals. This render
        is my attempt to create my own pedal designs. The middle one is
        meant to look a bit like Zoidberg.
      <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;/</span><span>article</span><span>&gt;</span>
  <span>&lt;</span><span>article</span><span>&gt;</span>
    <span>&lt;</span><span>img</span>
      <span>alt</span>=<span>&#34;A very complicated machine with a plane-style throttle, a piano keyboard, radar, a bunch of sliders and knobs, and so much more&#34;</span>
      <span>src</span>=<span>&#34;/img/thumb-machine.jpg&#34;</span>
    <span>/&gt;</span>
    <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;content&#34;</span><span>&gt;</span>
      <span>&lt;</span><span>h2</span><span>&gt;</span>Infinite Supercomputer<span>&lt;/</span><span>h2</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>
        I spent more time than I‚Äôd care to admit creating an enormous
        machine in Blender, full of weird knobs and sliders and extras. The
        goal was to produce a completely ridiculous cockpit-style panel.
      <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;/</span><span>article</span><span>&gt;</span>
<span>&lt;/</span><span>div</span><span>&gt;</span></pre></div></div></div></div></div></div></div></div></div></div></div>
<p>Notice that the images are different widths? The fish image, for example, is much wider than the final supercomputer image. What‚Äôs going on here? ü§î</p>
<p>Well, let‚Äôs take a look at the CSS. The four cards are arranged in a two-column grid (which shrinks to a one-column grid on smaller screens):</p>
<div translate="no" data-less-bottom-margin="false"><div><pre><code><span><span>.</span><span>grid</span><span> {</span></span>
<span><span>  display</span><span>:</span><span> grid</span><span>;</span></span>
<span><span>  grid-template-columns</span><span>:</span><span> 1</span><span>fr</span><span> 1</span><span>fr</span><span>;</span></span>
<span></span>
<span><span>  @media (</span><span>max-width</span><span>:</span><span> 32</span><span>rem</span><span>) {</span></span>
<span><span>    grid-template-columns</span><span>:</span><span> 1</span><span>fr</span><span>;</span></span>
<span><span>  }</span></span>
<span><span>}</span></span></code></pre></div></div>
<p>We‚Äôre populating this top-level grid with four <code>&lt;article&gt;</code> cards. Each card declares its own two-column grid:</p>
<div translate="no" data-less-bottom-margin="false"><div><pre><code><span><span>.</span><span>grid</span><span> article</span><span> {</span></span>
<span><span>  display</span><span>:</span><span> grid</span><span>;</span></span>
<span><span>  grid-template-columns</span><span>:</span><span> 2</span><span>fr</span><span> 1</span><span>fr</span><span>;</span></span>
<span><span>}</span></span></code></pre></div></div>
<p>The goal here is for the image to take up the lion‚Äôs share of the space within each card, since that‚Äôs the important part (the point of an artist‚Äôs portfolio, after all, is to showcase the art!). <strong>But the <code>fr</code> unit is designed to be flexible;</strong> it will <i>try</i> to match the requested ratio, but it‚Äôll adapt based on the content.</p>
<p><strong>This is actually a very good thing.</strong> We <em>could</em> force the image column to be a fixed size, but we wouldn‚Äôt like the results:</p>
<!-- --><div><div><div data-id="card-layout-overflowing" data-can-be-annotated="false" data-stacked="false"><div data-is-fullscreened="false"><div><div><header><p>Code Playground<!-- --> </p></header><div><div translate="no"><div><div aria-labelledby="/index.html-:R1bineiavfelb:-tab" id="/index.html-:R1bineiavfelb:-tab-panel" role="tabpanel"><div aria-autocomplete="list" aria-label="Code Editor for index.html" aria-multiline="true" role="textbox" tabindex="0" translate="no"><pre><span>&lt;</span><span>style</span><span>&gt;</span>
  .grid <span>{</span>
    <span>display</span><span>:</span> <span>grid</span><span>;</span>
    <span>grid-template-columns</span><span>:</span> <span>1</span><span>fr</span> <span>1</span><span>fr</span><span>;</span>
    
    <span>@media</span> <span>(</span><span>max-width</span><span>:</span> <span>32</span><span>rem</span><span>)</span> <span>{</span>
      <span>grid-template-columns</span><span>:</span> <span>1</span><span>fr</span><span>;</span>
    <span>}</span>
  <span>}</span>
  .grid <span>article</span> <span>{</span>
    <span>display</span><span>:</span> <span>grid</span><span>;</span>
    
    
    <span>grid-template-columns</span><span>:</span> <span>66</span><span>%</span> <span>1</span><span>fr</span><span>;</span>
  <span>}</span>
<span>&lt;/</span><span>style</span><span>&gt;</span>

<span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;grid&#34;</span><span>&gt;</span>
  <span>&lt;</span><span>article</span><span>&gt;</span>
    <span>&lt;</span><span>img</span>
      <span>alt</span>=<span>&#34;A big yellow pufferfish&#34;</span>
      <span>src</span>=<span>&#34;/img/thumb-fish.jpg&#34;</span>
    <span>/&gt;</span>
    <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;content&#34;</span><span>&gt;</span>
      <span>&lt;</span><span>h2</span><span>&gt;</span>Bret‚Äôs Dead Fish<span>&lt;/</span><span>h2</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>
        I created this render for the Animation Design module in my
        upcoming course,
        <span>&lt;</span><span>a</span> <span>href</span>=<span>&#34;https://whimsy.joshwcomeau.com/&#34;</span> <span>target</span>=<span>&#34;_blank&#34;</span>
          <span>&gt;</span>Whimsical Animations<span>&lt;/</span><span>a</span>
        <span>&gt;</span>. The fish is a nod to Bret Victor‚Äôs talk, ‚ÄúStop Drawing Dead
        Fish‚Äù, which is referenced in the course.
      <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;/</span><span>article</span><span>&gt;</span>
  <span>&lt;</span><span>article</span><span>&gt;</span>
    <span>&lt;</span><span>img</span>
      <span>alt</span>=<span>&#34;two white sneakers with pink details and a shiny sparkly rainbow&#34;</span>
      <span>src</span>=<span>&#34;/img/thumb-sneakers.jpg&#34;</span>
    <span>/&gt;</span>
    <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;content&#34;</span><span>&gt;</span>
      <span>&lt;</span><span>h2</span><span>&gt;</span>Big Shoes To Fill<span>&lt;/</span><span>h2</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>
        In this piece, I tried to create my own sneaker design, taking
        inspiration from the Air Force Ones I‚Äôve been wearing for most of
        my adult life. Topographically, shoes are a really weird shape, so
        this was a good challenge!
      <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;/</span><span>article</span><span>&gt;</span>
  <span>&lt;</span><span>article</span><span>&gt;</span>
    <span>&lt;</span><span>img</span>
      <span>alt</span>=<span>&#34;three colorful guitar pedals, with foot controls and knobs&#34;</span>
      <span>src</span>=<span>&#34;/img/thumb-guitar-pedals.jpg&#34;</span>
    <span>/&gt;</span>
    <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;content&#34;</span><span>&gt;</span>
      <span>&lt;</span><span>h2</span><span>&gt;</span>Guitar Pedalboard<span>&lt;/</span><span>h2</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>
        Over the past few years, I‚Äôve been getting back into music
        production, and have started collecting effect pedals. This render
        is my attempt to create my own pedal designs. The middle one is
        meant to look a bit like Zoidberg.
      <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;/</span><span>article</span><span>&gt;</span>
  <span>&lt;</span><span>article</span><span>&gt;</span>
    <span>&lt;</span><span>img</span>
      <span>alt</span>=<span>&#34;A very complicated machine with a plane-style throttle, a piano keyboard, radar, a bunch of sliders and knobs, and so much more&#34;</span>
      <span>src</span>=<span>&#34;/img/thumb-machine.jpg&#34;</span>
    <span>/&gt;</span>
    <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;content&#34;</span><span>&gt;</span>
      <span>&lt;</span><span>h2</span><span>&gt;</span>Infinite Supercomputer<span>&lt;/</span><span>h2</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>
        I spent more time than I‚Äôd care to admit creating an enormous
        machine in Blender, full of weird knobs and sliders and extras. The
        goal was to produce a completely ridiculous cockpit-style panel.
      <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;/</span><span>article</span><span>&gt;</span>
<span>&lt;/</span><span>div</span><span>&gt;</span></pre></div></div></div></div></div></div></div></div></div></div></div>
<p>On certain viewport sizes, the cards simply aren‚Äôt large enough to devote ‚Öîrds of the available space to the image <em>and</em> still contain the text content. If we force that column to have a fixed size, the text could wind up overflowing:</p>
<p><img alt="Screenshot showing the fourth card. The machine image is nice and wide, but the text column is spilling beyond the right edge of the card" loading="lazy" width="436" height="288" decoding="async" data-nimg="1" srcset="/_next/image/?url=%2Fimages%2Fsubgrid%2Ftext-overflowing.png&amp;w=640&amp;q=75 1x, /_next/image/?url=%2Fimages%2Fsubgrid%2Ftext-overflowing.png&amp;w=1080&amp;q=75 2x" src="https://hannahilea.com/_next/image/?url=%2Fimages%2Fsubgrid%2Ftext-overflowing.png&amp;w=1080&amp;q=75"/></p>
<p>So, the flexibility we get from the <code>fr</code> unit is a good thing. <strong>The problem is that each card is doing its own internal calculation.</strong> The heading in the first card (‚ÄúBret‚Äôs Dead Fish‚Äù) is made up of small words, so it can fit comfortably in a narrow column. But the final card‚Äôs heading (‚ÄúInfinite Supercomputer‚Äù) requires quite a bit more room.</p>
<p><strong>If you‚Äôve worked with CSS for a while, you‚Äôve probably gotten stuck in cul-de-sacs like this.</strong> One of the hardest problems in CSS is when <em>siblings</em> need to be aware of each other inside nested / complex layouts.</p>
<p><strong>Miraculously, subgrid offers a solution to these sorts of problems.</strong> Check this out:</p>
<!-- --><div><div><div data-id="card-layout-fixed-with-subgrid" data-can-be-annotated="false" data-stacked="false"><div data-is-fullscreened="false"><div><div><header><p>Code Playground<!-- --> </p></header><div><div translate="no"><div><div aria-labelledby="/index.html-:R1bj3eiavfelb:-tab" id="/index.html-:R1bj3eiavfelb:-tab-panel" role="tabpanel"><div aria-autocomplete="list" aria-label="Code Editor for index.html" aria-multiline="true" role="textbox" tabindex="0" translate="no"><pre><span>&lt;</span><span>style</span><span>&gt;</span>
  .grid <span>{</span>
    <span>display</span><span>:</span> <span>grid</span><span>;</span>
    <span>grid-template-columns</span><span>:</span> <span>repeat</span><span>(</span><span>2</span><span>,</span> <span>2</span><span>fr</span> <span>1</span><span>fr</span><span>)</span><span>;</span>
    
    <span>@media</span> <span>(</span><span>max-width</span><span>:</span> <span>32</span><span>rem</span><span>)</span> <span>{</span>
      <span>grid-template-columns</span><span>:</span> <span>2</span><span>fr</span> <span>1</span><span>fr</span><span>;</span>
    <span>}</span>
  <span>}</span>
  .grid <span>article</span> <span>{</span>
    <span>grid-column</span><span>:</span> <span>span</span> <span>2</span><span>;</span>
    <span>display</span><span>:</span> <span>grid</span><span>;</span>
    <span>grid-template-columns</span><span>:</span> <span>subgrid</span><span>;</span>
  <span>}</span>
<span>&lt;/</span><span>style</span><span>&gt;</span>

<span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;grid&#34;</span><span>&gt;</span>
  <span>&lt;</span><span>article</span><span>&gt;</span>
    <span>&lt;</span><span>img</span>
      <span>alt</span>=<span>&#34;A big yellow pufferfish&#34;</span>
      <span>src</span>=<span>&#34;/img/thumb-fish.jpg&#34;</span>
    <span>/&gt;</span>
    <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;content&#34;</span><span>&gt;</span>
      <span>&lt;</span><span>h2</span><span>&gt;</span>Bret‚Äôs Dead Fish<span>&lt;/</span><span>h2</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>
        I created this render for the Animation Design module in my
        upcoming course,
        <span>&lt;</span><span>a</span> <span>href</span>=<span>&#34;https://whimsy.joshwcomeau.com/&#34;</span> <span>target</span>=<span>&#34;_blank&#34;</span>
          <span>&gt;</span>Whimsical Animations<span>&lt;/</span><span>a</span>
        <span>&gt;</span>. The fish is a nod to Bret Victor‚Äôs talk, ‚ÄúStop Drawing Dead
        Fish‚Äù, which is referenced in the course.
      <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;/</span><span>article</span><span>&gt;</span>
  <span>&lt;</span><span>article</span><span>&gt;</span>
    <span>&lt;</span><span>img</span>
      <span>alt</span>=<span>&#34;two white sneakers with pink details and a shiny sparkly rainbow&#34;</span>
      <span>src</span>=<span>&#34;/img/thumb-sneakers.jpg&#34;</span>
    <span>/&gt;</span>
    <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;content&#34;</span><span>&gt;</span>
      <span>&lt;</span><span>h2</span><span>&gt;</span>Big Shoes To Fill<span>&lt;/</span><span>h2</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>
        In this piece, I tried to create my own sneaker design, taking
        inspiration from the Air Force Ones I‚Äôve been wearing for most of
        my adult life. Topographically, shoes are a really weird shape, so
        this was a good challenge!
      <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;/</span><span>article</span><span>&gt;</span>
  <span>&lt;</span><span>article</span><span>&gt;</span>
    <span>&lt;</span><span>img</span>
      <span>alt</span>=<span>&#34;three colorful guitar pedals, with foot controls and knobs&#34;</span>
      <span>src</span>=<span>&#34;/img/thumb-guitar-pedals.jpg&#34;</span>
    <span>/&gt;</span>
    <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;content&#34;</span><span>&gt;</span>
      <span>&lt;</span><span>h2</span><span>&gt;</span>Guitar Pedalboard<span>&lt;/</span><span>h2</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>
        Over the past few years, I‚Äôve been getting back into music
        production, and have started collecting effect pedals. This render
        is my attempt to create my own pedal designs. The middle one is
        meant to look a bit like Zoidberg.
      <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;/</span><span>article</span><span>&gt;</span>
  <span>&lt;</span><span>article</span><span>&gt;</span>
    <span>&lt;</span><span>img</span>
      <span>alt</span>=<span>&#34;A very complicated machine with a plane-style throttle, a piano keyboard, radar, a bunch of sliders and knobs, and so much more&#34;</span>
      <span>src</span>=<span>&#34;/img/thumb-machine.jpg&#34;</span>
    <span>/&gt;</span>
    <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;content&#34;</span><span>&gt;</span>
      <span>&lt;</span><span>h2</span><span>&gt;</span>Infinite Supercomputer<span>&lt;/</span><span>h2</span><span>&gt;</span>
      <span>&lt;</span><span>p</span><span>&gt;</span>
        I spent more time than I‚Äôd care to admit creating an enormous
        machine in Blender, full of weird knobs and sliders and extras. The
        goal was to produce a completely ridiculous cockpit-style panel.
      <span>&lt;/</span><span>p</span><span>&gt;</span>
    <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;/</span><span>article</span><span>&gt;</span>
<span>&lt;/</span><span>div</span><span>&gt;</span></pre></div></div></div></div></div></div></div></div></div></div></div>
<p><strong>How cool is this??</strong> ü§Ø</p>
<div data-breakpoint="smAndSmaller"><p>In the original version, the parent grid was a one-column layout (on smaller screens), and it contained a bunch of independent grids. In this new version, the <i>parent</i> grid holds the two-column layout:</p><p><img alt="The grid from the playground above, showing that each card has an image which is 95.85px wide and a text column that is 96.15px wide" loading="lazy" width="485" height="580" decoding="async" data-nimg="1" srcset="/_next/image/?url=%2Fimages%2Fsubgrid%2Fcard-subgrid-diagram-mobile.png&amp;w=640&amp;q=75 1x, /_next/image/?url=%2Fimages%2Fsubgrid%2Fcard-subgrid-diagram-mobile.png&amp;w=1080&amp;q=75 2x" src="https://hannahilea.com/_next/image/?url=%2Fimages%2Fsubgrid%2Fcard-subgrid-diagram-mobile.png&amp;w=1080&amp;q=75"/></p></div>
<div data-breakpoint="smAndLarger"><p>In the original version, the parent grid was a two-column layout, with each card assigned to a grid cell. In this new version, the parent grid grows to <i>four</i> columns:</p><p><img alt="The grid from the playground above, showing that the two image columns (1 and 3) are the same size at 67px. The second column is 73px, and the final column is 96px." loading="lazy" width="746" height="650" decoding="async" data-nimg="1" srcset="/_next/image/?url=%2Fimages%2Fsubgrid%2Fcard-subgrid-diagram.png&amp;w=750&amp;q=75 1x, /_next/image/?url=%2Fimages%2Fsubgrid%2Fcard-subgrid-diagram.png&amp;w=1920&amp;q=75 2x" src="https://hannahilea.com/_next/image/?url=%2Fimages%2Fsubgrid%2Fcard-subgrid-diagram.png&amp;w=1920&amp;q=75"/></p></div>
<p>Each <code>&lt;article&gt;</code> will span two of these columns (<code>grid-column: span 2</code>), and inherits the column definitions from the parent (<code>grid-template-column: subgrid</code>).</p>
<p><strong>As a result, the grid can dynamically react to content changes.</strong> Try erasing the word ‚ÄúSupercomputer‚Äù in the playground above and notice how the columns readjust!</p>
<p><strong>As a result, the grid can dynamically react to content changes.</strong> If that final card (‚ÄúInfinite Supercomputer‚Äù) had a shorter title, the whole grid would rearrange, shrinking the text columns and allowing more of the images to be shown.</p>
<p>Honestly, I‚Äôm not really used to thinking about layouts like this. Before subgrid, I would‚Äôve solved this problem by picking a very narrow fixed width for the image column, so that there was always enough space for the text column. This would ensure that the layout never breaks, but remember, the goal of a portfolio is to display as much of the images as possible! Subgrid allows us to adapt to the content dynamically, so that we can produce the best possible UI in various contexts.</p>
<p><strong>This is where subgrid truly shines, in my opinion.</strong> By extending the grid downwards, it means that we can allow siblings to become responsive to each other, in a way that hasn‚Äôt been possible until now. ‚ú®</p>
<h2 id="subgrid-gotchas" data-element-type="ContentHeading"><a id="subgrid-gotchas-3" href="#subgrid-gotchas-3"><svg viewBox="0 0 24 24" fill="none" style="width:21px;height:21px;opacity:1"><line x1="2" y1="8" x2="22" y2="8" stroke="currentColor"></line><line x1="2" y1="16" x2="22" y2="16" stroke="currentColor"></line><line x1="10" y1="2" x2="6" y2="22" stroke="currentColor"></line><line x1="18" y1="2" x2="14" y2="22" stroke="currentColor"></line></svg><span>Link to this heading</span></a>Subgrid Gotchas</h2>
<p>As I‚Äôve been experimenting with subgrid, there have been a couple of things that have caught me off guard. Let‚Äôs go over them, so that you‚Äôre well-prepared!</p>
<h3 id="reserving-space-for-the-subgrid" data-element-type="ContentHeading"><a id="reserving-space-for-the-subgrid-4" href="#reserving-space-for-the-subgrid-4"><svg viewBox="0 0 24 24" fill="none" style="width:18px;height:18px;opacity:1"><line x1="2" y1="8" x2="22" y2="8" stroke="currentColor"></line><line x1="2" y1="16" x2="22" y2="16" stroke="currentColor"></line><line x1="10" y1="2" x2="6" y2="22" stroke="currentColor"></line><line x1="18" y1="2" x2="14" y2="22" stroke="currentColor"></line></svg><span>Link to this heading</span></a>Reserving space for the subgrid</h3>
<p>Sharing <em>columns</em> with subgrid tends to be pretty intuitive, but things get a bit more quirky when sharing <em>rows</em>.</p>
<p>To help me explain, let‚Äôs look at a different example. Suppose our design team wants us to build the following pricing UI, to show the features included at different price tiers:</p>
<p><img alt="two cards side-by-side, listing the features included with two different packages. The text for each feature is sometimes long enough that it wraps onto a second line, but the two lists stay perfectly aligned, so that the first line of each feature is sitting on the same baseline as the equivalent feature in the opposite card" loading="lazy" width="691" height="574" decoding="async" data-nimg="1" srcset="/_next/image/?url=%2Fimages%2Fsubgrid%2Fpricing-cards-mockup-2.png&amp;w=750&amp;q=75 1x, /_next/image/?url=%2Fimages%2Fsubgrid%2Fpricing-cards-mockup-2.png&amp;w=1920&amp;q=75 2x" src="https://hannahilea.com/_next/image/?url=%2Fimages%2Fsubgrid%2Fpricing-cards-mockup-2.png&amp;w=1920&amp;q=75"/></p>
<p>This <i>seems</i> like a pretty straightforward task, but the devil is in the details. If we use a typical Grid or Flexbox strategy, we‚Äôll wind up with asymmetrical rows:</p>
<p><img alt="two cards side-by-side, listing the features included with two different packages. The text for each feature is sometimes long enough that it wraps onto a second line, but the two lists stay perfectly aligned, so that the first line of each feature is sitting on the same baseline as the equivalent feature in the opposite card" loading="lazy" width="691" height="528" decoding="async" data-nimg="1" srcset="/_next/image/?url=%2Fimages%2Fsubgrid%2Fpricing-cards-askew-2.png&amp;w=750&amp;q=75 1x, /_next/image/?url=%2Fimages%2Fsubgrid%2Fpricing-cards-askew-2.png&amp;w=1920&amp;q=75 2x" src="https://hannahilea.com/_next/image/?url=%2Fimages%2Fsubgrid%2Fpricing-cards-askew-2.png&amp;w=1920&amp;q=75"/></p>
<p>This might <em>look</em> right at a quick glance, but notice how the features don‚Äôt line up. In the original mockup, the first line of every feature is perfectly aligned with the same feature in the opposite card!</p>
<p>Historically, the only way to achieve this sort of thing in CSS has been with Table layout (using <code>&lt;table&gt;</code> tags, or <code>display: table</code>). It‚Äôs not really practical to use a table here, though, since we‚Äôd need each card to be its own column in the same table, and we can‚Äôt easily style table columns.</p>
<p><strong>Subgrid to the rescue!</strong> At least in theory, we should be able to let both cards share a single grid, like this:</p>
<p><img alt="The mockup from earlier but with the Grid devtools overlay, showing that each feature is perfectly aligned in a row across both cards" loading="lazy" width="691" height="574" decoding="async" data-nimg="1" srcset="/_next/image/?url=%2Fimages%2Fsubgrid%2Fpricing-cards-inspector-2.png&amp;w=750&amp;q=75 1x, /_next/image/?url=%2Fimages%2Fsubgrid%2Fpricing-cards-inspector-2.png&amp;w=1920&amp;q=75 2x" src="https://hannahilea.com/_next/image/?url=%2Fimages%2Fsubgrid%2Fpricing-cards-inspector-2.png&amp;w=1920&amp;q=75"/></p>
<p>Unfortunately, there‚Äôs a very easy mistake to make. See if you can spot the problem with this code:</p>
<!-- --><div><div><div data-id="feature-list-missing-grid-row" data-can-be-annotated="false" data-stacked="false"><div data-is-fullscreened="false"><div><div><header><p>Code Playground<!-- --> </p></header><div><div translate="no"><div><div aria-labelledby="/index.html-:R1bkfeiavfelb:-tab" id="/index.html-:R1bkfeiavfelb:-tab-panel" role="tabpanel"><div aria-autocomplete="list" aria-label="Code Editor for index.html" aria-multiline="true" role="textbox" tabindex="0" translate="no"><pre><span>&lt;</span><span>style</span><span>&gt;</span>
  .grid <span>{</span>
    <span>display</span><span>:</span> <span>grid</span><span>;</span>
    <span>grid-template-columns</span><span>:</span> <span>1</span><span>fr</span> <span>1</span><span>fr</span><span>;</span>

    .card<span>,</span> .card <span>ul</span> <span>{</span>
      <span>display</span><span>:</span> <span>grid</span><span>;</span>
      <span>grid-template-rows</span><span>:</span> <span>subgrid</span><span>;</span>
    <span>}</span>
  <span>}</span>
<span>&lt;/</span><span>style</span><span>&gt;</span>

<span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;grid&#34;</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;card&#34;</span><span>&gt;</span>
    <span>&lt;</span><span>h2</span><span>&gt;</span>Pro Package<span>&lt;/</span><span>h2</span><span>&gt;</span>
    <span>&lt;</span><span>ul</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Up to 4 team accounts.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Basic workflows.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Connect with Slack‚Ñ¢.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Up to 3 knowledge bases, with 100gb total storage.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Limited AI assistant (depending on region and language).<span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;/</span><span>ul</span><span>&gt;</span>
  <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;card&#34;</span><span>&gt;</span>
    <span>&lt;</span><span>h2</span><span>&gt;</span>Enterprise Package<span>&lt;/</span><span>h2</span><span>&gt;</span>
    <span>&lt;</span><span>ul</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Unlimited team accounts.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Advanced, fully-customizeable workflows.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Connect with Slack‚Ñ¢, Microsoft Teams‚Ñ¢, Discord‚Ñ¢, and 5 other popular integrations.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Unlimited knowledge bases.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Unlimited robots. ü§ñ<span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;/</span><span>ul</span><span>&gt;</span>
  <span>&lt;/</span><span>div</span><span>&gt;</span>
<span>&lt;/</span><span>div</span><span>&gt;</span></pre></div></div></div></div></div></div></div></div></div></div></div>
<p>All of the text is clumped up in the same spot! If we inspect this using the Grid devtools, we discover that we‚Äôve wound up with a 2√ó1 grid. All of the content within each card is smushed into a single row. üò¨</p>
<p>Typically, with CSS Grid, we don‚Äôt need to explicitly define any rows. I usually define the number of <i>columns</i>, and trust the grid algorithm to add new rows as-needed, so that each child gets its own grid cell.</p>
<p>Unfortunately, with subgrid, it doesn&#39;t quite work like this. By default, our child grid will only span a single grid column/row. If we want it to occupy <em>multiple</em> rows, we need to reserve them explicitly.</p>
<p>Here‚Äôs what the fix looks like:</p>
<!-- --><div><div><div data-id="feature-list-fixed" data-can-be-annotated="false" data-stacked="false"><div data-is-fullscreened="false"><div><div><header><p>Code Playground<!-- --> </p></header><div><div translate="no"><div><div aria-labelledby="/index.html-:R1bkpeiavfelb:-tab" id="/index.html-:R1bkpeiavfelb:-tab-panel" role="tabpanel"><div aria-autocomplete="list" aria-label="Code Editor for index.html" aria-multiline="true" role="textbox" tabindex="0" translate="no"><pre><span>&lt;</span><span>style</span><span>&gt;</span>
  .grid <span>{</span>
    <span>display</span><span>:</span> <span>grid</span><span>;</span>
    <span>grid-template-columns</span><span>:</span> <span>1</span><span>fr</span> <span>1</span><span>fr</span><span>;</span>

    .card <span>{</span>
      
      <span>grid-row</span><span>:</span> <span>span</span> <span>6</span><span>;</span>
      <span>display</span><span>:</span> <span>grid</span><span>;</span>
      <span>grid-template-rows</span><span>:</span> <span>subgrid</span><span>;</span>
    <span>}</span>
    .card <span>ul</span> <span>{</span>
      
      <span>grid-row</span><span>:</span> <span>span</span> <span>5</span><span>;</span>
      <span>display</span><span>:</span> <span>grid</span><span>;</span>
      <span>grid-template-rows</span><span>:</span> <span>subgrid</span><span>;</span>
    <span>}</span>
  <span>}</span>
<span>&lt;/</span><span>style</span><span>&gt;</span>

<span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;grid&#34;</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;card&#34;</span><span>&gt;</span>
    <span>&lt;</span><span>h2</span><span>&gt;</span>Pro Package<span>&lt;/</span><span>h2</span><span>&gt;</span>
    <span>&lt;</span><span>ul</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Up to 4 team accounts.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Basic workflows.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Connect with Slack‚Ñ¢.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Up to 3 knowledge bases, with 100gb total storage.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Limited AI assistant (depending on region and language).<span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;/</span><span>ul</span><span>&gt;</span>
  <span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;card&#34;</span><span>&gt;</span>
    <span>&lt;</span><span>h2</span><span>&gt;</span>Enterprise Package<span>&lt;/</span><span>h2</span><span>&gt;</span>
    <span>&lt;</span><span>ul</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Unlimited team accounts.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Advanced, fully-customizeable workflows.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Connect with Slack‚Ñ¢, Microsoft Teams‚Ñ¢, Discord‚Ñ¢, and 5 other popular integrations.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Unlimited knowledge bases.<span>&lt;/</span><span>li</span><span>&gt;</span>
      <span>&lt;</span><span>li</span><span>&gt;</span>Unlimited robots. ü§ñ<span>&lt;/</span><span>li</span><span>&gt;</span>
    <span>&lt;/</span><span>ul</span><span>&gt;</span>
  <span>&lt;/</span><span>div</span><span>&gt;</span>
<span>&lt;/</span><span>div</span><span>&gt;</span></pre></div></div></div></div></div></div></div></div></div></div></div>
<p>The extra-complicated thing about this setup is that we‚Äôre extending the grid down <em>two</em> layers:</p>
<ul>
<li><span><svg xmlns="http://www.w3.org/2000/svg" width="1.25rem" height="1.25rem" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></span><p>First, we extend it to <code>&lt;div class=&#34;card&#34;&gt;</code>, which includes an <code>&lt;h2&gt;</code> and a <code>&lt;ul&gt;</code>.</p></li>
<li><span><svg xmlns="http://www.w3.org/2000/svg" width="1.25rem" height="1.25rem" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></span><p>Next, we extend it to that child <code>&lt;ul&gt;</code>, so that the individual list items each get their own row.</p></li>
</ul>
<p>There are 5 list items in this case, which means we need 6 rows total (one for the heading, five for the list). If we don‚Äôt ‚Äúreserve‚Äù all of these rows explicitly, then the browser will shove everything into a single row and make a big mess, like we saw above. I‚Äôm not exactly sure <em>why</em> the typical auto-assignment algorithm doesn‚Äôt work with subgrid, but I assume there‚Äôs some technical limitation.</p>
<p><strong>This is mind-bending stuff, but it becomes intuitive with a bit of practice.</strong> The thing to keep in mind is that subgrids, by default, will only occupy a single grid cell. In order to spread a group of items across multiple grid rows, the subgrid must first stretch across that area itself.</p>

<h3 id="nested-grid-numbers" data-element-type="ContentHeading"><a id="nested-grid-numbers-5" href="#nested-grid-numbers-5"><svg viewBox="0 0 24 24" fill="none" style="width:18px;height:18px;opacity:1"><line x1="2" y1="8" x2="22" y2="8" stroke="currentColor"></line><line x1="2" y1="16" x2="22" y2="16" stroke="currentColor"></line><line x1="10" y1="2" x2="6" y2="22" stroke="currentColor"></line><line x1="18" y1="2" x2="14" y2="22" stroke="currentColor"></line></svg><span>Link to this heading</span></a>Nested grid numbers</h3>
<p>We got the gnarliest gotcha out of the way first! I promise the next two won‚Äôt be as intellectually taxing. üòÖ</p>
<p>In CSS grid, the lines between each column are numbered, and we can assign grid children using these numbers. This is something we explore in greater depth in <a href="https://hannahilea.com/css/interactive-guide-to-grid/">‚ÄúAn Interactive Guide to CSS Grid‚Äù</a>:</p>
<!-- --><section></section>
<p>When we inherit a portion of the grid using <code>grid-template-rows: subgrid</code> or <code>grid-template-columns: subgrid</code>, <strong>the line numbers get reset.</strong></p>
<p>Here‚Äôs an example of what I‚Äôm talking about:</p>
<!-- --><div><div><div data-id="grid-line-num-reset" data-can-be-annotated="false" data-stacked="false"><div data-is-fullscreened="false"><div><div><header><p>Code Playground<!-- --> </p></header><div><div><div><div translate="no"><div><div aria-labelledby="/index.html-:Rd7lheiavfelb:-tab" id="/index.html-:Rd7lheiavfelb:-tab-panel" role="tabpanel"><div aria-autocomplete="list" aria-label="Code Editor for index.html" aria-multiline="true" role="textbox" tabindex="0" translate="no"><pre><span>&lt;</span><span>style</span><span>&gt;</span>
  .grid <span>{</span>
    <span>display</span><span>:</span> <span>grid</span><span>;</span>
    <span>grid-template-columns</span><span>:</span>
      <span>repeat</span><span>(</span><span>4</span><span>,</span> <span>1</span><span>fr</span><span>)</span><span>;</span>
    <span>grid-template-rows</span><span>:</span>
      <span>repeat</span><span>(</span><span>4</span><span>,</span> <span>1</span><span>fr</span><span>)</span><span>;</span>

    .subgrid <span>{</span>
      <span>grid-column</span><span>:</span> <span>2</span> / <span>5</span><span>;</span>
      <span>grid-row</span><span>:</span> <span>2</span> / <span>5</span><span>;</span>
      <span>display</span><span>:</span> <span>grid</span><span>;</span>
      <span>grid-template-columns</span><span>:</span> <span>subgrid</span><span>;</span>
      <span>grid-template-rows</span><span>:</span> <span>subgrid</span><span>;</span>

      .child <span>{</span>
        <span>grid-column</span><span>:</span> <span>2</span><span>;</span>
        <span>grid-row</span><span>:</span> <span>2</span><span>;</span>
      <span>}</span>
    <span>}</span>
  <span>}</span>
<span>&lt;/</span><span>style</span><span>&gt;</span>

<span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;grid&#34;</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;subgrid&#34;</span><span>&gt;</span>
    <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;child&#34;</span><span>&gt;</span><span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;/</span><span>div</span><span>&gt;</span>
<span>&lt;/</span><span>div</span><span>&gt;</span></pre></div></div></div></div></div></div></div></div></div></div></div></div></div>
<p>Our yellow <code>.child</code> is assigned to <code>grid-column: 2</code> and <code>grid-row: 2</code>, but it winds up sitting in the <em>third</em> of the grid‚Äôs four rows and columns. ü§î</p>
<p>It turns out that while the grid <em>template</em> is inherited with subgrid, the <em>line indexes</em> don‚Äôt. Our <code>.subgrid</code> grid inherits columns/rows 2 through 4, but internally, they get re-indexed as 1 through 3.</p>
<p>We can see this using the grid devtools in the Elements inspector:</p>
<p><img alt="Screenshot showing the devtools enabled on both the main grid and the subgrid. The main grid has each line labeled 1 through 5. The inner grid spans from lines 2 through 5, but internally they get relabeled as 1 through 4" loading="lazy" width="495" height="495" decoding="async" data-nimg="1" srcset="/_next/image/?url=%2Fimages%2Fsubgrid%2Fnested-grid-inspector.png%3Fv%3D2&amp;w=640&amp;q=75 1x, /_next/image/?url=%2Fimages%2Fsubgrid%2Fnested-grid-inspector.png%3Fv%3D2&amp;w=1080&amp;q=75 2x" src="https://hannahilea.com/_next/image/?url=%2Fimages%2Fsubgrid%2Fnested-grid-inspector.png%3Fv%3D2&amp;w=1080&amp;q=75"/></p>
<p>In my mind, I had been thinking of line numbers as unique IDs, and so I figured that if the subgrid is inheriting the grid template, those IDs would come along for the ride too. But if we think of these line numbers as <em>indices</em> rather than IDs, this behaviour makes a lot more sense. In every grid, the first line has index 1, even if that row/column is inherited from a parent grid.</p>

<h3 id="incompatibility-with-fluid-grids" data-element-type="ContentHeading"><a id="incompatibility-with-fluid-grids-6" href="#incompatibility-with-fluid-grids-6"><svg viewBox="0 0 24 24" fill="none" style="width:18px;height:18px;opacity:1"><line x1="2" y1="8" x2="22" y2="8" stroke="currentColor"></line><line x1="2" y1="16" x2="22" y2="16" stroke="currentColor"></line><line x1="10" y1="2" x2="6" y2="22" stroke="currentColor"></line><line x1="18" y1="2" x2="14" y2="22" stroke="currentColor"></line></svg><span>Link to this heading</span></a>Incompatibility with fluid grids</h3>
<p>Perhaps the most famous grid snippet is this lil‚Äô guy:</p>
<div translate="no" data-less-bottom-margin="false"><div><pre><code><span><span>.</span><span>grid</span><span> {</span></span>
<span><span>  display</span><span>:</span><span> grid</span><span>;</span></span>
<span><span>  grid-template-columns</span><span>:</span><span> repeat</span><span>(</span><span>auto-fill</span><span>,</span><span> minmax</span><span>(</span><span>100</span><span>px</span><span>,</span><span> 1</span><span>fr</span><span>));</span></span>
<span><span>}</span></span></code></pre></div></div>
<p>This is a <em>fluid design</em> concept. Instead of specifying different grid templates at different viewport sizes using media queries, we specify that we want as many columns as possible, as long as they‚Äôre all at least 100px wide (or whatever the minimum specified size is).</p>
<p>Try resizing the ‚ÄúResult‚Äù pane by dragging the vertical divider, and notice how the columns adjust:</p>
<!-- --><div><div><div data-id="magic-snippet" data-can-be-annotated="false" data-stacked="false"><div data-is-fullscreened="false"><div><div><header><p>Code Playground<!-- --> </p></header><div><div><div><div translate="no"><div><div aria-labelledby="/index.html-:Rd7m9eiavfelb:-tab" id="/index.html-:Rd7m9eiavfelb:-tab-panel" role="tabpanel"><div aria-autocomplete="list" aria-label="Code Editor for index.html" aria-multiline="true" role="textbox" tabindex="0" translate="no"><pre><span>&lt;</span><span>style</span><span>&gt;</span>
  .grid <span>{</span>
    <span>display</span><span>:</span> <span>grid</span><span>;</span>
    <span>grid-template-columns</span><span>:</span>
      <span>repeat</span><span>(</span>
        <span>auto-fill</span><span>,</span>
        <span>minmax</span><span>(</span><span>100</span><span>px</span><span>,</span> <span>1</span><span>fr</span><span>)</span>
      <span>)</span><span>;</span>
  <span>}</span>
<span>&lt;/</span><span>style</span><span>&gt;</span>

<span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;grid&#34;</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;child&#34;</span><span>&gt;</span>A<span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;child&#34;</span><span>&gt;</span>B<span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;child&#34;</span><span>&gt;</span>C<span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;child&#34;</span><span>&gt;</span>D<span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;child&#34;</span><span>&gt;</span>E<span>&lt;/</span><span>div</span><span>&gt;</span>
  <span>&lt;</span><span>div</span> <span>class</span>=<span>&#34;child&#34;</span><span>&gt;</span>F<span>&lt;/</span><span>div</span><span>&gt;</span>
<span>&lt;/</span><span>div</span><span>&gt;</span></pre></div></div></div></div></div></div></div></div></div></div></div></div></div>
<p>This is a very cool approach, but unfortunately, it doesn‚Äôt quite work with some of the new UI possibilities introduced by subgrid. For example, the ‚Äúportfolio card‚Äù grid we explored earlier requires that we list the specific number of columns. We can‚Äôt use <code>auto-fill</code> or <code>auto-fit</code>.</p>
<p>(Or, more accurately, I haven‚Äôt found a way to use fluid design in conjunction with that subgrid pattern. If you‚Äôve found a solution, please <a rel="noopener noreferrer" target="_blank" href="https://bsky.app/profile/joshwcomeau.com">let me know on<!-- --> <span>Bluesky!<svg viewBox="0 0 24 24" fill="none" style="width:0.7em;height:0.7em;opacity:1"><mask id="external-icon-mask-:Rbmdeiavfelb:"><rect x="0" y="0" width="24" height="24" fill="white"></rect><rect x="10" y="0" width="16" height="14" fill="black"></rect></mask><rect x="3" y="6" width="15" height="15" rx="2" mask="url(#external-icon-mask-:Rbmdeiavfelb:)"></rect><path d="M 10 14 L 20 4 h -6 h 6 v 6" stroke="currentColor"></path></svg><span>(opens in new tab)</span></span></a>)</p>
<h3 id="supporting-older-browsers" data-element-type="ContentHeading"><a id="supporting-older-browsers-7" href="#supporting-older-browsers-7"><svg viewBox="0 0 24 24" fill="none" style="width:18px;height:18px;opacity:1"><line x1="2" y1="8" x2="22" y2="8" stroke="currentColor"></line><line x1="2" y1="16" x2="22" y2="16" stroke="currentColor"></line><line x1="10" y1="2" x2="6" y2="22" stroke="currentColor"></line><line x1="18" y1="2" x2="14" y2="22" stroke="currentColor"></line></svg><span>Link to this heading</span></a>Supporting older browsers</h3>
<p>Subgrid has been supported across all major browsers since 2023. Surprisingly, though, subgrid support still hasn‚Äôt hit 90% yet (<a rel="noopener noreferrer" target="_blank" href="https://caniuse.com/css-subgrid">according to<!-- --> <span>caniuse<svg viewBox="0 0 24 24" fill="none" style="width:0.7em;height:0.7em;opacity:1"><mask id="external-icon-mask-:Rbmheiavfelb:"><rect x="0" y="0" width="24" height="24" fill="white"></rect><rect x="10" y="0" width="16" height="14" fill="black"></rect></mask><rect x="3" y="6" width="15" height="15" rx="2" mask="url(#external-icon-mask-:Rbmheiavfelb:)"></rect><path d="M 10 14 L 20 4 h -6 h 6 v 6" stroke="currentColor"></path></svg><span>(opens in new tab)</span></span></a>, as of November 2025).</p>
<p>This presents a bit of a challenge. As we‚Äôve seen in this blog post, subgrid enables us to solve problems that were previously unsolvable. What should we do for folks who visit using older browsers?</p>
<p>Well, we can‚Äôt produce an <em>identical</em> experience, but I think with a bit of creative problem-solving, we can come up with alternative layouts that are <i>good enough</i>. Using the artist portfolio example from earlier, we could reconfigure the card layout so that the image is stacked vertically, rather than horizontally:</p>
<p><img alt="The same UI from above, with the four artist portfolio cards showing things like a pufferfish and a large machine. This time, the images are full-width and 140px tall, sitting above the heading and paragraph." loading="lazy" width="710" height="654" decoding="async" data-nimg="1" srcset="/_next/image/?url=%2Fimages%2Fsubgrid%2Fportfolio-cards-fallback.jpg&amp;w=750&amp;q=75 1x, /_next/image/?url=%2Fimages%2Fsubgrid%2Fportfolio-cards-fallback.jpg&amp;w=1920&amp;q=75 2x" src="https://hannahilea.com/_next/image/?url=%2Fimages%2Fsubgrid%2Fportfolio-cards-fallback.jpg&amp;w=1920&amp;q=75"/></p>
<p>We can accomplish this using feature queries. Here‚Äôs what the code looks like:</p>
<div translate="no" data-less-bottom-margin="false"><div><pre><code><span><span>@</span><span>supports</span><span> not</span><span> (</span><span>grid-template-columns</span><span>:</span><span> subgrid</span><span>)</span><span> {</span></span>
<span><span>  .</span><span>grid</span><span> article</span><span> {</span></span>
<span><span>    grid-template-columns</span><span>:</span><span> 1</span><span>fr</span><span>;</span></span>
<span><span>    grid-template-rows</span><span>:</span><span> 140</span><span>px</span><span> 1</span><span>fr</span><span>;</span></span>
<span><span>  }</span></span>
<span><span>}</span></span></code></pre></div></div>
<p>Alternatively, I could have kept the two-column layout but restricted the image column‚Äôs width (eg. <code>grid-template-columns: 50px 1fr</code>). This would‚Äôve preserved the original design for everyone. But I think when it comes to fallbacks, the goal isn&#39;t to be as similar to the original as possible, the goal is to produce the best experience possible. In this particular case, I think a single-column fallback experience works better.</p>
<h2 id="the-darkest-week-of-the-year" data-element-type="ContentHeading"><a id="the-darkest-week-of-the-year-8" href="#the-darkest-week-of-the-year-8"><svg viewBox="0 0 24 24" fill="none" style="width:21px;height:21px;opacity:1"><line x1="2" y1="8" x2="22" y2="8" stroke="currentColor"></line><line x1="2" y1="16" x2="22" y2="16" stroke="currentColor"></line><line x1="10" y1="2" x2="6" y2="22" stroke="currentColor"></line><line x1="18" y1="2" x2="14" y2="22" stroke="currentColor"></line></svg><span>Link to this heading</span></a>The darkest week of the year</h2>
<p>I‚Äôm publishing this post on November 25th, a frankly miserable time of year up here in the northern hemisphere üòÖ. The days are getting shorter, the weather is getting colder, and my favourite season (autumn) is transmogrifying into my least favourite season (winter).</p>
<p>But there is one silver lining about this time of year: <em>everything‚Äôs on sale for Black Friday!</em> üéà</p>
<p>For the past few years, my main focus has been creating comprehensive interactive online courses. I have two flagship courses, <a rel="noopener noreferrer" target="_blank" href="https://css-for-js.dev/">CSS for JavaScript<!-- --> <span>Developers<svg viewBox="0 0 24 24" fill="none" style="width:0.7em;height:0.7em;opacity:1"><mask id="external-icon-mask-:Rmn5eiavfelb:"><rect x="0" y="0" width="24" height="24" fill="white"></rect><rect x="10" y="0" width="16" height="14" fill="black"></rect></mask><rect x="3" y="6" width="15" height="15" rx="2" mask="url(#external-icon-mask-:Rmn5eiavfelb:)"></rect><path d="M 10 14 L 20 4 h -6 h 6 v 6" stroke="currentColor"></path></svg><span>(opens in new tab)</span></span></a> and <a rel="noopener noreferrer" target="_blank" href="https://www.joyofreact.com/">The Joy of<!-- --> <span>React<svg viewBox="0 0 24 24" fill="none" style="width:0.7em;height:0.7em;opacity:1"><mask id="external-icon-mask-:Rn75eiavfelb:"><rect x="0" y="0" width="24" height="24" fill="white"></rect><rect x="10" y="0" width="16" height="14" fill="black"></rect></mask><rect x="3" y="6" width="15" height="15" rx="2" mask="url(#external-icon-mask-:Rn75eiavfelb:)"></rect><path d="M 10 14 L 20 4 h -6 h 6 v 6" stroke="currentColor"></path></svg><span>(opens in new tab)</span></span></a>, and this week, they‚Äôre <a rel="noopener noreferrer" target="_blank" href="https://www.joyforjs.com/">up to 50%<!-- --> <span>off<svg viewBox="0 0 24 24" fill="none" style="width:0.7em;height:0.7em;opacity:1"><mask id="external-icon-mask-:Rnn5eiavfelb:"><rect x="0" y="0" width="24" height="24" fill="white"></rect><rect x="10" y="0" width="16" height="14" fill="black"></rect></mask><rect x="3" y="6" width="15" height="15" rx="2" mask="url(#external-icon-mask-:Rnn5eiavfelb:)"></rect><path d="M 10 14 L 20 4 h -6 h 6 v 6" stroke="currentColor"></path></svg><span>(opens in new tab)</span></span></a>!</p>
<p>If you found this blog post useful, you‚Äôll likely get <em>so much</em> out of my CSS course. We focus on understanding CSS at a deeper level, building an intuition for how the language actually works. No more memorizing snippets, or trying random stuff hoping that the UI will snap into the right shape!</p>
<p><a rel="noopener noreferrer" target="_blank" href="https://www.joyforjs.com/"><img alt="Holy smokes, it&#39;s the Black Friday sale! Save up to 50% on my flagship courses. It‚Äôs time to change your relationship with web development." loading="lazy" width="960" height="540" decoding="async" data-nimg="1" srcset="/_next/image/?url=%2Fimages%2Fblack-friday-banner.png&amp;w=1080&amp;q=75 1x, /_next/image/?url=%2Fimages%2Fblack-friday-banner.png&amp;w=1920&amp;q=75 2x" src="https://hannahilea.com/_next/image/?url=%2Fimages%2Fblack-friday-banner.png&amp;w=1920&amp;q=75"/></a></p>
<p>I know that in the world of e-commerce, things go on sale every other week. <em>That‚Äôs not how I roll, though.</em> I only have one or two sales a year. So this truly is a rare chance to pick up one of my courses for a deep discount. ‚ú®</p>
<p>You can learn more here:</p>
<ul>
<li><span><svg xmlns="http://www.w3.org/2000/svg" width="1.25rem" height="1.25rem" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></span></li>
<li><span><svg xmlns="http://www.w3.org/2000/svg" width="1.25rem" height="1.25rem" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></span></li>
<li><span><svg xmlns="http://www.w3.org/2000/svg" width="1.25rem" height="1.25rem" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"></path><path d="m12 5 7 7-7 7"></path></svg></span></li>
</ul>
<h2 id="in-conclusion" data-element-type="ContentHeading"><a id="in-conclusion-9" href="#in-conclusion-9"><svg viewBox="0 0 24 24" fill="none" style="width:21px;height:21px;opacity:1"><line x1="2" y1="8" x2="22" y2="8" stroke="currentColor"></line><line x1="2" y1="16" x2="22" y2="16" stroke="currentColor"></line><line x1="10" y1="2" x2="6" y2="22" stroke="currentColor"></line><line x1="18" y1="2" x2="14" y2="22" stroke="currentColor"></line></svg><span>Link to this heading</span></a>In conclusion</h2>
<p>One of the coolest websites I‚Äôve seen in a while is <a rel="noopener noreferrer" target="_blank" href="https://stripe.dev/">Stripe‚Äôs developer<!-- --> <span>site<svg viewBox="0 0 24 24" fill="none" style="width:0.7em;height:0.7em;opacity:1"><mask id="external-icon-mask-:Rbnjeiavfelb:"><rect x="0" y="0" width="24" height="24" fill="white"></rect><rect x="10" y="0" width="16" height="14" fill="black"></rect></mask><rect x="3" y="6" width="15" height="15" rx="2" mask="url(#external-icon-mask-:Rbnjeiavfelb:)"></rect><path d="M 10 14 L 20 4 h -6 h 6 v 6" stroke="currentColor"></path></svg><span>(opens in new tab)</span></span></a>.</p>
<p>If we pop open the grid devtools, we see that the <em>entire layout</em> is one big grid, passed down through several layers of subgrids:</p>
<p><img alt="screenshot of stripe.dev, showing a 24-column grid with several subgrids, spread all across the page" loading="lazy" width="686" height="889" decoding="async" data-nimg="1" srcset="/_next/image/?url=%2Fimages%2Fsubgrid%2Fstripe-dot-dev.png&amp;w=750&amp;q=75 1x, /_next/image/?url=%2Fimages%2Fsubgrid%2Fstripe-dot-dev.png&amp;w=1920&amp;q=75 2x" src="https://hannahilea.com/_next/image/?url=%2Fimages%2Fsubgrid%2Fstripe-dot-dev.png&amp;w=1920&amp;q=75"/></p>
<p>This is incredibly cool, and I think it‚Äôs a great demonstration of the maximalist things we can do with subgrid. But, honestly, I think I‚Äôm more excited by the smaller-scale stuff we‚Äôve seen in this blog post. üòÖ</p>
<p>Subgrid is a very versatile new tool, and it can be a bit intimidating and overwhelming, but hopefully this post has given you some ideas for the sorts of things you can start experimenting with. The good news is that you don‚Äôt have to re-architect your entire project in order to start using subgrid! The most powerful parts of subgrid are things which can be incrementally adopted.</p>
<p>Another special thanks to Kevin Powell. The examples in this blog post would‚Äôve been far less compelling without his inspiration. üòÑ</p>
<div data-content-type="blog-post"><div><h3>Last updated on</h3><p>November 25th, 2025</p></div></div></article></main></div></div>
  </body>
</html>
