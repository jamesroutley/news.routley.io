<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/visioncortex/vtracer">Original</a>
    <h1>Vtracer: Next-Gen Raster-to-Vector Conversion</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<h2 tabindex="-1" dir="auto"><a id="user-content-introduction" aria-hidden="true" tabindex="-1" href="#introduction"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Introduction</h2>
<p dir="auto">visioncortex VTracer is an open source software to convert raster images (like jpg &amp; png) into vector graphics (svg). It can vectorize graphics and photographs and trace the curves to output compact vector files.</p>
<p dir="auto">Comparing to <a href="http://potrace.sourceforge.net/" rel="nofollow">Potrace</a> which only accept binarized inputs (Black &amp; White pixmap), VTracer has an image processing pipeline which can handle colored high resolution scans. tl;dr: Potrace uses a <code>O(n^2)</code> fitting algorithm, whereas <code>vtracer</code> is entirely <code>O(n)</code>.</p>
<p dir="auto">Comparing to Adobe Illustrator&#39;s <a href="https://helpx.adobe.com/illustrator/using/image-trace.html" rel="nofollow">Image Trace</a>, VTracer&#39;s output is much more compact (less shapes) as we adopt a stacking strategy and avoid producing shapes with holes.</p>
<p dir="auto">VTracer is originally designed for processing high resolution scans of historic blueprints up to gigapixels. At the same time, VTracer can also handle low resolution pixel art, simulating <code>image-rendering: pixelated</code> for retro game artworks.</p>
<p dir="auto">A technical description of the algorithm is on <a href="https://www.visioncortex.org/vtracer-docs" rel="nofollow">visioncortex.org/vtracer-docs</a>.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-web-app" aria-hidden="true" tabindex="-1" href="#web-app"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Web App</h2>
<p dir="auto">VTracer and its <a href="https://github.com/visioncortex/visioncortex">core library</a> is implemented in <a href="https://www.rust-lang.org/" rel="nofollow">Rust</a>. It provides us a solid foundation to develop robust and efficient algorithms and easily bring it to interactive applications. The webapp is a perfect showcase of the capability of the Rust + wasm platform.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/visioncortex/vtracer/blob/master/docs/images/screenshot-01.png"><img src="https://github.com/visioncortex/vtracer/raw/master/docs/images/screenshot-01.png" alt="screenshot"/></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/visioncortex/vtracer/blob/master/docs/images/screenshot-02.png"><img src="https://github.com/visioncortex/vtracer/raw/master/docs/images/screenshot-02.png" alt="screenshot"/></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-cmd-app" aria-hidden="true" tabindex="-1" href="#cmd-app"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Cmd App</h2>
<div dir="auto" data-snippet-clipboard-copy-content="visioncortex VTracer 0.6.0
A cmd app to convert images into vector graphics.

USAGE:
    vtracer [OPTIONS] --input &lt;input&gt; --output &lt;output&gt;

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information

OPTIONS:
        --colormode &lt;color_mode&gt;                 True color image `color` (default) or Binary image `bw`
    -p, --color_precision &lt;color_precision&gt;      Number of significant bits to use in an RGB channel
    -c, --corner_threshold &lt;corner_threshold&gt;    Minimum momentary angle (degree) to be considered a corner
    -f, --filter_speckle &lt;filter_speckle&gt;        Discard patches smaller than X px in size
    -g, --gradient_step &lt;gradient_step&gt;          Color difference between gradient layers
        --hierarchical &lt;hierarchical&gt;
            Hierarchical clustering `stacked` (default) or non-stacked `cutout`. Only applies to color mode.

    -i, --input &lt;input&gt;                          Path to input raster image
    -m, --mode &lt;mode&gt;                            Curver fitting mode `pixel`, `polygon`, `spline`
    -o, --output &lt;output&gt;                        Path to output vector graphics
        --path_precision &lt;path_precision&gt;        Number of decimal places to use in path string
        --preset &lt;preset&gt;                        Use one of the preset configs `bw`, `poster`, `photo`
    -l, --segment_length &lt;segment_length&gt;
            Perform iterative subdivide smooth until all segments are shorter than this length

    -s, --splice_threshold &lt;splice_threshold&gt;    Minimum angle displacement (degree) to splice a spline"><pre>visioncortex VTracer 0.6.0
A cmd app to convert images into vector graphics.

USAGE:
    vtracer [OPTIONS] --input <span>&lt;</span>input<span>&gt;</span> --output <span>&lt;</span>output<span>&gt;</span>

FLAGS:
    -h, --help       Prints <span>help</span> information
    -V, --version    Prints version information

OPTIONS:
        --colormode <span>&lt;</span>color_mode<span>&gt;</span>                 True color image <span><span>`</span>color<span>`</span></span> (default) or Binary image <span><span>`</span>bw<span>`</span></span>
    -p, --color_precision <span>&lt;</span>color_precision<span>&gt;</span>      Number of significant bits to use <span>in</span> an RGB channel
    -c, --corner_threshold <span>&lt;</span>corner_threshold<span>&gt;</span>    Minimum momentary angle (degree) to be considered a corner
    -f, --filter_speckle <span>&lt;</span>filter_speckle<span>&gt;</span>        Discard patches smaller than X px <span>in</span> size
    -g, --gradient_step <span>&lt;</span>gradient_step<span>&gt;</span>          Color difference between gradient layers
        --hierarchical <span>&lt;</span>hierarchical<span>&gt;</span>
            Hierarchical clustering <span><span>`</span>stacked<span>`</span></span> (default) or non-stacked <span><span>`</span>cutout<span>`</span></span>. Only applies to color mode.

    -i, --input <span>&lt;</span>input<span>&gt;</span>                          Path to input raster image
    -m, --mode <span>&lt;</span>mode<span>&gt;</span>                            Curver fitting mode <span><span>`</span>pixel<span>`</span></span>, <span><span>`</span>polygon<span>`</span></span>, <span><span>`</span>spline<span>`</span></span>
    -o, --output <span>&lt;</span>output<span>&gt;</span>                        Path to output vector graphics
        --path_precision <span>&lt;</span>path_precision<span>&gt;</span>        Number of decimal places to use <span>in</span> path string
        --preset <span>&lt;</span>preset<span>&gt;</span>                        Use one of the preset configs <span><span>`</span>bw<span>`</span></span>, <span><span>`</span>poster<span>`</span></span>, <span><span>`</span>photo<span>`</span></span>
    -l, --segment_length <span>&lt;</span>segment_length<span>&gt;</span>
            Perform iterative subdivide smooth <span>until</span> all segments are shorter than this length

    -s, --splice_threshold <span>&lt;</span>splice_threshold<span>&gt;</span>    Minimum angle displacement (degree) to splice a spline</pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-install" aria-hidden="true" tabindex="-1" href="#install"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Install</h3>
<p dir="auto">You can download pre-built binaries from <a href="https://github.com/visioncortex/vtracer/releases/tag/0.6.0">Releases</a>.</p>
<p dir="auto">You can also install the program from source from <a href="https://crates.io/crates/vtracer" rel="nofollow">crates.io/vtracer</a>:</p>

<h3 tabindex="-1" dir="auto"><a id="user-content-usage" aria-hidden="true" tabindex="-1" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage</h3>
<div dir="auto" data-snippet-clipboard-copy-content="./vtracer --input input.jpg --output output.svg"><pre>./vtracer --input input.jpg --output output.svg</pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-rust-library" aria-hidden="true" tabindex="-1" href="#rust-library"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Rust Library</h2>
<p dir="auto">You can install <a href="https://crates.io/crates/vtracer" rel="nofollow"><code>vtracer</code></a> as a Rust library.</p>

<h2 tabindex="-1" dir="auto"><a id="user-content-python-library" aria-hidden="true" tabindex="-1" href="#python-library"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Python Library</h2>
<p dir="auto">Since <code>0.6</code>, <a href="https://pypi.org/project/vtracer/" rel="nofollow"><code>vtracer</code></a> is also packaged as Python native extensions, thanks to the awesome <a href="https://github.com/PyO3/pyo3">pyo3</a> project.</p>

<h2 tabindex="-1" dir="auto"><a id="user-content-in-the-wild" aria-hidden="true" tabindex="-1" href="#in-the-wild"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>In the wild</h2>
<p dir="auto">VTracer is used by the following projects (feel free to add yours!):</p>
<table>
  <tbody>
    <tr>
      <td><a href="https://logo.aliyun.com/logo#/name" rel="nofollow"><img src="https://github.com/visioncortex/vtracer/raw/master/docs/images/aliyun-logo.png" width="250"/></a>
      </td>
      <td></td>
    </tr>
  </tbody>
</table>
<h2 tabindex="-1" dir="auto"><a id="user-content-anecdotes" aria-hidden="true" tabindex="-1" href="#anecdotes"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Anecdotes</h2>
<blockquote>
<p dir="auto">The following content is an excerpt from my <a href="https://github.com/sponsors/tyt2y3">unpublished</a> <a href="https://github.com/visioncortex/memoir">memoir</a>.</p>
</blockquote>
<h3 tabindex="-1" dir="auto"><a id="user-content-how--when--where-did-vtracer-come-about" aria-hidden="true" tabindex="-1" href="#how--when--where-did-vtracer-come-about"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>How / when / where did VTracer come about?</h3>
<p dir="auto">At my teenage, two open source projects in the vector graphics space inspired me the most: Potrace and Anti-Grain Geometry (AGG).</p>
<p dir="auto">Many years later, in 2020, I was developing a video processing engine. And it became evident that it requires way more investment to be commercially viable. So before abandoning the project, I wanted to publish <em>something</em> as open-source for posterity. At that time, I already developed a prototype vector graphics tracer. It can convert high-resolution scans of hand-drawn blueprints into vectors. But it can only process black and white images, and can only output polygons, not splines.</p>
<p dir="auto">The plan was to fully develop the vectorizer: to handle color images and output splines. I recruited a very talented intern, <a href="https://github.com/shpun817">@shpun817</a>, to work on VTracer. I grafted the frontend of the video processing engine - the <a href="https://www.visioncortex.org/impression-docs#the-clustering-algorithm" rel="nofollow">&#34;The Clustering Algorithm&#34;</a> as the pre-processor.</p>
<p dir="auto">Three months later, we published the first version on Reddit. Out of my surprise, the response of such an underwhelming project was overwhelming.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-whats-next" aria-hidden="true" tabindex="-1" href="#whats-next"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>What&#39;s next?</h2>
<p dir="auto">There are several things in my mind:</p>
<ol dir="auto">
<li>
<p dir="auto">Path simplification. Implement a post-process filter to the output paths to further reduce the number of splines.</p>
</li>
<li>
<p dir="auto">Perfect cut-out mode. Right now in cut-out mode, the shapes do not share boundaries perfectly, but have seams.</p>
</li>
<li>
<p dir="auto">Pencil tracing. Instead of tracing shapes as closed paths, may be we can attempt to skeletonize the shapes as open paths. The output would be clean, fixed width strokes.</p>
</li>
<li>
<p dir="auto">Image cleaning. Right now the tracer works best on losslessly compressed pngs. If an image suffered from jpeg noises, it could impact the tracing quality. We might be able to develop a pre-filtering pass that denoises the input.</p>
</li>
</ol>
<p dir="auto">If you are interested in working on them or willing to sponsor its development, feel free to get in touch.</p>
</article>
          </div></div>
  </body>
</html>
