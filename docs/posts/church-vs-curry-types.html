<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ericnormand.me/article/church-vs-curry-types">Original</a>
    <h1>Church vs. Curry Types</h1>
    
    <div id="readability-page-1" class="page"><div><p>Written by Eric Normand. Published:</p><!-- --> <!-- --><p>July 16, 2014</p><!-- --><p>.</p><!-- --><p> Updated: August 17, 2018.</p></div><div><p>Summary: <em>Static vs dynamic typing debates often flounder because the
debators see from two different perspectives without knowing it.
Learning to identify the two perspectives can calm the discussion. The
tension between the two perspectives has led to Gradual Typing and other
technologies.</em></p>
<p>Many discussions about type systems around the internet fail to be
interesting because one or both parties are not versed in type theory.
There&#39;s a less common (yet related) reason, which I have begun to notice
more and more: people who are not familiar with the <a href="http://en.wikipedia.org/wiki/Simply_typed_lambda_calculus#Intrinsic_vs._extrinsic_interpretations">difference between
Church Types and Curry
Types</a>.
These are also known, respectively, as Intrinsic Types and Extrinsic
types. Because the participants are not aware of the two perspectives,
they blame the other one for ignorance, when in fact they just have a
different perspective.</p>
<p>Church Types are what Haskell has. Church types are named for Alonzo
Church, the inventor of the lambda calculus. In a Church-style system,
types are an <em>intrinsic</em> part of the
<a href="https://ericnormand.me/guide/clojure-collections#two-layers">semantics</a> of the language.
<strong>The language would be different without the types---it may even be
meaningless.</strong> With an intrinsic type system, the meaning of the program
is different from the runtime behavior of the program. One way to think
of this is that so much of the meaning of the program occurs <em>at compile
time</em> that you can begin to think of the program having properties you
can reason about even if you never run the program.</p>
<p>The other kind of types are Curry types (aka extrinsic types). They are
named for Haskell Curry, the man the Haskell language is named after.
Curry-style types is when a system of types is applied that is <strong>not
part of the semantics of the language</strong>. This is what Clojure has in
<code>core.typed</code>. <strong>The meaning of a Clojure program is not dependent on it
passing the type checker</strong>---it can be run without it. The type checker
simply alerts you to type errors in your code. Note that you could
consider your type checker to be your own head, which, as flawed as it
may be, is what most Clojure programmers use. The types could be
anywhere outside of the language.</p>
<p>Each perspective is valuable and bears its own fruit. Intrinsic types
are great because you are <strong>guaranteed to have a
mathematically-sound</strong>^1 safety net at all times. You always have
something you can <em>reason</em> about. Such is not guaranteed for extrinsic
type checkers. They may not be able to reason about your code at all.</p>
<p>Extrinsic types are useful because you can apply <strong>multiple type systems
to your code</strong>^2---or even write something that you don&#39;t know how to
prove is sound. There are more benefits on both sides, but you get the
idea.</p>
<p>We now have a new perspective which is slightly &#34;higher&#34; than either of
them. We can now see that both perspectives exist and talk about them as
such. <strong>What can we see/say now that we couldn&#39;t before?</strong></p>
<p>A famous <a href="http://existentialtype.wordpress.com/2011/03/19/dynamic-languages-are-static-languages/">article by Robert
Harper</a>
exemplifies the Church perspective very well. It argues that untyped
programs are a subset of typed programs. They are programs that have a
single type and all values are of that one type. So instead of being
liberating, dynamic languages restrict you to one type. Notice the
<strong>assumption that languages have a type system by default</strong> which is
typical of the Church-style perspective. We can now say &#34;This reasoning
is correct given that perspective.&#34;</p>
<p>On the other side, you&#39;ll often see a dynamic typist say the exact
opposite: that well-typed programs are a subset of dynamically typed
programs. In other words, well-typed programs are just dynamic programs
with fewer errors. Curry-style to the core: <strong>static type errors are
something that is added onto the semantics of the language</strong>. We can now
see that they are right, from their perspective.</p>
<p>Here&#39;s a diagram:</p>
<p><img src="https://ericnormand.me/import/ChurchvsCurry.png" alt="Church vs Curry Types Language Subset
Diagrams"/></p>
<p>Chu
rch vs Curry Types Language Subset Diagrams</p>
<p>Notice how they&#39;re isomorphic? That means something, I just don&#39;t know
what :)</p>
<p>My ambitious hope is that this perspective will quiet a lot of the
fighting as people recognize that they are just <strong>perpetuating a rift in
the field of mathematics</strong> that happened a long time ago. The
perspectives are irreconcilable now, but that could change. A paper
called <a href="https://www.cs.cmu.edu/~fp/papers/andrews08.pdf">Church and Curry: Combining Intrinsic and Extrinsic
Typing</a> builds a
language with both kinds of types. And <a href="http://www.cs.colorado.edu/~siek/pubs/pubs/2006/siek06:_gradual.pdf">Gradual
Typing</a>
and <a href="http://homepages.inf.ed.ac.uk/wadler/topics/blame.html">Blame
Calculus</a> are
investigating the intersection of static and dynamic typing. Let&#39;s stop
fighting, make some cool tools and use them well.</p>
<hr/>
<ol>
<li>As sound as the type system in the language.</li>
<li>See <a href="http://goto.ucsd.edu/~rjhala/liquid/haskell/blog/about/">Liquid
Haskell</a>
for an example of applying an extrinsic type system on Haskell.</li>
</ol></div></div>
  </body>
</html>
