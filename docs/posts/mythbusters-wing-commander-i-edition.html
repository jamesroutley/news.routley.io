<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.wcnews.com/news/update/16279">Original</a>
    <h1>Mythbusters: Wing Commander I Edition</h1>
    
    <div id="readability-page-1" class="page"><div id="content-news">
			<section>
					
	<article id="16279">
		
		<p>You&#39;ve probably heard of the famous &#39;thank you for playing Wing Commander&#39; story. It claims that a programmer on the original Wing Commander was stuck getting an error message when the game unloaded its memory during a quit. Pressed for time, instead of fixing the issue he simply hex edited the memory manager&#39;s error reporting to print &#39;thank you for playing Wing Commander&#39; instead. A funny and relatable story!  The anecdote has made the rounds on the internet for the past decade and has even started to make the phrase &#34;thank you for playing Wing Commander&#34; synonymous with a dirty-but-functional hack. The most common version looks like this, <a href="https://www.reddit.com/r/shittyprogramming/comments/3bmszo/thank_you_for_playing_wing_commander/">sourced</a> from Reddit&#39;s /r/shittyprogramming:

</p><p><a href="https://cdn.wcnews.com/newestshots/full/tyfpwc-meme_version.png"><img src="https://cdn.wcnews.com/newestshots/thumb/tyfpwc-meme_versiont.jpg" width="231" height="150" srcset="https://cdn.wcnews.com/newestshots/thumb/tyfpwc-meme_versiont_2x.jpg 2x"/></a>
</p>

Engineers immediately recognize this as a funny and relatable story; it&#39;s the exact sort of thing that anyone who has ever worked in software development can recognize immediately. A perfect example of the old aphorism that &#34;if it is stupid but it works, it isn&#39;t stupid.&#34;<sup>1</sup> Unfortunately, it has also in recent years become fodder for unhappy Star Citizen fans looking for reasons to complain about Chris Roberts&#39; abilities. In many retellings, &#39;thank you for playing Wing Commander&#39; is now supposedly an example of selling shoddy work instead of a funny, recognizable hack. (If the connection feels tenuous, the missing aspect is that unlike most other CEOs, Roberts continues to code on Star Citizen, an aspect of the project that makes it interesting to him.) 

Wing Commander I fans, meanwhile, have been understandably cautious about the anecdote and particularly the included screenshot. For one thing, Wing Commander I&#39;s default install direction isn&#39;t c:/wc1 and the game doesn&#39;t actually print &#34;Thank You for Playing Wing Commander!&#34; when you quit. Is the story even real? We decided to look into the history of the story and the game itself and after some work we&#39;ve conclusively determined that the answer is… <i><b>kind of</b></i>.

Our first task was to find the origin (no pun intended) of the quote and screenshot. Where did dozens of &#39;funny software hacks&#39; articles around the internet find it in the first place? Was it even a real story or just a piece of mythology that had been handed down, perhaps not even really specific to Wing Commander I? Luckily, the original quote ended up being pretty easy to source: it was left as a comment on August 20, 2009 in response to a Gamasutra article called Dirty Coding Tricks by Brandon Sheffield (<a href="https://web.archive.org/web/20091109105856/http://www.gamasutra.com/view/feature/4111/dirty_coding_tricks.php?page=1">archive</a>). Here is the original post, verbatim:

<blockquote>
Back on Wing Commander 1 we were getting an exception from our EMM386 memory manager when we exited the game. We&#39;d clear the screen and a single line would print out, something like &#34;EMM386 Memory manager error. Blah blah blah.&#34; We had to ship ASAP. So I hex edited the error in the memory manager itself to read &#34;Thank you for playing Wing Commander.&#34;
</blockquote>

<p><a href="https://cdn.wcnews.com/newestshots/full/originalquote.png"><img src="https://cdn.wcnews.com/newestshots/thumb/originalquotet.jpg" width="703" height="150" srcset="https://cdn.wcnews.com/newestshots/thumb/originalquotet_2x.jpg 2x"/></a>
</p>

Gamasutra was a game development website popular among industry professionals. In 2021, the site was rebranded as Game Developer. The original article is <a href="https://www.gamedeveloper.com/programming/dirty-coding-tricks">still available</a> at the new site but the comments appear to have been dropped in advance of the transition. The comment was, indeed, signed by Ken Demarest. Ken Demarest III was an ace programmer who started his game development career working for Origin Systems as a software engineer on the first Wing Commander. He would go on to be lead programmer on Ultima VII and would become the growing company&#39;s Director of Technology (at a time when that technology was becoming pretty exciting!). While the comment was left anonymously (in that it was not signed into a user&#39;s account) it&#39;s very unlikely anyone was impersonating a game programmer for the purpose of telling a funny story. Wing Commander writer Jeff George would later say that &#34;other than Chris Roberts, who was the key man, Ken Demarest had more to do with the fact that the game came out than anyone else involved.&#34; So if anyone knows what was going on under the hood, it should be him! (Be sure to <a href="https://www.wcnews.com/news/2011/08/25/ultimate-strategy-guide-history-wing-commander-i">revisit</a> Wing Commander I &amp; II: The Ultimate Strategy Guide&#39;s making of section for a surprisingly thorough contemporary interview with Demarest).

<p><a href="https://cdn.wcnews.com/newestshots/full/kendemarest1990.png"><img src="https://cdn.wcnews.com/newestshots/thumb/kendemarest1990t.jpg" width="137" height="150" srcset="https://cdn.wcnews.com/newestshots/thumb/kendemarest1990t_2x.jpg 2x"/></a>
</p>

Eagle-eyed readers will immediately notice two minor changes between the original version and the 2015 Reddit version (which itself was sourced from a LinkedIn share by a third party in 2012): the original does not have the screenshot and the wording of the quit message has been slightly edited apparently with the intent to make the ending punchier. Most importantly, the screenshot added after the fact seemed to claim that the game had shipped with this bug which is not stated in the original story. So the original story, which has a reasonable origin, might be true!

The next issue is the message itself. The seemingly daming fact is that Wing Commander I simply doesn&#39;t print &#34;thank you for playing Wing Commander&#34; when you quit. We tested this in DOSBox and on period hardware and we searched all of the game&#39;s binaries for that text, coming up with nothing. Hitting ALT-X simply returns you to the DOS prompt. There is one exception, though! If you quit by clicking on the airlock door in the Tiger&#39;s Claw&#39;s barracks…

<p><a href="https://cdn.wcnews.com/newestshots/full/barracksquit1.png"><img src="https://cdn.wcnews.com/newestshots/thumb/barracksquit1t.jpg" width="240" height="150" srcset="https://cdn.wcnews.com/newestshots/thumb/barracksquit1t_2x.jpg 2x"/></a>
<a href="https://cdn.wcnews.com/newestshots/full/barracksquit2.png"><img src="https://cdn.wcnews.com/newestshots/thumb/barracksquit2t.jpg" width="240" height="150" srcset="https://cdn.wcnews.com/newestshots/thumb/barracksquit2t_2x.jpg 2x"/></a>
</p>

… then the quit process is different: you&#39;re given a y/n prompt and when you drop to DOS it prints &#34;You step out of the airlock and into…&#34;, a joke directly relating to this specific method of exit.

<p><a href="https://cdn.wcnews.com/newestshots/full/barracksquit3.png"><img src="https://cdn.wcnews.com/newestshots/thumb/barracksquit3t.jpg" width="240" height="150" srcset="https://cdn.wcnews.com/newestshots/thumb/barracksquit3t_2x.jpg 2x"/></a>
</p>

We quickly confirmed that this text DOES appear in the game&#39;s binary. Is it possible that this is where the crash happened and that the story, told 19 years after the fact, simply forgot (or for the purposes of a funnier punchline) changed the story? Supporting this idea in particular is Ken Demarest&#39;s other famous connection to that very screen: he&#39;s the person that implemented the water drop that drips into the bucket, long cited as the platonic ideal of Chris Roberts&#39; famed drive for immersion. This felt like the most likely way to establish if the story was true: how was the game displaying this message?

To try and find an answer, we turned to an incomplete copy of Wing Commander I&#39;s source code, archived by Electronic Arts. These source files were used for the release build of Wing Commander I and the archive was eventually sent to another team for development of the FM Towns port. Some material has not survived including, sadly, the memory management routines. But there&#39;s enough there to know exactly where this message comes from:

<p><a href="https://cdn.wcnews.com/newestshots/full/sourcecode1.png"><img src="https://cdn.wcnews.com/newestshots/thumb/sourcecode1t.jpg" width="679" height="150" srcset="https://cdn.wcnews.com/newestshots/thumb/sourcecode1t_2x.jpg 2x"/></a>
</p>

This is from BARRACKS.C which sets the functionality of the barracks gameflow screen. Essentially the game unloads the memory and then prints the airlock message followed by a line break. Exactly what you see in action and not a case of hex editing a memory manager. The other method of quitting the game, found in COCKPIT.C, does not print a message.

While discussing this on Twitter, <a href="https://twitter.com/xaxxen_xaxeczex/status/1701441246420443195/photo/1">Darren Xczek</a> offered another possibility: Ultima VII DOES drop to DOS with a &#34;thank you for playing Ultima VII&#34; message. Ken Demarest was the lead programmer on Ultima VII–in fact, it was the job he was initially hired for before he was assigned to help get Wing Commander out the door! Is it possible the story was true but it applied to a different game? Ultima VII did famously have memory management issues, so much so that the game&#39;s internal system was named the &#39;Voodoo Memory Manager&#39;!

<p><a href="https://cdn.wcnews.com/newestshots/full/ultimaviiquit.jpg"><img src="https://cdn.wcnews.com/newestshots/thumb/ultimaviiquitt.jpg" width="200" height="150" srcset="https://cdn.wcnews.com/newestshots/thumb/ultimaviiquitt_2x.jpg 2x"/></a>
</p>

At this point, I decided there was only one way to solve this mystery: see if we could reach Ken Demarest and ask him. He very kindly responded to a Facebook request in about 45 seconds and made us feel like real idiots for not just asking him first:

<blockquote>
In a way I would have loved to ship with that hack in there, but once we found the cause of the error message I couldn&#39;t in good conscience leave the hack in there. Besides which hand editing it added time to completing the build, which was inefficient.
</blockquote>

And there it is! The best possible outcome: the story was true–it&#39;s something that was done during the game&#39;s development–but it was also fixed before the game actually shipped… so it&#39;s a clever engineering trick and explicitly NOT evidence of a shoddy product! 
 
<sup>1</sup> - Interestingly, the Internet frequently attributes this quote to a novel by Wing Commander novelist Mercedes Lackey; this is surely not the actual source but untangling that would take another article!

		
		
	</article>
									
			</section>
			
			<hr/></div></div>
  </body>
</html>
