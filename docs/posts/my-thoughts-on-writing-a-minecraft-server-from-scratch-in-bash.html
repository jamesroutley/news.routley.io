<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://sdomi.pl/weblog/15-witchcraft-minecraft-server-in-bash/">Original</a>
    <h1>My thoughts on writing a Minecraft server from scratch in Bash</h1>
    
    <div id="readability-page-1" class="page"><div id="content">
<div><h3>My thoughts on writing a Minecraft server from scratch (in Bash)</h3>
<p>For the past year or so, I&#39;ve been thinking about writing a Minecraft server in Bash as a thought excercise. I once tried that before with the Classic protocol (the one from 2009), but I quickly realized there wasn&#39;t really a way to properly parse binary data in bash. Take the following code sample:</p>

<p><code>function a() {
	read -n 2 uwu
	echo &#34;$uwu&#34; | xxd
}
</code></p><p>This would read two bytes into a variable, and then pass them to `xxd`, which should show the hexdump of the data.</p>

<p><img src="https://sdomi.pl/weblog/15-witchcraft-minecraft-server-in-bash/img/1.png"/>
<small>Picture 1 - bash&#39;s lack of support for nullbytes</small></p><p>Everything&#39;s great, until we pass a nullbyte (0x00). Not only does Bash ignore nullbytes in strings, it also doesn&#39;t present any way to detect that a nullbyte has occured. Considering that the protocol I&#39;m trying to implement is strictly binary, this can severely mangle the data.</p>

</div><p><span>Everyone</span> at 15.02.2022, 16:40:40</p><p>Liked that</p><p><span>helpful person</span> at 15.02.2022, 16:59:22</p><p>This project is wicked cool but your font choices make it super hard to read.  And this black-on-dark-gray comment box is insane! :D</p><p><span><a href="https://saphi.re/">Saphire</a></span> at 15.02.2022, 17:10:48</p><p>Oh dear, that is cursed. Much more so than the HTTP(s) server in bash that I have seen around... I love it~!

...wait is the font for this the minecraft font. And agree with previous comment, the black-on-gray is hard to read q-q</p><p><span>new reader</span> at 15.02.2022, 17:48:56</p><p>as someone that knows very little bash, this was extremely fun to read. love the website too! :)</p><p><span>awesome stuff</span> at 15.02.2022, 17:49:01</p><p>awesome stuff</p><p><span>jos√©</span> at 15.02.2022, 18:06:37</p><p>I&#39;ve had this idea a few months ago and I didn&#39;t think it was possible. This is awesome! good work.</p><p><span><a href="https://artur.co">Artur</a></span> at 15.02.2022, 18:15:27</p><p>Awesome stuff</p><p><span><a href="http://lilybee.club">lily</a></span> at 15.02.2022, 18:17:05</p><p>i hate it here</p><p><span><a href="https://nanoshinono.me">prefetcher</a></span> at 15.02.2022, 18:22:08</p><p>This is absolutely awesome! Great work!!</p><p><span>Rafael</span> at 15.02.2022, 18:49:27</p><p>Amazing work!</p><p><span><a href="https://daniel.harka.com">Daniel</a></span> at 15.02.2022, 18:49:40</p><p>That&#39;s amazing! Good job!</p><p><span>keldu</span> at 15.02.2022, 19:20:46</p><p>That&#39;s crazy. I wrote a small MC network implementation in C++ and gave up after I started to see how they randomly change packets in different versions.

I didn&#39;t want to keep up with that. But do this in bash for MC is crazy.
I went back and wrote a small reverse proxy server for MC though.</p><p><span><a href="https://ted.ge">Theo</a></span> at 15.02.2022, 19:36:33</p><p>Your website is great. Your posts are great. Your everything is great. Keep up the work, It&#39;s definitely worth it...</p><p><span>bigking</span> at 15.02.2022, 19:39:06</p><p>ilove this. gonna play with it, if i manage to make something worthwhile i let you know. thanks for this interesting unconventional project.</p><p><span>Mikael</span> at 15.02.2022, 20:03:07</p><p>Cool project! May I ask how much time went into it? I don&#39;t really know how complex the protocol is or how long time each test takes, like if you need to restart the client and stuff.</p>        <p>
        By commenting, you agree for the session cookie to be stored on your device ;p</p></div></div>
  </body>
</html>
