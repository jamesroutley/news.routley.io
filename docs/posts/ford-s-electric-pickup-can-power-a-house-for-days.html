<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.bloomberg.com/news/articles/2022-05-31/how-the-ford-f-150-can-be-a-backup-home-generator">Original</a>
    <h1>Ford’s electric pickup can power a house for days</h1>
    
    <div id="readability-page-1" class="page"><article>
  <p>All the HYTRADBOI videos are now up at <a href="https://www.hytradboi.com/">hytradboi.com</a> (click on the talk titles).</p>
<p>I also wrote a <a href="https://www.scattered-thoughts.net/writing/hytradboi-2022-postmortem">post-mortem</a>.</p>
<p>I&#39;m still not sure whether I want to do another HYTRADBOI, since it took a huge chunk of energy and attention out of my year. But one option I&#39;m considering is to aim for dramatically less polish: </p>
<ul>
<li>Don&#39;t do ticketing at all - make everything open access.</li>
<li>Ask the speakers to provide their own captions. </li>
<li>Publish all the talks on the website.</li>
<li>Use a federated matrix space for the official chat and require attendees to sign up on a public homeserver.</li>
</ul>
<p>I think I could probably get the total cost down to ~2 weeks of work and a few hundred dollars, which is a lot more appealing.</p>
<hr/>
<p>It looks like HYTRADBOI is going to have cousins!</p>
<blockquote><p lang="en" dir="ltr">OK, since I seem to have some real interest from my weekend musings, would you be interested in a compiler/runtimes-oriented conference in the vein of https://hytradboi? <a href="https://twitter.com/sc13ts?ref_src=twsrc%5Etfw">@sc13ts</a> wdyt? I&#39;d likely call it Have You Tried Writing a Compiler For It?</p>— Gerred (@devgerred) <a href="https://twitter.com/devgerred/status/1526185150752731136?ref_src=twsrc%5Etfw">May 16, 2022</a></blockquote>  
<blockquote><p lang="en" dir="ltr">Working on getting at least the &#34;Have You Tried Writing a Compiler For It?&#34; CFP up for tomorrow. I have the domain, but it doesn&#39;t quite flow as well as <a href="https://twitter.com/hytradboi?ref_src=twsrc%5Etfw">@hytradboi</a>. Does anyone care about phonetics here? Is there a more flow-y name? I&#39;m fine with how it is now but figured I&#39;d ask</p>— Gerred (@devgerred) <a href="https://twitter.com/devgerred/status/1528540691130994688?ref_src=twsrc%5Etfw">May 23, 2022</a></blockquote>  
<hr/>
<p>Now that all that HYTRADBOI craziness is over I&#39;m focusing on <a href="https://github.com/jamii/preimp">preimp</a>. The goal is to work towards the programming experience that I envisioned for imp, but hack it together in clojure to avoid getting bottlenecked forever on language design. </p>
<p>So far I have a simple clojure notebook with coarse-grained incremental maintenance. There are data cells that can be mutated by other code, with the changes being persisted back into the cell. The notebook is backed by a simple crdt, so once I finish hooking it up to the server it will allow collaborative editing of code and data. Next step after that is rendering the output values as interactive widgets, and then adding bidirectional editing so that interacting with the widgets for derived views can push changes to upstream data.</p>
<p>It&#39;s all very hacky and I don&#39;t think I&#39;ll be able to achieve the same quality of experience on top of clojure (eg a <a href="https://www.scattered-thoughts.net/writing/imp-live-repl/">live repl</a> is out of reach), but I do think I&#39;ll be able to actually finish a usable demo. Quantity has a quality all of it&#39;s own.</p>
<p>I have a short list of simple CRUD apps that I want to build for specific people. I hope to be able to build everything on the list in preimp within the next few months, at which point I&#39;ll have some real experience to feed back into the design of the imp language.</p>
<hr/>
<p>I applied for an <a href="https://www.mercatus.org/emergent-ventures">Emergent Ventures grant</a> to work on imp. I have no idea how competitive it is but the initial application only took a few hours so it&#39;s low cost.</p>
<p>Also once I&#39;d spent the time to explain the vision all in one place I was excited to get back to work.</p>
<hr/>
<p>I have been wanting to read Data and Reality for a long time but I&#39;ve only been able to find the 3rd edition in print, which I&#39;ve heard was ruined by the editor cutting out large sections and inserting his own heavy commentary throughout. Jonathan Edwards pointed me at <a href="https://github.com/jhulick/bookstuff/blob/master/Data%20and%20Reality.pdf">this pdf</a> of the 2nd edition.</p>
<p>It&#39;s slow reading, but I think it&#39;s helpful. I&#39;ve been thinking a lot about the fine details of how to model data in imp, and this book is a cornucopia of counter-examples and tricky edge cases.</p>
<p>It&#39;s also lending weight to my belief that it&#39;s a tactical mistake to think of data-modelling as being about modelling the world, which quickly leads to being buried neck-deep in philophical questions. Better to focus on modelling the desired behavior of the computer system, which is at least tractable. </p>
<p>So rather than asking eg &#34;when are two things actually the same thing&#34;, you can ask &#34;when will our system need to treat these two things differently&#34;.</p>
<hr/>
<p><a href="https://hal.inria.fr/hal-02303490/document">Merkle search trees</a> are a kind of btree where the shape is entirely determined by the contents rather than by the order of operations. This means that you can efficiently diff them. The authors apply this to merging state-based CRDTs, but I think it could also be useful in <a href="https://arxiv.org/pdf/2203.16684.pdf">DBSP</a>. One of the pros of DBSP is that it allows easily mixing incremental and non-incremental operations, but at the cost of having to diff successive values at the boundaries. With most representations of collections that could be very expensive but with Merkle search trees the cost should be proportional to the size of the diff output.</p>
<hr/>
<p>The <a href="https://github.com/mit-pdos/noria">noria</a> folks are working on a <a href="https://readyset.io/blog/introducing-readyset">commericial version</a>. It&#39;s not clear from the docs whether it&#39;s still not <a href="https://www.scattered-thoughts.net/writing/internal-consistency-in-streaming-systems/">internally consistent</a> (I&#39;ll test it once released) but I can imagine it being useful anyway - internal consistency issues are hard to trigger with simple CRUD queries.</p>
<hr/>
<p>Some <a href="https://yuri.is/not-julia/">criticism of julia</a> and some <a href="https://weissmann.pm/julialang/">more criticism of julia</a>. I actually didn&#39;t run into many bugs myself (maybe because I didn&#39;t use many advanced libraries) but the compilation times are brutal and interactive development is not a panacea. Eg I have a script that reads a 1300 line csv, does some simple calculations and draws a graph. The first run in a repl takes 27s and subsequent runs still take 0.5s (of which 91% is compilation time). For more complex projects I would start seeing multi-second pauses when reloading a single module in the repl.</p>
<p>I really like the design of the language though, especially the way that it feels very dynamic but has predictable performance and catches type errors much closer to their source than other dynamic languages do. I&#39;ve been wondering if it&#39;s possible to find a sweeter spot along the tradeoff between performance and compilation time. I suspect (with no measurement/evidence) that specialization (especially removing dynamic dispatch and pre-computing sizes on the stack) is responsible for a non-trivial percentage of the perfomance difference vs eg python, but that LLVM IR -&gt; native code is what takes up most of the compilation time. So maybe a Julia-like language that specializes functions to interpreted bytecode rather than compiling everything to native bytecode would still be able to get a significant performance boost vs other dynamic languages. </p>
<hr/>
<p>Other things:</p>
<ul>
<li><a href="https://handmade-seattle.com/#tickets">Tickets</a> are up for Handmade Seattle 2022. I can&#39;t commit yet, but it&#39;s likely I&#39;ll go in person this year.</li>
<li><a href="https://fgiesen.wordpress.com/2018/03/05/a-whirlwind-introduction-to-dataflow-graphs/">&#34;...what I&#39;m going to do is use a simplified machine model that allows us to make quantitative predictions about the behavior of straightforward compute-bound loops&#34;</a></li>
<li>I somehow didn&#39;t know that SQL has <a href="https://crate.io/docs/sql-99/en/latest/chapters/20.html#create-assertion-statement">asserts</a>.</li>
<li>windbg lets you <a href="https://docs.microsoft.com/en-us/windows-hardware/drivers/debugger/using-linq-with-the-debugger-objects">write linq queries over the debugger state</a> instead of wresting with some adhoc dsl.</li>
<li><a href="https://github.com/janestreet/magic-trace">magic-trace</a> seems neat but I don&#39;t have any perf problems to point it at at the moment.</li>
<li><a href="https://www.currentaffairs.org/2021/04/when-is-the-revolution-in-architecture-coming">Why is modern architecture so ugly?</a></li>
<li><a href="https://zed.brimdata.io/docs/formats/zng/">ZNG</a> is a neat data notation with <a href="https://zed.brimdata.io/docs/formats/#24-first-class-types">first-class types</a>. Comes with a <a href="https://zed.brimdata.io/docs/language/overview/">query language</a> and <a href="https://github.com/brimdata/brim">browser</a>. At first glance it seems fairly well thought out.</li>
<li>A detailed <a href="https://nolanlawson.com/2014/04/26/web-sql-database-in-memoriam/">history of websql</a>. I can&#39;t say I would have liked the whole of sqlite to end up in the web spec, but I&#39;m not wild about how hard it is to build anything useful on top of IndexededDB either. Among other limitations, making access async made it impossible to read from the db in event handlers, which means that any important state has to be replicated in memory.</li>
<li><a href="https://github.com/chiselstrike/chiselstrike">Chiselstrike</a> is another backend-as-a-service company along the same lines as eg <a href="https://www.convex.dev/">convex</a>. Notable for being open source and self-hostable. </li>
<li>One of the authors of <a href="https://github.com/looker-open-source/malloy">Malloy</a> started a <a href="https://medium.com/@michaeltoy/designing-malloy-0-introduction-88b8809d75d0">series explaining the design decisions</a> that went into it.</li>
</ul>

</article></div>
  </body>
</html>
