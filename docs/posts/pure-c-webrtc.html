<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-c">Original</a>
    <h1>Pure C WebRTC</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<h4 tabindex="-1" dir="auto"><a id="user-content-pure-c-webrtc-client-for-amazon-kinesis-video-streams-" aria-hidden="true" tabindex="-1" href="#pure-c-webrtc-client-for-amazon-kinesis-video-streams-"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Pure C WebRTC Client for Amazon Kinesis Video Streams </h4>
<p dir="auto">
  <a href="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-c/actions/workflows/ci.yml"> <img src="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-c/actions/workflows/ci.yml/badge.svg"/> </a>
  <a href="https://codecov.io/gh/awslabs/amazon-kinesis-video-streams-webrtc-sdk-c" rel="nofollow"> <img src="https://camo.githubusercontent.com/4252c426bfca1e3adbc74c6b1d267407b387b72f310aa806a213a7df79659819/68747470733a2f2f636f6465636f762e696f2f67682f6177736c6162732f616d617a6f6e2d6b696e657369732d766964656f2d73747265616d732d7765627274632d73646b2d632f6272616e63682f6d61737465722f67726170682f62616467652e737667" alt="Coverage Status" data-canonical-src="https://codecov.io/gh/awslabs/amazon-kinesis-video-streams-webrtc-sdk-c/branch/master/graph/badge.svg"/> </a>
</p>
<p dir="auto">
  <a href="#key-features">Key Features</a> •
  <a href="#build">Build</a> •
  <a href="#run">Run</a> •
  <a href="#documentation">Documentation</a> •
  <a href="#setup-iot">Setup IoT</a> •
  <a href="#use-pre-generated-certificates">Use Pre-generated Certificates</a> •
  <a href="#related">Related</a> •
  <a href="#license">License</a>
</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-new-feature-announcements" aria-hidden="true" tabindex="-1" href="#new-feature-announcements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>New feature announcements</h2>
<p dir="auto">Please refer to the release notes in <a href="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-c/releases">Releases</a> page</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-key-features" aria-hidden="true" tabindex="-1" href="#key-features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Key Features</h2>
<ul dir="auto">
<li>Audio/Video Support
<ul dir="auto">
<li>VP8</li>
<li>H264</li>
<li>Opus</li>
<li>G.711 PCM (A-law)</li>
<li>G.711 PCM (µ-law)</li>
</ul>
</li>
<li>Developer Controlled Media Pipeline
<ul dir="auto">
<li>Raw Media for Input/Output</li>
<li>Callbacks for <a href="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-c/pull/201" data-hovercard-type="pull_request" data-hovercard-url="/awslabs/amazon-kinesis-video-streams-webrtc-sdk-c/pull/201/hovercard">Congestion Control</a>, FIR and PLI (set on RtcRtpTransceiver)</li>
</ul>
</li>
<li>DataChannels</li>
<li>NACKs</li>
<li>STUN/TURN Support</li>
<li>IPv4/IPv6</li>
<li>Signaling Client Included
<ul dir="auto">
<li>KVS Provides STUN/TURN and Signaling Backend</li>
<li>Connect with <a href="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-android">Android</a>/<a href="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-ios">iOS</a>/<a href="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-js">Web</a> using pre-made samples</li>
</ul>
</li>
<li>Storage for WebRTC [NEW]
<ul dir="auto">
<li>Ingest media into a Kinesis Video Stream.</li>
</ul>
</li>
<li>Portable
<ul dir="auto">
<li>Tested on Linux/MacOS</li>
<li>Tested on x64, ARMv5</li>
<li>Build system designed for pleasant cross-compilation</li>
</ul>
</li>
<li>Small Install Size
<ul dir="auto">
<li>Sub 200k library size</li>
<li>OpenSSL, libsrtp, libjsmn, libusrsctp and libwebsockets dependencies.</li>
</ul>
</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-build" aria-hidden="true" tabindex="-1" href="#build"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Build</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-download" aria-hidden="true" tabindex="-1" href="#download"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Download</h3>
<p dir="auto">To download run the following command:</p>
<p dir="auto"><code>git clone --recursive https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-c.git</code></p>
<p dir="auto">You will also need to install <code>pkg-config</code> and <code>CMake</code> and a build environment</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-configure" aria-hidden="true" tabindex="-1" href="#configure"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Configure</h3>
<p dir="auto">Create a build directory in the newly checked out repository, and execute CMake from it.</p>
<p dir="auto"><code>mkdir -p amazon-kinesis-video-streams-webrtc-sdk-c/build; cd amazon-kinesis-video-streams-webrtc-sdk-c/build; cmake .. </code></p>
<p dir="auto">We have provided an example of using GStreamer to capture/encode video, and then send via this library. This is only build if <code>pkg-config</code> finds
GStreamer is installed on your system.</p>
<p dir="auto">On Ubuntu and Raspberry Pi OS you can get the libraries by running</p>
<div data-snippet-clipboard-copy-content="$ sudo apt-get install libssl-dev libcurl4-openssl-dev liblog4cplus-dev libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev gstreamer1.0-plugins-base-apps gstreamer1.0-plugins-bad gstreamer1.0-plugins-good gstreamer1.0-plugins-ugly gstreamer1.0-tools "><pre><code>$ sudo apt-get install libssl-dev libcurl4-openssl-dev liblog4cplus-dev libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev gstreamer1.0-plugins-base-apps gstreamer1.0-plugins-bad gstreamer1.0-plugins-good gstreamer1.0-plugins-ugly gstreamer1.0-tools 
</code></pre></div>
<p dir="auto">By default we download all the libraries from GitHub and build them locally, so should require nothing to be installed ahead of time.
If you do wish to link to existing libraries you can use the following flags to customize your build.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-dependency-requirements" aria-hidden="true" tabindex="-1" href="#dependency-requirements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Dependency requirements</h3>
<p dir="auto">These would be applicable if the SDK is being linked with system dependencies instead of building from source by the SDK.
<code>libmbedtls</code>: <code>&gt;= 2.25.0 &amp; &lt; 3.x.x</code>
<code>libopenssl</code>: <code>= 1.1.1x</code>
<code>libsrtp2</code> : <code>&lt;= 2.5.0</code>
<code>libusrsctp</code> : <code>&lt;= 0.9.5.0</code>
<code>libwebsockets</code> : <code>&gt;= 4.2.0</code></p>
<h4 tabindex="-1" dir="auto"><a id="user-content-cross-compilation" aria-hidden="true" tabindex="-1" href="#cross-compilation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Cross-Compilation</h4>
<p dir="auto">If you wish to cross-compile <code>CC</code> and <code>CXX</code> are respected when building the library and all its dependencies. You will also need to set <code>BUILD_OPENSSL_PLATFORM</code>, <code>BUILD_LIBSRTP_HOST_PLATFORM</code> and <code>BUILD_LIBSRTP_DESTINATION_PLATFORM</code>. See our codecov.io for an example of this. Every commit is cross compiled to ensure that it continues to work.</p>
<h4 tabindex="-1" dir="auto"><a id="user-content-static-builds" aria-hidden="true" tabindex="-1" href="#static-builds"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Static Builds</h4>
<p dir="auto">If <code>-DBUILD_STATIC_LIBS=TRUE</code> then all dependencies and KVS WebRTC libraries will be built as static libraries.</p>
<h4 tabindex="-1" dir="auto"><a id="user-content-cmake-arguments" aria-hidden="true" tabindex="-1" href="#cmake-arguments"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>CMake Arguments</h4>
<p dir="auto">You can pass the following options to <code>cmake ..</code>.</p>
<ul dir="auto">
<li><code>-DBUILD_STATIC_LIBS</code> -- Build all KVS WebRTC and third-party libraries as static libraries.</li>
<li><code>-DADD_MUCLIBC</code>  -- Add -muclibc c flag</li>
<li><code>-DBUILD_DEPENDENCIES</code> -- Whether or not to build depending libraries from source</li>
<li><code>-DBUILD_OPENSSL_PLATFORM</code> -- If building OpenSSL what is the target platform</li>
<li><code>-DBUILD_LIBSRTP_HOST_PLATFORM</code> -- If building LibSRTP what is the current platform</li>
<li><code>-DBUILD_LIBSRTP_DESTINATION_PLATFORM</code> -- If building LibSRTP what is the destination platform</li>
<li><code>-DBUILD_TEST=TRUE</code> -- Build unit/integration tests, may be useful for confirm support for your device. <code>./tst/webrtc_client_test</code></li>
<li><code>-DCODE_COVERAGE</code> --  Enable coverage reporting</li>
<li><code>-DCOMPILER_WARNINGS</code> -- Enable all compiler warnings</li>
<li><code>-DADDRESS_SANITIZER</code> -- Build with AddressSanitizer</li>
<li><code>-DMEMORY_SANITIZER</code> --  Build with MemorySanitizer</li>
<li><code>-DTHREAD_SANITIZER</code> -- Build with ThreadSanitizer</li>
<li><code>-DUNDEFINED_BEHAVIOR_SANITIZER</code> -- Build with UndefinedBehaviorSanitizer</li>
<li><code>-DLINK_PROFILER</code> -- Link with gperftools (available profiler options are listed <a href="https://github.com/gperftools/gperftools">here</a>)</li>
</ul>
<p dir="auto">To clean up the <code>open-source</code> and <code>build</code> folders from previous build, use <code>cmake --build . --target clean</code> from the <code>build</code> folder</p>
<p dir="auto">For windows builds, you will have to include additional flags for libwebsockets CMake. Add the following flags to your cmake command, or edit the CMake file in ./CMake/Dependencies/libwebsockets-CMakeLists.txt with the following:</p>
<div data-snippet-clipboard-copy-content="cmake .. -DLWS_HAVE_PTHREAD_H=1 -DLWS_EXT_PTHREAD_INCLUDE_DIR=&#34;C:\Program Files (x86)\pthreads\include&#34; -DLWS_EXT_PTHREAD_LIBRARIES=&#34;C:\Program Files (x86)\pthreads\lib\x64\libpthreadGC2.a&#34; -DLWS_WITH_MINIMAL_EXAMPLES=1"><pre><code>cmake .. -DLWS_HAVE_PTHREAD_H=1 -DLWS_EXT_PTHREAD_INCLUDE_DIR=&#34;C:\Program Files (x86)\pthreads\include&#34; -DLWS_EXT_PTHREAD_LIBRARIES=&#34;C:\Program Files (x86)\pthreads\lib\x64\libpthreadGC2.a&#34; -DLWS_WITH_MINIMAL_EXAMPLES=1
</code></pre></div>
<p dir="auto">Be sure to edit the path to whatever pthread library you are using, and the proper path for your environment.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-build-1" aria-hidden="true" tabindex="-1" href="#build-1"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Build</h3>
<p dir="auto">To build the library and the provided samples run make in the build directory you executed CMake.</p>
<p dir="auto"><code>make</code></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-building-with-dependencies-off" aria-hidden="true" tabindex="-1" href="#building-with-dependencies-off"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Building with dependencies off</h3>
<p dir="auto">In addition to the dependencies already installed, install the dependencies using the appropriate package manager.</p>
<p dir="auto">On Ubuntu:
<code>sudo apt-get install libsrtp2-dev libusrsctp-dev libwebsockets-dev</code></p>
<p dir="auto">On MacOS:
<code>brew install srtp libusrsctp libwebsockets </code></p>
<p dir="auto">To use OpenSSL:</p>
<div data-snippet-clipboard-copy-content="cmake .. -DBUILD_DEPENDENCIES=OFF -DUSE_OPENSSL=ON"><pre><code>cmake .. -DBUILD_DEPENDENCIES=OFF -DUSE_OPENSSL=ON
</code></pre></div>
<p dir="auto">To use MBedTLS:</p>
<div data-snippet-clipboard-copy-content="cmake .. -DBUILD_DEPENDENCIES=OFF -DUSE_OPENSSL=OFF -DUSE_MBEDTLS=ON"><pre><code>cmake .. -DBUILD_DEPENDENCIES=OFF -DUSE_OPENSSL=OFF -DUSE_MBEDTLS=ON
</code></pre></div>
<p dir="auto">Note: Please follow the dependency requirements to confirm the version requirements are satisfied to use the SDK with system installed dependencies.
If the versions are not satisfied, this option would not work and enabling the SDK to build dependencies for you would be the best option to go ahead with.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-run" aria-hidden="true" tabindex="-1" href="#run"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Run</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-setup-your-environment-with-your-aws-account-credentials-and-aws-region" aria-hidden="true" tabindex="-1" href="#setup-your-environment-with-your-aws-account-credentials-and-aws-region"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Setup your environment with your AWS account credentials and AWS region:</h3>
<ul dir="auto">
<li>First set the appropriate environment variables so you can connect to KVS. If you want to use IoT certificate instead, check <a href="#setup-iot">Setup IoT</a>.</li>
</ul>
<div data-snippet-clipboard-copy-content="export AWS_ACCESS_KEY_ID= &lt;AWS account access key&gt;
export AWS_SECRET_ACCESS_KEY= &lt;AWS account secret key&gt;"><pre><code>export AWS_ACCESS_KEY_ID= &lt;AWS account access key&gt;
export AWS_SECRET_ACCESS_KEY= &lt;AWS account secret key&gt;
</code></pre></div>
<ul dir="auto">
<li>Optionally, set AWS_SESSION_TOKEN if integrating with temporary token</li>
</ul>
<div data-snippet-clipboard-copy-content="export AWS_SESSION_TOKEN=&lt;session token&gt;"><pre><code>export AWS_SESSION_TOKEN=&lt;session token&gt;
</code></pre></div>
<ul dir="auto">
<li>Region is optional, if not being set, then us-west-2 will be used as default region.</li>
</ul>
<div data-snippet-clipboard-copy-content="export AWS_DEFAULT_REGION= &lt;AWS region&gt;"><pre><code>export AWS_DEFAULT_REGION= &lt;AWS region&gt;
</code></pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-setup-logging" aria-hidden="true" tabindex="-1" href="#setup-logging"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Setup logging:</h3>
<p dir="auto">Set up the desired log level. The log levels and corresponding values currently available are:</p>
<ol dir="auto">
<li><code>LOG_LEVEL_VERBOSE</code> ---- 1</li>
<li><code>LOG_LEVEL_DEBUG</code>   ---- 2</li>
<li><code>LOG_LEVEL_INFO</code>    ---- 3</li>
<li><code>LOG_LEVEL_WARN</code>    ---- 4</li>
<li><code>LOG_LEVEL_ERROR</code>   ---- 5</li>
<li><code>LOG_LEVEL_FATAL</code>   ---- 6</li>
<li><code>LOG_LEVEL_SILENT</code>  ---- 7</li>
<li><code>LOG_LEVEL_PROFILE</code> ---- 8</li>
</ol>
<p dir="auto">To set a log level, run the following command:</p>
<div data-snippet-clipboard-copy-content="export AWS_KVS_LOG_LEVEL = &lt;LOG_LEVEL&gt;"><pre><code>export AWS_KVS_LOG_LEVEL = &lt;LOG_LEVEL&gt;
</code></pre></div>
<p dir="auto">For example:</p>
<div data-snippet-clipboard-copy-content="export AWS_KVS_LOG_LEVEL = 2 switches on DEBUG level logs while runnning the samples"><pre><code>export AWS_KVS_LOG_LEVEL = 2 switches on DEBUG level logs while runnning the samples
</code></pre></div>
<p dir="auto">Note: The default log level is <code>LOG_LEVEL_WARN</code>.</p>
<p dir="auto">Starting v1.8.0, by default, the SDK creates a log file that would have execution timing details of certain steps in connection establishment. It would be stored in the <code>build</code> directory as <code>kvsFileLogFilter.x</code>. In case you do not want to use defaults, you can modify certain parameters such as log file directory, log file size and file rotation index in the <code>createFileLoggerWithLevelFiltering</code> function in the samples.
In addition to these logs, if you would like to have other level logs in a file as well, run:</p>
<div data-snippet-clipboard-copy-content="export AWS_ENABLE_FILE_LOGGING=TRUE"><pre><code>export AWS_ENABLE_FILE_LOGGING=TRUE
</code></pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-set-path-to-ssl-ca-certificate-optional" aria-hidden="true" tabindex="-1" href="#set-path-to-ssl-ca-certificate-optional"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Set path to SSL CA certificate (<strong>Optional</strong>)</h3>
<p dir="auto">If you have a custom CA certificate path to set, you can set it using:</p>
<div data-snippet-clipboard-copy-content="export AWS_KVS_CACERT_PATH=../certs/cert.pem"><pre><code>export AWS_KVS_CACERT_PATH=../certs/cert.pem
</code></pre></div>
<p dir="auto">By defaut, the SSL CA certificate is set to <code>../certs/cert.pem</code> which points to the file in this repository:</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-running-the-samples" aria-hidden="true" tabindex="-1" href="#running-the-samples"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Running the Samples</h3>
<p dir="auto">After executing <code>make</code> you will have sample applications in your <code>build/samples</code> directory. From the <code>build/</code> directory, run any of the sample applications by passing to it the name of your signaling channel. If a signaling channel does not exist with the name you provide, the application creates one.</p>
<h4 tabindex="-1" dir="auto"><a id="user-content-sample-kvswebrtcclientmaster" aria-hidden="true" tabindex="-1" href="#sample-kvswebrtcclientmaster"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Sample: kvsWebrtcClientMaster</h4>
<p dir="auto">This application sends sample H264/Opus frames (path: <code>/samples/h264SampleFrames</code> and <code>/samples/opusSampleFrames</code>) via WebRTC. It also accepts incoming audio, if enabled in the browser. When checked in the browser, it prints the metadata of the received audio packets in your terminal. To run:</p>
<div data-snippet-clipboard-copy-content="./samples/kvsWebrtcClientMaster &lt;channelName&gt;"><pre><code>./samples/kvsWebrtcClientMaster &lt;channelName&gt;
</code></pre></div>
<p dir="auto">To use the <strong>Storage for WebRTC</strong> feature, run the same command as above but with an additional command line arg to enable the feature.</p>
<div data-snippet-clipboard-copy-content="./samples/kvsWebrtcClientMaster &lt;channelName&gt; 1"><pre><code>./samples/kvsWebrtcClientMaster &lt;channelName&gt; 1
</code></pre></div>
<h4 tabindex="-1" dir="auto"><a id="user-content-sample-kvswebrtcclientmastergstsample" aria-hidden="true" tabindex="-1" href="#sample-kvswebrtcclientmastergstsample"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Sample: kvsWebrtcClientMasterGstSample</h4>
<p dir="auto">This application can send media from a GStreamer pipeline using test H264/Opus frames, device <code>autovideosrc</code> and <code>autoaudiosrc</code> input, or a received RTSP stream. It also will playback incoming audio via an <code>autoaudiosink</code>. To run:</p>
<div data-snippet-clipboard-copy-content="./samples/kvsWebrtcClientMasterGstSample &lt;channelName&gt; &lt;mediaType&gt; &lt;sourceType&gt;"><pre><code>./samples/kvsWebrtcClientMasterGstSample &lt;channelName&gt; &lt;mediaType&gt; &lt;sourceType&gt;
</code></pre></div>
<p dir="auto">Pass the desired media and source type when running the sample. The mediaType can be <code>audio-video</code> or <code>video-only</code>. To use the <strong>Storage For WebRTC</strong> feature, use <code>audio-video-storage</code> as the mediaType. The source type can be <code>testsrc</code>, <code>devicesrc</code>, or <code>rtspsrc</code>. Specify the RTSP URI if using <code>rtspsrc</code>:</p>
<div data-snippet-clipboard-copy-content="./samples/kvsWebrtcClientMasterGstSample &lt;channelName&gt; &lt;mediaType&gt; rtspsrc rtsp://&lt;rtspUri&gt;"><pre><code>./samples/kvsWebrtcClientMasterGstSample &lt;channelName&gt; &lt;mediaType&gt; rtspsrc rtsp://&lt;rtspUri&gt;
</code></pre></div>
<h4 tabindex="-1" dir="auto"><a id="user-content-sample-kvswebrtcclientviewer" aria-hidden="true" tabindex="-1" href="#sample-kvswebrtcclientviewer"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Sample: kvsWebrtcClientViewer</h4>
<p dir="auto">This application accepts sample H264/Opus frames and prints them out. To run:</p>
<div data-snippet-clipboard-copy-content="./samples/kvsWebrtcClientViewer &lt;channelName&gt;"><pre><code>./samples/kvsWebrtcClientViewer &lt;channelName&gt;
</code></pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-viewing-master-samples" aria-hidden="true" tabindex="-1" href="#viewing-master-samples"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Viewing Master Samples</h3>
<p dir="auto">After running one of the master samples, when the command line application prints &#34;Signaling client connection to socket established&#34;, indicating that your signaling channel is created and the connected master is streaming media to it, you can view the stream. To do so, check the media playback viewer on the KVS Signaling Channels console or open the <a href="https://awslabs.github.io/amazon-kinesis-video-streams-webrtc-sdk-js/examples/index.html" rel="nofollow">WebRTC SDK Test Page</a>.</p>
<p dir="auto">If using the WebRTC SDK Test Page, set the following values using the same AWS credentials and the same signaling channel that you specified for the master above:</p>
<ul dir="auto">
<li>Access key ID</li>
<li>Secret access key</li>
<li>Signaling channel name</li>
<li>Client ID (optional)</li>
</ul>
<p dir="auto">Then choose Start Viewer to start live video streaming of the sample H264/Opus frames.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-setup-iot" aria-hidden="true" tabindex="-1" href="#setup-iot"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Setup IoT</h2>
<ul dir="auto">
<li>To use IoT certificate to authenticate with KVS signaling, please refer to <a href="https://docs.aws.amazon.com/kinesisvideostreams/latest/dg/how-iot.html" rel="nofollow">Controlling Access to Kinesis Video Streams Resources Using AWS IoT</a> for provisioning details.</li>
<li>A sample IAM policy for the IoT role looks like below, policy can be modified based on your permission requirement.</li>
</ul>
<div data-snippet-clipboard-copy-content="{
   &#34;Version&#34;:&#34;2012-10-17&#34;,
   &#34;Statement&#34;:[
      {
          &#34;Effect&#34;:&#34;Allow&#34;,
          &#34;Action&#34;:[
            &#34;kinesisvideo:DescribeSignalingChannel&#34;,
            &#34;kinesisvideo:CreateSignalingChannel&#34;,
            &#34;kinesisvideo:GetSignalingChannelEndpoint&#34;,
            &#34;kinesisvideo:GetIceServerConfig&#34;,
            &#34;kinesisvideo:ConnectAsMaster&#34;
          ],
          &#34;Resource&#34;:&#34;arn:aws:kinesisvideo:*:*:channel/${credentials-iot:ThingName}/*&#34;
      }
   ]
}"><pre><code>{
   &#34;Version&#34;:&#34;2012-10-17&#34;,
   &#34;Statement&#34;:[
      {
          &#34;Effect&#34;:&#34;Allow&#34;,
          &#34;Action&#34;:[
            &#34;kinesisvideo:DescribeSignalingChannel&#34;,
            &#34;kinesisvideo:CreateSignalingChannel&#34;,
            &#34;kinesisvideo:GetSignalingChannelEndpoint&#34;,
            &#34;kinesisvideo:GetIceServerConfig&#34;,
            &#34;kinesisvideo:ConnectAsMaster&#34;
          ],
          &#34;Resource&#34;:&#34;arn:aws:kinesisvideo:*:*:channel/${credentials-iot:ThingName}/*&#34;
      }
   ]
}
</code></pre></div>
<p dir="auto">Note: &#34;kinesisvideo:CreateSignalingChannel&#34; can be removed if you are running with existing KVS signaling channels. Viewer sample requires &#34;kinesisvideo:ConnectAsViewer&#34; permission. Integration test requires both &#34;kinesisvideo:ConnectAsViewer&#34; and &#34;kinesisvideo:DeleteSignalingChannel&#34; permission.</p>
<ul dir="auto">
<li>With the IoT certificate, IoT credentials provider endpoint (Note: it is not the endpoint on IoT AWS Console!), public key and private key ready, you can replace the static credentials provider createStaticCredentialProvider() and freeStaticCredentialProvider() with IoT credentials provider like below, the credentials provider for <a href="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-c/blob/master/samples/Common.c">samples</a> is in createSampleConfiguration():</li>
</ul>
<div data-snippet-clipboard-copy-content="createLwsIotCredentialProvider(
            &#34;coxxxxxxxx168.credentials.iot.us-west-2.amazonaws.com&#34;,  // IoT credentials endpoint
            &#34;/Users/username/Downloads/iot-signaling/certificate.pem&#34;,  // path to iot certificate
            &#34;/Users/username/Downloads/iot-signaling/private.pem.key&#34;, // path to iot private key
            &#34;/Users/username/Downloads/iot-signaling/cacert.pem&#34;, // path to CA cert
            &#34;KinesisVideoSignalingCameraIoTRoleAlias&#34;, // IoT role alias
            channelName, // iot thing name, recommended to be same as your channel name
            &amp;pSampleConfiguration-&gt;pCredentialProvider));

freeIotCredentialProvider(&amp;pSampleConfiguration-&gt;pCredentialProvider);"><pre><code>createLwsIotCredentialProvider(
            &#34;coxxxxxxxx168.credentials.iot.us-west-2.amazonaws.com&#34;,  // IoT credentials endpoint
            &#34;/Users/username/Downloads/iot-signaling/certificate.pem&#34;,  // path to iot certificate
            &#34;/Users/username/Downloads/iot-signaling/private.pem.key&#34;, // path to iot private key
            &#34;/Users/username/Downloads/iot-signaling/cacert.pem&#34;, // path to CA cert
            &#34;KinesisVideoSignalingCameraIoTRoleAlias&#34;, // IoT role alias
            channelName, // iot thing name, recommended to be same as your channel name
            &amp;pSampleConfiguration-&gt;pCredentialProvider));

freeIotCredentialProvider(&amp;pSampleConfiguration-&gt;pCredentialProvider);
</code></pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-use-pre-generated-certificates" aria-hidden="true" tabindex="-1" href="#use-pre-generated-certificates"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Use Pre-generated Certificates</h2>
<p dir="auto">The certificate generating function (createCertificateAndKey) in createDtlsSession() can take between 5 - 15 seconds in low performance embedded devices, it is called for every peer connection creation when KVS WebRTC receives an offer. To avoid this extra start-up latency, certificate can be pre-generated and passed in when offer comes.</p>
<p dir="auto"><strong>Important Note: It is recommended to rotate the certificates often - preferably for every peer connection to avoid a compromised client weakening the security of the new connections.</strong></p>
<p dir="auto">Take kvsWebRTCClientMaster as sample, add RtcCertificate certificates[CERT_COUNT]; to <strong>SampleConfiguration</strong> in Samples.h.
Then pass in the pre-generated certificate in initializePeerConnection() in Common.c.</p>
<div data-snippet-clipboard-copy-content="configuration.certificates[0].pCertificate = pSampleConfiguration-&gt;certificates[0].pCertificate;
configuration.certificates[0].pPrivateKey = pSampleConfiguration-&gt;certificates[0].pPrivateKey;

where, `configuration` is of type `RtcConfiguration` in the function that calls `initializePeerConnection()`.

Doing this will make sure that `createCertificateAndKey() would not execute since a certificate is already available.`"><pre><code>configuration.certificates[0].pCertificate = pSampleConfiguration-&gt;certificates[0].pCertificate;
configuration.certificates[0].pPrivateKey = pSampleConfiguration-&gt;certificates[0].pPrivateKey;

where, `configuration` is of type `RtcConfiguration` in the function that calls `initializePeerConnection()`.

Doing this will make sure that `createCertificateAndKey() would not execute since a certificate is already available.`
</code></pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-provide-hardware-entropy-source" aria-hidden="true" tabindex="-1" href="#provide-hardware-entropy-source"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Provide Hardware Entropy Source</h2>
<p dir="auto">In the mbedTLS version, the SDK uses /dev/urandom on Unix and CryptGenRandom API on Windows to get a strong entropy source. On some systems, these APIs might not be available. So, it&#39;s <strong>strongly suggested</strong> that you bring your own hardware entropy source. To do this, you need to follow these steps:</p>
<ol dir="auto">
<li>Uncomment <code>MBEDTLS_ENTROPY_HARDWARE_ALT</code> in configs/config_mbedtls.h</li>
<li>Write your own entropy source implementation by following this function signature: <a href="https://github.com/ARMmbed/mbedtls/blob/v2.25.0/include/mbedtls/entropy_poll.h#L81-L92">https://github.com/ARMmbed/mbedtls/blob/v2.25.0/include/mbedtls/entropy_poll.h#L81-L92</a></li>
<li>Include your implementation source code in the linking process</li>
</ol>
<h2 tabindex="-1" dir="auto"><a id="user-content-debug" aria-hidden="true" tabindex="-1" href="#debug"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>DEBUG</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-getting-the-sdps" aria-hidden="true" tabindex="-1" href="#getting-the-sdps"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Getting the SDPs</h3>
<p dir="auto">If you would like to print out the SDPs, run this command:
<code>export DEBUG_LOG_SDP=TRUE</code></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-adjust-mtu" aria-hidden="true" tabindex="-1" href="#adjust-mtu"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Adjust MTU</h3>
<p dir="auto">If ICE connection can be established successfully but media can not be transferred, make sure the actual MTU is higher than the MTU setting here: <a href="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-c/blob/master/src/source/PeerConnection/Rtp.h#L12">https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-c/blob/master/src/source/PeerConnection/Rtp.h#L12</a>.</p>
<p dir="auto">You can also change settings such as buffer size, number of log files for rotation and log file path in the samples</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-clang-checks" aria-hidden="true" tabindex="-1" href="#clang-checks"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Clang Checks</h2>
<p dir="auto">This SDK has clang format checks enforced in builds. In order to avoid re-iterating and make sure your code
complies, use the <code>scripts/check-clang.sh</code> to check for compliance and <code>scripts/clang-format.sh</code> to ensure compliance.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-tracing-high-memory-andor-cpu-usage" aria-hidden="true" tabindex="-1" href="#tracing-high-memory-andor-cpu-usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Tracing high memory and/or cpu usage</h2>
<p dir="auto">If you would like to specifically find the code path that causes high memory and/or cpu usage, you need to recompile the SDK with this command:
<code>cmake .. -DLINK_PROFILER=ON</code></p>
<p dir="auto">The flag will link the SDK with <a href="https://github.com/gperftools/gperftools">gperftools</a> profiler.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-heap-profile" aria-hidden="true" tabindex="-1" href="#heap-profile"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Heap Profile</h3>
<p dir="auto">You can run your program as you normally would. You only need to specify the following environment variable to get the heap profile:</p>
<p dir="auto"><code>HEAPPROFILE=/tmp/heap.prof /path/to/your/binary</code></p>
<p dir="auto">More information about what environment variables you can configure can be found <a href="https://gperftools.github.io/gperftools/heapprofile.html" rel="nofollow">here</a></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-cpu-profile" aria-hidden="true" tabindex="-1" href="#cpu-profile"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>CPU Profile</h3>
<p dir="auto">Similar to the heap profile, you only need to specify the following environment variable to get the CPU profile:</p>
<p dir="auto"><code>CPUPROFILE=/tmp/cpu.prof /path/to/your/binary</code></p>
<p dir="auto">More information about what environment variables you can configure can be found <a href="https://gperftools.github.io/gperftools/cpuprofile.html" rel="nofollow">here</a></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-filtering-network-interfaces" aria-hidden="true" tabindex="-1" href="#filtering-network-interfaces"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Filtering network interfaces</h3>
<p dir="auto">This is useful to reduce candidate gathering time when it is known for certain network interfaces to not work well. A sample callback is available in <code>Common.c</code>. The <code>iceSetInterfaceFilterFunc</code> in <code>KvsRtcConfiguration</code> must be set to the required callback. In the sample, it can be done this way in <code>initializePeerConnection()</code>:
<code>configuration.kvsRtcConfiguration.iceSetInterfaceFilterFunc = sampleFilterNetworkInterfaces</code></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-building-on-macos-m1" aria-hidden="true" tabindex="-1" href="#building-on-macos-m1"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Building on MacOS M1</h3>
<p dir="auto">When building on MacOS M1, if the build fails while trying to build OpenSSL or Websockets, run the following command:
<code>cmake .. -DBUILD_OPENSSL_PLATFORM=darwin64-arm64-cc</code></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-building-on-32-bit-raspbian-gnulinux-11" aria-hidden="true" tabindex="-1" href="#building-on-32-bit-raspbian-gnulinux-11"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Building on 32 bit Raspbian GNU/Linux 11</h3>
<p dir="auto">To build on a 32-bit Raspbian GNU/Linux 11 on 64-bit hardware, the OpenSSL library must be manually configured. This is due to the OpenSSL autoconfiguration script detecting 64-bit hardware and emitting 64-bit ARM assembly instructions which are not allowed in 32-bit executables. A 32-bit ARM version of OpenSSL can be configured by setting 32-bit ARM platform:
<code>cmake .. -DBUILD_OPENSSL_PLATFORM=linux-armv4</code></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-threadpool-for-signaling-channel-messages" aria-hidden="true" tabindex="-1" href="#threadpool-for-signaling-channel-messages"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Threadpool for Signaling Channel messages</h3>
<p dir="auto">The threadpool is enabled by default, and starts with 3 threads that it can increase up to 5 if all 3 are actively in use. To change these values to better match the resources of your use case
please edit samples/Samples.h defines <code>KVS_SIGNALING_THREADPOOL_MIN</code> and <code>KVS_SIGNALING_THREADPOOL_MAX</code>. You can also disable the threadpool to instead create and detach each thread
to handle signaling messages by commenting out <code>KVS_USE_SIGNALING_CHANNEL_THREADPOOL</code>.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-documentation" aria-hidden="true" tabindex="-1" href="#documentation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Documentation</h2>
<p dir="auto">All Public APIs are documented in our <a href="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-c/blob/master/src/include/com/amazonaws/kinesis/video/webrtcclient/Include.h">Include.h</a>, we also generate a <a href="https://awslabs.github.io/amazon-kinesis-video-streams-webrtc-sdk-c/" rel="nofollow">Doxygen</a> each commit for easier navigation.</p>
<p dir="auto">Refer to <a href="#related">related</a> for more about WebRTC and KVS.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-development" aria-hidden="true" tabindex="-1" href="#development"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Development</h2>
<p dir="auto">If you would like to contribute to the development of this project, please base your pull requests off of the <code>origin/develop</code> branch, and to the <code>origin/develop</code> branch. Commits from <code>develop</code> will be merged into master periodically as a part of each release cycle.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-outbound-hostname-and-port-requirements" aria-hidden="true" tabindex="-1" href="#outbound-hostname-and-port-requirements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Outbound hostname and port requirements</h2>
<ul dir="auto">
<li>KVS endpoint : TCP 443 (ex: kinesisvideo.us-west-2.amazonaws.com)</li>
<li>HTTPS channel endpoint : TCP 443 (ex: r-2c136a55.kinesisvideo.us-west-2.amazonaws.com)</li>
<li>WSS channel endpoint : TCP 443 (ex: m-26d02974.kinesisvideo.us-west-2.amazonaws.com)</li>
<li>STUN endpoint : UDP 443 (ex: stun.kinesisvideo.us-west-2.amazonaws.com)</li>
<li>TURN endpoint : UDP/TCP 443 (ex: 34-219-91-62.t-1cd92f6b.kinesisvideo.us-west-2.amazonaws.com:443)</li>
</ul>
<p dir="auto">The least common denominator for hostname is <code>*.kinesisvideo.&lt;region&gt;.amazonaws.com</code> and port is 443.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-related" aria-hidden="true" tabindex="-1" href="#related"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Related</h2>
<ul dir="auto">
<li><a href="https://docs.aws.amazon.com/kinesisvideostreams-webrtc-dg/latest/devguide/what-is-kvswebrtc.html" rel="nofollow">What Is Amazon Kinesis Video Streams with WebRTC</a></li>
<li><a href="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-js/">JS SDK</a></li>
<li><a href="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-ios/">iOS SDK</a></li>
<li><a href="https://github.com/awslabs/amazon-kinesis-video-streams-webrtc-sdk-android/">Android SDK</a></li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-license" aria-hidden="true" tabindex="-1" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>License</h2>
<p dir="auto">This library is licensed under the Apache 2.0 License.</p>
</article>
          </div></div>
  </body>
</html>
