<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://deusinmachina.substack.com/p/weird-ones-30-years-of-brainfuck">Original</a>
    <h1>30 years of Brainfuck</h1>
    
    <div id="readability-page-1" class="page"><div><div><article><div class=""><div><div dir="auto"><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5758b694-f0a1-4c90-8439-24032b00f9b3_1434x765.png" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5758b694-f0a1-4c90-8439-24032b00f9b3_1434x765.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5758b694-f0a1-4c90-8439-24032b00f9b3_1434x765.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5758b694-f0a1-4c90-8439-24032b00f9b3_1434x765.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5758b694-f0a1-4c90-8439-24032b00f9b3_1434x765.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5758b694-f0a1-4c90-8439-24032b00f9b3_1434x765.png" width="1434" height="765" data-attrs="{&#34;src&#34;:&#34;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/5758b694-f0a1-4c90-8439-24032b00f9b3_1434x765.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:765,&#34;width&#34;:1434,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:744056,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5758b694-f0a1-4c90-8439-24032b00f9b3_1434x765.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5758b694-f0a1-4c90-8439-24032b00f9b3_1434x765.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5758b694-f0a1-4c90-8439-24032b00f9b3_1434x765.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F5758b694-f0a1-4c90-8439-24032b00f9b3_1434x765.png 1456w" sizes="100vw"/></picture></div></a><figcaption>Nick Young is also confused</figcaption></figure></div><p>Brainfuck (from now on BF) turns 30 this year. This puts it in the same league as Python (32), Java (28) and Haskell (33). I remember the first time I had heard about BF. It was in my college dorm while talking to my roommate. I was pre-med at the time, and had only the faintest idea about programming. So when I first laid eyes on its syntax I hadn’t the faintest idea why someone would ever subject themselves to it. Now many years later I’m a programmer in my own right, and I find myself writing about a programming language I once balked at. Funny how life happens that way 😉.</p><p><span>BF is based off of the </span><a href="https://en.wikipedia.org/wiki/P%E2%80%B2%E2%80%B2" rel="">P double prime language</a><span>, an impressive language in its own right, holding the title of “</span><em>the first GOTO-less imperative structured programming language to be proven Turing-complete</em><span>”. BF was invented by a Swiss physics student named Urban Müller in 1993. He uploaded it to Aminet</span></p><p><span> the worlds largest repository of Amiga related software and files, a website he had become the steward over a year earlier. In the readme Urban issued a cheeky challenge</span></p><blockquote><pre><code>Who can program anything useful with it? :)</code></pre></blockquote><p><span>The readme contained the description of the language. There were 8 pieces of syntax in the language </span><code>+ - &gt; &lt; [ ] . ,</code><span> The description for each symbol said</span></p><ol><li><p><strong>+</strong><span> Increment the value of the cell by 1 </span></p></li><li><p><strong>-</strong><span> Decrement the value of the cell by 1 </span></p></li><li><p><strong>&gt;</strong><span> Move the pointer to the next cell to the right </span></p></li><li><p><strong>&lt;</strong><span> Move the pointer to the next cell to the left </span></p></li><li><p><strong>.</strong><span> Output the ASCII character corresponding to the value of the current cell </span></p></li><li><p><code>,</code><span> Input a character and store its ASCII value in the current cell </span></p></li><li><p><strong>[</strong><span> If the value of the cell is zero, jump to the corresponding </span><strong>]</strong><span> character</span></p></li><li><p><strong>]</strong><span> if the value of the current cell is non-zero, jump back to the corresponding </span><strong>[</strong></p></li></ol><p><span>With how obtuse BF’s syntax is, it’s understandable to believe that it’s impossible to do anything in it. But while it is technically possible to do anything in it given infinite memory, it also falls under what Alan Perlis would describe as a Turing tarpit</span></p><p><span>.</span></p><blockquote><p>Beware of the Turing tar-pit in which everything is possible but nothing of interest is easy. </p></blockquote><p>But giving up before we’ve even started wouldn’t be any fun. So let’s see how we can actually use the language to write something!</p><p>There are many different types of BF implementations but we will go with a simple one. You can imagine every BF program starting with an array containing a single element initialized to zero. The array is zero indexed. I’ve represented the starting state of a BF program below. </p><pre><code>  *
[ 0 ] </code></pre><p><span>Also imagine the ‘</span><strong>*</strong><span>’ above the 0 as a pointer to the 0 value. This just tells the program at what index in the array the program is operating on. In fact let’s just call the pointer the index to make it easier. The array has a few rules</span></p><ol><li><p>It can grow in size</p></li><li><p><span>The values inside the array can be increased to a maximum of 255. If a cell is already at 255, and is increased by one with ‘</span><strong>+</strong><span>’ it will </span><em>overflow</em><span> down to 0.</span></p></li><li><p><span>The value in a cell can be decreased to a minimum of 0. If a cell is at 0 and is decreased by one with ‘</span><strong>-</strong><span>’ it will </span><em>underflow</em><span> back up to 255. </span></p></li></ol><p>Note: The original version of BF worked with ASCII characters. We will use an extended ASCII set called ISO-8859-1 which gives us a total of 256 characters to work with instead of 128.</p><p>In the below example we have an array with 3 values in it, and we are currently at index 1 (the value 100). </p><pre><code><code>      *
[ 0  100 200] </code></code></pre><p><span>That means if a BF interpreter hits another ‘</span><strong>+</strong><span>’ the </span><em>value</em><span> at index one will be increased by one, which means the value 100 will go to 101. If instead the BF interpreter hits ‘</span><strong>&gt;</strong><span>’ it will instead increment the </span><em>index</em><span> by one. Meaning that our asterisk ‘*’ will move over the 200. And if instead it hits ‘</span><strong>&lt;</strong><span>‘ it will be pushed back over the 0. </span></p><p><span>That covers the ‘</span><strong>+</strong><span>’ ‘</span><strong>-</strong><span>’ ‘</span><strong>&lt;</strong><span>‘ and ‘</span><strong>&gt;</strong><span>’ but what about ‘</span><strong>[</strong><span>‘, ‘</span><strong>]</strong><span>’, ‘</span><strong>.</strong><span>’, and ‘</span><strong>,</strong><span>’? ‘</span><strong>,’ </strong><span>Allows the user to input a single character. That character is then converted to its ANSI representation and stored in the cell at the current index. Using our example from above if the next value our</span><strong> </strong><span>interpreter hits is a </span><strong>‘,’ </strong><span>it will ask for a single character. If we give it the letter ‘A’ then the value 65 will be stored where the value of 100 used to be (since the index is at 1). </span></p><pre><code><code>      *
[ 0   65  200] </code></code></pre><p><span>If the interpreter then hits a ‘</span><strong>.</strong><span>’ it will then print the character to the user. In this case the letter ‘A’ will be printed (the letter representation of 65). How do we know what values corresponds to what letters? We consult a chart! Since we are working within the bounds of the ASCII character set in this example, I’ll just show an ASCII chart to save space. The first 127 characters are the same in ASCII and ANSI.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F20430916-0757-4f70-880d-c420023489b4_878x558.png" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F20430916-0757-4f70-880d-c420023489b4_878x558.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F20430916-0757-4f70-880d-c420023489b4_878x558.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F20430916-0757-4f70-880d-c420023489b4_878x558.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F20430916-0757-4f70-880d-c420023489b4_878x558.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F20430916-0757-4f70-880d-c420023489b4_878x558.png" width="878" height="558" data-attrs="{&#34;src&#34;:&#34;https://bucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com/public/images/20430916-0757-4f70-880d-c420023489b4_878x558.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:558,&#34;width&#34;:878,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:85907,&#34;alt&#34;:&#34;a table showing the decimal and hex values for individual characters on a keyboard&#34;,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;internalRedirect&#34;:null}" alt="a table showing the decimal and hex values for individual characters on a keyboard" title="a table showing the decimal and hex values for individual characters on a keyboard" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F20430916-0757-4f70-880d-c420023489b4_878x558.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F20430916-0757-4f70-880d-c420023489b4_878x558.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F20430916-0757-4f70-880d-c420023489b4_878x558.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fbucketeer-e05bbc84-baa3-437e-9518-adb32be77984.s3.amazonaws.com%2Fpublic%2Fimages%2F20430916-0757-4f70-880d-c420023489b4_878x558.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p>If you look at the chart above you will see how we got 65 for ‘A’. </p><p><span>Now for ‘</span><strong>[</strong><span>‘, ‘</span><strong>]</strong><span>’,. These are how we do loops in BF. If instead of ‘A’ we wanted to print ‘%’ we could write this BF program.</span></p><pre><code>+++++++++++++++++++++++++.</code></pre><p><span>Which would increment our value in the array to [25] before printing the value. That is a lot of ‘</span><strong>+</strong><span>’ for one character. If instead of ‘%’ I wanted ‘Z’ I’d have to type ‘</span><strong>+</strong><span>’ 90 times. That’s too much! Instead we can use a loop like the one below.</span></p><pre><code>+++++++++[&gt;++++++++++&lt;-]&gt;.</code></pre><p><span>We already know what ‘</span><strong>+</strong><span>’ does, it increments the cell at the current index. In this case our array will look like this by the time we hit ‘</span><strong>[</strong><span>‘.</span></p><pre><code><code>  *
[ 9 ] </code></code></pre><p><span>Since the value in the cell is 9 and not 0 ‘</span><strong>[</strong><span>‘ does nothing and we move to ‘</span><strong>&gt;</strong><span>’. ‘</span><strong>&gt;</strong><span>’ pushes us to index 1 of the array. Since there was nothing in the array at index 1 before we hit the ‘</span><strong>&gt;</strong><span>’ we add a 0 at index 1 of the array. We then increment that 0 10 times with the ‘</span><strong>+</strong><span>’ inside of the loop. So we now have an array that looks like this…</span></p><pre><code><code>      *
[ 9   10 ] </code></code></pre><p><span> ‘</span><strong>&lt;</strong><span>‘ pushes us back to index 0 which is 9 and ‘</span><strong>-</strong><span>’ subtracts 9 by 1 giving us 8 in the first slot of the array. Our array now looks like this</span></p><pre><code><code>  *
[ 8   10 ] </code></code></pre><p><span>We then jump back to our ‘</span><strong>[</strong><span>‘ from our ‘</span><strong>]</strong><span>’. It does this because the value at the current index is 8 which is not zero, so it brings us back to the matching ‘</span><strong>[</strong><span>‘. We then loop again. We don’t do anything when we hit ‘</span><strong>[</strong><span>‘ because ‘</span><strong>[</strong><span>‘ checks if our cell at the current index is 0 and it is not. We then shift our index over to the cell with 10 because of the ‘</span><strong>&gt;</strong><span>’ and increment the values up again by 10. At the end of the next iteration of the loop our cells look like this</span></p><pre><code> *
[7 20 ]</code></pre><p>As you can probably see this loop will repeat itself dropping the value in the first cell from 7, to 6, 5, 4 all the way down to 0. Giving us this by the end.</p><pre><code><code> *
[0 90 ]</code></code></pre><p><span>Once the first value in the array is 0, our ‘</span><strong>[</strong><span>‘ will jump to the matching ‘</span><strong>]</strong><span>’. ‘</span><strong>]</strong><span>’ checks and sees that our value is zero at the current index, and moves on to the next instruction. Our next instruction is ‘</span><strong>&gt;</strong><span>’ which pushes our index over 90. Then we hit ‘</span><strong>.</strong><span>’ which prints the letter associated with the value of ‘90’ which is ‘Z’. </span></p><p>Now that you understand the basics of BrainFuck writing an interpreter should be simple. Here is a more complicated example to challenge you. </p><p>+[-----&gt;++&lt;]&gt;+++++++.+++[-&gt;++&lt;]&gt;.-[---&gt;+&lt;]&gt;++.---.-----------.-[-&gt;+++&lt;]&gt;.++++++[-&gt;++&lt;]&gt;+.+[--&gt;+++&lt;]&gt;.-------.----------.+++++++++++.[---&gt;+&lt;]&gt;----.</p><p><span>To see a working one in written in Pharo (a derivative of Smalltalk) you can go </span><a href="https://gitlab.com/diegocrespo/pharobrainfuckinterpreter/-/blob/master/src/BrainFuckInterpreter/BrainFuck.class.st#L86" rel="">here</a><span>.</span></p><p>Surprisingly yes… While the syntax is obtuse the mechanics are pretty simple. This makes implementing a BF interpreter a great project for novice programmers. It’s one that I personally use when trying to learn a new programming language as it doesn’t require any external libraries, has simple logic that is easy to test using built in testing libraries, and doesn’t take too long to implement.</p><p><span>It’s also a great introduction to stack machines. And if you ever want to do some Assembly, will make understanding register allocations easier. Also if you want to get really fancy you can even implement BF optimizers. Notice how if you have a cell that is at 255 you can </span><em>overflow</em><span> down to 0. Or if you are at 0 you can </span><em>underflow</em><span> back up to 255. This could be leveraged to get at numbers on the extreme ends of the character set faster than looping, incrementing or decrementing. </span></p><p><span>BF has nerdsniped</span></p><p><span> many a programmer. And some have taken the language to its limits.  From creating a BF interpreter that supports Linux syscalls</span></p><p><span> to solving the advent of code in BF</span></p><p><span> it continues to be a language that allows us to flex our creativity. In an age were there is increased pressure to spend time on things that are productive, or turn our hobbies into side hustles, programming does not escape that pressure. But I&#39;m glad something like BF exists and that people still use it. Sometimes it&#39;s fun to create something silly and then do something equally absurd with it with no expectation that it will ever &#34;be&#34; anything. So Happy Birthday BF and here&#39;s to 30 more 🥂</span></p><p>If you made it this far thanks for reading! I’m still new here and trying to find my voice. If you liked this article please consider liking and subscribing. And if you haven’t why not check out another article of mine!</p><p data-attrs="{&#34;url&#34;:&#34;https://deusinmachina.substack.com/p/sending-a-message-how-objects-communicate?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&amp;token=eyJ1c2VyX2lkIjoxMDA1NTI0NjQsInBvc3RfaWQiOjkxMDMwMjUyLCJpYXQiOjE2NzEzODczNTIsImV4cCI6MTY3Mzk3OTM1MiwiaXNzIjoicHViLTExNDYzNTkiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.RZU7AtuniYhyaaTTLCfNza4a1-6RkCbOmGEap8V5S-M&#34;,&#34;text&#34;:&#34;Share&#34;,&#34;action&#34;:null,&#34;class&#34;:&#34;button-wrapper&#34;}"><a href="https://deusinmachina.substack.com/p/sending-a-message-how-objects-communicate?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&amp;token=eyJ1c2VyX2lkIjoxMDA1NTI0NjQsInBvc3RfaWQiOjkxMDMwMjUyLCJpYXQiOjE2NzEzODczNTIsImV4cCI6MTY3Mzk3OTM1MiwiaXNzIjoicHViLTExNDYzNTkiLCJzdWIiOiJwb3N0LXJlYWN0aW9uIn0.RZU7AtuniYhyaaTTLCfNza4a1-6RkCbOmGEap8V5S-M" rel=""><span>Share</span></a></p><p data-attrs="{&#34;url&#34;:&#34;https://deusinmachina.substack.com/?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&#34;,&#34;text&#34;:&#34;Share Deus In Machina&#34;,&#34;action&#34;:null,&#34;class&#34;:&#34;button-wrapper&#34;}"><a href="https://deusinmachina.substack.com/?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share" rel=""><span>Share Deus In Machina</span></a></p></div></div></div></article></div></div></div>
  </body>
</html>
