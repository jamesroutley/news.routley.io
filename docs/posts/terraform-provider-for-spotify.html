<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/conradludgate/terraform-provider-spotify">Original</a>
    <h1>Terraform Provider for Spotify</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto"><a href="https://registry.terraform.io/providers/conradludgate/spotify/latest/docs" rel="nofollow"><img src="https://camo.githubusercontent.com/89e65842b2c7af48909704a831e5f4d5846bd1992814f2b151e4b746d591a1dd/68747470733a2f2f696d672e736869656c64732e696f2f7374617469632f76313f6c6162656c3d646f6373266d6573736167653d7465727261666f726d26636f6c6f723d696e666f726d6174696f6e616c267374796c653d666f722d7468652d6261646765266c6f676f3d7465727261666f726d" alt="docs" data-canonical-src="https://img.shields.io/static/v1?label=docs&amp;message=terraform&amp;color=informational&amp;style=for-the-badge&amp;logo=terraform"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/eb34089d4c18cfd2c021a35ed8e30faa17651d8d54d1fdcb8ba01ebcce76030a/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f64796e616d69632f6a736f6e3f6c6162656c3d646f776e6c6f6164732671756572793d2532342e646174612e617474726962757465732e646f776e6c6f6164732675726c3d687474707325334125324625324672656769737472792e7465727261666f726d2e696f253246763225324670726f76696465727325324631333235267374796c653d666f722d7468652d626164676526636f6c6f723d627269676874677265656e266c6f676f3d7465727261666f726d"><img src="https://camo.githubusercontent.com/eb34089d4c18cfd2c021a35ed8e30faa17651d8d54d1fdcb8ba01ebcce76030a/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f64796e616d69632f6a736f6e3f6c6162656c3d646f776e6c6f6164732671756572793d2532342e646174612e617474726962757465732e646f776e6c6f6164732675726c3d687474707325334125324625324672656769737472792e7465727261666f726d2e696f253246763225324670726f76696465727325324631333235267374796c653d666f722d7468652d626164676526636f6c6f723d627269676874677265656e266c6f676f3d7465727261666f726d" alt="downloads" data-canonical-src="https://img.shields.io/badge/dynamic/json?label=downloads&amp;query=%24.data.attributes.downloads&amp;url=https%3A%2F%2Fregistry.terraform.io%2Fv2%2Fproviders%2F1325&amp;style=for-the-badge&amp;color=brightgreen&amp;logo=terraform"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/5abe553f115e9b23bfa6ae6c66900111fdcc7853133dec266145efb67a6015e3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f64796e616d69632f6a736f6e3f6c6162656c3d76657273696f6e2671756572793d2532342e64617461253542282534302e6c656e6774682d31292535442e617474726962757465732e76657273696f6e2675726c3d687474707325334125324625324672656769737472792e7465727261666f726d2e696f253246763225324670726f7669646572732532463133323525324670726f76696465722d76657273696f6e73267374796c653d666f722d7468652d626164676526636f6c6f723d6f72616e6765266c6f676f3d7465727261666f726d"><img src="https://camo.githubusercontent.com/5abe553f115e9b23bfa6ae6c66900111fdcc7853133dec266145efb67a6015e3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f64796e616d69632f6a736f6e3f6c6162656c3d76657273696f6e2671756572793d2532342e64617461253542282534302e6c656e6774682d31292535442e617474726962757465732e76657273696f6e2675726c3d687474707325334125324625324672656769737472792e7465727261666f726d2e696f253246763225324670726f7669646572732532463133323525324670726f76696465722d76657273696f6e73267374796c653d666f722d7468652d626164676526636f6c6f723d6f72616e6765266c6f676f3d7465727261666f726d" alt="latest version" data-canonical-src="https://img.shields.io/badge/dynamic/json?label=version&amp;query=%24.data%5B(%40.length-1)%5D.attributes.version&amp;url=https%3A%2F%2Fregistry.terraform.io%2Fv2%2Fproviders%2F1325%2Fprovider-versions&amp;style=for-the-badge&amp;color=orange&amp;logo=terraform"/></a>
<a href="https://app.codecov.io/gh/conradludgate/terraform-provider-spotify/" rel="nofollow"><img src="https://camo.githubusercontent.com/51e123d9266315be408b33622472e6561b89296daf5e54b8a0c93e99fb3e89d4/68747470733a2f2f696d672e736869656c64732e696f2f636f6465636f762f632f67682f636f6e7261646c7564676174652f7465727261666f726d2d70726f76696465722d73706f746966793f7374796c653d666f722d7468652d6261646765" alt="code coverage" data-canonical-src="https://img.shields.io/codecov/c/gh/conradludgate/terraform-provider-spotify?style=for-the-badge"/></a></p>
<p dir="auto">This is a terraform provider for managing your spotify playlists.</p>
<p dir="auto">Featured tutorial - <a href="https://learn.hashicorp.com/tutorials/terraform/spotify-playlist" rel="nofollow">https://learn.hashicorp.com/tutorials/terraform/spotify-playlist</a></p>
<p dir="auto">Featured interview - <a href="https://www.hashicorp.com/blog/build-your-summer-spotify-playlist-with-terraform" rel="nofollow">https://www.hashicorp.com/blog/build-your-summer-spotify-playlist-with-terraform</a></p>
<blockquote>
<p dir="auto">I am not affiliated with Hashicorp or Terraform.</p>
<p dir="auto">If you are having trouble with the provider, try updating to the latest version
before submitting a bug report</p>
</blockquote>
<h2 dir="auto"><a id="user-content-example" aria-hidden="true" href="#example"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Example</h2>
<div data-snippet-clipboard-copy-content="resource &#34;spotify_playlist&#34; &#34;playlist&#34; {
  name        = &#34;My playlist&#34;
  description = &#34;My playlist is so awesome&#34;
  public      = false

  tracks = flatten([
    data.spotify_track.overkill.id,
    data.spotify_track.blackwater.id,
    data.spotify_track.overkill.id,
    data.spotify_search_track.search.tracks[*].id,
  ])
}

data &#34;spotify_track&#34; &#34;overkill&#34; {
  url = &#34;https://open.spotify.com/track/4XdaaDFE881SlIaz31pTAG&#34;
}
data &#34;spotify_track&#34; &#34;blackwater&#34; {
  spotify_id = &#34;4lE6N1E0L8CssgKEUCgdbA&#34;
}

data &#34;spotify_search_track&#34; &#34;search&#34; {
  name   = &#34;Somebody Told Me&#34;
  artist = &#34;The Killers&#34;
  album  = &#34;Hot Fuss&#34;
}

output &#34;test&#34; {
  value = data.spotify_search_track.search.tracks
}"><pre><span>resource</span> <span><span>&#34;</span>spotify_playlist<span>&#34;</span></span> <span><span>&#34;</span>playlist<span>&#34;</span></span> {
  name        <span>=</span> <span><span>&#34;</span>My playlist<span>&#34;</span></span>
  description <span>=</span> <span><span>&#34;</span>My playlist is so awesome<span>&#34;</span></span>
  public      <span>=</span> <span>false</span>

  tracks <span>=</span> <span>flatten</span>([
    <span>data</span><span>.</span><span>spotify_track</span><span>.</span><span>overkill</span><span>.</span><span>id</span>,
    <span>data</span><span>.</span><span>spotify_track</span><span>.</span><span>blackwater</span><span>.</span><span>id</span>,
    <span>data</span><span>.</span><span>spotify_track</span><span>.</span><span>overkill</span><span>.</span><span>id</span>,
    <span>data</span><span>.</span><span>spotify_search_track</span><span>.</span><span>search</span><span>.</span><span>tracks</span>[<span>*</span>]<span>.</span><span>id</span>,
  ])
}

<span>data</span> <span><span>&#34;</span>spotify_track<span>&#34;</span></span> <span><span>&#34;</span>overkill<span>&#34;</span></span> {
  url <span>=</span> <span><span>&#34;</span>https://open.spotify.com/track/4XdaaDFE881SlIaz31pTAG<span>&#34;</span></span>
}
<span>data</span> <span><span>&#34;</span>spotify_track<span>&#34;</span></span> <span><span>&#34;</span>blackwater<span>&#34;</span></span> {
  spotify_id <span>=</span> <span><span>&#34;</span>4lE6N1E0L8CssgKEUCgdbA<span>&#34;</span></span>
}

<span>data</span> <span><span>&#34;</span>spotify_search_track<span>&#34;</span></span> <span><span>&#34;</span>search<span>&#34;</span></span> {
  name   <span>=</span> <span><span>&#34;</span>Somebody Told Me<span>&#34;</span></span>
  artist <span>=</span> <span><span>&#34;</span>The Killers<span>&#34;</span></span>
  album  <span>=</span> <span><span>&#34;</span>Hot Fuss<span>&#34;</span></span>
}

<span>output</span> <span><span>&#34;</span>test<span>&#34;</span></span> {
  value <span>=</span> <span>data</span><span>.</span><span>spotify_search_track</span><span>.</span><span>search</span><span>.</span><span>tracks</span>
}</pre></div>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p dir="auto">Add the following to your terraform configuration</p>
<div data-snippet-clipboard-copy-content="terraform {
  required_providers {
    spotify = {
      source  = &#34;conradludgate/spotify&#34;
      version = &#34;~&gt; 0.2.0&#34;
    }
  }
}"><pre><span>terraform</span> {
  <span>required_providers</span> {
    spotify <span>=</span> {
      source  <span>=</span> <span><span>&#34;</span>conradludgate/spotify<span>&#34;</span></span>
      version <span>=</span> <span><span>&#34;</span>~&gt; 0.2.0<span>&#34;</span></span>
    }
  }
}</pre></div>
<h2 dir="auto"><a id="user-content-how-to-use" aria-hidden="true" href="#how-to-use"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How to use</h2>
<p dir="auto">First, you need an instance of a spotify oauth2 server running. This acts as a middleware between terraform and spotify to allow easy access to access tokens.</p>
<h3 dir="auto"><a id="user-content-public-proxy" aria-hidden="true" href="#public-proxy"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Public proxy</h3>
<p dir="auto">For a simple way to manage your spotify oauth2 tokens is to use <a href="https://oauth2.conrad.cafe" rel="nofollow">https://oauth2.conrad.cafe</a>. (<a href="https://github.com/conradludgate/oauth2-proxy">source code</a>)</p>
<p dir="auto">Register a new account, create a spotify token with the following scopes</p>
<ul dir="auto">
<li>user-read-email</li>
<li>user-read-private</li>
<li>playlist-read-private</li>
<li>playlist-modify-private</li>
<li>playlist-modify-public</li>
<li>user-library-read</li>
<li>user-library-modify</li>
</ul>
<p dir="auto">Then take note of the token id in the URL and the API key that is shown on the page</p>
<p dir="auto">Configure the terraform provider like so</p>
<div data-snippet-clipboard-copy-content="provider &#34;spotify&#34; {
  auth_server = &#34;https://oauth2.conrad.cafe&#34;
  api_key     = var.spotify_api_key
  username    = &#34;your username&#34;
  token_id    = &#34;your token id&#34;
}

variable &#34;spotify_api_key&#34; {
  type = string
}"><pre><span>provider</span> <span><span>&#34;</span>spotify<span>&#34;</span></span> {
  auth_server <span>=</span> <span><span>&#34;</span>https://oauth2.conrad.cafe<span>&#34;</span></span>
  api_key     <span>=</span> <span>var</span><span>.</span><span>spotify_api_key</span>
  username    <span>=</span> <span><span>&#34;</span>your username<span>&#34;</span></span>
  token_id    <span>=</span> <span><span>&#34;</span>your token id<span>&#34;</span></span>
}

<span>variable</span> <span><span>&#34;</span>spotify_api_key<span>&#34;</span></span> {
  type <span>=</span> <span>string</span>
}</pre></div>
<h3 dir="auto"><a id="user-content-self-hosted" aria-hidden="true" href="#self-hosted"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Self hosted</h3>
<p dir="auto">If you want a bit more control over your tokens, you can self host a simple instance of the oauth2 proxy designed specifically for this terraform provider</p>
<p dir="auto">See <a href="https://github.com/conradludgate/terraform-provider-spotify/blob/main/spotify_auth_proxy">spotify_auth_proxy</a> to get started.</p>
<p dir="auto">Once you have the server running, make note of the API Key it gives you.</p>
<p dir="auto">Configure the terraform provider like so</p>
<div data-snippet-clipboard-copy-content="variable &#34;spotify_api_key&#34; {
  type = string
}

provider &#34;spotify&#34; {
  api_key = var.spotify_api_key
}"><pre><span>variable</span> <span><span>&#34;</span>spotify_api_key<span>&#34;</span></span> {
  type <span>=</span> <span>string</span>
}

<span>provider</span> <span><span>&#34;</span>spotify<span>&#34;</span></span> {
  api_key <span>=</span> <span>var</span><span>.</span><span>spotify_api_key</span>
}</pre></div>
</article>
          </div></div>
  </body>
</html>
