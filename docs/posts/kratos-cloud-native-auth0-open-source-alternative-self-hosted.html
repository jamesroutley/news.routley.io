<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/ory/kratos">Original</a>
    <h1>Kratos - Cloud native Auth0 open-source alternative (self-hosted)</h1>
    
    <div id="readability-page-1" class="page"><div><p>It’s the end of 2025, which means that I’m closing in on three years at <a href="https://www.val.town/">Val Town</a>. I haven’t written much about the company or what it’s really been like. The real story of companies is usually told well after years after the dust has settled. Founders usually tell a heroic story of success while they’re building.</p><p>Reading <em>startup news</em> really warps your perspective, especially when you’re building a startup yourself. Everyone else is getting fabulously rich! It makes me less eager to write about anything.</p><p>But I’m incurably honest and like working with people who are too. <a href="https://stevekrouse.com/">Steve</a>, the first founder of Val Town (I joined shortly after as cofounder/CTO) is a shining example of this. He is a master of saying the truth in situations when other people are afraid to. I’ve seen it defuse tension and clear paths. It’s a big part of ‘the culture’ of the company.</p><p>So here’s some of the story so far.</p><h2 id="delivering-on-existing-expectations-and-promises">Delivering on existing expectations and promises</h2><p>Here’s what the Val Town interface looked like fairly early on:</p><p><img alt="Val Town user interface in mid-2023" src="https://macwright.com/images/2025-11-07-val-town-val-town-user-interface-in-mid-2023.png"/></p><p>When I initially joined, we had a prototype and a bit of hype. The interface was heavily inspired by Twitter - every time that you ran code, it would save a new ‘val’ and add it to an infinite-scrolling list.</p><p>Steve and <a href="https://www.accel.com/people/daniel-levine">Dan</a> had really noticed the utter exhaustion in the world of JavaScript: runaway complexity. A lot of frameworks and infrastructure was designed for huge enterprises and was really, really bad at scaling down. Just writing a little server that does one thing should be easy, but if you do it with AWS and modern frameworks, it can be a mess of connected services and boilerplate.</p><p>Val Town scaled down to <code>1 + 1</code>. You could type <code>1 + 1</code> in the text field and get <code>2</code>. That’s the way it should work.</p><p>It was a breath of fresh air. And a bunch of people who encountered it even in this prototype-phase state were inspired and engaged.</p><p><img alt="The arrows marketing page" src="https://macwright.com/images/2025-11-07-val-town-the-arrows-marketing-page.png"/></p><p>One of the pivotal moments of this stage was creating this graphic for our marketing site: the arrows graphic. It really just tied it all together: look how much power there was in this little val! And no boilerplate either. Where there otherwise is a big ritual of making something public or connecting an email API, there’s just a toggle and a few lines of code.</p><p>I kind of call this early stage, for me, the era of delivering on existing expectations and promises. The core cool idea of the product was there, but it was extremely easy to break.</p><p><strong>Security</strong> was one of the top priorities. We weren’t going to be a <a href="https://en.wikipedia.org/wiki/System_and_Organization_Controls">SOC2</a> certified bank-grade platform, but we also couldn’t stay where we were. Basically, it was trivially easy to hack: we were using the <a href="https://www.npmjs.com/package/vm2">vm2</a> NPM module to run user code. I appreciate that vm2 exists, but it really, truly, is a trap. There are so many ways to get out of its sandbox and access other people’s code and data. We had a series of embarrassing security vulnerabilities.</p><p>For example: we supported web handlers so you could easily implement a little server endpoint, and the API for this was based on <a href="https://expressjs.com/">express</a>, the Node.js server framework. You got a request object and response object, from express, and in this case they were literally the same as our server’s objects. Unfortunately, there’s a method <a href="https://expressjs.com/en/5x/api.html#res.download"><code>response.download(path: string)</code></a> which sends an arbitrary file from your server to the internet. You can see how this one ends: not ideal.</p><p>So, we had to deliver on a basic level of security. Thankfully, in the way that it sometimes does, the road rose to meet us. The right technology appeared just in time: <a href="https://blog.val.town/blog/val-town-newsletter-5">Deno</a>. Deno’s sandboxing made it possible to run people’s code securely without having to build a mess of Kubernetes and Docker sandbox optimizations. It delivered being secure, fast, and simple to implement: we haven’t identified a single security bug caused by Deno.</p><p>That said, the context around JavaScript runtimes has been tough. Node.js is still dominant and <a href="https://bun.sh">Bun</a> has attracted most of the attention as an alternative, with Deno in a distant third place, vibes-wise. The three are frustratingly incompatible - Bun keeps adding built-ins like <a href="https://bun.com/docs/runtime/s3">an S3 client</a> which would have seemed unthinkable in the recent past. Node added an <a href="https://nodejs.org/api/sqlite.html#sqlite">SQLite client</a> in 22. Contrary to what I <a href="https://macwright.com/2022/11/18/optimism-updates#the-backend-adopted-web-standards">hoped in 2022</a>, JavaScript has gotten more splintered and inconsistent as an ecosystem.</p><p><strong>Stability</strong> was the other problem. The application was going down constantly for a number of reasons, but most of all was the database, which was Supabase. I <a href="https://blog.val.town/blog/migrating-from-supabase">wrote about switching away from Supabase</a>, which they <a href="https://news.ycombinator.com/item?id=36006018">responded to in a pretty classy way</a>, and I think they’ve since improved. But <a href="https://render.com/">Render</a> has been a huge step up in maintainability and maturity for how we host Val Town.</p><p>Adding <a href="https://maxmcd.com/">Max</a> was a big advance in our devops-chops too: he was not only able to but <em>excited</em> to work on the hard server capacity and performance problems. We quietly made a bunch of big improvements like <a href="https://blog.val.town/blog/http-preview">allowing vals to stay alive after serving requests</a> - before that, every run was a cold start.</p><h2 id="what-to-do-about-ai">What to do about AI</h2><p><img alt="Townie" src="https://macwright.com/images/2025-11-07-val-town-townie.png"/></p><p><em>Townie, the Val Town chatbot, in early 2024</em></p><p>Believe it or not, but in early 2023, there were startups that didn’t say “AI” on the front page of their marketing websites. The last few years have been a dizzying shift in priorities and vibes, which I have had mixed feelings about that I’ve <a href="https://macwright.com/2023/04/15/ai">written</a> <a href="https://macwright.com/2025/11/07/hallucination-city">about</a> <a href="https://macwright.com/2025/11/05/llms-thinking-pivot">a</a> <a href="https://macwright.com/2024/07/18/llms-democratizing-coding">lot</a>.</p><p>At some point it became imperative to figure out what Val Town was supposed to do about all that. Writing code is undeniably one of the sweet spots of what LLMs can do, and over the last few years the fastest-growing most hyped startups have emerged from that ability.</p><p>This is where <a href="https://janpaulposma.nl/">JP Posma</a> comes in. He was Steve’s cofounder at a previous startup, <a href="https://zaplib.com/docs/blog_post_mortem.html">Zaplib</a>, and was our ‘summer intern’ - the quotes because he’s hilariously overqualified for that title. He injected some AI-abilities into Val Town, both <a href="https://blog.val.town/blog/val-vibes">RAG-powered search</a> and he wrote the first version of <a href="https://blog.val.town/blog/codegen">Townie</a>, a chatbot that is able to write code.</p><p><strong>Townie</strong> has been really interesting. Basically it lets you write vals (our word for apps) with plain English. This development happened around the same time as a lot of the ‘vibe-coding’ applications, like Bolt and Lovable. But Townie was attached to a platform that runs code and has community elements and a lot more. It’s an entry point to the rest of the product, while a lot of other vibe-coding tools were the core product that would eventually expand to include stuff like what Val Town provides.</p><p>Ethan Ding has <a href="https://substack.com/home/post/p-174507062">written a few things</a> about this: it’s maybe preferable to sell compute instead of being the frontend for LLM-vibe-coding. But that’s sort of a long-run prediction about where value accrues rather than an observation about what companies are getting hype and funding in the present.</p><p><img alt="Vibe coding companies" src="https://macwright.com/images/2025-11-07-val-town-vibe-coding-companies.png"/></p><p>There are <a href="https://www.are.na/tom-macwright/there-are-too-many-companies-doing-vibecoding-please-stop-founding-them">way too many companies providing vibe-coding tools</a> without having a moat or even a pathway to positive margins. But having made a vibe-coding tool, I completely see why: it makes charts look amazing. Townie was a huge growth driver for a while, and a lot of people were hearing about Townie <em>first</em>, and only later realizing that Val Town could run code, act as a lightweight GitHub alternative, and power a community.</p><p>Unlike a lot of AI startups, we didn’t burn a ton of money running Townie. We did have negative margins on it, but to the tune of a few thousand dollars a month during the most costly months.</p><p>Introducing a pro plan made it profitable pretty quickly and today Townie is pay-as-you-go, so it doesn’t really burn money at all. But on the flip side, we learned a lot about the users of vibe-coding tools. In particular, they use the tools <em>a lot</em>, and they really don’t want to pay for them. This kind of makes sense: vibe-coding actual completed apps without ever dropping down to write or read code is <a href="https://en.wikipedia.org/wiki/Zeno%27s_paradoxes">zeno’s paradox</a>: every prompt gets you halfway there, so you inch closer and closer but never really get to your destination.</p><p>So you end up chatting for eight hours, typically getting angrier and angrier, and using a lot of tokens. This would be great for business in theory, but in practice it doesn’t work for obvious reasons: people like to pay for results, not the process. Vibe-coding is a tough industry - it’s simultaneously one of the most expensive products to run, and one of the most flighty and cost-sensitive user-bases I’ve encountered.</p><p>So AI has been complicated. On one hand, it’s amazing for growth and obviously has spawned wildly successful startups. On the other, it can be a victim of its own expectations: every company seems to promise perfect applications generated from a single prompt and that just isn’t the reality. And that results in practically every tool falling short of those expectations and thus getting the rough end of user sentiment.</p><p>We’re about to launch <a href="https://modelcontextprotocol.io/docs/getting-started/intro">MCP support</a>, which will make it possible to use Val Town <em>via</em> existing LLM interfaces like <a href="https://www.claude.com/product/claude-code">Claude Code</a>. It’s a lot better than previous efforts - more powerful and flexible, plus it requires us to reinvent less of the wheel. The churn in the ‘state of the art’ feels tremendous: first we had tool-calling, then MCPs, then <a href="https://www.anthropic.com/engineering/code-execution-with-mcp">tool calling writing code to call MCPs</a>: it’s hard to tell if this is fast progress or just churn.</p><h2 id="as-a-business">As a business</h2><p>When is a company supposed to make money? It’s a question that I’ve thought about a lot. When I was running a bootstrapped startup, the answer was obviously <em>as soon as possible, because I’d like to stop paying my rent from my bank account</em>. Venture funding lets you put that off for a while, sometimes a <em>very long while</em>, and then when companies start making real revenue they at best achieve break-even. There are tax and finance reasons for all of this – I don’t make the rules!</p><p>Anyway, Val Town is far from break-even. But that’s the goal for 2026, and it’s optimistically possible.</p><p>One thing I’ve thought for a long time is that people building startups are building complicated machines. They carry out a bunch of functions, maybe they proofread your documents or produce widgets, or whatever, but the machine also has a button on it that says “make money.” And everything kind of relates to that button as you’re building it, but you don’t really press it.</p><p>The nightmare is if the rest of the machine works, you press the button, and it doesn’t do anything. You’ve built something useful but not valuable. This hearkens back to the last section about AI: you can get a lot of people <em>using</em> the platform, but if you ask them for money and they’re mostly teenagers or hobbyists, they’re not going to open their wallets. They might not even have wallets.</p><p>So we pressed the button. It kind of works.</p><p>But what I’ve learned is that making revenue is a lot like engineering: it requires a lot of attempts, testing, and hard work. It’s not something that just results from a good product. Here’s where I really saw <a href="https://x.com/charmaine_klee">Charmaine</a> and Steve at work, on calls, making it happen.</p><p>The angle right now is to sell tools for ‘Go To Market’ - stuff like capturing user signups of your website, figuring out which users are from interesting companies or have interesting use-cases, and forwarding that to Slack, pushing it to dashboards, and generally making the sales pipeline work. It’s something Val Town can do really well: most other tools for this kind of task have some sort of limit in how complicated and custom they can get, and Val Town doesn’t.</p><h2 id="expanding-and-managing-the-complexity">Expanding and managing the complexity</h2><p>Product-wise, the big thing about Val Town that has evolved is that it can do more stuff and it’s more normal. When we started out, a Val was a single JavaScript <em>expression</em> - this was part of what made Val Town scale down so beautifully and be so minimal, but it was painfully limited. Basically people would type into the text box</p><div><div><pre><code><span>const</span> <span>x</span> <span>=</span> <span>10</span><span>;</span>
<span>function</span> <span>hi</span><span>()</span> <span>{};</span>
<span>console</span><span>.</span><span>log</span><span>(</span><span>1</span><span>);</span>
</code></pre></div></div><p>And we couldn’t handle that at all: if you ran the Val did it run that function? Export the <code>x</code> variable? It was magic but too confusing. The other tricky niche choice was that we had a custom import syntax like this:</p><p>In which <code>@tmcw.helper</code> was the name of another val and this would automatically import and use it. Extremely slick but really tricky to build off of because this was non-standard syntax, and it overlapped with the proposed syntax for <a href="https://github.com/tc39/proposal-decorators">decorators in JavaScript</a>. Boy, I do <em>not</em> love decorators: they have been under development for basically a decade and haven’t landed, just hogging up this part of the unicode plane.</p><p>But regardless this syntax wasn’t worth it. I have some <a href="https://observablehq.com/@observablehq/observable-javascript">experience with this problem</a> and have landed squarely on the side of <em>normality is good</em>.</p><p>So, in <a href="https://blog.val.town/blog/introducing-val-town-v3">October 2023, we ditched it, adopted standard ESM import syntax, and became normal</a>. This is was a big technical undertaking, in large part because we tried to keep all existing code running by migrating it. Thankfully JavaScript has a very rich ecosystem of tools that can parse &amp; produce code and manipulate syntax trees, but it was still a big, dramatic shift.</p><p>This is one of the core tensions of Val Town as well as practically every startup: where do you spend your <em>user-facing</em> innovation energy?</p><p>I’m a follower of the <a href="https://boringtechnology.club/">use boring technology movement</a> when it comes to how products are built: Val Town intentionally uses some boring established parts like Postgres and React Router, but what about when it comes to the product itself? I’ve learned the hard way that most of what people call intuition is really familiarity: it’s good when an interface behaves like other interfaces. A product that has ten new concepts and a bunch of new UI paradigms is going to be hard to learn and probably will lose out to one that follows some familiar patterns.</p><p>Moving to standard JavaScript made Val Town more learnable for a lot of people while also removing some of its innovation. Now you can copy code into &amp; out of Val Town without having to adjust it. LLMs can write code that targets Val Town without knowing everything about its quirks. It’s good to go with the flow when it comes to syntax.</p><h2 id="hiring-and-the-team">Hiring and the team</h2><p><picture><source srcset="/images/2025-11-07-val-town-office-sign.webp" type="image/webp"/><img alt="Office Sign" src="https://macwright.com/images/2025-11-07-val-town-office-sign.jpeg" height="720" loading="lazy" width="1280"/></picture></p><p>Val Town has an office. I feel like COVID made everything remote by default and the lower-COVID environment that we now inhabit (it’s still not gone!) has led to a swing-back, but the company was founded in the latter era and has never been remote. So, we work from home roughly every other Friday.</p><p>This means that we basically try to hire people in New York. It hasn’t been too hard in the past. About 6% of America lives in the New York City metro area and the Northeast captures about <a href="https://carta.com/data/vc-industry-geography-2024/">23% of venture funding</a>, so there are lots of people who live here or want to.</p><p><picture><source srcset="/images/2025-11-11-val-town-stuff-on-the-window-sill-in-the-office.webp" type="image/webp"/><img alt="Stuff on the window sill in the office" src="https://macwright.com/images/2025-11-11-val-town-stuff-on-the-window-sill-in-the-office.jpeg" height="1024" loading="lazy" width="1280"/></picture></p><p>Here’s something hard to publish: we’re currently at three people. It was five pretty recently. <a href="https://x.com/charmaine_klee">Charmaine</a> got poached by Anthropic where she’ll definitely kick ass, and <a href="https://x.com/mxmcd">Max</a> is now at Cloudflare where he’s writing C++, which will be even more intimidating than his chess ranking. The company’s really weirdly good at people <em>leaving</em>: we had parties and everyone exchanges hand-written cards. How people handle hard things says a lot.</p><p>But those three are pretty rad: <a href="https://jxnblk.com/">Jackson</a> was a personal hero of mine before we hired him (he still is). He’s one of the best designers I’ve worked with, and an incredibly good engineer to boot. He’s worked at a bunch of startups you’ve heard of, had a DJ career, gotten to the highest echelons of tech without acquiring an ego. He recently beat me to the top spot in our GitHub repo’s lines-changed statistic.</p><p><a href="https://stevekrouse.com/">Steve</a> has what it takes for this job: <em>grit</em>, optimism, curiosity. The job of founding a company and being a CEO is a different thing every few months - selling, hiring, managing, promoting. Val Town is a very developer-consumer oriented product and that kind of thing requires a ton of promotion. Steve has done <em>so much</em>, in podcasts, spreading the word in person, writing, talking to customers. He has really put everything into this. A lot of the voice and the attitude of the company flows down from the founder, and Steve is that.</p><h2 id="did-i-mention-that-were-hiring">Did I mention that we’re hiring?</h2><p>In particular, for someone to be a customer-facing technical promoter type - now called a “GTM” hire. Basically, who can write a bit of code but has the attitude of someone in sales. Who can see potential and handle rejection. Not necessarily the world’s best programmer, but who can probably code, and definitely someone who can write. Blogging and writing online is a huge green flag for this position.</p><p>And the other role that we really need is an “application engineer.” These terms keep shifting, so if <em>full-stack engineer</em> means more, sure, that too. Basically someone who can write code across boundaries. This is more or less what Jackson and I do - writing queries, frontend code, fixing servers, the whole deal. Yeah, it sounds like a lot but this is how all small companies operate, and I’ve made a lot of decisions to make this possible: we’ve avoided complexity like the plague in Val Town’s stack, so it should all be learnable. I’ve written a bunch of documentation for everything, and constantly tried to keep the codebase clean.</p><p>Sidenote, but even though I think that the codebase is kind of messy, I’ve heard from very good engineers (even the aforementioned JP Posma) that it’s one of the neatest and most rational codebases they’ve seen. Maybe it is, maybe it isn’t, see for yourself!</p><h2 id="what-were-really-looking-for-in-hires">What we’re really looking for in hires</h2><p>Tech hiring has been broken the whole time I’ve been in the industry, for reasons that would take a whole extra article to ponder. But one thing that makes it hard is vagueness, both on the part of applicants and companies. I get it - cast a wide net, don’t put people off. But I can say that:</p><ul><li>For the GTM position, you should be able to write for the internet. This can be harder than it looks: there are basically three types of writing: academic, corporate, and internet, and they are incompatible.</li><li>You should also be kind of entrepreneurial: which means optimistic, resilient, and opportunistic.</li><li>For the application engineering role, you should be a good engineer who understands the code you write and is good at both writing and reading code. Using LLM tools is great, but relying on them exclusively is a dealbreaker. LLMs are not <em>that</em> good at writing code.</li></ul><h2 id="what-the-job-is-like">What the job is like</h2><p>The company’s pretty low drama. Our office is super nice. We work hard but not <a href="https://en.wikipedia.org/wiki/996_working_hour_system">996</a>. We haven’t had dinner in the office. But we all do use PagerDuty so when the servers go down, we wake up and it sucks. Thankfully the servers go down less than they used to.</p><p>We all get paid the same: $175k. Lower than FAANG, but pretty livable for Brooklyn. Both of the jobs listed - the <a href="https://val-town.notion.site/product-engineer">Product Engineer</a>, and <a href="https://val-town.notion.site/growth-engineer">Growth Engineer</a> - are set at 1% equity. $175k is kind of high-average for where we’re at, but 1% in my opinion is <em>pretty damn good</em>. Startups say that equity is “meaningful” at all kinds of numbers but it’s definitely meaningful at that one. If Val Town really succeeds, you can get pretty rich off of that.</p><p>Of course, <em>will it succeed?</em> It’s something I think about all the time. I was born to ruminate. We have a lot going for us, and a real runway to make things happen. Some of the charts in our last investor update looked great. Some days felt amazing. Other days were a slog. But it’s a good team, with a real shot of making it.</p></div></div>
  </body>
</html>
