<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://undeadly.org/cgi?action=article;sid=20230723185853">Original</a>
    <h1>OpenBSD: AMD processor microcode support added to -current</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>Contributed by
<a href="https://www.openbsdfoundation.org/donations.html">rueda</a>
on <time datetime="2023-07-23T06:46:17Z">2023-07-23</time>
from the filling-the-gaps dept.</p>
<p>Thanks to
<a href="https://marc.info/?l=openbsd-cvs&amp;m=168999749230525&amp;w=2">a</a>
<a href="https://marc.info/?l=openbsd-cvs&amp;m=169002060210176&amp;w=2">series</a>
<a href="https://marc.info/?l=openbsd-cvs&amp;m=169007672026068&amp;w=2">of</a>
<a href="https://marc.info/?l=openbsd-cvs&amp;m=169008112127027&amp;w=2">commits</a>
by Jonathan Gray (<code>jsg@</code>),
-current now has support for microcode (updates)
for <abbr>AMD</abbr> (amd64 and i386) processors:</p>
<blockquote>
<pre>CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2023/07/21 21:46:09

Modified files:
	usr.sbin/fw_update: patterns.c 

Log message:
match AMD x86 CPUs in <a href="https://man.openbsd.org/fw_update.8">fw_update(8)</a>
ok deraadt@
</pre>
</blockquote>


<blockquote>
<pre>CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2023/07/22 04:11:20

Modified files:
	sys/arch/amd64/stand/boot: conf.c 
	sys/arch/amd64/stand/cdboot: conf.c 
	sys/arch/amd64/stand/efiboot: conf.c exec_i386.c 
	sys/arch/amd64/stand/libsa: exec_i386.c 
	sys/arch/amd64/stand/pxeboot: conf.c 
	sys/arch/i386/stand/boot: conf.c 
	sys/arch/i386/stand/cdboot: conf.c 
	sys/arch/i386/stand/libsa: exec_i386.c 
	sys/arch/i386/stand/pxeboot: conf.c 

Log message:
BOOTARG_UCODE for AMD
ok deraadt@
</pre>
</blockquote>
<blockquote>
<pre>CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2023/07/22 19:46:37

Modified files:
	sys/arch/amd64/amd64: ucode.c 

Log message:
update AMD CPU microcode if a newer patch is available
ok deraadt@
</pre>
</blockquote>
<blockquote>
<pre>CVSROOT:	/cvs
Module name:	src
Changes by:	jsg@cvs.openbsd.org	2023/07/22 20:59:53

Modified files:
	sys/arch/i386/i386: ucode.c 

Log message:
update AMD CPU microcode if a newer patch is available
ok deraadt@
</pre>
</blockquote>

<p>Stuart Henderson (<code>sthen@</code>)
<a href="https://marc.info/?l=openbsd-ports-cvs&amp;m=168998343826079&amp;w=2">committed</a>
the firmware
<a href="https://cvsweb.openbsd.org/ports/sysutils/firmware/amd/">port</a>:</p>
<blockquote>
<pre>CVSROOT:	/cvs
Module name:	ports
Changes by:	sthen@cvs.openbsd.org	2023/07/21 17:51:51

Log message:
    import ports/sysutils/firmware/amd, microcode update binaries for AMD CPUs.
    not yet used, but adding it now so we can more easily test update mechanisms.
    
    ok jsg@
    
    Status:
    
    Vendor Tag:	sthen
    Release Tags:	sthen_20230722
    
    N ports/sysutils/firmware/amd/Makefile
    N ports/sysutils/firmware/amd/distinfo
    N ports/sysutils/firmware/amd/pkg/DESCR
    N ports/sysutils/firmware/amd/pkg/PLIST
    
    No conflicts created by this import
</pre>
</blockquote>

<p>It&#39;s great to see support for the <abbr>AMD</abbr> side
gaining equivalence with that for Intel
(for which support was
<a href="https://cvsweb.openbsd.org/src/sys/arch/amd64/amd64/ucode.c?rev=1.1&amp;content-type=text/x-cvsweb-markup">added</a>
in 2018).</p>

</div></div>
  </body>
</html>
