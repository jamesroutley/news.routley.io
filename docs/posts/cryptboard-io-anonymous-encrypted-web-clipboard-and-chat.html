<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/MihanEntalpo/cryptboard.io">Original</a>
    <h1>Cryptboard.io â€“ Anonymous encrypted web clipboard and chat</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">Cryptboard.io allows to send text messages and files between multiple devices</p>
<p dir="auto">Website: <a href="https://cryptboard.io/" rel="nofollow">https://cryptboard.io/</a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/MihanEntalpo/cryptboard.io/blob/main/img/screenshot_1.png"><img src="https://github.com/MihanEntalpo/cryptboard.io/raw/main/img/screenshot_1.png" alt="Screenshot of a clipboard page"/></a></p>
<h2 dir="auto"><a id="user-content-why-would-i-need-it" aria-hidden="true" href="#why-would-i-need-it"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Why would I need it?</h2>
<ul dir="auto">
<li>To copy and paste text/files between Host and Virtual machine where clipboard not supported</li>
<li>To copy and paste text/files into Remote Desktop, such as VMWare Horizon, RDP, and others where clipboard doesn&#39;t work or disabled</li>
<li>To send valuable data such as passwords or some security keys and tokens without danger of it being intercepted</li>
<li>To exchange information in a hostile environment where the server could be evil and yet not giving it a chance to decrypt messages</li>
<li>Doing all this stuff without the need for registration</li>
</ul>
<h2 dir="auto"><a id="user-content-features" aria-hidden="true" href="#features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Features</h2>
<ul dir="auto">
<li>Anonymous authorization on the server without the need for registration</li>
<li>Hybrid RSA+AES encryption of data with asymmetric keys stored on client</li>
<li>All sent data encrypted on the client and could not be decrypted by the server</li>
<li>Clients adding each other to the &#34;receivers list&#34; by sending their public key and user ID using third-party channel</li>
<li>Possible to add public key and user ID by scanning QR-code</li>
<li>Single button click to clear all client&#39;s data and keys and start a new session</li>
</ul>
<h2 dir="auto"><a id="user-content-disclaimers" aria-hidden="true" href="#disclaimers"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Disclaimers</h2>
<ul dir="auto">
<li>Application is on its beta stage so some bugs could be out where</li>
<li>Application is written initially for my own use so code isn&#39;t perfect and would be refactored later</li>
<li>Design and all the frontend is made by a backend programmer, so it could look quite ugly</li>
</ul>
<h2 dir="auto"><a id="user-content-usage-of-the-official-app" aria-hidden="true" href="#usage-of-the-official-app"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Usage of the official app</h2>
<ul dir="auto">
<li>After you opening <a href="https://cryptboard.io/" rel="nofollow">https://cryptboard.io/</a> on any device, it automatically authorizes on the server and gets a user ID (uid)</li>
<li>Also, private and public RSA keys are generated to use in the encryption/decryption process</li>
<li>To start exchange text or files you have to share your uid and public key with another user (or device)
<ul dir="auto">
<li>You can open QR-code on the &#34;Share key&#34; page with your mobile phone, and do &#34;Add Key&#34; from it</li>
<li>If you open two such QR-codes from the same mobile phone, and use the checkbox &#34;Share all my receivers&#34; (by default turned on on mobile), all of the keys would be shared between devices and your mobile phone</li>
<li>You can copy the link on the &#34;Share key&#34; page and send it over some other messenger or email</li>
<li>Also, you can copy QR code (make a screenshot) and send it over other messenger or email</li>
</ul>
</li>
<li>Device where your uid and the public key is added could automatically send its uid and public key back encrypted if the checkbox &#34;Send my key back&#34; is checked (by default it is)</li>
<li>After uid and key is added you can send text or files back and forth between devices (or people)</li>
<li>Avatars should be used to check if uid and the public key wasn&#39;t changed while traveling through third-party messenger</li>
</ul>
<p dir="auto">Details on secure usage could be found at <a href="https://cryptboard.io/security" rel="nofollow">https://cryptboard.io/security</a></p>
<h2 dir="auto"><a id="user-content-technologies" aria-hidden="true" href="#technologies"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Technologies</h2>
<ul dir="auto">
<li>Application backend is based on php-fpm, with super-simple hand-crafted micro-framework</li>
<li>Database used by backend server is Redis</li>
<li>Frontend is written on html + css + vanillaJs + jQuery + Bootstrap</li>
</ul>
<p dir="auto">Detail on used technologies can be seen here: <a href="https://cryptboard.io/about" rel="nofollow">https://cryptboard.io/about</a></p>
<h2 dir="auto"><a id="user-content-deploying-your-own-installation" aria-hidden="true" href="#deploying-your-own-installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Deploying your own installation</h2>
<h3 dir="auto"><a id="user-content-docker-installation" aria-hidden="true" href="#docker-installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Docker installation</h3>
<p dir="auto"><strong>Prerequisites:</strong></p>
<ul dir="auto">
<li>Docker</li>
<li>docker-compose</li>
<li>Nginx on the host machine</li>
</ul>
<p dir="auto"><strong>Installation:</strong></p>
<ol dir="auto">
<li>Clone repo.</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="git clone git@github.com:MihanEntalpo/cryptboard.io.git"><pre>git clone git@github.com:MihanEntalpo/cryptboard.io.git</pre></div>
<ol start="2" dir="auto">
<li>Install docker and docker-compose</li>
</ol>
<p dir="auto">Installation of docker described at <a href="https://docs.docker.com/get-docker/" rel="nofollow">https://docs.docker.com/get-docker/</a></p>
<p dir="auto">Installation of docker-compose described at <a href="https://docs.docker.com/compose/install/" rel="nofollow">https://docs.docker.com/compose/install/</a></p>
<ol start="3" dir="auto">
<li>Create config file</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="cp web-app/.env.docker.example web-app/.env.docker"><pre>cp web-app/.env.docker.example web-app/.env.docker</pre></div>
<ol start="4" dir="auto">
<li>Generate public and private keys for usage with JWT:</li>
</ol>
<p dir="auto">Run command:</p>
<div dir="auto" data-snippet-clipboard-copy-content="ssh-keygen -t rsa -b 4096 -m PEM -f jwtRS256.key
# Don&#39;t add passphrase
openssl rsa -in jwtRS256.key -pubout -outform PEM -out jwtRS256.key.pub"><pre>ssh-keygen -t rsa -b 4096 -m PEM -f jwtRS256.key
<span><span>#</span> Don&#39;t add passphrase</span>
openssl rsa -in jwtRS256.key -pubout -outform PEM -out jwtRS256.key.pub</pre></div>
<p dir="auto">Files jwtRS256.key and jwtRS256.key.pub would be created.</p>
<ol start="5" dir="auto">
<li>Put contents of the files to .env.docker</li>
</ol>
<p dir="auto">Content of the files should be put in one-liners with &#34;\n&#34; string joining splitted lines, and put it to JWT_PUBLIC_KEY and JWT_PRIVATE_KEY variables.</p>
<p dir="auto">To make it simple just run the following bash command:</p>
<p dir="auto">Fill JWT_PRIVATE_KEY in .env.docker:</p>
<div dir="auto" data-snippet-clipboard-copy-content="LINE=$(cat ./web-app/jwtRS256.key | tr &#39;\n&#39; &#39;$&#39; | sed &#39;s|\$|\\\\n|g;s|^|JWT_PRIVATE_KEY=|g&#39;); sed -i &#34;s|^JWT_PRIVATE_KEY.*|$LINE|g&#34; -i ./web-app/.env.docker"><pre>LINE=<span><span>$(</span>cat ./web-app/jwtRS256.key <span>|</span> tr <span><span>&#39;</span>\n<span>&#39;</span></span> <span><span>&#39;</span>$<span>&#39;</span></span> <span>|</span> sed <span><span>&#39;</span>s|\$|\\\\n|g;s|^|JWT_PRIVATE_KEY=|g<span>&#39;</span></span><span>)</span></span><span>;</span> sed -i <span><span>&#34;</span>s|^JWT_PRIVATE_KEY.*|<span>$LINE</span>|g<span>&#34;</span></span> -i ./web-app/.env.docker</pre></div>
<p dir="auto">Fill JWT_PUBLIC_KEY in .env.docker:</p>
<div dir="auto" data-snippet-clipboard-copy-content="LINE=$(cat ./web-app/jwtRS256.key.pub | tr &#39;\n&#39; &#39;$&#39; | sed &#39;s|\$|\\\\n|g;s|^|JWT_PUBLIC_KEY=|g&#39;); sed -i &#34;s|^JWT_PUBLIC_KEY.*|$LINE|g&#34; -i ./web-app/.env.docker"><pre>LINE=<span><span>$(</span>cat ./web-app/jwtRS256.key.pub <span>|</span> tr <span><span>&#39;</span>\n<span>&#39;</span></span> <span><span>&#39;</span>$<span>&#39;</span></span> <span>|</span> sed <span><span>&#39;</span>s|\$|\\\\n|g;s|^|JWT_PUBLIC_KEY=|g<span>&#39;</span></span><span>)</span></span><span>;</span> sed -i <span><span>&#34;</span>s|^JWT_PUBLIC_KEY.*|<span>$LINE</span>|g<span>&#34;</span></span> -i ./web-app/.env.docker</pre></div>
<ol start="6" dir="auto">
<li>Fill some other variables</li>
</ol>
<p dir="auto">SERVER_HOST should be set to your HTTP host configured in Nginx or any other reverse-proxy server.</p>
<p dir="auto">On official app this variable is set to cryptboard.io</p>
<p dir="auto">SERVER_PORT should be a port, that is opened from docker container with running app</p>
<ol start="7" dir="auto">
<li>Build docker imaged</li>
</ol>

<ol start="8" dir="auto">
<li>Run docker-compose cluster:</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="./docker-compose.sh up -d"><pre>./docker-compose.sh up -d</pre></div>
<p dir="auto">All normal docker-compose commands could be used with docker-compose.sh, for example:</p>
<p dir="auto">So, instead of <code>docker-compose ps</code> you run <code>./docker-compose.sh ps</code> and so on.</p>
<p dir="auto">This is just a simplification to use docker-compose without specifying docker-compose.yml file and .env.docker envfile for every call.</p>
<ol start="9" dir="auto">
<li>Check if application is running:</li>
</ol>
<p dir="auto">Open url <a href="http://127.0.0.1:%7BSERVER_PORT%7D/" rel="nofollow">http://127.0.0.1:{SERVER_PORT}/</a> in browser (You you are deploying app not locally, but on some online server, replace 127.0.0.1 by it&#39;s real IP)</p>
<ol start="10" dir="auto">
<li>Configure nginx to be a reverse-proxy to this local server and make it use SSL if needed (SSL keys could be obtained from LetsEncrypt)</li>
</ol>
<p dir="auto">Use conf/nginx/docker-proxypass.conf as a template for your docker config.</p>
<p dir="auto">You will need to set the right hostname, proxy_pass port, logfiles location and letsencrypt key and cert files.</p>
<h3 dir="auto"><a id="user-content-old-good-dockerless-installation" aria-hidden="true" href="#old-good-dockerless-installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Old good dockerless installation</h3>
<p dir="auto">Recommended for development</p>
<p dir="auto"><strong>Prerequisites:</strong></p>
<ul dir="auto">
<li>Nginx</li>
<li>Redis-server</li>
<li>Php-fpm (version 7.0 and higher)</li>
<li>Php-redis extension</li>
</ul>
<p dir="auto"><strong>Installation:</strong></p>
<p dir="auto">Instructions are made for deb-based distro:</p>
<ol dir="auto">
<li>Install needed packages</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="sudo apt-get install nginx-full php-fpm php-redis git"><pre>sudo apt-get install nginx-full php-fpm php-redis git</pre></div>
<ol start="2" dir="auto">
<li>Clone repo</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="git clone git@github.com:MihanEntalpo/cryptboard.io.git"><pre>git clone git@github.com:MihanEntalpo/cryptboard.io.git</pre></div>
<ol start="3" dir="auto">
<li>Create config file</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="cp web-app/.env.example web-app/.env"><pre>cp web-app/.env.example web-app/.env</pre></div>
<ol start="4" dir="auto">
<li>Generate public and private keys for usage with JWT:</li>
</ol>
<p dir="auto">Run command:</p>
<div dir="auto" data-snippet-clipboard-copy-content="ssh-keygen -t rsa -b 4096 -m PEM -f jwtRS256.key
# Don&#39;t add passphrase
openssl rsa -in jwtRS256.key -pubout -outform PEM -out jwtRS256.key.pub"><pre>ssh-keygen -t rsa -b 4096 -m PEM -f jwtRS256.key
<span><span>#</span> Don&#39;t add passphrase</span>
openssl rsa -in jwtRS256.key -pubout -outform PEM -out jwtRS256.key.pub</pre></div>
<p dir="auto">Files jwtRS256.key and jwtRS256.key.pub would be created.</p>
<ol start="5" dir="auto">
<li>Put contents of the files to .env.docker</li>
</ol>
<p dir="auto">Content of the files should be put in one-liners with &#34;\n&#34; string joining splitted lines, and put it to JWT_PUBLIC_KEY and JWT_PRIVATE_KEY variables.</p>
<p dir="auto">To make it simple just run the following bash command:</p>
<p dir="auto">Fill JWT_PRIVATE_KEY in .env.docker:</p>
<div dir="auto" data-snippet-clipboard-copy-content="LINE=$(cat ./web-app/jwtRS256.key | tr &#39;\n&#39; &#39;$&#39; | sed &#39;s|\$|\\\\n|g;s|^|JWT_PRIVATE_KEY=|g&#39;); sed -i &#34;s|^JWT_PRIVATE_KEY.*|$LINE|g&#34; -i ./web-app/.env"><pre>LINE=<span><span>$(</span>cat ./web-app/jwtRS256.key <span>|</span> tr <span><span>&#39;</span>\n<span>&#39;</span></span> <span><span>&#39;</span>$<span>&#39;</span></span> <span>|</span> sed <span><span>&#39;</span>s|\$|\\\\n|g;s|^|JWT_PRIVATE_KEY=|g<span>&#39;</span></span><span>)</span></span><span>;</span> sed -i <span><span>&#34;</span>s|^JWT_PRIVATE_KEY.*|<span>$LINE</span>|g<span>&#34;</span></span> -i ./web-app/.env</pre></div>
<p dir="auto">Fill JWT_PUBLIC_KEY in .env.docker:</p>
<div dir="auto" data-snippet-clipboard-copy-content="LINE=$(cat ./web-app/jwtRS256.key.pub | tr &#39;\n&#39; &#39;$&#39; | sed &#39;s|\$|\\\\n|g;s|^|JWT_PUBLIC_KEY=|g&#39;); sed -i &#34;s|^JWT_PUBLIC_KEY.*|$LINE|g&#34; -i ./web-app/.env"><pre>LINE=<span><span>$(</span>cat ./web-app/jwtRS256.key.pub <span>|</span> tr <span><span>&#39;</span>\n<span>&#39;</span></span> <span><span>&#39;</span>$<span>&#39;</span></span> <span>|</span> sed <span><span>&#39;</span>s|\$|\\\\n|g;s|^|JWT_PUBLIC_KEY=|g<span>&#39;</span></span><span>)</span></span><span>;</span> sed -i <span><span>&#34;</span>s|^JWT_PUBLIC_KEY.*|<span>$LINE</span>|g<span>&#34;</span></span> -i ./web-app/.env</pre></div>
<ol start="6" dir="auto">
<li>Fill some other variables</li>
</ol>
<p dir="auto">SERVER_HOST should be set to your HTTP host configured in Nginx or any other reverse-proxy server.</p>
<p dir="auto">On official app this variable is set to cryptboard.io</p>
<p dir="auto">SERVER_PORT should be a port, that is opened from docker container with running app</p>
<ol start="7" dir="auto">
<li>Configure Nginx</li>
</ol>
<p dir="auto">Use file conf/nginx/dockerless.conf as a template for your configuration.</p>
<p dir="auto">You should change:</p>
<p dir="auto">server_name, SSL certificate and key, root folder and PHP fastcgi_pass url</p>
<ol start="8" dir="auto">
<li>Open site in browser and check if it&#39;s running.</li>
</ol>
<p dir="auto">If it&#39;s not, look for logs of nginx and php and check what should be changed.</p>
</article>
          </div></div>
  </body>
</html>
