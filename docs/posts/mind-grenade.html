<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.fourmilab.ch/webtools/MindGrenade/">Original</a>
    <h1>Mind Grenade</h1>
    
    <div id="readability-page-1" class="page">



<hr/>

<h3>Origin</h3>

<p>
One should be considered lucky if, during their life, they
encounter a “wild talent”.  These are people who spin
off original ideas faster than others can write them down, undertake
challenges few others would imagine, no less attempt, and make you
feel exhausted yet exhilirated just trying to keep up.  The first
such person I met in my life was Harry S. Pyle, who was a classmate
of mine in engineering school.  At the time I met him, as a university
freshman, Harry was already an electronics wizard, having obtained the
highest level of amateur radio license (Amateur Extra),
been awarded a lifetime membership in the American Radio Relay
League based upon his proficiency in Morse code, and was among
the small number of radio amateurs using radioteletype (RTTY)
gear.  Legend had it that Harry could pick out his call sign
by ear when transmitted in frequency-shift-keying encoding
on the amateur radio bands.  I never saw him do this, but I
never doubted he could.
</p>

<p>
In later years Harry would go on to become, with Victor Poor,
co-designer of the instruction set of the
<a href="http://www.cpu-world.com/CPUs/8008/" rel="Target:Fourmilab_MG_Aux">Intel 8008</a> microprocessor,
which was the ancestor of the Intel <em>x</em>86 architecture
used by a majority of general-purpose computers today.  He was
a principal designer of
<a href="https://en.wikipedia.org/wiki/ARCNET" rel="Target:Fourmilab_MG_Aux">ARCnet</a>, the first commercial local
area computer network, and later worked in the area of computer
vision and communications.  Here is a
<a href="https://patents.justia.com/inventor/harry-s-pyle" rel="Target:Fourmilab_MG_Aux">list of patents</a>
granted to Harry Pyle.  Harry Pyle
<a href="https://www.legacy.com/obituaries/sanantonio/obituary.aspx?n=harry-pyle&amp;pid=163796104" rel="Target:Fourmilab_MG_Aux">died in 2013</a>.
</p>

<p>
In 1969, Harry amazed everybody with a little electronic gadget
he&#39;d built which, using the primitive digital integrated circuits
of the time, generated random music, played it through a speaker,
and flashed lights on its front panel.  It was precisely what
people expected computers to do, based upon portrayals in the movies
and on television, and yet it could be held in your hand and was,
internally, very simple.  He explained how it worked, and I
immediately knew I <em>had to have one</em>.  Digital electronics
was in a great state of flux at the time, with each manufacturer
launching their own line of integrated circuits, most incompatible
with one another, so there was no point in slavishly reproducing
Harry&#39;s design.  Starting from the concept, I designed my own
gadget from scratch, using Signetics Utilogic diode-transistor
small scale integration integrated circuits which were popular
at the time but shortly thereafter made obsolete by 7400 series
transistor-transistor logic (TTL).  The architecture was identical
to Harry&#39;s device, but I opted for more with-it and less power-hungry
light-emitting diodes (LEDs) for the display instead of the
incandescent bulbs he used.  I built the electronics assembly on
a sheet of perforated board using wire-wrap fabrication (some
people look down their noses at wire-wrap today, but it was good
enough for the Apollo Guidance Computer and almost every mainframe
backplane of the 1960s, and my wire-wrapped electronics works
perfectly fifty years later.)
</p>

<h3>Hardware</h3>

<p>
Here is the Mind Grenade I built.  Move the mouse over the image
to show legends on the controls.  The knob at left controls the
pitch of the music, while the knob at right sets its tempo
(speed).  The four switches at the bottom select one of 16
tunes, each 511 notes long, which the device can play. The
display panel shows the state of the nine bits of the
linear-feedback shift register used to generate the pseudorandom
sequence of notes.
</p>

<p>
<a href="https://www.fourmilab.ch/webtools/MindGrenade/figures/mind_grenade_01.png" rel="Target:Fourmilab_MG_Aux"><img src="https://www.fourmilab.ch/webtools/MindGrenade/figures/mind_grenade_01.png" alt="Mind Grenade: front view" id="im01" onmouseover="imswap(&#39;im01&#39;, &#39;figures/mind_grenade_01a.png&#39;);" onmouseout="imswap(&#39;im01&#39;, &#39;figures/mind_grenade_01.png&#39;);" width="640" height="480"/></a>
</p>

<p>
With the cover removed, we see the front panel with
the tempo and pitch controls, the display panel and,
beneath it (largely obscured by the rat&#39;s nest of wires)
the tune select switches, and the circuit board.  Below
the circuit board is the bottom-mounted speaker and the
AC power supply I added later to the original
battery-powered design.
</p>

<p>
<a href="https://www.fourmilab.ch/webtools/MindGrenade/figures/mind_grenade_02.png" rel="Target:Fourmilab_MG_Aux"><img src="https://www.fourmilab.ch/webtools/MindGrenade/figures/mind_grenade_02.png" alt="Mind Grenade: the insides" width="640" height="480"/></a>
</p>

<p>
Here is a detailed view of the circuit board; move the mouse
over the image to show functional units. The integrated circuits
were mounted in wire-wrap sockets, while discrete components had
their leads pushed through the board and spread to hold them in
place.  Off-board components, such as the tempo and pitch
potentiometers, tune select switches, and light-emitting diodes
(LEDs) were connected via three IC sockets into which dummy IC
“headers” were plugged with wires leading to the
components.  The nine 220 ohm resistors at the bottom left are
series current-limiting resistors for driving the LEDs from
logic level signals.
</p>

<p>
<a href="https://www.fourmilab.ch/webtools/MindGrenade/figures/mind_grenade_03.png" rel="Target:Fourmilab_MG_Aux"><img src="https://www.fourmilab.ch/webtools/MindGrenade/figures/mind_grenade_03.png" alt="Mind Grenade: circuit board detail" id="im03" onmouseover="imswap(&#39;im03&#39;, &#39;figures/mind_grenade_03a.png&#39;);" onmouseout="imswap(&#39;im03&#39;, &#39;figures/mind_grenade_03.png&#39;);" width="640" height="480"/></a>
</p>

<p>
All of the wiring of the digital components was done by
wire wrapping.  Discrete components such as resistors,
capacitors, and transistors had their leads pushed
through the perf board, bent outward a bit to hold
them in place, then soldered to one end of a wire to
either wire wrap or solder to the destination.
</p>

<p>
<a href="https://www.fourmilab.ch/webtools/MindGrenade/figures/mind_grenade_04.png" rel="Target:Fourmilab_MG_Aux"><img src="https://www.fourmilab.ch/webtools/MindGrenade/figures/mind_grenade_04.png" alt="Mind Grenade: wire wrap construction" width="640" height="480"/></a>
</p>

<p>
In 1969, few people had seen light-emitting diodes (LEDs).  The
front panel of the Mind Grenade had a block of red plastic into
which I drilled nine holes that did not penetrate the front
surface.  In each hole I placed a tiny red LED (the only colour
available at the time) in a clear package, with its leads bent
back to protrude from the hole.  The negative leads were all
connected together and grounded, while the positive leads were
soldered to wires which ran to connectors that plugged into the
circuit board.   After testing, I fixed the LEDs in place by
squirting clear silicone sealing compound into the holes. The
completed display panel was mounted with black silicone sealer
to the back of the square hole I&#39;d punched for it in the front
of the cabinet.
</p>

<p>
<a href="https://www.fourmilab.ch/webtools/MindGrenade/figures/mind_grenade_05.png" rel="Target:Fourmilab_MG_Aux"><img src="https://www.fourmilab.ch/webtools/MindGrenade/figures/mind_grenade_05.png" alt="Mind Grenade: display panel and LEDs" width="640" height="480"/></a>
</p>

<p>
The original Mind Grenade was powered by a 6 volt “lantern
battery”.  In the mid-1970s, I retrofitted a built-in AC
power supply using a 6.3 volt filament transformer, a bridge
rectifier, smoothing capacitor, and a TO-3 5 volt regulator.
The regulator generates relatively little heat, so simply
mounting it to the grounded box and leaving the package to
dissipate heat by convection is sufficient.  The power supply
was somewhat inelegant in that when you plugged in the device
the sound would “burble” for a brief interval until
the smoothing capacitor charged up, but then stabilised.
Because the transformer is designed for 60 Hz AC power, and the
likelihood the electrolytic smoothing capacitor is shot after
almost half a century, to run the Mind Grenade for the video in
this page I disconnected the power supply and ran the circuitry
from a 5 volt DC bench power supply.
</p>

<p>
<a href="https://www.fourmilab.ch/webtools/MindGrenade/figures/mind_grenade_06.png" rel="Target:Fourmilab_MG_Aux"><img src="https://www.fourmilab.ch/webtools/MindGrenade/figures/mind_grenade_06.png" alt="Mind Grenade: power supply retrofit" width="640" height="480"/></a>
</p>

<h3>How It Works</h3>

<p>
The Mind Grenade is based upon a 9-bit
<a href="https://en.wikipedia.org/wiki/Linear-feedback_shift_register" rel="Target:Fourmilab_MG_Aux">linear-feedback shift register</a>
which acts as a pseudorandom sequence generator with a period of
511. The shift register is built from Signetics SP322B
flip-flops, with the bit shifted out from the low-order being
exclusive-ored with fifth bit in the register and shifted in as
the new high-order bit, producing the maximum sequence length of 511
for a 9-bit register.  A Signetics N8242A Exclusive Or gate
is used to compute the bit shifted into the register on each step.
</p>

<p>
The shift register is clocked (shifted) by an analogue pulse
generator whose rate is controlled by the “Tempo”
(right) knob on the front panel, which adjusts the rate at
which the register shifts between around twice a second to more
than ten times a second.  Each time the register shifts, it will
take on a new value between 1 and 511, and the pattern will not
repeat until all 511 values have been generated.  This produces
the pseudorandom sequence which generates the “music”
played by the Mind Grenade.
</p>

<p>
To turn this number into a musical tone, we examine the value of
the least significant four bits of the nine bit shift register,
which will have a value from 0 to 15.  We then have a four bit
counter, also built from the same kind of flip-flops as the
shift register, which counts up starting from 0.  The value in
the counter is compared to that in the low four bits of the
shift register with logic built from Signetics SP337A and SP387
NAND gates and, when equality is detected, the counter is reset
to zero and a signal emitted which inverts a flip-flop dedicated
to generating the tone.  The output of this flip-flop is
amplified by a power transistor and used to drive the speaker.
The counter is incremented by a separate analogue pulse
generator whose speed is controlled by the “Pitch”
(left) knob on the front panel: this sets the frequency range
for the 16 tones generated based on the low four bits of the
shift register.  When the low four bits of the shift register
are all zero, the counter will be reset so fast that the
generated tone will be above the range of human hearing (and the
ability of the speaker to reproduce), and will produce a pause,
or rest note, in the output.
</p>

<p>
The four switches on the front panel control whether the value
of each of the four low bits of the shift register is sent
directly to the comparator or inverted before the comparison.
This allows selecting 16 different sequences of the notes
played by the device.  These are called the “Tune Select”
switches.  They only affect the mapping of the shift register
state to audible tones and may be changed at any time.
</p>

<h3>In Action</h3>

<p>
Here is a short video of the original Mind Grenade in action.
To avoid using the built-in power supply, which was designed
for 120 volt 60 Hz AC power, I disconnected it and powered the
electronics from a 5 volt DC bench power supply.  The piercing
timbre is due to the square wave output of the tone generator.
This video was made with the cover removed, which allows ambient
light to shine through the red plastic block holding the LEDs;
with the cover in place, you don&#39;t see the distraction of the
wires and non-illuminated LEDs.
</p>

<p>
<video width="640" height="480" controls="controls">
<source src="movies/MindGrenade.webm" type="video/webm"/>
<source src="movies/MindGrenade.mp4" type="video/mp4"/>
<source src="movies/MindGrenade.ogg" type="video/ogg"/>
    <b>Sorry, your browser does not support HTML5 video.</b>
</video>
</p>

<h3>The Software Simulator</h3>

<p>
Little did I imagine, when designing and building the Mind
Grenade hardware in 1969, that fifty years later I&#39;d be
emulating it on a computer which ran more than a thousand times
faster than the one I used in my day job at the time and,
furthermore, was sitting on my own desk.  But here we are.
</p>

<p>
Thanks to HTML5 and JavaScript, it is now possible to emulate
the hardware Mind Grenade entirely in software that runs within
any modern Web browser.  Below is an abstracted version of the
Mind Grenade front panel.  Press the power button at the bottom
to get things going.  The slider at the left controls the pitch
and the slider at the right sets the rate at which the notes
play.  The check boxes below the lights select any of the 16
possible tunes that can be played.
</p>

<div>
<canvas id="LEDs" width="256" height="256">
<b>Your browser does not support HTML5 canvas.</b>
</canvas>
<!-- Note: the two <input> range sliders below will fail validation
     because they contain a nonstandard "orient=" attribute.  This
     is required because Firefox doesn't understand the CSS
     definition for this option.  Yes, it's nonstandard HTML5, but
     if you don't use it the page won't lay out correctly on Firefox.
     It doesn't seem to do any harm in other browsers I've tested.  -->


<p>
Of course, what programmer can resist adding a few “special
modifications” which, doubtless, I would have thought of
fifty years ago if not constrained by limitations which have been
transcended in our age of extravagant computing?  Change the box
below from “Swinging Sixties” to “Roaring
Twenties” and an additional control panel will appear
which allows you to select:
</p>

<ul>
    <li><b>Shift register:</b> Choose the classic 9 bit
        shift register (511 note period before repeat), or
        a 31 bit shift register (2,147,483,647 note period).
        With the 31 bit shift register and a tempo of four notes
        per second, the tune will only repeat every 17 years.</li>

    <li><b>Tones:</b>  The original Mind Grenade
        generates tones by toggling the square wave output
        every time the counter reaches the value of the
        least significant four bits of the shift register.
        This results in frequencies which many musical instruments
        with fixed notes cannot play.  This was pointed out when a
        flautist of my acquaintance tried to play a duo for
        flute and Mind Grenade.  Checking “Well-tempered”
        replaces the binary tone generation with notes from the
        <a href="https://en.wikipedia.org/wiki/Well_temperament" rel="Target:Fourmilab_MG_Aux">well-tempered scale</a>
        chosen using the value of the least significant four (or
        five, if the 31 bit shift register is also selected) bits
        of the shift register as an index to a table of note
        frequencies.  This allows musicians to play along with
        the emulated Mind Grenade.  When Well-tempered is selected,
        the Pitch control adjusts the range of notes played by
        values from the shift register.</li>

    <li><b>Waveform:</b>  The original Mind Grenade always produced
        a square wave by amplifying the output of a flip-flop
        driven by the comparator to drive the speaker.  Square
        waves theoretically contain an infinite number of odd
        harmonics and sound very harsh.  If you prefer a more
        mellow tone, you can choose a triangle or even smoother
        pure sine wave (similar to the timbre of a flute).  When
        you choose a triangle or sine wave, you may wish to
        increase the volume, since they do not contain the extra
        energy of all of the harmonics of a square wave.</li>

    <li><b>Volume:</b>  The volume slider selects the volume of
        the audio output.  The original Mind Grenade didn&#39;t need no
        steenkin&#39; volume control.</li>

    <li><b>Colour:</b>  In 1969, you could get LEDs in any colour
        you wanted, as long as they were red or infrared.  Today
        we have no such limitations, and checking
        “Multicolour” changes the display into
        eight colour LEDs which show the current state and two
        previous states of each of the nine bits of the shift
        register.</li>
</ul>


</div>



<h3><a href="https://www.fourmilab.ch/documents/univac/morse.html" rel="Target:Fourmilab_MG_Aux">The Univac 1108 Morse Code Exec</a></h3>

<p>
This isn&#39;t the first software simulation of the Mind Grenade!  In
October 1971, I wrote the <a href="https://www.fourmilab.ch/documents/univac/morse.html" rel="Target:Fourmilab_MG_Aux">Morse Code Exec</a>, a fully-general
<a href="https://www.fourmilab.ch/documents/univac/" rel="Target:Fourmilab_MG_Aux">Univac 1108</a>
series operating system which could be booted into any memory
module by any processor or IOC of a Univac 1108 single- or
multiprocessor system and would, if the “Audio”
button was pressed on the CPU maintenance panel, run the Mind
Grenade music algorithm on a Moon Race-era multi-megabuck
supercomputer and, <em>ahem</em>, to boot, send Morse code for
keys you typed on the console.  Hey, if you had a
multiprocessor, you could have multi-channel audio!  Don&#39;t
believe it?  Here&#39;s
<a href="https://www.fourmilab.ch/documents/univac/morse.html" rel="Target:Fourmilab_MG_Aux">source code</a>!
</p>

<h3>Mind Grenade in <cite>Second Life</cite></h3>

<p>
In December 2019, the Mind Grenade came to life once more, this time
in the <cite><a href="https://en.wikipedia.org/wiki/Second_Life" rel="Target:Fourmilab_MG_Aux">Second Life</a></cite>
virtual world.  Built as an object which can be instantiated
in the world, and programmed in <cite>Second Life</cite>&#39;s Linden
Scripting Language,
<a href="https://marketplace.secondlife.com/p/Fourmilab-Mind-Grenade/18005548" rel="Target:Fourmilab_MG_Aux">Fourmilab Mind Grenade</a> is
available for free from the Second Life Marketplace, delivered
with “full permissions”, allowing users to examine and modify it
as they wish, including the source code of the script that drives
it.  Complete source code and support files may be
<a href="https://github.com/Fourmilab/mind_grenade" rel="Target:Fourmilab_MG_Aux">downloaded from GitHub</a>.
</p>

<p>
The <cite>Second Life</cite> Mind Grenade is an extended version of
the original design, much like the “Swinging Sixties” Web
implementation on this page, providing a 31 bit shift register which,
running at four notes per second, repeats only once every 17 years,
and colour display based upon the three most recent states of each
bit displayed.  Here is a video demonstration of the Mind Grenade
running in <cite>Second Life</cite>.
</p>

<p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/F5sOpLgJkZQ" title="Fourmilab Mind Grenade for Second Life" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen="">
</iframe>
</p>



<h3><a href="https://www.fourmilab.ch/webtools/MindGrenade/sim.html">Just Show the Simulator</a></h3>
<h3><a href="https://www.fourmilab.ch/?topic=history">Computing History and Nostalgia at Fourmilab</a></h3>
<h3><a href="https://www.fourmilab.ch/">Fourmilab Home Page</a></h3>

<hr/>
<address>
<a href="https://www.fourmilab.ch/">by John Walker</a></address>


</div>
  </body>
</html>
