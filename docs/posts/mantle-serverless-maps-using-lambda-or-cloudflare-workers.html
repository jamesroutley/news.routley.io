<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://protomaps.com/blog/serverless-self-hosted-maps/">Original</a>
    <h1>Mantle – Serverless Maps Using Lambda or Cloudflare Workers</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="articleBody"><p>In my <a href="https://protomaps.com/blog/free-tier-maps">last post</a>, I described the downsides of the existing “pay-as-you-go” business model for maps. Organizations searching for a map solution weigh the benefits and drawbacks of <em>build vs. buy</em>. Buying a hosted SaaS — and letting someone else manage infrastructure for you — makes sense when DIY map infrastructure looks like this diagram:</p><p><img src="https://protomaps.com/assets/images/infra_before-246164aaabeaf930c2fd33425766eeb6.png"/></p><p>In this post, I&#39;ll introduce <strong>Mantle, the commercial offering of the Protomaps system.</strong> It&#39;s the same backend that powers the interactive Leaflet maps on this site, like at <a href="https://protomaps.com/downloads/large_map" target="_blank" rel="noopener noreferrer">Protomaps Downloads</a>. It enables scalable hosting of map data with two moving parts:</p><p><img src="https://protomaps.com/assets/images/infra_after-0eacd9a3d9f8e472a1ddac140ef0de96.png"/></p><h2><a aria-hidden="true" tabindex="-1" id="runs-in-your-own-cloud-account"></a>Runs in your own cloud account<a href="#runs-in-your-own-cloud-account" title="Direct link to heading">#</a></h2><p>Mantle is a commercial product bundling the <a href="https://github.com/protomaps" target="_blank" rel="noopener noreferrer">open source components of the Protomaps ecosystem</a> into a <strong>planet-scale, deployment-friendly solution for organizations.</strong></p><p>It has a mere two components:</p><ul><li>A <strong>serverless app</strong> that runs on either AWS Lambda @ Edge or Cloudflare Workers. </li><li>A <strong>global basemap vector tile dataset</strong> derived from OpenStreetMap and delivered as a single 62 GB <a href="https://github.com/protomaps/PMTiles" target="_blank" rel="noopener noreferrer">PMTiles</a> archive that lives on S3 or compatible storage.</li></ul><p>With this combination, you get near-infinite storage space and scaling, edge caching for low latency, and security with SSL and CORS, <strong>powered by your existing cloud account and CDN.</strong></p><h2><a aria-hidden="true" tabindex="-1" id="mantle-is-not-a-saas"></a>Mantle is not a SaaS<a href="#mantle-is-not-a-saas" title="Direct link to heading">#</a></h2><p>I&#39;ll emphasize here that this solution is <strong>not Software as a Service (SaaS).</strong> It is licensed for a flat fee and self-hosted. It lives in your own AWS or Cloudflare account, but involves zero server management, databases or certificates. </p><p>The software industry has shifted to hosted services because the diversity of on-premise installation induces fractal complexity. &#34;Serverless&#34; computing offers an elegant path forward: Mantle takes less than an hour to set up in your own account, and deployment of the CDN code is merely pasting a JavaScript snippet:</p><div><p><img src="https://protomaps.com/assets/images/lambda_deploy-1f3a8feadbf9aa42e8c53040e353d15c.png"/></p><p>deploys purely through the AWS Console</p></div><h2><a aria-hidden="true" tabindex="-1" id="differentiation-in-maps"></a>Differentiation in Maps<a href="#differentiation-in-maps" title="Direct link to heading">#</a></h2><p><strong>The market for map APIs is crowded.</strong> Google Maps pioneered selling a hosted API to developers, and has maintained its lead in data completeness and quality. Rivals to the Google Maps API such as MapBox and even AWS and Microsoft offer more affordable plans, but stick to the <a href="https://protomaps.com/blog/free-tier-maps">pay-as-you-go business model</a> with a focus on the most profitable market segments.</p><p>While the Protomaps system has a lot of catching up to do in cartographic refinement, it has a key <a href="https://hbr.org/2015/12/what-is-disruptive-innovation" target="_blank" rel="noopener noreferrer">disruptive</a> advantage over incumbents. A Mantle installation enables you to serve <strong>unlimited map tile traffic</strong>, incurring only the costs of the underlying storage and CDN. Unlike hosted services, you&#39;re free to cache, transform, and re-combine the data as you see fit for your application with no vendor lock-in.</p><p>To illustrate the cost savings, every additional 1,000 users that load a map on <a href="https://mapsplatform.google.com/pricing/" target="_blank" rel="noopener noreferrer">Google Maps costs 7 USD</a>. An additional million hits to <a href="https://workers.cloudflare.com" target="_blank" rel="noopener noreferrer">Cloudflare Workers</a> costs fifteen cents. Even taking into account the additional cost of storage and bandwidth, there&#39;s a <strong>10x to 100x difference in total costs.</strong></p><h2><a aria-hidden="true" tabindex="-1" id="pricing"></a>Pricing<a href="#pricing" title="Direct link to heading">#</a></h2><p>The introductory pricing for Mantle is a <strong>flat, per-site license of 950 USD a year</strong>, for integration into one End Product. You can continue to run Mantle after your one-year expires, but won&#39;t have access to updated software, datasets or support. </p><h2><a aria-hidden="true" tabindex="-1" id="funding-open-source"></a>Funding Open Source<a href="#funding-open-source" title="Direct link to heading">#</a></h2><p>Mantle is a capstone product for the <a href="http://github.com/protomaps" target="_blank" rel="noopener noreferrer">ecosystem of Protomaps tools</a>, covering a spectrum of technolology from <a href="https://github.com/protomaps/OSMExpress" target="_blank" rel="noopener noreferrer">spatial databases</a> to <a href="https://github.com/protomaps/protomaps.js" target="_blank" rel="noopener noreferrer">TypeScript map rendering</a>, as well as free, ODbL packaged geodata at <a href="https://protomaps.com/downloads" target="_blank" rel="noopener noreferrer">Protomaps Downloads</a>. All software components are published under commercial-friendly, permissive BSD licenses, and you can assemble a production-ready system from them. </p><p>Protomaps is currently a single-person, bootstrapped business, which removes the constraints of a typical tech startup. My intent is for the majority of mapping users — hobbyists, NGOs, corporations, everything in between — to use it completely for free. A first commercial offering is the <strong>entry point for businesses to support the development of this open source ecosystem, influence its future, and get expert support</strong> for their own environments and datasets.</p><h2><a aria-hidden="true" tabindex="-1" id="get-started"></a>Get Started<a href="#get-started" title="Direct link to heading">#</a></h2><p> Mantle has been tested by early users for a few months, and I&#39;m gradually onboarding new customers with personalized support. If you&#39;d like to take advantage of the introductory pricing, fill out <a href="https://forms.gle/AdLVh4W8pwvNEZQS7" target="_blank" rel="noopener noreferrer">this short form</a> and I&#39;ll get in contact via email.</p></div></div>
  </body>
</html>
