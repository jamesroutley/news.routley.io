<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/pex-tool/pex">Original</a>
    <h1>Pex: A tool for generating .pex (Python EXecutable) files, lock files and venvs</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<a href="https://github.com/pex-tool/pex/actions?query=branch%3Amain+workflow%3ACI"><img alt="https://github.com/pex-tool/pex/workflows/CI/badge.svg?branch=main" src="https://github.com/pex-tool/pex/workflows/CI/badge.svg?branch=main"/></a>
<a href="https://pypi.org/project/pex/" rel="nofollow"><img src="https://camo.githubusercontent.com/33b1133e6e528e92d142dcad543a1be8d2c3ef4aa41e8b3702f1b2dcf1e2ba7f/68747470733a2f2f696d672e736869656c64732e696f2f707970692f6c2f7065782e737667" data-canonical-src="https://img.shields.io/pypi/l/pex.svg"/>
</a>
<a href="https://pypi.org/project/pex/" rel="nofollow"><img src="https://camo.githubusercontent.com/972373d599808c9af16d3490070b8c95f639909611ece7a3edbeff2f9c1c0144/68747470733a2f2f696d672e736869656c64732e696f2f707970692f762f7065782e737667" data-canonical-src="https://img.shields.io/pypi/v/pex.svg"/>
</a>
<a href="https://pypi.org/project/pex/" rel="nofollow"><img src="https://camo.githubusercontent.com/e90d207c432269e2adf94b28073775161a60ad681448926abc22203e17388b35/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f7065782e737667" data-canonical-src="https://img.shields.io/pypi/pyversions/pex.svg"/>
</a>
<a href="https://pypi.org/project/pex/#files" rel="nofollow"><img src="https://camo.githubusercontent.com/4f52fcb68b39f259b01a854400306ff0e6a41216b187de9e0ef4acf6cbbfb3a2/68747470733a2f2f696d672e736869656c64732e696f2f707970692f776865656c2f7065782e737667" data-canonical-src="https://img.shields.io/pypi/wheel/pex.svg"/>
</a>
<a href="https://pex-tool.org/discord" rel="nofollow"><img alt="https://img.shields.io/discord/1205942638763573358" src="https://camo.githubusercontent.com/c8f65356872090b9503199748fd57884dda1c8996277d8594aeae2aff8ec839a/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f31323035393432363338373633353733333538" data-canonical-src="https://img.shields.io/discord/1205942638763573358"/></a>

<a name="user-content-overview"></a>

<p dir="auto">pex is a library for generating .pex (Python EXecutable) files which are
executable Python environments in the spirit of <a href="http://virtualenv.org" rel="nofollow">virtualenvs</a>.
pex is an expansion upon the ideas outlined in
<a href="https://peps.python.org/pep-0441/" rel="nofollow">PEP 441</a>
and makes the deployment of Python applications as simple as <code>cp</code>.  pex files may even
include multiple platform-specific Python distributions, meaning that a single pex file
can be portable across Linux and OS X.</p>
<p dir="auto">pex files can be built using the <code>pex</code> tool.  Build systems such as <a href="http://pantsbuild.org/" rel="nofollow">Pants</a>, <a href="http://facebook.github.io/buck/" rel="nofollow">Buck</a>, and  <a href="https://github.com/linkedin/pygradle">{py}gradle</a>  also
support building .pex files directly.</p>
<p dir="auto">Still unsure about what pex does or how it works?  Watch this quick lightning
talk: <a href="http://www.youtube.com/watch?v=NmpnGhRwsu0" rel="nofollow">WTF is PEX?</a>.</p>
<p dir="auto">pex is licensed under the Apache2 license.</p>
<a name="user-content-installation"></a>

<p dir="auto">To install pex, simply</p>

<p dir="auto">You can also build pex in a git clone using tox:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ tox -e package
$ cp dist/pex ~/bin"><pre>$ tox -e package
$ cp dist/pex <span>~</span>/bin</pre></div>
<p dir="auto">This builds a pex binary in <code>dist/pex</code> that can be copied onto your <code>$PATH</code>.
The advantage to this approach is that it keeps your Python environment as empty as
possible and is more in-line with what pex does philosophically.</p>
<a name="user-content-simple-examples"></a>

<p dir="auto">Launch an interpreter with <code>requests</code>, <code>flask</code> and <code>psutil</code> in the environment:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ pex requests flask &#39;psutil&gt;2,&lt;3&#39;"><pre>$ pex requests flask <span><span>&#39;</span>psutil&gt;2,&lt;3<span>&#39;</span></span></pre></div>
<a name="user-content-save-dependencies-from-pip"></a>

<p dir="auto">Or instead freeze your current virtualenv via requirements.txt and execute it anywhere:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ pex $(pip freeze) -o my_virtualenv.pex
$ deactivate
$ ./my_virtualenv.pex"><pre>$ pex <span><span>$(</span>pip freeze<span>)</span></span> -o my_virtualenv.pex
$ deactivate
$ ./my_virtualenv.pex</pre></div>
<a name="user-content-ephemeral-environments"></a>

<p dir="auto">Run webserver.py in an environment containing <code>flask</code> as a quick way to experiment:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ pex flask -- webserver.py"><pre>$ pex flask -- webserver.py</pre></div>
<p dir="auto">Launch Sphinx in an ephemeral pex environment using the Sphinx entry point <code>sphinx:main</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ pex sphinx -e sphinx:main -- --help"><pre>$ pex sphinx -e sphinx:main -- --help</pre></div>
<a name="user-content-using-entry-points"></a>

<p dir="auto">Projects specifying a <code>console_scripts</code> entry point in their configuration
can build standalone executables for those entry points.</p>
<p dir="auto">To build a standalone <code>pex-tools-executable.pex</code> binary that runs the
<code>pex-tools</code> console script found in all pex version <code>2.1.35</code> and newer distributions:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ pex &#34;pex&gt;=2.1.35&#34; --console-script pex-tools --output-file pex-tools-executable.pex"><pre>$ pex <span><span>&#34;</span>pex&gt;=2.1.35<span>&#34;</span></span> --console-script pex-tools --output-file pex-tools-executable.pex</pre></div>
<a name="user-content-specifying-a-specific-interpreter"></a>

<p dir="auto">You can also build pex files that use a specific interpreter type:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ pex &#34;pex&gt;=2.1.35&#34; -c pex-tools --python=pypy -o pex-tools-pypy-executable.pex"><pre>$ pex <span><span>&#34;</span>pex&gt;=2.1.35<span>&#34;</span></span> -c pex-tools --python=pypy -o pex-tools-pypy-executable.pex</pre></div>
<p dir="auto">Most pex options compose well with one another, so the above commands can be
mixed and matched, and equivalent short options are available.</p>
<p dir="auto">For a full list of options, just type <code>pex --help</code>.</p>
<a name="user-content-integrating-pex-into-your-workflow"></a>

<p dir="auto">If you use tox (and you should!), a simple way to integrate pex into your
workflow is to add a packaging test environment to your <code>tox.ini</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="[testenv:package]
deps = pex
commands = pex . -o dist/app.pex"><pre><span>[testenv:package]</span>
<span>deps</span> = pex
<span>commands</span> = pex . -o dist/app.pex</pre></div>
<p dir="auto">Then <code>tox -e package</code> will produce a relocatable copy of your application
that you can copy to staging or production environments.</p>
<a name="user-content-documentation"></a>

<p dir="auto">More documentation about Pex, building .pex files, and how .pex files work
is available at <a href="https://docs.pex-tool.org" rel="nofollow">https://docs.pex-tool.org</a>.</p>
<a name="user-content-development"></a>

<p dir="auto">Pex uses <a href="https://tox.wiki/en/latest/" rel="nofollow">tox</a> for test and development automation. To run
the test suite, just invoke tox:</p>

<p dir="auto">If you don&#39;t have tox, you can generate a pex of tox:</p>
<pre>$ pex tox -c tox -o ~/bin/tox
</pre>
<p dir="auto">Tox provides many useful commands and options, explained at <a href="https://tox.wiki/en/latest/" rel="nofollow">https://tox.wiki/en/latest/</a> .
Below, we provide some of the most commonly used commands used when working on Pex, but the
docs are worth acquainting yourself with to better understand how Tox works and how to do more
advanced commands.</p>
<p dir="auto">To run a specific environment, identify the name of the environment you&#39;d like to invoke by
running <code>tox --listenvs-all</code>, then invoke like this:</p>
<pre>$ tox -e fmt
</pre>
<p dir="auto">To run MyPy:</p>
<pre>$ tox -e check
</pre>
<p dir="auto">All of our tox test environments allow passthrough arguments, which can be helpful to run
specific tests:</p>
<pre>$ tox -e py37-integration -- -k test_reproducible_build
</pre>
<p dir="auto">To run Pex from source, rather than through what is on your PATH, invoke via Python:</p>
<pre>$ python -m pex
</pre>

</article></div></div>
  </body>
</html>
