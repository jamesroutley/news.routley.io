<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://lapcatsoftware.com/articles/2024/5/4.html">Original</a>
    <h1>macOS Sonoma silently enabled iCloud Keychain despite my precautions</h1>
    
    <div id="readability-page-1" class="page">
<nav>
Previous: <a href="https://lapcatsoftware.com/articles/2024/5/3.html">Updating from macOS Ventura to Sonoma silently enables iCloud Keychain</a>
</nav>
<header><a href="https://lapcatsoftware.com">Jeff Johnson</a> (<a href="https://underpassapp.com">My apps</a>, <a href="https://www.paypal.me/JeffJohnsonWI">PayPal.Me</a>, <a href="https://mastodon.social/@lapcatsoftware" title="@lapcatsoftware@mastodon.social">Mastodon</a>)</header>
<p><a href="https://lapcatsoftware.com/FeedbackAssistantBoycott/">Feedback Assistant Boycott</a></p>

<h3>May 26 2024</h3>

<p>This is a follow-up to my blog post <a href="https://lapcatsoftware.com/articles/2024/5/3.html">Updating from macOS Ventura to Sonoma silently enables iCloud Keychain</a>. In the addendum to that blog post, I discussed a workaround, which was to delete my WiFi password right before rebooting into the updater. In a trial run on my M1 Mac mini, the workaround was successful.</p>
<blockquote>Thankfully, iCloud Keychain remained disabled after I connected to WiFi again, and even after I rebooted, so this seems like a permanent solution!</blockquote>
<p>The success of the trial run gave me the confidence to update my main development machine, an M1 MacBook Pro, from Ventura to Sonoma. Unfortunately, for unknown reasons, I experienced a different result the second time. As before, the workaround did successfully prevent Sonoma from connecting to my WiFi network. And as before, I confirmed in System Settings that iCloud Keychain was still disabled after the Sonoma update. However, after I finally connected to my WiFi network again, I discovered to my horror that Sonoma <em>did</em> then silently enable iCloud Keychain. My workaround was ultimately futile.</p>
<p><img src="https://lapcatsoftware.com/articles/2024/5/4-images/1.png" width="582" height="391" alt="iCloud Passwords &amp; Keychain: Sync this Mac"/></p>
<p>By the way, toggling off &#34;Sync this Mac&#34; caused System Settings to hang and eventually crash the preference pane, which also happened in one of my earlier trial runs. Has anybody inside Apple ever tested this scenario?</p>
<p><img src="https://lapcatsoftware.com/articles/2024/5/4-images/2.png" width="372" height="330" alt="Settings Error: Extension process Apple ID exited."/></p>
<p>On my Mac mini already running Sonoma, I saw a new warning in System Settings, &#34;Some iCloud Data Isn&#39;t Syncing&#34;.</p>
<blockquote>Your end-to-end encrypted data stored in iCloud can&#39;t be accessed on this device. It includes saved passwords and data from Health and Maps. Verify your account information to resume syncing.</blockquote>
<p><img src="https://lapcatsoftware.com/articles/2024/5/4-images/3.png" width="369" height="104" alt="Some iCloud Data Isn&#39;t Syncing"/></p>
<p>(It should be noted that I don&#39;t use Health or Apple Maps.)</p>
<p>Clicking the Resume Data Sync button made the warning go away and didn&#39;t enable iCloud Keychain on the Mac mini, but I don&#39;t know why I was getting the warning in the first place. I didn&#39;t see the same warning on my iPad, also signed into iCloud.</p>
<p>Another bit of Sonoma bugginess I experienced was a zombie keychain that could not be removed from the Keychain Access app.</p>
<p><img src="https://lapcatsoftware.com/articles/2024/5/4-images/4.png" width="455" height="347" alt="System Keychains: Ventura"/></p>
<p>What happened was that after I noticed iCloud Keychain had been silently enabled on my MacBook Pro, I copied my login (non-system) keychain from one of my Ventura backups (of course I made redundant backups before updating to Sonoma), renamed it to &#34;Ventura&#34;, and imported it into Keychain Access for the purpose of comparing the old and new login keychains, checking for data loss or other issues. Fortunately, I found no issues, so I deleted the imported Ventura keychain from Keychain Access. Nonetheless, the next time I launched Keychain Access, I found the above zombie keychain, misplaced under System Keychains, with all menu items disabled.</p>
<p>I was able to solve this problem by once again copying the old keychain file from backup and putting it in the same place on disk as before. Then the next time I launched Keychain Access, the Ventura keychain appeared enabled under the correct category of Custom Keychains instead of System Keychains, and on the second try I was able to delete the keychain permanently. But wow, none of my experience here inspires confidence in Apple&#39;s software quality, especially with regard to &#34;security&#34;.</p>
<p>An unpleasant side effect of updating to Sonoma—as if there weren&#39;t enough unpleasant side effects already—is that logging into <a href="https://appstoreconnect.apple.com">App Store Connect</a> now offers passkeys as the default rather than passwords, despite the fact that I don&#39;t have any passkeys saved and indeed cannot save any passkeys with iCloud Keychain disabled. So now there are extra steps to login, and Apple makes you login again every time Safari is relaunched, because as I&#39;ve blogged about multiple times, <a href="https://lapcatsoftware.com/articles/crappstoreconnect4.html">App Store Connect is the worst web site ever made</a>.</p>
<p><img src="https://lapcatsoftware.com/articles/2024/5/4-images/5.png" width="485" height="354" alt="App Store Connect: Passkey for this website"/></p>
<p>I&#39;m currently working on a solution to this problem. I have noticed that the passkey option goes away if I spoof the browser User-Agent as Chrome.</p>
<p>You (a Borg) might ask, why don&#39;t I just &#34;go with the flow&#34;, adopt iCloud Keychain and passkeys? (Resistance is futile. You will be assimilated.) On principle, I should not have to upload my data to Apple if I don&#39;t want. Apple advertises itself as the &#34;privacy&#34; company, but uploading user data to Apple&#39;s servers without notice or consent is a gross violation of privacy. I&#39;ve always managed my data myself, taking personal responsibility for protecting it and backing it up. I don&#39;t want or need Apple to insert itself into this process as a remote nanny. Paternalism makes my blood boil.</p>
<p>Moreover, even if I wanted to use iCloud Keychain, why in the world should I trust the sync system to work correctly when faced with Apple&#39;s demonstrably poor software quality? Something else I noticed after updating to Sonoma: although I&#39;ve tried many times in the past to extinguish it, the text replacement <code>omw</code> has once again returned, almost like a cicada.</p>
<p><img src="https://lapcatsoftware.com/articles/2024/5/4-images/6.png" width="582" height="338" alt="System Settings Text Replacements: On my way!"/></p>

<p><a href="https://lapcatsoftware.com/FeedbackAssistantBoycott/">Feedback Assistant Boycott</a></p>

<header><a href="https://lapcatsoftware.com">Jeff Johnson</a> (<a href="https://underpassapp.com">My apps</a>, <a href="https://www.paypal.me/JeffJohnsonWI">PayPal.Me</a>, <a href="https://mastodon.social/@lapcatsoftware" title="@lapcatsoftware@mastodon.social">Mastodon</a>)</header>
<nav><a href="https://lapcatsoftware.com/articles/index.html" title="The Desolation of Blog">Articles index</a></nav>


</div>
  </body>
</html>
