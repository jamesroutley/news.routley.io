<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.theregister.com/2024/04/17/30yo_netbsd_releases_v10/">Original</a>
    <h1>NetBSD 10: Proper old-school Unix, not like those lazy, decadent Linux types</h1>
    
    <div id="readability-page-1" class="page"><div id="body">
<p><span>FOSDEM 2024</span> NetBSD 10 marks a new level of maturity for this venerable open source Unix system, which somehow manages to be both modern and retro at the same time.</p>
<p>By our reckoning, including the <a target="_blank" href="http://www.netbsd.org/releases/formal.html" rel="nofollow">minor point releases</a>, NetBSD 10.0 is the 71st release of the NetBSD operating system. By the project&#39;s own measures, NetBSD 10 is the <a target="_blank" href="http://www.netbsd.org/releases/formal-10/NetBSD-10.0.html" rel="nofollow">18th major release</a>. In other words, this is a significant release of a mature OS.</p>
<p>Among the highlights are improved SMP performance, faster virtual memory, an improved scheduler, which is aware of performance and efficiency cores, much improved cryptography and security including WireGuard VPN support and support for ARMv8-A security features, and wide-ranging improvements to the system&#39;s code sanitizers, testing, and QA.</p>
<div><p><a href="https://regmedia.co.uk/2024/04/15/netbsd-10-ctwm.png" target="_blank"><img src="https://regmedia.co.uk/2024/04/15/netbsd-10-ctwm.png?x=648&amp;y=405&amp;infer_y=1" alt="NetBSD 10&#39;s default graphical environment is the very retro Ctwm, but it&#39;s quick and it works." title="NetBSD 10&#39;s default graphical environment is the very retro Ctwm, but it&#39;s quick and it works." height="405" width="648"/></a></p><p>NetBSD 10&#39;s default graphical environment is the very retro Ctwm, but it&#39;s quick and it works – click to enlarge</p>
</div>
<p>In a modest way, the team has been celebrating, including a talk at this year&#39;s FOSDEM conference in Brussels, which <em>The Reg</em> FOSS Desk attended – <a target="_blank" href="https://fosdem.org/2024/schedule/event/fosdem-2024-3508-netbsd-10-thirty-years-still-going-strong-/" rel="nofollow">NetBSD 10: Thirty years, still going strong!</a> – complete with a <a target="_blank" href="https://docs.google.com/presentation/d/1ZzaW9eI4wmMRGOnJ1uo-kGk5b_UvIOuU9Zgur4au_8s/edit" rel="nofollow">Google Slides deck</a>. In the talk, NetBSD developer Benny Siegert made several points, including that although NetBSD 0.8 came out in April 1993, work on BSD itself started in 1974, making the project as a whole 50 years old.</p>
<p>NetBSD is the oldest of the BSD projects, and in some ways sticks closest to the original. It supports a <a target="_blank" href="http://wiki.netbsd.org/ports/" rel="nofollow">remarkable number of active &#34;ports.&#34;</a> This is NetBSD&#39;s term for the different types of computer it can run on: eight &#34;tier 1&#34; first-class supported platforms, plus another 47, which are also at version 10. One of the project&#39;s mottos is &#34;Of <strong>course</strong> it runs NetBSD!&#34; and that&#39;s fair – there&#39;s no other OS in the world that runs on so many different architectures and platforms.</p>

    

<p>Siegert&#39;s talk addressed many of NetBSD&#39;s strengths and weaknesses compared to Linux, and for an overview, we recommend at least reading the slides. We were struck, though, by how one question caught him without a ready answer: &#34;Why choose NetBSD instead of FreeBSD?&#34; He hesitated before suggesting that the community of NetBSD users and developers was smaller and friendlier, and thus more welcoming than the larger FreeBSD community. He clarified to <em>The Reg</em> that what counts is:</p>

<p>We also spoke with kernel developer and release engineer Martin Husemann, who noted a fringe benefit of the extended release process for version 10:</p>

<p>His take on the inter-BSD comparison surprised us. When we suggested that one comparison was wider hardware support than FreeBSD but comparable to OpenBSD, he said:</p>

<h3>Taking it for a spin</h3>
<p>The last time we looked at NetBSD, we <a target="_blank" href="https://www.theregister.com/2022/08/10/netbsd_93/">checked out version 9.3</a> by installing it in VirtualBox. Emboldened by the familiarity gained in this experience, we decided to try the new version on bare metal. We thought it would be a fair comparison to use the same testbed as we did for <a target="_blank" href="https://www.theregister.com/2024/04/12/openbsd_75_disk_encryption/">OpenBSD 7.5 last week</a>, a venerable Thinkpad W500, a fairly fast Core 2 Duo machine with an ATI Mobility FireGL V5700 GPU, maxed out with 8 GB of RAM and a 256 GB SSD. This isn&#39;t a powerhouse anymore, but we hoped that its older hardware would be well supported, and previously it&#39;s proved surprisingly responsive with <a target="_blank" href="https://www.theregister.com/2023/01/11/haiku_beta_4/">Haiku beta 4</a> and <a target="_blank" href="https://www.theregister.com/2023/05/16/alpine_linux_318/">Alpine Linux 3.18</a>.</p>
<p>It&#39;s more than four years since <a target="_blank" href="https://www.netbsd.org/releases/formal-9/NetBSD-9.0.html" rel="nofollow">NetBSD 9.0</a> appeared, and indeed we were pleased to find that some of our niggles we experienced in the preceding release have gone away. The cursor keys worked as we expected, including on the text console. NetBSD fails to boot from a <a target="_blank" href="https://www.theregister.com/2021/12/10/friday_foss_fest/">Ventoy USB key</a>, but written to a key of its own it worked fine. The installer brought up Wi-Fi perfectly first time – more than OpenBSD could until it could fetch the firmware over Ethernet.</p>

        


        

<p>The installer continues to be cumbersome. It&#39;s aimed at lowest-common-denominator hardware so it&#39;s mostly controlled by pressing letters and numbers (we guess because not all terminals have cursor keys). We couldn&#39;t work out how to reformat the empty 32 GB FAT32 primary partition that we&#39;d left ready, although OpenBSD did that no problem. We couldn&#39;t even find a way to just delete it. In the end, we rebooted into Linux and deleted it from there.</p>
<p>NetBSD happily created a partition for itself in the resultant gap, although it insisted on asking us about cylinders, heads, and tracks, none of which our SSD possesses. The installer created its own sub-partitions in its new primary partition, and installed itself into those.</p>

        

<p>We only tripped over one thing. We didn&#39;t want to put the NetBSD bootloader in the MBR. As well as OpenBSD, this machine already has Windows XP64, Q4OS, and Bodhi Linux on it. Trying to avoid overwriting GRUB meant that we got no NetBSD bootloader at all. There was no obvious option to put it into the root partition, as in OpenBSD. We rebooted, did an in-place upgrade (meaning from 10.0 to 10.0, with all package sets turned off), and this time accepted the default bootloader option. It worked fine, and installed NetBSD&#39;s own bootloader to the root partition as we wanted. If you are dual-booting with Linux, then just as with OpenBSD on the same machine, you need to <code>chainload</code> the NetBSD bootloader from GRUB – for example, <a target="_blank" href="https://help.ubuntu.com/community/Grub2%20Other%20Os" rel="nofollow">here&#39;s how to do it from Ubuntu</a>.</p>
<p>This time around, we knew that after the install, we had to remain in the <code>sysinst</code> program a little longer and complete some more steps, which meant that by our first reboot, we had a working package manager, configured with online repositories, a hostname, and so on. The experience was much smoother, and on our first boot, we got a graphical login screen and a <a target="_blank" href="https://www.ctwm.org/index.html" rel="nofollow">&#34;lightweight and fairly minimal window manager.&#34;</a> We experimentally installed a couple of small tools such as <a target="_blank" href="https://htop.dev/" rel="nofollow">htop</a> and <a target="_blank" href="https://github.com/dylanaraps/neofetch" rel="nofollow">neofetch</a>. Everything just worked so we went for something bigger:</p>
<pre><code>pkgin -y install firefox</code>
</pre>
<ul>

<li><a href="https://www.theregister.com/2024/04/15/ubuntu_24_04_belated_beta/">After delay due to xz, Ubuntu 24.04 &#39;Noble Numbat&#39; belatedly hits beta</a></li>

<li><a href="https://www.theregister.com/2024/04/12/openbsd_75_disk_encryption/">OpenBSD 7.5 locks down with improved disk encryption support and syscall limitations</a></li>

<li><a href="https://www.theregister.com/2024/04/12/gcc_14_sinks_itanic/">GCC 14 dropping IA64 support is final nail in the coffin for Itanium architecture</a></li>

<li><a href="https://www.theregister.com/2024/04/11/pumpkin_os_foss_palmos/">PumpkinOS carves out a FOSS PalmOS-compatible runtime environment</a></li>
</ul>
<p>That worked too, albeit not quite as we expected. We got a nightly build, rather than the latest release 124, and it pulled in some unexpected dependencies such as Python 3 and Wayland – although NetBSD <a target="_blank" href="https://blog.netbsd.org/tnf/entry/wayland_on_netbsd_trials_and" rel="nofollow">doesn&#39;t support Wayland</a>. These things seem unrelated to Firefox, and we&#39;re strongly reminded of Poul-Henning Kamp&#39;s classic essay, <a target="_blank" href="https://queue.acm.org/detail.cfm?id=2349257" rel="nofollow">A Generation Lost in the Bazaar</a>.</p>
<p>Adding other relatively substantial packages, such as Abiword, Gnumeric, VLC, or even the MATE system monitor, worked much the same. We also installed Xfce, using the <a target="_blank" href="https://slice2.com/2019/09/21/howto-install-the-xfce-4-desktop-on-netbsd-8-1/" rel="nofollow">same outdated guide</a> we used for NetBSD 9.3. Everything we tried worked fine, and Xfce gave us a more familiar, flexible environment, with luxuries such as adjustable font sizes.</p>
<p>NetBSD 10 is a fascinating contrast with modern Linux. It works well. For instance, our Thinkpad&#39;s sound chip and ATI GPU were detected, and the <code>radeon</code> driver was installed automatically. Some of the rough edges we saw in 2022, such as cursor keys and packaging tools, seem to have been smoothed out.</p>

        

<p>It&#39;s somewhat smaller than a lightweight Linux, but not massively so. While the default install only took a few gigabytes, with Xfce, Firefox, and a few apps, it took 7.1 GB. In a Ctwm window, only 189 MB of RAM were in use, which is pretty good – but in an Xfce terminal window, that went up to 433 MB. We didn&#39;t attempt to benchmark it, but under Xfce, it feels comparably responsive to the lightweight Linux distros on the machine.</p>
<p>NetBSD is more of a traditional Unix-style experience than modern Linux. By default, even with a modern Linux desktop like Xfce installed, there are no graphical tools for things like network connections, sound settings, or package management. Although NetBSD does have <a target="_blank" href="https://www.netbsd.org/docs/guide/en/chap-virt.html" rel="nofollow">its own hypervisor, NVMM</a>, you won&#39;t find modern features like containers in the standard repositories.</p>
<p>NetBSD is bigger and arguably more complete than OpenBSD. Although both OSes offer a CD-sized installation ISO, NetBSD also has a USB installation image, which is 2.62 GB in size – but includes things like Wi-Fi firmware. This also means a quicker installation as packages are local so it pulls less from the internet.</p>
<p>The package selection in OpenBSD is noticeably more rigorous, but there&#39;s a price to pay for being so selective. For instance, <a target="_blank" href="https://www.netbsd.org/docs/guide/en/chap-bluetooth.html" rel="nofollow">NetBSD supports Bluetooth</a>, while OpenBSD doesn&#39;t. We suspect that many people would consider that an acceptable price for seeing some possibly extraneous stuff in package dependencies. NetBSD also offers <a target="_blank" href="https://wiki.netbsd.org/zfs/" rel="nofollow">optional support for ZFS</a>, although an older version than in FreeBSD, but including somewhat preliminary support for <a target="_blank" href="https://wiki.netbsd.org/root_on_zfs/" rel="nofollow">root on ZFS</a>.</p>
<p>There are various reasons to try NetBSD. It&#39;s a shoo-in for old but still capable hardware that&#39;s no longer supported by its vendor or by modern Linux, such as older RISC computers (PowerMacs or SPARC machines, say). And, remember, soon this will include 32-bit x86 hardware as well.</p>
<p>It&#39;s also a good choice if you want to improve or broaden your Unix skills. Linux is mainstream now, but a lot of older Unix machines still lurk inside big businesses; others hold the internet together. If you want to learn how low-level operating systems internals work – or how to work in a community-driven development project – then nothing beats getting a command-line-driven OS running on bare metal. VMs are no substitute.</p>
<p>In the BSD world, there&#39;s a spectrum. FreeBSD is relatively mainstream, feature-rich, and mainly supports modern or recent hardware, with containers, virtual machines, and close integration with ZFS. Dragonfly BSD is experimental and x86-64 only. OpenBSD is almost extremist, with a ruthless approach to clean code and secure design, even if that means dropping entire areas of functionality such as Bluetooth.</p>
<p>NetBSD sits in the middle. It is a relatively small, clean, and simple OS. Smaller than FreeBSD, but more feature-complete and less rigorous than OpenBSD. Even so, all of them are modern OSes, with modern browsers and so on. All of them are smaller, cleaner, and simpler than modern Linux. Even so, and despite a bias towards server stuff, all are able to be used as full desktop OSes. They&#39;re not as experimental and restrictive as <a target="_blank" href="https://www.theregister.com/2022/11/29/redox_os_version_08/">Redox OS</a> or <a target="_blank" href="https://www.theregister.com/2023/12/01/9front_humanbiologics/">9Front</a>. As Linux continues to <a target="_blank" href="https://www.theregister.com/2024/02/12/drowning_in_code/">drown in code</a>, it&#39;s good to know there is still a safe refuge. ®</p>                                
                    </div></div>
  </body>
</html>
