<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://rachelbythebay.com/w/2024/08/14/skyscan/">Original</a>
    <h1>Decoding an old SkyScan wireless weather sensor</h1>
    
    
<p>
Many years ago, I was given one of those massive radio clocks that also 
reported indoor/outdoor temperature and humidity.  They were apparently 
sold at Costco under the &#34;SkyScan&#34; brand, and had two parts: the (very 
large) indoor display which stood upright with a little plastic foot in 
the back, and a small sensor which was intended to be placed outside.
</p>
<p>
It was never quite 100%.  It had issues receiving the 60 kHz WWVB clock 
signal and so it would get out of sync.  It also apparently had its 
own rules for DST baked in, so when the US changed them in 2007, it 
would go stupid twice a year for a couple of weeks.
</p>
<p>
It had other problems.  I once caught it saying that it was the 9th day 
of the 14th month, and oh hey, it&#39;s a Tuesday.  Lousy Smarch weather or 
no, that&#39;s so unbelievably wrong I just had to stop using it.
</p>
<p>
However, I kept the sensor as more of a curiosity.  In recent years I 
got into the whole business of tracking temperatures in certain 
interesting places, and this old sensor kept bugging me.  The usual 
tools can see it doing its 433 MHz announcements but nobody seems to 
have decoded it, or at least, documented it.  I&#39;ve been taking a whack 
at it every now and then, and finally got it to a usable spot.
</p>
<p>
So, for the sake of the dozen or so people out there who might have one 
of these things nearly 20 years later and who want to use just the 
remote sensor, here&#39;s what I&#39;ve learned about it.
</p>
<p>
The encoding is no frills: on is 1, off is 0.  The on pulse or the off 
gap lasts about 3900 us (curiously close to 1 sec / 256, for what it&#39;s 
worth).
</p>
<p>
Transmissions are sent twice, twelve seconds apart.  The first one has 
a particular bit set to 0, and the second one has it set to 1, so I&#39;ve 
called it the transmission number.  The whole process restarts every 60 
seconds.
</p>
<p>
There appears to be some kind of preamble or sync which is just 10.
</p>
<p>
Bits 2-33 are followed by inverted versions of themselves in bits 34-65.
</p>
<p>
Humidity is BCD: 4 bits and another 4 bits, so [4] [7] for 47%.
</p>
<p>
The channel seems to be 3 bits but is only ever 1, 2, or 3.
</p>
<p>
Temperature is also BCD with 3 groups of 4 bits: [3] [2] [7] == 32.7C.
</p>
<p>
All of this has been determined empirically.  There are timing diagrams 
for this and other similar devices on the usual &#34;fccid&#34; sites, but none 
of them match this scheme exactly.
</p>
<p>
So, from the top, 2 preamble bits (10), then...
</p>
<p>
4 + 4 humidity bits (BCD)
</p>
<p>
1 transmission bit
</p>
<p>
3 channel bits
</p>
<p>
1 sign bit (1 = negative temperature)
</p>
<p>
1 battery bit (1 = battery is low)
</p>
<p>
6 id bits
</p>
<p>
4 + 4 + 4 temperature bits (BCD)
</p>
<p>
... and then the part past the preamble repeats, inverted.  This can be 
used to detect errors.
</p>
<p>
For the sake of grep bait: the SkyScan 81690 with a sensor bearing the 
FCC ID of OQH-000000-05-002, or perhaps OQH-CHUNGS-05-002.  It might be 
a &#34;C-8102&#34; model, but again, all of the FCC stuff I&#39;ve been able to find 
is not quite right.
</p>

  </body>
</html>
