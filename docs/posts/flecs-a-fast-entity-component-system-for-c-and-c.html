<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.flecs.dev/flecs/">Original</a>
    <h1>Flecs â€“ A fast entity component system for C and C&#43;&#43;</h1>
    
    <div id="readability-page-1" class="page"><div><!--header-->
<div>
<div><p><a id="md_README"></a> <img src="https://www.flecs.dev/flecs/logo.png" alt="" title="flecs"/>    </p>
<p><a href="https://github.com/SanderMertens/flecs/releases"><img src="https://img.shields.io/github/v/release/sandermertens/flecs?include_prereleases&amp;style=for-the-badge" alt="Version"/></a> <a href="https://github.com/SanderMertens/flecs/blob/master/LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg?style=for-the-badge" alt="MIT"/></a> <a href="https://www.flecs.dev/flecs/md_docs_Docs.html"><img src="https://img.shields.io/badge/docs-flecs-blue?style=for-the-badge&amp;color=blue" alt="Documentation"/></a> <a href="https://github.com/SanderMertens/flecs/actions?query=workflow%3ACI"><img src="https://img.shields.io/github/actions/workflow/status/SanderMertens/flecs/ci.yml?branch=master&amp;style=for-the-badge" alt="actions"/></a> <a href="https://discord.gg/BEzP5Rgrrp"><img src="https://img.shields.io/discord/633826290415435777.svg?style=for-the-badge&amp;color=%235a64f6" alt="Discord Chat"/></a></p>
<p>Flecs is a fast and lightweight Entity Component System that lets you build games and simulations with millions of entities (<a href="https://discord.gg/BEzP5Rgrrp">join the Discord!</a>). Here are some of the framework&#39;s highlights:</p>
<ul>
<li>Fast and portable zero dependency <a href="https://www.flecs.dev/flecs/group__c.html">C99 API</a></li>
<li>Modern type-safe <a href="https://www.flecs.dev/flecs/group__cpp.html">C++11 API</a> that doesn&#39;t use STL containers</li>
<li>First open source ECS with full support for <a href="https://www.flecs.dev/flecs/md_docs_Relationships.html">Entity Relationships</a>!</li>
<li>Fast native support for <a href="https://www.flecs.dev/flecs/md_docs_Relationships.html#autotoc_md277">hierarchies</a> and <a href="https://www.flecs.dev/flecs/md_docs_Relationships.html#autotoc_md305">prefabs</a></li>
<li>Code base that builds in less than 5 seconds</li>
<li>Runs <a href="https://flecs.dev/city">in the browser</a> without modifications with emscripten</li>
<li>Cache friendly <a href="https://ajmmertens.medium.com/building-an-ecs-2-archetypes-and-vectorization-fe21690805f9">archetype/SoA storage</a> that can process millions of entities every frame</li>
<li>Supports entities with hundreds of components and applications with tens of thousands of archetypes</li>
<li>Automatic component registration that works out of the box across shared libraries/DLLs</li>
<li>Write free functions with <a href="https://github.com/SanderMertens/flecs/tree/master/examples/cpp/queries/basics">queries</a> or run code automatically in <a href="https://github.com/SanderMertens/flecs/tree/master/examples/cpp/systems/pipeline">systems</a></li>
<li>Run games on multiple CPU cores with a fast lockless scheduler</li>
<li>Compiles warning-free on 8 compilers on all major platforms, with <a href="https://github.com/SanderMertens/flecs/actions">CI</a> running more than 5000 tests</li>
<li>Integrated <a href="https://www.flecs.dev/flecs/group__c__addons__meta.html">reflection framework</a> with <a href="https://github.com/SanderMertens/flecs/tree/master/examples/cpp/reflection/basics_json">JSON serializer</a> and support for <a href="https://github.com/SanderMertens/flecs/tree/master/examples/cpp/reflection/runtime_component">runtime components</a></li>
<li><a href="https://github.com/SanderMertens/flecs/tree/master/examples/cpp/reflection/units">Unit annotations</a> for components</li>
<li>Powerful <a href="https://github.com/SanderMertens/flecs/tree/master/examples/cpp/rules">query language</a> with support for <a href="https://github.com/SanderMertens/flecs/tree/master/examples/cpp/rules/setting_variables">joins</a> and <a href="https://github.com/SanderMertens/flecs/tree/master/examples/cpp/rules/component_inheritance">inheritance</a></li>
<li><a href="https://www.flecs.dev/flecs/group__c__addons__stats.html">Statistics addon</a> for profiling ECS performance</li>
<li>A web-based UI for monitoring &amp; controlling your apps (<a href="https://flecs.dev/explorer">demo</a>, <a href="https://github.com/flecs-hub/explorer">code</a>):</li>
</ul>

<p>To support the project, give it a star ðŸŒŸ !</p>
<h2><a id="autotoc_md0"></a>
What is an Entity Component System?</h2>
<p>ECS is a way of organizing code and data that lets you build games that are larger, more complex and are easier to extend. Something is called an ECS when it:</p><ul>
<li>Has <em>entities</em> that uniquely identify objects in a game</li>
<li>Has <em>components</em> which are datatypes that can be added to entities</li>
<li>Has <em>systems</em> which are functions that run for all entities matching a component <em>query</em></li>
</ul>
<p>For more information, check the <a href="https://github.com/SanderMertens/ecs-faq">ECS FAQ</a>!</p>
<h2><a id="autotoc_md1"></a>
Try it out!</h2>
<p>The <a href="https://www.flecs.dev/explorer/?local=true&amp;wasm=https://www.flecs.dev/explorer/playground.js">Flecs playground</a> lets you try Flecs without writing any C/C++ code!</p>

<p>To learn how to use the playground, check the <a href="https://www.flecs.dev/flecs/md_docs_FlecsScriptTutorial.html">Flecs Script Tutorial</a>.</p>
<h2><a id="autotoc_md2"></a>
Documentation</h2>
<ul>
<li><a href="https://www.flecs.dev/flecs/md_docs_Quickstart.html">Quickstart</a></li>
<li><a href="https://www.flecs.dev/flecs/md_docs_Quickstart.html">FAQ</a></li>
<li><a href="https://github.com/SanderMertens/flecs/tree/master/examples">Examples</a></li>
<li><a href="https://www.flecs.dev/flecs/md_docs_Docs.html">All Documentation</a></li>
</ul>
<h2><a id="autotoc_md3"></a>
Performance</h2>
<p>For a list of regularly tracked benchmarks, see the <a href="https://github.com/SanderMertens/ecs_benchmark">ECS Benchmark</a> project.</p>
<h2><a id="autotoc_md4"></a>
Show me the code!</h2>
<p>C99 example: </p><div><p><span>typedef</span> <span>struct </span>{</p>
<p><span>float</span> x, y;</p>
<p>} Position, Velocity;</p>

<p><span>void</span> Move(ecs_iter_t *it) {</p>
<p>  Position *p = ecs_field(it, Position, 1);</p>
<p>  Velocity *v = ecs_field(it, Velocity, 2);</p>

<p><span>for</span> (<span>int</span> i = 0; i &lt; it-&gt;count; i++) {</p>
<p>    p[i].x += v[i].x;</p>
<p>    p[i].y += v[i].y;</p>
<p>  }</p>
<p>}</p>

<p><span>int</span> main(<span>int</span> argc, <span>char</span> *argv[]) {</p>





<p><a href="https://www.flecs.dev/flecs/group__c__addons__system.html#gafe627ef7c46f7fac4148a632c3192c81">ECS_SYSTEM</a>(ecs, Move, EcsOnUpdate, Position, Velocity);</p>


<p>  ecs_set(ecs, e, Position, {10, 20});</p>
<p>  ecs_set(ecs, e, Velocity, {1, 2});</p>


<p>}</p>
<div id="agroup__c__addons__pipeline_html_ga46f3f33d48f252fcc510450aebe8c187"><p>FLECS_API bool ecs_progress(ecs_world_t *world, ecs_ftime_t delta_time)</p><p>Progress a world.</p></div>
<div id="agroup__c__addons__system_html_gafe627ef7c46f7fac4148a632c3192c81"><p>#define ECS_SYSTEM(world, id, phase,...)</p><p>Declare &amp; define a system.</p></div>
<div id="agroup__core__types_html_ga7f68bc56147690fc4095ffb29b3679cc"><p>ecs_id_t ecs_entity_t</p><p>An entity identifier.</p></div>
<div id="agroup__core__types_html_ga9ba4521a67d59d716e2d8ba04d4ccb15"><p>struct ecs_world_t ecs_world_t</p><p>A world is the container for all ECS data and supporting features.</p></div>
<div id="agroup__creating__entities_html_ga2f5f4e7e6590c5cf080e35cdd1ea1c11"><p>ecs_entity_t ecs_new_id(ecs_world_t *world)</p><p>Create new entity id.</p></div>
<div id="agroup__flecs__c__creation_html_ga5a87d6e4371e1551110333d02890a4b8"><p>#define ECS_COMPONENT(world, id)</p><p>Declare &amp; define a component.</p></div>
<div id="agroup__world__creation__deletion_html_gad793e918e5aa90eabd1dd218541ffbaf"><p>ecs_world_t * ecs_init(void)</p><p>Create a new world.</p></div>
</div><!-- fragment --><p>Same example in C++11:</p>
<div><p><span>struct </span>Position {</p>
<p><span>float</span> x, y;</p>
<p>};</p>

<p><span>struct </span>Velocity {</p>
<p><span>float</span> x, y;</p>
<p>};</p>

<p><span>int</span> main(<span>int</span> argc, <span>char</span> *argv[]) {</p>


<p>  ecs.<a href="https://www.flecs.dev/flecs/structflecs_1_1world.html#aae332057aaaa35c3a0821300113dcf5e">system</a>&lt;Position, <span>const</span> Velocity&gt;()</p>
<p>    .<a href="https://www.flecs.dev/flecs/filter_2mixin_8inl.html#a6eadaf81c342aac9d72edda33071a880">each</a>([](Position&amp; p, <span>const</span> Velocity&amp; v) {</p>
<p>      p.x += v.x;</p>
<p>      p.y += v.y;</p>
<p>    });</p>


<p>    .set([](Position&amp; p, Velocity&amp; v) {</p>
<p>      p = {10, 20};</p>
<p>      v = {1, 2};</p>
<p>    });</p>

<p><span>while</span> (ecs.progress()) { }</p>
<p>}</p>
<div id="afilter_2mixin_8inl_html_a6eadaf81c342aac9d72edda33071a880"><p>void each(Func &amp;&amp;func) const</p><p>Iterate over all entities with components in argument list of function.</p></div>
<div id="agroup__cpp__entities_html_ga96f9bc4e82aeb13c2fb92002c449e515"><p>flecs::entity entity(Args &amp;&amp;... args) const</p><p>Create an entity.</p></div>

<div id="astructflecs_1_1world_html_aae332057aaaa35c3a0821300113dcf5e"><p>flecs::system system(flecs::entity e) const</p><p>Upcast entity to a system.</p></div>
</div><!-- fragment --><h2><a id="autotoc_md5"></a>
Projects using Flecs</h2>
<p>If you have a project you&#39;d like to share, let me know on <a href="https://discord.gg/BEzP5Rgrrp">Discord</a>!</p>
<h3><a id="autotoc_md6"></a>
Territory Control</h3>
<p><a href="https://store.steampowered.com/app/690290/Territory_Control_2/">https://store.steampowered.com/app/690290/Territory_Control_2/</a> <img src="https://www.flecs.dev/flecs/territory_control.png" alt="" title="image"/>    </p>
<h3><a id="autotoc_md7"></a>
Sol Survivor</h3>
<p><a href="https://nicok.itch.io/sol-survivor-demo">https://nicok.itch.io/sol-survivor-demo</a> <img src="https://www.flecs.dev/flecs/sol_survivor.png" alt="" title="image"/>    </p>
<h3><a id="autotoc_md8"></a>
The Forge</h3>
<p><a href="https://github.com/ConfettiFX/The-Forge">https://github.com/ConfettiFX/The-Forge</a> <img src="https://www.flecs.dev/flecs/the_forge.png" alt="" title="image"/>    </p>
<h3><a id="autotoc_md9"></a>
Equilibrium Engine</h3>
<p><a href="https://github.com/clibequilibrium/EquilibriumEngine">https://github.com/clibequilibrium/EquilibriumEngine</a> <img src="https://www.flecs.dev/flecs/equilibrium_engine.png" alt="" title="image"/>    </p>
<h3><a id="autotoc_md10"></a>
Gravitas</h3>
<p><a href="https://thepunkcollective.itch.io/gravitas">https://thepunkcollective.itch.io/gravitas</a> <img src="https://www.flecs.dev/flecs/gravitas.png" alt="" title="image"/>    </p>
<h3><a id="autotoc_md11"></a>
After Sun</h3>
<p><a href="https://github.com/foxnne/aftersun">https://github.com/foxnne/aftersun</a> <img src="https://www.flecs.dev/flecs/after_sun.png" alt="" title="image"/>    </p>
<h3><a id="autotoc_md12"></a>
Tower defense (open source demo)</h3>
<p><a href="https://www.flecs.dev/tower_defense/etc">https://www.flecs.dev/tower_defense/etc</a> (<a href="https://github.com/SanderMertens/tower_defense">repository</a>) <img src="https://www.flecs.dev/flecs/tower_defense.png" alt="" title="image"/>    </p>
<h3><a id="autotoc_md13"></a>
Procedural City (open source demo)</h3>
<p><a href="https://www.flecs.dev/city">https://www.flecs.dev/city</a> (<a href="https://github.com/flecs-hub/city">repository</a>) <img src="https://www.flecs.dev/flecs/city.png" alt="" title="image"/>    </p>
<h2><a id="autotoc_md14"></a>
Resources</h2>
<h3><a id="autotoc_md15"></a>
Resources provided by the community :heart:</h3>
<ul>
<li><a href="https://github.com/PreyK/Unreal-Minimum-Viable-Flecs">Unreal Minimum Viable Flecs Project</a></li>
<li><a href="https://github.com/flecs-hub/flecs-systems-bgfx/tree/bgfx_imgui">Bgfx/Imgui module</a></li>
<li><a href="https://gist.github.com/oldmanauz/b4ced44737bf9d248233538fa06a989e">Tower defense example</a></li>
<li><a href="https://jtferson.github.io/blog/flecs_and_unreal/">Flecs + UE4 is magic</a></li>
<li><a href="https://jtferson.github.io/blog/quickstart_with_flecs_in_unreal_part_1/">Quickstart with Flecs in UE4</a></li>
<li><a href="https://jtferson.github.io/blog/automatic_flecs_component_registration_in_unreal/">Automatic component registration in UE4</a></li>
<li><a href="https://twitter.com/ajmmertens/status/1361070033334456320">Building a space battle with Flecs in UE4</a></li>
<li><a href="https://github.com/HeatXD/flecs_web_demo">Flecs + SDL + Web ASM example</a> (<a href="https://heatxd.github.io/flecs_web_demo/">live demo</a>)</li>
<li><a href="https://github.com/Lexxicon/FlecsRaylib">Flecs + Raylib example</a></li>
<li><a href="https://github.com/MrFrenik/gs_examples/blob/main/ex_demos/flecs/source/main.c">Flecs + gunslinger example</a></li>
<li><a href="https://bit.ly/3T9cc1o">Flecs based 3D game engine with editor</a></li>
</ul>
<h3><a id="autotoc_md16"></a>
Flecs around the web</h3>
<ul>
<li><a href="https://discord.gg/BEzP5Rgrrp">Discord</a></li>
<li><a href="https://ajmmertens.medium.com">Medium</a></li>
<li><a href="https://twitter.com/ajmmertens">Twitter</a></li>
<li><a href="https://www.reddit.com/r/flecs">Reddit</a></li>
</ul>
<h2><a id="autotoc_md17"></a>
Flecs Hub</h2>
<p><a href="https://github.com/flecs-hub">Flecs Hub</a> is a collection of repositories that show how Flecs can be used to build game systems like input handling, hierarchical transforms and rendering.</p>
<table>
<tbody><tr>
<th>Module   </th><th>Description    </th></tr>
<tr>
<td><a href="https://github.com/flecs-hub/flecs-components-cglm">flecs.components.cglm</a>   </td><td>Component registration for cglm (math) types    </td></tr>
<tr>
<td><a href="https://github.com/flecs-hub/flecs-components-input">flecs.components.input</a>   </td><td>Components that describe keyboard and mouse input    </td></tr>
<tr>
<td><a href="https://github.com/flecs-hub/flecs-components-transform">flecs.components.transform</a>   </td><td>Components that describe position, rotation and scale    </td></tr>
<tr>
<td><a href="https://github.com/flecs-hub/flecs-components-physics">flecs.components.physics</a>   </td><td>Components that describe physics and movement    </td></tr>
<tr>
<td><a href="https://github.com/flecs-hub/flecs-components-geometry">flecs.components.geometry</a>   </td><td>Components that describe geometry    </td></tr>
<tr>
<td><a href="https://github.com/flecs-hub/flecs-components-graphics">flecs.components.graphics</a>   </td><td>Components used for computer graphics    </td></tr>
<tr>
<td><a href="https://github.com/flecs-hub/flecs-components-gui">flecs.components.gui</a>   </td><td>Components used to describe GUI components    </td></tr>
<tr>
<td><a href="https://github.com/flecs-hub/flecs-systems-transform">flecs.systems.transform</a>   </td><td>Hierarchical transforms for scene graphs    </td></tr>
<tr>
<td><a href="https://github.com/flecs-hub/flecs-systems-physics">flecs.systems.physics</a>   </td><td>Systems for moving objects and collision detection    </td></tr>
<tr>
<td><a href="https://github.com/flecs-hub/flecs-systems-sokol">flecs.systems.sokol</a>   </td><td>Sokol-based renderer    </td></tr>
<tr>
<td><a href="https://github.com/flecs-hub/flecs-game">flecs.game</a>   </td><td>Generic game systems, like a camera controller   </td></tr>
</tbody></table>
<h2><a id="autotoc_md18"></a>
Language bindings</h2>
<p>The following language bindings have been developed with Flecs! Note that these are projects built and maintained by helpful community members, and may not always be up to date with the latest commit from master!</p><ul>
<li>C#:<ul>
<li><a href="https://github.com/flecs-hub/flecs-cs">flecs-hub/flecs-cs</a></li>
<li><a href="https://git.mcft.net/copygirl/gaemstone.ECS">copygirl/gaemstone.ECS</a></li>
</ul>
</li>
<li>Rust:<ul>
<li><a href="https://github.com/jazzay/flecs-rs">flecs-rs</a></li>
<li><a href="https://github.com/flecs-hub/flecs-polyglot">flecs-polyglot</a></li>
</ul>
</li>
<li>Zig:<ul>
<li><a href="https://github.com/michal-z/zig-gamedev/tree/main/libs/zflecs">michal-z/zig-gamedev</a></li>
<li><a href="https://github.com/foxnne/zig-flecs">foxnne/zig-flecs</a></li>
<li><a href="https://github.com/prime31/zig-flecs">prime31/zig-flecs</a></li>
</ul>
</li>
<li>Lua:<ul>
<li><a href="https://github.com/sro5h/flecs-luajit">sro5h/flecs-luajit</a></li>
<li><a href="https://github.com/flecs-hub/flecs-lua">flecs-hub/flecs-lua</a> </li>
</ul>
</li>
</ul>
</div></div><!-- PageDoc -->
</div></div>
  </body>
</html>
