<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.bryanbraun.com/2024/11/02/setting-up-your-now-page-with-an-rss-feed/">Original</a>
    <h1>Setting up your /now page with an RSS feed</h1>
    
    <div id="readability-page-1" class="page"><article>
    <p>I have <a href="https://www.bryanbraun.com/now/">a /now page</a>, which I use to tell people what I’m up to these days.</p>

<p>I like <a href="https://nownownow.com/about">the concept of “now pages”</a> but I felt like it would be better if it had an RSS feed. The feed would give interested parties a way to subscribe to life changes.</p>

<p>The problem is that RSS feeds aren’t really designed for a single page. It’s more for a content collection, like blog posts or podcasts.</p>

<p>Still, is there a way to make it work? To have a single page, publishing to subscribers every time it’s updated?</p>

<h2 id="unique-ids">Unique IDs</h2>

<p>In RSS feeds, each entry is supposed to have a unique ID. Here are some examples:</p>

<p><strong><a href="https://www.ietf.org/rfc/rfc4287.txt">Atom</a></strong></p>
<div><div><pre><code><span>&lt;entry&gt;</span>
  <span>&lt;id&gt;</span>urn:uuid:1225c695-cfb8-4ebb-aaaa-80da344efa6a<span>&lt;/id&gt;</span>
  <span>&lt;title&gt;</span>Atom-Powered Robots Run Amok<span>&lt;/title&gt;</span>
  <span>&lt;link</span> <span>href=</span><span>&#34;http://example.org/2003/12/13/atom03&#34;</span><span>/&gt;</span>
  <span>&lt;updated&gt;</span>2003-12-13T18:30:02Z<span>&lt;/updated&gt;</span>
  <span>&lt;summary&gt;</span>Some text.<span>&lt;/summary&gt;</span>
<span>&lt;/entry&gt;</span>
</code></pre></div></div>

<p><strong><a href="https://www.jsonfeed.org/version/1.1/">JSONFeed</a></strong></p>
<div><div><pre><code><span>&#34;items&#34;</span><span>:</span><span> </span><span>[</span><span>
    </span><span>{</span><span>
        </span><span>&#34;id&#34;</span><span>:</span><span> </span><span>&#34;1&#34;</span><span>,</span><span>
        </span><span>&#34;content_html&#34;</span><span>:</span><span> </span><span>&#34;&lt;p&gt;Hello, world!&lt;/p&gt;&#34;</span><span>,</span><span>
        </span><span>&#34;url&#34;</span><span>:</span><span> </span><span>&#34;https://example.org/initial-post&#34;</span><span>
    </span><span>}</span><span>
</span><span>]</span><span>
</span></code></pre></div></div>

<p>These IDs are intended to be globally unique and unchanging:</p>

<blockquote>
  <p>id (required, string) is unique for that item for that feed over time. If an item is ever updated, the <code>id</code> should be unchanged. New items should never use a previously-used <code>id</code>.</p>

  <p><a href="https://www.jsonfeed.org/version/1/#items-a-name-items-a">JSONFeed Version 1.1 Docs</a></p>
</blockquote>

<p>Changing the ID is bad because it causes old posts to resurface as new posts in people’s feed readers. Usually you don’t want this, even when you’re updating an old post.</p>

<p>But in my case we <em>do</em> want this. If I only publish a single entry and include the current date in the ID, it’s unique every time I rebuild the feed (i.e., whenever I update the <code>/now</code> page). And just like that, every update is a new publish.</p>

<p>
  <img src="https://www.bryanbraun.com/assets/images/now-page-feed.jpg" width="260" alt="A list of /now page updates as shown in a feed reader"/>
</p>

<h2 id="is-this-bad-and-should-i-feel-bad">Is this bad and should I feel bad?</h2>

<p>I’m deliberately disobeying the spec to get the result I want. Often, in the dev world, these kinds of things come back to bite you. Is there a better way to do this?</p>

<p>Well, I could treat my <code>/now</code> page as a content collection, with each new entry being published as new post, never deleting or overwriting old entries (basically a microblog just for life updates). It’s doable, but it diverges from the simplicity of having a single document at a single url. At that point, I might as well insert life updates into my normal blog, which works but isn’t appropriate for many types of blogs.</p>

<p>One issue with changing IDs is that small revisions to the <code>/now</code> page republish the whole page, making it hard for subscribers to see what changed. I could mitigate this by including a link to the diff on Github (version control FTW!), but it’s not the most user-friendly solution.</p>

<hr/>

<p>Anyway, I’m going to roll with it for now. If anyone wants to do a similar experiment, feel free to check out the <a href="https://github.com/bryanbraun/bryanbraun.github.io/blob/main/_pages/now.z.json">feed template in my repo</a>.</p>

  </article></div>
  </body>
</html>
