<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.nature.com/articles/d41586-019-02046-0">Original</a>
    <h1>How to support open-source software and stay sane</h1>
    
    <div id="readability-page-1" class="page"><div>
                    <p>On 10 April, astrophysicists announced that they had captured the first ever image of a black hole. This was exhilarating news, but none of the giddy headlines mentioned that the image would have been impossible without open-source software. The image was created using Matplotlib, a Python library for graphing data, as well as other components of the open-source Python ecosystem. Just five days later, the US National Science Foundation (NSF) rejected a grant proposal to support that ecosystem, saying that the software lacked sufficient impact.</p><p>It’s a familiar problem: open-source software is widely acknowledged as crucially important in science, yet it is funded non-sustainably. Support work is often handled ad hoc by overworked graduate students and postdocs, and can lead to burnout. “It’s sort of the difference between having insurance and having a GoFundMe when their grandma goes to the hospital,” says Anne Carpenter, a computational biologist at the Broad Institute of Harvard and MIT in Cambridge, Massachusetts, whose lab developed the image-analysis tool CellProfiler. “It’s just not a nice way to live.”</p><p>Scientists writing open-source software often lack formal training in software engineering, which means that they might never have learnt best practices for code documentation and testing. But poorly maintained software can waste time and effort, and hinder reproducibility. Biologists who use computational tools routinely spend “hours and hours” trying to get other researchers’ code to run, says Adam Siepel, a computational biologist at Cold Spring Harbor Laboratory in New York, and a maintainer of PHAST, a tool used for comparative and evolutionary genomics. “They try to find it and there’s no website, or the link is broken, or it no longer compiles, or crashes when they’ve tried to run it on their data.”</p><p>But there are resources that can help, and models to emulate. If your research group is planning to release open-source software, you can prepare for the support work and the questions that will arise as others begin to use it. It isn’t easy, but the effort can yield citations and name recognition for the developers, and improve efficiency in the field, says Wolfgang Huber, a computational biologist at the European Molecular Biology Laboratory in Heidelberg, Germany. Plus, he adds, “I think it’s fun.”</p><h2>Have a plan</h2><p>For developers of scientific software, release day isn’t the end of the labour, but often the beginning. Tim Hopper, a data scientist at Cylance in Raleigh, North Carolina, says on Twitter, “Give a man a fish and you feed him for a day. Write a program to fish for him and you maintain it for a lifetime.” Carpenter hired a full-time software engineer to handle maintenance for CellProfiler, which logs about 700 questions and 100 bug reports or feature requests per year, or about 15 per week. But most open-source software maintenance is done on a volunteer basis. “I did this myself, like after midnight,” says Siepel of his tech-support efforts on PHAST.</p><p>To prepare for what’s coming, it helps to have an idea of what you’re getting into. Some software will just need short-term support, whereas other programs might be used for decades. Nelle Varoquaux says that, in her field of machine learning in biology, software tools quickly become obsolete because the size of the data sets is changing so rapidly. Varoquaux is a computational biologist at the University of California, Berkeley, and co-developer of scikit‑learn, a machine-learning package for Python. “When I started my PhD, everything I worked on fitted into RAM, and I never had a memory problem,” she says. But today, memory is a huge challenge. She estimates that she will need to maintain two tools she built for analysing DNA and chromosome conformation — iced and pastis — for only another five years before they become obsolete.</p><p>Obsolescence isn’t bad, she adds: knowing when to stop supporting software is an important skill. “Let a tool die when it has reached the end of its usefulness or, when a maintainer wants to quit, orphan it and search for a foster parent,” Huber advises.</p><p>However long your software will be used for, good software-engineering practices and documentation are essential, says Andreas Mueller, a machine-learning scientist at Columbia University in New York City. These include continuous integration systems (such as TravisCI), version control (Git) and unit testing. “Continuous integration tells you, every time you change your code, if it still works or if you broke it,” as long as you write the correct tests for it to run, says Mueller; version control is a system of recording changes to source code so that you can revert to any previous version if necessary; and unit testing tests each individual component of the software to ensure that it is sound. The combination, he says, “will 100% save you time”. Organizations such as volunteer-run Software Carpentry and the eScience Institute at the University of Washington, Seattle, host bootcamps on software development, and make tutorials available on GitHub. The Netherlands eScience Center in Amsterdam provides a guide to software-development best practices at <a href="https://guide.esciencecenter.nl" data-track="click" data-label="https://guide.esciencecenter.nl" data-track-category="body text link">https://guide.esciencecenter.nl</a>.</p><p>To facilitate maintenance, Varoquaux recommends focusing on code readability over peak performance. “I always try to make it readable and well-documented and tested, so if something breaks I can fix it quickly,” she says.</p><p>And that’s inevitable when it comes to software: “As soon as you have users, they’re going to find bugs,” Varoquaux says. Huber recommends fielding user questions through a public forum, such as Stack Overflow, where users can tag their question with the software name. “Do not respond to private mails for support from users,” he says. Public forums offer three advantages. First, they reach many more users than do individual e-mails. “For everybody who writes an e-mail, there’s probably 100 people who are too shy to ask,” says Huber. Second, they tend to encourage more focused and thoughtful questions. Third, they dissuade users from the time-wasting strategy of e-mailing multiple software maintainers separately with the same question.</p><p>Huber also recommends releasing your software to a repository such as the Comprehensive R Archive Network (CRAN) or Bioconductor, an umbrella archive for biological software written in R, instead of to your personal home page or GitHub. Such repositories are curated, and have submission guidelines for naming conventions and required components, much as scientific journals do. And both CRAN and Bioconductor “offer testing and continuous integration on several platforms, and robust, easy-to-use installers”, says Huber.</p><h2>A matter of funding</h2><p>Software support requires both time and money. But funding can be hard to come by. In the United States, the National Institutes of Health (NIH) and the NSF focus on new research, and the maintenance of open-source software often doesn’t fit well into their requirements. “That’s really the tragedy of the funding agencies in general,” says Carpenter. “They’ll fund 50 different groups to make 50 different algorithms, but they won’t pay for one software engineer.”</p><p>But some funding does exist from these and other organizations. One Twitter thread (see <a href="http://go.nature.com/2yekao5" data-track="click" data-label="http://go.nature.com/2yekao5" data-track-category="body text link">go.nature.com/2yekao5</a>) documents grants from the NSF’s <a href="https://www.nsf.gov/pubs/2018/nsf18594/nsf18594.htm" data-track="click" data-label="https://www.nsf.gov/pubs/2018/nsf18594/nsf18594.htm" data-track-category="body text link">Division of Biological Infrastructure</a>, the NIH’s <a href="https://grants.nih.gov/grants/guide/pa-files/PAR-18-844.html" data-track="click" data-label="https://grants.nih.gov/grants/guide/pa-files/PAR-18-844.html" data-track-category="body text link">National Human Genome Research Institute</a> and the <a href="https://itcr.cancer.gov" data-track="click" data-label="https://itcr.cancer.gov" data-track-category="body text link">National Cancer Institute</a>, and a joint programme from the NSF and the <a href="https://www.nsf.gov/pubs/2018/nsf18072/nsf18072.jsp" data-track="click" data-label="https://www.nsf.gov/pubs/2018/nsf18072/nsf18072.jsp" data-track-category="body text link">UK Biotechnology and Biological Sciences Research Council</a> (now part of UK Research and Innovation). Private US foundations such as the Gordon and Betty Moore Foundation, the Alfred P. Sloan Foundation and the Chan Zuckerberg Initiative (CZI) also fund open-source software support. The CZI provides support for the Python-based image-processing software scikit-image, the ImageJ and Fiji platforms, and also funds the software engineer on Carpenter’s team.</p><p>In the United Kingdom, the Software Sustainability Institute, based at the University of Edinburgh, provides free, short, online evaluations of software sustainability, and fellowships of £3,000 ($US3,800) for researchers based in Britain or their collaborators. The institute periodically makes slots available for people to work with their experts for up to six months to develop new software or sharpen existing software and maintenance practices. In Germany, Huber recommends the European Commission’s network grants and the German ministry of science’s deNBI initiative, both of which provide funding for Bioconductor.</p><p>The general problem of digital-infrastructure maintenance is gaining more attention. Varoquaux and her colleagues have received $138,000 from the Alfred P. Sloan and Ford foundations to study “the visible and invisible work of maintaining open-source software”, she says, including burnout in researchers who devote their time to this work — part of a portfolio of 13 digital-infrastructure research projects funded to the tune of $1.3 million. In May, the CZI announced three requests for proposals to fund open-source biomedical software, the first of which opened in June. Siepel has a review article in the press in <i>Genome Biology </i>on the challenge of funding open-source software support.</p><p>And funding is needed: writing software that is easy for others to use on a wide range of data takes much more effort than software that works only for you. “The difference is at least as large as between the polished paper published in <i>Nature</i> and the first stack of slides for a lab meeting with the underlying results,” Huber says.</p><p>Still, there’s real value in the exercise. Siepel’s team sometimes responds to user queries by pointing out that they’re applying the software to the wrong data, a subtlety that an evolutionary biologist would notice but a software engineer might not. “There’s a sort of idiom: eat your own dog food,” Huber says: “If you use your own software for real questions, then you realize where it’s bad, where it’s lacking. Having a domain expert write the software tends to make the software more valuable.”</p>
                </div></div>
  </body>
</html>
