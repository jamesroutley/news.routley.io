<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://renschler.github.io/2025/07/07/eshiftmetrics-garmin-connect-iq-datafield.html">Original</a>
    <h1>eShiftMetrics: electronic shifting gear usage</h1>
    
    <div id="readability-page-1" class="page"><div>
      <div>
        <div>
  

  <article><p>Earlier this year I built up a Santa Cruz Stigmata gravel bike with SRAM AXS electronic shifting (it’s sweet, will have to do a separate write up).</p>

<p>The eletronic shifters are ANT+ compatible so they can communicate with your bike computer and tell it what gear you are in. This data gets written to your activity recording and then SRAM has a cool webapp where you can review your gear usage post-ride.</p>

<table>
  <thead>
    <tr>
      <th> </th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><img src="https://renschler.github.io/images/sram1.png" alt="SRAM gear usage chart"/></td>
      <td><img src="https://renschler.github.io/images/sram2.png" alt="SRAM gear analysis"/></td>
    </tr>
  </tbody>
</table>

<p>But it’s another place you have to look, and it requires you to send <em>all</em> of your Garmin activities to SRAM.</p>

<p>I decided to whip up a Connect IQ datafield that would provide similar gear usage analytics but let me review the data in Garmin - where I’m already looking after my rides. The usage stats are calculated on device during the ride and then written to the activity recording in <a href="https://developer.garmin.com/fit/cookbook/developer-data/">developer fit fields</a>.</p>

<p>I was planning on using Garmin’s monetization program to try and sell a premium version, but unfortunately their monetization program is <em>not</em> compatible with cycling computers (the main target device for my datafield) so I used Stripe and built my own licensing system.</p>

<p>Here’s the stack:</p>

<ul>
  <li>Connect IQ datafield (monkey c)</li>
  <li>Payments &amp; license distribution (stripe + aws lambda + aws ses + aws dynamodb)</li>
  <li><a href="https://eshiftmetrics.com">Documentation site</a> (eleventy.js on cloudflare pages)</li>
</ul>

<p>The app was approved today and should be live soon in the <a href="https://apps.garmin.com/apps/b3637cd4-9ba8-405e-9e26-ec9d62c980f9">Connect IQ store!</a></p>

<p><figure><iframe width="640" height="480" src="//www.youtube.com/embed/1Vdd_Rx2zR0" frameborder="0" allowfullscreen=""></iframe></figure></p>
</article>

  <!-- <div class="comments">
    
      <div id="disqus_thread"></div>
      <script>
          /**
           *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
           *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
           */
          /*
          var disqus_config = function () {
              this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
              this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
          };
          */
          (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
              var d = document, s = d.createElement('script');
              
              s.src = '//renschler.disqus.com/embed.js';  // IMPORTANT: Replace EXAMPLE with your forum shortname!
              
              s.setAttribute('data-timestamp', +new Date());
              (d.head || d.body).appendChild(s);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    
  </div> -->
</div>

      </div>
    </div></div>
  </body>
</html>
