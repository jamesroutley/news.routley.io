<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://iamkate.com/code/tree-views/">Original</a>
    <h1>Tree views in CSS</h1>
    
    <div id="readability-page-1" class="page"><div>
      
      <p>
        A tree view (collapsible list) can be created using only <abbr>HTML</abbr> and <abbr>CSS</abbr>, without the need for JavaScript. Accessibility software will see the tree view as lists nested inside disclosure widgets, and the standard keyboard interaction is supported automatically.
      </p>
      <ul>
        <li>
          <details open="">
            <summary>Giant planets</summary>
            <ul>
              <li>
                <details>
                  <summary>Gas giants</summary>
                  <ul>
                    <li>Jupiter</li>
                    <li>Saturn</li>
                  </ul>
                </details>
              </li>
              <li>
                <details>
                  <summary>Ice giants</summary>
                  <ul>
                    <li>Uranus</li>
                    <li>Neptune</li>
                  </ul>
                </details>
              </li>
            </ul>
          </details>
        </li>
      </ul>
      <h2>
        The <abbr>HTML</abbr>
      </h2>
      <p>
        We begin with the <abbr>HTML</abbr> for simple nested lists:
      </p>
<div><div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="html"><span><span><span>&lt;</span><span>ul</span><span>&gt;</span>
</span></span><span><span>  <span>&lt;</span><span>li</span><span>&gt;</span>
</span></span><span><span>    Giant planets
</span></span><span><span>    <span>&lt;</span><span>ul</span><span>&gt;</span>
</span></span><span><span>      <span>&lt;</span><span>li</span><span>&gt;</span>
</span></span><span><span>        Gas giants
</span></span><span><span>        <span>&lt;</span><span>ul</span><span>&gt;</span>
</span></span><span><span>          <span>&lt;</span><span>li</span><span>&gt;</span>Jupiter<span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span>          <span>&lt;</span><span>li</span><span>&gt;</span>Saturn<span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span>        <span>&lt;/</span><span>ul</span><span>&gt;</span>
</span></span><span><span>      <span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span>      <span>&lt;</span><span>li</span><span>&gt;</span>
</span></span><span><span>        Ice giants
</span></span><span><span>        <span>&lt;</span><span>ul</span><span>&gt;</span>
</span></span><span><span>          <span>&lt;</span><span>li</span><span>&gt;</span>Uranus<span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span>          <span>&lt;</span><span>li</span><span>&gt;</span>Neptune<span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span>        <span>&lt;/</span><span>ul</span><span>&gt;</span>
</span></span><span><span>      <span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span>    <span>&lt;/</span><span>ul</span><span>&gt;</span>
</span></span><span><span>  <span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span><span>&lt;/</span><span>ul</span><span>&gt;</span></span></span></code></pre></td></tr></tbody></table>
</div>
</div>
      <p>
        We then add a class to the outermost <code>&lt;ul&gt;</code> element, and for each list item that contains a nested list, we put the contents of the list item inside <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details"><code>&lt;details&gt;</code></a> and <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/summary"><code>&lt;summary&gt;</code></a> elements, using the <code>open</code> attribute to control which nested lists are initially expanded:
      </p>
<div><div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span><span>26
</span><span>27
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="html"><span><span><span>&lt;</span><span>ul</span> <span>class</span><span>=</span><span>&#34;tree&#34;</span><span>&gt;</span>
</span></span><span><span>  <span>&lt;</span><span>li</span><span>&gt;</span>
</span></span><span><span>    <span>&lt;</span><span>details</span> <span>open</span><span>&gt;</span>
</span></span><span><span>      <span>&lt;</span><span>summary</span><span>&gt;</span>Giant planets<span>&lt;/</span><span>summary</span><span>&gt;</span>
</span></span><span><span>      <span>&lt;</span><span>ul</span><span>&gt;</span>
</span></span><span><span>        <span>&lt;</span><span>li</span><span>&gt;</span>
</span></span><span><span>          <span>&lt;</span><span>details</span><span>&gt;</span>
</span></span><span><span>            <span>&lt;</span><span>summary</span><span>&gt;</span>Gas giants<span>&lt;/</span><span>summary</span><span>&gt;</span>
</span></span><span><span>            <span>&lt;</span><span>ul</span><span>&gt;</span>
</span></span><span><span>              <span>&lt;</span><span>li</span><span>&gt;</span>Jupiter<span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span>              <span>&lt;</span><span>li</span><span>&gt;</span>Saturn<span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span>            <span>&lt;/</span><span>ul</span><span>&gt;</span>
</span></span><span><span>          <span>&lt;/</span><span>details</span><span>&gt;</span>
</span></span><span><span>        <span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span>        <span>&lt;</span><span>li</span><span>&gt;</span>
</span></span><span><span>          <span>&lt;</span><span>details</span><span>&gt;</span>
</span></span><span><span>            <span>&lt;</span><span>summary</span><span>&gt;</span>Ice giants<span>&lt;/</span><span>summary</span><span>&gt;</span>
</span></span><span><span>            <span>&lt;</span><span>ul</span><span>&gt;</span>
</span></span><span><span>              <span>&lt;</span><span>li</span><span>&gt;</span>Uranus<span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span>              <span>&lt;</span><span>li</span><span>&gt;</span>Neptune<span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span>            <span>&lt;/</span><span>ul</span><span>&gt;</span>
</span></span><span><span>          <span>&lt;/</span><span>details</span><span>&gt;</span>
</span></span><span><span>        <span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span>      <span>&lt;/</span><span>ul</span><span>&gt;</span>
</span></span><span><span>    <span>&lt;/</span><span>details</span><span>&gt;</span>
</span></span><span><span>  <span>&lt;/</span><span>li</span><span>&gt;</span>
</span></span><span><span><span>&lt;/</span><span>ul</span><span>&gt;</span></span></span></code></pre></td></tr></tbody></table>
</div>
</div>
      <p>
        Without any styling, this <abbr>HTML</abbr> produces:
      </p>
      <ul>
        <li>
          <details open="">
            <summary>Giant planets</summary>
            <ul>
              <li>
                <details>
                  <summary>Gas giants</summary>
                  <ul>
                    <li>Jupiter</li>
                    <li>Saturn</li>
                  </ul>
                </details>
              </li>
              <li>
                <details>
                  <summary>Ice giants</summary>
                  <ul>
                    <li>Uranus</li>
                    <li>Neptune</li>
                  </ul>
                </details>
              </li>
            </ul>
          </details>
        </li>
      </ul>
      <p>
        The browser implements the <code>&lt;details&gt;</code> element as a disclosure widget, giving the ability to expand and collapse the nested lists, but the combination of bullet points and disclosure arrows produces a confusing user interface.
      </p>
      <h2>
        Custom properties
      </h2>
      <p>
        There are two dimensions that affect the layout of the tree view: the spacing between lines (which equals the line height of the text) and the radius of the markers. We begin by creating CSS custom properties for these dimensions:
      </p>
<div><div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span>1
</span><span>2
</span><span>3
</span><span>4
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="css"><span><span><span>.</span><span>tree</span><span>{</span>
</span></span><span><span>  <span>--spacing</span> <span>:</span> <span>1.5</span><span>rem</span><span>;</span>
</span></span><span><span>  <span>--radius</span>  <span>:</span> <span>10</span><span>px</span><span>;</span>
</span></span><span><span><span>}</span></span></span></code></pre></td></tr></tbody></table>
</div>
</div>
      <p>
        While we would usually use relative units to scale user interface controls based on the text size, for the markers this can lead to controls that are too small or excessively large, so we instead use a reasonable fixed size.
      </p>
      <h2>
        Padding
      </h2>
      <p>
        We then style the list items and nested lists to make space for the lines and markers:
      </p>
<div><div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="css"><span><span><span>.</span><span>tree</span> <span>li</span><span>{</span>
</span></span><span><span>  <span>display</span>      <span>:</span> <span>block</span><span>;</span>
</span></span><span><span>  <span>position</span>     <span>:</span> <span>relative</span><span>;</span>
</span></span><span><span>  <span>padding-left</span> <span>:</span> <span>calc</span><span>(</span><span>2</span> <span>*</span> <span>var</span><span>(</span><span>--</span><span>spacing</span><span>)</span> <span>-</span> <span>var</span><span>(</span><span>--</span><span>radius</span><span>)</span> <span>-</span> <span>2</span><span>px</span><span>);</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>ul</span><span>{</span>
</span></span><span><span>  <span>margin-left</span>  <span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--</span><span>radius</span><span>)</span> <span>-</span> <span>var</span><span>(</span><span>--</span><span>spacing</span><span>));</span>
</span></span><span><span>  <span>padding-left</span> <span>:</span> <span>0</span><span>;</span>
</span></span><span><span><span>}</span></span></span></code></pre></td></tr></tbody></table>
</div>
</div>
      <p>
        Line 7 removes the bullet points from list items. Line 8 establishes a new <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context">stacking context</a> and containing block that we will use to position the lines and markers.
      </p>
      <p>
        Line 9 indents the list items. The indentation is equal to twice the spacing, minus the marker radius, minus the two-pixel line width. The result is that the text in a list item will align with the left side of the marker below it.
      </p>
      <p>
        Line 13 uses a negative margin to compensate for the indentation introduced by line 9, ensuring nested lists are indented by only the desired spacing. Line 14 removes the default padding that browsers apply to lists.
      </p>
      <p>
        On a tree view with all nested lists initially expanded, applying this styling produces:
      </p>
      <ul>
        <li>
          <details open="">
            <summary>Giant planets</summary>
            <ul>
              <li>
                <details open="">
                  <summary>Gas giants</summary>
                  <ul>
                    <li>Jupiter</li>
                    <li>Saturn</li>
                  </ul>
                </details>
              </li>
              <li>
                <details open="">
                  <summary>Ice giants</summary>
                  <ul>
                    <li>Uranus</li>
                    <li>Neptune</li>
                  </ul>
                </details>
              </li>
            </ul>
          </details>
        </li>
      </ul>
      <h2>
        Vertical lines
      </h2>
      <p>
        Next we add the vertical lines that form part of the lines joining the marker of each list item to the markers of its nested lists:
      </p>
<div><div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="css"><span><span><span>.</span><span>tree</span> <span>ul</span> <span>li</span><span>{</span>
</span></span><span><span>  <span>border-left</span> <span>:</span> <span>2</span><span>px</span> <span>solid</span> <span>#ddd</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>ul</span> <span>li</span><span>:</span><span>last-child</span><span>{</span>
</span></span><span><span>  <span>border-color</span> <span>:</span> <span>transparent</span><span>;</span>
</span></span><span><span><span>}</span></span></span></code></pre></td></tr></tbody></table>
</div>
</div>
      <p>
        We use a border to create the line, and hide it on the final item in each list as the line shouldn’t continue past this item’s marker. Making the border transparent, rather than removing it completely, avoids the need to increase the padding to compensate.
      </p>
      <p>
        Applying this styling produces:
      </p>
      <ul>
        <li>
          <details open="">
            <summary>Giant planets</summary>
            <ul>
              <li>
                <details open="">
                  <summary>Gas giants</summary>
                  <ul>
                    <li>Jupiter</li>
                    <li>Saturn</li>
                  </ul>
                </details>
              </li>
              <li>
                <details open="">
                  <summary>Ice giants</summary>
                  <ul>
                    <li>Uranus</li>
                    <li>Neptune</li>
                  </ul>
                </details>
              </li>
            </ul>
          </details>
        </li>
      </ul>
      <h2>
        Horizontal lines
      </h2>
      <p>
        We use <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Generated_Content">generated content</a> to add the horizontal lines that join the vertical lines to the markers of each list item:
      </p>
<div><div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span>25
</span><span>26
</span><span>27
</span><span>28
</span><span>29
</span><span>30
</span><span>31
</span><span>32
</span><span>33
</span><span>34
</span><span>35
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="css"><span><span><span>.</span><span>tree</span> <span>ul</span> <span>li</span><span>::</span><span>before</span><span>{</span>
</span></span><span><span>  <span>content</span>      <span>:</span> <span>&#39;&#39;</span><span>;</span>
</span></span><span><span>  <span>display</span>      <span>:</span> <span>block</span><span>;</span>
</span></span><span><span>  <span>position</span>     <span>:</span> <span>absolute</span><span>;</span>
</span></span><span><span>  <span>top</span>          <span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--</span><span>spacing</span><span>)</span> <span>/</span> <span>-2</span><span>);</span>
</span></span><span><span>  <span>left</span>         <span>:</span> <span>-2</span><span>px</span><span>;</span>
</span></span><span><span>  <span>width</span>        <span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--</span><span>spacing</span><span>)</span> <span>+</span> <span>2</span><span>px</span><span>);</span>
</span></span><span><span>  <span>height</span>       <span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--</span><span>spacing</span><span>)</span> <span>+</span> <span>1</span><span>px</span><span>);</span>
</span></span><span><span>  <span>border</span>       <span>:</span> <span>solid</span> <span>#ddd</span><span>;</span>
</span></span><span><span>  <span>border-width</span> <span>:</span> <span>0</span> <span>0</span> <span>2</span><span>px</span> <span>2</span><span>px</span><span>;</span>
</span></span><span><span><span>}</span></span></span></code></pre></td></tr></tbody></table>
</div>
</div>
      <p>
        This code also creates short vertical lines, as the vertical lines created previously don’t extend all the way to the markers at their top and bottom ends.
      </p>
      <p>
        Lines 26 and 27 generate a block, and lines 28 to 30 position it to start at the midpoint of the preceding line of text, overlapping the vertical line to its left.
      </p>
      <p>
        Lines 31 and 32 set the size of the block. It needs to be two pixels wider than the spacing as it overlaps the vertical line to its left, and one pixel taller than the spacing as half the width of the horizontal line lies below the midpoint of the line of text. Note that we are assuming the use of <a href="http://thewebivore.com/border-box/">border box sizing</a>, so these dimensions include the border.
      </p>
      <p>
        Lines 33 and 34 create a border on the left and bottom sides of the block.
      </p>
      <p>
        Applying this styling produces:
      </p>
      <ul>
        <li>
          <details open="">
            <summary>Giant planets</summary>
            <ul>
              <li>
                <details open="">
                  <summary>Gas giants</summary>
                  <ul>
                    <li>Jupiter</li>
                    <li>Saturn</li>
                  </ul>
                </details>
              </li>
              <li>
                <details open="">
                  <summary>Ice giants</summary>
                  <ul>
                    <li>Uranus</li>
                    <li>Neptune</li>
                  </ul>
                </details>
              </li>
            </ul>
          </details>
        </li>
      </ul>
      <h2>
        Summaries
      </h2>
      <p>
        Next we remove the default styling from summaries:
      </p>
<div><div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span>37
</span><span>38
</span><span>39
</span><span>40
</span><span>41
</span><span>42
</span><span>43
</span><span>44
</span><span>45
</span><span>46
</span><span>47
</span><span>48
</span><span>49
</span><span>50
</span><span>51
</span><span>52
</span><span>53
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="css"><span><span><span>.</span><span>tree</span> <span>summary</span><span>{</span>
</span></span><span><span>  <span>display</span> <span>:</span> <span>block</span><span>;</span>
</span></span><span><span>  <span>cursor</span>  <span>:</span> <span>pointer</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>summary</span><span>::</span><span>marker</span><span>,</span>
</span></span><span><span><span>.</span><span>tree</span> <span>summary</span><span>::</span><span>-webkit-details-marker</span><span>{</span>
</span></span><span><span>  <span>display</span> <span>:</span> <span>none</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>summary</span><span>:</span><span>focus</span><span>{</span>
</span></span><span><span>  <span>outline</span> <span>:</span> <span>none</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>summary</span><span>:</span><span>focus-visible</span><span>{</span>
</span></span><span><span>  <span>outline</span> <span>:</span> <span>1</span><span>px</span> <span>dotted</span> <span>#000</span><span>;</span>
</span></span><span><span><span>}</span></span></span></code></pre></td></tr></tbody></table>
</div>
</div>
      <p>
        Lines 38 and 44 remove the disclosure arrows. Line 44 is needed for Safari, with the two selectors on lines 42 and 43 covering different versions of the browser. Line 39 changes the cursor to indicate that the summary can be clicked to interact with it.
      </p>
      <p>
        Safari shows a focus indicator around summaries, even when using a pointer rather than keyboard navigation, so we remove the focus styling on line 48 and then use the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:focus-visible"><code>:focus-visible</code></a> pseudo-class to add it back for visitors using keyboard navigation on line 52.
      </p>
      <p>
        Applying this styling produces:
      </p>
      <ul>
        <li>
          <details open="">
            <summary>Giant planets</summary>
            <ul>
              <li>
                <details open="">
                  <summary>Gas giants</summary>
                  <ul>
                    <li>Jupiter</li>
                    <li>Saturn</li>
                  </ul>
                </details>
              </li>
              <li>
                <details open="">
                  <summary>Ice giants</summary>
                  <ul>
                    <li>Uranus</li>
                    <li>Neptune</li>
                  </ul>
                </details>
              </li>
            </ul>
          </details>
        </li>
      </ul>
      <h2>
        Markers
      </h2>
      <p>
        We use generated content again to create the markers:
      </p>
<div><div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span>55
</span><span>56
</span><span>57
</span><span>58
</span><span>59
</span><span>60
</span><span>61
</span><span>62
</span><span>63
</span><span>64
</span><span>65
</span><span>66
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="css"><span><span><span>.</span><span>tree</span> <span>li</span><span>::</span><span>after</span><span>,</span>
</span></span><span><span><span>.</span><span>tree</span> <span>summary</span><span>::</span><span>before</span><span>{</span>
</span></span><span><span>  <span>content</span>       <span>:</span> <span>&#39;&#39;</span><span>;</span>
</span></span><span><span>  <span>display</span>       <span>:</span> <span>block</span><span>;</span>
</span></span><span><span>  <span>position</span>      <span>:</span> <span>absolute</span><span>;</span>
</span></span><span><span>  <span>top</span>           <span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--</span><span>spacing</span><span>)</span> <span>/</span> <span>2</span> <span>-</span> <span>var</span><span>(</span><span>--</span><span>radius</span><span>));</span>
</span></span><span><span>  <span>left</span>          <span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--</span><span>spacing</span><span>)</span> <span>-</span> <span>var</span><span>(</span><span>--</span><span>radius</span><span>)</span> <span>-</span> <span>1</span><span>px</span><span>);</span>
</span></span><span><span>  <span>width</span>         <span>:</span> <span>calc</span><span>(</span><span>2</span> <span>*</span> <span>var</span><span>(</span><span>--</span><span>radius</span><span>));</span>
</span></span><span><span>  <span>height</span>        <span>:</span> <span>calc</span><span>(</span><span>2</span> <span>*</span> <span>var</span><span>(</span><span>--</span><span>radius</span><span>));</span>
</span></span><span><span>  <span>border-radius</span> <span>:</span> <span>50</span><span>%</span><span>;</span>
</span></span><span><span>  <span>background</span>    <span>:</span> <span>#ddd</span><span>;</span>
</span></span><span><span><span>}</span></span></span></code></pre></td></tr></tbody></table>
</div>
</div>
      <p>
        Note that we generate markers both for <code>&lt;li&gt;</code> elements (for list items that don’t contain nested lists) and for <code>&lt;summary</code> elements, allowing list items that contain nested lists to have different marker styling depending on whether the nested list is expanded or collapsed.
      </p>
      <p>
        Lines 57 and 58 generate a block, and lines 59 to 61 center it over the corner where the horizontal and vertical lines meet. The top is positioned at the midpoint of the line of text, minus the radius. The left is positioned at the edge of the vertical line, minus the radius, minus the one pixel corresponding to half the line width.
      </p>
      <p>
        Lines 62 and 63 set the size of the block, and lines 64 and 65 style it as a circle.
      </p>
      <p>
        Applying this styling produces:
      </p>
      <ul>
        <li>
          <details open="">
            <summary>Giant planets</summary>
            <ul>
              <li>
                <details open="">
                  <summary>Gas giants</summary>
                  <ul>
                    <li>Jupiter</li>
                    <li>Saturn</li>
                  </ul>
                </details>
              </li>
              <li>
                <details open="">
                  <summary>Ice giants</summary>
                  <ul>
                    <li>Uranus</li>
                    <li>Neptune</li>
                  </ul>
                </details>
              </li>
            </ul>
          </details>
        </li>
      </ul>
      <h2>
        Expand and collapse buttons
      </h2>
      <p>
        Finally, we add the expand and collapse buttons:
      </p>
<div><div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span>68
</span><span>69
</span><span>70
</span><span>71
</span><span>72
</span><span>73
</span><span>74
</span><span>75
</span><span>76
</span><span>77
</span><span>78
</span><span>79
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="css"><span><span><span>.</span><span>tree</span> <span>summary</span><span>::</span><span>before</span><span>{</span>
</span></span><span><span>  <span>content</span>     <span>:</span> <span>&#39;+&#39;</span><span>;</span>
</span></span><span><span>  <span>z-index</span>     <span>:</span> <span>1</span><span>;</span>
</span></span><span><span>  <span>background</span>  <span>:</span> <span>#696</span><span>;</span>
</span></span><span><span>  <span>color</span>       <span>:</span> <span>#fff</span><span>;</span>
</span></span><span><span>  <span>line-height</span> <span>:</span> <span>calc</span><span>(</span><span>2</span> <span>*</span> <span>var</span><span>(</span><span>--</span><span>radius</span><span>)</span> <span>-</span> <span>2</span><span>px</span><span>);</span>
</span></span><span><span>  <span>text-align</span>  <span>:</span> <span>center</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>details</span><span>[</span><span>open</span><span>]</span> <span>&gt;</span> <span>summary</span><span>::</span><span>before</span><span>{</span>
</span></span><span><span>  <span>content</span> <span>:</span> <span>&#39;−&#39;</span><span>;</span>
</span></span><span><span><span>}</span></span></span></code></pre></td></tr></tbody></table>
</div>
</div>
      <p>
        Lines 69 and 78 show plus and minus signs in the buttons. Note that we use a true minus sign (−) rather than a hyphen (-) as this matches the appearance of the plus sign, whereas in most fonts the hyphen is narrower and lower.
      </p>
      <p>
        Line 70 causes the button to be displayed on top of the marker created previously. As the marker was created using <code>::after</code> it would otherwise be displayed on top of the button.
      </p>
      <p>
        Lines 71 to 74 set the button’s colours and centre its text, with this particular font requiring a <code>2px</code> vertical adjustment on line 73.
      </p>
      <p>
        Applying this styling produces the finished tree view:
      </p>
      <ul>
        <li>
          <details open="">
            <summary>Giant planets</summary>
            <ul>
              <li>
                <details open="">
                  <summary>Gas giants</summary>
                  <ul>
                    <li>Jupiter</li>
                    <li>Saturn</li>
                  </ul>
                </details>
              </li>
              <li>
                <details open="">
                  <summary>Ice giants</summary>
                  <ul>
                    <li>Uranus</li>
                    <li>Neptune</li>
                  </ul>
                </details>
              </li>
            </ul>
          </details>
        </li>
      </ul>
      <h2>
        The finished code
      </h2>
      <p>
        Combining all of the above leads to the finished code:
      </p>
<div><div>
<table><tbody><tr><td>
<pre tabindex="0"><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span><span>26
</span><span>27
</span><span>28
</span><span>29
</span><span>30
</span><span>31
</span><span>32
</span><span>33
</span><span>34
</span><span>35
</span><span>36
</span><span>37
</span><span>38
</span><span>39
</span><span>40
</span><span>41
</span><span>42
</span><span>43
</span><span>44
</span><span>45
</span><span>46
</span><span>47
</span><span>48
</span><span>49
</span><span>50
</span><span>51
</span><span>52
</span><span>53
</span><span>54
</span><span>55
</span><span>56
</span><span>57
</span><span>58
</span><span>59
</span><span>60
</span><span>61
</span><span>62
</span><span>63
</span><span>64
</span><span>65
</span><span>66
</span><span>67
</span><span>68
</span><span>69
</span><span>70
</span><span>71
</span><span>72
</span><span>73
</span><span>74
</span><span>75
</span><span>76
</span><span>77
</span><span>78
</span><span>79
</span></code></pre></td>
<td>
<pre tabindex="0"><code data-lang="css"><span><span><span>.</span><span>tree</span><span>{</span>
</span></span><span><span>  <span>--spacing</span> <span>:</span> <span>1.5</span><span>rem</span><span>;</span>
</span></span><span><span>  <span>--radius</span>  <span>:</span> <span>10</span><span>px</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>li</span><span>{</span>
</span></span><span><span>  <span>display</span>      <span>:</span> <span>block</span><span>;</span>
</span></span><span><span>  <span>position</span>     <span>:</span> <span>relative</span><span>;</span>
</span></span><span><span>  <span>padding-left</span> <span>:</span> <span>calc</span><span>(</span><span>2</span> <span>*</span> <span>var</span><span>(</span><span>--</span><span>spacing</span><span>)</span> <span>-</span> <span>var</span><span>(</span><span>--</span><span>radius</span><span>)</span> <span>-</span> <span>2</span><span>px</span><span>);</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>ul</span><span>{</span>
</span></span><span><span>  <span>margin-left</span>  <span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--</span><span>radius</span><span>)</span> <span>-</span> <span>var</span><span>(</span><span>--</span><span>spacing</span><span>));</span>
</span></span><span><span>  <span>padding-left</span> <span>:</span> <span>0</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>ul</span> <span>li</span><span>{</span>
</span></span><span><span>  <span>border-left</span> <span>:</span> <span>2</span><span>px</span> <span>solid</span> <span>#ddd</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>ul</span> <span>li</span><span>:</span><span>last-child</span><span>{</span>
</span></span><span><span>  <span>border-color</span> <span>:</span> <span>transparent</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>ul</span> <span>li</span><span>::</span><span>before</span><span>{</span>
</span></span><span><span>  <span>content</span>      <span>:</span> <span>&#39;&#39;</span><span>;</span>
</span></span><span><span>  <span>display</span>      <span>:</span> <span>block</span><span>;</span>
</span></span><span><span>  <span>position</span>     <span>:</span> <span>absolute</span><span>;</span>
</span></span><span><span>  <span>top</span>          <span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--</span><span>spacing</span><span>)</span> <span>/</span> <span>-2</span><span>);</span>
</span></span><span><span>  <span>left</span>         <span>:</span> <span>-2</span><span>px</span><span>;</span>
</span></span><span><span>  <span>width</span>        <span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--</span><span>spacing</span><span>)</span> <span>+</span> <span>2</span><span>px</span><span>);</span>
</span></span><span><span>  <span>height</span>       <span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--</span><span>spacing</span><span>)</span> <span>+</span> <span>1</span><span>px</span><span>);</span>
</span></span><span><span>  <span>border</span>       <span>:</span> <span>solid</span> <span>#ddd</span><span>;</span>
</span></span><span><span>  <span>border-width</span> <span>:</span> <span>0</span> <span>0</span> <span>2</span><span>px</span> <span>2</span><span>px</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>summary</span><span>{</span>
</span></span><span><span>  <span>display</span> <span>:</span> <span>block</span><span>;</span>
</span></span><span><span>  <span>cursor</span>  <span>:</span> <span>pointer</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>summary</span><span>::</span><span>marker</span><span>,</span>
</span></span><span><span><span>.</span><span>tree</span> <span>summary</span><span>::</span><span>-webkit-details-marker</span><span>{</span>
</span></span><span><span>  <span>display</span> <span>:</span> <span>none</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>summary</span><span>:</span><span>focus</span><span>{</span>
</span></span><span><span>  <span>outline</span> <span>:</span> <span>none</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>summary</span><span>:</span><span>focus-visible</span><span>{</span>
</span></span><span><span>  <span>outline</span> <span>:</span> <span>1</span><span>px</span> <span>dotted</span> <span>#000</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>li</span><span>::</span><span>after</span><span>,</span>
</span></span><span><span><span>.</span><span>tree</span> <span>summary</span><span>::</span><span>before</span><span>{</span>
</span></span><span><span>  <span>content</span>       <span>:</span> <span>&#39;&#39;</span><span>;</span>
</span></span><span><span>  <span>display</span>       <span>:</span> <span>block</span><span>;</span>
</span></span><span><span>  <span>position</span>      <span>:</span> <span>absolute</span><span>;</span>
</span></span><span><span>  <span>top</span>           <span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--</span><span>spacing</span><span>)</span> <span>/</span> <span>2</span> <span>-</span> <span>var</span><span>(</span><span>--</span><span>radius</span><span>));</span>
</span></span><span><span>  <span>left</span>          <span>:</span> <span>calc</span><span>(</span><span>var</span><span>(</span><span>--</span><span>spacing</span><span>)</span> <span>-</span> <span>var</span><span>(</span><span>--</span><span>radius</span><span>)</span> <span>-</span> <span>1</span><span>px</span><span>);</span>
</span></span><span><span>  <span>width</span>         <span>:</span> <span>calc</span><span>(</span><span>2</span> <span>*</span> <span>var</span><span>(</span><span>--</span><span>radius</span><span>));</span>
</span></span><span><span>  <span>height</span>        <span>:</span> <span>calc</span><span>(</span><span>2</span> <span>*</span> <span>var</span><span>(</span><span>--</span><span>radius</span><span>));</span>
</span></span><span><span>  <span>border-radius</span> <span>:</span> <span>50</span><span>%</span><span>;</span>
</span></span><span><span>  <span>background</span>    <span>:</span> <span>#ddd</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>summary</span><span>::</span><span>before</span><span>{</span>
</span></span><span><span>  <span>content</span>     <span>:</span> <span>&#39;+&#39;</span><span>;</span>
</span></span><span><span>  <span>z-index</span>     <span>:</span> <span>1</span><span>;</span>
</span></span><span><span>  <span>background</span>  <span>:</span> <span>#696</span><span>;</span>
</span></span><span><span>  <span>color</span>       <span>:</span> <span>#fff</span><span>;</span>
</span></span><span><span>  <span>line-height</span> <span>:</span> <span>calc</span><span>(</span><span>2</span> <span>*</span> <span>var</span><span>(</span><span>--</span><span>radius</span><span>)</span> <span>-</span> <span>2</span><span>px</span><span>);</span>
</span></span><span><span>  <span>text-align</span>  <span>:</span> <span>center</span><span>;</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>.</span><span>tree</span> <span>details</span><span>[</span><span>open</span><span>]</span> <span>&gt;</span> <span>summary</span><span>::</span><span>before</span><span>{</span>
</span></span><span><span>  <span>content</span> <span>:</span> <span>&#39;−&#39;</span><span>;</span>
</span></span><span><span><span>}</span></span></span></code></pre></td></tr></tbody></table>
</div>
</div>
    </div></div>
  </body>
</html>
