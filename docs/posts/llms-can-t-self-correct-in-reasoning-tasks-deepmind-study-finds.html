<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bdtechtalks.com/2023/10/09/llm-self-correction-reasoning-failures/">Original</a>
    <h1>LLMs can&#39;t self-correct in reasoning tasks, DeepMind study finds</h1>
    
    <div id="readability-page-1" class="page"><div>
            
<figure><a href="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/Confused-robot.jpg?ssl=1"><img data-attachment-id="17440" data-permalink="https://bdtechtalks.com/2023/10/09/llm-self-correction-reasoning-failures/confused-robot-2/" data-orig-file="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/Confused-robot.jpg?fit=1024%2C968&amp;ssl=1" data-orig-size="1024,968" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;1&#34;}" data-image-title="Confused robot" data-image-description="" data-image-caption="&lt;p&gt;Image generated with Bing Image Creator&lt;/p&gt;
" data-medium-file="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/Confused-robot.jpg?fit=300%2C284&amp;ssl=1" data-large-file="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/Confused-robot.jpg?fit=696%2C658&amp;ssl=1" decoding="async" fetchpriority="high" width="696" height="658" src="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/Confused-robot.jpg?resize=696%2C658&amp;ssl=1" alt="Confused robot" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/Confused-robot.jpg?w=1024&amp;ssl=1 1024w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/Confused-robot.jpg?resize=300%2C284&amp;ssl=1 300w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/Confused-robot.jpg?resize=768%2C726&amp;ssl=1 768w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/Confused-robot.jpg?resize=696%2C658&amp;ssl=1 696w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/Confused-robot.jpg?resize=444%2C420&amp;ssl=1 444w" data-lazy-sizes="(max-width: 696px) 100vw, 696px" data-lazy-src="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/Confused-robot.jpg?resize=696%2C658&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></a><figcaption>Image generated with Bing Image Creator</figcaption></figure>



<p><em>This article is part of our coverage of the latest in <a href="https://bdtechtalks.com/tag/ai-research-papers/" target="_blank" rel="noreferrer noopener">AI research</a>.</em></p>



<p>Scientists are inventing various strategies to enhance the accuracy and reasoning abilities of large language models (<a href="https://bdtechtalks.com/tag/large-language-models/">LLM</a>) such as <a href="https://bdtechtalks.com/2023/04/03/augmented-language-models/" title="">retrieval augmentation</a> and chain-of-thought reasoning.</p>



<p>Among these, “self-correction”—a technique where an LLM refines its own responses—has gained significant traction, demonstrating efficacy across numerous applications. However, the mechanics behind its success remain elusive. </p>



<p>A <a href="https://arxiv.org/abs/2310.01798">recent study</a> conducted by Google DeepMind in collaboration with the University of Illinois at Urbana-Champaign reveals that LLMs often falter when self-correcting their responses without external feedback. In fact, the study suggests that self-correction can sometimes impair the performance of these models, challenging the prevailing understanding of this popular technique.</p>



<h2>What is self-correction?</h2>



<div>




<p>Self-correction is predicated on the idea that LLMs can assess the accuracy of their outputs and refine their responses. For instance, an LLM might initially fail a math problem but correct its answer after reviewing its own output and reasoning.</p>
</div>



<p>Several studies have observed this process, also known as “self-critique,” “self-refine,” or “self-improve.”</p>



<p>However, the effectiveness of self-correction is not universal across all tasks. The paper from DeepMind and University of Illinois reveals that the success of self-correction is largely contingent on the nature of the task at hand. In reasoning tasks, self-correction techniques typically succeed only when they can leverage external sources, such as human feedback, an external tool like a calculator or code executor, or a knowledge base.</p>



<p>The researchers underscore the fact that high-quality feedback is not always accessible in many applications. This makes it crucial to understand the inherent capabilities of LLMs and to discern how much of the self-correction can be attributed to the model’s internal knowledge. They introduce the concept of “intrinsic self-correction,” which refers to a scenario where the model attempts to correct its initial responses based solely on its built-in capabilities, without any external feedback. </p>


<div>
<figure><a href="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?ssl=1"><img data-attachment-id="17437" data-permalink="https://bdtechtalks.com/2023/10/09/llm-self-correction-reasoning-failures/llm-self-correction-techniques/" data-orig-file="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?fit=1762%2C776&amp;ssl=1" data-orig-size="1762,776" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="LLM self-correction techniques" data-image-description="&lt;p&gt;Different LLM self-correction techniques (source: &lt;a href=&#34;https://github.com/teacherpeterpan/self-correction-llm-papers&#34;&gt;GitHub&lt;/a&gt;)&lt;/p&gt;
" data-image-caption="&lt;p&gt;Different LLM self-correction techniques (source: &lt;a href=&#34;https://github.com/teacherpeterpan/self-correction-llm-papers&#34;&gt;GitHub&lt;/a&gt;)&lt;/p&gt;
" data-medium-file="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?fit=300%2C132&amp;ssl=1" data-large-file="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?fit=696%2C307&amp;ssl=1" decoding="async" width="696" height="307" src="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?resize=696%2C307&amp;ssl=1" alt="LLM self-correction techniques" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?resize=1024%2C451&amp;ssl=1 1024w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?resize=300%2C132&amp;ssl=1 300w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?resize=768%2C338&amp;ssl=1 768w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?resize=1536%2C676&amp;ssl=1 1536w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?resize=696%2C307&amp;ssl=1 696w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?resize=1068%2C470&amp;ssl=1 1068w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?resize=954%2C420&amp;ssl=1 954w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?w=1762&amp;ssl=1 1762w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?w=1392&amp;ssl=1 1392w" data-lazy-sizes="(max-width: 696px) 100vw, 696px" data-lazy-src="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-techniques.png?resize=696%2C307&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></a><figcaption>Different LLM self-correction techniques (source: <a href="https://github.com/teacherpeterpan/self-correction-llm-papers">GitHub</a>)</figcaption></figure></div>


<h2>Testing self-correction on reasoning tasks</h2>



<p>The researchers put self-correction to the test on several benchmarks that measure model performance in solving math word problems, answering multiple-choice questions, and tackling question-answering problems that require reasoning. They employed a three-step process for self-correction. First, they prompt the model for an answer. Next, they prompt it to review its previous response. Finally, they prompt it a third time to answer the original question based on its self-generated feedback.</p>



<p>Their findings reveal that self-correction works effectively when the models have access to the ground-truth labels included in the benchmark datasets. This is because the algorithm can accurately determine when to halt the reasoning process and avoid changing the answer when it is already correct. As the researchers state, “These results use ground-truth labels to prevent the model from altering a correct answer to an incorrect one. However, determining how to prevent such mischanges is, in fact, the key to ensuring the success of self-correction.”</p>



<p>However, this assumption does not reflect real-world scenarios, where access to the ground truth is not always available. If the ground truth were readily accessible, there would be no need to employ a machine learning model to predict it. The researchers demonstrate that when they remove the labels from the self-correction process, the performance of the models begins to decline significantly.</p>



<p>Interestingly, the models often produce the correct answer initially, but switch to an incorrect response after self-correction. For instance, in GPT-3.5-Turbo (the model used in the free version of <a href="https://bdtechtalks.com/2022/12/05/openai-chatgpt/">ChatGPT</a>), the performance dropped by almost half on the CommonSenseQA question-answering dataset when self-correction was applied. <a href="https://bdtechtalks.com/2023/03/20/gpt-4-applications-limits/">GPT-4</a> also exhibited a performance drop, albeit by a smaller margin.</p>


<div>
<figure><a href="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?ssl=1"><img data-attachment-id="17432" data-permalink="https://bdtechtalks.com/2023/10/09/llm-self-correction-reasoning-failures/llm-self-correction-errors/" data-orig-file="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?fit=2798%2C972&amp;ssl=1" data-orig-size="2798,972" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;1&#34;}" data-image-title="LLM self-correction errors" data-image-description="&lt;p&gt;In many cases, intrinsic self-correction causes models to switch from the right answer to the wrong answer&lt;/p&gt;
" data-image-caption="&lt;p&gt;In many cases, intrinsic self-correction causes models to switch from the right answer to the wrong answer&lt;/p&gt;
" data-medium-file="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?fit=300%2C104&amp;ssl=1" data-large-file="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?fit=696%2C242&amp;ssl=1" decoding="async" width="696" height="242" src="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors-1024x356.jpg?resize=696%2C242&amp;ssl=1" alt="LLM self-correction errors" data-recalc-dims="1" data-lazy-srcset="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?resize=1024%2C356&amp;ssl=1 1024w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?resize=300%2C104&amp;ssl=1 300w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?resize=768%2C267&amp;ssl=1 768w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?resize=1536%2C534&amp;ssl=1 1536w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?resize=2048%2C711&amp;ssl=1 2048w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?resize=696%2C242&amp;ssl=1 696w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?resize=1068%2C371&amp;ssl=1 1068w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?resize=1209%2C420&amp;ssl=1 1209w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?resize=1920%2C667&amp;ssl=1 1920w, https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors.jpg?w=1392&amp;ssl=1 1392w" data-lazy-sizes="(max-width: 696px) 100vw, 696px" data-lazy-src="https://i0.wp.com/bdtechtalks.com/wp-content/uploads/2023/10/LLM-self-correction-errors-1024x356.jpg?resize=696%2C242&amp;is-pending-load=1#038;ssl=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"/></a><figcaption>In many cases, intrinsic self-correction causes models to switch from the right answer to the wrong answer</figcaption></figure></div>


<p>According to the researchers, if the model is well-aligned and paired with a thoughtfully designed initial prompt, “the initial response should already be optimal given the conditions of the prompt and the specific decoding algorithm.” In this case, introducing feedback can be viewed as adding an additional prompt, potentially skewing the model’s response away from the optimal prompt. “In an intrinsic self-correction setting, on the reasoning tasks, this supplementary prompt may not offer any extra advantage for answering the question. In fact, it might even bias the model away from producing an optimal response to the initial prompt, resulting in a decrease in performance,” the researchers write.</p>



<p>Self-correction is also prevalent in multi-agent LLM applications. In these scenarios, multiple instances of an LLM, such as ChatGPT, are given different instructions to perform distinct roles in a multi-sided debate. For instance, one agent might be tasked with generating code, while another is instructed to review the code for errors.</p>



<p>In these applications, self-correction is implemented by instructing agents to critique each other’s responses. However, the researchers found that this multi-agent critique does not lead to any form of improvement through debate. Instead, it results in a form of “self-consistency,” where the different agents generate multiple responses and then engage in a form of majority voting to select an answer. </p>



<p>“Rather than labeling the multi-agent debate as a form of “debate” or “critique”, it is more appropriate to perceive it as a means to achieve “consistency” across multiple model generations,” the researchers write.</p>



<h2>Post-hoc vs pre-hoc prompting</h2>



<p>While self-correction may not enhance reasoning, the researchers found that it can be effective in tasks such as modifying the style of the LLM’s output or making the response safer. They refer to these tasks as “post-hoc prompting,” where the prompting is applied after the responses have been generated. They write, “Scenarios in which self-correction enhances model responses occur when it can provide valuable instruction or feedback that pre-hoc prompting cannot.”</p>



<p>Another key finding of the paper is that the improvement attributed to self-correction in certain tasks may be due to an inadequately crafted initial instruction that is outperformed by a carefully constructed feedback prompt. In such cases, incorporating the feedback into the initial instruction, referred to as the “pre-hoc prompt,” can yield better results and reduce inference costs. The researchers state, “It is meaningless to employ a well-crafted post-hoc prompt to guide the model in ‘self-correcting’ a response generated through a poorly constructed pre-hoc prompt. For a fair comparison, equal effort should be invested in both pre-hoc and post-hoc prompting.”</p>



<p>The researchers conclude by urging the community to approach the concept of self-correction with skepticism and to apply it judiciously. </p>



<p>“It is imperative for researchers and practitioners to approach the concept of self-correction with a discerning perspective, acknowledging its potential and recognizing its boundaries,” the researchers write. “By doing so, we can better equip this technique to address the limitations of LLMs, steering their evolution towards enhanced accuracy and reliability.”</p>




        </div></div>
  </body>
</html>
