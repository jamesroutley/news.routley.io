<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://orga.cat/blog/html-conditional-lazy-loading/">Original</a>
    <h1>HTML-only conditional lazy loading (via preload and media)</h1>
    
    <div id="readability-page-1" class="page"><div id="skip">
      

<ul>
  <li><time datetime="2026-01-11">11 de gener del 2026</time></li>
</ul>

<p>The accepted practice is to not add lazy-loading to images above the fold, especially the <a href="https://web.dev/articles/lcp">LCP</a> image, since doing so can delay their loading until the browser has determined they are definitely in the viewport. One problem though is that &#34;above the fold&#34; depends on screen size: an image can be above the fold on desktop and below it on mobile. With <a href="https://developer.mozilla.org/en-US/docs/Web/Performance/Guides/Lazy_loading">native lazy loading</a> and static HTML (e.g., without device detection on the server side or JavaScript), you normally have to pick one behavior and get it wrong for part of your users.</p>
<p>But there&#39;s a small workaround that seems to work. Browsers won&#39;t delay the loading of an image if it&#39;s already been fetched. You can take advantage of that by conditionally preloading the image using a media query, then marking the image as lazy later. I tested it using the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Headers/Link">HTTP link header</a>, but may also work fine with a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Reference/Attributes/rel/preload"><code>&lt;link rel=&#34;preload&#34;&gt;</code></a> tag.</p>
<p>Conceptually:</p>
<pre><code>Link: &lt;/hero.jpg&gt;; rel=preload; as=image; media=&#34;(min-width: 1024px)&#34;
</code></pre>
<pre tabindex="0"><code><span><span><span>&lt;</span>img</span> <span>src</span><span><span>=</span><span>&#34;</span>/hero.jpg<span>&#34;</span></span> <span>loading</span><span><span>=</span><span>&#34;</span>lazy<span>&#34;</span></span> <span>/&gt;</span></span></code></pre>
<p>Effect:</p>
<p>Desktop: preload fires → image loads eagerly (good for LCP)</p>
<p>Mobile: preload ignored → image lazy-loads</p>
<p>I&#39;m using this in book pages and sidebar images at <a href="https://pccd.dites.cat">https://pccd.dites.cat</a>. Example:
<a href="https://pccd.dites.cat/obra/Conca-Guia_%281996%29%3A_Els_primers_reculls_de_proverbis_catalans">https://pccd.dites.cat/obra/Conca-Guia_(1996)%3A_Els_primers_reculls_de_proverbis_catalans</a></p>
<p>In that layout, the cover image is above the fold on desktop but not on smaller devices — so it&#39;s eagerly loaded where Lighthouse recommends it, and lazy-loaded where it makes sense.</p>
<p>Caveats:</p>
<ul>
<li>Not documented or discussed anywhere (but seems to work fine in major browsers)</li>
<li>Requires preloading, which may not always be practical (or intended)</li>
</ul>
<p>But this gives you HTML-only, viewport-dependent lazy loading.</p>


    </div></div>
  </body>
</html>
