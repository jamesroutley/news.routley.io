<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ollama.com/library/llama3-gradient">Original</a>
    <h1>Run llama3 locally with 1M token context</h1>
    
    <div id="readability-page-1" class="page"><div id="file-explorer">
  <section>
    
  </section>
  
<div id="readme">
  <p>
    <h2>Readme</h2>
    
  </p>
  <div>
    <div id="display">
    
      <p><img src="https://ollama.com/assets/library/llama3-gradient/11962db3-2750-4346-b89c-b9b5612cc76a" width="360"/></p>

<p>This model extends LLama-3 8B’s context length from 8k to &gt; 1040K, developed by Gradient, sponsored by compute from Crusoe Energy. It demonstrates that SOTA LLMs can learn to operate on long context with minimal training by appropriately adjusting RoPE theta. We trained on 830M tokens for this stage, and 1.4B tokens total for all stages, which is &lt; 0.01% of Llama-3’s original pre-training data.</p>

<h2>Large Context Window</h2>

<blockquote>
<p>Note: using a 256k context window requires at least 64GB of memory. Using a 1M+ context window requires significantly more (100GB+).</p>
</blockquote>

<p>To extend the context window (to 256k for example) use:</p>

<p><sub>API</sub></p>

<pre><code>curl http://localhost:11434/api/generate -d &#39;{
  &#34;model&#34;: &#34;llama3-gradient&#34;,
  &#34;prompt&#34;: &#34;Why is the sky blue?&#34;,
  &#34;options&#34;: {
    &#34;num_ctx&#34;: 256000
  }
}&#39;
</code></pre>

<p><sub>CLI</sub></p>

<pre><code>ollama run llama3-gradient
&gt;&gt;&gt; /set parameter num_ctx 256000
</code></pre>

<h2>References</h2>

<p><a href="https://gradient.ai/" rel="nofollow">Website</a></p>

<p><a href="https://huggingface.co/gradientai/Llama-3-8B-Instruct-Gradient-1048k" rel="nofollow">Hugging Face</a></p>

    
  </div>
</div>
</div>


</div></div>
  </body>
</html>
