<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/ratatui/mousefood">Original</a>
    <h1>Mousefood â€“ Build embedded terminal UIs for microcontrollers</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a href="https://crates.io/crates/mousefood" rel="nofollow"><img src="https://camo.githubusercontent.com/a1f106fdc71e9cd5156ce382ebc02eafab13171ab608078351984f64ab85f749/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f6d6f757365666f6f643f6c6f676f3d72757374267374796c653d666c61742d73717561726526636f6c6f723d656265393466" alt="Crate" data-canonical-src="https://img.shields.io/crates/v/mousefood?logo=rust&amp;style=flat-square&amp;color=ebe94f"/></a>
<a href="https://docs.rs/mousefood" rel="nofollow"><img src="https://camo.githubusercontent.com/0b83b40ad07bdae4f036f3fd7014cc74ae340de9ec14bcabdab01e7eb5aa00e6/68747470733a2f2f696d672e736869656c64732e696f2f646f637372732f6d6f757365666f6f643f6c6f676f3d72757374267374796c653d666c61742d737175617265" alt="Docs" data-canonical-src="https://img.shields.io/docsrs/mousefood?logo=rust&amp;style=flat-square"/></a>
<a href="https://github.com/ratatui/mousefood/blob/main/.github/workflows/ci.yml"><img src="https://camo.githubusercontent.com/6475d8db8734ced5a2cc928a062fff4c5ad84af83ae257225bc94ed6a19fca8d/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f616374696f6e732f776f726b666c6f772f7374617475732f726174617475692f6d6f757365666f6f642f63692e796d6c3f7374796c653d666c61742d737175617265266c6f676f3d676974687562" alt="CI" data-canonical-src="https://img.shields.io/github/actions/workflow/status/ratatui/mousefood/ci.yml?style=flat-square&amp;logo=github"/></a>
<a href="https://deps.rs/crate/mousefood" rel="nofollow"><img src="https://camo.githubusercontent.com/5430f7a1ac018a0591a40c9fac875a55af6da581f356012ec939b6fc17a3b0a1/68747470733a2f2f646570732e72732f63726174652f6d6f757365666f6f642f6c61746573742f7374617475732e7376673f7374796c653d666c61742d737175617265" alt="Deps" data-canonical-src="https://deps.rs/crate/mousefood/latest/status.svg?style=flat-square"/></a></p>
<p dir="auto"><strong>Mousefood</strong> - a no-std
<a href="https://crates.io/crates/embedded-graphics" rel="nofollow">embedded-graphics</a> backend
for <a href="https://crates.io/crates/ratatui" rel="nofollow">Ratatui</a>!</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/ratatui/mousefood/blob/599f1026d37c8d6308a6df64a234dbefaedc0c6f/assets/demo.jpg?raw=true"><img src="https://github.com/ratatui/mousefood/raw/599f1026d37c8d6308a6df64a234dbefaedc0c6f/assets/demo.jpg?raw=true" alt="demo"/></a>
<a target="_blank" rel="noopener noreferrer" href="https://github.com/ratatui/mousefood/blob/599f1026d37c8d6308a6df64a234dbefaedc0c6f/assets/demo.gif?raw=true"><img src="https://github.com/ratatui/mousefood/raw/599f1026d37c8d6308a6df64a234dbefaedc0c6f/assets/demo.gif?raw=true" alt="animated demo" data-animated-image=""/></a></p>

<p dir="auto">Add mousefood as a dependency:</p>

<p dir="auto">Exemplary setup:</p>
<div dir="auto" data-snippet-clipboard-copy-content="use mousefood::embedded_graphics::{mock_display::MockDisplay, pixelcolor::Rgb888};
use mousefood::prelude::*;
use ratatui::widgets::{Block, Paragraph};
use ratatui::{Frame, Terminal};

fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
    // replace this with your display driver
    // e.g. ILI9341, ST7735, SSD1306, etc.
    let mut display = MockDisplay::&lt;Rgb888&gt;::new();

    let backend = EmbeddedBackend::new(&amp;mut display, EmbeddedBackendConfig::default());
    let mut terminal = Terminal::new(backend)?;

    terminal.draw(draw)?;
    Ok(())
}

fn draw(frame: &amp;mut Frame) {
    let block = Block::bordered().title(&#34;Mousefood&#34;);
    let paragraph = Paragraph::new(&#34;Hello from Mousefood!&#34;).block(block);
    frame.render_widget(paragraph, frame.area());
}"><pre><span>use</span> mousefood<span>::</span>embedded_graphics<span>::</span><span>{</span>mock_display<span>::</span><span>MockDisplay</span><span>,</span> pixelcolor<span>::</span><span>Rgb888</span><span>}</span><span>;</span>
<span>use</span> mousefood<span>::</span>prelude<span>::</span><span>*</span><span>;</span>
<span>use</span> ratatui<span>::</span>widgets<span>::</span><span>{</span><span>Block</span><span>,</span> <span>Paragraph</span><span>}</span><span>;</span>
<span>use</span> ratatui<span>::</span><span>{</span><span>Frame</span><span>,</span> <span>Terminal</span><span>}</span><span>;</span>

<span>fn</span> <span>main</span><span>(</span><span>)</span> -&gt; <span>Result</span><span>&lt;</span><span>(</span><span>)</span><span>,</span> <span>Box</span><span>&lt;</span><span>dyn</span> std<span>::</span>error<span>::</span><span>Error</span><span>&gt;</span><span>&gt;</span> <span>{</span>
    <span>// replace this with your display driver</span>
    <span>// e.g. ILI9341, ST7735, SSD1306, etc.</span>
    <span>let</span> <span>mut</span> display = <span>MockDisplay</span><span>::</span><span>&lt;</span><span>Rgb888</span><span>&gt;</span><span>::</span><span>new</span><span>(</span><span>)</span><span>;</span>

    <span>let</span> backend = <span>EmbeddedBackend</span><span>::</span><span>new</span><span>(</span><span>&amp;</span><span>mut</span> display<span>,</span> <span>EmbeddedBackendConfig</span><span>::</span><span>default</span><span>(</span><span>)</span><span>)</span><span>;</span>
    <span>let</span> <span>mut</span> terminal = <span>Terminal</span><span>::</span><span>new</span><span>(</span>backend<span>)</span>?<span>;</span>

    terminal<span>.</span><span>draw</span><span>(</span>draw<span>)</span>?<span>;</span>
    <span>Ok</span><span>(</span><span>(</span><span>)</span><span>)</span>
<span>}</span>

<span>fn</span> <span>draw</span><span>(</span><span>frame</span><span>:</span> <span>&amp;</span><span>mut</span> <span>Frame</span><span>)</span> <span>{</span>
    <span>let</span> block = <span>Block</span><span>::</span><span>bordered</span><span>(</span><span>)</span><span>.</span><span>title</span><span>(</span><span>&#34;Mousefood&#34;</span><span>)</span><span>;</span>
    <span>let</span> paragraph = <span>Paragraph</span><span>::</span><span>new</span><span>(</span><span>&#34;Hello from Mousefood!&#34;</span><span>)</span><span>.</span><span>block</span><span>(</span>block<span>)</span><span>;</span>
    frame<span>.</span><span>render_widget</span><span>(</span>paragraph<span>,</span> frame<span>.</span><span>area</span><span>(</span><span>)</span><span>)</span><span>;</span>
<span>}</span></pre></div>

<p dir="auto">Embedded-graphics includes bitmap fonts that have a very limited
set of characters to save space (ASCII, ISO 8859 or JIS X0201).
This makes it impossible to draw most of Ratatui&#39;s widgets,
which heavily use box-drawing glyphs, Braille,
and other special characters.</p>
<p dir="auto">Mousefood by default uses <a href="https://crates.io/crates/embedded-graphics-unicodefonts" rel="nofollow"><code>embedded-graphics-unicodefonts</code></a>,
which provides embedded-graphics fonts with a much larger set of characters.</p>

<p dir="auto">In order to save space and <a href="#performance-and-hardware-support">speed up rendering</a>,
the <code>fonts</code> feature can be disabled by turning off the default crate features.
<a href="https://crates.io/crates/ibm437" rel="nofollow"><code>ibm437</code></a> is a good alternative that includes
some drawing characters, but is not as large as embedded-graphics-unicodefonts.</p>

<p dir="auto">Bold and italic modifiers are supported, but this requires providing fonts
through <code>EmbeddedBackendConfig</code>.
If only regular font is provided, it serves as a fallback.
All fonts must be of the same size.</p>
<div dir="auto" data-snippet-clipboard-copy-content="use mousefood::embedded_graphics::{mock_display::MockDisplay, pixelcolor::Rgb888};
use mousefood::{EmbeddedBackend, EmbeddedBackendConfig, fonts};
use ratatui::Terminal;

fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
    let mut display = MockDisplay::&lt;Rgb888&gt;::new();
    let config = EmbeddedBackendConfig {
        font_regular: fonts::MONO_6X13,
        font_bold: Some(fonts::MONO_6X13_BOLD),
        font_italic: Some(fonts::MONO_6X13_ITALIC),
        ..Default::default()
    };
    let backend = EmbeddedBackend::new(&amp;mut display, config);
    let _terminal = Terminal::new(backend)?;
    Ok(())
}"><pre><span>use</span> mousefood<span>::</span>embedded_graphics<span>::</span><span>{</span>mock_display<span>::</span><span>MockDisplay</span><span>,</span> pixelcolor<span>::</span><span>Rgb888</span><span>}</span><span>;</span>
<span>use</span> mousefood<span>::</span><span>{</span><span>EmbeddedBackend</span><span>,</span> <span>EmbeddedBackendConfig</span><span>,</span> fonts<span>}</span><span>;</span>
<span>use</span> ratatui<span>::</span><span>Terminal</span><span>;</span>

<span>fn</span> <span>main</span><span>(</span><span>)</span> -&gt; <span>Result</span><span>&lt;</span><span>(</span><span>)</span><span>,</span> <span>Box</span><span>&lt;</span><span>dyn</span> std<span>::</span>error<span>::</span><span>Error</span><span>&gt;</span><span>&gt;</span> <span>{</span>
    <span>let</span> <span>mut</span> display = <span>MockDisplay</span><span>::</span><span>&lt;</span><span>Rgb888</span><span>&gt;</span><span>::</span><span>new</span><span>(</span><span>)</span><span>;</span>
    <span>let</span> config = <span>EmbeddedBackendConfig</span> <span>{</span>
        <span>font_regular</span><span>:</span> fonts<span>::</span><span>MONO_6X13</span><span>,</span>
        <span>font_bold</span><span>:</span> <span>Some</span><span>(</span>fonts<span>::</span><span>MONO_6X13_BOLD</span><span>)</span><span>,</span>
        <span>font_italic</span><span>:</span> <span>Some</span><span>(</span>fonts<span>::</span><span>MONO_6X13_ITALIC</span><span>)</span><span>,</span>
        ..<span>Default</span><span>::</span><span>default</span><span>(</span><span>)</span>
    <span>}</span><span>;</span>
    <span>let</span> backend = <span>EmbeddedBackend</span><span>::</span><span>new</span><span>(</span><span>&amp;</span><span>mut</span> display<span>,</span> config<span>)</span><span>;</span>
    <span>let</span> _terminal = <span>Terminal</span><span>::</span><span>new</span><span>(</span>backend<span>)</span>?<span>;</span>
    <span>Ok</span><span>(</span><span>(</span><span>)</span><span>)</span>
<span>}</span></pre></div>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/ratatui/mousefood/blob/6640da9402794ea8f9370e0dc2b4bd1ebf2c6356/assets/bold_italic.png?raw=true"><img alt="Bold and Italic fonts" src="https://github.com/ratatui/mousefood/raw/6640da9402794ea8f9370e0dc2b4bd1ebf2c6356/assets/bold_italic.png?raw=true"/></a>
</p>

<p dir="auto">Colors can be remapped using <code>color_theme</code> on <code>EmbeddedBackendConfig</code>.
By default the ANSI palette is used.</p>
<div dir="auto" data-snippet-clipboard-copy-content="use mousefood::{ColorTheme, EmbeddedBackend, EmbeddedBackendConfig};
use mousefood::embedded_graphics::{mock_display::MockDisplay, pixelcolor::Rgb888};

fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
    let mut display = MockDisplay::&lt;Rgb888&gt;::new();
    let theme = ColorTheme {
        background: Rgb888::new(5, 5, 5),
        foreground: Rgb888::new(240, 240, 240),
        yellow: Rgb888::new(255, 200, 0),
        ..ColorTheme::ansi()
    };

    let config = EmbeddedBackendConfig {
        color_theme: theme,
        ..Default::default()
    };
    let backend = EmbeddedBackend::new(&amp;mut display, config);
    Ok(())
}"><pre><span>use</span> mousefood<span>::</span><span>{</span><span>ColorTheme</span><span>,</span> <span>EmbeddedBackend</span><span>,</span> <span>EmbeddedBackendConfig</span><span>}</span><span>;</span>
<span>use</span> mousefood<span>::</span>embedded_graphics<span>::</span><span>{</span>mock_display<span>::</span><span>MockDisplay</span><span>,</span> pixelcolor<span>::</span><span>Rgb888</span><span>}</span><span>;</span>

<span>fn</span> <span>main</span><span>(</span><span>)</span> -&gt; <span>Result</span><span>&lt;</span><span>(</span><span>)</span><span>,</span> <span>Box</span><span>&lt;</span><span>dyn</span> std<span>::</span>error<span>::</span><span>Error</span><span>&gt;</span><span>&gt;</span> <span>{</span>
    <span>let</span> <span>mut</span> display = <span>MockDisplay</span><span>::</span><span>&lt;</span><span>Rgb888</span><span>&gt;</span><span>::</span><span>new</span><span>(</span><span>)</span><span>;</span>
    <span>let</span> theme = <span>ColorTheme</span> <span>{</span>
        <span>background</span><span>:</span> <span>Rgb888</span><span>::</span><span>new</span><span>(</span><span>5</span><span>,</span> <span>5</span><span>,</span> <span>5</span><span>)</span><span>,</span>
        <span>foreground</span><span>:</span> <span>Rgb888</span><span>::</span><span>new</span><span>(</span><span>240</span><span>,</span> <span>240</span><span>,</span> <span>240</span><span>)</span><span>,</span>
        <span>yellow</span><span>:</span> <span>Rgb888</span><span>::</span><span>new</span><span>(</span><span>255</span><span>,</span> <span>200</span><span>,</span> <span>0</span><span>)</span><span>,</span>
        ..<span>ColorTheme</span><span>::</span><span>ansi</span><span>(</span><span>)</span>
    <span>}</span><span>;</span>

    <span>let</span> config = <span>EmbeddedBackendConfig</span> <span>{</span>
        <span>color_theme</span><span>:</span> theme<span>,</span>
        ..<span>Default</span><span>::</span><span>default</span><span>(</span><span>)</span>
    <span>}</span><span>;</span>
    <span>let</span> backend = <span>EmbeddedBackend</span><span>::</span><span>new</span><span>(</span><span>&amp;</span><span>mut</span> display<span>,</span> config<span>)</span><span>;</span>
    <span>Ok</span><span>(</span><span>(</span><span>)</span><span>)</span>
<span>}</span></pre></div>

<p dir="auto">Mousefood includes popular color themes that can be used directly:</p>
<ul dir="auto">
<li><code>ColorTheme::ansi()</code> - Standard ANSI colors (default)</li>
<li><code>ColorTheme::tokyo_night()</code> - Tokyo Night dark theme with blue/purple tones</li>
</ul>

<p dir="auto">Mousefood can be run in a simulator using
<a href="https://crates.io/crates/embedded-graphics-simulator" rel="nofollow">embedded-graphics-simulator</a> crate.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/ratatui/mousefood/blob/66d4010deed18f755cc3148a7f682f4119b7f664/assets/simulator.png?raw=true"><img src="https://github.com/ratatui/mousefood/raw/66d4010deed18f755cc3148a7f682f4119b7f664/assets/simulator.png?raw=true" alt="Screenshot of a window running the simulator with a mousefood application"/></a></p>
<p dir="auto">Run simulator example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/ratatui/mousefood.git
cd mousefood/examples/simulator
cargo run"><pre>git clone https://github.com/ratatui/mousefood.git
<span>cd</span> mousefood/examples/simulator
cargo run</pre></div>
<p dir="auto">For more details, view the <a href="https://majantali.net/ratatui/mousefood/blob/main/examples/simulator">simulator example</a>.</p>


<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/ratatui/mousefood/blob/fa70cdd46567a51895caf10c44fff4104602e880/assets/epd-weact.jpg?raw=true"><img src="https://github.com/ratatui/mousefood/raw/fa70cdd46567a51895caf10c44fff4104602e880/assets/epd-weact.jpg?raw=true" alt="WeAct epd demo"/></a></p>
<p dir="auto">Support for EPD (e-ink displays) produced by WeAct Studio
(<code>weact-studio-epd</code> driver) can be enabled using <code>epd-weact</code> feature.</p>
<p dir="auto">This driver requires some additional configuration.
Follow the <a href="https://docs.rs/weact-studio-epd" rel="nofollow"><code>weact-studio-epd</code></a>
crate docs and apply the same <code>flush_callback</code> pattern used in the <a href="#waveshare">Waveshare example below</a>.</p>
<details>
  <summary>Setup example</summary>
<div dir="auto" data-snippet-clipboard-copy-content="use mousefood::prelude::*;
use weact_studio_epd::graphics::Display290BlackWhite;
use weact_studio_epd::WeActStudio290BlackWhiteDriver;

fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
    // Configure SPI + GPIO + delay provider for your board.
    // let (spi_interface, busy, rst, delay) = ...;

    let mut driver = WeActStudio290BlackWhiteDriver::new(spi_interface, busy, rst, delay);
    let mut display = Display290BlackWhite::new();

    driver.init()?;

    let config = EmbeddedBackendConfig {
        flush_callback: Box::new(move |d| {
            driver.full_update(d).expect(&#34;epd update failed&#34;);
        }),
        ..Default::default()
    };

    let backend = EmbeddedBackend::new(&amp;mut display, config);
    let _terminal = Terminal::new(backend)?;
    Ok(())
}"><pre><span>use</span> mousefood<span>::</span>prelude<span>::</span><span>*</span><span>;</span>
<span>use</span> weact_studio_epd<span>::</span>graphics<span>::</span><span>Display290BlackWhite</span><span>;</span>
<span>use</span> weact_studio_epd<span>::</span><span>WeActStudio290BlackWhiteDriver</span><span>;</span>

<span>fn</span> <span>main</span><span>(</span><span>)</span> -&gt; <span>Result</span><span>&lt;</span><span>(</span><span>)</span><span>,</span> <span>Box</span><span>&lt;</span><span>dyn</span> std<span>::</span>error<span>::</span><span>Error</span><span>&gt;</span><span>&gt;</span> <span>{</span>
    <span>// Configure SPI + GPIO + delay provider for your board.</span>
    <span>// let (spi_interface, busy, rst, delay) = ...;</span>

    <span>let</span> <span>mut</span> driver = <span>WeActStudio290BlackWhiteDriver</span><span>::</span><span>new</span><span>(</span>spi_interface<span>,</span> busy<span>,</span> rst<span>,</span> delay<span>)</span><span>;</span>
    <span>let</span> <span>mut</span> display = <span>Display290BlackWhite</span><span>::</span><span>new</span><span>(</span><span>)</span><span>;</span>

    driver<span>.</span><span>init</span><span>(</span><span>)</span>?<span>;</span>

    <span>let</span> config = <span>EmbeddedBackendConfig</span> <span>{</span>
        <span>flush_callback</span><span>:</span> <span>Box</span><span>::</span><span>new</span><span>(</span><span>move</span> |d| <span>{</span>
            driver<span>.</span><span>full_update</span><span>(</span>d<span>)</span><span>.</span><span>expect</span><span>(</span><span>&#34;epd update failed&#34;</span><span>)</span><span>;</span>
        <span>}</span><span>)</span><span>,</span>
        ..<span>Default</span><span>::</span><span>default</span><span>(</span><span>)</span>
    <span>}</span><span>;</span>

    <span>let</span> backend = <span>EmbeddedBackend</span><span>::</span><span>new</span><span>(</span><span>&amp;</span><span>mut</span> display<span>,</span> config<span>)</span><span>;</span>
    <span>let</span> _terminal = <span>Terminal</span><span>::</span><span>new</span><span>(</span>backend<span>)</span>?<span>;</span>
    <span>Ok</span><span>(</span><span>(</span><span>)</span><span>)</span>
<span>}</span></pre></div>
</details>

<p dir="auto">Support for EPD (e-ink displays) produced by Waveshare Electronics
(<code>epd-waveshare</code> driver) can be enabled using <code>epd-waveshare</code> feature.</p>
<details>
  <summary>Setup example</summary>
<div dir="auto" data-snippet-clipboard-copy-content="use mousefood::prelude::*;
use epd_waveshare::{epd2in9_v2::*, prelude::*};

fn main() -&gt; Result&lt;(), Box&lt;dyn std::error::Error&gt;&gt; {
    // Configure SPI + GPIO + delay provider for your board.
    // let (mut spi_device, busy, dc, rst, mut delay) = ...;

    let mut epd = Epd2in9::new(&amp;mut spi_device, busy, dc, rst, &amp;mut delay, None)?;
    let mut display = Display2in9::default();

    let config = EmbeddedBackendConfig {
        flush_callback: Box::new(move |d| {
            epd.update_and_display_frame(&amp;mut spi_device, d.buffer(), &amp;mut delay)
                .expect(&#34;epd update failed&#34;);
        }),
        ..Default::default()
    };

    let backend = EmbeddedBackend::new(&amp;mut display, config);
    let _terminal = Terminal::new(backend)?;
    Ok(())
}"><pre><span>use</span> mousefood<span>::</span>prelude<span>::</span><span>*</span><span>;</span>
<span>use</span> epd_waveshare<span>::</span><span>{</span>epd2in9_v2<span>::</span><span>*</span><span>,</span> prelude<span>::</span><span>*</span><span>}</span><span>;</span>

<span>fn</span> <span>main</span><span>(</span><span>)</span> -&gt; <span>Result</span><span>&lt;</span><span>(</span><span>)</span><span>,</span> <span>Box</span><span>&lt;</span><span>dyn</span> std<span>::</span>error<span>::</span><span>Error</span><span>&gt;</span><span>&gt;</span> <span>{</span>
    <span>// Configure SPI + GPIO + delay provider for your board.</span>
    <span>// let (mut spi_device, busy, dc, rst, mut delay) = ...;</span>

    <span>let</span> <span>mut</span> epd = <span>Epd2in9</span><span>::</span><span>new</span><span>(</span><span>&amp;</span><span>mut</span> spi_device<span>,</span> busy<span>,</span> dc<span>,</span> rst<span>,</span> <span>&amp;</span><span>mut</span> delay<span>,</span> <span>None</span><span>)</span>?<span>;</span>
    <span>let</span> <span>mut</span> display = <span>Display2in9</span><span>::</span><span>default</span><span>(</span><span>)</span><span>;</span>

    <span>let</span> config = <span>EmbeddedBackendConfig</span> <span>{</span>
        <span>flush_callback</span><span>:</span> <span>Box</span><span>::</span><span>new</span><span>(</span><span>move</span> |d| <span>{</span>
            epd<span>.</span><span>update_and_display_frame</span><span>(</span><span>&amp;</span><span>mut</span> spi_device<span>,</span> d<span>.</span><span>buffer</span><span>(</span><span>)</span><span>,</span> <span>&amp;</span><span>mut</span> delay<span>)</span>
                <span>.</span><span>expect</span><span>(</span><span>&#34;epd update failed&#34;</span><span>)</span><span>;</span>
        <span>}</span><span>)</span><span>,</span>
        ..<span>Default</span><span>::</span><span>default</span><span>(</span><span>)</span>
    <span>}</span><span>;</span>

    <span>let</span> backend = <span>EmbeddedBackend</span><span>::</span><span>new</span><span>(</span><span>&amp;</span><span>mut</span> display<span>,</span> config<span>)</span><span>;</span>
    <span>let</span> _terminal = <span>Terminal</span><span>::</span><span>new</span><span>(</span>backend<span>)</span>?<span>;</span>
    <span>Ok</span><span>(</span><span>(</span><span>)</span><span>)</span>
<span>}</span></pre></div>
</details>
<p dir="auto">See the full embedded example at <a href="https://github.com/ratatui/mousefood/tree/main/examples/epd-waveshare-demo"><code>examples/epd-waveshare-demo</code></a>.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Performance and hardware support</h2><a id="user-content-performance-and-hardware-support" aria-label="Permalink: Performance and hardware support" href="#performance-and-hardware-support"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Flash memory on most embedded devices is very limited. Additionally,
to achieve high frame rate when using the <code>fonts</code> feature,
it is recommended to use <code>opt-level = 3</code>,
which can make the resulting binary even larger.</p>
<p dir="auto">Mousefood is hardware-agnostic.
Successfully tested on:</p>
<ul dir="auto">
<li>ESP32 (Xtensa)</li>
<li>ESP32-C6 (RISC-V)</li>
<li>STM32</li>
<li>RP2040</li>
<li>RP2350</li>
</ul>

<p dir="auto">Full API docs are available on <a href="https://docs.rs/mousefood" rel="nofollow">docs.rs</a>.</p>

<p dir="auto">All contributions are welcome!</p>
<p dir="auto">Before opening a pull request, please read the <a href="https://majantali.net/ratatui/mousefood/blob/main/CONTRIBUTING.md">contributing guidelines</a>.</p>

<p dir="auto">Here are some projects built using Mousefood:</p>
<ul dir="auto">
<li><a href="https://github.com/orhun/tuitar">Tuitar</a> - A portable guitar training tool.</li>
<li><a href="https://github.com/intuis/mnyaoo32">Mnyaoo32</a> - An eccentric way to consume IRC messages using ESP32.</li>
<li><a href="https://github.com/Julien-cpsn/Phone-OS">Phone-OS</a> - A modern phone OS for ESP32 CYD.</li>
</ul>
<p dir="auto">Send a pull request to add your project here!</p>

<p dir="auto"><a href="https://majantali.net/ratatui/mousefood/blob/main/LICENSE-MIT"><img src="https://camo.githubusercontent.com/c3957e1022b48e04bf5149c28553b7f6635004b71d7d64ccab3966725659f002/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d4d49542d79656c6c6f772e7376673f7374796c653d666c61742d73717561726526636f6c6f723d386439376233" alt="License MIT" data-canonical-src="https://img.shields.io/badge/License-MIT-yellow.svg?style=flat-square&amp;color=8d97b3"/></a>
<a href="https://majantali.net/ratatui/mousefood/blob/main/LICENSE-APACHE"><img src="https://camo.githubusercontent.com/81843b554babacdbe84fccac5ca72d83531f10d31a9a989e062e6b1c83331d06/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4c6963656e73652d417061636865253230322e302d626c75652e7376673f7374796c653d666c61742d73717561726526636f6c6f723d386439376233" alt="License Apache 2.0" data-canonical-src="https://img.shields.io/badge/License-Apache%202.0-blue.svg?style=flat-square&amp;color=8d97b3"/></a></p>
<p dir="auto">Mousefood is dual-licensed under
<a href="https://majantali.net/ratatui/mousefood/blob/main/LICENSE-APACHE">Apache 2.0</a> and <a href="https://majantali.net/ratatui/mousefood/blob/main/LICENSE-MIT">MIT</a> terms.</p>
</article></div></div>
  </body>
</html>
