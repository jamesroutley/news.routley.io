<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://sporks.space/2023/02/18/poor-schemas-poor-cataloguing-why-music-tagging-sucks/">Original</a>
    <h1>Poor schemas, poor cataloguing: why music tagging sucks</h1>
    
    <div id="readability-page-1" class="page"><article id="post-1022">
	<!-- .entry-header -->

	
		<div>
			<p>One of the things that frustrates me with having a local music library is the tedium of tagging. While there are tools (like <a href="https://beets.io">beets</a> or <a href="https://picard.musicbrainz.org/">MusicBrainz Picard</a>) to make it easier, I feel there are fundamental issues with the design of tags for music, and the way we apply tags. This doesn’t just make exploring music harder, it leaves a lot of possibilities on the table that will be very hard to implement without significant changes to our approach.</p>

<h2>Schema design: Who needs normal form?</h2>
<p>Good database schema design teaches us to avoid duplication. Having duplicate data isn’t just wasteful, it’s actually (perhaps counter-intuitively) fragile. This is one of the big tenets of relational database design – the notion of <a href="https://en.wikipedia.org/wiki/Database_normalization#Normal_forms"><em>normal form</em></a>. Why store album information in the song table, when you can store it in an album table, and do a join instead?</p>
<p>Unfortunately, tagging formats never really got this lesson. This is likely because of two factors – there’s no standardized way (but plenty of proprietary ones) to have metadata in an attendant database, and many people only download the songs they cared about. This meant that the metadata about not just the song, but the album holding it, went into the the song’s file – a violation of normal form. It gets not just conceptually problematic, but actually wasteful when you have album art and potentially other parts of album packaging in the file’s metadata – megabytes of images, per file. Of course, people usually make the images separate files, but it’s still not applied consistently beyond heuristics for what the front cover is called.</p>
<p>Incorrect or incongruous metadata is just a mild annoyance if you only have loose MP3s you collected from Napster and dropping into Winamp. If you’re trying to manage a music library, it becomes incredibly annoying. Individual tracks have no relation to each other, and you can only use heuristics within the tag, or maybe their place in the filesystem hierarchy, to determine if they’re logically grouped together. If the user’s data is subtly wrong between some tracks, but not the others, they’ll appear split up within the library. This requires re-tagging the tracks, on the file level, or perhaps more likely, in your software’s database representation of the library, which is more efficient than consulting the separate files. It’s a lot of effort to spend, and mistakes make a catalog less useful.</p>
<p>While not fatal, also annoying is the rigid tag scheme. This usually means further information (such as a remaster, performers, featured artists, remix including variant and remixing artist, etc.) is usually fit into album or song titles. Who wants to see a mouthful like “Track (feat. Rapper) [2019 Remaster] (Live at Concert Hall) (EDM Remix)” – especially without any consistency? Or have to worry about if the year on an album should be the date of original issue, or the date of its reissue? Or how to handle the most prolific musician of them all, Various Artists? What about different transliterations or translations – is “<a href="https://en.wikipedia.org/wiki/Molchat_Doma">Molchat Doma</a>” the same as “Молчат Дома”? Tag formats occasionally offer extended metadata as a better place to put these, but they’re rarely used, or rarely used in a consistent matter, if even present.</p>
<p>There’s also user data like play counts and ratings too. These can be put into the tag, but would pointlessly modify the original file, with the integrity and sharing issues that has. Not to mention the common case of holding files on a read-only medium like a file share.</p>
<p>All of these issues aren’t theoretical either. I dealt with inconsistent metadata before (<a href="https://sporks.space/2021/06/19/compilation-tags-and-you/">one such example</a>), and it only became a problem because some software applied different heuristics over some kinds of metadata. Efficiently correcting it was a pain. It’s not good that we’re trying to construct a relational database out of several disparate little files, with inconsistent amounts of rigour put into them. It feels like an inversion of how a database should be built; when we have to manipulate the file instead of running simple queries, it’s a flashback to the bad old days.</p>
<p><strong>Sidebar</strong>: Julien Voisin has a blog post where he covers <a href="https://dustri.org/b/horrible-edge-cases-to-consider-when-dealing-with-music.html">many ugly edge cases</a> that tag schemas don’t handle well. The post is more about bizarre names that fit into existing schemas, but it’s worth reading to see how poor some software’s assumptions can be.</p>
<h2>Schema design: more structure, more assumptions</h2>
<p>Audio tagging is designed around the assumption that it’s music that has tracks in albums, made by usually singular (as in a single person or group) artists. There are some variations around this model, but systems are generally based around this core assumption. While some formats are more freeform name-value internally, the way most software surfaces this to a user is the fixed artist-album-track hierarchy. Arguably, tagging is a bit of a misleading term, considering people associate that more with freeform tags that are less intrinsic to the work itself. (Hillel Wayne covers tag systems in that context in <a href="https://buttondown.email/hillelwayne/archive/tag-systems/">this article</a>, if you want a refresher.)</p>
<p>Our current tag systems were designed for music, but people have audio in other forms too – audiobooks and podcasts being notable examples. The two have been wedged into this hierarchy, but it can be tricky to adapt in a consistent or logical manner. Is the “artist” the narrator of the book, or the author? Is a season of a podcast the “album”, or the podcast itself?  These might not be music, but people use normal music players to listen to them, so their tags are also worth considering. There’s also other kinds of audio too, that doesn’t even map well at all to current tagging – field recordings, loose audio snippets, etc. – I can’t begin to think of how to tag these properly.</p>
<p>The way we tag music is also a poor fit beyond “modern” popular music of the Western tradition. For example, Western Classical music has less emphasis on the “performer” (what we consider the artist tag; some formats internally call it performer though), and more on the composer (which is off to the side and rarely filled in by most people when tagging).  <a href="https://www.npr.org/sections/therecord/2015/06/04/411963624/why-cant-streaming-services-get-classical-music-right">Anastasia Tsiouclas of NPR</a> and <a href="https://www.charlespetzold.com/blog/2015/06/Music-Streaming-for-the-Rest-of-Us.html">Charles Petzold</a> have articles covering this in more detail. That said, Apple also bought the classical music streaming service Primephonic a while back, so perhaps the state of classical music tagging might improve for Apple Music users. I’m not familiar enough with other kinds of musical traditions, but I have to imagine this could be a problem for them too.</p>
<h2>Versions and cataloguing: WEMI and friends</h2>
<p>The library cataloguing world has been dealing with the issues of metadata for decades. While mostly focused on the issues of books (in physical and nowadays, digital form), they’ve had to deal with many other kinds of media, many of the issues they face have equivalents for dealing with a personal music catalog. For a very in-depth overview of the metadata and schema issues dealt with there (and the conflicts between them), I strongly recommend you read Karen Coyle’s <a href="http://kcoyle.net/beforeAndAfter/978-0-8389-1364-2.pdf"><em>FRBR: Before and After</em></a>. I’ll just be scratching the surface.</p>
<p>One of the most interesting notions is some kind of separation – the FRBR model (and its many confusing descendants) uses the <em>work, expression, manifestation, item</em> scheme, or <a href="https://www.ifla.org/wp-content/uploads/2019/05/assets/cataloguing/isbd/OtherDocumentation/resource-wemi.pdf">WEMI</a> for short. The idea is to represent something in its most abstract (the artistic idea, the <em>work</em>), then relate it to more and more concrete forms (such as the English-language version of a text as <em>the expression</em>, the paperback book published in 1996 as <em>the manifestation</em>, all the way to your copy of it as <em>the item</em>). This makes it easier to group related things together – different publishers’ version of the same book, different language versions, etc. Without some kind of form of expressing this, it would be very easy to get bogged down by several duplicate or irrelevant results when looking up a book.</p>
<p>Of course, it’s not all that simple – there are other views on how to relate different levels of abstraction (especially in how it affects user experience for finding something), what changes require a new WEMI-level item (what’s the criteria for i.e. a new manifestation? is a compilation a work?), the relations that result with translation and annotation (making it not quite a simple linear relation), and what properties belong to what level of abstraction (is the key a song composed in a property of the work and/or the expression?). In particular, there are many competing views on the relations between the abstract and concrete should be laid out. Explaining the differences between them would take a lot of time, so I defer to Part 1 of <em>FRBR: Before and After</em>, where you can check out various library scientists’ perceptions if you wish to learn more.</p>
<p><strong>Sidebar</strong>: For an example of how all of this is applied for music in <em>actual</em> libraries, take a look at <a href="https://cmc.wp.musiclibraryassoc.org/wp-content/uploads/sites/5/2019/01/RDA_Best_Practices_v1.1-1502.pdf"><em>Best Practices for Music Cataloging</em></a>. There’s a thick layer of it being practice (in RDA/MARC) for librarians (who are also dealing with the physical items too, whereas you may not be) rather than theory for the layman, but it doesn’t assume too much prior library science knowledge. While your personal tags might not need such rigour, it demonstrates how WEMI is applied for things like popular music on a large scale. And if you’re pulling metadata from an authority that has a lot more stuff and knows more about it, you better hope it’s rigourous.</p>
<h3>Some examples</h3>
<p>While the various kinds of separations are up to debate in the cataloguing community (as is schema design in general), having some form of them is useful. I myself am not too picky. There may be albums, but there’s various versions issued for different countries in their physical form, even if the contents are identical. The variations in physical form might not be too relevant for modern digital music, but it would affect packaging like album art and booklets – the former of which is usually included in your file’s metadata, the latter occasionally as an attendant file beside it. Sometimes the contents <i>aren’t</i> identical – albums have changed their contents for various regions. For example, <a href="https://en.wikipedia.org/wiki/Depeche_Mode">Depeche Mode</a>’s <a href="https://en.wikipedia.org/wiki/Speak_%26_Spell_(album)"><em>Speak &amp; Spell</em></a> has a different track list for the US and UK version of the album. Not to mention if an album is reissued with additional tracks or a remaster of the original tracks – pretty much any sufficiently old album will acquire these kinds of variations, and there’s a chance you might want multiple versions of the album. Why shouldn’t that be cleanly representable?</p>
<p>There’s also more complex cases too, and they’re surprisingly common. <a href="https://en.wikipedia.org/wiki/Kanye_West">Kanye West</a>’s <a href="https://en.wikipedia.org/wiki/The_Life_of_Pablo"><em>The Life of Pablo</em></a> had the track list changed soon after release. <a href="https://en.wikipedia.org/wiki/David_Byrne">David Byrne</a> and <a href="https://en.wikipedia.org/wiki/Brian_Eno">Brian Eno</a>’s <a href="https://en.wikipedia.org/wiki/My_Life_in_the_Bush_of_Ghosts_(album)"><em>My Life in the Bush of Ghosts</em></a> had a controversial track omitted on its re-release. <a href="https://en.wikipedia.org/wiki/Metric_(band)">Metric</a>’s <a href="https://en.wikipedia.org/wiki/Grow_Up_and_Blow_Away"><em>Grow Up and Blow Away</em></a> was distributed amongst the underground scene for years, but had its track list changed for its official release. <a href="https://en.wikipedia.org/wiki/Kraftwerk">Kraftwerk</a>’s albums were changed for the US versus German markets. Numerous albums keep getting reissued in box sets (sometimes with other albums combined – significantly complicating relationships in a schema), extended track lengths, or simply with different artwork. What if you want either version?</p>
<p>The scheme could also be extended to other things as well. As a very simplified WEMI-ish model, imagine the “essence” (for lack of a better term) of the song (which could be decomposed further – arrangement, lyrics, etc.), and “renditions” by various artists, including covers, remixes, censorship, and mastering variations. Or relating an individual artist or composer to the bands they were in. Unfortunately, this would require metadata reaching outside of the traditional per-file approach.</p>
<h2>Missed opportunities</h2>
<p>What could we do if the state of things were better? Right now, we look at music libraries as a collection of songs, and only an ill-defined, ad-hoc hierarchy of tags binding them. If we flipped the script and made metadata the focus, I think we could have nicer things.</p>
<p>Even within songs, we could have richer information. Imagine being able to find all the covers of a song, or alternative versions. Or the opposite – have all the duplicate versions of a song’s rendition across albums, reference all the other albums, and de-duplicate the versions on disk. Artist information, album packaging like booklets, and other such data that’s de-prioritized in the systems we have now could become first-class concepts that you can browse, instead of being figured out from metadata. These might not exist in the form of files, but they’re important information.</p>
<p>The possibilities here suggest integration with a larger system providing authoritative data. For example, a lot the information you would want could be derived from sources like Allmusic or Discogs. The semantic web (brought up a lot by library science people) also has a lot of promises for even personal music libraries, which could take the silo nature out of your sources and provide a scheme for sharing facts about things. It’s unfortunate about its stillborn growth as the the <em>real</em> Web3. Or even something smaller scale – imagine playlist portability between services, if they point to the same identities for each track.</p>
<p>Ultimately, I find it sad that the local FLAC collection enthusiasts are stuck in their ways when it comes to not wanting music libraries. It also makes me wonder if we’ve been focusing too much on raw files in general, beyond music. Are they the wrong level of abstraction for human-meaningful data? Could we have better user experiences by some layering on top? Or using some kind of database instead of files? It’s an interesting thought I’ve been grappling with, but that’s a topic for another day…</p>
<h2>Appendix: The state of streaming services: a very small case study</h2>
<p>It’s interesting to note some streaming services can make somewhat of a break from things; I’ve subscribed to Apple Music to give it a try (I have too much obscure music locally to not have a collection, but streaming is useful for discovery.). They can offer a lot more related media (like time-synced lyrics, music videos, and curation via playlists and reviews) than the frozen state of affairs with local music libraries. However, due to compatibility, they still have to work within existing tagging concepts, and this can lead to confusing incongruencies between tags the user sees.</p>
<p>For example, the <a href="https://en.wikipedia.org/wiki/New_Order_(band)">New Order</a> album <a href="https://en.wikipedia.org/wiki/Movement_(New_Order_album)"><em>Movement</em></a> is unfortunately labelled with additional text on the album and track names to indicate that this is a remaster with additional bonus tracks (a case of an unfortunate lack of proper tags to indicate versions), in additional to an editorial:</p>
<p><img decoding="async" title="Movement remaster track list.png" src="https://cdn.sporks.space/wp-content/uploads/2022/07/Movement-remaster-track-list.png" alt="New Order&#39;s Movement remaster, on Apple Music" width="1332" height="925"/></p>
<p>But you can also see, there’s a crude WEMI-like separation, because we can pick the original version of the album (as well as see things like music videos related to the album):</p>
<p><img decoding="async" loading="lazy" title="Movement versions.png" src="https://cdn.sporks.space/wp-content/uploads/2022/07/Movement-versions.png" alt="New Order&#39;s Movement, with multiple versions shown, on Apple Music" width="1332" height="925"/></p>
<p>But it’s not all roses. Of which of these versions of <a href="https://en.wikipedia.org/wiki/Pere_Ubu">Pere Ubu</a>’s <a href="https://en.wikipedia.org/wiki/The_Modern_Dance"><em>The Modern Dance</em></a>, which one is the authoritative version? Is there really such a thing as an authoritative version? As far as I can tell, these only differ by track length; it would be useful to have more metadata like the issue number from the label to determine which is which. And how did it even decide on this version being the default anyways?</p>
<p><img decoding="async" loading="lazy" title="The Modern Dance versions.png" src="https://cdn.sporks.space/wp-content/uploads/2022/07/The-Modern-Dance-versions.png" alt="Versions of The Modern Dance on Apple Music" width="1332" height="925"/></p>
<p>Other albums can be even denser with options, though what version you have may not be obvious as well. <a href="https://en.wikipedia.org/wiki/Halsey_(singer)">Halsey</a>‘s <em><a href="https://en.wikipedia.org/wiki/If_I_Can%27t_Have_Love,_I_Want_Power">If I Can’t Have Love, I Want Power</a></em> has five different versions available, though one can tell from the title what expanded version they are, and from the explicit indicator on the album for a non-censored version (and for this album, down to the album art). Other times the alternative mix isn’t obvious. For example, the Atmos mix of <a href="https://en.wikipedia.org/wiki/Talking_Heads">Talking Heads</a>‘ <a href="https://en.wikipedia.org/wiki/Fear_of_Music"><em>Fear of Music</em></a> sounds different enough what version one prefers is probably subjective. One can only tell what they’re looking at by looking at the mastering notices at the top (i.e. digital master, lossless, Atmos, etc.).</p>
<p><img decoding="async" loading="lazy" src="https://cdn.sporks.space/wp-content/uploads/2022/10/Screen-Shot-2022-10-07-at-1.43.26-PM.png" alt="Halsey&#39;s latest album and its multiple versions" width="1332" height="925"/></p>
<p>For just annoying-if-you-think-of-it-too-hard, here’s <a href="https://en.wikipedia.org/wiki/Marcus_Mumford">Marcus Mumford</a>‘s new not self-titled album, <a href="https://en.wikipedia.org/wiki/Self-Titled_(Marcus_Mumford_album)"><em>(self-titled)</em></a>, with inconsistent titling. Or <a href="https://en.wikipedia.org/wiki/Caetano_Veloso">Caetano Veloso</a> and David Byrne’s <a href="https://en.wikipedia.org/wiki/Live_at_Carnegie_Hall_(David_Byrne_and_Caetano_Veloso_album)">live album</a> with inconsistent live markings?</p>
<p><img decoding="async" loading="lazy" src="https://cdn.sporks.space/wp-content/uploads/2022/10/Screen-Shot-2022-10-05-at-1.50.10-PM.png" alt="Mumford&#39;s album with inconsistent featured artist markings" width="1332" height="925"/> <img decoding="async" loading="lazy" src="https://cdn.sporks.space/wp-content/uploads/2022/10/Screen-Shot-2022-10-06-at-12.42.24-PM.png" alt="Veloso and Byrne&#39;s live album with inconsistent markings" width="1332" height="925"/></p>
<p>For a slightly more complex case of how metadata can be confusing, let’s look at <a href="https://en.wikipedia.org/wiki/Current_93">Current 93</a>’s <em>The Inmost Light</em>, a “box set” of <a href="https://en.wikipedia.org/wiki/Where_the_Long_Shadows_Fall_(Beforetheinmostlight)">two</a> <a href="https://en.wikipedia.org/wiki/The_Starres_Are_Marching_Sadly_Home_(Theinmostlightthirdandfinal)">EPs</a> and <a href="https://en.wikipedia.org/wiki/All_the_Pretty_Little_Horses_(album)">an LP</a> from 1995-1996 that was issued in 2007. The actual albums inside are presented as discs on a single album. Despite the issue state being 2007 (and Apple Music displaying it as such), if you look at the songs’ metadata, it displays the original issue dates of each of the constituent albums (which are made unclear), and an inaccurate “n1 of n2” count.</p>
<p><img decoding="async" loading="lazy" title="The Inmost Light, 2007, on Apple Music.png" src="https://cdn.sporks.space/wp-content/uploads/2022/07/The-Inmost-Light-2007-on-Apple-Music.png" alt="Current 93&#39;s The Inmost Light, displayed as from 2007 on Apple Music" width="190" height="231"/></p>
<p><img decoding="async" loading="lazy" title="Get Info 1 The Inmost Light.png" src="https://cdn.sporks.space/wp-content/uploads/2022/07/Get-Info-1-The-Inmost-Light.png" alt="Get Info 1 on The Inmost Light, on Apple Music" width="713" height="764"/></p>
<p><img decoding="async" loading="lazy" title="Get Info 2 The Inmost Light.png" src="https://cdn.sporks.space/wp-content/uploads/2022/07/Get-Info-2-The-Inmost-Light.png" alt="Get Info 1 on The Inmost Light, on Apple Music" width="713" height="764"/></p>
<p>Fixing all this looks like a hard job – it’s hard to add proper metadata at such a scale.</p>
					</div><!-- .entry-content -->

	
	<!-- .entry-footer -->
</article></div>
  </body>
</html>
