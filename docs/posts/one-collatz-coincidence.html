<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.sligocki.com//2024/09/20/collatz-coincidence.html">Original</a>
    <h1>One Collatz Coincidence</h1>
    
    <div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>A common question people have about Busy Beaver champions is: “What are they doing?” This question sounds sort of objective, but is really a subjective philosophical question. Objectively, the TM is repeatedly evaluating the specific transition table rules until it halts, that’s all. In a sense, this is the “simplest” (smallest) explanation because these champions are literally the ones that “do the most” based on the smallest description.</p>

<p>But this is not a very satisfying answer. The real meaning of this question is not to get the “smallest” explanation, but one that is more coherent or insightful to us as humans. However, must there be a more insightful description of behavior of these champion machines? Before getting into Busy Beaver analysis, I would have expected that they would not generally have such an insightful description. And I was not alone here: In his 2020 survey <a href="https://scottaaronson.blog/?p=4916">“The Busy Beaver Frontier”</a> Scott Aaronson conjectures:</p>

<blockquote>
  <p>A related intuition, though harder to formalize, is that Busy Beavers shouldn’t be “cleanly factorizable” into main routines and subroutines—but rather, that the way to maximize runtime should be via “spaghetti code,” or a single n-state amorphous mass.</p>
</blockquote>

<p>And yet, as many readers of this blog will be well aware, we can actually describe the behavior of most known Busy Beaver champions in a way that seems relatively simple mathematically. In fact, <a href="https://doi.org/10.1007/BF01409968">Pascal Michel discovered</a> in 1993 that many of the top BB(5) TMs simulate iterations of relatively simple Collatz-like functions and he has extended this analysis to many other champions with different numbers of states and symbols on his <a href="https://bbchallenge.org/~pascal.michel/beh">Behavior of busy beavers</a> website. This result led Nick Drozd to claim that <a href="https://nickdrozd.github.io/2021/09/25/spaghetti-code-conjecture-false.html">Maybe the Spaghetti Code Conjecture is False</a> in 2021.</p>

<p>But is this just the <a href="https://en.wikipedia.org/wiki/Streetlight_effect">streetlight effect</a>? Presumably we are biased towards discovering Turing machines and proving they halt when they have simpler abstractions.<sup id="fnref:bias" role="doc-noteref"><a href="#fn:bias" rel="footnote">1</a></sup> With the recent solution of <a href="https://discuss.bbchallenge.org/t/july-2nd-2024-we-have-proved-bb-5-47-176-870/237">BB(5)</a> and <a href="https://www.sligocki.com/2024/08/27/bb-2-4-proven.html">BB(2,4)</a> problems, we now know with certainty that the S(5) and S(2,4) champions are both described by Collatz-like trajectories.</p>

<p>… or perhaps I should say Collatz-like <strong>trajectory</strong>. Because fellow Discord user Racheline discovered on 4 Sep 2024 (<a href="https://discord.com/channels/960643023006490684/1260977480316092527/1280966930395828348">Discord</a>) that they are both effectively simulating the same Collatz-like trajectory! In fact, this Collatz-like trajectory appears to be ubiquitous among Turing machines around this size.</p>

<h2 id="collatz-analyses">Collatz Analyses</h2>
<h3 id="s5-champion">S(5) Champion</h3>

<p>The S(5) champion <code>1RB1LC_1RC1RB_1RD0LE_1LA1LD_1RZ0LA</code> runs for 47,176,870 steps and leaves 4098 marks on the tape.<sup id="fnref:bb5_marks" role="doc-noteref"><a href="#fn:bb5_marks" rel="footnote">2</a></sup> It was discovered by Heiner Marxen and Jürgen Buntrock in 1989. Pascal Michel <a href="https://bbchallenge.org/~pascal.michel/beh#tm52a">provided the following analysis</a> in 1993:</p>

<p>Let</p><p>

\[M(n) = 0^\infty \; \text{&lt;A} \; 1^n \; 0^\infty\]

</p><p>then</p><p>

\[\begin{array}{lcl}
  0^\infty \; \text{&lt;A} \; 0^\infty &amp; = &amp; M(0) \\
  M(3k)   &amp; \to &amp; M(5k+6) \\
  M(3k+1) &amp; \to &amp; M(5k+9) \\
  M(3k+2) &amp; \to &amp; 0^\infty \;\; 1 \;\; \text{Z&gt;} \;\; 01 \;\; {(001)}^{k+1} \;\; 1 \;\; 0^\infty  \\
\end{array}\]

</p><p>The full trajectory from M(0) is:</p><p>

\[\begin{array}{l}
  M(0)    &amp; \to &amp; M(6)    &amp; \to &amp; M(16)   &amp; \to &amp; M(34)   &amp; \to &amp; M(64)    &amp; \to &amp; \\
  M(114)  &amp; \to &amp; M(196)  &amp; \to &amp; M(334)  &amp; \to &amp; M(564)  &amp; \to &amp; M(946)   &amp; \to &amp; \\
  M(1584) &amp; \to &amp; M(2646) &amp; \to &amp; M(4416) &amp; \to &amp; M(7366) &amp; \to &amp; M(12284) &amp; \to &amp; \text{HALT}
\end{array}\]

</p><h3 id="s5-runner-up">S(5) Runner Up</h3>

<p>The second longest running BB(5) TM <code>1RB0LD_1LC1RD_1LA1LC_1RZ1RE_1RA0RB</code> runs for 23,554,764 steps and leaves 4097 marks on the tape. It was also discovered by Marxen and Buntrock in 1989. Pascal Michel also <a href="https://bbchallenge.org/~pascal.michel/beh#tm52b">provided the following analysis</a> in 1993:</p>

<p>Let</p><p>

\[B(n) = 0^\infty \; \text{&lt;A} \; 1^n \; 0^\infty\]

</p><p>then</p><p>

\[\begin{array}{lcl}
  0^\infty \; \text{&lt;A} \; 0^\infty &amp; = &amp; B(0) \\
  B(3k)   &amp; \to &amp; B(5k+3) \\
  B(3k+1) &amp; \to &amp; 0^\infty \;\; 1 \;\; {(110)}^k \;\; 11 \;\; \text{Z&gt;} \;\; 0^\infty  \\
  B(3k+2) &amp; \to &amp; B(5k+7) \\
\end{array}\]

</p><p>The full trajectory from B(0) is:</p><p>

\[\begin{array}{l}
  B(0)    &amp; \to &amp; B(3)    &amp; \to &amp; B(8)    &amp; \to &amp; B(17)   &amp; \to &amp; B(32)    &amp; \to &amp; \\
  B(57)   &amp; \to &amp; B(98)   &amp; \to &amp; B(167)  &amp; \to &amp; B(282)  &amp; \to &amp; B(473)   &amp; \to &amp; \\
  B(792)  &amp; \to &amp; B(1323) &amp; \to &amp; B(2208) &amp; \to &amp; B(3683) &amp; \to &amp; B(6142)  &amp; \to &amp; \text{HALT}
\end{array}\]

</p><p>If you compare this with the M trajectory, a pattern immediately jumps out. You can directly convert between these trajectories by replacing \(B(n)\) with \(M(2n)\)! And, in fact, we can prove this:</p><p>

\[\begin{array}{lcl}
  M(2(3k))     &amp; = &amp; M(3(2k))       &amp; \to &amp; M(5(2k) + 6) &amp; = &amp; M(2(5k + 3)) \\
  M(2(3k + 1)) &amp; = &amp; M(3(2k) + 2)   &amp; \to &amp; \text{Halt} \\
  M(2(3k + 2)) &amp; = &amp; M(3(2k+1) + 1) &amp; \to &amp; M(5(2k+1) + 9) &amp; = &amp; M(2(5k + 7)) \\
\end{array}\]

</p><p>Therefore:</p><p>

\[\begin{array}{lcl}
  M(2a) \to M(2b)       &amp; \iff &amp; B(a) \to B(b) \\
  M(2a) \to \text{Halt} &amp; \iff &amp; B(a) \to \text{Halt} \\
\end{array}\]

</p><p>But wait, there’s more! In fact, there is actually a giant clump of <a href="https://wiki.bbchallenge.org/wiki/BB(5)#Enumeration">19 distinct BB(5) TMs</a> that run &gt; 10 million steps and all leave between 4096-4098 marks on the tape!  Pascal analyzed the other Σ(5) champion (<code>1RB1RA_1LC1LB_1RA1LD_1RA1LE_1RZ0LC</code>) in his 1993 paper and showed that it simulates the exact same function. I haven’t analyzed the rest of them, but I’d gues that they are all taking advantage of equivalent Collatz-like trajectories as well (since they are clumped so tightly).</p>

<h3 id="bbb4-champion">BBB(4) Champion</h3>

<p>The current 4-state <a href="https://wiki.bbchallenge.org/wiki/Beeping_Busy_Beaver">Beeping Busy Beaver</a> (and also <a href="https://nickdrozd.github.io/2021/02/14/blanking-beavers.html">Blanking Beaver</a>) champion <code>1RB1LD_1RC1RB_1LC1LA_0RC0RD</code> runs 32,779,478 steps before becoming a trivial <a href="https://wiki.bbchallenge.org/wiki/Translated_Cycler">Translated Cycler</a> with period 1. It was <a href="https://nickdrozd.github.io/2021/07/11/self-cleaning-turing-machine.html">discovered</a> by Nick Drozd in 2021. I first <a href="https://www.sligocki.com/2021/07/17/bb-collatz.html">analyzed</a> it way back as my second Busy Beaver related blog post here. I actually forgot about that analysis (oops) and <a href="https://wiki.bbchallenge.org/wiki/1RB1LD_1RC1RB_1LC1LA_0RC0RD">re-analyzed</a> it last week! Racheline discovered the connection with the S(5) champion’s iteration.</p>

<p>Let</p><p>

\[D(n) = 0^\infty \; 1^n \; 0^4 \; \text{D&gt;} \; 0^\infty\]

</p><p>then</p><p>

\[\begin{array}{lcl}
  0^\infty \; \text{&lt;A} \; 0^\infty &amp; \xrightarrow{19} &amp; D(2) \\
  D(3k)   &amp; \to &amp; 0^\infty \; \text{&lt;C} \; 0^\infty  &amp; \text{(Quasihalt)} \\
  D(3k+1) &amp; \to &amp; D(5k+6) \\
  D(3k+2) &amp; \to &amp; D(5k+7) \\
\end{array}\]

</p><p>the full trajectory from D(2) is:</p><p>

\[\begin{array}{l}
          &amp;     &amp; D(2)    &amp; \to &amp; D(7)    &amp; \to &amp; D(16)   &amp; \to &amp; D(31)    &amp; \to &amp; \\
  D(56)   &amp; \to &amp; D(97)   &amp; \to &amp; D(166)  &amp; \to &amp; D(281)  &amp; \to &amp; D(472)   &amp; \to &amp; \\
  D(791)  &amp; \to &amp; D(1322) &amp; \to &amp; D(2207) &amp; \to &amp; D(3682) &amp; \to &amp; D(6141)  &amp; \to &amp; \text{HALT}
\end{array}\]

</p><p>and finally, compare this to the \(B(n)\) trajectory and the pattern becomes clear, just replace each \(D(n)\) with \(B(n+1)\)! And once again, it’s not too hard to prove this (once you see the pattern):</p><p>

\[\begin{array}{lcl}
  B(3k     &amp; + 1) &amp; \to &amp; \text{Halt} \\
  B(3k + 1 &amp; + 1) &amp; \to &amp; B(5k+6 &amp; + 1) \\
  B(3k + 2 &amp; + 1) &amp; \to &amp; B(5k+7 &amp; + 1) \\
\end{array}\]

</p><p>so</p><p>

\[\begin{array}{lcl}
  D(a) \to D(b)        &amp; \iff &amp; B(a+1) \to B(b+1) \\
  D(a) \to \text{Quasihalt} &amp; \iff &amp; B(a+1) \to \text{Halt} \\
\end{array}\]

</p><h3 id="s24-champion">S(2,4) Champion</h3>

<p>The S(2,4) champion <code>1RB2LA1RA1RA_1LB1LA3RB1RZ</code> runs for 3,932,964 steps and leaves 2050 marks on the tape. It was discovered by my dad, Terry, and I in 2005. Racheline discovered the connection with the S(5) champion’s iteration. The analysis here will require a little more work to connect the dots.</p>

<p>Let</p><p>

\[L(a, b, c) = 0^\infty \; 1 \; 3^a \; \text{&lt;A} \; 2^b \; 1^c \; 0^\infty\]

</p><p>then</p><p>

\[\begin{array}{lcl}
  0^\infty \; \text{&lt;A} \; 0^\infty &amp; \xrightarrow{5} &amp; L(0, 0, 2) \\
  L(a+1, b, c+1) &amp; \to &amp; L(a, b+2, c) \\
  L(a+1, b, 0)   &amp; \to &amp; L(a, b+1, 2) \\
  L(0,   b, c+1) &amp; \to &amp; L(b+1, 0, c+1) \\
  L(0,   b, 0)   &amp; \to &amp; \text{Halt} \\
\end{array}\]

</p><p>At this point it might not be obvious that there is any connection. Racheline discovered that the trick is to transform the configuration a bit. Let</p><p>

\[R(a, 3k+r) = L(a, k, r)\]

</p><p>then, it turns out that</p><p>

\[\begin{array}{lcl}
  0^\infty \; \text{&lt;A} \; 0^\infty &amp; \xrightarrow{5} &amp; R(0, 2) \\
  R(a+1, b) &amp; \to &amp; R(a, b+5) \\
  R(0, 3k) &amp; \to &amp; \text{Halt} \\
  R(0, 3k+r) &amp; \to &amp; R(k+1, r) &amp; \text{if } r &gt; 0 \\
\end{array}\]

</p><p>This second rule is where the magic is! Note that the \(R(a+1, b)\) rule effectively combines the two \(L(a+1, b, c)\) cases above. Now, we can simplify this to:</p><p>

\[\begin{array}{lcl}
  R(0, 3k) &amp; \to &amp; \text{Halt} \\
  R(0, 3k+r) &amp; \to &amp; R(0, 5k+5+r) &amp; \text{if } r &gt; 0 \\
\end{array}\]

</p><p>let \(R(n) = R(0, n)\) then</p><p>

\[\begin{array}{lcl}
  0^\infty \; \text{&lt;A} \; 0^\infty &amp; \xrightarrow{5} &amp; R(2) \\
  R(3k)   &amp; \to &amp; \text{Halt} \\
  R(3k+1) &amp; \to &amp; R(5k+6) \\
  R(3k+2) &amp; \to &amp; R(5k+7) \\
\end{array}\]

</p><p>and we can see that these \(R(n)\) rules are identical to the \(D(n)\) rules above (and also starts at the same point), so it will also follow an equivalent trajectory.</p>



<p>Why are all of these champion TMs following equivalent Collatz-like trajectories? Well, this specific Collatz-like trajectory is unusually “lucky”. Let’s focus on the \(B(n)\) trajectory:</p><p>

\[\begin{array}{l}
  B(0)    &amp; \to &amp; B(3)    &amp; \to &amp; B(8)    &amp; \to &amp; B(17)   &amp; \to &amp; B(32)    &amp; \to &amp; \\
  B(57)   &amp; \to &amp; B(98)   &amp; \to &amp; B(167)  &amp; \to &amp; B(282)  &amp; \to &amp; B(473)   &amp; \to &amp; \\
  B(792)  &amp; \to &amp; B(1323) &amp; \to &amp; B(2208) &amp; \to &amp; B(3683) &amp; \to &amp; B(6142)  &amp; \to &amp; \text{HALT}
\end{array}\]

</p><p>This avoids the halt transition 14 times before finally halting. If we treat each transition as having a uniform random chance of hitting each of the 3 rules, then the chance of avoiding halt 14 times in a row is \((\frac{2}{3})^{14} \approx 0.0034 \approx \frac{1}{300}\). So, it seems like this is pretty rare. Perhaps rare enough that any TM which can (just barely) simulate it outcompetes all others of it’s size?</p>








  </div>
</article>

      </div>
    </div></div>
  </body>
</html>
