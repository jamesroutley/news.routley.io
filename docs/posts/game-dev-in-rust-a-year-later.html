<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://users.rust-lang.org/t/game-dev-in-rust-a-year-later/123522">Original</a>
    <h1>Game dev in Rust: a year later</h1>
    
    <div id="readability-page-1" class="page"><div id="main-outlet" role="main">
        

  

    <div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
      <meta itemprop="headline" content="Game dev in Rust, a year later"/>
      
      <meta itemprop="datePublished" content="2025-01-05T03:12:21Z"/>
        <meta itemprop="articleSection" content="community"/>
      <meta itemprop="keywords" content=""/>
      


          <div id="post_1">
            <div>
              


              <p><span>
                  <time datetime="2025-01-05T03:12:21Z">
                    January 5, 2025,  3:12am
                  </time>
                  <meta itemprop="dateModified" content="2025-01-05T03:12:21Z"/>
              <span itemprop="position">1</span>
              </span>
            </p></div>
            <div itemprop="text">
              <p>Well, here we are, a year after I wrote <a href="https://users.rust-lang.org/t/game-dev-in-rust-some-notes-on-the-mess/104939">&#34;Game dev in Rust, some notes on the mess.&#34;</a> Things haven&#39;t changed much.</p>
<p>I&#39;m still using the Rend3/WGPU/Vulkan graphics stack. It works reasonably well at this point.</p>
<p>Notes:</p>
<ul>
<li>Several major game projects abandoned Rust in 2024. Some found ownership too restrictive. Some complained about compile times.</li>
<li><a href="https://arewegameyet.rs/" rel="noopener nofollow ugc">arewegameyet.rs</a> stopped updating last July.</li>
<li><strong>Rend3</strong> was abandoned. Now I have to maintain that myself, which I do as <a href="https://github.com/John-Nagle/rend3-hp" rel="noopener nofollow ugc">rend3-hp</a>. I now have it up to current <strong>Wgpu</strong>, <strong>Winit</strong>, <strong>Egui</strong>, etc. versions, and finally found and fixed the race condition which kept causing crashes. I&#39;ve been able to run for over 40 hours without a panic. Things are looking up. If you want to try it, use branch &#34;wgpu23safe&#34;. I&#39;d appreciate someone trying that on MacOS, which I don&#39;t use. Build it and run <code>rend3-examples</code>. If anybody is really interested, I could release it to <a href="http://crates.io" rel="noopener nofollow ugc">crates.io</a> in a month or two. Right now, it still has patches to library crates, which <a href="http://crates.io" rel="noopener nofollow ugc">crates.io</a> does not allow.</li>
<li>The graphics stack is still too slow if you put in enough content to keep the GPU busy. Runs out of CPU time at around 25% GPU load with a NVidia 3070. Needs Vulkan bindless. Needs multiple Vulkan queues. Might get those from <strong>Wgpu</strong> in 2025. If you don&#39;t need max performance, this stack should work OK.</li>
<li>There was some promising work with the <a href="https://github.com/Thefefe/orbit" rel="noopener nofollow ugc">Orbit rendering demo</a>, but that seems to have been abandoned. That was some advanced thinking about how to make the GPU do more of the job.</li>
<li><a href="https://renderling.xyz/" rel="noopener nofollow ugc">Renderling</a> has some promise, but it&#39;s not ready for use yet and it&#39;s only one developer. They do have some EU funding.</li>
<li>If you do 3D work in Rust, expect to expend half of your time maintaining the lower levels. Budget accordingly.</li>
<li>Crate churn remains a problem. Winit, Wgpu, Egui, and their friends have to advance in lockstep as the APIs change. When one of them changes, it&#39;s about 1-2 months before the others catch up. Then you get to fix your own code to deal with the breaking changes.</li>
<li>Whenever there&#39;s been a serious problem that was hard to find, it was always because somebody built their own allocation system instead of using safe Rust constructs. Putting everything in an array and passing around array indices in multi-threaded programs is usually trouble.</li>
</ul>
<p>At a more fundamental level, Rust rendering lacks the spatial component. Most of these renderers compute shadows by brute force - every light vs every object. This is O(N * M) and too slow as scenes get large.</p>
<p>This is a consequence of where you cut apart the problem. Whether you can do an efficient renderer without becoming a whole game engine that has a full scene graph, like Bevy, is a big question. Either the renderer has to get its spacial info from the layer above, or it has to build its own spatial info. The renderer has to be able to calculate quickly which objects are in range of a light, for example.</p>
<p>The price Bevy pays for this is that it doesn&#39;t really use Rust ownership. Bevy has its own run-time dynamic ECS system. You have to do everything Bevy&#39;s way.</p>
<p>It&#39;s possible to do serious 3D in Rust, but it&#39;s a real grind.</p>
<p><em>&#34;If it was easy, someone else would have done it&#34;</em> - Pepe&#39;s Towing, LA.</p>
<p>Demo video <a href="https://video.hardlimit.com/w/7usCE3v2RrWK6nuoSr4NHJ" rel="noopener nofollow ugc">here.</a></p>
            </div>

            

          </div>
          <div id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <div>
              <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://users.rust-lang.org/u/blonk"><span itemprop="name">blonk</span></a>
                
              </span></p>

              <p><span>
                  <time itemprop="datePublished" datetime="2025-01-05T03:57:29Z">
                    January 5, 2025,  3:57am
                  </time>
                  <meta itemprop="dateModified" content="2025-01-05T03:57:29Z"/>
              <span itemprop="position">2</span>
              </span>
            </p></div>
            <div itemprop="text">
              
<p>All the examples, except <code>scene_viewer</code> build and run fine on my mac.  (<code>scene_viewer</code> builds, but the instructions written to the console when run do not work).</p>
<p>Not sure if you&#39;re asking for someone to just build &amp; run, or look out for anything looking out of order.  There are some minor visual artifacts on the cube&#39;s outer edges, but those could be intentional?  (I haven&#39;t run on any other platforms, so I don&#39;t know if it&#39;s mac-specific).</p>
<div><a href="https://us1.discourse-cdn.com/flex019/uploads/rust_lang/original/3X/b/8/b8bfe16e0c6c1ab996d08823c3c2a3c58f50b452.png" data-download-href="/uploads/short-url/qmmXk1emizPnjMAuSvfan2PHkMa.png?dl=1" title="Screenshot 2025-01-05 at 04.47.42"><img src="https://us1.discourse-cdn.com/flex019/uploads/rust_lang/optimized/3X/b/8/b8bfe16e0c6c1ab996d08823c3c2a3c58f50b452_2_79x250.png" alt="Screenshot 2025-01-05 at 04.47.42" data-base62-sha1="qmmXk1emizPnjMAuSvfan2PHkMa" width="79" height="250" srcset="https://us1.discourse-cdn.com/flex019/uploads/rust_lang/optimized/3X/b/8/b8bfe16e0c6c1ab996d08823c3c2a3c58f50b452_2_79x250.png, https://us1.discourse-cdn.com/flex019/uploads/rust_lang/optimized/3X/b/8/b8bfe16e0c6c1ab996d08823c3c2a3c58f50b452_2_118x375.png 1.5x, https://us1.discourse-cdn.com/flex019/uploads/rust_lang/optimized/3X/b/8/b8bfe16e0c6c1ab996d08823c3c2a3c58f50b452_2_158x500.png 2x" data-dominant-color="5C4950"/></a></div>
<p>Intel-based mac, running macOS 15.2, using Rust 1.83.0.</p>

<p>Looking good!</p>
            </div>

            

          </div>
          <div id="post_3" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            
            <div itemprop="text">
              <p>Thanks.</p>
<p>Why such a tall and thin image? It&#39;s usually square, but resizable. &#34;cube&#34; is supposed to be a full cube in a square window. Try &#34;animation&#34; - that&#39;s a harder test.</p>
<p>The shadow artifacts are a known rendering bug. It&#39;s a roundoff error problem that causes flat surfaces to shadow themselves.</p>
<p><code>scene_viewer</code> doesn&#39;t ship with the scene files, unfortunately. Licensing issues. It reads standard glTF files. The standard <a href="https://github.com/KhronosGroup/glTF-Sample-Assets" rel="noopener nofollow ugc">Khronos demo files</a> should work. Now that Khronos put those on Github, I should make <code>scene_viewer</code> look there.</p>
<p>Good points, that need to be fixed before a release to <a href="http://crates.io" rel="noopener nofollow ugc">crates.io</a>.</p>
            </div>

            

          </div>
          <div id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://users.rust-lang.org/u/blonk"><span itemprop="name">blonk</span></a>
                
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2025-01-05T04:42:39Z">
                    January 5, 2025,  4:42am
                  </time>
                  <meta itemprop="dateModified" content="2025-01-05T04:42:39Z"/>
              <span itemprop="position">4</span>
              </span>
            </p>
            <div itemprop="text">
              
<p>Yeah, it wasn&#39;t a brilliant move of me to attach that image without clearly spelling out that it was just a screenshot of a small area just to show the artifacts.  The actual application shows the entire thing.</p>
<p>The animation demo works great; resizing the window works fine (animation keeps running; aspect ratio is preserved, and the client area is redrawn as expected).</p>
<p>Kudos for getting low-level GPU stuff to run well on a platform you couldn&#39;t test it on.</p>
            </div>

            

          </div>
          <div id="post_5" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            
            <div itemprop="text">
              <blockquote>
<p>Kudos for getting low-level GPU stuff to run well on a platform you couldn&#39;t test it on.</p>
</blockquote>
<p>That&#39;s not me. That&#39;s really the Winit and WGPU groups. They&#39;re the ones who do the cross-platform stuff.</p>
            </div>

            

          </div>
    </div>


    





    </div></div>
  </body>
</html>
