<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.netbsd.org/developers/commit-guidelines.html">Original</a>
    <h1>NetBSD Bans AI-Generated Code from Commits</h1>
    
    <div id="readability-page-1" class="page"><div>
<div><div><div><h2>
<a name="guidelines"></a>
  The following Commit Guidelines define the Project&#39;s standards for making
  commits to the source tree:
</h2></div></div></div>



<div><ol type="1">
<li>
    <div>
<div><div><div><h3>
<a name="know-thy-code"></a>Commit only code you are familiar with.</h3></div></div></div>
      
      <p>
        If you are not sure if the code you plan to commit is acceptable
        (e. g. when taking code that was submitted with a problem report),
	ask a developer who is familiar with that part of the system for
	review. If you&#39;re new to the Project, check with your sponsor.
      </p>
    </div>
   </li>
<li>
    <div>
<div><div><div><h3>
<a name="tainted"></a>Do not commit tainted code to the repository.</h3></div></div></div>
      
      <p>
	If you commit code that was not written by yourself, double check
	that the license on that code permits import into the NetBSD source
	repository, and permits free distribution. Check with the author(s)
	of the code, make sure that they were the sole author of the code
	and verify with them that they did not copy any other code.
      </p>
      <p>
        Code generated by a large language model or similar technology,
         such as GitHub/Microsoft&#39;s Copilot, OpenAI&#39;s ChatGPT,
         or Facebook/Meta&#39;s Code Llama, is presumed to be tainted
         code, and must not be committed without prior written approval
         by core.
      </p>
    </div>
   </li>
<li>
    <div>
<div><div><div><h3>
<a name="repository"></a>Do not commit code from foreign trees.</h3></div></div></div>
      
      <p>
	Do not commit code from a tree checked out from anywhere but from
	cvs.NetBSD.org.  Note that all developers have access to the private
	<a href="https://www.netbsd.org/developers/restricted.html#rsync" target="_top">rsync-over-ssh service on
	cvs.NetBSD.org</a>.
      </p>
    </div>
   </li>
<li>
    <div>
<div><div><div><h3>
<a name="intrusive"></a>
	The more intrusive your changes are the higher is the level of
	required prior approval.
      </h3></div></div></div>
      
      <div><ul>
<li>
          <p>
	    &#34;Obvious&#34; fixes can be committed without any prior discussion
	    or review. (The definition of &#34;obvious&#34; in the GCC Project is:
	    &#34;could not possibly cause anyone to object.&#34; We adopt this
	    definition here)
	  </p>
	</li>
<li>
	  <p>
	    All other (i. e. &#34;non-obvious&#34;) fixes <span><em>should</em></span>
	    have a review.
	  </p>
	</li>
<li>
	  <p>
	    Implementing (significant) new features requires a prior
	    discussion on an appropriate technical mailing list.
	  </p>
	</li>
<li>
	  <p>
	    Adding a completely new package (e.g. openldap) requires
	    prior discussion on a mailing list <span><em>and</em></span>
	    approval from core.
	  </p>
	</li>
</ul></div>
    </div>
   </li>
<li>
    <div>
<div><div><div><h3>
<a name="tested"></a>Commit only code that you have tested.</h3></div></div></div>
      
	<p>
	  Make sure that your code actually works as expected, by
	  compiling and running the code that is affected by your change
	  with your system&#39;s tools. If you changed a man page, make sure
	  that groff/nroff creates the formatted man page you expect.
	</p>
	<p>
	  For normal commits (to the trunk), test that your code works
	  on -current. Prior to requesting a pull-up to a branch, test
	  the very changes you will request from releng on the respective
	  release branch.
	</p>
	<p>
	  Run all relevant tests from
	  <code>/usr/tests</code> or
	  ideally the whole test suite.
	  Check the
	  <a href="https://releng.NetBSD.org/cgi-bin/builds.cgi" target="_top">daily
	    builds</a>
	  and the
	  <a href="https://releng.NetBSD.org/test-results.html" target="_top">automated
	    test runs</a>.
	  Long-term regressions (build breakage or failing tests)
	  are not acceptable and changes causing such will be backed
	  out if the regressions are not addressed.
	</p>
     </div>
    </li>
<li>
      <div>
<div><div><div><h3>
<a name="group"></a>Group commits together that are part of the same fix.</h3></div></div></div>
	
	<p>
	  Rototilling a make variable that affects 50 Makefiles should get
          one commit for all of them together.
	</p>
      </div>
    </li>
<li>
      <div>
<div><div><div><h3>
<a name="separate"></a>Each commit should be a separate patch/fix/addition/etc.</h3></div></div></div>
	
	<p>
	  Don&#39;t fix 3 bugs with the same commit and roll that into
	  &#34;Fixed some bugs&#34;. Fix one, test, commit, rinse, repeat. This
	  makes life infinitely easier for releng to pull up fixes since
	  often not everything applies to a given branch.
	</p>
      </div>
    </li>
<li>
      <div>
<div><div><div><h3>
<a name="dont-mix"></a>
	  Do not mix functionality or bug-fix patches with
	  whitespace/layout updates.
	</h3></div></div></div>
	
        <p>
	  Do those separately (apart from the general requirement that
	  changes be made in such a way that it is easy to discern what
	  each fix did, as described in item 6, there will be pullup
	  issues with largely changed files from trunk-&gt;branch when
	  mixing whitespace with functionality fixes).
	</p>
      </div>
    </li>
<li>
      <div>
<div><div><div><h3>
<a name="document"></a>Clearly document the reasons for your changes in
	       the commit log.</h3></div></div></div>
	
	<p>
	  Detail to some degree what was changed and why.  This
	  doesn&#39;t need to be a code review/walkthrough but it should
	  be informative to someone reading the log and looking
	  over the diff in 6 months.  The focus should be on &#34;why&#34;
	  since the target audience reading the logs can usually
	  figure out &#34;what&#34; from looking the diffs.  As an exercise,
	  consider the difference of usefulness between &#34;set i to
	  1&#34; and &#34;initialize iterator correctly to fix a rarely
	  triggering bug in memory handling&#34;.
	</p>

	<p>
	  Also, &#34;fixed some stuff&#34; or &#34;cvs-1.10.0&#34; isn&#39;t informative
	  whereas the following example is:
	</p>
	<div>
<p>
          &#34;Print useful line number on error while executing .for directive.&#34;
        </p></div>
	<p>
	  If your change fixes a PR, document it with an appropriate
	  message. Using the template <span>“<span>PR category/bug-id</span>”</span> in
	  your commit message will also append it to the respective problem
	  report in our bug database:
	</p>
	
	<p>
	  If your code has been reviewed by someone else, document this:
	</p>
	
	<p>
	  (Please note that a good commit log doesn&#39;t relieve the need
	  for good documentation in the program itself.)
	</p>
      </div>
    </li>
<li>
      <div>

	
	<p>
	  If you commit code that had been submitted in a PR, give
	  proper credit, like:
	</p>
	<div>
<p>
           &#34;Code submitted in PR lib/393939 by Joe Doe&#34;
	</p></div>
	<p>
	  Since the commit messages will eventually appear on the
	  source-changes mailing list which is also available via web,
	  specifying the e-mail addresses of the PR submitter should
	  generally be avoided.
	</p>
	<p>
	  If you took code from an other Open Source Project, give
	  credit, like:
	</p>
	
      </div>
    </li>
<li>
      <div>
<div><div><div><h3>
<a name="revert"></a>Do not revert other developer&#39;s commits.</h3></div></div></div>
	
	<p>
	  If you do not agree with another developer&#39;s commit, do not
	  revert it on your own. Contact the other developer and explain
	  to him or her the issues you have with the commit in question.
          Ask the other developer to back out the changes instead of
          doing it yourself.
	</p>
	<p>
	  If no agreement can be reached, contact the Core Team
	  &lt;core@NetBSD.org&gt;, which
	  will serve as mediation authority.
	</p>
      </div>
  </li>
</ol></div>

</div></div>
  </body>
</html>
