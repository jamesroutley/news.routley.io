<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.themotte.org/post/797/chatgpt-vs-advent-of-code">Original</a>
    <h1>ChatGPT does Advent of Code 2023</h1>
    
    <div id="readability-page-1" class="page"><div id="post-body">
						

						
						<div id="post-text">
							
							
<p>LLM are all the rage and people are worried that they will soon replace programmers (or, indeed, every possible office job) so I decided to do an experiment to see how well ChatGPT-4 does against Advent of Code 2023.</p>
<h2>What is Advent of Code</h2>
<p>Advent of Code (henceforth AoC) is an annual programming &#34;event&#34;, held by <a href="https://twitter.com/ericwastl" rel="nofollow noopener noreferrer" target="_blank">Eric Wastl</a>, that takes place during the first 25 days of december.
Each day at midnight a problem unlocks, consisting of an input file and a description of the required solution (either a number or a sequence of letters and numbers) to be determined by processing the input file.
To solve the problem you have to submit to the website the correct solution. Once you do part 2 of the problem unlocks, usually a harder version of the problem in part 1.
You don&#39;t have to submit any code so, in theory, you could solve everything by hand, however, usually, this is intractable and writing a program to do the work for you is the only easy way to solve the problem.</p>
<p>There&#39;s also a leaderboard where participants are scored based on how fast they submitted a solution.</p>
<p>Problems start very easy on day 1 (sometimes as easy as just asking for a program that sums all numbers in the input) and progress towards more difficult ones, but they never get very hard: a CS graduate should be able to solve all problems, except maybe 1 or 2, in a couple of hours each.</p>
<h2>Prior history</h2>
<p>This isn&#39;t the first time ChatGPT (or LLMs) was used to participate in Advent of Code. In fact last year (2022) it was big news that users of ChatGPT were able, in multiple days, to reach the top of the global leaderboard.
And this was enough of a concern that Eric explicitly banned ChatGPT users from submitting solutions before the global leaderboard was full (of course he also doesn&#39;t have any way to actually enforce this ban).
<a href="https://old.reddit.com/r/adventofcode/comments/18515qh/2023_the_year_of_gpt/" rel="nofollow noopener noreferrer" target="_blank">Some people</a> even expected GPT-4 to finish the whole year.</p>
<p>A lot of noise was made of GPT-3.5 performance in AoC last year but the actual results were quite modest and LLM enthusiasts behaved in a very unscientific way, by boasting successes but becoming very quiet when it started to fail. In fact ChatGPT <a href="https://archive.is/BtuOG" rel="nofollow noopener noreferrer" target="_blank">struggled to get through day 3 and 5 and probably couldn&#39;t solve anything after day 5</a>.</p>
<h2>Why do AoC with GPT?</h2>
<p>I think it&#39;s as close to the perfect benchmark as you can get. The problems are roughly in order of increasing difficulty so you can see where it stops being able to solve. Since almost all of the problems in any given year are solvable by a CS graduate in a couple of hours is a good benchmark for AGI. And since all of the problems are novel the solutions can&#39;t come from overfitting.</p>
<p>Also around release people tried GPT-4 on AoC 2022 and <a href="https://twitter.com/geoffreylitt/status/1635757456377917440" rel="nofollow noopener noreferrer" target="_blank">found that it performed better</a> so it would be interesting to see how much of the improvement was overfitting vs actual improvement</p>
<h2>Methodology</h2>
<p>I don&#39;t pay for ChatGPT Plus, I only have a paid API key so I used instead a command line client, <a href="https://github.com/marcolardera/chatgpt-cli/" rel="nofollow noopener noreferrer" target="_blank">chatgpt-cli</a> and manually ran the output programs.
The prompt I used for part 1 was:</p>
<pre><code>Write a python program to solve the following problem, the program should read its input from a file passed as argument on the command line:
</code></pre>
<p>followed by the copypasted text of the problem. I manually removed from the prompt all the story fluff that Eric wrote, which constitutes a small amount of help for ChatGPT. If the output had trivial syntax mistakes I fixed them manually.</p>
<p>I gave up on a solution if it didn&#39;t terminate within 15 minutes, and let ChatGPT fail 3 times before giving up. A failure constitutes either an invalid program or a program that runs to completion but returns the wrong output value.</p>
<p>If the program ran to completion with the wrong answer I used the following prompt:</p>
<pre><code>There seems to be a bug can you add some debug output to the program so we can find what the bug is?
</code></pre>
<p>If the program ran into an error I would say so and copy the error message.</p>
<p>If the first part was solved correctly the prompt for the second part would be:</p>
<pre><code>Very good, now I want you to write another python program, that still reads input from a command line argument, same input as before, and solves this additional problem:
</code></pre>
<p>I decided I would stop the experiment after 4 consecutive days where ChatGPT was unable to solve part 1.</p>
<h2>ChatGPT Plus</h2>
<p>Because I was aware of the possibility that ChatGPT Plus would be better I supplemented my experiment with two other sources. The first one is the <a href="https://youtube.com/@mzikmund" rel="nofollow noopener noreferrer" target="_blank">Youtube channel of Martin Zikmund</a> (hencefort &#34;youtuber&#34;) who did videos on how to solve the problems in C# as well as trying to solve them using ChatGPT (with a Plus account).</p>
<p>The second one was the blog of a ChatGPT enthusiast <a href="https://medium.com/@dretyr" rel="nofollow noopener noreferrer" target="_blank">&#34;Advent of AI&#34;</a> (henceforth enthusiast) who tried to solve the problems using ChatGPT Plus and then also wrote a blog about it using ChatGPT Plus.
Since the blog is generated by ChatGPT it&#39;s absolute shit and potentially contains hallucinations, however the <a href="https://github.com/dretyr/adventofai" rel="nofollow noopener noreferrer" target="_blank">github repo with the transcripts</a> is valuable.</p>
<p>The enthusiast turned out to be completely useless: it resorted often to babystepping ChatGPT through to the result and he stopped on day 6 anyway.</p>
<p>The youtuber was much more informative, for the most part he stuck to letting ChatGPT solve the problem on its own. However he did give it, on a few occasions, some big hints, either by debugging ChatGPT&#39;s solution for it or explaining it how to solve the problem. I have noted this in the results.</p>
<h2>Results</h2>
<table>
<tbody><tr>
<th></th><th>part 1</th><th>part 2</th> <th> notes </th>
</tr>
<tr>
<td>day 1</td><td> OK </td><td> FAIL </td> <td></td>
</tr>
<tr>
<td>day 2</td><td> OK </td><td> OK </td> <td></td>
</tr>
<tr>
<td>day 3</td><td> FAIL </td><td> N/A </td> <td></td>
</tr>
<tr>
<td>day 4</td><td> OK </td><td> OK </td> <td> Uses brute force solution for part 2 </td>
</tr>
<tr>
<td>day 5</td><td> OK </td><td> FAIL </td> <td></td>
</tr>
<tr>
<td>day 6</td><td> FAIL </td><td> N/A </td> <td> ChatGPT Plus solves both parts </td>
</tr>
<tr>
<td>day 7</td><td> FAIL </td><td> N/A </td> <td></td>
</tr>
<tr>
<td>day 8</td><td> OK </td><td> FAIL </td> <td> ChatGPT Plus solves part 2 if you tell it what the solution is </td>
</tr>
<tr>
<td>day 9</td><td> FAIL </td><td> N/A </td> <td> ChatGPT Plus solves both parts </td>
</tr>
<tr>
<td>day 10</td><td> FAIL </td><td> N/A </td> <td></td>
</tr>
<tr>
<td>day 11</td><td> FAIL </td><td> N/A </td> <td> ChatGPT Plus could solve part 1 with a big hint </td>
</tr>
<tr>
<td>day 12</td><td> FAIL </td><td> N/A </td> <td></td>
</tr>
</tbody></table>
<p>The perofrmance of GPT-4 this year was <em>a bit worse</em> than GPT-3.5 last year. Last year GPT-3.5 could solve 3 days on its own (1, 2 and 4) while GPT-4 this year could only solve 2 full days (2 and 4).</p>
<p>ChatGPT Plus however did <em>a bit better</em>, solving on its own 4 days (2, 4, 6 and 9). This is probably down to its ability to see the problem input (as an attachment), rather than just the problem prompt and the example input to better sytem prompts and to just being able to do more round-trips through the code interpreter (I gave up after 3~4 errors / wrong outputs).</p>
<p>One shouldn&#39;t read too much on its ability to solve day 9, the problem difficulty doesn&#39;t increase monotonically and day 9 just happened to be very easy.</p>
<h2>Conclusions</h2>
<p>Overall my subjective impression is that not much has changed, it can&#39;t solve anything that requires something more complicated than just following instructions and its bad at following instructions unless they are very simple.</p>
<p>It could be that LLMs have reached their plateau. Or maybe Q* or Bard Ultra or Grok Extra will wipe the floor next year, like GPT-4 was supposed to do this year. It&#39;s hard not to feel jaded about the hype cycle.</p>
<p>I have a bunch of observations about the performance of ChatGPT on AoC which I will report here in no particular order.</p>
<h3>Debugging / world models</h3>
<p>Most humans are incapable of solving AoC problems on the first try without making mistakes so I wouldn&#39;t expect a human-level AI to be able to do it either (if it could it would be by definition super-human).</p>
<p>Some of my prompting strategy went into the direction of trying to get ChatGPT to debug its flawed solution. I was asking it to add debug prints to figure out where the logic of the solution went wrong.</p>
<p>ChatGPT <em>never</em> did this: its debugging skills are completely non-existent. If it encounters an error it will simply rewrite entire functions, or more often the entire program, from scratch.</p>
<p>This is drastically different from what programmers.</p>
<p>This is interesting because debugging techniques aren&#39;t really taught. By and large programming textbooks teach you to program, not how to fix errors you wrote. And yet people do pick up debugging skills, implicitly.</p>
<p>ChatGPT has the same access to programming textbooks that humans have and yet it does not learn to debug. I think this points to the fact that ChatGPT hasn&#39;t really learned to program, that it doesn&#39;t have a &#34;world model&#34;, a logical understanding of what it is doing when it&#39;s programming.</p>
<p>The bruteforce way to get ChatGPT to learn debugging I think would be to scrape hundreds of hours of programming livestreams from twitch and feed it to the training program after doing OCR on the videos and speech-to-text on the audio.
That&#39;s the only source of massive amounts of worked out debugging examples that I can think of.</p>
<h3>Difficulty</h3>
<p>Could it be that this year of AoC was just harder than last year&#39;s and that&#39;s why GPT-4 didn&#39;t do well? Maybe.</p>
<p>Difficulty is very hard to gauge objectively. There&#39;s <a href="https://aoc-stats.fastbee.box.ca/" rel="nofollow noopener noreferrer" target="_blank">scatter plots</a> for leaderboard fill-up time but time-to-complete isn&#39;t necessarily equivalent difficulty and the difference between this year and last year isn&#39;t big anyway (note: the scatter plots aren&#39;t to scale unfortunately).</p>
<p>My own subjective impression is also that this year (so far) was not harder.</p>
<p>The best evidence for an increase in difficulty is day 1 part 2, which contained a small trap in which both human participants and ChatGPT fell.</p>
<p>I think this points to a problem with this AIs trained with enormous amounts of training data: you can&#39;t really tell how much better they are. Ideally you would just test GPT-4 on AoC 2022, but GPT-4 training set <em>contains</em> many copies of AoC 2022&#39;s solutions so it&#39;s not really a good benchmark anymore.</p>
<p>Normally you would take out a portion of the training set to use as test set but with massive training set this is impossible, nobody knows what&#39;s in them and so nobody knows how many times each individual training example is replicated in them.</p>
<p>I wonder if OpenAI has a secret test dataset that they don&#39;t put on the internet anywhere to avoid training set contamination.</p>
<p><a href="https://news.ycombinator.com/item?id=38483271#38488265" rel="nofollow noopener noreferrer" target="_blank">Some people</a> have even speculated that the problems this year were deliberately formulated to foil ChatGPT, but Eric actually <a href="https://old.reddit.com/r/adventofcode/comments/18bp8id/why_does_aoc_care_about_llms/kc646i4/" rel="nofollow noopener noreferrer" target="_blank">denied that this is the case</a>.</p>
<h3>Overfitting</h3>
<p>GPT 4 is 10x larger than GPT 3.5 and it does much better on a bunch of standard tests, for example the <a href="https://law.stanford.edu/2023/04/19/gpt-4-passes-the-bar-exam-what-that-means-for-artificial-intelligence-tools-in-the-legal-industry/" rel="nofollow noopener noreferrer" target="_blank">bar exam</a>.</p>
<p>Why did it not do much better on AoC? If it isn&#39;t difficulty it could be overfitting. It has simply memorized the answers to a bunch of standardized tests.</p>
<p>Is this the case? My experience with AoC day 7 points towards this. The problem asks to write a custom string ordering function, the strings in questions represent hands of cards (A25JQ is ace, 2, 5 jack and queen) and the order it asks for is <em>similar</em> to Poker scoring. However it is <em>not</em> Poker.</p>
<p>This is a really simple day and I expected ChatGPT would be able to solve it without problems, since you just have to follow instructions. And yet it couldn&#39;t it was inesorably pulled towards writing a solution for Poker rather than for this problem.</p>
<p>My guess is that this is an example of overfitting in action. It&#39;s seen too many examples of poker in its training set to be able to solve this quasi-poker thing.</p>


							

						</div>
					</div></div>
  </body>
</html>
