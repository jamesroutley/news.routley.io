<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://changelog.complete.org/archives/10338-kde-a-nice-tiling-envieonment-and-a-surprisingly-awesome-de">Original</a>
    <h1>KDE: A Nice Tiling Environment and a Surprisingly Awesome DE</h1>
    
    <div id="readability-page-1" class="page"><div>
		<p>I recently wrote that <a href="https://changelog.complete.org/archives/10311-managing-an-external-display-on-linux-shouldnt-be-this-hard">managing an external display on Linux shouldn’t be this hard</a>.  I went down a path of trying out some different options before finally landing at an unexpected place: KDE.  I say “unexpected” because I find tiling window managers are just about a necessity.</p>
<p><b>Background: xmonad</b></p>
<p>Until a few months ago, I’d been using <a href="https://xmonad.org/">xmonad</a> for well over a decade.  Configurable, minimal, and very nice; it suited me well.</p>
<p>However, xmonad is getting somewhat long in the tooth.  xmobar, which is commonly used with it, barely supports many modern desktop environments.  I prefer DEs for the useful integrations they bring: everything from handling mount of USB sticks to display auto-switching and sound switching.  xmonad itself can’t run with modern Gnome (whether or not it runs well under KDE 5 seems to be a complicated question, according to wikis, but in any case, there is no log applet for KDE 5).  So I was left with XFCE and such, but the isues I identified in the “shouldn’t be this hard” article were bad enough that I just could not keep going that way.</p>
<p><b>An attempt: Gnome and PaperWM</b></p>
<p>So I tried Gnome under Wayland, reasoning that Wayland might stand a chance of doing things well where X couldn’t.  There are several tiling window extensions available for the Gnome 3 shell.  Most seemed to be rather low-quality, but an exception was <a href="https://github.com/paperwm/PaperWM">PaperWM</a> and I eventually decided on it.  I never quite decided if I liked its horizontal tape of windows or not; it certainly is unique in any case.</p>
<p>I was willing to tolerate my usual list of Gnome problems for the sake of things working.  For instance:</p>
<ul>
<li>The Windows-like “settings are spread out in three different programs and some of them require editing the registry[dconf]”.  Finding all the options for keybindings and power settings was a real chore, but done.</li>
<li>Some file dialog boxes (such as with the screenshot-taking tool) just do not let me type in a path to save a file, insisting that I first navigate to a directory and then type in a name.</li>
<li>General lack of available settings or hiding settings from people.</li>
<li>True focus-follows-mouse was incompatible with keyboard window switching (PaperWM or no); with any focus-follows-mouse enabled, using Alt-Tab or any other method to switch to other windows would instantly have focus returned to whatever the mouse was over.</li>
</ul>
<p>Under Wayland, I found a disturbing lack of logs.  There was nothing like /var/log/Xorg.0.log, nothing like ~/.xsession-errors, just nothing.  Searching for answers on this revealed a lot of Wayland people saying “it’s a Gnome issue” and the trail going cold at that point.</p>
<p>And there was a weird problem that I just could not solve.  After the laptop was suspended and we-awakened, I would be at a lock screen.  I could type in my password, but when hitting Enter, the thing would then tend to freeze.  Why, I don’t know.  It seemed related to Gnome shell; when I switched Gnome from Wayland to X11, it would freeze but eventually return to the unlock screen, at which point I’d type in my password and it would freeze again.  I spent a long time tracking down logs to see what was happening, but I couldn’t figure it out.  All those hard resets were getting annoying.</p>
<p><b>Enter KDE</b></p>
<p>So I tried KDE.  I had seen mentions of <a href="https://github.com/kwin-scripts/kwin-tiling">kwin-tiling</a>, a KDE extension for tiling windows.  I thought I’d try this setup.</p>
<p>I was really impressed by KDE’s quality.  Not only did it handle absolutely every display-related interaction correctly <i>by default</i>, with no hangs ever, all relevant settings were clearly presented in one place.  The KDE settings screens were a breath of fresh air – lots of settings available, all at one place, and tons of features I hadn’t seen elsewhere.</p>
<p>Here are some of the things I was pleasantly surprised by with KDE:</p>
<ul>
<li>Applications can declare classes of notifications.  These can be managed Android-style in settings.  Moreover, you can associate a shell command to run with a notification in any class.  People use this to do things like run commands when a display locks and so forth.</li>
<li><a href="https://kdeconnect.kde.org/">KDE Connect</a> is a seriously impressive piece of software.  It integrates desktops with Android devices in a way that’s reminiscent of non-free operating systems – and with 100% Free Software (the phone app is even in F-Droid!).  Notifications from the phone can appear on the desktop, and their state is synchronized; dismiss it on the desktop and it dismisses on the phone, too.  Get a SMS or Signal message on the phone?  You can reply directly from the desktop.  Share files in both directions, mount a directory tree from the phone on the desktop, “find my phone”, use the phone as a presentation remote for the desktop, shared clipboard, sending links between devices, control the phone media player from the desktop…  Really, really impressive.</li>
<li>The shortcut settings in KDE really work and are impressive.  Unlike Gnome, if you try to assign the same shortcut to multiple things, you are warned and prevented from doing this.  As with Gnome, you can also bind shorcuts to arbitrary actions.</li>
<li>This shouldn’t be exciting, but I was just using Gnome, so…  The panel!  I can put things wherever I want them!  I can put it at the top of the screen, the bottom, or even the sides!  It lets all my regular programs (eg, Nextcloud) put their icons up there without having to install two different extensions, each of which handles a different set of apps!  I shouldn’t be excited about all this, because Gnome actually used to have these features years ago…  [gripe gripe]</li>
<li>Initially I was annoyed that Firefox notifications weren’t showing up in the notification history as they did in Gnome… but that was, of course, a setting, easily fixed!</li>
<li>There is a Plasma Integration plugin for Firefox (and other browsers including Chrome).  It integrates audio and video playback, download status, etc. with the rest of KDE and KDE Connect.  Result: if you like, when a call comes in to your phone, Youtube is paused.  Or, you can right-click to share a link to your phone via KDE Connect, and so forth.  You can right click on a link, and share via Bluetooth, Nextcloud (it must have somehow registered with KDE), KDE Connect, email, etc.</li>
</ul>
<p><b>Tiling</b></p>
<p>So how about the tiling system, kwin-tiling?  The out of the box experience is pretty nice.  There are fewer built-in layouts than with xmonad, but the ones that are there are doing a decent job for me, and in some cases are more configurable (those that have a large window pane are configurable on its location, not forcing it to be on the left as with many systems.)  What’s more, thanks to the flexibility in the KDE shortcut settings, I can configure it to be nearly keystroke-identical to xmonad!</p>
<p><b>Issues Encountered</b></p>
<p>I encountered a few minor issues:</p>
<ul>
<li>There appears to be no way to tell it to “power down the display immediately after it is locked, every time” instead of waiting for some timeout to elapse.  This is useful when I want to switch monitor inputs to something else.</li>
<li>Firefox ESR seems to have some rendering issues under KDE for some reason, but switching to the latest stable release direct from Mozilla seems to fix that.</li>
</ul>
<p>In short, I’m very impressed.</p>
	</div></div>
  </body>
</html>
