<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/omnigres/omnigres">Original</a>
    <h1>Omnigres: Postgres as a Platform</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" id="" dir="auto"><a href="#"><img src="https://github.com/omnigres/omnigres/raw/master/header_logo.svg" alt="Omnigres"/><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto"><a href="https://discord.omnigr.es" rel="nofollow"><img src="https://camo.githubusercontent.com/c63c9e77112ef2dfd1b07422bdf2efbfb5bda2dfa12dd386b4bb7f282262f704/68747470733a2f2f696d672e736869656c64732e696f2f646973636f72642f313036303536383938313732353030333738393f6c6162656c3d446973636f7264" alt="Discord Chat" data-canonical-src="https://img.shields.io/discord/1060568981725003789?label=Discord"/></a>
<a href="https://docs.omnigres.org" rel="nofollow"><img src="https://camo.githubusercontent.com/e9badd1e137676d8fdcfd6615d878ed96ada1085e996fe0a9114930b61a0025b/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f646f63732d72656164792d677265656e" alt="Documentation" data-canonical-src="https://img.shields.io/badge/docs-ready-green"/></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/4beec76b00dcaf424f74a33aaf04677f56df63942bb6ad030dac75b1e7ae4d4f/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6f6d6e69677265732f6f6d6e6967726573"><img src="https://camo.githubusercontent.com/4beec76b00dcaf424f74a33aaf04677f56df63942bb6ad030dac75b1e7ae4d4f/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f6f6d6e69677265732f6f6d6e6967726573" alt="License" data-canonical-src="https://img.shields.io/github/license/omnigres/omnigres"/></a></p>
<p dir="auto">Omnigres makes Postgres a developer-first application platform. You can deploy a single database instance and it can host your entire application, scaling as needed.</p>
<ul dir="auto">
<li>Running application logic <strong>inside</strong> or <strong>next to</strong> the database instance</li>
<li><strong>Deployment</strong> provisioning (<strong>Git</strong>, <strong>containers</strong>, etc.)</li>
<li>Database instance serves <strong>HTTP</strong>, <strong>WebSocket</strong> and other protocols</li>
<li>In-memory and volatile on-disk <strong>caching</strong></li>
<li>Routine application building blocks (<strong>authentication</strong>, <strong>authorization</strong>, <strong>payments</strong>, etc.)</li>
<li>Database-modeled application logic via <strong>reactive</strong> queries</li>
<li>Automagic remote <strong>APIs</strong> and <strong>form</strong> handling</li>
<li><strong>Live</strong> data updates</li>
</ul>
<h2 tabindex="-1" id="user-content-blogs-and-publications" dir="auto"><a href="#blogs-and-publications">Blogs and Publications<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<ul dir="auto">
<li><a href="https://yrashk.com/blog/category/omnigres/" rel="nofollow">Omnigres maintainer&#39;s blog</a></li>
</ul>
<h2 tabindex="-1" id="user-content-runner-quick-start" dir="auto"><a href="#runner-quick-start">üèÉ Quick start<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">The fastest way to try Omnigres out is by using its <a href="https://github.com/omnigres/omnigres/pkgs/container/omnigres">container image</a>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="docker volume create omnigres
docker run --name omnigres --mount source=omnigres,target=/var/lib/postgresql/data \
           -p 127.0.0.1:5432:5432 -p 127.0.0.1:8080:8080 --rm ghcr.io/omnigres/omnigres:latest
# Now you can connect to it:
psql -h localhost -p 5432 -U omnigres omnigres # password is `omnigres`"><pre>docker volume create omnigres
docker run --name omnigres --mount source=omnigres,target=/var/lib/postgresql/data \
           -p 127.0.0.1:5432:5432 -p 127.0.0.1:8080:8080 --rm ghcr.io/omnigres/omnigres:latest
<span><span>#</span> Now you can connect to it:</span>
psql -h localhost -p 5432 -U omnigres omnigres <span><span>#</span> password is `omnigres`</span></pre></div>
<p dir="auto">Postgres parameters such as database, user or password can be overridden as per the
&#34;Environment Variales&#34; section in <a href="https://hub.docker.com/_/postgres/" rel="nofollow">postgres image instructions</a></p>
<p dir="auto">You can access the HTTP server at <a href="http://localhost:8080" rel="nofollow">localhost:8080</a></p>
<h3 tabindex="-1" id="user-content-building-your-own-image" dir="auto"><a href="#building-your-own-image">Building your own image<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">If you can&#39;t use the pre-built image (for example, you are running a fork or made changes), you can build the image yourself:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Build the image
DOCKER_BUILDKIT=1 docker build . -t ghcr.io/omnigres/omnigres"><pre><span><span>#</span> Build the image</span>
DOCKER_BUILDKIT=1 docker build <span>.</span> -t ghcr.io/omnigres/omnigres</pre></div>
<h2 tabindex="-1" id="user-content-wave-hello-world" dir="auto"><a href="#wave-hello-world">üëã &#34;Hello, world&#34;<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Here we expect you are running the <a href="#-runner--quick-start">container image</a>, which has
omni_httpd and omni_web extensions provisioned by default.</p>
<p dir="auto">Let&#39;s start with a traditional example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="update omni_httpd.handlers
set
    query =
        $$select omni_httpd.http_response(&#39;Hello, world!&#39;) from request;$$;"><pre><span>update</span> <span>omni_httpd</span>.<span>handlers</span>
<span>set</span>
    query <span>=</span>
        $$<span>select</span> <span>omni_httpd</span>.<span>http_response</span>(<span><span>&#39;</span>Hello, world!<span>&#39;</span></span>) <span>from</span> request;$$;</pre></div>
<p dir="auto">Here we instruct the handler that is provisioned by omni_httpd by default
to use the enclosed query to greet the world:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ curl localhost:8080
Hello, world!"><pre>$ curl localhost:8080
Hello, world<span>!</span></pre></div>
<p dir="auto">Now, let&#39;s make it more personal and let it greet the requester by name.</p>
<div dir="auto" data-snippet-clipboard-copy-content="update omni_httpd.handlers
set
    query =
        $$select omni_httpd.http_response(&#39;Hello, &#39; || 
                   coalesce(omni_web.param_get(request.query_string, &#39;name&#39;), &#39;world&#39;) || &#39;!&#39;)
          from request;$$;"><pre><span>update</span> <span>omni_httpd</span>.<span>handlers</span>
<span>set</span>
    query <span>=</span>
        $$<span>select</span> <span>omni_httpd</span>.<span>http_response</span>(<span><span>&#39;</span>Hello, <span>&#39;</span></span> <span>||</span> 
                   coalesce(<span>omni_web</span>.<span>param_get</span>(<span>request</span>.<span>query_string</span>, <span><span>&#39;</span>name<span>&#39;</span></span>), <span><span>&#39;</span>world<span>&#39;</span></span>) <span>||</span> <span><span>&#39;</span>!<span>&#39;</span></span>)
          <span>from</span> request;$$;</pre></div>
<p dir="auto">Now, it&#39;ll respond in a personalized manner if <code>name</code> query string parameter is provided:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ curl localhost:8080
Hello, world!

$ curl &#34;localhost:8080?name=John&#34;
Hello, John!"><pre>$ curl localhost:8080
Hello, world<span>!</span>

$ curl <span><span>&#34;</span>localhost:8080?name=John<span>&#34;</span></span>
Hello, John<span>!</span></pre></div>
<p dir="auto">This, of course, only barely scratches the surface, but it may give you a very high-level concept
of how Omnigres web services can be built.</p>
<p dir="auto">For a more complex example, that uses the underlying database and employs more real-world layout, check out
this <a href="https://docs.omnigres.org/examples/motd/" rel="nofollow">MOTD service example</a>.</p>
<h2 tabindex="-1" id="user-content-building_construction-component-roadmap" dir="auto"><a href="#building_construction-component-roadmap">üèóÔ∏è Component Roadmap<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">Below is the current list of components being worked on, experimented with and discussed. This list will change
(and grow) over time.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Status</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_schema/README.md">omni_schema</a></td>
<td>‚úÖ First release candidate</td>
<td>Application schema management</td>
</tr>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_json/README.md">omni_json</a></td>
<td>‚úÖ First release candidate</td>
<td>JSON toolkit</td>
</tr>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_http/README.md">omni_http</a></td>
<td>‚úÖ First release candidate</td>
<td>Common HTTP types library</td>
</tr>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_httpd/README.md">omni_httpd</a> and <a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_web/README.md">omni_web</a></td>
<td>‚úÖ First release candidate</td>
<td>Serving HTTP in Postgres and building services in SQL</td>
</tr>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_mimetypes/README.md">omni_mimetypes</a></td>
<td>‚úÖ First release candidate</td>
<td>MIME types and file extensions</td>
</tr>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_httpc/README.md">omni_httpc</a></td>
<td>‚úÖ First release candidate</td>
<td>HTTP client</td>
</tr>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_sql/README.md">omni_sql</a></td>
<td>üöß Extremely limited API surface</td>
<td>Programmatic SQL manipulation</td>
</tr>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_vfs/README.md">omni_vfs</a></td>
<td>‚òëÔ∏è Initial prototype</td>
<td>Virtual File System interface</td>
</tr>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_containers/README.md">omni_containers</a></td>
<td>‚òëÔ∏è Initial prototype</td>
<td>Managing containers</td>
</tr>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_ext/README.md">omni_ext</a> and  <a href="https://github.com/omnigres/omnigres/blob/master/dynpgext/README.md">Dynpgext interface</a></td>
<td>‚òëÔ∏è Getting ready to become first release candidate</td>
<td>Advanced Postgres extension loader</td>
</tr>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_types/README.md">omni_types</a></td>
<td>‚úÖ First release candidate</td>
<td>Advanced Postgres typing techniques (sum types, etc.)</td>
</tr>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_seq/README.md">omni_seq</a></td>
<td>‚úÖ First release candidate</td>
<td>Extended Postgres sequence tooling</td>
</tr>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_txn/README.md">omni_txn</a></td>
<td>‚úÖ First release candidate</td>
<td>Transaction management</td>
</tr>
<tr>
<td><a href="https://github.com/omnigres/omnigres/blob/master/extensions/omni_python/README.md">omni_python</a></td>
<td>‚òëÔ∏è Initial prototype</td>
<td>First-class Python Development Experience</td>
</tr>
<tr>
<td>omni_git</td>
<td>ü•º Early experiments (unpublished)</td>
<td>Postgres Git client</td>
</tr>
<tr>
<td>omni_reactive</td>
<td>üóìÔ∏è Haven&#39;t started yet</td>
<td>Reactive queries</td>
</tr>
</tbody>
</table>
<h2 tabindex="-1" id="user-content-keyboard-hacking" dir="auto"><a href="#keyboard-hacking">‚å®Ô∏è Hacking<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h2 tabindex="-1" id="user-content-building--using-extensions" dir="auto"><a href="#building--using-extensions">Building &amp; using extensions<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<p dir="auto">To build and run Omnigres, you would currently need a recent C compiler, OpenSSL and cmake:</p>
<div dir="auto" data-snippet-clipboard-copy-content="mkdir -p build &amp;&amp; cd build
cmake ..
make psql_&lt;COMPONENT_NAME&gt; # for example, `psql_omni_containers`"><pre>mkdir -p build <span>&amp;&amp;</span> <span>cd</span> build
cmake ..
make psql_<span>&lt;</span>COMPONENT_NAME<span>&gt;</span> <span><span>#</span> for example, `psql_omni_containers`</span></pre></div>
<h3 tabindex="-1" id="user-content-running-tests" dir="auto"><a href="#running-tests">Running tests<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<div dir="auto" data-snippet-clipboard-copy-content="# in the build directory
CTEST_PARALLEL_LEVEL=$(nproc) make -j $(nproc) all test"><pre><span><span>#</span> in the build directory</span>
CTEST_PARALLEL_LEVEL=<span><span>$(</span>nproc<span>)</span></span> make -j <span><span>$(</span>nproc<span>)</span></span> all <span>test</span></pre></div>
<h2 tabindex="-1" id="user-content-devenvsh-based-local-development-environment" dir="auto"><a href="#devenvsh-based-local-development-environment">Devenv.sh-based local development environment<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h2>
<h3 tabindex="-1" id="user-content-initial-setup" dir="auto"><a href="#initial-setup">Initial setup<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<p dir="auto">Follow these guides:</p>
<ol dir="auto">
<li><a href="https://devenv.sh/getting-started/" rel="nofollow">https://devenv.sh/getting-started/</a></li>
<li><a href="https://devenv.sh/automatic-shell-activation/" rel="nofollow">https://devenv.sh/automatic-shell-activation/</a></li>
<li>Run <code>direnv allow</code> in omnigres repo</li>
</ol>
<h3 tabindex="-1" id="user-content-day-to-day-development" dir="auto"><a href="#day-to-day-development">Day-to-day development<svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></h3>
<ol dir="auto">
<li><code>cd</code> into the repo. This brings in all dependencies.</li>
<li>To bring up development stack (Postgres with all extensions, etc.), run:
<code>devenv up</code></li>
</ol>
<p dir="auto">Once the development environment is running, you can connect to it by issuing:</p>
<ul dir="auto">
<li><code>pg</code> -&gt; this connects to Postgres through a UNIX socket, for maximum
performance. CLI args forwarded.</li>
<li><code>pgclear</code> -&gt; removes the PGDATA folder contents. You want to
restart <code>devenv up</code> after this so Postgres can reinitialize as
per <code>devenv.nix</code>.</li>
</ul>
</article>
          </div></div>
  </body>
</html>
