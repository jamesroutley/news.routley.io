<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://austingil.com/html-capture-attribute/">Original</a>
    <h1>TIL: You can access a user’s camera with just HTML</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>The other day I came across a cool HTML attribute I had never heard of before; <code><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/capture" rel="noopener">capture</a></code>. So I decided to make a video and blog post about it.</p>
<p>Here’s a video format if you prefer that:</p>
<figure><p>
<iframe loading="lazy" title="Accessing the User&#39;s Camera with HTML Only | Web Dev Office Hours" width="1290" height="726" src="https://www.youtube.com/embed/DSTXUEHZRiU?feature=oembed" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</p></figure>
<p>You can put the <code>capture</code> attribute on inputs with the type of file, and you can give it a value of “<code>user</code>” or “<code>environment</code>“.</p>
<p>The interesting thing about the capture attribute is for users coming to your website on a mobile device. If they interact with that input, instead of opening up the default file picker, it will actually open up one of their cameras. It could be the front facing camera or the back facing camera, depending on the value.</p>
<p>If you set the value to “<code>user</code>“, it will use the user facing or front facing camera and or microphone. And if you set it to “<code>environment</code>“, it will use the outer facing or back facing camera and or microphone.</p>
<p>To test is out myself, I created an index.html file that looked like this:</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&#34;en&#34;&gt;

&lt;head&gt;
  &lt;meta charset=&#34;UTF-8&#34; /&gt;
  &lt;meta name=&#34;viewport&#34; content=&#34;width=device-width,initial-scale=1&#34; /&gt;
  &lt;style&gt;
    * {
      font-size: 1.5rem;
    }
  &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;label for=&#34;environment&#34;&gt;Capture environment:&lt;/label&gt;
  &lt;br&gt;
  &lt;input
    type=&#34;file&#34;
    id=&#34;environment&#34;
    capture=&#34;environment&#34;
    accept=&#34;video/*&#34;
  &gt;
  &lt;br&gt;&lt;br&gt;
  &lt;label for=&#34;user&#34;&gt;Capture user:&lt;/label&gt;
  &lt;br&gt;
  &lt;input
    type=&#34;file&#34;
    id=&#34;user&#34;
    capture=&#34;user&#34;
    accept=&#34;image/*&#34;
  &gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre>
<p>The only relevant part of the HTML is the two inputs. They both have a capture attribute and they both have an accept attribute. One is set to capture the “<code>environment</code>” with any type of video. The other is set to capture the “<code>user</code>” with any type of image.</p>
<p>The capture attribute that doesn’t really do anything interesting on a desktop. When I click the inputs, I see that it opens up the file picker. </p>
<p>But here’s the interesting part…</p>
<p>If I bring up that page on my phone and click the first input, my camera opens in the video recording mode. When I click the second input, my phone opens up the camera in image capture mode (for some reason, my phone doesn’t differentiate between front or back facing cameras though).</p>
<p>When you actually snap a photo or video, that file is sent to the HTML input.</p>
<p>How cool is that!?!?</p>
<p>Now, anytime we talk about new web APIs or features, we have to discuss the compatibility and if we look at the <a href="https://caniuse.com/html-media-capture" rel="noopener">support on caniuse.com</a>, it doesn’t look great…</p>
<figure><img loading="lazy" width="1080" height="442" src="https://cdn.statically.io/img/austingil.com/f=auto%2Cq=70/wp-content/uploads/image-5-1080x442.png" alt="Screenshot of caniuse.com/html-media-capture showing no support for desktop browsers." srcset="https://cdn.statically.io/img/austingil.com/f=auto%2Cq=70/wp-content/uploads/image-5-1080x442.png 1080w, https://cdn.statically.io/img/austingil.com/f=auto%2Cq=70/wp-content/uploads/image-5-480x196.png 480w, https://cdn.statically.io/img/austingil.com/f=auto%2Cq=70/wp-content/uploads/image-5-200x82.png 200w, https://cdn.statically.io/img/austingil.com/f=auto%2Cq=70/wp-content/uploads/image-5-768x314.png 768w, https://cdn.statically.io/img/austingil.com/f=auto%2Cq=70/wp-content/uploads/image-5-1536x628.png 1536w, https://cdn.statically.io/img/austingil.com/f=auto%2Cq=70/wp-content/uploads/image-5.png 1653w" sizes="(max-width: 1080px) 100vw, 1080px"/></figure>
<p>But it actually makes sense because all of those unsupported browsers are actually desktop browsers where there isn’t a front facing or back facing camera. So it makes sense to only open up the file picker.</p>
<p>But all the supported browsers are mobile browsers. So that feature is good to go.</p>
<p>The other cool thing is even if a user comes to your application with an unsupported browser, it’s just going to fall back to the default file picker UI.</p>
<p>Progressive Enhancement FTW!!!</p>
<p><strong>UPDATE:</strong> Some folks pointed out that this feature does not prompt you for permissions to access the camera, and they think that should be a security concern. I don’t agree. This camera access feature does not actually make the camera stream available to the web application as it does when you use your webcam on a website and it prompts for permission. Instead, the camera only provides access to the captured file. Which is essentially the same as using a file input without the capture attribute. No extra security concerns to be had.</p>
<p>So that’s the HTML capture attribute. It’s a pretty cool way to add a nicer user experience if you know that your mobile users are going to be taking a picture or a video or a voice recording at the time of upload.</p>
<p>Thank you so much for reading. If you liked this article, please <a href="https://twitter.com/share?via=heyAustinGil" rel="noopener">share it</a>. It&#39;s one of the best ways to support me. You can also <a href="https://austingil.com/newsletter/">sign up for my newsletter</a> or <a href="https://twitter.com/heyAustinGil" rel="noopener">follow me on Twitter</a> if you want to know when new articles are published.</p><hr/><p><i>Originally published on <a href="https://austingil.com/html-capture-attribute/">austingil.com</a>.</i></p> </div></div>
  </body>
</html>
