<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bunny.net/blog/introducing-bunny-edge-scripting-a-better-way-to-build-and-deploy-applications-at-the-edge/">Original</a>
    <h1>Edge Scripting: Build and run applications at the edge</h1>
    
    <div id="readability-page-1" class="page"><section><section><div><div><p>Imagine a world where deploying and running powerful applications is as simple as writing JavaScript, a world where infrastructure fades into the background, and your code just runs exactly where it needs to be: at the edge of the internet, right next to your users.</p><p>We&#39;re excited to announce that this world is now a reality and introduce Bunny Edge Scripting!</p><p>Edge Scripting is a new, serverless JavaScript platform built on top of Deno, designed to help developers build, deploy, and run JavaScript applications on our massive global network without worrying about hardware, scaling, or load balancing ever again.</p><p>With just a few clicks, Edge Scripting allows you to connect your GitHub repository and automatically deploy and run your application at the edge of the internet to enjoy unparalleled ease, speed, and scalability by simply pushing your code.</p><h3 id="connect-push-done">Connect. Push. Done.</h3><p>When we designed Edge Scripting, our goal was simple: allow developers to build and run their applications in the simplest way possible, and with Bunny Edge Scripting, your GitHub main branch becomes your launchpad. </p><p>Connecting your account takes just a few clicks. Then, once you&#39;re done with your code changes, just push them to your main branch, and in just seconds, your app is built and deployed globally.</p><p>No more tedious compiling, versioning, rollback worries, or complex CI/CD configurations. Edge Scripting handles the heavy lifting so you can focus on what you do best: writing code. With automatic deployments and seamless integration into your development workflow, getting your application live has never been easier. It&#39;s as simple as connecting your repo, pushing your code, and you&#39;re live.</p><figure><img src="https://bunny.net/blog/content/images/2024/10/image-3.png" alt="" loading="lazy" width="1405" height="956" srcset="https://bunny.net/blog/content/images/size/w600/2024/10/image-3.png 600w, https://bunny.net/blog/content/images/size/w1000/2024/10/image-3.png 1000w, https://bunny.net/blog/content/images/2024/10/image-3.png 1405w" sizes="(min-width: 720px) 720px"/><figcaption><span>Overview dashboard screenshot</span></figcaption></figure><h3 id="infinite-scalability-without-the-hassle-or-the-price-tag">Infinite scalability without the hassle or the price tag</h3><p>We&#39;ve all been there: your app gains popularity, and suddenly, you&#39;re scrambling to add new servers. This instantly brings a mountain of new responsibilities, from monitoring, failover, load balancing, and security. All of this requires expertise, but more than anything, it requires time. The cloud was supposed to simplify this, but nowadays, it often seems to add even more complexity.</p><p>This is why we designed Edge Scripting to be as hands-free as possible. We&#39;ve built it directly into our global network with automatic scalability, load balancing, failover, and robust security built-in without you even lifting a finger. Everything is seamlessly handled at the edge of the network.</p><p>What also helps you scale infinitely is the pricing.</p><p>We&#39;re on a mission to help make the internet hop faster, which also includes making it affordable to everyone. We believe that powerful compute resources should be accessible without breaking the bank. No matter if you&#39;re just building a simple contact form or running a massive global operation, Edge Scripting pricing was designed to work and scale with you.</p><p>It comes with no minimums, no complex billing, and no hidden costs. You only pay for the resources that you use:</p><ul><li><strong>Requests</strong>: $0.2 per million</li><li><strong>CPU Time</strong>: $0.02 per 1,000 of CPU time seconds</li></ul><p>If you&#39;re serving nothing? You&#39;re paying nothing, too!</p><h3 id="make-the-cdn-edge-your-playground-with-middleware-apps">Make the CDN edge your playground with Middleware Apps</h3><p>Edge Scripting wasn&#39;t just a compute product that we bolted on and deployed globally. Instead, we built it straight into the fabric of one of the largest networks on the internet. As a result, Edge Scripting turns our ultra-fast global network into a CDN that you can program yourself. With this, we&#39;re unlocking powerful new ways to build, optimize, and secure applications closer to users than ever before.</p><p>Today, bunny.net is an entry point for over 1.5 million websites and moreover, serves assets for millions of other domains. This gives us a powerful role in security, load balancing, caching, and smart logic at the edge. While we already offer powerful features such as Edge Rules, Edge Scripting takes this to a whole new level, making the edge your playground with the new Middleware Apps.</p><p>Middleware Apps were designed to go beyond standalone applications and provide a toolkit for customizing the CDN behavior on a much deeper level. With Middleware Apps, you can integrate directly into Bunny CDN and seamlessly extend it with your own functionality. </p><figure><img src="https://bunny.net/blog/content/images/2024/11/bunny-edge-scripting-middleware-app-diagram.svg" alt="" loading="lazy" width="2190" height="353"/><figcaption><span>Middleware App Pipeline</span></figcaption></figure><p>Be it load balancing, security checks, A/B testing, caching, or request modification, the Middleware mode allows you to take control of how the CDN should respond and adjust it on demand. Itâ€™s as close as you can get to running your own custom CDN but without the infrastructure overhead.</p><p>At launch, Middleware Apps support modifying the origin request and response, but this is only the beginning. We are actively working on expanding this functionality to give you even deeper control over caching, revalidation, and other core CDN behaviors soon.</p><h3 id="your-first-edge-application-takes-just-a-few-lines-of-code">Your first edge application takes just a few lines of code</h3><p>Edge Scripting isn&#39;t just simple to deploy, it&#39;s also incredibly easy to code. To help you effortlessly run standalone applications across Deno, Node.js, and Bunny Edge Scripting, we created <a href="https://github.com/BunnyWay/edge-script-sdk?ref=bunny.net" rel="noreferrer">BunnySDK</a>. The SDK is a lightweight wrapper that closely mirrors the Deno server implementation but adds the ability to run seamlessly across different environments.</p><p>This makes getting started with Edge Scripting unbelievably simple, taking as little as a few lines of code.</p>
<!--kg-card-begin: html-->
<p><strong>Hello World example:</strong></p><pre><span>import</span> * <span>as</span> <span>BunnySDK</span> <span>from</span> <span>&#34;https://esm.sh/@bunny.net/edgescript-sdk@0.11.2&#34;</span>;

<span>/**
 * Returns an HTTP response.
 * <span>@param</span> {<span>Request</span>} <span>request</span> - The Fetch API Request object.
 * <span>@return</span> {<span>Response</span>} The HTTP response or string.
 */</span>
<span>BunnySDK</span>.<span>net</span>.<span>http</span>.<span>serve</span>(<span>async</span> (<span>request</span>: <span>Request</span>): <span>Response</span> | <span>Promise</span>&lt;<span>Response</span>&gt; =&gt; {
  <span>return</span> <span>new</span> <span>Response</span>(<span>&#34;Hello World&#34;</span>);
});</pre>
<!--kg-card-end: html-->
<p>The snippet above is all it takes to create a global, edge-optimized application that is able to respond instantly to user requests at the edge, but also run locally on your machine.</p><p>Middleware Applications are equally simple. We&#39;ve made it extremely easy to modify both the request and response of any CDN request. Middleware Apps allow you to inject custom logic directly into the existing CDN processing pipeline. This provides a seamless integration into any origin configuration, Edge Rules, and Pull Zone configuration without having to rewrite any complex proxy logic yourself.</p>
<!--kg-card-begin: html-->
<p><strong>Middleware App example:</strong></p><pre><span>import</span> * <span>as</span> <span>BunnySDK</span> <span>from</span> <span>&#34;https://esm.sh/@bunny.net/edgescript-sdk@0.11.2&#34;</span>;

<span>/**
 * When a response is not served from the cache, you can use this event handler
 * to modify the request going to the origin.
 *
 * <span>@param</span> {<span>Context</span>} <span>context</span> - The context of the middleware.
 * <span>@param</span> {<span>Request</span>} context.request - The current request.
 */</span>
<span>async</span> <span>function</span> <span>onOriginRequest</span>(<span>context: { request: Request }</span>): <span>Promise</span>&lt;<span>Response</span>&gt; | <span>Response</span> | <span>Promise</span>&lt;<span>Request</span>&gt; | <span>Request</span> | <span>void</span> {
  context.<span>request</span>.<span>headers</span>.<span>append</span>(<span>&#34;Before&#34;</span>, <span>&#34;Added before request&#34;</span>);
}

<span>/**
 * When a response is not served from the cache, you can use this event handler
 * to modify the response going from the origin.
 * This modifies the response before being cached.
 *
 * Returns an HTTP response.
 * <span>@param</span> {<span>Context</span>} <span>context</span> - The context of the middleware.
 * <span>@param</span> {<span>Request</span>} <span>request</span> - The current request done to the origin.
 * <span>@param</span> {<span>Response</span>} <span>response</span> - The HTTP response or string.
 */</span>
<span>async</span> <span>function</span> <span>onOriginResponse</span>(<span>context: { request: Request, response: Response }</span>): <span>Promise</span>&lt;<span>Response</span>&gt; | <span>Response</span> | <span>void</span> {
  context.<span>response</span>.<span>headers</span>.<span>append</span>(<span>&#34;After&#34;</span>, <span>&#34;Added on the response return.&#34;</span>);
}

<span>BunnySDK</span>.<span>net</span>.<span>http</span>.<span>servePullZone</span>()
  .<span>onOriginRequest</span>(onOriginRequest)
  .<span>onOriginResponse</span>(onOriginResponse);
</pre>
<!--kg-card-end: html-->
<p>It&#39;s this easy to add a request and response header to any Pull Zone. You can then easily trigger the script for all the requests or even execute dynamically using Edge Rules.</p><p>Of course, writing software is not just about producing code, but sharing it. One of our reasons for building Edge Scripting on top of Deno was its existing support for a vast ecosystem of external packages. For example, integrating an external service like SendGrid to send an email is this simple:</p>
<!--kg-card-begin: html-->
<p><strong>SendGrid example:</strong></p><pre><span>import</span> * <span>as</span> <span>BunnySDK</span> <span>from</span> <span>&#34;@bunny.net/edgescript-sdk&#34;</span>;
<span>import</span> sgMail <span>from</span> <span>&#34;https://esm.sh/@sendgrid/mail@7.7.0&#34;</span>;

<span>// Set your SendGrid API key</span>
sgMail.<span>setApiKey</span>(<span>Deno</span>.<span>env</span>.<span>get</span>(<span>&#39;SENDGRID_API_KEY&#39;</span>));

<span>BunnySDK</span>.<span>net</span>.<span>http</span>.<span>serve</span>(<span>async</span> (req) =&gt; { 
    <span>const</span> msg = {
        <span>to</span>: <span>&#39;user@example.com&#39;</span>,
        <span>from</span>: <span>&#39;you@yourdomain.com&#39;</span>,
        <span>subject</span>: <span>&#39;Welcome to Bunny Edge Scripting!&#39;</span>,
        <span>text</span>: <span>&#39;This email was sent directly from the edge.&#39;</span>,
    };

    <span>try</span> {
        <span>await</span> sgMail.<span>send</span>(msg);
        <span>return</span> <span>new</span> <span>Response</span>(<span>&#34;Email sent successfully!&#34;</span>);
    } <span>catch</span> (error) {
        <span>console</span>.<span>error</span>(error);
        <span>return</span> <span>new</span> <span>Response</span>(<span>&#34;Failed to send email.&#34;</span>, { <span>status</span>: <span>500</span> });
    }
});</pre>
<!--kg-card-end: html-->
<p>Gone are the days of wasting hours to build, deploy, and connect a simple contact form. Now, all it takes is a few lines of code.</p><p>To learn how to get started easily and for more examples, you can visit the <a href="https://docs.bunny.net/docs/overview-1?ref=bunny.net" rel="noreferrer">Edge Scripting documentation</a>.</p><h3 id="powered-by-deno-flexibility-speed-and-freedom-without-the-lock-in">Powered by Deno: Flexibility, speed, and freedom without the lock-in</h3><p>When we set out to build Bunny Edge Scripting, we set out to reinvent the user experience for how developers build, deploy, and run applications at the edge. What we didn&#39;t want to do was to build yet another JavaScript runtime with limited capabilities. We wanted developers to be able to build on a familiar ecosystem, complete with millions of modules, and without the burden of lock-in.</p><p>That&#39;s why we decided to combine the speed of bunnies with the might of dinosaurs, and build Edge Scripting on top of Deno. <a href="https://deno.com/?ref=bunny.net" rel="noreferrer">Deno</a> is an open-source, modern JavaScript runtime designed to uncomplicate JavaScript development and eliminate unnecessary complexity. Best to be said by Ryan, the Deno founder himself:</p>
<!--kg-card-begin: html-->
<iframe width="780" height="438" src="https://www.youtube.com/embed/swXWUfufu2w?si=tRZIFGZ029K210nS" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
<!--kg-card-end: html-->
<p>On top of just being simple, building on Deno brings a list of additional advantages:</p><ul><li><strong>Native TypeScript support:</strong> You can easily write type-safe code in TypeScript without any extra configuration.</li><li><strong>Enhanced security:</strong> Deno runs in a secure sandbox by default, minimizing vulnerabilities.</li><li><strong>Ultra-fast performance:</strong> Being built in Rust, Deno offers exceptional performance and ultra-low startup times.</li><li><strong>A vast ecosystem of modules:</strong> Deno supports tens of thousands of native modules and millions of npm packages to help you build anything easily.</li></ul><p>We&#39;re excited to empower developers with a platform that doesn&#39;t focus on locking you in, but instead, empowers you to easily build and run your applications anywhere.</p><h3 id="batteries-included-compute-performance-and-security">Batteries included: Compute, performance, and security</h3><p>Out of the box, Deno comes with everything you need to build, test, and deploy your applications. With Edge Scripting, we&#39;re building further on top of that. </p><p>Leveraging our massive global footprint, any application deployed to bunny.net is automatically accelerated by our global network and automatically integrates with edge caching, powerful security, logging, and analytics.</p><p>This means your applications are always protected by powerful DDoS protection, application attacks, and have built-in CDN resource caching for the absolute best performance possible.</p><p>There&#39;s no more need to combine multiple different services for DNS, CDN, and load balancing. With Edge Scripting, it all comes built-in by default. On top of that, Edge Scripting adds even more crucial features to help you run applications globally, such as real-time logging, release control, environmental variables, and secret management.</p><h3 id="built-in-real-time-logging">Built-in real-time logging</h3><p>Debugging and logging on a globally distributed scale brings some unique challenges, and with thousands of servers across 119+ datacenters globally, we understand this very well.</p><p>To make these challenges as simple as possible for developers, we built Edge Scripting with built-in real-time logging, allowing you to seamlessly observe what your app is doing in the wild. </p><p>With the live log view, you can quickly see what&#39;s going on, and dig deeper into specific issues thanks to regional filters and search support.</p><figure><img src="https://bunny.net/blog/content/images/2024/10/image-2.png" alt="" loading="lazy" width="1499" height="562" srcset="https://bunny.net/blog/content/images/size/w600/2024/10/image-2.png 600w, https://bunny.net/blog/content/images/size/w1000/2024/10/image-2.png 1000w, https://bunny.net/blog/content/images/2024/10/image-2.png 1499w" sizes="(min-width: 720px) 720px"/><figcaption><span>Live logging dashboard</span></figcaption></figure><p>For advanced users, we also exposed the logging via an HTTP and a live WebSocket API, allowing you to easily connect it to other platforms.</p><h3 id="simple-version-and-release-controls">Simple version and release controls</h3><p>We get it, sometimes things break. A critical bug slips through or an unexpected rollback is urgently needed. That&#39;s why Edge Scripting introduces a simple, and intuitive version control system. Every time you make a change, or publish a release, we automatically create a version history for you, making instant global rollbacks just a few clicks away.</p><figure><img src="https://bunny.net/blog/content/images/2024/10/image-1.png" alt="" loading="lazy" width="1515" height="639" srcset="https://bunny.net/blog/content/images/size/w600/2024/10/image-1.png 600w, https://bunny.net/blog/content/images/size/w1000/2024/10/image-1.png 1000w, https://bunny.net/blog/content/images/2024/10/image-1.png 1515w" sizes="(min-width: 720px) 720px"/><figcaption><span>Deployment version management</span></figcaption></figure><p>Even better, we are taking it a step further. Soon, we plan to introduce a built-in dynamic developer mode, allowing you to easily run a specific commit, release, or package using a dynamically mapped application URL. That means as soon as you push code, you can instantly test it live, without disrupting your production environment.</p><h3 id="full-api-and-terraform-support">Full API and Terraform support</h3><p>We understand that automation and infrastructure as code are essential for any modern development workflow. That&#39;s why, like all of our products, Bunny Edge Scripting comes with comprehensive <a href="https://docs.bunny.net/reference/getedgescriptcodeendpoint_getcode?ref=bunny.net" rel="noreferrer">API support</a> as well as a <a href="https://registry.terraform.io/providers/BunnyWay/bunnynet/latest/docs?ref=bunny.net" rel="noreferrer">Terraform provider</a>.</p><p>This enables you to manage and deploy your applications programmatically and easily integrate into your existing CI/CD pipelines. With near-real-time configuration changes and deployments, Edge Scripting allows you to build powerful workflows, automate tasks, and execute dynamic codeâ€”giving you a robust automation tool with just a few API calls.</p><h3 id="moving-beyond-javascript-with-wasm-support">Moving beyond JavaScript with WASM support</h3><p>Today, JavaScript is by far the most popular programming language in the world, but why stop there? For those wanting to do more, Deno also brings WebAssembly (WASM) support, allowing you to bring in Rust, C++, or any other language, and make it run globally with just as much ease. This provides even faster and more consistent performance, rivaling low-level native code.</p><p>Getting WASM running is very straightforward, and Deno conveniently exposes WebAssembly to the standard browser interface. All you need is a binary to run.</p>
<!--kg-card-begin: html-->
<p><strong>WASM counter example:</strong></p><pre><span>import</span> * <span>as</span> <span>BunnySDK</span> <span>from</span> <span>&#34;https://esm.sh/@bunny.net/edgescript-sdk@0.11.2&#34;</span>;

<span>const</span> { instance, <span>module</span> } = <span>await</span> <span>WebAssembly</span>.<span>instantiateStreaming</span>(
    <span>fetch</span>(<span>&#34;https://wpt.live/wasm/incrementer.wasm&#34;</span>),
);

<span>/**
 * Returns an HTTP response.
 * <span>@param</span> {<span>Request</span>} <span>request</span> - The Fetch API Request object.
 * <span>@return</span> {<span>Response</span>} The HTTP response or string.
 */</span>
<span>BunnySDK</span>.<span>net</span>.<span>http</span>.<span>serve</span>(<span>async</span> (<span>request</span>: <span>Request</span>): <span>Response</span> | <span>Promise</span>&lt;<span>Response</span>&gt; =&gt; {
    <span>const</span> increment = instance.<span>exports</span>.<span>increment</span> <span>as</span> (<span>input</span>: <span>number</span>) =&gt; <span>number</span>;
    <span>return</span> <span>new</span> <span>Response</span>(<span>&#34;Value &#34;</span> + <span>increment</span>(<span>41</span>));
});</pre>
<!--kg-card-end: html-->
<p>It&#39;s that easy to run almost any application globally. FFmpeg at the edge? <a href="https://github.com/ffmpegwasm/ffmpeg.wasm?ref=bunny.net" rel="noreferrer">Not a problem.</a> Weaving your next Rust or C++ applications into the fabric of the internet? <a href="https://developer.mozilla.org/en-US/docs/WebAssembly/Rust_to_Wasm?ref=bunny.net" rel="noreferrer">Not a problem either.</a> WASM lets you move beyond the limits of a single programming language. You are free to build, deploy, and code practically anything.</p><p>For more details on WASM support, have a look at <a href="https://docs.deno.com/runtime/reference/wasm/?ref=bunny.net" rel="noreferrer">Deno&#39;s WASM documentation</a>.</p><h3 id="live-in-the-blink-of-an-eye">Live in the blink of an eye</h3><p>In line with our mission to make the internet hop faster, Edge Scripting isn&#39;t just simple, it&#39;s also blazing fast! </p><p>Deno was written in Rust and crafted for ultra-low startup times and blazing-fast performance. Without heavy dependencies, a highly optimized I/O pipeline, and native TypeScript support, applications hosted on Edge Scripting get as close as possible to actual 0ms startup times.</p><p>With Bunny Edge Scripting, you get the kind of performance thatâ€™s as close to 0ms startup as it gets. Weâ€™ve cut out the bloat and fine-tuned every layer of the request pipeline so that your applications respond before your users can even blink. Because at the edge, every millisecond matters.</p><h3 id="pawing-the-future-of-edge-building-the-best-edge-computing-platform">Pawing the future of edge: Building the best Edge Computing platform</h3><p>We&#39;re setting out to make ultra-fast global applications a breeze, and for us, this is just the beginning. We are excited to share that we have a rich roadmap ahead to make Edge Scripting the best way for anyone to build, and run any type of application.</p><p>Here&#39;s what&#39;s coming soon:</p><ul><li>A globally distributed database</li><li>bunny.net storage library</li><li>Support for npm module resolves</li><li>Better node specifier support</li><li>GPU and AI inference support</li><li>Support for larger applications</li><li>On-the-fly dynamic builds based on each commit</li><li>CLI support</li><li>And much, much more to follow...</li></ul><p>As we continue to evolve Bunny Edge Scripting, we&#39;re committed to pushing the boundaries of what&#39;s possible at the edge, and build an edge computing platform of every developer&#39;s dream.</p><h3 id="hop-into-the-future-of-edge-computing">Hop into the future of Edge Computing</h3><p>At bunny.net, we&#39;re on a mission to make the internet hop faster, and what better way to achieve that than by moving your applications just milliseconds away from your users. </p><p>If you&#39;re tired of dealing with complicated, slow, and expensive infrastructure, and you want to embrace a future where deploying is as simple as writing code, we invite you to hop onto Edge Scripting and give it a try!</p><p>You can <a href="https://dash.bunny.net/auth/register?pk_buttonlocation=blog&amp;ref=bunny.net" rel="noreferrer">sign up</a>, and apply for our beta program today, and start focusing on what you enjoy most: creating awesome software! We&#39;re excited to build a faster, safer, and more reliable internet together!</p></div></div></section></section></div>
  </body>
</html>
