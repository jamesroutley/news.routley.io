<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/ncbi/GeneGPT">Original</a>
    <h1>GeneGPT, a tool-augmented LLM for bioinformatics</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">This directory contains code and data for GeneGPT, a tool-augmented LLM for improved access to biomedical information.
<a target="_blank" rel="noopener noreferrer" href="https://private-user-images.githubusercontent.com/32558774/252747819-a18e142f-0742-4c14-a45f-386e9811c85d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDc3ODkzOTMsIm5iZiI6MTcwNzc4OTA5MywicGF0aCI6Ii8zMjU1ODc3NC8yNTI3NDc4MTktYTE4ZTE0MmYtMDc0Mi00YzE0LWE0NWYtMzg2ZTk4MTFjODVkLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAyMTMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMjEzVDAxNTEzM1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWRiMTY2ZDY0ZDcxZGVlMzgxZmRlMzY2Y2RhMDQzYzViNzE1NjliMzE2OTBjNzY3YTgxNWQ0NjJjYzI2NzViYjMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.TiWrCGUca4z_USu9UGoo9DOuZDLCtZC32Lcl3HiJYI0"><img src="https://private-user-images.githubusercontent.com/32558774/252747819-a18e142f-0742-4c14-a45f-386e9811c85d.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDc3ODkzOTMsIm5iZiI6MTcwNzc4OTA5MywicGF0aCI6Ii8zMjU1ODc3NC8yNTI3NDc4MTktYTE4ZTE0MmYtMDc0Mi00YzE0LWE0NWYtMzg2ZTk4MTFjODVkLnBuZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNDAyMTMlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjQwMjEzVDAxNTEzM1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWRiMTY2ZDY0ZDcxZGVlMzgxZmRlMzY2Y2RhMDQzYzViNzE1NjliMzE2OTBjNzY3YTgxNWQ0NjJjYzI2NzViYjMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.TiWrCGUca4z_USu9UGoo9DOuZDLCtZC32Lcl3HiJYI0" alt="image"/></a></p>

<p dir="auto">While large language models (LLMs) have been successfully applied to various tasks, they still face challenges with hallucinations, especially for specialized knowledge. We propose GeneGPT, a novel approach to address this challenge by teaching LLMs to exploit biomedical tools, specifically NCBI Web APIs, for answering information-seeking questions. Our approach utilizes in-context learning, coupled with a novel decoding algorithm that can identify and execute API calls. Empirical results show that GeneGPT achieves state-of-the-art (SOTA) performance on eight GeneTuring tasks with an average score of 0.83, largely surpassing previous SOTA (0.44 by New Bing), biomedical LLMs such as BioGPT (0.04), and ChatGPT (0.12). Further analyses suggest that: Firstly, API demonstrations are more effective than documentations for in-context tool learning; Secondly, GeneGPT can generalize to longer chains of API calls and answer multi-hop questions; Lastly, the unique and task-specific errors made by GeneGPT provide valuable insights for future improvements. Our results underline the potential of integrating domain-specific tools with LLMs for improved access and accuracy in specialized knowledge areas.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-requirements" aria-hidden="true" tabindex="-1" href="#requirements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Requirements</h2>
<p dir="auto">The code has been tested with Python 3.9.13. Please first install the required packages by:</p>
<div dir="auto" data-snippet-clipboard-copy-content="pip install -r requirements.txt"><pre>pip install -r requirements.txt</pre></div>
<p dir="auto">You also need an OpenAI API key to run GeneGPT with Codex. Replace the placeholder with your key in <code>config.py</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ cat config.py 
API_KEY = &#39;YOUR_OPENAI_API_KEY&#39;"><pre>$ cat config.py 
API_KEY = <span><span>&#39;</span>YOUR_OPENAI_API_KEY<span>&#39;</span></span></pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-using-genegpt" aria-hidden="true" tabindex="-1" href="#using-genegpt"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Using GeneGPT</h2>
<p dir="auto">After setting up the environment, one can run GeneGPT on GeneTuring by:</p>

<p dir="auto">where <code>111111</code> denotes that all Documentations (Dc.1-2) and Demonstractions (Dm.1-4) are used.</p>
<p dir="auto">To run GeneGPT-slim, simply use:</p>

<p dir="auto">which will only use the Dm.1 and Dm.4 for in-context learning.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-evaluating-genegpt" aria-hidden="true" tabindex="-1" href="#evaluating-genegpt"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Evaluating GeneGPT</h2>
<p dir="auto">One can evaluate the results by running:</p>
<div dir="auto" data-snippet-clipboard-copy-content="python evaluate.py ${RESULT_DIRECTORY}"><pre>python evaluate.py <span>${RESULT_DIRECTORY}</span></pre></div>
<p dir="auto">For example, we also put our experimental results in <code>geneturing_results</code> and <code>geneturing_results</code>. By running:</p>
<div dir="auto" data-snippet-clipboard-copy-content="python evaluate.py geneturing_results/001001/"><pre>python evaluate.py geneturing_results/001001/</pre></div>
<p dir="auto">The user can get the evaluation results of GeneGPT-slim:</p>
<div dir="auto" data-snippet-clipboard-copy-content="Evaluating geneturing_results/001001/Gene alias.json
0.84

Evaluating geneturing_results/001001/Gene disease association.json
0.6613333333333332

Evaluating geneturing_results/001001/Gene location.json
0.66

Evaluating geneturing_results/001001/Human genome DNA aligment.json
0.44

Evaluating geneturing_results/001001/Multi-species DNA aligment.json
0.88

Evaluating geneturing_results/001001/Gene name conversion.json
1.0

Evaluating geneturing_results/001001/Protein-coding genes.json
1.0

Evaluating geneturing_results/001001/Gene SNP association.json
1.0

Evaluating geneturing_results/001001/SNP location.json
0.98"><pre>Evaluating geneturing_results/001001/Gene alias.json
0.84

Evaluating geneturing_results/001001/Gene disease association.json
0.6613333333333332

Evaluating geneturing_results/001001/Gene location.json
0.66

Evaluating geneturing_results/001001/Human genome DNA aligment.json
0.44

Evaluating geneturing_results/001001/Multi-species DNA aligment.json
0.88

Evaluating geneturing_results/001001/Gene name conversion.json
1.0

Evaluating geneturing_results/001001/Protein-coding genes.json
1.0

Evaluating geneturing_results/001001/Gene SNP association.json
1.0

Evaluating geneturing_results/001001/SNP location.json
0.98</pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-acknowledgments" aria-hidden="true" tabindex="-1" href="#acknowledgments"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Acknowledgments</h2>
<p dir="auto">This work was supported by the Intramural Research Programs of the National Institutes of Health, National Library of Medicine.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-disclaimer" aria-hidden="true" tabindex="-1" href="#disclaimer"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Disclaimer</h2>
<p dir="auto">This tool shows the results of research conducted in the Computational Biology Branch, NCBI/NLM. The information produced on this website is not intended for direct diagnostic use or medical decision-making without review and oversight by a clinical professional. Individuals should not change their health behavior solely on the basis of information produced on this website. NIH does not independently verify the validity or utility of the information produced by this tool. If you have questions about the information produced on this website, please see a health care professional. More information about NCBI&#39;s disclaimer policy is available.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-citation" aria-hidden="true" tabindex="-1" href="#citation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Citation</h2>
<p dir="auto">If you find this repo helpful, please cite GeneGPT by:</p>
<div dir="auto" data-snippet-clipboard-copy-content="@misc{jin2023genegpt,
      title={GeneGPT: Augmenting Large Language Models with Domain Tools for Improved Access to Biomedical Information}, 
      author={Qiao Jin and Yifan Yang and Qingyu Chen and Zhiyong Lu},
      year={2023},
      eprint={2304.09667},
      archivePrefix={arXiv},
      primaryClass={cs.CL}
}"><pre><span>@misc</span>{<span>jin2023genegpt</span>,
      <span>title</span>=<span><span>{</span>GeneGPT: Augmenting Large Language Models with Domain Tools for Improved Access to Biomedical Information<span>}</span></span>, 
      <span>author</span>=<span><span>{</span>Qiao Jin and Yifan Yang and Qingyu Chen and Zhiyong Lu<span>}</span></span>,
      <span>year</span>=<span><span>{</span>2023<span>}</span></span>,
      <span>eprint</span>=<span><span>{</span>2304.09667<span>}</span></span>,
      <span>archivePrefix</span>=<span><span>{</span>arXiv<span>}</span></span>,
      <span>primaryClass</span>=<span><span>{</span>cs.CL<span>}</span></span>
}</pre></div>
</article></div></div>
  </body>
</html>
