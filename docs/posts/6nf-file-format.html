<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://habr.com/en/articles/942516/">Original</a>
    <h1>6NF File Format</h1>
    
    <div id="readability-page-1" class="page"><div id="mount"><div id="app"><div><!--[--><!----><!----><div><!----><main><div hl="en" data-async-called="true"><div><!--[--><!----><div><div><div><!----><!--[--><!--[--><!----><div data-async-called="true"><!--[--><!--]--><div data-test-id="article-body"><div><div><!--[--><article><!--[--><div><!--[--><!--]--><!--[--><div><!--[--><!--]--><div data-test-id="articleStats"><p><span><svg height="24" width="24"><title>Level of difficulty</title><use xlink:href="/img/megazord-v28.ac2e86a7..svg#complexity-medium"></use></svg></span><span>Medium</span></p><p><span><svg height="24" width="24"><title>Reading time</title><use xlink:href="/img/megazord-v28.ac2e86a7..svg#clock"></use></svg></span><span>2 min</span></p><p><span><svg height="24" width="24"><title>Views</title><use xlink:href="/img/megazord-v28.ac2e86a7..svg#counter-views"></use></svg><span title="6906">6.9K</span></span></p></div><!----><!----></div><!--teleport start--><!--teleport end--><!--]--></div><!--[--><!----><div data-gallery-root="" lang="en"><div id="post-content-body"><div><div><div xmlns="http://www.w3.org/1999/xhtml"><figure><img src="https://habrastorage.org/r/w1560/getpro/habr/upload_files/976/693/a27/976693a2736d86096f65fec6bf75f4d0.png" width="720" height="540" sizes="(max-width: 780px) 100vw, 50vw" srcset="https://habrastorage.org/r/w780/getpro/habr/upload_files/976/693/a27/976693a2736d86096f65fec6bf75f4d0.png 780w,
       https://habrastorage.org/r/w1560/getpro/habr/upload_files/976/693/a27/976693a2736d86096f65fec6bf75f4d0.png 781w" loading="lazy" decode="async"/></figure><p><strong>Filename Extension</strong>: <code>.6nf</code></p><h4>1. Introduction</h4><p><a href="https://en.wikipedia.org/wiki/Sixth_normal_form" rel="noopener noreferrer nofollow">6NF</a> File Format is a new bitemporal, sixth-normal-form (6NF)-inspired data exchange format designed for DWH and for reporting. It replaces complex hierarchical formats like XBRL, XML, JSON, and YAML.</p><h4>2. Design Principles</h4><ul><li><p><strong>Database Friendly Flat Structure</strong>: No nested objects or arrays. No need for parsing</p></li><li><p><strong>6NF Compatibility</strong>: Direct mapping to 6NF database tables. No need for normalization</p></li><li><p><strong>Bitemporal Database Compatibility</strong>: All data includes valid_from and recorded_at timestamps</p></li><li><p><strong>UTC Time Standard</strong>: All timestamps must be in UTC format, denoted by the &#39;Z&#39; suffix (e.g., 2023-01-01T12:00:00Z)</p></li><li><p><strong>Struct Grouping</strong>: Multiple attributes with shared temporal context</p></li><li><p><strong>Compactness</strong>: Uses <a href="https://www.crockford.com/base32.html" rel="noopener noreferrer nofollow">Crockfordâ€™s Base32</a> - encoded <a href="https://datatracker.ietf.org/doc/html/rfc9562#name-uuid-version-7" rel="noopener noreferrer nofollow">UUIDv7</a> for identifiers</p></li><li><p><strong>Readability</strong>: Clean syntax with minimal punctuation</p></li><li><p><strong>PostgreSQL Style</strong>: Uses snake_case notation of identifiers (names)</p></li><li><p><strong>Case Sensitivity</strong>: Keywords are UPPERCASE and case-sensitive. Identifiers (names) are lowercase and case-sensitive</p></li><li><p><strong>UTF-8 Encoding</strong>: Files use UTF-8 encoding</p></li></ul><h4>3. Syntax (EBNF)</h4><pre><code>6nf             = [version] { entity | reference | attribute | attribute_ref | struct | relationship } ;
version         = &#34;VERSION&#34; number &#34;\n&#34; ;
entity          = &#34;ENTITY&#34; entity_name entity_id &#34;\n&#34; ;
reference       = &#34;REFERENCE&#34; name reference_id value &#34;\n&#34; ;
attribute       = &#34;ATTRIBUTE_OF&#34; entity_name entity_id name value valid_from recorded_at &#34;\n&#34; ;
attribute_ref   = &#34;ATTRIBUTE_REF_OF&#34; entity_name entity_id name reference_id valid_from recorded_at &#34;\n&#34; ;
struct          = &#34;STRUCT_OF&#34; entity_name entity_id name valid_from recorded_at &#34;\n&#34; 
                 { name (value | reference_id) &#34;\n&#34; } ;
relationship    = &#34;RELATIONSHIP&#34; name relationship_id valid_from recorded_at &#34;\n&#34; 
                 { name ( entity_id | reference_id ) &#34;\n&#34; } ;
value           = string | number | iso8601 | &#34;true&#34; | &#34;false&#34; ;
string          = &#34;\&#34;&#34; { character } &#34;\&#34;&#34; ;
number          = [ &#34;-&#34; ] digit { digit } [ &#34;.&#34; digit { digit } ] ;
valid_from      = iso8601 ;
recorded_at     = iso8601 ;
entity_name     = ( letter | &#34;_&#34; ) { letter | digit | &#34;_&#34; } ;
name            = ( letter | &#34;_&#34; ) { letter | digit | &#34;_&#34; } ;
entity_id       = 26 * base32_char ;
reference_id    = 26 * base32_char ;
relationship_id = 26 * base32_char ;
base32_char     = &#34;0&#34; | &#34;1&#34; | &#34;2&#34; | &#34;3&#34; | &#34;4&#34; | &#34;5&#34; | &#34;6&#34; | &#34;7&#34; | &#34;8&#34; | &#34;9&#34; 
                | &#34;A&#34; | &#34;B&#34; | &#34;C&#34; | &#34;D&#34; | &#34;E&#34; | &#34;F&#34; | &#34;G&#34; | &#34;H&#34; | &#34;J&#34; | &#34;K&#34; 
                | &#34;M&#34; | &#34;N&#34; | &#34;P&#34; | &#34;Q&#34; | &#34;R&#34; | &#34;S&#34; | &#34;T&#34; | &#34;V&#34; | &#34;W&#34; | &#34;X&#34; | &#34;Y&#34; | &#34;Z&#34; ;</code></pre><h4>4. Example</h4><pre><code>VERSION 7
ENTITY bank 01K3Y0690AJCRFEJ2J49X6ZECY
REFERENCE country_code 01K3Y07Z94DGJWVMB0JG4YSDBV &#34;US&#34;
ATTRIBUTE_OF bank 01K3Y0690AJCRFEJ2J49X6ZECY bank_name &#34;Bank Alpha&#34; 2023-01-01T00:00:00Z 2023-01-01T12:00:00Z
ATTRIBUTE_REF_OF bank 01K3Y0690AJCRFEJ2J49X6ZECY country_code 01K3Y07Z94DGJWVMB0JG4YSDBV 2023-01-01T00:00:00Z 2023-01-01T12:00:00Z
STRUCT_OF bank 01K3Y0690AJCRFEJ2J49X6ZECY bank_address 2023-01-01T00:00:00Z 2023-01-01T12:00:00Z
  country_code 01K3Y07Z94DGJWVMB0JG4YSDBV
  street &#34;123 Main St&#34;
  city &#34;New York&#34;
  zip &#34;10001&#34;
ENTITY account 01K3Y0G45CP4GMGE94BYQ09DFM
ATTRIBUTE_OF account 01K3Y0G45CP4GMGE94BYQ09DFM account_balance 100000.50 2023-01-01T00:00:00Z 2023-01-01T12:00:00Z
ATTRIBUTE_OF account 01K3Y0G45CP4GMGE94BYQ09DFM account_expiration 2025-12-31T23:59:59Z 2023-01-01T00:00:00Z 2023-01-01T12:00:00Z
RELATIONSHIP bank_x_account 01K3Y0NR1Q3KTA9A6J9KYPK6YB 2023-01-01T00:00:00Z 2023-01-01T12:00:00Z
  bank 01K3Y0690AJCRFEJ2J49X6ZECY
  account 01K3Y0G45CP4GMGE94BYQ09DFM</code></pre></div></div></div><!----><!----></div><!----><!----></div><!--]--><!----><!----><!--]--></article><!--]--></div><!----></div></div><!--[--><!--]--></div><!--]--><!--]--></div></div></div><!----><!--]--></div><!----></div></main><!----></div><!----><!--]--></div><!----></div></div></div>
  </body>
</html>
