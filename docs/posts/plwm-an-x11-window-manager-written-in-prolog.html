<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/Seeker04/plwm">Original</a>
    <h1>Plwm â€“ An X11 window manager written in Prolog</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/Seeker04/plwm/blob/main/img/logo.png"><img alt="plwm logo" src="https://github.com/Seeker04/plwm/raw/main/img/logo.png"/></a>
</p>

<p dir="auto"><strong>Table of Contents</strong></p>
<ul dir="auto">
<li><a href="#about">About</a></li>
<li><a href="#feature-highlights">Feature highlights</a></li>
<li><a href="#installation">Installation</a>
<ul dir="auto">
<li><a href="#minimal-environment">Minimal environment</a></li>
<li><a href="#using-a-display-manager">Using a display manager</a></li>
</ul>
</li>
<li><a href="#usage">Usage</a>
<ul dir="auto">
<li><a href="#basics">Basics</a></li>
<li><a href="#default-keybindings">Default keybindings</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#external-bars">External bars</a></li>
<li><a href="#multi-monitor">Multi-monitor</a></li>
<li><a href="#layout-overrides">Layout overrides</a></li>
<li><a href="#rules">Rules</a></li>
<li><a href="#menus">Menus</a></li>
<li><a href="#hooks">Hooks</a></li>
<li><a href="#scriptability">Scriptability</a></li>
</ul>
</li>
<li><a href="#screenshots">Screenshots</a></li>
<li><a href="#project-status">Project status</a></li>
<li><a href="#contribution">Contribution</a></li>
<li><a href="#faq">FAQ</a></li>
<li><a href="#similar-projects">Similar projects</a></li>
</ul>

<p dir="auto">plwm is a highly customizable X11 dynamic tiling window manager written in <a href="https://en.wikipedia.org/wiki/Prolog" rel="nofollow">Prolog</a>.</p>
<p dir="auto">Main goals of the project are: high code &amp; documentation quality; powerful yet easy customization; covering most common needs of tiling WM users; and to stay small, easy to use and hack on.</p>
<p dir="auto">Powered by <a href="https://www.swi-prolog.org/" rel="nofollow">SWI-Prolog</a></p>

<ul dir="auto">
<li>Easy to hack on, great way to introduce yourself to the logic programming paradigm and Prolog</li>
<li>Easy to configure: Prolog is declarative, so even though the config is source code, it feels like a dedicated format</li>
<li>Tiling is dynamic, with various layouts included by default: monocle, vertical/horizontal stacks, grid, left/right/top/bottom/centered master-stack, nrows(N), ncols(N)</li>
<li>Floating windows are also supported (move/resize with mouse)</li>
<li>Support for external bars, e.g. polybar, lemonbar</li>
<li>Nice level of EWMH compilance - <strong>partially still work-in-progress</strong></li>
<li>Performance: plwm is fast and light as a feather when it comes to resource usage (10-15 MB memory)</li>
<li>Dynamic workspace operations: create, rename, reindex or delete workspaces on the fly</li>
<li>Other features: multi-monitor support, inner/outer gaps, menu integrations with dmenu/rofi, rules, hooks, animations, command fifo and more</li>
<li>You can say: &#34;My window manager is a semantic consequence of a set of axioms and implications which my computer is deducing/proving from an infinitely branching proof-tree&#34;</li>
</ul>

<p dir="auto"><strong>Dependencies:</strong></p>
<ul dir="auto">
<li><code>xorg</code> with <code>libx11-dev</code>, <code>libxft-dev</code>, <code>libxrandr-dev</code> (exact package names may vary)</li>
<li><a href="https://www.swi-prolog.org/Download.html" rel="nofollow">SWI-Prolog</a> (downloadable from most distros&#39; package repos)</li>
</ul>
<p dir="auto">On Ubuntu 22.04, easiest way to install them is:</p>
<p dir="auto"><code>$ sudo apt install xorg-dev swi-prolog</code></p>
<p dir="auto">Run:</p>
<p dir="auto"><code>$ make &amp;&amp; sudo make install</code></p>
<p dir="auto">By default, this will install plwm to <code>/usr/local/bin/</code>. The location can be adjusted in the <a href="https://github.com/Seeker04/plwm/blob/main/Makefile">Makefile</a>.</p>

<p dir="auto">Add the following line to the end of your <code>~/.xinitrc</code>:</p>
<p dir="auto"><code>exec plwm</code></p>
<p dir="auto">Then simply use the command <code>startx</code> in tty.</p>
<p dir="auto">For example, to automate this after logging in, put these lines in <code>~/.bash_profile</code> (or to whatever shell startup that matches your setup):</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Start X from login shell on tty1 if not already started
if [ -z &#34;$DISPLAY&#34; -a $(tty) = &#34;/dev/tty1&#34; ]; then
	exec startx
fi"><pre><span><span>#</span> Start X from login shell on tty1 if not already started</span>
<span>if</span> [ <span>-z</span> <span><span>&#34;</span><span>$DISPLAY</span><span>&#34;</span></span> <span>-a</span> <span><span>$(</span>tty<span>)</span></span> <span>=</span> <span><span>&#34;</span>/dev/tty1<span>&#34;</span></span> ]<span>;</span> <span>then</span>
	<span>exec</span> startx
<span>fi</span></pre></div>

<p dir="auto">Please refer to the documentation of your display manager on how to set up sessions for custom WMs.</p>
<p dir="auto"><a href="https://wiki.archlinux.org/title/Display_manager" rel="nofollow">Here</a> you can find good references for this.</p>
<p dir="auto">For most modern display managers, you&#39;ll have to create a <code>/usr/share/xsessions/plwm.desktop</code> file with content like:</p>
<div dir="auto" data-snippet-clipboard-copy-content="[Desktop Entry]
Name=plwm
Comment=This session logs you into plwm
Exec=plwm
Icon=path-to-this-repo/plwm/img/logo.png
Type=Application"><pre><span>[Desktop Entry]</span>
<span>Name</span>=plwm
<span>Comment</span>=This session logs you into plwm
<span>Exec</span>=plwm
<span>Icon</span>=path-to-this-repo/plwm/img/logo.png
<span>Type</span>=Application</pre></div>


<p dir="auto">Command-line options are listed by running <code>plwm -h</code>. The manual plwm(1) also contains them as well as the default keybindings.</p>
<p dir="auto">If you have already used dynamic tiling WMs like dwm, then nothing should be too surprising in this section.</p>
<p dir="auto">All windows are <em>managed</em> by default. This means that whenever a window spawns, it will be added to a list. We call this list the <em>stack</em>. Also, the placement and the size of the windows are automatically calculated and set. This is determined by the currently active <em>layout</em> (stack, horizontal stack, grid, etc.).</p>
<p dir="auto">Some layouts are called &#34;master-stack&#34; layouts (the ones which have &#34;master&#34; in their names, e.g., <code>lmaster</code>). With these layouts the first <code>nmaster</code> number of windows (1 by default) in the stack go to a dedicated area. These are the <em>master windows</em>, which usually have the most space allocated for them. All other windows go to the remaining screen space.</p>
<p dir="auto">For example, if you start plwm with the default config, you have: <code>layout = lmaster</code>, <code>nmaster = 1</code>, <code>mfact = 2/3</code>, which means that the stack&#39;s top window will always be on the left side and occupy 2/3 of the screen width, while the other windows will be in a secondary stack on the right having 1/3 of the screen width.</p>
<p dir="auto">Some base promises of this approach:</p>
<ul dir="auto">
<li>Declarative window management: you only <em>tell</em> your system <em>what</em> window arrangement you want and don&#39;t do the movement/resizing (don&#39;t need to care about the <em>how</em>)</li>
<li>When new windows are spawned or old ones close, the layout will adapt automatically</li>
<li>Playing with the <code>layout</code>, <code>nmaster</code>, <code>mfact</code> trio, one can cook up mostly any kind of arrangement a situation may need, just with a few keystrokes.</li>
<li>100% of the screen space is utilized at all times, 99% if you use gaps :)</li>
</ul>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Keybind</th>
<th>Predicate</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>super + j</td>
<td><code>shift_focus(down)</code></td>
<td>Focus next window in stack</td>
</tr>
<tr>
<td>super + k</td>
<td><code>shift_focus(up)</code></td>
<td>Focus previous window in stack</td>
</tr>
<tr>
<td>super + shift + j</td>
<td><code>move_focused(down)</code></td>
<td>Swap focused window with the next</td>
</tr>
<tr>
<td>super + shift + k</td>
<td><code>move_focused(up)</code></td>
<td>Swap focused window with the preceding</td>
</tr>
<tr>
<td>super + Return</td>
<td><code>focused_to_top</code></td>
<td>Move focused window to top of the stack</td>
</tr>
<tr>
<td>super + q</td>
<td><code>close_focused</code></td>
<td>Close focused window</td>
</tr>
<tr>
<td>super + shift + space</td>
<td><code>toggle_floating</code></td>
<td>Toggle between manual and automatic management of focused window</td>
</tr>
<tr>
<td>super + f</td>
<td><code>toggle_fullscreen</code></td>
<td>Toggle fullscreen of focused window</td>
</tr>
<tr>
<td>super + shift + q</td>
<td><code>quit</code></td>
<td>Quit plwm</td>
</tr>
<tr>
<td>super + i</td>
<td><code>change_nmaster(+1)</code></td>
<td>Increase number of master windows by 1</td>
</tr>
<tr>
<td>super + d</td>
<td><code>change_nmaster(-1)</code></td>
<td>Decrease number of master windows by 1</td>
</tr>
<tr>
<td>super + h</td>
<td><code>change_mfact(-0.05)</code></td>
<td>Remove 5% from the space of master area</td>
</tr>
<tr>
<td>super + l</td>
<td><code>change_mfact(+0.05)</code></td>
<td>Add 5% to the space of master area</td>
</tr>
<tr>
<td>super + shift + f</td>
<td><code>layout:set_layout(floating)</code></td>
<td>Switch to <code>floating</code> layout (all windows unmanaged)</td>
</tr>
<tr>
<td>super + shift + m</td>
<td><code>layout:set_layout(monocle)</code></td>
<td>Switch to <code>monocle</code> layout (all maximized, one visible at a time)</td>
</tr>
<tr>
<td>super + shift + s</td>
<td><code>layout:set_layout(stack)</code></td>
<td>Switch to <code>stack</code> layout</td>
</tr>
<tr>
<td>super + shift + h</td>
<td><code>layout:set_layout(hstack)</code></td>
<td>Switch to <code>hstack</code> (horizontal stack) layout</td>
</tr>
<tr>
<td>super + shift + g</td>
<td><code>layout:set_layout(grid)</code></td>
<td>Switch to <code>grid</code> layout</td>
</tr>
<tr>
<td>super + shift + l</td>
<td><code>layout:set_layout(lmaster)</code></td>
<td>Switch to <code>lmaster</code> (left master) layout</td>
</tr>
<tr>
<td>super + shift + r</td>
<td><code>layout:set_layout(rmaster)</code></td>
<td>Switch to <code>rmaster</code> (right master) layout</td>
</tr>
<tr>
<td>super + shift + t</td>
<td><code>layout:set_layout(tmaster)</code></td>
<td>Switch to <code>tmaster</code> (top master) layout</td>
</tr>
<tr>
<td>super + shift + b</td>
<td><code>layout:set_layout(bmaster)</code></td>
<td>Switch to <code>bmaster</code> (bottom master) layout</td>
</tr>
<tr>
<td>super + shift + c</td>
<td><code>layout:set_layout(cmaster)</code></td>
<td>Switch to <code>cmaster</code> (central master) layout</td>
</tr>
<tr>
<td>super + Tab</td>
<td><code>toggle_workspace</code></td>
<td>Switch between last two workspaces</td>
</tr>
<tr>
<td>super + shift + Tab</td>
<td><code>toggle_hide_empty_workspaces</code></td>
<td>Toggle the <code>hide_empty_workspaces</code> setting</td>
</tr>
<tr>
<td>super + 1</td>
<td><code>switch_workspace(&#39;1&#39;)</code></td>
<td>Go to workspace &#39;1&#39;</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td>super + 9</td>
<td><code>switch_workspace(&#39;9&#39;)</code></td>
<td>Go to workspace &#39;9&#39;</td>
</tr>
<tr>
<td>super + p</td>
<td><code>switch_workspace(prev)</code></td>
<td>Go to previous workspace</td>
</tr>
<tr>
<td>super + n</td>
<td><code>switch_workspace(next)</code></td>
<td>Go to next workspace</td>
</tr>
<tr>
<td>super + shift + 1</td>
<td><code>move_focused_to_workspace(&#39;1&#39;)</code></td>
<td>Move focused window to workspace &#39;1&#39;</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td>super + shift + 9</td>
<td><code>move_focused_to_workspace(&#39;9&#39;)</code></td>
<td>Move focused window to workspace &#39;9&#39;</td>
</tr>
<tr>
<td>super + shift + p</td>
<td><code>move_focused_to_workspace(prev)</code></td>
<td>Move focused window to previous workspace</td>
</tr>
<tr>
<td>super + shift + n</td>
<td><code>move_focused_to_workspace(next)</code></td>
<td>Move focused window to next workspace</td>
</tr>
<tr>
<td>super + ,</td>
<td><code>switch_monitor(prev)</code></td>
<td>Switch to previous monitor</td>
</tr>
<tr>
<td>super + .</td>
<td><code>switch_monitor(next)</code></td>
<td>Switch to next monitor</td>
</tr>
<tr>
<td>super + shift + ,</td>
<td><code>move_focused_to_monitor(prev)</code></td>
<td>Move focused window to previous monitor</td>
</tr>
<tr>
<td>super + shift + .</td>
<td><code>move_focused_to_monitor(next)</code></td>
<td>Move focused window to next monitor</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><strong>Tip:</strong> <code>change_nmaster/1</code> and <code>change_mfact/1</code> can not only take deltas, but also exact values to assign. Omit the the <code>+</code> and <code>-</code> prefixes for this behavior.</p>
<p dir="auto"><strong>Tip:</strong> For both <code>switch_workspace/1</code> and <code>move_focused_to_workspace/1</code>, you can also pass <code>prev_nonempty</code> and <code>next_nonempty</code> for switching/moving to the next <em>non-empty</em> workspace. The former can be nice for cycling through only the relevant workspaces. The latter can also work well when using the <code>hide_empty_workspaces</code> setting. You can also pass workspace <em>indices</em> instead of <em>names</em>. Use numbers starting from 1 <strong>without single quotes</strong> for this (of course, this only makes sense if you use different workspace names than the default &#39;1&#39;...&#39;9&#39;).</p>
<p dir="auto"><strong>Tip:</strong> There are two parametric layouts which have no default keybindings: <code>nrows(N)</code> and <code>ncols(N)</code>. You can use them if you wish to have layouts with fixed number of rows or columns. For example, you can add a line like:</p>
<div dir="auto" data-snippet-clipboard-copy-content="super + shift + &#34;T&#34; -&gt; layout:set_layout(ncols(3))"><pre><span>super</span> + <span>shift</span> + <span>&#34;T&#34;</span> -&gt; <span>layout</span>:set_layout(ncols(<span>3</span>))</pre></div>
<p dir="auto">then you&#39;ll have a triple stack layout where your windows will be evenly spread and sized among the three columns (can be nice with wide monitors).</p>
<p dir="auto"><strong>Tip:</strong> you can bind multiple (consecutive) actions to a single keystroke by writing a comma separated list of predicates enclosed in parentheses, i.e., <code>Keyes -&gt; (Act1, Act2,...)</code></p>

<p dir="auto">Configuration is done by modifying <a href="https://github.com/Seeker04/plwm/blob/main/src/config.pl">config.pl</a> then recompiling with <code>make &amp;&amp; sudo make install</code>.</p>
<p dir="auto">plwm will also attempt reading configuration when it starts from the first file among</p>
<ul dir="auto">
<li><code>$XDG_CONFIG_HOME/plwm/config.pl</code></li>
<li><code>$HOME/.config/plwm/config.pl</code></li>
<li><code>/etc/plwm/config.pl</code></li>
</ul>
<p dir="auto">if any exists, so users don&#39;t have to recompile each time if they don&#39;t wish to. Any values read from the runtime config will override the compiled in settings.</p>
<p dir="auto">A custom path can be specified with the <code>-c</code> flag.</p>
<p dir="auto"><strong>Attention:</strong> the module name in the runtime config must be <code>runtime_config</code>!</p>
<p dir="auto">You can run:</p>
<p dir="auto"><code>$ make mkconfig</code></p>
<p dir="auto">which takes <code>src/config.pl</code> and generates the runtime config from it. Then keep modifying the latter while leaving the former in the default state. Or you can use the source one as a stable config and the runtime one for experimental overrides...</p>
<p dir="auto">While cooking your config, you can use the <code>-C</code> flag to quickly and easily check its validity.</p>
<p dir="auto"><code>config.pl</code> is self-documenting with lots of comments, but here is a quick reference:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Setting</th>
<th>Values <em>(default value)</em></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>default_nmaster</code></td>
<td>0&lt;= integer</td>
<td>Initial number of master windows</td>
</tr>
<tr>
<td><code>default_mfact</code></td>
<td>0.05 .. 0.95</td>
<td>Initial space percentage given to master area</td>
</tr>
<tr>
<td><code>default_layout</code></td>
<td>floating, monocle, stack, hstack, nrows(N), ncols(N), grid, lmaster, rmaster, tmaster, bmaster, cmaster</td>
<td>Layout to use by default</td>
</tr>
<tr>
<td><code>attach_bottom</code></td>
<td>true or false</td>
<td>Put new windows to bottom of the stack instead</td>
</tr>
<tr>
<td><code>border_width</code></td>
<td>0&lt;= integer</td>
<td>Border width in pixels</td>
</tr>
<tr>
<td><code>border_width_focused</code></td>
<td>0&lt;= integer</td>
<td>Border width for focused window in pixels</td>
</tr>
<tr>
<td><code>border_color</code></td>
<td>hexa code or color name</td>
<td>Border color</td>
</tr>
<tr>
<td><code>border_color_focused</code></td>
<td>hexa code or color name</td>
<td>Border color for focused window</td>
</tr>
<tr>
<td><code>snap_threshold</code></td>
<td>0&lt;= integer</td>
<td>Snap to screen border threshold in pixels while dragging windows</td>
</tr>
<tr>
<td><code>outer_gaps</code></td>
<td>0&lt;= integer</td>
<td>Space reserved around screen edge in pixels</td>
</tr>
<tr>
<td><code>inner_gaps</code></td>
<td>0&lt;= integer</td>
<td>Space between adjacent tiled windows in pixels</td>
</tr>
<tr>
<td><code>workspaces</code></td>
<td>list of atoms in UTF-8, at least 1</td>
<td>Workspace names</td>
</tr>
<tr>
<td><code>starting_workspace</code></td>
<td>an element from workspaces</td>
<td>Starting workspace</td>
</tr>
<tr>
<td><code>hide_empty_workspaces</code></td>
<td>true or false</td>
<td>Hide names of inactive and empty workspaces from bars</td>
</tr>
<tr>
<td><code>ws_format</code></td>
<td>string with a ~w <strong>or</strong></td>
<td>Format of empty workspaces on bars (~d = index, ~w = name)</td>
</tr>
<tr>
<td><code>ws_format_occupied</code></td>
<td>string with a ~w <strong>or</strong></td>
<td>Format of occupied workspaces on bars</td>
</tr>
<tr>
<td><code>layout_default_overrides</code></td>
<td>list of (Monitor, Workspace -&gt; Nmaster, Mfact, Layout)</td>
<td>Overrides of the 3 values to specific monitors and/or workspaces (explained <a href="#layout-overrides">here</a>)</td>
</tr>
<tr>
<td><code>bar_class</code></td>
<td>the two strings from bar&#39;s WM_CLASS,</td>
<td>Space will be reserved for matching windows and they cannot be focused, resized, etc.</td>
</tr>
<tr>
<td><code>bar_placement</code></td>
<td>follow_focus, static</td>
<td>Determines placement of external bars (explained <a href="#layout-overrides">here</a>)</td>
</tr>
<tr>
<td><code>fifo_enabled</code></td>
<td>true or false</td>
<td>Whether to spawn a command FIFO</td>
</tr>
<tr>
<td><code>fifo_path</code></td>
<td>string</td>
<td>Path of command FIFO</td>
</tr>
<tr>
<td><code>menucmd</code></td>
<td>list of strings</td>
<td>Command and its arguments to use for menu operations</td>
</tr>
<tr>
<td><code>animation_enabled</code></td>
<td>true or false</td>
<td>Whether to animate window move/resize</td>
</tr>
<tr>
<td><code>animation_time</code></td>
<td>0.0&lt; float</td>
<td>Time of the animation</td>
</tr>
<tr>
<td><code>animation_granularity</code></td>
<td>1&lt;= integer</td>
<td>Number of steps in animation interpolations</td>
</tr>
<tr>
<td><code>modkey</code></td>
<td>shift, lock, ctrl, alt, mod2, mod3, super, mod5</td>
<td>Key you must hold for mouse operations</td>
</tr>
<tr>
<td><code>scroll_up_action</code></td>
<td>callable term or &#39;none&#39;</td>
<td>Action to perform on modkey + scroll up</td>
</tr>
<tr>
<td><code>scroll_down_action</code></td>
<td>callable term or &#39;none&#39;</td>
<td>Action to perform on modkey + scroll down</td>
</tr>
<tr>
<td><code>keymaps</code></td>
<td>list of (Modifiers + Key -&gt; Action)</td>
<td>Modifiers: see values at <code>modkey</code></td>
</tr>
<tr>
<td><code>rules</code></td>
<td>list of (Name, Class, Title -&gt; Monitor, Workspace, Mode)</td>
<td>Auto place and configure matching windows (explained <a href="#rules">here</a>)</td>
</tr>
<tr>
<td><code>hooks</code></td>
<td>list of (Event -&gt; Action)</td>
<td>Run custom logic on certain events (explained <a href="#hooks">here</a>)</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><strong>Notes</strong></p>
<p dir="auto">In <code>keymaps/1</code>, the callback predicates can be arbitrary shell commands using <code>shellcmd/1</code>, even whole commandlines (some examples are included in the <a href="https://github.com/Seeker04/plwm/blob/main/src/config.pl">default config</a>).</p>

<p dir="auto">First, you must specify <code>bar_class/2</code> based on the WM_CLASS properties of your bars, which you can find out using <a href="https://linux.die.net/man/1/xprop" rel="nofollow">xprop(1)</a>. Then you can both:</p>
<ul dir="auto">
<li>manually start/close bars while plwm is already running</li>
<li>automatically start bars using <code>hooks/1</code> and its <code>start</code> event in the config</li>
</ul>
<p dir="auto"><code>bar_placement/1</code> can take two values:</p>
<ul dir="auto">
<li><code>follow_focus</code>: space will be reserved for bars on all monitors and bars will always be moved to the focused monitor (this is the default behavior)</li>
<li><code>static</code>: space will only be reserved for bars in their respective monitors they occupy and no bar will be moved automatically. Placing bars to desired monitors is the responsibility of the user/external bar</li>
</ul>
<p dir="auto">Some bars (e.g., polybar) already support different labels for empty and occupied workspaces. The advantages of plwm&#39;s built-in <code>ws_format/1</code> and <code>ws_format_occupied/1</code> are:</p>
<ul dir="auto">
<li>it works on more primitive bars as well</li>
<li>it respects multi-monitor scenarios, i.e., it only considers the set of workspaces that belong to the active monitor - this is relevant only with <code>bar_placement(follow_focus)</code></li>
</ul>
<p dir="auto">You can toggle your external bars with the following hacks (again, some bars may have their own IPC mechanizm for this, but these are bar agnostic solutions):</p>
<div dir="auto" data-snippet-clipboard-copy-content="alt + b -&gt; shellcmd(&#34;pkill polybar || polybar&#34;)"><pre><span>alt</span> + <span>b</span> -&gt; shellcmd(<span>&#34;pkill polybar || polybar&#34;</span>)</pre></div>
<p dir="auto">or if you use multiple bars (a top and a bottom polybar called &#34;top&#34; and &#34;bot&#34;, for example), you can:</p>
<div dir="auto" data-snippet-clipboard-copy-content="alt + b -&gt; shellcmd(&#34;pkill polybar || (polybar top &amp; polybar bot)&#34;)"><pre><span>alt</span> + <span>b</span> -&gt; shellcmd(<span>&#34;pkill polybar || (polybar top &amp; polybar bot)&#34;</span>)</pre></div>
<p dir="auto">or if you want the ability to separately toggle the bars, use something like:</p>
<div dir="auto" data-snippet-clipboard-copy-content="alt + b         -&gt; shellcmd(&#34;pkill -fx &#39;polybar top&#39; || polybar top&#34;),
alt + shift + b -&gt; shellcmd(&#34;pkill -fx &#39;polybar bot&#39; || polybar bot&#34;)"><pre><span>alt</span> + <span>b</span>         -&gt; shellcmd(<span>&#34;pkill -fx &#39;polybar top&#39; || polybar top&#34;</span>),
<span>alt</span> + <span>shift</span> + <span>b</span> -&gt; shellcmd(<span>&#34;pkill -fx &#39;polybar bot&#39; || polybar bot&#34;</span>)</pre></div>
<p dir="auto"><strong>Note:</strong> if you are using polybar, <strong>do not enable</strong> its <code>override-redirect = true</code> setting (it can even crash plwm in some cases)! Reasoning: plwm itself handles all bars (anything that matches <code>bar_class</code>, not just polybar) the intended way: bars cannot be focused, grabbed, moved or resized; tiling windows will never cover them (but you can drag floating windows above them); fullscreen windows will always cover them.</p>

<p dir="auto">The multi-monitor concept in plwm is similar to dwm&#39;s: the set of workspaces is cloned for each monitor. So if you&#39;re using the default config with two monitors, then you&#39;ll have two times nine unique workspaces: <code>M1/1</code>, <code>M1/2</code>,..., <code>M2/9</code>.</p>
<p dir="auto">The <code>switch_monitor/1</code> and <code>move_focused_to_monitor/1</code> predicates can take many different values:</p>
<ul dir="auto">
<li><code>prev</code>/<code>next</code> will go to the previous/next monitor (these will wrap) - only these have keymaps by default</li>
<li><code>prev_nonempty</code>/<code>next_nonempty</code> will go to the previous/next <em>non-empty</em> monitor (a monitor is considered empty if its currently displayed workspace is empty). If you use a lot of monitors, say six, it could be convenient to cycle through only the relevant, i.e., non-empty ones (these will wrap)</li>
<li><code>left</code>/<code>right</code>/<code>up</code>/<code>down</code> will go to the specified direction relative to the active monitor calculated from x/y screen coordinates (these won&#39;t wrap)</li>
<li>An output name, shown by <code>xrandr(1)</code>, e.g. &#34;eDP-1&#34; or &#34;HDMI-1&#34;. If you have a consistent <a href="https://man.archlinux.org/man/xrandr.1" rel="nofollow">xrandr(1)</a> setup, then you can refer them to move to arbitrary monitors</li>
<li>Index of managed monitor</li>
</ul>
<p dir="auto">You can also switch monitors by moving with the mouse between them. Likewise, windows can be dragged and dropped between monitors using the mouse.</p>

<p dir="auto">The <code>default_nmaster</code>, <code>default_mfact</code> and <code>default_layout</code> settings can each be overridden for specific monitors and/or workspaces using <code>layout_default_overrides/5</code>.</p>
<p dir="auto">Underscore at the monitor column means &#34;all monitors&#34; for that workspace, while underscore at the workspace column means &#34;all workspaces&#34; on that monitor.</p>
<p dir="auto">Underscores at the nmaster, mfact and layout columns mean not to alter the default settings for those.</p>
<p dir="auto"><strong>Note:</strong> a later override will overrule values of previous ones if there is an overlap.</p>
<p dir="auto">Some examples:</p>
<div dir="auto" data-snippet-clipboard-copy-content="layout_default_overrides([
%  monitor      workspace     nmaster  mfact   layout
  ( _        ,  &#39;2&#39;       -&gt;  _     ,  _    ,  grid    ),
  ( &#34;eDP-1&#34;  ,  _         -&gt;  2     ,  1/2  ,  tmaster ),
  ( &#34;HDMI-1&#34; ,  &#39;3&#39;       -&gt;  _     ,  0.90 ,  _       )
])."><pre><span>layout_default_overrides</span>([
%  <span>monitor</span>      <span>workspace</span>     <span>nmaster</span>  <span>mfact</span>   <span>layout</span>
  ( <span>_</span>        ,  <span>&#39;2&#39;</span>       -&gt;  <span>_</span>     ,  <span>_</span>    ,  <span>grid</span>    ),
  ( <span>&#34;eDP-1&#34;</span>  ,  <span>_</span>         -&gt;  <span>2</span>     ,  <span>1</span>/2  ,  <span>tmaster</span> ),
  ( <span>&#34;HDMI-1&#34;</span> ,  <span>&#39;3&#39;</span>       -&gt;  <span>_</span>     ,  <span>0</span>.<span>90</span> ,  <span>_</span>       )
])<span>.</span></pre></div>

<p dir="auto">You can apply custom rules to newly spawned windows that match one or more criteria. You can match the window&#39;s name, class and title. These are substring matches by default, but you can wrap them in <code>exact()</code> to force an exact match, or can write any of them as <code>_</code> to ignore those particular checks.</p>
<p dir="auto">The <code>monitor</code> column takes an output name, or you can leave it as <code>_</code>, which implies opening on the currently active monitor.</p>
<p dir="auto">The <code>workspace</code> column takes a workspace name (use single quotes), an index (from 1) or you can leave it as <code>_</code>, which implies opening on the currently active workspace.</p>
<p dir="auto">The <code>mode</code> column can take the following values:</p>
<ul dir="auto">
<li><code>managed</code>: Window will be managed (<code>_</code> also implies this)</li>
<li><code>floating</code>: Window will be unmanaged, i.e., floating</li>
<li><code>[X, Y, W, H]</code>: Same as <code>floating</code>, but also apply this geometry:
<ul dir="auto">
<li><code>X</code> can be <code>left</code>, <code>right</code>, <code>center</code>, an integer coordinate, a percent (0.0..1.0) of x axis</li>
<li><code>Y</code> can be <code>top</code>, <code>bottom</code>, <code>center</code>, an integer coordinate, a percent (0.0..1.0) of y axis</li>
<li><code>W</code> can be an integer size or a percent (0.0..1.0) of screen width</li>
<li><code>H</code> can be an integer size or a percent (0.0..1.0) of screen height</li>
<li>also, any of them can be left as <code>_</code> to keep the value the window spawned with</li>
</ul>
</li>
<li><code>fullscreen</code>: Window will open in fullscreen mode</li>
</ul>
<p dir="auto"><strong>Note:</strong> if a window matches multiple rules, the first will be applied.</p>
<p dir="auto">Some examples:</p>
<div dir="auto" data-snippet-clipboard-copy-content="rules([
%  name      class     title                 monitor     wspace    mode
  (_      ,  _      ,  exact(&#34;gcolor2&#34;)  -&gt;  _        ,  _      ,  [center, center, 1/3, 1/3]),
  (_      ,  _      ,  &#34;Firefox&#34;         -&gt;  &#34;eDP-1&#34;  ,  &#39;www&#39;  ,  fullscreen                ),
  (&#34;Bar&#34;  ,  &#34;Baz&#34;  ,  _                 -&gt;  &#34;HDMI-1&#34; ,  &#39;1&#39;    ,  [700, 250, _, _]          )
])"><pre><span>rules</span>([
%  <span>name</span>      <span>class</span>     <span>title</span>                 <span>monitor</span>     <span>wspace</span>    <span>mode</span>
  (<span>_</span>      ,  <span>_</span>      ,  exact(<span>&#34;gcolor2&#34;</span>)  -&gt;  <span>_</span>        ,  <span>_</span>      ,  [<span>center</span>, <span>center</span>, <span>1</span>/3, <span>1</span>/3]),
  (<span>_</span>      ,  <span>_</span>      ,  <span>&#34;Firefox&#34;</span>         -&gt;  <span>&#34;eDP-1&#34;</span>  ,  <span>&#39;www&#39;</span>  ,  <span>fullscreen</span>                ),
  (<span>&#34;Bar&#34;</span>  ,  <span>&#34;Baz&#34;</span>  ,  <span>_</span>                 -&gt;  <span>&#34;HDMI-1&#34;</span> ,  <span>&#39;1&#39;</span>    ,  [<span>700</span>, <span>250</span>, <span>_</span>, <span>_</span>]          )
])</pre></div>
<p dir="auto">You can find out the <code>name</code>, <code>class</code> and <code>title</code> values of windows using <a href="https://linux.die.net/man/1/xprop" rel="nofollow">xprop(1)</a>:</p>
<p dir="auto">WM_CLASS(STRING) = name , class</p>
<p dir="auto"><strong>Tip:</strong> if you want to apply a rule to a terminal application, then you&#39;ll need to use a terminal emulator that allows you to predefine the window class or title (most of them do). For example, alacritty has the <code>--class</code> and st has the <code>-c</code> flag for this:</p>
<div dir="auto" data-snippet-clipboard-copy-content="shellcmd(&#34;alacritty --class cmus -e cmus&#34;)"><pre><span>shellcmd</span>(<span>&#34;alacritty --class cmus -e cmus&#34;</span>)</pre></div>
<p dir="auto">then you can match it with with a rule like:</p>
<div dir="auto" data-snippet-clipboard-copy-content="(&#34;cmus&#34;, &#34;cmus&#34;, _ -&gt; &#34;eDP-1&#34;, &#39;9&#39;, managed)"><pre>(&#34;cmus&#34;, &#34;cmus&#34;, _ -&gt; &#34;eDP-1&#34;, &#39;9&#39;, managed)</pre></div>

<p dir="auto">The <code>menu</code> module also has default keybindings:</p>
<p dir="auto"><strong>Navigation/window placement</strong></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Keybind</th>
<th>Predicate</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>alt + w</td>
<td><code>menu:goto_window</code></td>
<td>List windows from all monitors/workplaces, go to monitor/workspace of selected, then raise and focus the window</td>
</tr>
<tr>
<td>alt + shift + w</td>
<td><code>menu:goto_workspace</code></td>
<td>List monitors/workspaces, except current, then go to selected</td>
</tr>
<tr>
<td>alt + p</td>
<td><code>menu:pull_from</code></td>
<td>List windows from all monitors/workspaces, except current, then pull selected ones to the active monitor/workspace and focus it</td>
</tr>
<tr>
<td>alt + shift + p</td>
<td><code>menu:push_to</code></td>
<td>List monitors/workspaces, except current, then push the focused window to the selected</td>
</tr>
<tr>
<td>alt + q</td>
<td><code>menu:close_windows</code></td>
<td>Close selected windows</td>
</tr>
<tr>
<td>alt + shift + q</td>
<td><code>menu:keep_windows</code></td>
<td>Close all windows other than the selected</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><strong>Dynamic workspace operations</strong></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Keybind</th>
<th>Predicate</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>alt + c</td>
<td><code>menu:create_workspace</code></td>
<td>Prompt for a name and append it to the list of workspaces</td>
</tr>
<tr>
<td>alt + r</td>
<td><code>menu:rename_workspace</code></td>
<td>Prompt for a name and rename the active workspace to it</td>
</tr>
<tr>
<td>alt + i</td>
<td><code>menu:reindex_workspace</code></td>
<td>List possible workspace indices and move the active one to the selected index</td>
</tr>
<tr>
<td>alt + d</td>
<td><code>menu:delete_workspaces</code></td>
<td>List workspaces and delete the selected ones (its windows, if any, will be moved to the next workspace) - <strong>Note:</strong> deleting is not allowed if only one workspace is left</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto"><strong>Extras</strong></p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Keybind</th>
<th>Predicate</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>alt + shift + k</td>
<td><code>menu:list_keymaps</code></td>
<td>List all defined keymaps, their mapped actions, descriptions of said actions and execute the selected. Useful for early discoverability or running forgotten or rarely used mappings</td>
</tr>
<tr>
<td>alt + shift + c</td>
<td><code>menu:list_cmds</code></td>
<td>List all available commands (i.e., predicates intended to be called by the user) and their descriptions, then execute the selected. Again, adds discoverability for new users. Can also be useful to run rare commands which have no mappings defined or even custom logic hacked into plwm (you&#39;ll need to add your predicates to <code>menu:list_cmds/0</code> and <code>menu:cmd_desc/2</code>)</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">These predicates need <code>menucmd/1</code> set in the config to a program like <a href="https://tools.suckless.org/dmenu/" rel="nofollow">dmenu</a> or <a href="https://davatorium.github.io/rofi/" rel="nofollow">rofi</a>. For example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="menucmd([&#34;dmenu&#34;, &#34;-i&#34;, &#34;-l&#34;, &#34;20&#34;, &#34;-p&#34;])."><pre><span>menucmd</span>([<span>&#34;dmenu&#34;</span>, <span>&#34;-i&#34;</span>, <span>&#34;-l&#34;</span>, <span>&#34;20&#34;</span>, <span>&#34;-p&#34;</span>])<span>.</span></pre></div>
<p dir="auto">or</p>
<div dir="auto" data-snippet-clipboard-copy-content="menucmd([&#34;rofi&#34;, &#34;-dmenu&#34;])."><pre><span>menucmd</span>([<span>&#34;rofi&#34;</span>, <span>&#34;-dmenu&#34;</span>])<span>.</span></pre></div>
<p dir="auto"><strong>Note:</strong> A prompt name will be written as last argument for <code>menucmd/1</code>, so if you are using dmenu, you should add <code>-p</code> as final argument.</p>
<p dir="auto"><strong>Note:</strong> <code>pull_from</code>, <code>delete_workspaces</code>, <code>close_windows</code> and <code>keep_windows</code> can operate on multiple selections. Use Ctrl+Enter in dmenu, or Shift+Enter with <code>-dmenu -multi-select</code> in rofi.</p>

<p dir="auto">You can run custom logic on certain events with the <code>hooks/1</code> configuration. If you wish to execute multiple predicates, list them inside a parantheses, separated by commas.</p>
<p dir="auto">An example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="hooks([
  start -&gt; (
    shellcmd(&#34;xrandr --output HDMI-1 --left-of eDP-1&#34;), % setup 2nd monitor
    shellcmd(&#34;picom&#34;),                                  % compositor
    shellcmd(&#34;polybar&#34;),                                % status bar
    switch_monitor(&#34;HDMI-1&#34;)
  ),

  switch_workspace_post -&gt; (   % display different wallpaper on each workspace
    active_mon_ws(_, Ws),
    (Ws = &#39;1&#39; -&gt; shellcmd(&#34;feh --bg-fill ~/pic/bg/lake.jpg&#34;)
    ;Ws = &#39;2&#39; -&gt; shellcmd(&#34;feh --bg-fill ~/pic/bg/forest.jpg&#34;)
    ;Ws = &#39;3&#39; -&gt; shellcmd(&#34;feh --bg-fill ~/pic/bg/mountain.jpg&#34;)
    ;true)
  ),
])."><pre><span>hooks</span>([
  <span>start</span> -&gt; (
    shellcmd(<span>&#34;xrandr --output HDMI-1 --left-of eDP-1&#34;</span>), % <span>setup</span> <span>2</span>nd <span>monitor</span>
    shellcmd(<span>&#34;picom&#34;</span>),                                  % <span>compositor</span>
    shellcmd(<span>&#34;polybar&#34;</span>),                                % <span>status</span> <span>bar</span>
    switch_monitor(<span>&#34;HDMI-1&#34;</span>)
  ),

  <span>switch_workspace_post</span> -&gt; (   % <span>display</span> <span>different</span> <span>wallpaper</span> <span>on</span> <span>each</span> <span>workspace</span>
    active_mon_ws(<span>_</span>, <span>Ws</span>),
    (<span>Ws</span> = <span>&#39;1&#39;</span> -&gt; shellcmd(<span>&#34;feh --bg-fill ~/pic/bg/lake.jpg&#34;</span>)
    ;<span>Ws</span> = <span>&#39;2&#39;</span> -&gt; shellcmd(<span>&#34;feh --bg-fill ~/pic/bg/forest.jpg&#34;</span>)
    ;<span>Ws</span> = <span>&#39;3&#39;</span> -&gt; shellcmd(<span>&#34;feh --bg-fill ~/pic/bg/mountain.jpg&#34;</span>)
    ;<span>true</span>)
  ),
])<span>.</span></pre></div>
<p dir="auto">Supported events:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Event</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>start</code></td>
<td>after all initialization, but before main X event loop</td>
</tr>
<tr>
<td><code>quit</code></td>
<td>before quitting, also before calling <code>XCloseDisplay(3)</code></td>
</tr>
<tr>
<td><code>switch_workspace_pre</code></td>
<td>before switching workspace</td>
</tr>
<tr>
<td><code>switch_workspace_post</code></td>
<td>after switching workspace</td>
</tr>
<tr>
<td><code>switch_monitor_pre</code></td>
<td>before switching monitor</td>
</tr>
<tr>
<td><code>switch_monitor_post</code></td>
<td>after switching monitor</td>
</tr>
<tr>
<td><code>window_create_pre</code></td>
<td>before a window is mapped (won&#39;t run for bars)</td>
</tr>
<tr>
<td><code>window_create_post</code></td>
<td>after a window is mapped (won&#39;t run for bars)</td>
</tr>
<tr>
<td><code>window_destroy_pre</code></td>
<td>before a window is unmapped (won&#39;t run for bars)</td>
</tr>
<tr>
<td><code>window_destroy_post</code></td>
<td>after a window is unmapped (won&#39;t run for bars)</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">If you would like to hook to some other event, feel free to submit a <a href="https://github.com/Seeker04/plwm/issues/new">GitHub issue</a> for it.</p>

<p dir="auto">If <code>fifo_enabled/1</code> and <code>fifo_path/1</code> are both set (disabled by default), then a named pipe will be created (with <a href="https://www.man7.org/linux/man-pages/man1/mkfifo.1.html" rel="nofollow">mkfifo(1)</a>).</p>
<p dir="auto">The user can execute any term or list of terms by writing their code to this pipe.</p>
<p dir="auto">For most usecases, predicates listed by <code>menu:list_cmds/0</code> are the ones users would be interested in calling, but note that this mechanizm can execute <em>arbitrary</em> terms. Even internal ones, or custom ones the user hacks together. There is no limit.</p>
<p dir="auto">In case of an issue (e.g. syntax error, predicate does not exist,...), the error will be written to the plwm log.</p>
<p dir="auto">Examples:</p>
<p dir="auto">Switch to the next workspace.</p>
<div dir="auto" data-snippet-clipboard-copy-content="echo &#34;switch_workspace(next).&#34; &gt; /tmp/plwm_fifo"><pre><span>echo</span> <span><span>&#34;</span>switch_workspace(next).<span>&#34;</span></span> <span>&gt;</span> /tmp/plwm_fifo</pre></div>
<p dir="auto">Create a new workspace &#39;temp&#39;, switch to it and set its layout.</p>
<div dir="auto" data-snippet-clipboard-copy-content="echo &#34;create_workspace(temp),
      switch_workspace(temp),
      layout:set_layout(grid).&#34; &gt; /tmp/plwm_fifo"><pre><span>echo</span> <span><span>&#34;</span>create_workspace(temp),</span>
<span>      switch_workspace(temp),</span>
<span>      layout:set_layout(grid).<span>&#34;</span></span> <span>&gt;</span> /tmp/plwm_fifo</pre></div>
<p dir="auto">Use conjunction (comma) if you need to share variables between terms.</p>
<div dir="auto" data-snippet-clipboard-copy-content="echo &#34;Ws = temp. create_workspace(Ws). switch_workspace(Ws).&#34; &gt; /tmp/plwm_fifo # doesn&#39;t work
echo &#34;Ws = temp, create_workspace(Ws), switch_workspace(Ws).&#34; &gt; /tmp/plwm_fifo # works"><pre><span>echo</span> <span><span>&#34;</span>Ws = temp. create_workspace(Ws). switch_workspace(Ws).<span>&#34;</span></span> <span>&gt;</span> /tmp/plwm_fifo <span><span>#</span> doesn&#39;t work</span>
<span>echo</span> <span><span>&#34;</span>Ws = temp, create_workspace(Ws), switch_workspace(Ws).<span>&#34;</span></span> <span>&gt;</span> /tmp/plwm_fifo <span><span>#</span> works</span></pre></div>
<p dir="auto">You can write reusable script files like:</p>
<div dir="auto" data-snippet-clipboard-copy-content="% switch to other monitor
switch_monitor(&#34;HDMI-1&#34;),

% create some workspaces
Workspaces = [a, b, c],
forall(member(Ws, Workspaces), (
    create_workspace(Ws)
))."><pre><span>% switch to other monitor</span>
<span>switch_monitor</span>(<span>&#34;HDMI-1&#34;</span>),

% <span>create</span> <span>some</span> <span>workspaces</span>
<span>Workspaces</span> = [<span>a</span>, <span>b</span>, <span>c</span>],
forall(member(<span>Ws</span>, <span>Workspaces</span>), (
    create_workspace(<span>Ws</span>)
))<span>.</span></pre></div>
<p dir="auto">and simply execute them with:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cat myscript.pl &gt; /tmp/plwm_fifo"><pre>cat myscript.pl <span>&gt;</span> /tmp/plwm_fifo</pre></div>
<p dir="auto">Create workspaces &#39;1&#39;..&#39;9&#39;.</p>
<div dir="auto" data-snippet-clipboard-copy-content="# this may yield inconsistent results (terms missing or in wrong order)
for i in {1..9}; do
    echo &#34;create_workspace($i).&#34; &gt; /tmp/plwm_fifo
done

# instead send the whole input at once like before
for i in {1..9}; do
    echo &#34;create_workspace($i).&#34;
done &gt; /tmp/plwm_fifo"><pre><span><span>#</span> this may yield inconsistent results (terms missing or in wrong order)</span>
<span>for</span> <span>i</span> <span>in</span> {1..9}<span>;</span> <span>do</span>
    <span>echo</span> <span><span>&#34;</span>create_workspace(<span>$i</span>).<span>&#34;</span></span> <span>&gt;</span> /tmp/plwm_fifo
<span>done</span>

<span><span>#</span> instead send the whole input at once like before</span>
<span>for</span> <span>i</span> <span>in</span> {1..9}<span>;</span> <span>do</span>
    <span>echo</span> <span><span>&#34;</span>create_workspace(<span>$i</span>).<span>&#34;</span></span>
<span>done</span> <span>&gt;</span> /tmp/plwm_fifo</pre></div>

<markdown-accessiblity-table><table>
<thead>
<tr>
<th><a target="_blank" rel="noopener noreferrer" href="https://github.com/Seeker04/plwm/blob/main/img/screenshot1.png"><img src="https://github.com/Seeker04/plwm/raw/main/img/screenshot1.png" alt="Screenshot 1"/></a></th>
</tr>
</thead>
<tbody>
<tr>
<td><em>default appearance</em></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th><a target="_blank" rel="noopener noreferrer" href="https://github.com/Seeker04/plwm/blob/main/img/screenshot2.png"><img src="https://github.com/Seeker04/plwm/raw/main/img/screenshot2.png" alt="Screenshot 2"/></a></th>
</tr>
</thead>
<tbody>
<tr>
<td><em>lmaster / nmaster=1 / mfact=2/3 / 1px borders / 18px inner &amp; outer gaps / goto window menu / polybar / picom / gruvbox colors</em></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th><a target="_blank" rel="noopener noreferrer" href="https://github.com/Seeker04/plwm/blob/main/img/screenshot3.png"><img src="https://github.com/Seeker04/plwm/raw/main/img/screenshot3.png" alt="Screenshot 3"/></a></th>
</tr>
</thead>
<tbody>
<tr>
<td><em>bmaster / nmaster=1 / mfact=2/3 / 3px focused border / 26px inner &amp; outer gaps / polybar / picom /w rounded corners &amp; shadows</em></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th><details open="">
  <summary>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z"></path>
</svg>
    <span aria-label="Video description layouts.mp4">layouts.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/38542080/444793540-e99ada44-6aa8-48c6-80bb-4e135d6ead79.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDgyMzM4MTQsIm5iZiI6MTc0ODIzMzUxNCwicGF0aCI6Ii8zODU0MjA4MC80NDQ3OTM1NDAtZTk5YWRhNDQtNmFhOC00OGM2LTgwYmItNGUxMzVkNmVhZDc5Lm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA1MjYlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNTI2VDA0MjUxNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTc3YjkxZWJjNDY3ZGU1YzdkOGYzYjk2NTJkMTU5NjZhMzhmMDk2ZTVhZWNiMmM3ZWYxNzc2MjU2MjBkNjAzYWMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.94yxnoou6aY-lboOV_QUEPZJJxI71Xt-5jj--7GNreo" data-canonical-src="https://private-user-images.githubusercontent.com/38542080/444793540-e99ada44-6aa8-48c6-80bb-4e135d6ead79.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NDgyMzM4MTQsIm5iZiI6MTc0ODIzMzUxNCwicGF0aCI6Ii8zODU0MjA4MC80NDQ3OTM1NDAtZTk5YWRhNDQtNmFhOC00OGM2LTgwYmItNGUxMzVkNmVhZDc5Lm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA1MjYlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNTI2VDA0MjUxNFomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTc3YjkxZWJjNDY3ZGU1YzdkOGYzYjk2NTJkMTU5NjZhMzhmMDk2ZTVhZWNiMmM3ZWYxNzc2MjU2MjBkNjAzYWMmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0.94yxnoou6aY-lboOV_QUEPZJJxI71Xt-5jj--7GNreo" controls="controls" muted="muted">

  </video>
</details>
</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>layout demonstration with animations enabled / time 0.2 / granularity 30</em></td>
</tr>
</tbody>
</table></markdown-accessiblity-table>

<p dir="auto"><strong>!!! Disclaimer:</strong> plwm is still in an experimental state. First stable release will be v1.0.0. While crashes or other major bugs don&#39;t really occur, it&#39;s good to keep this in mind <strong>!!!</strong></p>
<p dir="auto">Also, this means that breaking changes (e.g. renaming of settings) are to be expected before reaching v1.0.0. We plan on switching to <a href="https://semver.org/" rel="nofollow">semantic versioning</a> from that point onwards.</p>
<p dir="auto">For known problems, see <a href="https://github.com/Seeker04/plwm/issues?q=is%3Aopen+is%3Aissue+label%3Abug">the Issues with bug labels</a>.</p>

<p dir="auto">First and foremost, if you find any bugs, please create a GitHub issue, preferably, with all details you can provide. (First, please check if it&#39;s not reported already).</p>
<p dir="auto">If you have a feature request, please do the same.</p>
<p dir="auto">Any code contribution is also welcome. Especially if it solves some known issue. For brand new ideas, I recommend creating an issue first, so we can discuss it.</p>
<p dir="auto"><strong>Note:</strong> a base criteria for merging is successful validation done by <a href="https://github.com/Seeker04/plwm/blob/main/tests/check_all.sh">tests/check_all.sh</a>. This includes unit tests and some other checks and is done automatically in the CI. If you wish to validate locally, you can do so with the Docker image:</p>
<div dir="auto" data-snippet-clipboard-copy-content="DOCKER_BUILDKIT=1 sudo docker build -t plwm:latest .
sudo docker run plwm:latest"><pre>DOCKER_BUILDKIT=1 sudo docker build -t plwm:latest <span>.</span>
sudo docker run plwm:latest</pre></div>

<p dir="auto"><strong>Why workplaces instead of tags?</strong></p>
<p dir="auto">Tags is a cool generalization of workspaces, but I never actually utilized them in dwm for more than simple workspace usage. That&#39;s why I went with the simpler approach.</p>
<p dir="auto"><strong>What about performance? Isn&#39;t Prolog slow?</strong></p>
<p dir="auto">Compared to what? C? Yes. Does it matter? No. I&#39;ve been using dwm for 6 years, so I have a good idea of its speed, and when I switch to plwm, it feels <strong>exactly</strong> as snappy... on my 10 years old laptop. So I don&#39;t think, anyone will see a notable difference.</p>
<p dir="auto"><strong>Isn&#39;t SWI-Prolog non-ISO compliant?</strong></p>
<p dir="auto">Interoperability between different Prolog implementations was never really on the table. Their C FFIs are also different, so <a href="https://github.com/Seeker04/plwm/blob/main/plx.c">plx.c</a> would also need to be rewritten for each kind of Prolog. SWI-Prolog is arguably one of the most popular free and community-driven Prolog implementations, is easily accessible, has good documentation, some LSP support and a lot of libraries. Though, to be honest, plwm&#39;s code mostly sticks to fundamentals, so if someone really wanted to, it shouldn&#39;t be too hard to port this to another Prolog system...</p>
<p dir="auto"><strong>Why not Wayland?</strong></p>
<p dir="auto">A Wayland port some day is not out of the realm of possibilities...</p>
<p dir="auto"><strong>Some windows display all grey without contents!</strong></p>
<p dir="auto">It is a known issue for Java applications which use the XToolkit/XAWT backend (e.g., UMLet). There is an excerpt from dwm&#39;s manual about it in plwm(1). Adding</p>
<div dir="auto" data-snippet-clipboard-copy-content="export _JAVA_AWT_WM_NONREPARENTING=1"><pre><span>export</span> _JAVA_AWT_WM_NONREPARENTING=1</pre></div>
<p dir="auto">to your <code>.xinitrc</code> should solve this problem.</p>
<p dir="auto"><strong>plwm doesn&#39;t start! What&#39;s going on?</strong></p>
<p dir="auto">Most likely your configuration is faulty. Run <code>plwm --check</code>, then you should see the problem.</p>
<p dir="auto">If you don&#39;t see a config error, then please report it as an issue. Preferably by attaching any message plwm dumps to stderr or to its logfile with <code>-l</code>.</p>
<p dir="auto"><strong>How do I debug this?</strong></p>
<p dir="auto">You can use the above mentioned <code>-l</code> flag with <code>writeln/1</code> and <code>format/2</code> calls to dump messages.</p>
<p dir="auto">You can also use the <code>utils:dumpstack/0</code> predicate to manually dump the stack at any given point.</p>
<p dir="auto">For more sophisticated debugging, replace the <code>exec plwm</code> line in your <code>.xinitrc</code> with an <code>exec &lt;terminal-you-use&gt;</code>, then after starting X, run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="swipl -p foreign=/usr/local/lib src/plwm.pl"><pre>swipl -p foreign=/usr/local/lib src/plwm.pl</pre></div>
<p dir="auto">From the toplevel you can use <code>trace/0</code> or <code>debug/0</code> to start debugging and then <code>main/0</code> to start stepping through plwm. Or use <code>spy/1</code> for placing breakpoints... You can learn more about the interactive debugger starting from <a href="https://www.swi-prolog.org/pldoc/man?section=debugoverview" rel="nofollow">here</a>.</p>
<p dir="auto">If you wish to peek into the X11 bindings in plx.c, then you can add <code>-g</code> to <code>CFLAGS</code> in the Makefile, recompile, then use <code>attach &lt;PID&gt;</code> in <code>gdb</code> as root.</p>
<p dir="auto"><strong>Something is missing...</strong></p>
<p dir="auto">plwm is minimal in the sense that it doesn&#39;t try to solve problems outside of a window manager&#39;s domain, especially if they are easily served by other programs (see <a href="https://en.wikipedia.org/wiki/Unix_philosophy" rel="nofollow">here</a>):</p>
<ul dir="auto">
<li>Don&#39;t want a status bar? You&#39;re set. Want one (or more)? Here are a few: <a href="https://polybar.github.io/" rel="nofollow">polybar</a>, <a href="https://github.com/LemonBoy/bar">lemonbar</a>, <a href="https://codeberg.org/xmobar/xmobar" rel="nofollow">xmobar</a></li>
<li>Want transparent windows or other effects? Use a compositor like <a href="https://wiki.archlinux.org/title/Picom" rel="nofollow">picom</a></li>
<li>Want tabbed windows? Use <a href="https://tools.suckless.org/tabbed/" rel="nofollow">tabbed</a></li>
<li>Program launcher? <a href="https://tools.suckless.org/dmenu/" rel="nofollow">dmenu</a> or <a href="https://davatorium.github.io/rofi/" rel="nofollow">rofi</a> will get you covered</li>
<li>Auto hide cursor? Try <a href="https://wiki.archlinux.org/title/Unclutter" rel="nofollow">unclutter</a></li>
<li>Wallpaper? Many image viewers can set it, <a href="https://wiki.archlinux.org/title/Feh" rel="nofollow">feh</a> for example</li>
<li>Screen locker? Check out <a href="https://tools.suckless.org/slock/" rel="nofollow">slock</a></li>
<li>plwm offers some basic rule based automation, but if you want more scriptability, try <a href="https://man.archlinux.org/man/xdotool.1.en" rel="nofollow">xdotool</a> and <a href="https://linux.die.net/man/1/devilspie" rel="nofollow">devilspie</a></li>
</ul>

<ul dir="auto">
<li><a href="https://github.com/mackstann/tinywm">tinywm</a>: plwm&#39;s very first working version was basically tinywm, but in Prolog.</li>
<li><a href="https://dwm.suckless.org/" rel="nofollow">dwm</a>: Later, features and even implementation tricks were taken from dwm.</li>
</ul>
<p dir="auto">Thanks to both of these projects for inspiration and code to learn from!</p>
<p dir="auto">Some other similar projects:</p>
<ul dir="auto">
<li><a href="https://xmonad.org/" rel="nofollow">xmonad</a></li>
<li><a href="https://i3wm.org/" rel="nofollow">i3</a></li>
<li><a href="https://github.com/baskerville/bspwm">bspwm</a></li>
<li><a href="https://awesomewm.org/" rel="nofollow">awesomewm</a></li>
</ul>
<p dir="auto">and here&#39;s a <a href="https://wiki.archlinux.org/title/Comparison_of_tiling_window_managers" rel="nofollow">longer list</a>.</p>
</article></div></div>
  </body>
</html>
