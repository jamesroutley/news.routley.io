<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/WesleyAC/deeplinks">Original</a>
    <h1>Show HN: Deeplinks.js – Simple deep links to selections of text on your website</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p dir="auto"><a href="https://github.com/WesleyAC/deeplinks/actions/workflows/tests.yml"><img src="https://camo.githubusercontent.com/a633e1572fcc36ef36ded974ac9e1cdb947f08f5a717f014e3ed4fbb778041f9/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f776f726b666c6f772f7374617475732f5765736c657941432f646565706c696e6b732f74657374733f6c6162656c3d7465737473266c6f676f3d676974687562" alt="tests badge" data-canonical-src="https://img.shields.io/github/workflow/status/WesleyAC/deeplinks/tests?label=tests&amp;logo=github"/></a>
<a href="https://github.com/WesleyAC/deeplinks/blob/main/docs/browser_support.md"><img src="https://camo.githubusercontent.com/ff357f96e69f0aabc07c13d2394127fd40acacce5df49ad0f0c0f4cac9ab09c3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f62726f77736572253230737570706f72742d39342532352d696e666f726d6174696f6e616c" alt="browser support: 94%" data-canonical-src="https://img.shields.io/badge/browser%20support-94%25-informational"/></a> 
<a href="https://github.com/WesleyAC/deeplinks/blob/main/license"><img src="https://camo.githubusercontent.com/b0ae38dceb7087a93c566bcf5fd05b0e511edd3d523a290e0a9fe465b4c97df0/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d696e666f726d6174696f6e616c" alt="license: MIT" data-canonical-src="https://img.shields.io/badge/license-MIT-informational"/></a></p>
<p dir="auto"><code>deeplinks.js</code> allows people to easily link directly to any text selection on your website. <a href="https://notebook.wesleyac.com/what-hypertext-could-be/#1GHfGDDIwx:21:63" rel="nofollow">Here&#39;s</a> an example of what one of these links looks like. It&#39;s intended mostly for blogs and other such websites, but it&#39;s relatively agnostic to the environment it&#39;s running in.</p>
<p dir="auto">People can select text on the site as the normally would, and when they do, the <a href="https://en.wikipedia.org/wiki/URI_fragment" rel="nofollow">fragment identifier</a> (the thing that comes after the <code>#</code> in the URL) changes. If they want to share the text they have selected, they simply copy the URL and send it to someone. When that person visits the URL, the same text that was originally selected will be selected and scrolled into view.</p>
<p dir="auto">This description might make it sound a little complicated, but it&#39;s actually pretty simple and intuitive once you play with it — go check it out! If you&#39;re interested in knowing the details of how it works under the hood, check out <a href="https://github.com/WesleyAC/deeplinks/blob/main/docs/design"><code>docs/design/</code></a>.</p>
<h2 dir="auto"><a id="user-content-goals" aria-hidden="true" href="#goals"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Goals</h2>
<ul dir="auto">
<li>Plug-and-play. Copy the files, drop <code>&lt;script type=&#34;module&#34; src=&#34;/deeplinks/deeplinks.js&#34;&gt;&lt;/script&gt;</code> in your website, and it works.</li>
<li>Robust. Updates will not break links to older URLs.</li>
<li>Short links. Long URLs are ugly and frequently mangled by messaging apps. URLs should be short and not contain characters likely to be mangled by misbehaving apps.</li>
<li>Subtle. It shouldn&#39;t get in the reader&#39;s way. It doesn&#39;t break normal fragment-identifier links.</li>
<li>Reasonably small. It&#39;s around 1.7kb gzipped right now (1.6kb brotli), and shouldn&#39;t grow too much more.</li>
<li>Fast. This isn&#39;t hard, but it&#39;s worth making explicit.</li>
</ul>
<h2 dir="auto"><a id="user-content-non-goals" aria-hidden="true" href="#non-goals"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Non-goals</h2>
<ul dir="auto">
<li>Handling frequently-changing content, such as wikis. It should be robust to occasional small edits, but if you want truly robust deep linking, you really need support from the authoring environment (CRDTs, etc).</li>
<li>Working for every usecase. I have specific things that I want in a script like this, and other people will have other things they want. Those people should build their own similar scripts — diversity is good! For instance, this intentionally does not implement the <a href="https://wicg.github.io/scroll-to-text-fragment/" rel="nofollow">WICG Text Fragment</a> interface, although it&#39;s possible it may in the future if that ends up standardized in a form that I like.</li>
</ul>
<h2 dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p dir="auto">First, consider whether you really want to do this. If you do, you are making new URLs, which will break if you ever remove the script from your site. Breaking URLs makes me sad, so you should think about whether you&#39;re really committed to this or not, and maybe play with it locally for a little while to see how it feels before you really deploy it.</p>
<p dir="auto">Once you&#39;re sure:</p>
<ul dir="auto">
<li>Download the most recent release from the <a href="https://github.com/WesleyAC/deeplinks/releases">releases page</a>.</li>
<li>Extract the zip file somewhere in your website.</li>
<li>Include the script anywhere in your html:
<div data-snippet-clipboard-copy-content="&lt;script type=&#34;module&#34; src=&#34;/deeplinks/deeplinks.js&#34;&gt;&lt;/script&gt;"><pre><span>&lt;</span><span>script</span> <span>type</span>=&#34;<span>module</span>&#34; <span>src</span>=&#34;<span>/deeplinks/deeplinks.js</span>&#34;<span>&gt;</span><span>&lt;/</span><span>script</span><span>&gt;</span></pre></div>
This assumes you extracted the release into a directory called <code>deeplinks</code> — you&#39;ll need to change the <code>src</code> if you put it somewhere else. Make sure you include the <code>type=&#34;module&#34;</code>, it won&#39;t work otherwise! You should only include it on pages that won&#39;t change frequently — particularly, don&#39;t include it on pagination pages where the content changes as you publish new posts, for instance.</li>
<li>Test that it works.</li>
<li>If you&#39;re feeling nice, fill out <a href="https://docs.google.com/forms/d/e/1FAIpQLSdoQuU3GBhGD2z8lFhN8KtVqcBvKBX1XZ3BgOQv7h91PCgziA/viewform" rel="nofollow">this form</a> with a link to your website! (Or just <a href="mailto:me@wesleyac.com">email me</a>, if you don&#39;t like Google Forms)</li>
</ul>
</article>
        </div></div>
  </body>
</html>
