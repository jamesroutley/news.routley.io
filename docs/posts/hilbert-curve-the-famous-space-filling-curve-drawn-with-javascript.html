<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="http://jsxgraph.uni-bayreuth.de/wiki/index.php/Hilbert_curve">Original</a>
    <h1>Hilbert curve: The famous space filling curve drawn with JavaScript</h1>
    
    <div id="readability-page-1" class="page"><div id="mw-content-text" lang="en" dir="ltr"><div><p>The famous space filling curve drawn with JavaScript.
If it is set to level=9 the curve is defined by 
262 144 points - so be careful if you are using Internet Explorer.

<!--
  <form>
  Set the iteration level:
  <select id='maxlev' style='margin:1em'>
        <option value="1"> 1
        <option value="2"> 2
        <option value="3"> 3
        <option value="4"> 4
        <option value="5"> 5
        <option value="6"> 6
        <option value="7"> 7
        <option value="8"> 8
        <option value="9"> 9
  </select>
  <input type="button" value=" set " onClick="doIt()" style='margin:1em'>
  </form>
-->

</p> 

<h3><span id="References">References</span></h3>
<ul><li><a rel="nofollow" href="http://en.wikipedia.org/wiki/Hilbert_curve">http://en.wikipedia.org/wiki/Hilbert_curve</a></li></ul>
<h3><span id="The_underlying_JavaScript_code">The underlying JavaScript code</span></h3>
<div dir="ltr"><pre><span></span>        <span>var</span> <span>b</span> <span>=</span> <span>JXG</span><span>.</span><span>JSXGraph</span><span>.</span><span>initBoard</span><span>(</span><span>&#39;jxgbox&#39;</span><span>,</span> <span>{</span><span>boundingbox</span><span>:</span> <span>[</span><span>-</span><span>4</span><span>,</span> <span>4</span><span>,</span> <span>116</span><span>,</span> <span>-</span><span>116</span><span>]});</span>
        <span>var</span> <span>UP</span> <span>=</span> <span>0</span><span>;</span>
        <span>var</span> <span>LEFT</span> <span>=</span> <span>1</span><span>;</span>
        <span>var</span> <span>DOWN</span> <span>=</span> <span>2</span><span>;</span>
        <span>var</span> <span>RIGHT</span> <span>=</span> <span>3</span><span>;</span>
        <span>var</span> <span>pos</span> <span>=</span> <span>[</span><span>0</span><span>,</span><span>0</span><span>];</span>
        <span>var</span> <span>step</span> <span>=</span> <span>1</span><span>;</span>
        <span>var</span> <span>pointsX</span> <span>=</span> <span>[];</span>
        <span>var</span> <span>pointsY</span> <span>=</span> <span>[];</span>

        <span>move</span> <span>=</span> <span>function</span><span>(</span><span>dir</span><span>)</span>  <span>{</span>
                <span>switch</span> <span>(</span><span>dir</span><span>)</span> <span>{</span>
                    <span>case</span> <span>LEFT</span><span>:</span>
                        <span>pos</span><span>[</span><span>0</span><span>]</span> <span>-=</span> <span>step</span><span>;</span>
                        <span>break</span><span>;</span>
                    <span>case</span> <span>RIGHT</span><span>:</span>
                        <span>pos</span><span>[</span><span>0</span><span>]</span> <span>+=</span> <span>step</span><span>;</span>
                        <span>break</span><span>;</span>
                    <span>case</span> <span>UP</span><span>:</span>
                        <span>pos</span><span>[</span><span>1</span><span>]</span> <span>+=</span> <span>step</span><span>;</span>
                        <span>break</span><span>;</span>
                    <span>case</span> <span>DOWN</span><span>:</span>
                        <span>pos</span><span>[</span><span>1</span><span>]</span> <span>-=</span> <span>step</span><span>;</span>
                        <span>break</span><span>;</span>
                <span>}</span> 
                <span>pointsX</span><span>[</span><span>pointsX</span><span>.</span><span>length</span><span>]</span> <span>=</span> <span>pos</span><span>[</span><span>0</span><span>];</span>
                <span>pointsY</span><span>[</span><span>pointsY</span><span>.</span><span>length</span><span>]</span> <span>=</span> <span>pos</span><span>[</span><span>1</span><span>];</span>
        <span>};</span>

        <span>hilbert</span> <span>=</span> <span>function</span><span>(</span><span>level</span><span>,</span><span>dir</span><span>)</span> <span>{</span>
            <span>if</span> <span>(</span><span>level</span><span>&lt;=</span><span>1</span><span>)</span> <span>{</span>
                <span>switch</span> <span>(</span><span>dir</span><span>)</span> <span>{</span>
                    <span>case</span> <span>LEFT</span><span>:</span>
                        <span>move</span><span>(</span><span>RIGHT</span><span>);</span>     
                        <span>move</span><span>(</span><span>DOWN</span><span>);</span>      
                        <span>move</span><span>(</span><span>LEFT</span><span>);</span>
                        <span>break</span><span>;</span>
                    <span>case</span> <span>RIGHT</span><span>:</span>
                        <span>move</span><span>(</span><span>LEFT</span><span>);</span>
                        <span>move</span><span>(</span><span>UP</span><span>);</span>
                        <span>move</span><span>(</span><span>RIGHT</span><span>);</span>
                        <span>break</span><span>;</span>
                    <span>case</span> <span>UP</span><span>:</span>
                        <span>move</span><span>(</span><span>DOWN</span><span>);</span>
                        <span>move</span><span>(</span><span>RIGHT</span><span>);</span>
                        <span>move</span><span>(</span><span>UP</span><span>);</span>
                        <span>break</span><span>;</span>
                    <span>case</span> <span>DOWN</span><span>:</span>
                        <span>move</span><span>(</span><span>UP</span><span>);</span>
                        <span>move</span><span>(</span><span>LEFT</span><span>);</span>
                        <span>move</span><span>(</span><span>DOWN</span><span>);</span>
                        <span>break</span><span>;</span>
                <span>}</span> 
            <span>}</span> <span>else</span> <span>{</span>
                <span>switch</span> <span>(</span><span>dir</span><span>)</span> <span>{</span>
                    <span>case</span> <span>LEFT</span><span>:</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>UP</span><span>);</span>
                        <span>move</span><span>(</span><span>RIGHT</span><span>);</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>LEFT</span><span>);</span>
                        <span>move</span><span>(</span><span>DOWN</span><span>);</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>LEFT</span><span>);</span>
                        <span>move</span><span>(</span><span>LEFT</span><span>);</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>DOWN</span><span>);</span>
                        <span>break</span><span>;</span>
                    <span>case</span> <span>RIGHT</span><span>:</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>DOWN</span><span>);</span>
                        <span>move</span><span>(</span><span>LEFT</span><span>);</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>RIGHT</span><span>);</span>
                        <span>move</span><span>(</span><span>UP</span><span>);</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>RIGHT</span><span>);</span>
                        <span>move</span><span>(</span><span>RIGHT</span><span>);</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>UP</span><span>);</span>
                        <span>break</span><span>;</span>
                    <span>case</span> <span>UP</span><span>:</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>LEFT</span><span>);</span>
                        <span>move</span><span>(</span><span>DOWN</span><span>);</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>UP</span><span>);</span>
                        <span>move</span><span>(</span><span>RIGHT</span><span>);</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>UP</span><span>);</span>
                        <span>move</span><span>(</span><span>UP</span><span>);</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>RIGHT</span><span>);</span>
                        <span>break</span><span>;</span>
                    <span>case</span> <span>DOWN</span><span>:</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>RIGHT</span><span>);</span>
                        <span>move</span><span>(</span><span>UP</span><span>);</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>DOWN</span><span>);</span>
                        <span>move</span><span>(</span><span>LEFT</span><span>);</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>DOWN</span><span>);</span>
                        <span>move</span><span>(</span><span>DOWN</span><span>);</span>
                        <span>hilbert</span><span>(</span><span>level</span><span>-</span><span>1</span><span>,</span><span>LEFT</span><span>);</span>
                        <span>break</span><span>;</span>
                <span>}</span> 
            <span>}</span>
        <span>};</span>

        <span>var</span> <span>curve</span> <span>=</span> <span>b</span><span>.</span><span>create</span><span>(</span><span>&#39;curve&#39;</span><span>,[</span><span>pointsX</span><span>,</span><span>pointsY</span><span>],{</span><span>curveType</span><span>:</span><span>&#39;plot&#39;</span><span>});</span>
        <span>// we don&#39;t need highlighting. improves speed on mouse move</span>
        <span>curve</span><span>.</span><span>hasPoint</span> <span>=</span> <span>function</span> <span>()</span> <span>{</span> <span>return</span> <span>false</span><span>;</span> <span>}</span>

        <span>var</span> <span>s</span> <span>=</span> <span>b</span><span>.</span><span>create</span><span>(</span><span>&#39;slider&#39;</span><span>,</span> <span>[[</span><span>0.75</span><span>,</span><span>-</span><span>110</span><span>],[</span><span>50</span><span>,</span><span>-</span><span>110</span><span>],[</span><span>1</span><span>,</span><span>1</span><span>,</span><span>9</span><span>]],</span> <span>{</span><span>name</span><span>:</span><span>&#39;S&#39;</span><span>,</span><span>snapWidth</span><span>:</span><span>1</span><span>});</span>
        <span>var</span> <span>oldlev</span> <span>=</span> <span>-</span><span>1</span><span>;</span>
        <span>curve</span><span>.</span><span>updateDataArray</span> <span>=</span> <span>function</span><span>()</span> <span>{</span>
            <span>maxlev</span> <span>=</span> <span>Math</span><span>.</span><span>round</span><span>(</span><span>s</span><span>.</span><span>Value</span><span>());</span>
            <span>if</span> <span>(</span><span>oldlev</span><span>==</span><span>maxlev</span><span>)</span> <span>{</span>
                <span>return</span><span>;</span>
            <span>}</span>
            <span>pos</span> <span>=</span> <span>[</span><span>0</span><span>,</span><span>0</span><span>];</span>
            <span>pointsX</span> <span>=</span> <span>[</span><span>0</span><span>];</span>
            <span>pointsY</span> <span>=</span> <span>[</span><span>0</span><span>];</span>
            <span>step</span> <span>=</span> <span>50</span><span>/</span><span>(</span><span>Math</span><span>.</span><span>pow</span><span>(</span><span>2</span><span>,</span><span>maxlev</span><span>-</span><span>1</span><span>));</span>
            <span>hilbert</span><span>(</span><span>maxlev</span><span>,</span><span>LEFT</span><span>);</span>
            <span>this</span><span>.</span><span>dataX</span> <span>=</span> <span>pointsX</span><span>;</span>
            <span>this</span><span>.</span><span>dataY</span> <span>=</span> <span>pointsY</span><span>;</span>
            <span>oldlev</span><span>=</span><span>maxlev</span><span>;</span>
        <span>};</span>
<span>b</span><span>.</span><span>update</span><span>();</span>
</pre></div>
<!-- 
NewPP limit report
Cached time: 20231026211142
Cache expiry: 86400
Dynamic content: false
Complications: []
CPU time usage: 0.031 seconds
Real time usage: 0.654 seconds
Preprocessor visited node count: 19/1000000
Preprocessor generated node count: 0/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 18730/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div></div></div>
  </body>
</html>
