<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://deno.com/blog/v1.22">Original</a>
    <h1>Deno 1.22</h1>
    
    <div id="readability-page-1" class="page"><div><p><a href="https://github.com/denoland/deno/releases/tag/v1.22.0" rel="noopener noreferrer">Deno 1.22</a> has been
tagged and released with the following new features and changes:</p>
<ul>
<li><a href="#default-type-checking-behavior-has-been-updated">Default type checking behavior has been updated</a></li>
<li><a href="#removal-of-unstable-denoemit-denoformatdiagnostics-and-denoapplysourcemap-apis">Removal of unstable <code>Deno.emit()</code>, <code>Deno.formatDiagnostics()</code> and <code>Deno.applySourceMap()</code> APIs</a></li>
<li><a href="#deno-namespace-is-available-in-workers-by-default"><code>Deno</code> namespace is available in workers by default</a></li>
<li><a href="#--no-config-flag"><code>--no-config</code> flag</a></li>
<li><a href="#navigatoruseragent"><code>Navigator.userAgent</code></a></li>
<li><a href="#updated-denoresolvedns-api">Updated <code>Deno.resolveDns()</code> API</a></li>
<li><a href="#new-responsejson-static-method">New <code>Response.json()</code> static method</a></li>
<li><a href="#linting-enabled-by-default-in-the-lsp">Linting enabled by default in the LSP</a></li>
<li><a href="#updates-to-the-unstable-denospawn-api">Updates to the unstable <code>Deno.spawn()</code> API</a></li>
<li><a href="#updates-to-the-test-runner">Updates to the test runner</a></li>
<li><a href="#performancetimeorigin-and-performancetojson"><code>performance.timeOrigin</code> and <code>performance.toJSON</code></a></li>
</ul>
<p>If you already have Deno installed, you can upgrade to 1.22 by running:</p>
<p>If you are installing Deno for the first time, you can use one of the methods
listed below:</p>
<div><pre>

<span>curl</span> -fsSL https://deno.land/x/install/install.sh <span>|</span> <span>sh</span>


iwr https://deno.land/x/install/install.ps1 -useb <span>|</span> iex


brew <span>install</span> deno


scoop <span>install</span> deno


choco <span>install</span> deno</pre></div><h2 id="default-type-checking-behavior-has-been-updated"><a aria-hidden="true" tabindex="-1" href="#default-type-checking-behavior-has-been-updated"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Default type checking behavior has been updated</h2><p>Deno currently supports three type checking modes:</p>
<ul>
<li>ğŸŒ <strong>Full</strong>: full type checking checks your entire project, including all
dependencies. If a dependency contains a type error, it will be reported to
you.</li>
<li>ğŸ“ <strong>Local</strong>: local type checking checks the code in your project for type
errors, but skips type checking for all dependencies.</li>
<li>âŒ <strong>None</strong>: no type checking is performed at all.</li>
</ul>
<p>Previously, Deno used a default type checking mode of <strong>Full</strong>. This meant that
you would get type errors reported for code outside of your direct control (your
dependencies). We have found this to be an inadequate default, and are thus
changing the default mode to <strong>Local</strong>. This is inline with <a href="https://www.typescriptlang.org/docs/handbook/compiler-options.html" rel="noopener noreferrer"><code>tsc</code></a>, which
also uses a local typechecking mode.</p>
<table>
<thead>
<tr>
<th>Subcommand</th>
<th>v1.21</th>
<th>v1.22</th>
<th>v1.23 (Proposed)</th>
</tr>
</thead>
<tbody><tr>
<td><code>deno bench</code></td>
<td>ğŸŒ Full</td>
<td>ğŸ“ Local</td>
<td>ğŸ“ Local</td>
</tr>
<tr>
<td><code>deno bundle</code></td>
<td>ğŸŒ Full</td>
<td>ğŸ“ Local</td>
<td>ğŸ“ Local</td>
</tr>
<tr>
<td><code>deno cache</code></td>
<td>ğŸŒ Full</td>
<td>ğŸ“ Local</td>
<td>âŒ None</td>
</tr>
<tr>
<td><code>deno check</code></td>
<td>ğŸ“ Local</td>
<td>ğŸ“ Local</td>
<td>ğŸ“ Local</td>
</tr>
<tr>
<td><code>deno compile</code></td>
<td>ğŸŒ Full</td>
<td>ğŸ“ Local</td>
<td>ğŸ“ Local</td>
</tr>
<tr>
<td><code>deno eval</code></td>
<td>âŒ None</td>
<td>âŒ None</td>
<td>âŒ None</td>
</tr>
<tr>
<td><code>deno repl</code></td>
<td>âŒ None</td>
<td>âŒ None</td>
<td>âŒ None</td>
</tr>
<tr>
<td><code>deno run</code></td>
<td>ğŸŒ Full</td>
<td>ğŸ“ Local</td>
<td>âŒ None</td>
</tr>
<tr>
<td><code>deno test</code></td>
<td>ğŸŒ Full</td>
<td>ğŸ“ Local</td>
<td>ğŸ“ Local</td>
</tr>
</tbody></table>
<p><em>Note: the proposed changes for the 1.23 release are in line with our goal to
disable type checking by default in <code>deno run</code>. See
<a href="https://deno.com/blog/v1.21#deno-check-and-the-path-to-not-type-checking-by-default" rel="noopener noreferrer">the 1.21 release notes</a> for more details and the rationale for
this change.</em></p>
<p>The <strong>Full</strong> type checking mode is still available if you want to use it. To
perform a <strong>Full</strong> type check, run <code>deno check --remote main.ts</code>.</p>
<p>You can force a specific type checking mode in any subcommand by using the
following flags:</p>
<table>
<thead>
<tr>
<th>Flag</th>
<th>Mode</th>
</tr>
</thead>
<tbody><tr>
<td><code>--no-check</code></td>
<td>âŒ None</td>
</tr>
<tr>
<td><code>--no-check=remote</code>Â¹</td>
<td>ğŸ“ Local</td>
</tr>
<tr>
<td><code>--check=all</code></td>
<td>ğŸŒ Full</td>
</tr>
</tbody></table>
<p>Â¹: <code>--no-check=remote</code> will be replaced by <code>--check</code> in an upcoming release.</p>
<h2 id="removal-of-unstable-denoemit-denoformatdiagnostics-and-denoapplysourcemap-apis"><a aria-hidden="true" tabindex="-1" href="#removal-of-unstable-denoemit-denoformatdiagnostics-and-denoapplysourcemap-apis"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Removal of unstable <code>Deno.emit()</code>, <code>Deno.formatDiagnostics()</code> and <code>Deno.applySourceMap()</code> APIs</h2><p>Deno shipped with the <code>Deno.emit()</code> API that allowed transpiling and bundling
source code programmatically. This was an unstable API that, in our opinion,
never fit well in the <code>Deno</code> namespace. Supporting this API added a lot of
complexity to our already complex transpilation pipeline, introducing many
subtle edge cases and holding back some of refactors we wanted to do for the
longest time. After many discussions we have decided that to remove this API
from the <code>Deno</code> namespace and instead provide it as a userland module:
<a href="https://deno.land/x/emit@0.0.1" rel="noopener noreferrer"><code>deno_emit</code></a>. This allows us to develop an API
that better suits user needs.</p>
<h2 id="deno-namespace-is-available-in-workers-by-default"><a aria-hidden="true" tabindex="-1" href="#deno-namespace-is-available-in-workers-by-default"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>Deno</code> namespace is available in workers by default</h2><p>Deno has supported the
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Worker" rel="noopener noreferrer"><code>Worker</code> Web API</a>
since the v1.0 release. However, by default the <code>Deno</code> namespace was not
available in the worker context, unless it was explicitly enabled in the option
bag:</p>
<div><pre>

<span>new</span> <span>Worker</span><span>(</span><span>new</span> <span>URL</span><span>(</span><span>&#34;./worker_without_deno.js&#34;</span><span>,</span> <span>import</span><span>.</span>meta<span>.</span>url<span>)</span><span>)</span><span>;</span>


<span>new</span> <span>Worker</span><span>(</span><span>new</span> <span>URL</span><span>(</span><span>&#34;./worker_without_deno.js&#34;</span><span>,</span> <span>import</span><span>.</span>meta<span>.</span>url<span>)</span><span>,</span> <span>{</span>
  <span>deno</span><span>:</span> <span>true</span><span>,</span>
<span>}</span><span>)</span><span>;</span></pre></div><p>In this release we are updating web workers to have the <code>Deno</code> namespace enabled
by default, better matching user expectations. This means that you can now use
<code>Deno</code> namespace APIs in your web workers by default, provided the required
permissions are set.</p>
<div><pre>

<span>new</span> <span>Worker</span><span>(</span><span>new</span> <span>URL</span><span>(</span><span>&#34;./worker_without_deno.js&#34;</span><span>,</span> <span>import</span><span>.</span>meta<span>.</span>url<span>)</span><span>)</span><span>;</span></pre></div><p>You can still use <code>WorkerOptions.deno</code> option to apply additional settings, like
custom permissions:</p>
<div><pre>

<span>new</span> <span>Worker</span><span>(</span><span>new</span> <span>URL</span><span>(</span><span>&#34;./worker_without_deno.js&#34;</span><span>,</span> <span>import</span><span>.</span>meta<span>.</span>url<span>)</span><span>,</span> <span>{</span>
  <span>deno</span><span>:</span> <span>{</span>
    <span>permissions</span><span>:</span> <span>{</span>
      <span>read</span><span>:</span> <span>true</span><span>,</span>
    <span>}</span><span>,</span>
  <span>}</span><span>,</span>
<span>}</span><span>)</span><span>;</span></pre></div><p>Thank you <a href="https://github.com/nayeemrmn" rel="noopener noreferrer">Nayeem Rahman</a> for contributing this
feature!</p>
<h2 id="--no-config-flag"><a aria-hidden="true" tabindex="-1" href="#--no-config-flag"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>--no-config</code> flag</h2><p>Starting with Deno v1.18, the runtime can
<a href="https://deno.com/blog/v1.18#auto-discovery-of-the-config-file" rel="noopener noreferrer">automatically discover config files</a>.
While this feature is convenient and useful in most cases, there are situations
where it is not desirable.</p>
<p>For example, you might be developing a frontend project that uses non-standard
TypeScript type declarations, that are defined in configuration files. If you
also have some standalone third party tools (like
<a href="https://deno.land/x/udd" rel="noopener noreferrer"><code>udd</code></a>) in your project directory, it&#39;s undesirable to
apply the same configuration files to those tools, because they may require
different type declarations.</p>
<p>This release adds a <code>--no-config</code> flag, which disables auto-discovery of the
config file. With this flag passed, all configuration has to be explicitly
passed via CLI flags for configuration.</p>
<h2 id="navigatoruseragent"><a aria-hidden="true" tabindex="-1" href="#navigatoruseragent"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>Navigator.userAgent</code></h2><p>This release adds the <code>userAgent</code> property to the global <code>navigator</code> object.
This property is set to the same value as the <code>User-Agent</code> header that is set on
outgoing HTTP requests.</p>
<div><pre>console<span>.</span><span>log</span><span>(</span>navigator<span>.</span>userAgent<span>)</span><span>;</span>
</pre></div><p>Thank you <a href="https://github.com/randomicon00" rel="noopener noreferrer">@randomicon00</a> for contributing this
feature!</p>
<h2 id="updated-denoresolvedns-api"><a aria-hidden="true" tabindex="-1" href="#updated-denoresolvedns-api"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Updated <code>Deno.resolveDns()</code> API</h2><p>This release brings an update to the <code>Deno.resolveDns()</code> API. The following
record types can now be resolved:</p>
<ul>
<li><code>NS</code></li>
<li><code>CAA</code></li>
<li><code>SOA</code></li>
<li><code>NAPTR</code></li>
</ul>
<p>For example:</p>
<div><pre><span>const</span> <span>[</span>ns<span>,</span> caa<span>,</span> soa<span>,</span> naptr<span>]</span> <span>=</span> <span>await</span> Promise<span>.</span><span>all</span><span>(</span><span>[</span>
  Deno<span>.</span><span>resolveDns</span><span>(</span><span>&#34;example.com&#34;</span><span>,</span> <span>&#34;NS&#34;</span><span>,</span> nameServer<span>)</span><span>,</span>
  Deno<span>.</span><span>resolveDns</span><span>(</span><span>&#34;example.com&#34;</span><span>,</span> <span>&#34;CAA&#34;</span><span>,</span> nameServer<span>)</span><span>,</span>
  Deno<span>.</span><span>resolveDns</span><span>(</span><span>&#34;example.com&#34;</span><span>,</span> <span>&#34;SOA&#34;</span><span>,</span> nameServer<span>)</span><span>,</span>
  Deno<span>.</span><span>resolveDns</span><span>(</span><span>&#34;example.com&#34;</span><span>,</span> <span>&#34;NAPTR&#34;</span><span>,</span> nameServer<span>)</span><span>,</span>
<span>]</span><span>)</span><span>;</span>

console<span>.</span><span>log</span><span>(</span><span>&#34;NS&#34;</span><span>,</span> ns<span>)</span><span>;</span>

console<span>.</span><span>log</span><span>(</span><span>&#34;CAA&#34;</span><span>,</span> caa<span>)</span><span>;</span>







console<span>.</span><span>log</span><span>(</span><span>&#34;SOA&#34;</span><span>,</span> soa<span>)</span><span>;</span>



console<span>.</span><span>log</span><span>(</span><span>&#34;NAPTR&#34;</span><span>,</span> naptr<span>)</span><span>;</span>



</pre></div><p>Thank you to <a href="https://github.com/PatrickChoDev" rel="noopener noreferrer">Thanapat Chotipun</a> and
<a href="https://github.com/cmorten" rel="noopener noreferrer">Craig Morten</a> for contributing this feature!</p>
<h2 id="new-responsejson-static-method"><a aria-hidden="true" tabindex="-1" href="#new-responsejson-static-method"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>New <code>Response.json()</code> static method</h2><p>This release adds a new static <code>json()</code> method to the <code>Response</code> global. It
allows the easy creation of <code>Response</code> objects from JSON structures.</p>
<div><pre><span>const</span> json <span>=</span> <span>{</span> <span>hello</span><span>:</span> <span>&#34;world&#34;</span> <span>}</span><span>;</span>


<span>const</span> body <span>=</span> <span>JSON</span><span>.</span><span>stringify</span><span>(</span>json<span>)</span><span>;</span>
<span>const</span> response <span>=</span> <span>new</span> <span>Response</span><span>(</span>body<span>,</span> <span>{</span>
  <span>headers</span><span>:</span> <span>{</span> <span>&#34;content-type&#34;</span><span>:</span> <span>&#34;application/json&#34;</span> <span>}</span><span>,</span>
<span>}</span><span>)</span><span>;</span>


<span>const</span> response <span>=</span> Response<span>.</span><span>json</span><span>(</span>json<span>)</span><span>;</span></pre></div><p>The first argument of the new method is the JSON structure to be encoded. The
second argument is an optional options bag that is identical to the one used in
the <code>new Response()</code> constructor.</p>
<p>This <a href="https://github.com/whatwg/fetch/pull/1392" rel="noopener noreferrer">addition to the Fetch specification</a> was specifically
designed with server side runtimes in mind. Deno is the first runtime to
implement this new API in stable, but other runtimes should follow suit soon.
Chromium already has an implementation of this API in review.</p>
<h2 id="linting-enabled-by-default-in-the-lsp"><a aria-hidden="true" tabindex="-1" href="#linting-enabled-by-default-in-the-lsp"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Linting enabled by default in the LSP</h2><p>Deno v1.22 enables linting in IDE/editors using <code>deno lsp</code> by default. This
setting can still be disabled, but in most projects this will mean that less
IDE/editor configuration is required, as most projects have linting enabled.</p>
<h2 id="updates-to-the-unstable-denospawn-api"><a aria-hidden="true" tabindex="-1" href="#updates-to-the-unstable-denospawn-api"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Updates to the unstable <code>Deno.spawn()</code> API</h2><p>An <code>AbortSignal</code> can now be passed as a <code>signal</code> argument in the options bag to
<code>Deno.spawn()</code> and <code>Deno.spawnChild()</code>. When the signal is aborted, the
subprocess is terminated with a <code>SIGTERM</code> signal.</p>
<p>The return type for <code>ProcessStatus</code> has also been updated: <code>signal</code> is now set
to a string representing the signal that caused the process to exit. For
example, if a process is terminated with <code>SIGTERM</code>, the <code>signal</code> property will
be set to <code>&#34;SIGTERM&#34;</code>. Using a string instead of a number is consistent with the
<code>Deno.Child#kill</code> API.</p>
<p><code>Deno.spawn</code>, <code>Deno.spawnChild</code>, and <code>Deno.spawnSync</code> are still unstable APIs as
of this release. We want to stabilize the API in the next release (v1.23.0).
Please try out the new APIs, and provide any feedback via our issue tracker.</p>
<h2 id="updates-to-the-test-runner"><a aria-hidden="true" tabindex="-1" href="#updates-to-the-test-runner"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Updates to the test runner</h2><p>This release brings another handful of updates to the test runner. We are still
iterating on the reporter output to make it more readable.</p>
<p>Headers for the &#34;ERRORS&#34; and &#34;FAILURES&#34; sections are now more visible, and
failed tests now show the file name and line number of the <code>Deno.test()</code> call:</p>
<p><img src="https://deno.com/v1.22/test_headers_callsite.png" alt="Headers and callsite"/></p>
<p>If a test prints output, it&#39;s name is repeated on the line following the output,
to make figuring out which test failed / passed easier:</p>
<p><img src="https://deno.com/v1.22/test_output.png" alt="Repeated test name if output is printed"/></p>
<p>Uncaught errors have a better representation now, and show a hint to what might
have gone wrong:</p>
<p><img src="https://deno.com/v1.22/test_uncaught_errors.png" alt="Uncaught errors in tests"/></p>
<p>Thank you <a href="https://github.com/nayeemrmn" rel="noopener noreferrer">Nayeem Rahman</a> for contributing these
changes!</p>
<h2 id="performancetimeorigin-and-performancetojson"><a aria-hidden="true" tabindex="-1" href="#performancetimeorigin-and-performancetojson"><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a><code>performance.timeOrigin</code> and <code>performance.toJSON</code></h2><p>The <code>performance</code> global is getting a new property this release: <code>timeOrigin</code>.
This is set to the high resolution UNIX timestamp of the time the worker was
started. It can be used in combination with <code>performance.now()</code> to calculate a
high resolution UNIX timestamp of the current time.</p>
<div><pre>


<span>const</span> timestamp <span>=</span> performance<span>.</span>timeOrigin <span>+</span> performance<span>.</span><span>now</span><span>(</span><span>)</span><span>;</span></pre></div><p>Additionally, the <code>performance.toJSON()</code> method now exists and behaves
identically to browsers.</p>
<p>Thank you <a href="https://github.com/GJZwiers" rel="noopener noreferrer">Geert-Jan Zwiers</a> for contributing this
feature!</p>
</div></div>
  </body>
</html>
