<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/scallyw4g/bonsai">Original</a>
    <h1>Bonsai: A Voxel Engine, from scratch</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto">
  <a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/logo_256.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/logo_256.png"/></a>
</p>

<p dir="auto">Bonsai is a voxel engine in a pot.  It&#39;s been tended to with love and
care over the years.  It started out as a learning excercise, and has taught me
the value of simplicity.</p>
<p dir="auto">Bonsai supports massive worlds.  The current version supports a maximum world
size of ~1 billion blocks, cubed.  At one block per meter, that&#39;s the distance
from earth to the moon, 2600 times, in every direction.  The view distance is
the entire world, all the time.  Yes, you read that right.  In Bonsai, you can
see in a straight line from Jupiter to the sun.</p>
<p dir="auto">Bonsai terrain generation is fully procedural, and user configurable.  Terrain
is generated on the GPU using regular glsl shaders.  Anything you can do in a
shader, you can do in a Bonsai terrain generator.</p>

<p dir="auto">The current version is 2.0.0-prealpha-rc0, which can be found by joining the
<a href="https://discord.gg/kmRpgXBh75" rel="nofollow">Discord</a>.  This version is a large rewrite of
several core systems, including the world generation, editor and parts of the
renderer.</p>
<p dir="auto">In its current state, the engine is effectively a terrain generator and editor.
For details on remaing work, see <a href="https://github.com/scallyw4g/bonsai/issues/82" data-hovercard-type="issue" data-hovercard-url="/scallyw4g/bonsai/issues/82/hovercard">Roadmap to v2.0.0</a>.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/two_doors.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/two_doors.png" alt="banner"/></a></p>

<p dir="auto">Bonsai, and nearly all it&#39;s dependencies, are written completely from scratch.
One external dependency is the C runtime library for program startup. There is
a back-burner task to remove the CRT entirely, athough it&#39;s unclear when/if
anyone will ever get around to it.</p>
<p dir="auto">The only external requirements to build Bonsai are clang++ (&gt;= version 18.1)
and a few appropriate system headers.</p>

<p dir="auto">Grab pre-built binaries &amp; assets from the <a href="https://github.com/scallyw4g/bonsai/releases/latest">Latest Releases</a>
for your platform of your choice (as long as your platform of choice is Windows or Linux) ;)</p>




<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/orks.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/orks.png" alt="banner"/></a></p>


<ul dir="auto">
<li>Deferred Shading</li>
<li>HDR Lighting</li>
<li>Order-independant Transparency</li>
<li>Lighting Bloom</li>
<li>Shadow Mapping</li>
<li>Screen Space Ambient Occlusion</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/abandoned_workshop.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/abandoned_workshop.png" alt="banner"/></a></p>

<ul dir="auto">
<li>Hot Shader &amp; Game-code Reloading</li>
<li>Async Job System</li>
<li>Entities</li>
<li>Collision</li>
<li>Transparent &amp; Emissive Particles</li>
<li>UI Framework</li>
<li>Asset Loaders</li>
<li>Primitive Physics</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/mountain.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/mountain.png" alt="banner"/></a></p>

<ul dir="auto">
<li>Fully programmable GPU-based terrain generation</li>
<li>Batteries-included library of pre-built terrain shaders</li>
<li>1D, 2D and 3D noise library</li>
<li>Terrain derivitives available in second-stage terrain &#34;decoration&#34;</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/keyhole.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/keyhole.png" alt="banner"/></a></p>

<ul dir="auto">
<li>CSG-like SDF world editing</li>
<li>Library of primitive shapes (rect, sphere, line, cylinder .. etc)</li>
<li>SDF brush-based texturing of primitives</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/ork_aerial.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/ork_aerial.png" alt="banner"/></a></p>

<ul dir="auto">
<li>Layer-based brush GUI</li>
<li>(coming soon) glsl brush shaders</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/brush.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/brush.png" alt="banner"/></a></p>

<ul dir="auto">
<li>Manual Instrumentation</li>
<li>Memory allocation tracking</li>
<li>Multithreaded callgraph tracing</li>
<li>Context Switches (windows only)</li>
<li>Physical Core  (windows only)</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/profiler.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/profiler.png" alt="banner"/></a></p>

<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/3_skele.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/3_skele.png" alt="banner"/></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/ridgeline.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/ridgeline.png" alt="banner"/></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/grass.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/grass.png" alt="banner"/></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/8_skele.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/8_skele.png" alt="banner"/></a></p>

<hr/>

<p dir="auto">[ ] HRC : <a href="https://github.com/entropylost/amitabha">https://github.com/entropylost/amitabha</a></p>
<p dir="auto">[ ] SSR : <a href="https://lettier.github.io/3d-game-shaders-for-beginners/screen-space-reflection.html" rel="nofollow">https://lettier.github.io/3d-game-shaders-for-beginners/screen-space-reflection.html</a></p>
<p dir="auto">[ ] Screen-space lines : <a href="https://mattdesl.svbtle.com/drawing-lines-is-hard" rel="nofollow">https://mattdesl.svbtle.com/drawing-lines-is-hard</a></p>
<p dir="auto">[ ] Better shadows : <a href="https://developer.nvidia.com/gpugems/gpugems3/part-ii-light-and-shadows/chapter-8-summed-area-variance-shadow-maps" rel="nofollow">https://developer.nvidia.com/gpugems/gpugems3/part-ii-light-and-shadows/chapter-8-summed-area-variance-shadow-maps</a></p>
<p dir="auto">[ ] Screen Space Shadows : <a href="https://panoskarabelas.com/posts/screen_space_shadows/" rel="nofollow">https://panoskarabelas.com/posts/screen_space_shadows/</a></p>
<p dir="auto">[ ] Motion Blur : <a href="https://developer.nvidia.com/gpugems/gpugems3/part-iv-image-effects/chapter-27-motion-blur-post-processing-effect" rel="nofollow">https://developer.nvidia.com/gpugems/gpugems3/part-iv-image-effects/chapter-27-motion-blur-post-processing-effect</a></p>
<p dir="auto">[ ] TAA?</p>
<p dir="auto">[ ] FXAA : <a href="http://blog.simonrodriguez.fr/articles/2016/07/implementing_fxaa.html" rel="nofollow">http://blog.simonrodriguez.fr/articles/2016/07/implementing_fxaa.html</a></p>
<p dir="auto">[ ] Water : <a href="https://www.youtube.com/watch?v=5yhDb9dzJ58" rel="nofollow">https://www.youtube.com/watch?v=5yhDb9dzJ58</a></p>
<p dir="auto">[ ] Fluids : <a href="https://andrewkchan.dev/posts/fire.html" rel="nofollow">https://andrewkchan.dev/posts/fire.html</a></p>
<p dir="auto">[ ] Remove meshing entirely? <a href="https://www.youtube.com/watch?v=4xs66m1Of4A" rel="nofollow">https://www.youtube.com/watch?v=4xs66m1Of4A</a></p>
<p dir="auto">[ ] Lumen-style GI screen-space radiance caching : <a href="https://www.youtube.com/watch?v=2GYXuM10riw" rel="nofollow">https://www.youtube.com/watch?v=2GYXuM10riw</a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/platapus.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/platapus.png" alt="banner"/></a></p>
<hr/>

<p dir="auto">[ ] Erosion simulation</p>
<ul dir="auto">
<li><a href="https://inria.hal.science/hal-01262376/document" rel="nofollow">https://inria.hal.science/hal-01262376/document</a></li>
<li><a href="https://xing-mei.github.io/files/erosion.pdf" rel="nofollow">https://xing-mei.github.io/files/erosion.pdf</a></li>
<li><a href="https://nickmcd.me/2020/04/15/procedural-hydrology/" rel="nofollow">https://nickmcd.me/2020/04/15/procedural-hydrology/</a></li>
</ul>
<p dir="auto">[ ] Biomes</p>
<ul dir="auto">
<li><a href="https://en.wikipedia.org/wiki/Holdridge_life_zones" rel="nofollow">https://en.wikipedia.org/wiki/Holdridge_life_zones</a></li>
</ul>
<p dir="auto">[ ] Meshing</p>
<ul dir="auto">
<li>Isotropic surface meshing</li>
<li><a href="https://graphics.stanford.edu/courses/cs164-10-spring/Handouts/isotropic.pdf" rel="nofollow">https://graphics.stanford.edu/courses/cs164-10-spring/Handouts/isotropic.pdf</a></li>
<li><a href="https://inria.hal.science/inria-00071612/document" rel="nofollow">https://inria.hal.science/inria-00071612/document</a></li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/pillar.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/pillar.png" alt="banner"/></a></p>
<hr/>

<p dir="auto">[ ] MCA importer</p>
<ul dir="auto">
<li><a href="https://github.com/GabeRundlett/gvox/blob/old/src/formats/minecraft.cpp">https://github.com/GabeRundlett/gvox/blob/old/src/formats/minecraft.cpp</a></li>
</ul>
<p dir="auto">[ ] Sound : mp3, ogg, ..? decompresser</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/5_skele.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/5_skele.png" alt="banner"/></a></p>
<hr/>

<p dir="auto">[ ] Better low-discrepency sequences : <a href="https://blog.demofox.org/2017/05/29/when-random-numbers-are-too-random-low-discrepancy-sequences/" rel="nofollow">https://blog.demofox.org/2017/05/29/when-random-numbers-are-too-random-low-discrepancy-sequences/</a></p>
<p dir="auto">[ ] Better disk/sphere sampling patterns : <a href="https://extremelearning.com.au/how-to-generate-uniformly-random-points-on-n-spheres-and-n-balls/" rel="nofollow">https://extremelearning.com.au/how-to-generate-uniformly-random-points-on-n-spheres-and-n-balls/</a></p>
<p dir="auto">[ ] Better hash function! : <a href="https://nullprogram.com/blog/2018/07/31/" rel="nofollow">https://nullprogram.com/blog/2018/07/31/</a></p>
<p dir="auto">[ ] Better GPU hashing! : <a href="https://arugl.medium.com/hash-noise-in-gpu-shaders-210188ac3a3e" rel="nofollow">https://arugl.medium.com/hash-noise-in-gpu-shaders-210188ac3a3e</a></p>
<p dir="auto">[ ] Hash-trie as alternative to a table : <a href="https://nullprogram.com/blog/2023/09/30/" rel="nofollow">https://nullprogram.com/blog/2023/09/30/</a></p>
<p dir="auto">[ ] Octree ? <a href="https://graphics.tudelft.nl/Publications-new/2020/CBE20/ModifyingCompressedVoxels-main.pdf" rel="nofollow">https://graphics.tudelft.nl/Publications-new/2020/CBE20/ModifyingCompressedVoxels-main.pdf</a></p>
<p dir="auto">[ ] Better floating-point rng : <a href="https://www.corsix.org/content/higher-quality-random-floats" rel="nofollow">https://www.corsix.org/content/higher-quality-random-floats</a></p>
<p dir="auto">[ ] Better greedy meshing? <a href="https://www.youtube.com/watch?v=4xs66m1Of4A" rel="nofollow">https://www.youtube.com/watch?v=4xs66m1Of4A</a></p>
<p dir="auto">[ ] More interpolation goodies : <a href="https://paulbourke.net/miscellaneous/interpolation/" rel="nofollow">https://paulbourke.net/miscellaneous/interpolation/</a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/scallyw4g/bonsai/blob/master/screenshots/dusk_defence.png"><img src="https://github.com/scallyw4g/bonsai/raw/master/screenshots/dusk_defence.png" alt="banner"/></a></p>

<p dir="auto">[ ] Better (faster) Sin/Cos ? <a href="https://www.shadertoy.com/view/432yWW" rel="nofollow">https://www.shadertoy.com/view/432yWW</a></p>
<p dir="auto">[ ] Look into using this Intel tooling for dual CPU/GPU world-gen?
<a href="https://www.intel.com/content/dam/develop/external/us/en/documents/spir-vtointe-ispcgpu-compute-on-the-cpu.pdf" rel="nofollow">https://www.intel.com/content/dam/develop/external/us/en/documents/spir-vtointe-ispcgpu-compute-on-the-cpu.pdf</a>
<a href="https://ispc.github.io/" rel="nofollow">https://ispc.github.io/</a></p>
<hr/>

<p dir="auto">[ ] Improve the ETW layer : <a href="https://github.com/bombomby/optick/blob/master/src/optick_core.win.h">https://github.com/bombomby/optick/blob/master/src/optick_core.win.h</a></p>
<p dir="auto">[ ] GPU Profiling : <a href="https://www.khronos.org/opengl/wiki/Query_Object" rel="nofollow">https://www.khronos.org/opengl/wiki/Query_Object</a></p>
</article></div></div>
  </body>
</html>
