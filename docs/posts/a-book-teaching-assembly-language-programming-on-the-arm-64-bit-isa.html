<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/pkivolowitz/asm_book">Original</a>
    <h1>A book teaching assembly language programming on the ARM 64 bit ISA</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">This textbook provides a gentle introduction to assembly language
programming. What makes this introduction &#34;gentle&#34; is that it assumes
the reader is already comfortable with C or C++ coding. We use this
assumed knowledge to <strong>bridge</strong> backward towards the low level ISA
(Instruction Set Architecture).</p>
<p dir="auto">We drive home a very sharp point: C <strong>is</strong> a high level assembly
language <em>and</em> assembly language is nothing to be scared about.</p>
<h2 dir="auto"><a id="user-content-for-whom-is-this-book-intended" aria-hidden="true" href="#for-whom-is-this-book-intended"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>For Whom Is This Book Intended?</h2>
<p dir="auto">As mentioned, if you are already familiar with C (or languages descended
from C such as C++), this book begins with what you already know. Later
chapters dive more deeply into the corners and recesses of the ARM V8
ISA and are suitable for those wishing to master the rich instruction
set of the 64 bit ARM processors.</p>
<h2 dir="auto"><a id="user-content-can-this-book-be-used-in-courses-covering-assembly-language" aria-hidden="true" href="#can-this-book-be-used-in-courses-covering-assembly-language"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Can This Book Be Used In Courses Covering Assembly Language?</h2>
<p dir="auto">Yes, absolutely.</p>
<p dir="auto">In fact, we would argue that the study of assembly language is extremely
important to the building of competent software engineers. Further, we
would argue that teaching the x86 instruction set is cruel as that ISA
was born in the 1970s and has simply gotten more muddled with age.</p>
<p dir="auto">The MIPS instruction set is another ISA that is often covered in College
level courses. While  kinder and gentler than the x86 ISA, the MIPS
processor isn&#39;t nearly as relevant as the ARM family. Phones, tablets,
laptops and even desktops contain ARM V8 processors making the study of
the ARM ISA far more topical. Perhaps even more &#34;cool&#34;.</p>
<h2 dir="auto"><a id="user-content-calling-convention-used-in-this-book" aria-hidden="true" href="#calling-convention-used-in-this-book"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Calling Convention Used In This Book</h2>
<p dir="auto">Assembly language programming is quite closely dependent upon the
underlying hardware architecture. The host operating environment plays
an outsized role in determining how assembly language programs are
constructed. A &#34;calling convention&#34; refers to how functions are called
and how parameters are passed.</p>
<p dir="auto">In this book we will use the ARM LINUX conventions. This means:</p>
<ul dir="auto">
<li>
<p dir="auto">You will need to run a ARM Linux VM on the Macintosh - even on
ARM-based Macs. Why? Apple. That&#39;s why.</p>
</li>
<li>
<p dir="auto">You will need to run WSL (Windows Subsystem for Linux) on ARM-based
Windows machines. These do exist!</p>
</li>
<li>
<p dir="auto">You will need to run an ARM Linux VM on x86-based Windows machines.</p>
</li>
</ul>
<h2 dir="auto"><a id="user-content-a-lot-of-names" aria-hidden="true" href="#a-lot-of-names"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>A Lot of Names</h2>
<p dir="auto">As commendable as the ARM designs are, ARM&#39;s naming conventions for
their Intellectual Properties are horrid. In this book, AARCH64 and ARM
V8 are taken to be synonyms for the 64 bit ARM Instruction Set
Architecture (ISA).</p>
<p dir="auto">It is very difficult to find documentation at the ARM site because they
have <em>so many versions</em>, so many names for the same thing and so much
documentation in general. It really can be maddening.</p>
<p dir="auto">Within the text we will provide germane links as appropriate.</p>
<p dir="auto"><a href="https://developer.arm.com/documentation/ddi0596/2021-12?lang=en" rel="nofollow">Here</a>
is a link to &#34;a&#34; main instruction set page.</p>
<h2 dir="auto"><a id="user-content-section-1---bridging-from-c--c-to-assembly-language" aria-hidden="true" href="#section-1---bridging-from-c--c-to-assembly-language"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Section 1 - Bridging from C / C++ to Assembly Language</h2>
<p dir="auto">We start by providing what we&#39;re calling &#34;bridging&#34; from C and C++ to
assembly language. We use the knowledge you already have to learn new
knowledge - how cool is that!</p>
<table>
<thead>
<tr>
<th>Chapter</th>
<th>Content</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/hello_world/README.md">Hello World</a></td>
</tr>
<tr>
<td>2</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/if/README.md">If Statements</a></td>
</tr>
<tr>
<td>3</td>
<td>Loops</td>
</tr>
<tr>
<td>.... a</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/while/README.md">.... While Loops</a></td>
</tr>
<tr>
<td>.... b</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/for/README.md">.... For Loops</a></td>
</tr>
<tr>
<td>.... c</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/for/README.md#implementing-a-continue">.... Implementing Continue</a></td>
</tr>
<tr>
<td>.... d</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/for/README.md#implementing-a-break">.... Implementing Break</a></td>
</tr>
<tr>
<td>4</td>
<td>Interludes</td>
</tr>
<tr>
<td>.... a</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/regs/README.md">.... Registers</a></td>
</tr>
<tr>
<td>.... b</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/regs/ldr.md">.... Load and Store</a></td>
</tr>
<tr>
<td>.... c</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/regs/ldr2.md">.... More About <code>ldr</code></a></td>
</tr>
<tr>
<td>.... d</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/regs/widths.md">.... Register Sizes</a></td>
</tr>
<tr>
<td>5</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/jump_tables/README.md"><code>switch</code></a></td>
</tr>
<tr>
<td>6</td>
<td>Functions</td>
</tr>
<tr>
<td>.... a</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/funcs/README.md">.... Calling and Returning</a></td>
</tr>
<tr>
<td>.... b</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/funcs/README2.md">.... Passing Parameters</a></td>
</tr>
<tr>
<td>.... c</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/funcs/README3.md">.... Calling common C runtime functions</a></td>
</tr>
<tr>
<td>7</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/fizzbuzz/README.md">FizzBuzz - a Complete Program</a></td>
</tr>
<tr>
<td>8</td>
<td>Structs</td>
</tr>
<tr>
<td>.... a</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/structs/alignment.md">.... Alignment</a></td>
</tr>
<tr>
<td>.... b</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/structs/defining.md">.... Defining</a></td>
</tr>
<tr>
<td>.... c</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/structs/using.md">.... Using</a></td>
</tr>
<tr>
<td>9</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/const/README.md"><code>const</code></a></td>
</tr>
<tr>
<td>10</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_1/casting/README.md">Casting</a></td>
</tr>
</tbody>
</table>
<h2 dir="auto"><a id="user-content-section-2---floating-point" aria-hidden="true" href="#section-2---floating-point"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Section 2 - Floating Point</h2>
<p dir="auto">Floating point operations use their own instructions and their own set
of registers. Therefore, floating point operations are covered in their
own section:</p>
<table>
<thead>
<tr>
<th>Chapter</th>
<th>Content</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Floating Point</td>
</tr>
<tr>
<td>.... a</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_2/float/what.md">.... What Are Floating Point Numbers?</a></td>
</tr>
<tr>
<td>.... b</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_2/float/working.md">.... Registers (simplified)</a></td>
</tr>
<tr>
<td>.... c</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_2/float/literals.md">.... Literals</a></td>
</tr>
<tr>
<td>.... d</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_2/float">.... <code>fmov</code> Not Yet Written</a></td>
</tr>
<tr>
<td>.... e</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_2/float/rounding.md">.... Conversion To / From Integers</a></td>
</tr>
<tr>
<td>.... f</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_2/float">.... Four Basic Operations Not Yet Written</a></td>
</tr>
<tr>
<td>.... g</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_2/float">.... Selected Additional Operations Not Yet Written</a></td>
</tr>
<tr>
<td>.... z</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_2/float/half.md">.... Half Precision Floats</a></td>
</tr>
</tbody>
</table>
<h2 dir="auto"><a id="user-content-section-3---bit-manipulation" aria-hidden="true" href="#section-3---bit-manipulation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Section 3 - Bit Manipulation</h2>
<p dir="auto">What would a book about assembly language be without bit bashing?</p>
<table>
<thead>
<tr>
<th>Chapter</th>
<th>Content</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Bit Fields</td>
</tr>
<tr>
<td>.... a</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_3/bitfields/README.md">.... Without Bit Fields</a></td>
</tr>
<tr>
<td>.... b</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_3/bitfields/with.md">.... With Bit Fields</a></td>
</tr>
<tr>
<td>.... c</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/section_3/bitfields/review.md">.... Review of Newly Described Instructions</a></td>
</tr>
</tbody>
</table>
<h2 dir="auto"><a id="user-content-section-4---more-stuff" aria-hidden="true" href="#section-4---more-stuff"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Section 4 - More Stuff</h2>
<table>
<thead>
<tr>
<th>Chapter</th>
<th>Content</th>
</tr>
</thead>
<tbody>
<tr>
<td>---</td>
<td><a href="https://github.com/pkivolowitz/asm_book/blob/main/more/strlen_for_c/README.md">Determining string literal lengths for C functions</a></td>
</tr>
</tbody>
</table>
<h2 dir="auto"><a id="user-content-projects" aria-hidden="true" href="#projects"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Projects</h2>
<p dir="auto"><a href="https://github.com/pkivolowitz/asm_book/blob/main/projects/README.md">Here</a> are some project specifications to offer a
challenge to your growing mastery.</p>
<p dir="auto">The <a href="https://github.com/pkivolowitz/asm_book/blob/main/projects/DIRENT/README.md">DIRENT</a> project demonstrates how a
complex <code>struct</code> can be used in assembly language.</p>
<h2 dir="auto"><a id="user-content-about-the-author" aria-hidden="true" href="#about-the-author"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>About The Author</h2>
<p dir="auto">Perry Kivolowitz&#39;s career in the Computer Sciences spans just under five
decades. He launched more than 5 companies, mostly relating to hardware,
image processing and visual effects (for motion pictures and
television). Perry received Emmy recognition for his work on the The
Gathering, the pilot episode of Babylon 5. Later he received an Emmy
Award for Engineering along with his colleagues at
<a href="https://en.wikipedia.org/wiki/SilhouetteFX" rel="nofollow">SilhouetteFX, LLC</a>.
SilhouetteFX is used in almost every significant motion picture for
rotoscoping, paint, tracking, 2D to 3D reconstruction, compositing and
more.</p>
<p dir="auto">In 1996 Perry received an <a href="https://en.wikipedia.org/wiki/Academy_Award_for_Technical_Achievement" rel="nofollow">Academy Award for Scientific and
Technical Achievement</a>
for his invention of Shape Driven Warping and
Morphing. This is the technique responsible for many of the
famous effects in Forrest Gump, Titanic and Stargate.</p>
<p dir="auto">Twenty twenty two marks Perry&#39;s 18th year teaching Computer
Science at the college level,
ten years at the UW Madison and now 8 at Carthage College.</p>
<p dir="auto">Assembly language is a passion for Perry having worked in the following
ISAs:</p>
<ul dir="auto">
<li>
<p dir="auto">Univac 1100</p>
</li>
<li>
<p dir="auto">Digital Equipment Corporation PDP-11</p>
</li>
<li>
<p dir="auto">Digital Equipment Corporation VAX-11</p>
</li>
<li>
<p dir="auto">Motorola 68000</p>
</li>
<li>
<p dir="auto">ARM beginning with AARCH64</p>
</li>
</ul>
<p dir="auto">This work is dedicated to my wife Sara and sons Ian and Evan.</p>
<h3 dir="auto"><a id="user-content-gratuitous-plug" aria-hidden="true" href="#gratuitous-plug"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Gratuitous Plug</h3>
<p dir="auto">Perry has created a library of about 200 programming projects
suitable for CS 1, CS 2, Data Structures, Networking, Operating
Systems and Computer Organization classes. If a publisher of
CS text books be interested in purchasing the library, please
reach out.</p>
</article>
          </div></div>
  </body>
</html>
