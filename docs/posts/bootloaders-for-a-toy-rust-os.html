<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="http://katrinaeg.com/bootloaders.html">Original</a>
    <h1>Bootloaders for a Toy Rust OS</h1>
    
    <div id="readability-page-1" class="page"><div>
			<div>
				<!-- mobile top bar to activate nav -->
				<nav>
					<section>
						<a><span></span></a>
					</section>

					<section>
						
					</section>
				</nav>

				<!-- mobile side bar nav -->
				

				<!-- top bar nav -->
				<nav data-topbar="">
					<ul>
						<li>
							
						</li>
					</ul>

					<section>
						<ul>
						            <li><a href="http://katrinaeg.com/pages/about-me.html">About Me</a></li>
						            <li><a href="http://katrinaeg.com/pages/projects.html">Projects</a></li>
							    <li><a href="http://katrinaeg.com/archives.html">Archives</a>
						</li></ul>
					</section>
				</nav>

				<!-- Main Page Content and Sidebar -->
				<section>
					<div>
						<!-- Main Content -->
						<div role="content">
<article>
    <h2>Bootloaders for a Toy Rust OS</h2>
  	<h6>Written by <a href="http://katrinaeg.com/author/katrina-ellison-geltman.html">Katrina Ellison Geltman</a> on Fri 03 October 2025.</h6>
	<p>I had to try a few different bootloaders with the toy Rust operating system
I&#39;m building. Here&#39;s what I was able to get working and what I gave up on.</p>
<ul>
<li>
<p>❌ Rust&#39;s <a href="https://github.com/rust-osdev/bootloader">bootloader</a> crate. I couldn&#39;t
  get this to build without Rust&#39;s standard library.
  bootloader depends on serde, which uses std. Lots of errors like, &#34;can&#39;t
  find crate for std&#34;. I tried building the bootloader separately from the
  kernel, but I wasn&#39;t able to do it successfully. (This is likely operator error, as
  I&#39;m not that familiar with cargo configuration files).</p>
</li>
<li>
<p>✅ <a href="https://github.com/limine-bootloader/limine">Limine</a> with a 64-bit OS.
  This worked, but the OS was
  really slow to launch. Code and config <a href="https://github.com/KatrinaE/rust-os/tree/3c9037ee725148e48ea660774075ae7105d62836">here</a>.</p>
</li>
<li>
<p>❌ QEMU&#39;s built-in bootloader with a 64-bit OS. This didn&#39;t work. I got errors like,
 &#34;Error loading uncompressed kernel without PVH ELF Note&#34;. My understanding is that
 there is a way to do this, but it&#39;s complicated.</p>
</li>
<li>
<p>✅ QEMU&#39;s built-in bootloader with a 32-bit OS. This worked, and the OS launched quickly.
  Code and config <a href="https://github.com/KatrinaE/rust-os/tree/680a7444399e388671d57e5e95d082e53d95d3ed">here</a>.</p>
</li>
</ul>
</article>

						</div>
						<!-- End Main Content -->
						<!-- Sidebar -->
						
						<!-- End Sidebar -->
					</div>

					<!-- Footer -->
					
					<!-- End Footer -->
				</section>
				</div><!--off-canvas inner-->
		</div></div>
  </body>
</html>
