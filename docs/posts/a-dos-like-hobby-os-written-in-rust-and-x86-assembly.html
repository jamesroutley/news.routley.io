<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/krustowski/rou2exOS">Original</a>
    <h1>Show HN: A DOS-like hobby OS written in Rust and x86 assembly</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">A second iteration of the RoureXOS operating system, rewritten in Rust.</p>
<ul dir="auto">
<li><a href="https://krusty.space/projects/rourexos/" rel="nofollow">Original RoureXOS (a blog post)</a></li>
<li><a href="https://blog.vxn.dev/rou2exos-rusted-edition" rel="nofollow">rou2exOS Rusted Edition (a blog post)</a></li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/108d5a7e9f0a67d395b8594fd4b20592fcfd7b3104138733c2401358e5941242/68747470733a2f2f626c6f672e76786e2e6465762f696d616765732f706f7374732f726f753265786f732f636f7665722e77656270"><img src="https://camo.githubusercontent.com/108d5a7e9f0a67d395b8594fd4b20592fcfd7b3104138733c2401358e5941242/68747470733a2f2f626c6f672e76786e2e6465762f696d616765732f706f7374732f726f753265786f732f636f7665722e77656270" alt="rou2exOS startup" data-canonical-src="https://blog.vxn.dev/images/posts/rou2exos/cover.webp"/></a></p>
<p dir="auto">To run the OS, you can use the attached ISO image from any Release, and run it in QEMU emulator. The system was also tested on x86_64 baremetal (booted from the USB flash disk).</p>

<div dir="auto" data-snippet-clipboard-copy-content="# install Rust and its dependencies
make init

# make sure you have `xorriso`, `net-tools` and `grub2-tools` (or just grub-tools) installed (Linux)
dnf install xorriso net-tools grub2-tools qemu qemu-common qemu-system-x86

# compile the kernel and stage2 bootloader, link it into an ELF binary and bake into an ISO
# image with GRUB stage1 bootloader
make build

# run the QEMU emulation with ISO image (respectively with additional floppy image attached as well)
make run_iso
make run_iso_floppy

# (alternative) run the kernel exclusively only (needs the `bootloader` dependency in Cargo.toml to be added)
cargo bootimage
make run"><pre><span><span>#</span> install Rust and its dependencies</span>
make init

<span><span>#</span> make sure you have `xorriso`, `net-tools` and `grub2-tools` (or just grub-tools) installed (Linux)</span>
dnf install xorriso net-tools grub2-tools qemu qemu-common qemu-system-x86

<span><span>#</span> compile the kernel and stage2 bootloader, link it into an ELF binary and bake into an ISO</span>
<span><span>#</span> image with GRUB stage1 bootloader</span>
make build

<span><span>#</span> run the QEMU emulation with ISO image (respectively with additional floppy image attached as well)</span>
make run_iso
make run_iso_floppy

<span><span>#</span> (alternative) run the kernel exclusively only (needs the `bootloader` dependency in Cargo.toml to be added)</span>
cargo bootimage
make run</pre></div>

<p dir="auto">Run the kernel in QEMU to get the <code>pty</code> number in stdout:</p>
<div data-snippet-clipboard-copy-content="make run

char device redirected to /dev/pts/3 (label serial0)"><pre><code>make run

char device redirected to /dev/pts/3 (label serial0)
</code></pre></div>
<p dir="auto">Listen for SLIP packets and create a <code>sl0</code> interface:</p>
<div data-snippet-clipboard-copy-content="sudo slattach -L -p slip -s 115200 /dev/pts/3
sudo ifconfig sl0 192.168.3.1 pointopoint 192.168.3.2 up"><pre><code>sudo slattach -L -p slip -s 115200 /dev/pts/3
sudo ifconfig sl0 192.168.3.1 pointopoint 192.168.3.2 up
</code></pre></div>
<p dir="auto">Catch packets using <code>tcpdump</code>:</p>

</article></div></div>
  </body>
</html>
