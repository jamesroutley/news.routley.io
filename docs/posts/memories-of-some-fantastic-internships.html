<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://dubroy.com/blog/memories-of-some-fantastic-internships">Original</a>
    <h1>Memories of some fantastic internships</h1>
    
    <div id="readability-page-1" class="page"><div id="content">
		<div>
			
			<p><small>July 31, 2024
            </small></p><p>During my CS undergrad at <a href="https://carleton.ca/">Carleton University</a>, I had the opportunity to do a bunch of internships.<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup> Looking back, I can‚Äôt help but think how lucky I was! I got to work on some great teams, learned a ton, and had a lot of fun.</p>
<h2>Corel</h2>
<p>My first real internship was on the Linux team at <a href="https://en.wikipedia.org/wiki/Alludo">Corel</a> in the summer of 2000. I was super excited about this, for a couple of reasons:</p>
<ul>
<li>I had grown up using CorelDRAW.</li>
<li>I was super into Linux and open source at the time. (As in, I read Slashdot religiously and stayed home on Friday nights to recompile my kernel.) So an internship where I got <em>paid</em> to work on open source code was a dream!</li>
</ul>
<p>I spent the first summer working on <a href="https://www.winehq.org/">Wine</a>, which Corel used for the Linux versions of their products (CorelDRAW, WordPerfect, etc). Not only did I learn lots about doing serious development on Linux, but I also learned a ton about the Win32 API.</p>
<p>One of the highlights of the summer was getting to attend the <a href="https://en.wikipedia.org/wiki/Linux_Symposium">Ottawa Linux Symposium</a>. For those that don‚Äôt know, OLS was a pretty amazing conference. Here‚Äôs how <a href="https://linux.slashdot.org/story/00/07/31/1633205/ottawa-linux-symposium-2000-tech-rocks">Slashdot described it</a>:</p>
<blockquote>
<p>If you‚Äôve got some kick-ass new code to add to Enlightenment, go talk to Rasterman. He‚Äôs right over there. Want to discuss something you need added to the kernel, and want to show off your source to Alan Cox? He‚Äôs sitting down hacking 2.4 while discussing Scooby-Doo. One of the great things about the Linux community is the ability to contact developers first-hand, especially though E-mail. Ottawa Linux Symposium is a testament to the fact that it works just as well in real life, too.</p>
</blockquote>
<p>After my internship was over, I stayed on as a part time employee during the school year, working on the <a href="https://en.wikipedia.org/wiki/Corel_Linux">Corel Linux</a> desktop team. I was a full-time intern again the next summer, but things were‚Ä¶different. Most of the Linux team had moved to another company (<a href="https://web.archive.org/web/20050205175507/https://www.xandros.com/news/press/release1.html">Xandros</a>), and those of us that were left ended up working on the FreeBSD port of the .NET CLR.<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup></p>
<h2>Eclipse &amp; SWT</h2>
<p>In the fall of 2001, I joined a company called <a href="https://en.wikipedia.org/wiki/Object_Technology_International">Object Technology International (OTI)</a> for an internship on the <a href="https://www.eclipse.org/">Eclipse</a> team. OTI was a subsidiary of IBM that was best known for producing VisualAge Smalltalk. They‚Äôd also created Eclipse, and at that time, they were just gearing up for the first public release.</p>
<p>Interestingly, many people on the team didn‚Äôt have any experience with open source. I remember explaining the basic development process to someone on my team: ‚ÄúSo you run <code>diff</code>, generate a patch, and then send your patch to the mailing list‚Ä¶‚Äù</p>
<p>The team I worked on was responsible for <a href="https://www.eclipse.org/swt/">SWT</a>, the widget toolkit used by Eclipse. This gave me my first exposure to a few different native toolkits: MFC, Motif, and GTK. The main thing I worked on was the CoolBar widget, which earned me the nickname ‚ÄúCoolio‚Äù from the team‚Äôs TL.</p>
<p>Compared to Corel, the environment at OTI was much more like the stereotypical tech company. While we didn‚Äôt have free lunch, we did have a well-stocked kitchen with great breakfast cereals (I was a Corn Pops man), and a pool table and game consoles in the basement. I also remember how at the start of my internship, they apologized that I wouldn‚Äôt get my own office ‚Äî¬†I‚Äôd have to share with another intern.</p>
<h2>J9 VM Team</h2>
<p>The following summer, I returned to OTI to work on the J9 VM team. This was the same team who‚Äôd built the Smalltalk VM for VisualAge Smalltalk, and J9 was (at the time) a Java VM mostly designed for embedded applications.</p>
<p>One of the most memorable parts of this internship was how much Smalltalk code I wrote! Large parts of the VM were written in a kind of portable assembly language, implemented as a Smalltalk DSL. For each each supported platform, there was a ‚Äúbackend‚Äù that would translate the portable assembly to native assembly for that platform.</p>
<p>One of the projects I worked on that summer was getting J9 running again on HP-UX (for PowerPC I think, not PA-RISC). The first step was getting the code generation working.  As I recall, the HP-UX/PPC backend was only partially implemented.</p>
<p>After I got the code generation working, it was a weeks-long process of fixing crash after crash. The first goal was just to get <code>j9 -version</code> working, and then to run a simple hello world program, and eventually to get a bigger benchmark like SPECjvm running.</p>
<p>Another project I worked on was for PalmOS. As I recall, J9 supported a kind of static linking on PalmOS, where the app bytecode was bundled together with the virtual machine into a native PalmOS app. When done naively, that resulted in some pretty big executables. So my task was to figure out how to make them smaller.</p>
<h2>J9 again: memory management</h2>
<p>In winter 2003 I did another internship on the J9 team, this time working on memory management.</p>
<p>As I mentioned, J9 was originally designed for embedded applications, but there was a push to make it work better for server applications. A big thing that needed to change was the garbage collector. So my colleague had taken on the task of writing a brand new memory management framework for J9 and a high-performance, parallel garbage collector. My job was to help him out any way that I could.</p>
<p>At the time, I had zero experience with garbage collection, but I picked things up pretty quickly. One of the first things I learned: since the GC needs to traverse every live object and a good portion of the internal VM data structures, any kind of memory corruption (like a dangling pointer) is likely to manifest as a crash in the GC. As we joked: ‚ÄúAlways blame the garbage collector.‚Äù</p>
<p>So one of my first big tasks was to work on a heap verifier, aka ‚ÄúGC check‚Äù. The idea was to have a command line option (<code>-Xcheck:gc</code>) that would verify the state of the heap, and other GC-relevant VM structures, before and after every garbage collection. That way, when a crash got sent our way, we could pretty easily tell whether it was something <em>caused</em> by the GC or not. It was basically a perfect starter project.</p>
<p>It was an 8-month placement, but it worked out so well that I ended up spending the next four years there ‚Äî¬†working part time while I finished my degree, and then accepting a permanent job in 2004. I stayed there until 2006, when I got the urge to go back to school and do my master‚Äôs in human-computer interaction.</p>
<p>I learned an incredible amount of things from my time on the J9 team. Not only about memory management and systems programming, but about good engineering practices. I remember being struck by the size and scale of the build and test lab: 25m¬≤ or so, packed with all kinds of different hardware ‚Äî¬†from beefy rack-mount servers to <a href="https://en.wikipedia.org/wiki/Pocket_PC">Pocket PCs</a> and <a href="https://en.wikipedia.org/wiki/PalmPilot">Palm Pilots</a>. You‚Äôd arrive in the morning to find out you‚Äôd broken the build on some architecture you‚Äôd never heard of until then.</p>
<p>Looking back, I really can‚Äôt believe my luck in getting to work on something so technically challenging, but also high impact. Getting to help build a brand-new parallel GC framework from the ground up ‚Äî¬†as an intern! With one other person!<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup> Pretty amazing.</p>


<p>One of the things I really miss from this period of my career was how frequently I got thrown into the deep end. I joined teams that I was not at all qualified for, and was handed projects that required expertise that I didn‚Äôt (yet) have. And this was totally expected!</p>


<p>üí¨ <em>Feedback? You can <a href="https://dubroy.com/blog/about/#contact">send me an email</a> or <a href="https://x.com/dubroy/status/1818633209191547229">respond on Twitter</a>.</em></p>

		</div>	</div></div>
  </body>
</html>
