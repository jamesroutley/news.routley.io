<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/KrishKrosh/TrackWeight">Original</a>
    <h1>TrackWeight: Turn your MacBook&#39;s trackpad into a digital weighing scale</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><strong>Turn your MacBook&#39;s trackpad into a precise digital weighing scale</strong></p>
<p dir="auto"><a href="https://x.com/KrishRShah/status/1947186835811193330" rel="nofollow">TrackWeight</a> is a macOS application that transforms your MacBook&#39;s trackpad into an accurate weighing scale by leveraging the Force Touch pressure sensors built into modern MacBook trackpads.</p>
<details open="">
  <summary>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z"></path>
</svg>
    <span aria-label="Video description IMG_7303.mov">IMG_7303.mov</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/50386081/468487728-7eaf9e0b-3dec-4829-b868-f54a8fd53a84.mov?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTMxODMzODMsIm5iZiI6MTc1MzE4MzA4MywicGF0aCI6Ii81MDM4NjA4MS80Njg0ODc3MjgtN2VhZjllMGItM2RlYy00ODI5LWI4NjgtZjU0YThmZDUzYTg0Lm1vdj9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MjIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzIyVDExMTgwM1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTk1M2U3YTExMDhkOTdmYTA3NjVlZmQ1MWQwM2FjZGRlMmVlMWM5YTgzZDdmNGFhY2ZkZDQ3YzQzNzVmNjI3YjQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0._f1VZUYaqFRkRXwImStWCkLPefEV_ygjkNSFc-PGGwk" data-canonical-src="https://private-user-images.githubusercontent.com/50386081/468487728-7eaf9e0b-3dec-4829-b868-f54a8fd53a84.mov?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NTMxODMzODMsIm5iZiI6MTc1MzE4MzA4MywicGF0aCI6Ii81MDM4NjA4MS80Njg0ODc3MjgtN2VhZjllMGItM2RlYy00ODI5LWI4NjgtZjU0YThmZDUzYTg0Lm1vdj9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFWQ09EWUxTQTUzUFFLNFpBJTJGMjAyNTA3MjIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjUwNzIyVDExMTgwM1omWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTk1M2U3YTExMDhkOTdmYTA3NjVlZmQ1MWQwM2FjZGRlMmVlMWM5YTgzZDdmNGFhY2ZkZDQ3YzQzNzVmNjI3YjQmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0In0._f1VZUYaqFRkRXwImStWCkLPefEV_ygjkNSFc-PGGwk" controls="controls" muted="muted">

  </video>
</details>

<p dir="auto">To use it yourself:</p>
<ol dir="auto">
<li>Open the scale</li>
<li>Rest your finger on the trackpad</li>
<li>While maintaining finger contact, put your object on the trackpad</li>
<li>Try to put as little pressure on the trackpad while still maintaining contact. This is the weight of your object</li>
</ol>

<p dir="auto">TrackWeight utilizes the <a href="https://github.com/Kyome22/OpenMultitouchSupport">Open Multi-Touch Support library</a> by <a href="https://github.com/Kyome22">Takuto Nakamura</a> to gain private access to all mouse and trackpad events on macOS. This library provides detailed touch data including pressure readings that are normally inaccessible to standard applications.</p>
<p dir="auto">The key insight is that trackpad pressure events are only generated when there&#39;s capacitance detected on the trackpad surface - meaning your finger (or another conductive object) must be in contact with the trackpad. When this condition is met, the trackpad&#39;s Force Touch sensors provide precise pressure readings that can be calibrated and converted into weight measurements.</p>

<p dir="auto">The weight calculations have been validated by:</p>
<ol dir="auto">
<li>Placing the MacBook trackpad directly on top of a conventional digital scale</li>
<li>Applying various known weights while maintaining finger contact with the trackpad</li>
<li>Comparing and calibrating the pressure readings against the reference scale measurements</li>
<li>Ensuring consistent accuracy across different weight ranges</li>
</ol>
<p dir="auto">It turns out that the data we get from MultitouchSupport is already in grams!</p>

<ul dir="auto">
<li><strong>macOS 13.0+</strong> (for Open Multi-Touch Support library compatibility)</li>
<li><strong>MacBook with Force Touch trackpad</strong> (2015 or newer MacBook Pro, 2016 or newer MacBook)</li>
<li><strong>App Sandbox disabled</strong> (required for low-level trackpad access)</li>
<li><strong>Xcode 16.0+</strong> and <strong>Swift 6.0+</strong> (for development)</li>
</ul>

<ol dir="auto">
<li>Clone this repository</li>
<li>Open <code>TrackWeight.xcodeproj</code> in Xcode</li>
<li>Disable App Sandbox in the project settings (required for trackpad access)</li>
<li>Build and run the application</li>
</ol>

<ul dir="auto">
<li><strong>Finger contact required</strong>: The trackpad only provides pressure readings when it detects capacitance (finger touch), so you cannot weigh objects directly without maintaining contact</li>
<li><strong>Surface contact</strong>: Objects being weighed must be placed in a way that doesn&#39;t interfere with the required finger contact</li>
<li><strong>Metal objects</strong>: Metal objects may be detected as a finger touch, so you may need to place a piece of paper or a cloth between the object and the trackpad to get an accurate reading</li>
</ul>

<p dir="auto">The application is built using:</p>
<ul dir="auto">
<li><strong>SwiftUI</strong> for the user interface</li>
<li><strong>Combine</strong> for reactive data flow</li>
<li><strong>Open Multi-Touch Support library</strong> for low-level trackpad access</li>
</ul>
<div dir="auto"><h3 tabindex="-1" dir="auto">Open Multi-Touch Support Library</h3><a id="user-content-open-multi-touch-support-library" aria-label="Permalink: Open Multi-Touch Support Library" href="#open-multi-touch-support-library"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This project relies heavily on the excellent work by <strong>Takuto Nakamura</strong> (<a href="https://github.com/Kyome22">@Kyome22</a>) and the <a href="https://github.com/Kyome22/OpenMultitouchSupport">Open Multi-Touch Support library</a>. The library provides:</p>
<ul dir="auto">
<li>Access to global multitouch events on macOS trackpads</li>
<li>Detailed touch data including position, pressure, angle, and density</li>
<li>Thread-safe async/await support for touch event streams</li>
<li>Touch state tracking and comprehensive sensor data</li>
</ul>
<p dir="auto"><strong>License</strong>: MIT License - Copyright (c) 2019 TakutoNakamura</p>

<p dir="auto">This application is for experimental and educational purposes. While efforts have been made to ensure accuracy, TrackWeight should not be used for critical measurements or commercial applications where precision is essential. Always verify measurements with a calibrated scale for important use cases.</p>
</article></div></div>
  </body>
</html>
