<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.kuon.ch/post/2020-03-08-hsluv/">Original</a>
    <h1>HSLuv, a developer friendly perceptual color space (2020)</h1>
    
    <div id="readability-page-1" class="page"><div><p>As a developer, managing colors can be tedious, but there are &#34;developer
friendly&#34; solutions, HSLuv is one of them and I will explain what it is and how
it can help.</p>
<h2 id="the-problem-with-traditional-color-spaces">The problem with traditional color spaces</h2>
<p>Traditionally in computing, we use RGB or HSL.</p>
<p>The problem with those color spaces is that they are non linear in term of human
perception.</p>
<h3 id="rgb">RGB</h3>
<p>For example, let&#39;s take the following stepped gradients, they are all composed
of even spaced RGB colors.</p>
<ul>
<li>Red row is <code>#000</code>, <code>#100</code>, <code>#200</code>, <code>#FEE</code>, <code>#FFF</code>,…</li>
<li>Green row is <code>#000</code>, <code>#010</code>, <code>#020</code>, …</li>
<li>Blue row is <code>#000</code>, <code>#001</code>, <code>#002</code>, …</li>
<li>Yellow row is <code>#000</code>, <code>#110</code>, <code>#220</code>, …</li>
<li>Cyan row is <code>#000</code>, <code>#011</code>, <code>#022</code>, …</li>
<li>Magenta row is <code>#000</code>, <code>#101</code>, <code>#202</code>, …</li>
<li>Gray row is <code>#000</code>, <code>#111</code>, <code>#111</code>, <code>#222</code>, <code>#222</code>, …</li>
</ul>

<p>We can see a few things:</p>
<ul>
<li>The steps are clearly not regular in brightness, the dark ones are much bigger
steps than the light ones. The first step being a big one.</li>
<li>Brightness is not consistent for each colors, blue is much darker.</li>
<li>Saturation is uneven, blue and red looks &#34;desaturated&#34; on the right.</li>
</ul>
<p>Ok, RGB is how pixels are rendered, it was never designed to have &#34;manipulable&#34;
values, so this is to be expected.</p>
<h3 id="hsl">HSL</h3>
<p>Let&#39;s try the same with HSL. HSL is supposed to be much easier to work with,
because we can keep the hue constant and modify the other two values.</p>
<p>Each row is an increment in lightness of 3.3% <code>hsl(h, 100%, 0%)</code>, <code>hsl(h, 100%, 3.3%)</code>,
<code>hsl(h, 100%, 9.9%)</code>, where <code>h</code> is:</p>
<ul>
<li>Red row is <code>0</code></li>
<li>Green row is <code>120</code></li>
<li>Blue row is <code>240</code></li>
<li>Yellow row is <code>60</code></li>
<li>Cyan row is <code>180</code></li>
<li>Magenta row is <code>300</code></li>
</ul>

<p>Yes, you don&#39;t have to check, the colors are the same as RGB, that&#39;s because HSL
is just a way to write RGB, it&#39;s just another representation of the same color
model.</p>
<p>In the rest of this post, I will use <em>RGB</em> or <em>HSL</em> interchangeably to denote
the RGB color model.</p>
<h3 id="hsluv">HSLuv</h3>
<p>In the 1970&#39;s, the <a href="https://en.wikipedia.org/wiki/International_Commission_on_Illumination">International Commission on Illumination</a>
came up with <a href="https://en.wikipedia.org/wiki/CIELAB_color_space">CIELAB color model</a>.
At the same time, the <a href="https://en.wikipedia.org/wiki/CIELUV">CIELUV color model</a>
was also introduced.
Those models are device independent and aspire to perceptual uniformity. This
means trying to approximate human vision, this will be showcased in the example
section below.</p>
<p>CIELUV uses lightness (L) and chromatic coordinates (uv), which aren&#39;t very
friendly to work with.</p>
<p>For this reason, <em>Alexei Boronine</em> <a href="https://www.boronine.com/2012/03/26/Color-Spaces-for-Human-Beings/">came up</a> with <a href="https://www.hsluv.org/">HSLuv</a>.
This color space let you use the CIELUV color space with a familiar Hue
Saturation Lightness trio.</p>
<p>Let&#39;s represent the same gradients we had before:</p>

<p>The hue looks &#34;bizarre&#34;, but the steps are much more regular and this is what
matters as we will see next.</p>
<h2 id="hsluv-compared-to-rgb">HSLuv compared to RGB</h2>
<p>The examples of this section are taken from <em>Alexei Boronine&#39;s</em> <a href="https://www.boronine.com/2012/03/26/Color-Spaces-for-Human-Beings/">original blog post</a>.</p>
<h3 id="colors-with-same-lightness">Colors with same lightness</h3>
<p><span>HSL(250, 100%, 50%)</span>
<span>HSL(60, 100%, 50%)</span>
</p>




<svg width="100%" height="50px" viewBox="0 0 2 1" preserveAspectRatio="none">


  <rect x="0" y="0" width="1.1" height="1" fill="#2B00FF"></rect>
  

  <rect x="1" y="0" width="1.1" height="1" fill="#FFFF00"></rect>
  

</svg>



<p><span>HSLuv(250, 100%, 50%)</span>
<span>HSLuv(60, 100%, 50%)</span>
</p>




<svg width="100%" height="50px" viewBox="0 0 2 1" preserveAspectRatio="none">


  <rect x="0" y="0" width="1.1" height="1" fill="#007ad1"></rect>
  

  <rect x="1" y="0" width="1.1" height="1" fill="#957200"></rect>
  

</svg>



</div></div>
  </body>
</html>
