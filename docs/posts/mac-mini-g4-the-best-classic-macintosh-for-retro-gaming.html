<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.xtof.info/MacMiniG4-the-best-classic-macintosh-for-retrogaming.html">Original</a>
    <h1>Mac Mini G4 – The best « classic » Macintosh for retro-gaming?</h1>
    
    <div id="readability-page-1" class="page"><article itemscope="" itemtype="http://schema.org/BlogPosting">

    <div itemprop="articleBody">

      <p><img src="https://www.scd31.com/posts/MacMini-Banner.png" alt="Banner"/>
</p>

<h2 id="intro">Intro</h2>

<p>Although my first computer was an Apple II, I never was a Macintosh user, as my family switched afterwards to the PC. But reading the magazines made me familiar with this family of computers and I wanted to add a pre-OSX Macintosh to my collection for some time. The only things that refrained me were that most Macs use esoteric plugs and that I did not have the space.</p>

<p>Until I stumbled on a YouTube video claiming that the Mac Mini G4 was one of the best machines to play pre-2000 games. It is indeed one very last <a href="https://en.wikipedia.org/wiki/PowerPC">PowerPC</a> machine commercialized by Apple and the community modded <strong>Mac OS 9</strong> to support it. The Mini G4 is built around a G4 CPU running at least at 1.25GHz. While modest by 2005 standards, this is more than twice the clock-speed of the first PowerMac G4 which was touted as a “<a href="https://www.youtube.com/watch?v=OoxvLq0dFvw">Super-computer</a>” when it was commercialized in 1999.</p>

<p>The machine promised to have enough power to run almost every game from the last century packed in the smallest space possible. This was the model I had to collect!</p>

<p>This article will summarize the PowerPC developments leading to the G4, explain why a 2005 machine should be able to range 20 years worth of Mac games,  then present the Mini G4 and explain how to install Mac OS 9.
But if you’re only here to see the games, you can <a href="#show-me-the-result">jump straight to the end</a>.</p>

<h2 id="the-road-to-the-powerpc-g4">The road to the PowerPC G4</h2>

<p>Apple must hold the record of different CPU architectures used in the same family of computers. Through the years, “Macs” were powered by the 68000 family, then by PowerPC CPUs, then by Intel’s and finally by ARM based “Apple Silicon”.</p>

<p>The G4, the heart of the Mac Mini, is one of the last PowerPC used in Apple computers.</p>

<h3 id="the-aim-alliance">The AIM alliance</h3>

<p>When Motorola introduced its <a href="https://en.wikipedia.org/wiki/Motorola_68000">68000</a> in 1979, this was the bomb. The CPU was very powerful and prepared a bright future with 32-bit characteristics that promised to give birth to full 32-bit successors. The 68000 was a tremendous success and won a lot of designs, from home computers to UNIX Workstations. But it did not win the most important of all: the IBM PC. Excluded from the huge volumes of IBM and its clones, Motorola CPU division relied on relatively high margins from Apple and the Workstations to stay in the game.</p>

<p>The RISC paradigm allowed the workstation integrators, such as SUN, to design a CPU tailored for their needs for a relatively modest price. And the cherry on the cake: they smoked their CISC contemporaries performance-wise.</p>

<p>Motorola reacted by introducing its own RISC architecture, the <a href="https://en.wikipedia.org/wiki/Motorola_88000">88000</a>. But the design did not sell well. With the Workstation market lost, Motorola feared to become too dependent on the success of Apple which was its last major client for the more modern members of the 68K family.</p>

<p>Meanwhile, Apple could see that the future of the 68K family was not assured and began to consider alternatives, including the 88000 from Motorola. But nothing on the market was truly satisfying until IBM proposed a deal.</p>

<p>Of course, IBM was the major player in the PC market, the PC CPUs were provided by Intel and AMD. In the meantime, IBM was doing very well with its <a href="https://en.wikipedia.org/wiki/IBM_RS/6000">RS/6000</a> line of computers that were powered by a brand new multi-chip RISC CPU named POWER. With the desire to expand its architecture to the desktop market IBM reached Apple and proposed them an alliance. Apple introduced Motorola to the deal as they had more experience producing CPUs in high quantity and for a low price: the AIM, Apple-IBM-Motorola, alliance was born in 1991. Among its goals: introduce a POWER compatible single chip CPU that would serve the needs of Apple and others in the desktop market. They called it the PowerPC.</p>

<h3 id="the-600-family">The 600 family</h3>

<p>The AIM alliance gathered engineers from Motorola and IBM at the Somerset facility in Texas with the goal to produce a coherent family. The 601 was to be introduced as soon as 1993 while two new chips were to be designed in parallel and marketed one year later. The 603 was to target relatively low powered devices such as laptops and the 604, more powerful, aimed for workstation. And a few months later, AIM hoped to produce the 620, the first 64-bit PowerPC.</p>

<p>If the instruction set was based on IBM’s POWER, Motorola provided the <em>60x bus</em>, derived from its 88110. It had the advantage of reducing the engineering effort and costs for both the first PowerPC CPU and its motherboards.</p>

<h4 id="601">601</h4>

<p>Based on prior works from IBM to produce a one-chip POWER CPU, the very first PowerPC, christened 601, was engineered in only one year! The first samples were available in October 1992 and the volume production started in mid-1993, with IBM introducing the RS/6000 model 250, equipped with a 66MHz PPC 601 in October.</p>

<p>The first Power Macintosh appeared in March 1994. The production volume allowed by Apple was very high compared to other RISC architectures and allowed Motorola to price the PowerPC 601 aggressively.</p>

<p>But the 601 was not perfect: its architecture comprised only one Arithmetic and Logic Unit (ALU) that was used both for integer operations and address calculation. This was a heavy burden that would be alleviated in subsequent designs. Branch prediction was also more simplistic than on the <a href="https://en.wikipedia.org/wiki/Pentium_%5C(original%5C)">Pentium</a>.</p>

<p><img src="https://www.scd31.com/posts/MacMini-Fig1-601Arch.svg" alt="PowerPC 601 block diagram"/>
<em>PowerPC 601 block diagram (MPR 19921028)</em></p>

<p>Nevertheless, without the need to decode the cumbersome x86 instructions, the 601 could use its transistor budget to provide a very generous 32-KB unified cache. It fared favorably against the Pentium in benchmark, especially when operating on floating point numbers. And with only 2.8 million transistors, it was cheaper to produce.</p>

<p><img src="https://www.scd31.com/posts/MacMini-Table1-601vsOthers.svg" alt="Starting with the 601, each generation, Motorola will try to price its PowerPC at half the price of a comparable Pentium"/>
<em>Starting with the 601, each generation, Motorola will try to price its PowerPC at half the price of a comparable Pentium (source: MPR 1993-05-10)</em></p>

<p>The first reviews of the Power Macintosh were enthusiastic. Legacy 68K software ran through a very capable emulation layer at the speed of a mid-range 68040, while the software recompiled to take advantage of the chip were faster than on a PC, especially if they made use of the floating point unit. The 68000 emulation techniques will be discussed <a href="#running-68k-software">later on</a>.</p>

<h4 id="603">603</h4>

<p>The PowerPC 603 was introduced in May 1995 and was the first PowerPC designed from a clean sheet and was focused on low-cost and low-power, dissipating only around 2.5W at 66MHz, less than one third of the 601 at the same clock-speed.</p>

<p>Its architecture introduced a dedicated Load/Store Unit, speeding integer operations and had limited instruction reordering capabilities. In order to help cut costs and reduce power consumption, the 603’s cache was half the size of the 601’s and separated data from instructions.</p>

<p>Thanks to the architectural improvements, the 603 was around as powerful as the 601 at a given clock-speed. Alas, the data cache was now too small for the 68000 emulation. As most of the code running on the Macintosh still required to be emulated, the PowerPC 603 gained the bad reputation of being slow.</p>

<p><img src="https://www.scd31.com/posts/MacMini-Fig2-603Arch.svg" alt="The 603 architecture feature the dedicated branch and load/store units"/>
<em>The 603 architecture feature the dedicated branch and load/store units (source: MPR 19931025)</em></p>

<p><img src="https://www.scd31.com/posts/MacMini-Table2-603vs601.svg" alt="Keys differences between the 601 and the 603"/>
<em>Keys differences between the 601 and the 603 (sour: MPR 1993-10-25)</em></p>

<p>Less than 6-months later, in October 1995, an enhanced 603e version was launched, doubling the amount of cache, at the cost of adding 1 million transistors.</p>

<h4 id="604">604</h4>

<p>The 604 architecture was not a derivative of the 603’ as the two chips were designed in parallel. From the beginning, the 604 was planned to focus on sheer performance, demonstrating the full potential of the PowerPC. It came with almost everything bigger and more plentiful than on the 603. At the cost, of course, of being larger and more expensive to produce.</p>

<p>The 604 had no less than three ALUs, one dedicated to complex operations such as multiplication and division and two dedicated to more typical single-cycle operations. In order to help keep all those ALUs busy, the instruction reordering capabilities were boosted as was the branch prediction circuitry which became fully dynamic. The 604 was the first PowerPC chip to implement a full double-precision floating-point unit. Other PowerPC designs only used a single-precision FPU that took less die area but required more time for double-precision operations. Finally the 604’ cache was bigger and more sophisticated than on the 603.</p>

<p><img src="https://www.scd31.com/posts/MacMini-Fig3-604Arch.svg" alt="PowerPC 604 block diagram"/>
<em>PowerPC 604 block diagram (source: MPR 19940418)</em></p>

<p>When it was introduced to the market, in early 1995, the PowerPC 604 had no equivalent in the PC market. The Microprocessor Report went so far as to declare “PPC 604 Powers Past Pentium - PowerPC Chip Will Open Performance Gap, Possibly Permanently”.</p>

<p><img src="https://www.scd31.com/posts/MacMini-Table3-600Family.svg" alt="The 600 family covered a wide range of performance and prices"/>
<em>The 600 family covered a wide range of performance and prices (MPR 19940418)</em></p>

<p>But of course the Pentium, then the <a href="https://en.wikipedia.org/wiki/Pentium_Pro">Pentium Pro</a>, evolved quickly and a more performant revision, the 604e, was introduced in July 1996. Cache was doubled and a new functional unit was introduced to handle the condition registers.</p>

<h4 id="620">620</h4>

<p>When the AIM alliance announced its plans in 1991, the PowerPC 620 was to be the pinnacle of the family. Targeting the uppermost segment of the market, it would be more powerful than even the 604 and would be the first 64-bit PowerPC.</p>

<p>The 620 was quickly trashed and very few units sold, none to Apple.</p>

<p><img src="https://www.scd31.com/posts/MacMini-Fig4-600Family.svg" alt="The PowerPC 600 family against Intel CPUs"/>
<em>The situation in mid-1994. Light grey CPUs were scheduled for 1995 and the 620 would allow the PowerPC to keep its price performance advantage. But it was 2-year late. (source: MPR 19940418)</em></p>

<h3 id="the-next-generation">The next generation</h3>

<h4 id="g3">G3</h4>

<p>Introduced in November 1997, the PowerPC 750, or G3, used the 603 as a basis and improved it in every regard. As the main market for such a chip was Mac OS, its designers tuned it to better fit Apple’s ecosystem. The G3 introduced a second ALU dedicated to simple operations, borrowed (and enhanced) the dynamic branch prediction capabilities of the 604 and tuned the TLB for Mac OS.</p>

<p><img src="https://www.scd31.com/posts/MacMini-Fig5-G3Arch.svg" alt="The G3 block diagram"/>
<em>The G3 block diagram (source: MPR 19970217)</em></p>

<p>All these improvements allowed the G3 to be quite competitive with the Pentium II while remaining small and cheap to produce. Furthermore, its max power requirement was only around 5W which made it suitable for notebooks from day one.</p>

<p><img src="https://www.scd31.com/posts/MacMini-Table4-G3vsPIII.png" alt="G3 models compared to Intel Pentium III"/>
<em>The G3 was still competitive against the Pentium II. But the days of providing the same performance for half the price were gone. (MPR 19980824)</em></p>

<p>The G3 quickly replaced all the 60x in Apple machines.</p>

<h4 id="g4">G4</h4>

<p>The G3 was really nice but it missed something important compared to the Intel family: <a href="https://en.wikipedia.org/wiki/Single_instruction,_multiple_data">SIMD instructions</a>.</p>

<p>Those “vector” instructions can process multiple data at the same time and can speed up the algorithm used in video and audio processing. <em>Multimedia</em> was all the rage at the time! Intel introduced <a href="https://en.wikipedia.org/wiki/MMX_%5C(instruction_set%5C)">MMX</a> with great fanfare on a revision of the Pentium in 1996. Restricted to integer only they were not very useful outside of some of these multimedia applications but were sold by the marketing as a huge advantage. As Intel was about to introduce MMX2, later renamed <a href="https://en.wikipedia.org/wiki/Streaming_SIMD_Extensions">SSE</a>, with the Pentium III, Motorola reacted by announcing <a href="https://en.wikipedia.org/wiki/AltiVec">Altivec</a>: SIMD instructions coming with the PowerPC 7400, a.k.a G4.</p>

<p>Altivec, or “Velocity Engine” according to Apple, was really the star of the show concerning the G4. Outside the addition of this vector unit, the G4 was only an enhanced G3 ; the only significant difference being that its regular floating point unit was at last able to process double precision floating point at full speed.</p>

<p>But far more transistors were dedicated on the G4 than on the Pentium III or any other architecture.</p>

<p><img src="https://www.scd31.com/posts/MacMini-Table5-AltivecvsOthers.svg" alt="Altivec compared to other SIMD instruction sets of the time"/>
<em>Altivec was late in the game, but was more advanced than other SIMD instruction sets. (source: MPR 19980511)</em></p>

<p>Firstly, its instruction set was designed to be as clean and generalist as possible and not tuned to help a particular set of algorithms, while on the Intel side MMX and its first revision of SSE were not as powerful and flexible.</p>

<p>Secondly, the G4 vector unit hosted 32 128-bit dedicated registers vector operations, integer of floating point. Meanwhile, the Pentium III SSE only offered 8 128-bit registers for floating point and the instruction set was “2-operands”, meaning that one of the registers had to be used as the result destination. The resulting pressure on the meager 8-register set was very high.</p>

<p><img src="https://www.scd31.com/posts/MacMini-Fig6-G4Arch.svg" alt="The G4 block diagram"/>
<em>The G4 block diagram (source: MPR 19981116)</em></p>

<p><img src="https://www.scd31.com/posts/MacMini-Fig7-AltivecArch.svg" alt="Zoom on the Altivec Unit"/>
<em>Zoom on the Altivec Unit (source: MPR 19981116)</em></p>

<p>The G4 was competitive with regular code and was far ahead with vectored code, which was of course heavily supported by Apple. And as always, it was cheap to produce and cool enough to fit into laptops.</p>

<p>But there was one caveat. Built on the G3, the G4 inherited its short pipeline. Longer pipelines help to boost the frequency at the cost of penalizing the performance in case of branch mis-predictions. Equipped with a 4 stage pipeline, the G4 was stuck for too long around 500MHz while Intel and AMD were racing toward the GHz.</p>

<p>That is why in January 2001 Motorola shipped a 7-stage PowerPC 7450, which was sometimes called G4e. But other internal changes were so numerous that it could have been called the G5.</p>

<p>Two new integer units were added and the vector units were also revamped for better performance. The L2 cache became embedded on the chip while circuitries were kept to support an external cache on a dedicated bus: the L3.</p>

<p>Finally, in order to compensate for the longer pipeline, the branch predictor was greatly enhanced.</p>

<p><img src="https://www.scd31.com/posts/MacMini-Fig8-G4eArch.svg" alt="The G4e block diagram"/>
<em>More than just a longer pipeline, the 74xx brought a lot of changes (Source: MPR 19991025)</em></p>

<p>As the true G5, the PowerPC 970 from IBM, was too hot to be used in laptops and small form factors, Apple continued to ship computers with the G4e until the demise of its PowerPC line of computers.</p>

<p>And that is why the Mac Mini G4 came to the market with a 1.25GHz or a 1.42GHz G4e as late as 2005. A perfect match for a cheap, small and silent Macintosh!</p>

<p>Now we can see the whole evolution of the PowerPC CPUs that lead to the G4e</p>

<p><img src="https://www.scd31.com/posts/MacMini-Fig9-RoadToG4.png" alt="The evolution of PowerPC leading to the G4e"/>
<em>The evolution of the PowerPC leading to the G4e (Source: MPR 19991025)</em></p>

<h2 id="compatibility-with-older-applications">Compatibility with older applications</h2>

<p>We just saw that the G4 powering the Mini was the result of a long line of PowerPC CPUs, all compatible. But the Mac platform history evolved during the years, and its CPU which was 68K based until 1995.</p>

<p>I will discuss here how the 2005 Mini on Mac OS 9 should be able to run some 20 year older software, targeting another CPU family and a machine with different Sound and Graphical abilities.</p>

<h3 id="running-68k-software">Running 68K software</h3>

<p>In 1994, while the 68K family was a dead end, the PowerPC was a clear path towards the future for the Macintosh line of computers. But there was a problem: all Macintosh softwares, including its System, were written to be run on a 68000 CPU and the PowerPC provided no backward compatibility. Without it, buying a new PPC Macintosh would have little more value than switching to a Pentium PC for most Apple customers.</p>

<p>Fortunately, there is a way to run software written for other incompatible CPUs: <strong>emulation</strong>.</p>

<p>Emulating “legacy software” when a new computer architecture was introduced was nothing new. IBM did it in 1964 in order for its then new System/360 to run programs written for the IBM 1401. The downside is that emulating another CPU is very intensive and emulated programs run slower than it would on its original processor. A tricky problem for Apple: who would buy a brand new and expensive Macintosh only to discover that his programs run slower?</p>

<p>Fortunately, Apple did not start from a blank sheet. When it was clear that the 68000 was losing steam, Apple explored ways to use a RISC processor in a Mac OS machine, more -than a year prior to the AIM alliance announcement.</p>

<h4 id="first-researches-with-risc-cpus">First researches with RISC CPUS</h4>

<p>At first Apple tried to run an <a href="https://en.wikipedia.org/wiki/AMD_Am29000">AMD 29000</a> alongside the 68000, both sharing memory, in order to accelerate parts of the OS that were heavily used by every application. Running <em>Quickdraw</em> and the <em>Toolbox</em> on the RISC chip would dramatically accelerate the system. Indeed, according to the “80/20 rule”, most programs spent around 80% of their time executing 20% of the code, mainly those libraries.</p>

<p>The research team considered other RISC alternatives and finally settled on the <a href="https://en.wikipedia.org/wiki/Motorola_88000">Motorola 88000</a>. A machine was even prototyped with an 88100 CPU plus two 88200 cache MMU units, plugged into the case of a Macintosh LC. It could boot and run the Macintosh ROM unmodified on an emulator written by <a href="https://apple.fandom.com/wiki/Gary_Davidian">Gary Davidian</a>, as a single-person project.</p>

<p><img src="https://www.scd31.com/posts/MacMini-RLC.jpg" alt="The prototype of a Macintosh based on an 88100"/>
<em>The prototype of a Macintosh based on an 88100  (Source: <a href="https://computerhistory.org/blog/transplanting-the-macs-central-processor-gary-davidian-and-his-68000-emulator/">computerhistory.org</a>)</em></p>

<p>Then, around October 1991 the PowerPC was announced: the future of the Macintosh became clear.</p>

<p>But at the time of the announcement, there was no PowerPC yet to develop on. So the newly formed team developed on RS/6000 computers then got a “RSC”, a one chip POWER CPU, development board that could be plugged into a Mac. And finally around September 1992, a proper PowerPC 601. Thanks to all the work done for the 88000, the emulator running on the PowerPC could be developed quickly and was even better.</p>

<h4 id="running-legacy-code-on-system-7">Running legacy code on System 7</h4>

<p>The emulator could simulate the user space of a <a href="https://en.wikipedia.org/wiki/Motorola_68040#Variants">68LC040</a> plus the exception stack frames of a <a href="https://en.wikipedia.org/wiki/Motorola_68020">68020</a>. The Motorola floating point was not emulated as 80-bit floats could not be directly manipulated by the PowerPC FPU, and even 32-bit and 64-bit floats did not behave exactly the same on both processors. But this was not very important because, in 1994, very few applications made use of the FPU. Those which did were professional and domain specific programs that were natural candidates to be rewritten for the PowerPC to benefit from its performance. Furthermore, many other existing Mac applications performed their floating point calculus using the <em>SANE</em> (<a href="https://en.wikipedia.org/wiki/Standard_Apple_Numerics_Environment">Standard Apple Numerics Environment</a>) library, which was optimized for the PowerPC and ran better in the emulator than on a 68040 Macintosh.</p>

<p>So with the new architecture, the System team had the following goals:</p>

<ul>
  <li>Boot and run System 7 on PowerPC,</li>
  <li>Execute legacy 68000 with excellent compatibility and good enough performance,</li>
  <li>Run new applications, some libraries and part of the system natively for the PowerPC</li>
</ul>

<p>The PowerPC version of System 7 was re-architectured around a <em>NanoKernel</em> and the tightly coupled 68000 emulator. The NanoKernel was responsible for the low level stuff requiring PowerPC native code. The 68K emulator would of course run all non-native code. In order to make it as fast as possible, the NanoKernel itself was optimized to serve the emulator very quickly for specific but common scenarios such as when a 68K application did a system call that would trigger its equivalent in the NanoKernel.</p>

<p>When the first PowerPC machines shipped with the new System 7.1.2, most of the System 7 itself was not ported to PowerPC and was still running 68K code. In order to make disparate PowerPC code and 68K code work together, Apple introduced the <em>Mixed Mode Manager</em>. It allowed functions in the PowerPC ISA to call functions in the 68K ISA and vice versa. Which was not a small achievement, as the 68K calling convention depended on the programming language used. This was obviously costly. That is why some programs could pay a heavy price when going, from instance from a native function to a System function still in 68k then maybe to another System function ported to PowerPC and so on…</p>

<p><img src="https://www.scd31.com/posts/MacMini-Fig10-RuntimeArch.svg" alt="Architecture of the System Software"/>
<em>Architecture of the System Software</em></p>

<p>For performance reasons, Apple was incited to port more and more functions to PowerPC in each Mac OS release. We can guess that the goal of having a 100% PowerPC Mac OS was achieved around October 1998, when Mac OS 8.5 was the first to require a PowerPC to run.</p>

<p>Furthermore, the emulator itself, and with it the ability to run 68K code, became better and faster with each “classical” Mac OS version and was present until the very last version: Mac OS 9.2.2.</p>

<h4 id="performance">Performance</h4>

<p>The following benchmark was published in the May 1994 issue of MacWorld. They were by measuring the running execution time of various tasks in real world 68K applications. FPU tests did not run on a true FPU: they were emulated by integer functions, even on the Quadra 800.</p>

<p>All times are in seconds.</p>

<table>
  <tbody><tr>
    <td><b>Model</b></td>
    <td><b>CPU</b></td>
    <td><b>Integer</b></td>
    <td><b>Float</b></td>
    <td><b>Video</b></td>
  </tr>
  <tr>
    <td>Power Mac 8100</td>
    <td>PPC 601 80MHz</td>
    <td>256</td>
    <td>187</td>
    <td>73</td>
  </tr>
  <tr>
    <td>Power Mac 7100</td>
    <td>PPC 601 66MHz</td>
    <td>335</td>
    <td>242</td>
    <td>78</td>
  </tr>
  <tr>
    <td>Power Mac 6100</td>
    <td>PPC 601 60MHz</td>
    <td>380</td>
    <td>377</td>
    <td>116</td>
  </tr>
  <tr>
    <td>Quadra 800</td>
    <td>68040 33MHz</td>
    <td>129</td>
    <td>70</td>
    <td>52</td>
  </tr>
  <tr>
    <td>Centris 650</td>
    <td>68LC040 25MHz</td>
    <td>162</td>
    <td>88</td>
    <td>65</td>
  </tr>
  <tr>
    <td>Centris 610</td>
    <td>68LC040 20MHz</td>
    <td>201</td>
    <td>108</td>
    <td>77</td>
  </tr>
</tbody></table>

<p>We can see that when emphasis is placed on pure 68K execution speed, the PowerPC machines fare less well than a low-end 68040. But the result is way better when the speed of the video subsystem is measured, as Quickdraw ran a lot of native code.</p>

<p>Even if the performances were not stellar, they were good enough. The PowerPC models sold on the promise of delivering more performance with future PowerPC aware applications. And they did.</p>

<h3 id="graphics">Graphics</h3>

<p>The original 128K Macintosh and the following models could display 512 × 342 bitmap graphics in pure black and white. It is well known that the machine was revolutionary at the time of it introduction, for it was entirely mouse driven and provided a rich set of APIs so the programmer had not to bother with too much of low-level details.</p>

<p>QuickDraw was dedicated to producing and displaying custom 2D graphics. But some programmers thought they could do a better job and directly accessed the framebuffer. As modern GPUs do not work the same way and do not offer pure black and white capabilities, it will pose compatibility problems.</p>

<p>Fortunately, starting with the Macintosh II introduction in 1987, the System had to handle 16 ou 256-color displays. QuickDraw had to be modified to offer more abstraction: the application could allocate a 1-bit, 4-bit or 8-bit framebuffer and QuickDraw hid the ugly details. It also did its best to assure compatibility with existing programs.</p>

<p>So if a game conformed to the QuickDraw API, it should work on the Mini, even if it is antique and in pure black and white.</p>

<h3 id="sound">Sound</h3>

<p>The sound capabilities of the 1984 Macintosh were quite good for its time. As the IBM PC, it was equipped with a speaker driven by a timer and able to produce square-waves. However, it could also produce complex sounds using hardware assisted Pulse-Width Modulation. This is a technique that can approximate “normal” waveforms  using only amplitude-fixed squares.</p>

<p><img src="https://www.scd31.com/posts/MacMini-PWM.svg" alt="Top-side of the motherboard"/>
<em>The red waveform can be approximated by a speaker driven by the blue pulses (Source: <a href="https://en.wikipedia.org/wiki/File:PWM,_3-level.svg">Wikipedia</a>)</em></p>

<p>Some rare PC, or even Apple II, games used the same technique. But it was not trivial and, without any hardware assistance, very CPU intensive.</p>

<p>Of course, a friendly API was provided: the Sound Driver. It could produce squared sound, 4-tone synthesized sound, or play provided samples. Behind the stage, the Sound Driver computed the appropriate samples and populated the buffer. If square and given-samples were somewhat easy to handle, computing the 4-tone synthesis could occupy up to 50% of the 8-MHz 68000 time!</p>

<p>With the introduction of the Macintosh II, a more modern API was provided: the Sound Manager. Indeed, the Macintosh II audio hardware had little in common with its older sibling. It was based on a true codec able to play 8-bit stereo sound sampled at 44.1-KHz and a 4-channel wavetable synthesizer. Furthermore, it was now common for computers to connect to external synthesizers through MIDI or record sounds.</p>

<ul>
  <li>wave-table synthesizer</li>
  <li>sample player</li>
  <li>external midi player</li>
</ul>

<p>Those commands could go to “modifier” before being fed to the selected synthesizer, for instance to add an effect or change the pitch. Each synthesizer could handle several channels, mixed together leading to the production of complex sound and melody. All of this independently to the underlying hardware.</p>

<p>That is why the Mac Mini G4 should be able to play sound, even if it is equipped with a standard audio codec, as were the majority of PCs of the time: MacOS9 Sound Manager should do whatever is required to play sounds according to the commands.</p>

<p>It contrasts with the situation on PC, where at the time of MS DOS games had to directly speak to the hardware and provided several drivers for the most popular sound cards of the time. Of course, Sound Blaster prevailed, but the clone had to be compatible at the hardware level and you won’t find a card today that is the perfect solution to cover every MS DOS game.</p>

<p>Unfortunately, Sound Driver was marked as obsolete at the time of System 7, in 1991. System 7 continued to be compatible, but I don’t know if it was still the case at the time of Mac OS 9. I hope so 😅.</p>

<p>So to conclude about sound compatibility. It ought to be excellent for games that followed Apple’s guidelines and used Sound Manager, starting around 1987. For those which used the older Sound Driver: 🤞</p>

<h2 id="the-mac-mini-g4">The Mac Mini G4</h2>

<p>The Mac Mini G4 was introduced in January 2005 at a starting point of $499. As stated by Steve Jobs <a href="https://www.youtube.com/watch?v=GJpZGeihy0s">on stage</a>, its main purpose was that “people that are thinking of switching will have no more excuses”. In addition to being the cheapest Mac ever, the Mac Mini was designed to have a very small footprint, run cool and silent, and be used along any standard keyboard, mouse and display. Thus, it came with many standard ports that are still supported nowadays: USB, Ethernet and DVI/VGA. The Mac Mini G4 is still quite easy to plug and interact with 🙂.</p>

<p>The hardware configuration of the $499 Mac Mini G4 was as follow:</p>

<table>
  <thead>
    <tr>
      <th>CPU</th>
      <th>Single 1.25-GHz PowerPC 7447a (G4)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Cache</strong></td>
      <td>512-KB on-chip L2</td>
    </tr>
    <tr>
      <td><strong>FSB</strong></td>
      <td>167 MHz</td>
    </tr>
    <tr>
      <td><strong>Memory</strong></td>
      <td>PC2700 DDR SDRAM (333MHz) up to 1 GB</td>
    </tr>
    <tr>
      <td><strong>GPU</strong></td>
      <td>ATI Radeon 9200 – AGP 4x</td>
    </tr>
    <tr>
      <td><strong>VRAM</strong></td>
      <td>32-MB DDR SDRAM</td>
    </tr>
    <tr>
      <td><strong>HDD</strong></td>
      <td>2.5” 4200 RPM 40GB</td>
    </tr>
    <tr>
      <td><strong>Dimensions</strong></td>
      <td>16.51cm × 16.51cm × 5.08cm</td>
    </tr>
    <tr>
      <td><strong>Weight</strong></td>
      <td>1.32 kg</td>
    </tr>
  </tbody>
</table>

<p>A beefier model with a 1.42-GHz CPU and an 80-GB hard-drive was also sold for $100 more.</p>

<p><img src="https://www.scd31.com/posts/MacMini-Motherboard1.jpg" alt="Top-side of the motherboard"/>
<em>Top-side of the motherboard</em></p>

<p><img src="https://www.scd31.com/posts/MacMini-Motherboard2.jpg" alt="Top-side of the motherboard"/>
<em>Bottom-side of the motherboard. The GPU does not even need a heat-sink.</em></p>

<p>Considering the PowerPC retrospective exposed earlier, even a 1.25-GHz is a quite powerful CPU for our objective: running Mac OS applications and games up to the very early 00s. The lowest amount of memory, 256-MB, is a bit short for Mac OS X, but is plenty for our purpose. And it is easy to replace the memory module.</p>

<p>The GPU needs a little presentation of its own. The ATI Radeon 9200 was an entry-level card. Despite its name, it had not much in common with the powerful Radeon 9700 that was commercialized at the same time. The 9200 was a kind of a stripped down Radeon 8500. As such it was a DirectX 8.1 class GPU, whose capabilities were comparable to a Geforce3/Geforce4 or the GPU in the original Xbox.</p>

<p>In the Mini G4, the 9200 is paired with only 32-MB of VRAM which by 2005, when the machine shipped, was frankly ridiculous. This was the amount of memory that shipped with 1999 PC GPUs such as a NVIDIA TNT2 or a first generation of Geforce.</p>

<p>Graphics are clearly the weak point of the machine. Don’t expect the Mini to be able to run 3D games in extra high resolutions. You can even feel it when opening more than a few windows in Mac OS X.</p>

<p>But once again, the purpose exposed here is to run older games and programs. The ATI driver is good, notably concerning OpenGl support, even on Mac OS 9. We will see that 3D games such as Quake 3 run smoothly 😊.</p>

<h2 id="how-to-install-mac-os-9">How to install Mac OS 9</h2>

<p>The Mac Mini G4 shipped with Mac OS X 10.3 “Panther”. It could run pre-OSX applications through the <em>Classic Mode</em>, a complete OS 9 running in some kind of VM. It allowed a good amount of compatibility with many programs, but anything trying to directly access the hardware would fail.</p>

<p>It is better to run the real thing, even if Mac OS 9 was never officially supported on the Mini.</p>

<p>Fortunately, the community hacked an official version from a close hardware configuration and managed to port Mac OS 9.2.2 to the Mac Mini G4! The only caveats are that the internal speaker is not supported and the sound level is fixed at around 33% when using the line output. This can be cumbersome, but if you are using an external amplifier, it is a minor annoyance.</p>

<p>The first step is to get <a href="http://macos9lives.com/downloads">the ISO dedicated to the Mac Mini G4</a>.</p>

<p>If you need a Mac OS X ISO but do not have the disc that came with your Mini you will be able to find them on <a href="https://macintoshgarden.org/apps/mac-osx-mac-os-10-ppc">specialized websites</a>.</p>

<p>In order to boot on a Mac OS install disc, press <em>Option</em> (<em>alt</em> on a PC keyboard) when you hear the chime at the very beginning of the boot process. A menu will allow you to choose your boot medium.</p>

<p><img src="https://www.scd31.com/posts/MacMini-BootScreen.jpg" alt="The boot screen"/>
<em>The boot selection screen</em></p>

<p>If you want to dual boot Mac OS 9 and Mac OS X, boot on  the Mac OS X disc. Then use the <em>Disk Utility</em> to split the existing partition into two new ones. I called mine Mac OS 9 and Mac OS X. Then install OS X into its partition.</p>

<p><img src="https://www.scd31.com/posts/MacMini-DiskUtility.jpg" alt="The Disk Utility menu"/></p>

<p><img src="https://www.scd31.com/posts/MacMini-Partition.jpg" alt="Partition the disk"/></p>

<p>Restart the computer but this time,  boot with the OS 9 disc. It will automatically display a text file containing the proper install instructions. Basically, it consists of restoring the image that is contained on the CD to your partition of choice.</p>

<p><img src="https://www.scd31.com/posts/MacMini-RestoreMacOS9.jpg" alt="MacOS9 boot screen"/></p>

<p><em>Et voilà!</em></p>

<p><img src="https://www.scd31.com/posts/MacMini-MacOS9.jpg" alt="MacOS9 boot screen"/></p>

<p>The Mac Mini G4 can now boot on either OS 😎</p>

<p>Just be aware that OpenFirmware, the first stage of the boot process can be a little picky concerning the keyboard and the mouse that are plugged. In my case, I was not pleased by my Logitech USB keyboard and refused to display any other bootable medium than the regular OS X hard-drive that came pre-installed in the machine. It took me many hours of trials before I finally swapped the keyboard…</p>

<p>Once Mac OS is booted, everything works as expected… except for the internal speaker which remains silent! And unfortunately the line sound output is fixed at around 40% of the max level and cannot be set otherwise. But if you have an external amplifier, it is no problem.</p>

<p>If you are used to Windows, you will be disturbed by the lack of right-click support, even if you plugged a standard PC mouse. You can download drivers corresponding to the manufacturer to alleviate this problem. Here is a <a href="https://www.macintoshrepository.org/68-logitech-mouseware-and-mousekey-for-os-7-8-9">link to Logitech drivers</a>.</p>

<h2 id="show-me-the-result">Show me the result!</h2>

<h3 id="benchmarks">Benchmarks</h3>

<p><img src="https://www.scd31.com/posts/MacMini-BenchPowerMacG4.png" alt="SpeedOMeter 4.02 running in native PowerPC mode"/>
<em>SpeedOMeter 4.02 running in native PowerPC mode</em></p>

<p>The Mac Mini G4 is three times faster than a PowerPC G4 400. The computer that was bragged as a Supercomputer by Steve Jobs. Despite the fact that this bench is entirely synthetic and a bit too old, it indicates that the CPU power should be plenty enough to run any power-hungry game or applica	tion from the late 1990s.</p>

<p><img src="https://www.scd31.com/posts/MacMini-BenchQuadra950.png" alt="SpeedOMeter 4.02 running in the 68K emulator"/>
<em>SpeedOMeter 4.02 running in the 68K emulator</em></p>

<p>And equally important, even when emulating a 680x0 to run legacy software, the Mini is far more powerful than a Quadra 950, one of the most powerful 68K Macintosh ever released by Apple. No legacy application will lack CPU.</p>

<h3 id="games-in-action">Games in action</h3>

<p>Until now, I affirmed that the Mac Mini G4 would be perfect to run most of the Macintosh library, backed by some history, technical facts and benchmark. But now it is the time to display some games running on the actual machine, covering a huge period of time.</p>

<h4 id="solitaire">Solitaire</h4>

<p>1984 - 68K - Black and White</p>

<p><img src="https://www.scd31.com/posts/MacMini-Solitaire.png" alt="Solitaire"/></p>

<h4 id="dark-castle">Dark Castle</h4>

<p>1986 – 68K – Black and White</p>

<p>Crashes.</p>

<h4 id="the-colony">The Colony</h4>

<p>1988 – 68K – Black and White</p>

<p>Crashes.</p>

<h4 id="shufflepuck-café">Shufflepuck Café</h4>

<p>1988 – 68K – Black and White</p>

<iframe width="480px" height="360px" src="https://www.youtube.com/embed/GKH6Q9w3KVM?si=Wz2BcSd06W3SIqDw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>

<p>The game can be played, but there is no sound. Some guys on the net affirm that the games cannot run properly on MacOS9, which could explain.</p>

<h4 id="spaceward-ho">SpaceWard Ho!</h4>

<p>1990 – 68K – Black and White</p>

<iframe width="480px" height="360px" src="https://www.youtube.com/embed/h319mHHRpGM?si=aTyNP2SSSiAS9F3v" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>

<h4 id="prince-of-persia">Prince of Persia</h4>

<p>1992 – 68K – 256 colors</p>

<iframe width="480px" height="270px" src="https://www.youtube.com/embed/72eMkCQ24Dc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>

<h4 id="simcity-2000">SimCity 2000</h4>

<p>1993 – 68K – 256 colors</p>

<iframe width="480px" height="360px" src="https://www.youtube.com/embed/hBVCNcY2sAk?si=GCHqRA95cUiDdn8V" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>

<h4 id="marathon">Marathon</h4>

<p>1994 – 68K – 256 colors</p>

<iframe width="480px" height="360px" src="https://www.youtube.com/embed/XEvDDMS0s58?si=quBPldDUsip1ERWj" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>

<h4 id="civilization-ii">Civilization II</h4>

<p>1997 – PowerPC – 256 colors</p>

<iframe width="480px" height="360px" src="https://www.youtube.com/embed/x0utl2dj6aA?si=BXR4CffBBcpQTCj8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>

<h4 id="age-of-empires-ii">Age of Empires II</h4>

<p>1999 – PowerPC – 256 colors</p>

<p><img src="https://www.scd31.com/posts/MacMini-AgeOfEmpiresII.jpg" alt="Age of the Empire II"/></p>

<p>Age of the Empires II runs fine but could not be captured as video.</p>

<h4 id="quake-3-arena">Quake 3 Arena</h4>

<p>1999 – PowerPC – OpenGl</p>

<iframe width="480px" height="360px" src="https://www.youtube.com/embed/D3UgWXE8nyY?si=CztoKlVbvJq1FCsf" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>

<h4 id="deus-ex">Deus Ex</h4>

<p>2000 – PowerPC – QuickDraw 3D</p>

<iframe width="480px" height="360px" src="https://www.youtube.com/embed/aPboRSQJJZM?si=49UIo9uX9TvGIRPb" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>

<h2 id="conclusion">Conclusion</h2>

<p>As a conclusion, the compatibility of the Mac Mini G4 running Mac OS 9, while not 100% perfect, is quite good. Especially for games made after the Macintosh II introduction in the late 80s.</p>

<p>For my needs at last, it is the best Macintosh for retro-gaming: it can play titles from a large time-span, is so tiny that it can fit on top on my 486 machine and plugs in the same screen and amplifier 🙂</p>

<p><img src="https://www.scd31.com/posts/MacMini-Conclusion.jpg" alt="Age of the Empire II"/>
<em>The Mac Mini G4 sitting on top of my 486 desktop</em></p>

<p>I would like to thank <strong>Hicks</strong>, <strong>SbM</strong>, <strong>Skeud</strong> and <strong>toomanyfred</strong> from the <a href="https://discord.gg/S7Q2fcWA">MO5.COM Discord server</a> for their help.</p>

<h2 id="bibliography">Bibliography</h2>

<ul>
  <li><a href="https://vintageapple.org/byte/pdf/199404_Byte_Magazine_Vol_19-04_First_PowerPCs.pdf">Byte Magazine - April 1994</a></li>
  <li><a href="https://archive.org/details/MacWorld_9405_May_1994">MacWorld May 1994  </a></li>
  <li><a href="https://arstechnica.com/features/2004/08/ppc-1/">PowerPC on Apple: An Architectural History, Part I</a></li>
  <li><a href="https://arstechnica.com/features/2004/10/ppc-2/">PowerPC on Apple: An Architectural History, Part II</a></li>
  <li><a href="https://www.realworldtech.com/apple-power-failure/">Apple’s Power Failure</a></li>
  <li><a href="https://www.mackido.com/Hardware/G2.html">G2 - the Sequel</a></li>
  <li><a href="https://archive.computerhistory.org/resources/access/text/2019/09/102781078-05-01-acc.pdf">Oral History of Gary Davidian</a></li>
  <li><a href="https://en.wikipedia.org/wiki/Mac_OS_nanokernel">Mac OS nanokernel</a></li>
  <li><a href="https://vintageapple.org/inside_r/pdf/PPC_System_Software_1994.pdf">INSIDE MACINTOSH - PowerPC System Software</a></li>
  <li><a href="https://archive.org/details/bitsavers_applemacIn84_23664048">INSIDE MACINTOSH - Volume II</a></li>
  <li><a href="https://vintageapple.org/inside_o/pdf/Inside_Macintosh_Volume_III_1985.pdf">INSIDE MACINTOSH - Volume III</a></li>
  <li><a href="https://vintageapple.org/inside_o/pdf/Inside_Macintosh_Volume_V_1986.pdf">INSIDE MACINTOSH - Volume V</a></li>
  <li><a href="https://vintageapple.org/inside_o/pdf/Inside_Macintosh_Volume_VI_1991.pdf">INSIDE MACINTOSH - Volume VI</a></li>
</ul>


    </div>

</article></div>
  </body>
</html>
