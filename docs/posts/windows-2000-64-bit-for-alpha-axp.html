<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://virtuallyfun.com/2023/05/15/windows-2000-64-bit-for-alpha-axp/">Original</a>
    <h1>Windows 2000 64-bit for Alpha AXP</h1>
    
    <div id="readability-page-1" class="page"><div>
<p><em>(this is a guest post by Antoni Sawicki aka tenox)</em></p>
<p>Recently, hinted by people on <a href="https://discord.gg/C8cCJbSE" data-type="URL" data-id="https://discord.gg/C8cCJbSE">Discord</a>, Neozeed <a href="https://virtuallyfun.com/2023/05/05/hiding-in-plain-sight-the-64bit-dec-alpha-c-compiler/" data-type="URL" data-id="https://virtuallyfun.com/2023/05/05/hiding-in-plain-sight-the-64bit-dec-alpha-c-compiler/">found an AXP64 / ALPHA64 compiler on Platform SDK from 1999</a>. The compiler was meant for developers to test/compile programs to make sure they are ‚Äú64bit ready‚Äù. However, there was no actual way of running any of the binaries. Until IA64 came out at least. Sadly, 64-bit Alpha AXP Windows was never released outside of Redmond.</p>
<p>Just for fun, I compiled Alpha64 version of <a href="https://github.com/tenox7/aclock" data-type="URL" data-id="https://github.com/tenox7/aclock">Aclock</a> ‚Äì with zero hopes of ever being able to run it. There are some surviving machines with AXP64 at Microsoft Archives. In fact I saw one with my own eyes, last time I visited there:</p>
<figure><a href="https://virtuallyfun.com/wp-content/uploads/2023/05/AXP64.jpg"><img decoding="async" width="1024" height="684" src="https://virtuallyfun.com/wp-content/uploads/2023/05/AXP64.jpg" alt="DEC Alpha with AXP64 Windows at Microsoft Archives." srcset="http://virtuallyfun.com/wp-content/uploads/2023/05/AXP64.jpg 1024w, http://virtuallyfun.com/wp-content/uploads/2023/05/AXP64-300x200.jpg 300w, http://virtuallyfun.com/wp-content/uploads/2023/05/AXP64-768x513.jpg 768w, http://virtuallyfun.com/wp-content/uploads/2023/05/AXP64-449x300.jpg 449w" sizes="(max-width: 1024px) 100vw, 1024px"/></a><figcaption>DEC Alpha with AXP64 Windows, at Microsoft Archives</figcaption></figure>
<p>The machine in picture above was featured in <a href="https://learn.microsoft.com/en-us/previous-versions/technet-magazine/cc718978(v=msdn.10)" data-type="URL" data-id="https://learn.microsoft.com/en-us/previous-versions/technet-magazine/cc718978(v=msdn.10)">a blog post by Raymond Chen</a>, which will give you background info on the whole Alpha 64bit situation. Unfortunately nothing ever leaves Microsoft Archives, unless you have a court order or SVP approval.</p>
<p>And that would be the end of the story‚Ä¶ if not for one reader, who contacted Neozeed after his previous post, and shared a disk image, containing a 64bit version of Windows 2000 for Alpha AXP! The reader got it from a lot of random hard disks bought from an e-waste, years ago and completely forgot about it until they saw the blog post!</p>
<p>Having a PWS500 with ZuluSCSI I was able to slap on the image on an SD card and boot it up:</p>
<figure><a href="https://virtuallyfun.com/wp-content/uploads/2023/05/splash.png"><img decoding="async" loading="lazy" width="637" height="475" src="https://virtuallyfun.com/wp-content/uploads/2023/05/splash.png" alt="" srcset="http://virtuallyfun.com/wp-content/uploads/2023/05/splash.png 637w, http://virtuallyfun.com/wp-content/uploads/2023/05/splash-300x224.png 300w, http://virtuallyfun.com/wp-content/uploads/2023/05/splash-402x300.png 402w" sizes="(max-width: 637px) 100vw, 637px"/></a><figcaption>Windows 2000 Alpha64 Splash Screen</figcaption></figure>
<p>The system BSOD shortly after. Turns out, this is a checked / debug build of Windows and requires a kernel debugger attached. After some initial deliberation and help from friends, turns out that <code>alphakd.exe</code> can be run on 386/x86 machine to cross debug Alpha target. Most importantly it works with AXP64!</p>
<p>Another problem was that the system came up with ‚ÄúFound New Hardware‚Äù wizard and there was no functioning keyboard and mouse to click through it. Yes I tried safe mode, VGA mode, etc., but nothing worked. The system was completely stuck on this dialog:</p>
<div>
<figure><a href="https://virtuallyfun.com/wp-content/uploads/2023/05/newhw.png"><img decoding="async" loading="lazy" src="https://virtuallyfun.com/wp-content/uploads/2023/05/newhw.png" alt="" width="373" height="271" srcset="http://virtuallyfun.com/wp-content/uploads/2023/05/newhw.png 439w, http://virtuallyfun.com/wp-content/uploads/2023/05/newhw-300x217.png 300w, http://virtuallyfun.com/wp-content/uploads/2023/05/newhw-414x300.png 414w" sizes="(max-width: 373px) 100vw, 373px"/></a></figure></div>
<p>Fortunately, the network card worked. We build and hacked in to the registry an <a rel="noreferrer noopener" href="https://github.com/neozeed/rlogin-NT" target="_blank">rlogin daemon</a>. Finally we solved the PNP fuckup by remotely executing a VBScript that clicked through 20+ ‚Äúfound new hardware‚Äù and ‚Äúinstall unsigned driver‚Äù dialogs. Eventually, a PCI to ISA bridge was found and keyboard and mouse came up!</p>
<figure><a href="https://virtuallyfun.com/wp-content/uploads/2023/05/aclock-axp64.png"><img decoding="async" loading="lazy" width="1024" height="818" src="https://virtuallyfun.com/wp-content/uploads/2023/05/aclock-axp64-1024x818.png" alt="" srcset="http://virtuallyfun.com/wp-content/uploads/2023/05/aclock-axp64-1024x818.png 1024w, http://virtuallyfun.com/wp-content/uploads/2023/05/aclock-axp64-300x240.png 300w, http://virtuallyfun.com/wp-content/uploads/2023/05/aclock-axp64-768x614.png 768w, http://virtuallyfun.com/wp-content/uploads/2023/05/aclock-axp64-375x300.png 375w, http://virtuallyfun.com/wp-content/uploads/2023/05/aclock-axp64.png 1280w" sizes="(max-width: 1024px) 100vw, 1024px"/></a><figcaption>Aclock running on 64bit Windows on Alpha AXP</figcaption></figure>
<p>Unfortunately there are no identifying marks that would definitely prove that this is a 64bit build. The only way to tell is because there is no WOW, even for AXP32 and you can‚Äôt run any 32bit Alpha binaries. It will only run executables built with the ALPHA64 compiler. This also means that there is no native compiler for this. You have to cross compile on NT4 or 2KRC and only can run it on 64bit. However if you going to build anything for AXP64 I can run and test it for you üôÇ</p>
</div></div>
  </body>
</html>
