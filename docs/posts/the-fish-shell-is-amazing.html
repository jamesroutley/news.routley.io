<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://rmpr.xyz/the-fish-shell-is-amazing/">Original</a>
    
    <div id="readability-page-1" class="page"><div>
    <p>I’ve been lurking the <a href="https://fishshell.com/">fish shell</a> for a couple of years now (and the
<a href="https://github.com/nushell/nushell">nushell</a> but it is another story for
another time). Not so long ago, I decided to try it, and it’s simply… amazing. If I had to state one feature that makes me like to use it, it’ll be the
autocompletion, hands down. It’s the first time I just take a shell and without customization it’s pleasing to use.</p>

<h2 id="features">Features</h2>

<p>Some notable features I want to mention:</p>

<ul>
  <li>
    <p><strong>The default colorscheme</strong>: when you type something invalid it’s red, blue when not</p>
  </li>
  <li>
    <p><strong>Smart tab completion</strong> not only for the commands but for the arguments as well, and it apparently does that by parsing man pages. The autocompletion is also
contextual, depending on where you are, it suggests different things.</p>
  </li>
  <li>
    <p>Floating point calculation directly inside the shell, not super important, but I used to use a REPL or bc for that</p>
  </li>
  <li>
    <p>You can configure your shell using a web interface! Just run <code>fish_config</code></p>
  </li>
</ul>

<h2 id="what-about-plugins">What about Plugins?</h2>

<p>On my previous shells I used <a href="https://github.com/bash-it/bash-it/">bash-it</a>
and <a href="https://github.com/ohmyzsh/ohmyzsh">oh-my-zsh</a>. While those are amazing
projects, they still need configuration to get things to work really well. And 
if you want to match fish’s level, you will need to install a lot of plugin and/or
write quite a few lines of code. With fish you get that for free. 
Nevertheless, there are some plugins manager,
<a href="https://github.com/oh-my-fish">oh-my-fish</a>,
<a href="https://github.com/jorgebucaran/fisher">fisher</a> and
<a href="https://github.com/danhper/fundle">Fundle</a>. To be honest, I didn’t
find them super useful because the only plugin I use is the
<a href="https://github.com/starship/starship">starship</a> prompt and it’s
available in the Fedora repo anyway. For those interested, <a href="https://github.com/jorgebucaran/fisher/issues/481">here is a
comparison between fisher, omf and
fundle</a>
it might be a bit biased since it’s by fisher’s author. But those seemed to me like valid points.</p>

<p><a href="https://asciinema.org/a/447626"><img src="https://asciinema.org/a/447626.svg" alt="asciicast"/></a></p>

<p>I used oh-my-zsh with powerlevel10k because it’s very fast. When switching to fish, I felt I had to choose between
<a href="https://github.com/starship/starship">starship</a> and <a href="https://github.com/IlanCosman/tide">tide</a>. I wish I could say more things on that, but I chose starship solely because it is on the Fedora repo :p
but it’s crazy fast though.</p>

<h2 id="some-quirks-that-might-actually-not-be-quirks">Some quirks (that might actually not be quirks)</h2>

<p>The first thing you need to know, fish is <strong>not</strong> POSIX compliant, don’t expect your
previous scripts to work at all. The syntax is different, and arguably better.
For example the for loop:</p>

<p>with fish:</p>

<div><div><pre><code><span>for </span>i <span>in</span> <span>*</span>.pdf
    <span>echo</span> <span>$i</span>
end
</code></pre></div></div>

<p>With bash/zsh:</p>

<div><div><pre><code><span>for </span>i <span>in</span> <span>*</span>.pdf<span>;</span>
<span>do
    </span><span>echo</span> <span>$i</span><span>;</span>
<span>done</span>
</code></pre></div></div>

<p>No more <code>fi</code>, <code>esac</code> or <code>done</code>.</p>

<p>Although I didn’t face anything (<code>source bin/activate.fish</code> works like a charm),
if you have issues activating Python virtual environments, you can have a look at
<a href="https://github.com/justinmayer/virtualfish">virtualfish</a></p>

<h2 id="closing-thoughts">Closing thoughts</h2>

<p>In my opinion, fish is not geared towards shell scripting, it’s interactivity
is simply unmatched in any current shells that I know of. If you are more interested in a better shell scripting
experience, you might want to have a look at the <a href="https://www.oilshell.org/">oil shell</a> instead.
Don’t get me wrong, you still need to learn bash at a decent level as it is
what you’ll probably stumble upon the most (in containers, virtual environments,
vanilla servers, …), but this shouldn’t prevent you from stepping up your game.
If you liked this post, check out this <a href="https://jvns.ca/blog/2017/04/23/the-fish-shell-is-awesome/">awesome piece</a> by Julia Evans.
This is the first article of the serie about mouseless computing, I felt like it’s kinda useful to have this as an entry point. Stay tuned for the next one.</p>


  </div></div>
  </body>
</html>
