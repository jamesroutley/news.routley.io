<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/tkellogg/dura">Original</a>
    <h1>Dura is a background process that watches your Git repositories</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p dir="auto">Dura is a background process that watches your Git repositories and commits your uncommitted changes without impacting
HEAD, the current branch, or the Git index (staged files). If you ever get into an &#34;oh snap!&#34; situation where you think
you just lost days of work, checkout a <code>dura</code> branch and recover.</p>
<p dir="auto">Without <code>dura</code>, you use Ctrl-Z in your editor to get back to a good state. That&#39;s so 2021. Computers crash and Ctrl-Z
only works on files independently. Dura snapshots changes across the entire repository as-you-go, so you can revert to
&#34;4 hours ago&#34; instead of &#34;hit Ctrl-Z like 40 times or whatever&#34;. Finally, some sanity.</p>
<h2 dir="auto"><a id="user-content-how-to-use" aria-hidden="true" href="#how-to-use"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How to use</h2>
<p dir="auto">Run it in the background:</p>

<p dir="auto">The <code>serve</code> can happen in any directory. The <code>&amp;</code> is Unix shell syntax to run the process in the background, meaning that you can start
<code>dura</code> and then keep using the same terminal window while <code>dura</code> keeps running. You could also run <code>dura serve</code> in a
window that you keep open.</p>
<p dir="auto">Let <code>dura</code> know which repositories to watch:</p>
<div data-snippet-clipboard-copy-content="$ cd some/git/repo
$ dura watch"><pre>$ <span>cd</span> some/git/repo
$ dura watch</pre></div>
<p dir="auto">Right now, you have to <code>cd</code> into each repo that you want to watch, one at a time. If you have thoughts on how to do this
better, share them <a href="https://github.com/tkellogg/dura/issues/3">here</a>.</p>
<p dir="auto">Make some changes. No need to commit or even stage them. Use any Git tool to see the <code>dura</code> branches:</p>

<p dir="auto"><code>dura</code> produces a branch for every real commit you make and makes commits to that branch without impacting your working
copy. You keep using Git exactly as you did before.</p>
<p dir="auto">Let <code>dura</code> know that it should stop running in the background with the <code>kill</code> command.</p>

<p dir="auto">The <code>kill</code> can happen in any directory. It indicates to the <code>serve</code>
process that it should exit if there is a <code>serve</code> process running.</p>
<h2 dir="auto"><a id="user-content-how-to-recover" aria-hidden="true" href="#how-to-recover"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How to recover</h2>
<p dir="auto">The <code>dura</code> branch that&#39;s tracking your current uncommitted changes looks like <code>dura-f4a88e5ea0f1f7492845f7021ae82db70f14c725</code>.
In $SHELL, you can get the branch name via:</p>
<div data-snippet-clipboard-copy-content="$ echo &#34;dura-$(git rev-parse HEAD)&#34;"><pre>$ <span>echo</span> <span><span>&#34;</span>dura-<span><span>$(</span>git rev-parse HEAD<span>)</span></span><span>&#34;</span></span></pre></div>
<p dir="auto">Use <code>git log</code> or <a href="https://jonas.github.io/tig/" rel="nofollow"><code>tig</code></a> to figure out which commit you want to rollback to. Copy the hash
and then run something like</p>
<div data-snippet-clipboard-copy-content="# Or, if you don&#39;t trust dura yet, `git stash`
$ git reset HEAD --hard
# get the changes into your working directory
$ git checkout $THE_HASH
# last few commands reset HEAD back to master but with changes uncommitted
$ git checkout -b temp-branch
$ git reset master
$ git checkout master
$ git branch -D temp-branch"><pre><span><span>#</span> Or, if you don&#39;t trust dura yet, `git stash`</span>
$ git reset HEAD --hard
<span><span>#</span> get the changes into your working directory</span>
$ git checkout <span>$THE_HASH</span>
<span><span>#</span> last few commands reset HEAD back to master but with changes uncommitted</span>
$ git checkout -b temp-branch
$ git reset master
$ git checkout master
$ git branch -D temp-branch</pre></div>
<p dir="auto">If you&#39;re interested in improving this experience, <a href="https://github.com/tkellogg/dura/issues/4">collaborate here</a>.</p>
<h2 dir="auto"><a id="user-content-install" aria-hidden="true" href="#install"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Install</h2>
<h3 dir="auto"><a id="user-content-arch-linux" aria-hidden="true" href="#arch-linux"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Arch Linux</h3>

<h3 dir="auto"><a id="user-content-by-source" aria-hidden="true" href="#by-source"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>By Source</h3>
<ol dir="auto">
<li>Install Rust (e.g., <code>brew install rustup</code>)</li>
<li>Clone this repository</li>
<li>Run <code>cargo install --path .</code></li>
</ol>
<h2 dir="auto"><a id="user-content-faq" aria-hidden="true" href="#faq"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>FAQ</h2>
<h3 dir="auto"><a id="user-content-is-this-stable" aria-hidden="true" href="#is-this-stable"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Is this stable?</h3>
<p dir="auto">It&#39;s still in the prototype phase. Open issues pertaining to stability are marked with the
<a href="https://github.com/tkellogg/dura/issues?q=is%3Aopen+is%3Aissue+label%3Astability">stability</a> tag.</p>
<h3 dir="auto"><a id="user-content-how-often-does-this-check-for-changes" aria-hidden="true" href="#how-often-does-this-check-for-changes"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How often does this check for changes?</h3>
<p dir="auto">Every now and then, like 5 seconds or so. Internally there&#39;s a control loop that sleeps 5 seconds between iterations, so it
runs less frequently than every 5 seconds (potentially a lot less frequently, if there&#39;s a lot of work to do).</p>
<h3 dir="auto"><a id="user-content-does-this-work-on-my-os" aria-hidden="true" href="#does-this-work-on-my-os"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Does this work on my OS?</h3>
<ul dir="auto">
<li>Mac: yes</li>
<li>Linux: probably</li>
<li>Windows: possibly</li>
</ul>
</article>
        </div></div>
  </body>
</html>
