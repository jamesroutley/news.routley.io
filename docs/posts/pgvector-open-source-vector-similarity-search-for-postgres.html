<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/pgvector/pgvector">Original</a>
    <h1>pgvector: Open-source vector similarity search for Postgres</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">Open-source vector similarity search for Postgres</p>
<div dir="auto" data-snippet-clipboard-copy-content="CREATE TABLE items (embedding vector(3));
CREATE INDEX ON items USING ivfflat (embedding vector_l2_ops);
SELECT * FROM items ORDER BY embedding &lt;-&gt; &#39;[1,2,3]&#39; LIMIT 5;"><pre><span>CREATE</span> <span>TABLE</span> <span>items</span> (embedding vector(<span>3</span>));
<span>CREATE</span> <span>INDEX</span> <span>ON</span> items USING ivfflat (embedding vector_l2_ops);
<span>SELECT</span> <span>*</span> <span>FROM</span> items <span>ORDER BY</span> embedding <span>&lt;</span><span>-</span><span>&gt;</span> <span><span>&#39;</span>[1,2,3]<span>&#39;</span></span> <span>LIMIT</span> <span>5</span>;</pre></div>
<p dir="auto">Supports L2 distance, inner product, and cosine distance</p>
<p dir="auto"><a href="https://github.com/pgvector/pgvector/actions"><img src="https://github.com/pgvector/pgvector/workflows/build/badge.svg?branch=master" alt="Build Status"/></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-installation" aria-hidden="true" href="#installation"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Installation</h2>
<p dir="auto">Compile and install the extension (supports Postgres 11+)</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone --branch v0.4.0 https://github.com/pgvector/pgvector.git
cd pgvector
make
make install # may need sudo"><pre>git clone --branch v0.4.0 https://github.com/pgvector/pgvector.git
<span>cd</span> pgvector
make
make install <span><span>#</span> may need sudo</span></pre></div>
<p dir="auto">Then load it in databases where you want to use it</p>

<p dir="auto">You can also install it with <a href="#docker">Docker</a>, <a href="#homebrew">Homebrew</a>, <a href="#pgxn">PGXN</a>, or <a href="#conda-forge">conda-forge</a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-getting-started" aria-hidden="true" href="#getting-started"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Getting Started</h2>
<p dir="auto">Create a vector column with 3 dimensions</p>
<div dir="auto" data-snippet-clipboard-copy-content="CREATE TABLE items (embedding vector(3));"><pre><span>CREATE</span> <span>TABLE</span> <span>items</span> (embedding vector(<span>3</span>));</pre></div>
<p dir="auto">Insert values</p>
<div dir="auto" data-snippet-clipboard-copy-content="INSERT INTO items VALUES (&#39;[1,2,3]&#39;), (&#39;[4,5,6]&#39;);"><pre><span>INSERT INTO</span> items <span>VALUES</span> (<span><span>&#39;</span>[1,2,3]<span>&#39;</span></span>), (<span><span>&#39;</span>[4,5,6]<span>&#39;</span></span>);</pre></div>
<p dir="auto">Get the nearest neighbor by L2 distance</p>
<div dir="auto" data-snippet-clipboard-copy-content="SELECT * FROM items ORDER BY embedding &lt;-&gt; &#39;[3,1,2]&#39; LIMIT 1;"><pre><span>SELECT</span> <span>*</span> <span>FROM</span> items <span>ORDER BY</span> embedding <span>&lt;</span><span>-</span><span>&gt;</span> <span><span>&#39;</span>[3,1,2]<span>&#39;</span></span> <span>LIMIT</span> <span>1</span>;</pre></div>
<p dir="auto">Also supports inner product (<code>&lt;#&gt;</code>) and cosine distance (<code>&lt;=&gt;</code>)</p>
<p dir="auto">Note: <code>&lt;#&gt;</code> returns the negative inner product since Postgres only supports <code>ASC</code> order index scans on operators</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-indexing" aria-hidden="true" href="#indexing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Indexing</h2>
<p dir="auto">Speed up queries with an approximate index. Add an index for each distance function you want to use.</p>
<p dir="auto">L2 distance</p>
<div dir="auto" data-snippet-clipboard-copy-content="CREATE INDEX ON items USING ivfflat (embedding vector_l2_ops);"><pre><span>CREATE</span> <span>INDEX</span> <span>ON</span> items USING ivfflat (embedding vector_l2_ops);</pre></div>
<p dir="auto">Inner product</p>
<div dir="auto" data-snippet-clipboard-copy-content="CREATE INDEX ON items USING ivfflat (embedding vector_ip_ops);"><pre><span>CREATE</span> <span>INDEX</span> <span>ON</span> items USING ivfflat (embedding vector_ip_ops);</pre></div>
<p dir="auto">Cosine distance</p>
<div dir="auto" data-snippet-clipboard-copy-content="CREATE INDEX ON items USING ivfflat (embedding vector_cosine_ops);"><pre><span>CREATE</span> <span>INDEX</span> <span>ON</span> items USING ivfflat (embedding vector_cosine_ops);</pre></div>
<p dir="auto">Indexes should be created after the table has some data for optimal clustering. Also, unlike typical indexes which only affect performance, you may see different results for queries after adding an approximate index. Vectors with up to 2,000 dimensions can be indexed.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-index-options" aria-hidden="true" href="#index-options"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Index Options</h3>
<p dir="auto">Specify the number of inverted lists (100 by default)</p>
<div dir="auto" data-snippet-clipboard-copy-content="CREATE INDEX ON items USING ivfflat (embedding vector_l2_ops) WITH (lists = 100);"><pre><span>CREATE</span> <span>INDEX</span> <span>ON</span> items USING ivfflat (embedding vector_l2_ops) WITH (lists <span>=</span> <span>100</span>);</pre></div>
<p dir="auto">A <a href="https://github.com/facebookresearch/faiss/issues/112" data-hovercard-type="issue" data-hovercard-url="/facebookresearch/faiss/issues/112/hovercard">good place to start</a> is <code>4 * sqrt(rows)</code></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-query-options" aria-hidden="true" href="#query-options"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Query Options</h3>
<p dir="auto">Specify the number of probes (1 by default)</p>

<p dir="auto">A higher value improves recall at the cost of speed.</p>
<p dir="auto">Use <code>SET LOCAL</code> inside a transaction to set it for a single query</p>
<div dir="auto" data-snippet-clipboard-copy-content="BEGIN;
SET LOCAL ivfflat.probes = 1;
SELECT ...
COMMIT;"><pre><span>BEGIN</span>;
<span>SET</span> LOCAL <span>ivfflat</span>.<span>probes</span> <span>=</span> <span>1</span>;
<span>SELECT</span> ...
<span>COMMIT</span>;</pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-indexing-progress" aria-hidden="true" href="#indexing-progress"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Indexing Progress</h3>
<p dir="auto">Check <a href="https://www.postgresql.org/docs/current/progress-reporting.html#CREATE-INDEX-PROGRESS-REPORTING" rel="nofollow">indexing progress</a> with Postgres 12+</p>
<div dir="auto" data-snippet-clipboard-copy-content="SELECT phase, tuples_done, tuples_total FROM pg_stat_progress_create_index;"><pre><span>SELECT</span> phase, tuples_done, tuples_total <span>FROM</span> pg_stat_progress_create_index;</pre></div>
<p dir="auto">The phases are:</p>
<ol dir="auto">
<li><code>initializing</code></li>
<li><code>performing k-means</code></li>
<li><code>sorting tuples</code></li>
<li><code>loading tuples</code></li>
</ol>
<p dir="auto">Note: <code>tuples_done</code> and <code>tuples_total</code> are only populated during the <code>loading tuples</code> phase</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-partial-indexes" aria-hidden="true" href="#partial-indexes"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Partial Indexes</h3>
<p dir="auto">Consider <a href="https://www.postgresql.org/docs/current/indexes-partial.html" rel="nofollow">partial indexes</a> for queries with a <code>WHERE</code> clause</p>
<div dir="auto" data-snippet-clipboard-copy-content="SELECT * FROM items WHERE category_id = 123 ORDER BY embedding &lt;-&gt; &#39;[3,1,2]&#39; LIMIT 5;"><pre><span>SELECT</span> <span>*</span> <span>FROM</span> items <span>WHERE</span> category_id <span>=</span> <span>123</span> <span>ORDER BY</span> embedding <span>&lt;</span><span>-</span><span>&gt;</span> <span><span>&#39;</span>[3,1,2]<span>&#39;</span></span> <span>LIMIT</span> <span>5</span>;</pre></div>
<p dir="auto">can be indexed with:</p>
<div dir="auto" data-snippet-clipboard-copy-content="CREATE INDEX ON items USING ivfflat (embedding vector_l2_ops) WHERE (category_id = 123);"><pre><span>CREATE</span> <span>INDEX</span> <span>ON</span> items USING ivfflat (embedding vector_l2_ops) <span>WHERE</span> (category_id <span>=</span> <span>123</span>);</pre></div>
<p dir="auto">To index many different values of <code>category_id</code>, consider <a href="https://www.postgresql.org/docs/current/ddl-partitioning.html" rel="nofollow">partitioning</a> on <code>category_id</code>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="CREATE TABLE items (embedding vector(3), category_id int) PARTITION BY LIST(category_id);"><pre><span>CREATE</span> <span>TABLE</span> <span>items</span> (embedding vector(<span>3</span>), category_id <span>int</span>) PARTITION BY LIST(category_id);</pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-performance" aria-hidden="true" href="#performance"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Performance</h2>
<p dir="auto">To speed up queries without an index, increase <code>max_parallel_workers_per_gather</code>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="SET max_parallel_workers_per_gather = 4;"><pre><span>SET</span> max_parallel_workers_per_gather <span>=</span> <span>4</span>;</pre></div>
<p dir="auto">To speed up queries with an index, increase the number of inverted lists (at the expense of recall).</p>
<div dir="auto" data-snippet-clipboard-copy-content="CREATE INDEX ON items USING ivfflat (embedding vector_l2_ops) WITH (lists = 1000);"><pre><span>CREATE</span> <span>INDEX</span> <span>ON</span> items USING ivfflat (embedding vector_l2_ops) WITH (lists <span>=</span> <span>1000</span>);</pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-reference" aria-hidden="true" href="#reference"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Reference</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-vector-type" aria-hidden="true" href="#vector-type"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Vector Type</h3>
<p dir="auto">Each vector takes <code>4 * dimensions + 8</code> bytes of storage. Each element is a single precision floating-point number (like the <code>real</code> type in Postgres), and all elements must be finite (no <code>NaN</code>, <code>Infinity</code> or <code>-Infinity</code>). Vectors can have up to 16,000 dimensions.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-vector-operators" aria-hidden="true" href="#vector-operators"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Vector Operators</h3>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>element-wise addition</td>
</tr>
<tr>
<td>-</td>
<td>element-wise subtraction</td>
</tr>
<tr>
<td>&lt;-&gt;</td>
<td>Euclidean distance</td>
</tr>
<tr>
<td>&lt;#&gt;</td>
<td>negative inner product</td>
</tr>
<tr>
<td>&lt;=&gt;</td>
<td>cosine distance</td>
</tr>
</tbody>
</table>
<h3 tabindex="-1" dir="auto"><a id="user-content-vector-functions" aria-hidden="true" href="#vector-functions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Vector Functions</h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cosine_distance(vector, vector) → double precision</td>
<td>cosine distance</td>
</tr>
<tr>
<td>inner_product(vector, vector) → double precision</td>
<td>inner product</td>
</tr>
<tr>
<td>l2_distance(vector, vector) → double precision</td>
<td>Euclidean distance</td>
</tr>
<tr>
<td>vector_dims(vector) → integer</td>
<td>number of dimensions</td>
</tr>
<tr>
<td>vector_norm(vector) → double precision</td>
<td>Euclidean norm</td>
</tr>
</tbody>
</table>
<h3 tabindex="-1" dir="auto"><a id="user-content-aggregate-functions" aria-hidden="true" href="#aggregate-functions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Aggregate Functions</h3>
<table>
<thead>
<tr>
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>avg(vector) → vector</td>
<td>arithmetic mean</td>
</tr>
</tbody>
</table>
<h2 tabindex="-1" dir="auto"><a id="user-content-libraries" aria-hidden="true" href="#libraries"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Libraries</h2>
<table>
<thead>
<tr>
<th>Language</th>
<th>Libraries</th>
</tr>
</thead>
<tbody>
<tr>
<td>Python</td>
<td><a href="https://github.com/pgvector/pgvector-python">pgvector-python</a></td>
</tr>
<tr>
<td>Ruby</td>
<td><a href="https://github.com/ankane/neighbor">Neighbor</a>, <a href="https://github.com/pgvector/pgvector-ruby">pgvector-ruby</a></td>
</tr>
<tr>
<td>Node</td>
<td><a href="https://github.com/pgvector/pgvector-node">pgvector-node</a></td>
</tr>
<tr>
<td>Go</td>
<td><a href="https://github.com/pgvector/pgvector-go">pgvector-go</a></td>
</tr>
<tr>
<td>PHP</td>
<td><a href="https://github.com/pgvector/pgvector-php">pgvector-php</a></td>
</tr>
<tr>
<td>Rust</td>
<td><a href="https://github.com/pgvector/pgvector-rust">pgvector-rust</a></td>
</tr>
<tr>
<td>C++</td>
<td><a href="https://github.com/pgvector/pgvector-cpp">pgvector-cpp</a></td>
</tr>
<tr>
<td>Elixir</td>
<td><a href="https://github.com/pgvector/pgvector-elixir">pgvector-elixir</a></td>
</tr>
</tbody>
</table>
<h2 tabindex="-1" dir="auto"><a id="user-content-frequently-asked-questions" aria-hidden="true" href="#frequently-asked-questions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Frequently Asked Questions</h2>
<h4 tabindex="-1" dir="auto"><a id="user-content-how-many-vectors-can-be-stored-in-a-single-table" aria-hidden="true" href="#how-many-vectors-can-be-stored-in-a-single-table"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How many vectors can be stored in a single table?</h4>
<p dir="auto">A non-partitioned table has a limit of 32 TB by default in Postgres. A partitioned table can have thousands of partitions of that size.</p>
<h4 tabindex="-1" dir="auto"><a id="user-content-is-replication-supported" aria-hidden="true" href="#is-replication-supported"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Is replication supported?</h4>
<p dir="auto">Yes, pgvector uses the write-ahead log (WAL), which allows for replication and point-in-time recovery.</p>
<h4 tabindex="-1" dir="auto"><a id="user-content-what-if-i-want-to-index-vectors-with-more-than-2000-dimensions" aria-hidden="true" href="#what-if-i-want-to-index-vectors-with-more-than-2000-dimensions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>What if I want to index vectors with more than 2,000 dimensions?</h4>
<p dir="auto">Two things you can try are:</p>
<ol dir="auto">
<li>use dimensionality reduction</li>
<li>compile Postgres with a larger block size (<code>./configure --with-blocksize=32</code>) and edit the limit in <code>src/ivfflat.h</code></li>
</ol>
<h2 tabindex="-1" dir="auto"><a id="user-content-additional-installation-methods" aria-hidden="true" href="#additional-installation-methods"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Additional Installation Methods</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-docker" aria-hidden="true" href="#docker"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Docker</h3>
<p dir="auto">Get the <a href="https://hub.docker.com/r/ankane/pgvector" rel="nofollow">Docker image</a> with:</p>
<div dir="auto" data-snippet-clipboard-copy-content="docker pull ankane/pgvector"><pre>docker pull ankane/pgvector</pre></div>
<p dir="auto">This adds pgvector to the <a href="https://hub.docker.com/_/postgres" rel="nofollow">Postgres image</a> (run it the same way).</p>
<p dir="auto">You can also build the image manually:</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone --branch v0.4.0 https://github.com/pgvector/pgvector.git
cd pgvector
docker build -t pgvector ."><pre>git clone --branch v0.4.0 https://github.com/pgvector/pgvector.git
<span>cd</span> pgvector
docker build -t pgvector <span>.</span></pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-homebrew" aria-hidden="true" href="#homebrew"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Homebrew</h3>
<p dir="auto">With Homebrew Postgres, you can use:</p>
<div dir="auto" data-snippet-clipboard-copy-content="brew install pgvector/brew/pgvector"><pre>brew install pgvector/brew/pgvector</pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-pgxn" aria-hidden="true" href="#pgxn"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>PGXN</h3>
<p dir="auto">Install from the <a href="https://pgxn.org/dist/vector" rel="nofollow">PostgreSQL Extension Network</a> with:</p>

<h3 tabindex="-1" dir="auto"><a id="user-content-conda-forge" aria-hidden="true" href="#conda-forge"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>conda-forge</h3>
<p dir="auto">Install from <a href="https://anaconda.org/conda-forge/pgvector" rel="nofollow">conda-forge</a> with:</p>
<div dir="auto" data-snippet-clipboard-copy-content="conda install -c conda-forge pgvector"><pre>conda install -c conda-forge pgvector</pre></div>
<p dir="auto">This method is <a href="https://github.com/conda-forge/pgvector-feedstock">community-maintained</a> by <a href="https://github.com/mmcauliffe">@mmcauliffe</a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-hosted-postgres" aria-hidden="true" href="#hosted-postgres"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Hosted Postgres</h2>
<p dir="auto">pgvector is available on <a href="https://github.com/pgvector/pgvector/issues/54" data-hovercard-type="issue" data-hovercard-url="/pgvector/pgvector/issues/54/hovercard">these providers</a>.</p>
<p dir="auto">To request a new extension on other providers:</p>
<ul dir="auto">
<li>Amazon RDS - follow the instructions on <a href="https://aws.amazon.com/rds/postgresql/faqs/" rel="nofollow">this page</a></li>
<li>Google Cloud SQL - vote or comment on <a href="https://issuetracker.google.com/issues/265172065" rel="nofollow">this page</a></li>
<li>DigitalOcean Managed Databases - vote or comment on <a href="https://ideas.digitalocean.com/app-framework-services/p/pgvector-extension-for-postgresql" rel="nofollow">this page</a></li>
<li>Azure Database - vote or comment on <a href="https://feedback.azure.com/d365community/idea/7b423322-6189-ed11-a81b-000d3ae49307" rel="nofollow">this page</a></li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-upgrading" aria-hidden="true" href="#upgrading"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Upgrading</h2>
<p dir="auto">Install the latest version and run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="ALTER EXTENSION vector UPDATE;"><pre>ALTER EXTENSION vector <span>UPDATE</span>;</pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-upgrade-notes" aria-hidden="true" href="#upgrade-notes"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Upgrade Notes</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-040" aria-hidden="true" href="#040"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>0.4.0</h3>
<p dir="auto">If upgrading with Postgres &lt; 13, remove this line from <code>sql/vector--0.3.2--0.4.0.sql</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="ALTER TYPE vector SET (STORAGE = extended);"><pre><span>ALTER</span> <span>TYPE</span> vector <span>SET</span> (STORAGE <span>=</span> extended);</pre></div>
<p dir="auto">Then run <code>make install</code> and <code>ALTER EXTENSION vector UPDATE;</code>.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-031" aria-hidden="true" href="#031"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>0.3.1</h3>
<p dir="auto">If upgrading from 0.2.7 or 0.3.0, recreate all <code>ivfflat</code> indexes after upgrading to ensure all data is indexed.</p>
<div dir="auto" data-snippet-clipboard-copy-content="-- Postgres 12+
REINDEX INDEX CONCURRENTLY index_name;

-- Postgres &lt; 12
CREATE INDEX CONCURRENTLY temp_name ON table USING ivfflat (column opclass);
DROP INDEX CONCURRENTLY index_name;
ALTER INDEX temp_name RENAME TO index_name;"><pre><span><span>--</span> Postgres 12+</span>
REINDEX INDEX CONCURRENTLY index_name;

<span><span>--</span> Postgres &lt; 12</span>
<span>CREATE</span> <span>INDEX</span> <span>CONCURRENTLY</span> temp_name <span>ON</span> table USING ivfflat (column opclass);
<span>DROP</span> <span>INDEX</span> CONCURRENTLY index_name;
<span>ALTER</span> <span>INDEX</span> temp_name RENAME TO index_name;</pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-thanks" aria-hidden="true" href="#thanks"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Thanks</h2>
<p dir="auto">Thanks to:</p>
<ul dir="auto">
<li><a href="https://dl.acm.org/doi/pdf/10.1145/3318464.3386131" rel="nofollow">PASE: PostgreSQL Ultra-High-Dimensional Approximate Nearest Neighbor Search Extension</a></li>
<li><a href="https://github.com/facebookresearch/faiss">Faiss: A Library for Efficient Similarity Search and Clustering of Dense Vectors</a></li>
<li><a href="https://www.aaai.org/Papers/ICML/2003/ICML03-022.pdf" rel="nofollow">Using the Triangle Inequality to Accelerate k-means</a></li>
<li><a href="https://theory.stanford.edu/~sergei/papers/kMeansPP-soda.pdf" rel="nofollow">k-means++: The Advantage of Careful Seeding</a></li>
<li><a href="https://www.cs.utexas.edu/users/inderjit/public_papers/concept_mlj.pdf" rel="nofollow">Concept Decompositions for Large Sparse Text Data using Clustering</a></li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-history" aria-hidden="true" href="#history"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>History</h2>
<p dir="auto">View the <a href="https://github.com/pgvector/pgvector/blob/master/CHANGELOG.md">changelog</a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-contributing" aria-hidden="true" href="#contributing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Contributing</h2>
<p dir="auto">Everyone is encouraged to help improve this project. Here are a few ways you can help:</p>
<ul dir="auto">
<li><a href="https://github.com/pgvector/pgvector/issues">Report bugs</a></li>
<li>Fix bugs and <a href="https://github.com/pgvector/pgvector/pulls">submit pull requests</a></li>
<li>Write, clarify, or fix documentation</li>
<li>Suggest or add new features</li>
</ul>
<p dir="auto">To get started with development:</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/pgvector/pgvector.git
cd pgvector
make
make install"><pre>git clone https://github.com/pgvector/pgvector.git
<span>cd</span> pgvector
make
make install</pre></div>
<p dir="auto">To run all tests:</p>
<div dir="auto" data-snippet-clipboard-copy-content="make installcheck        # regression tests
make prove_installcheck  # TAP tests"><pre>make installcheck        <span><span>#</span> regression tests</span>
make prove_installcheck  <span><span>#</span> TAP tests</span></pre></div>
<p dir="auto">To run single tests:</p>
<div dir="auto" data-snippet-clipboard-copy-content="make installcheck REGRESS=functions                    # regression test
make prove_installcheck PROVE_TESTS=test/t/001_wal.pl  # TAP test"><pre>make installcheck REGRESS=functions                    <span><span>#</span> regression test</span>
make prove_installcheck PROVE_TESTS=test/t/001_wal.pl  <span><span>#</span> TAP test</span></pre></div>
<p dir="auto">To enable benchmarking:</p>
<div dir="auto" data-snippet-clipboard-copy-content="make clean &amp;&amp; PG_CFLAGS=-DIVFFLAT_BENCH make &amp;&amp; make install"><pre>make clean <span>&amp;&amp;</span> PG_CFLAGS=-DIVFFLAT_BENCH make <span>&amp;&amp;</span> make install</pre></div>
<p dir="auto">Resources for contributors</p>
<ul dir="auto">
<li><a href="https://www.postgresql.org/docs/current/extend-pgxs.html" rel="nofollow">Extension Building Infrastructure</a></li>
<li><a href="https://www.postgresql.org/docs/current/indexam.html" rel="nofollow">Index Access Method Interface Definition</a></li>
<li><a href="https://www.postgresql.org/docs/13/generic-wal.html" rel="nofollow">Generic WAL Records</a></li>
</ul>
</article>
          </div></div>
  </body>
</html>
