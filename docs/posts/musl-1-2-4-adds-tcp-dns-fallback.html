<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.openwall.com/lists/musl/2023/05/02/1">Original</a>
    <h1>Musl 1.2.4 adds TCP DNS fallback</h1>
    
    <div id="readability-page-1" class="page">







<a href="http://shapr.github.io/2023/05/01/3">[&lt;prev]</a> <a href="http://shapr.github.io/posts/2">[next&gt;]</a> <a href="http://shapr.github.io/posts/">[day]</a> <a href="http://shapr.github.io/">[month]</a> <a href="http://shapr.github.io/">[year]</a> <a href="http://shapr.github.io/">[list]</a>
<pre>Date: Mon, 1 May 2023 23:47:32 -0400
From: Rich Felker &lt;dalias@...c.org&gt;
To: musl@...ts.openwall.com
Subject: musl 1.2.4 released

This release adds TCP fallback to the DNS stub resolver, fixing the
longstanding inability to query large DNS records and incompatibility
with recursive nameservers that don&#39;t give partial results in
truncated UDP responses. It also makes a number of other bug fixes and
improvements in DNS and related functionality, including making both
the modern and legacy API results differentiate between NODATA and
NxDomain conditions so that the caller can handle them differently.

On the API level, the legacy &#34;LFS64&#34; (&#34;large file support&#34;)
interfaces, which were provided by macros remapping them to their
standard names (#define stat64 stat and similar) have been deprecated
and are no longer provided under the _GNU_SOURCE feature profile, only
under explicit _LARGEFILE64_SOURCE. The latter will also be removed in
a future version. Builds broken by this change can be fixed short-term
by adding -D_LARGEFILE64_SOURCE to CFLAGS, but should be fixed to use
the standard interfaces.

The dynamic linker (and static-PIE entry point code) adds support for
the new compact &#34;RELR&#34; format for relative relocations which recent
linkers can generate. Use of this linker feature for dynamic-linked
programs will make them depend on having musl 1.2.4 or later available
at runtime. Static-linkied PIE binaries using it, as always, are
self-contained and have no such dependency.

A large number of bugs have been fixed, including many in the wide
printf family of functions, incorrect ordering of digits vs non-digits
in strverscmp, and several rare race-condition corner cases in thread
synchronization logic at thread exit time, in multi-threaded fork,
pthread_detach, and POSIX semaphores.


<a href="https://musl.libc.org/releases/musl-1.2.4.tar.gz" rel="nofollow">https://musl.libc.org/releases/musl-1.2.4.tar.gz</a>
<a href="https://musl.libc.org/releases/musl-1.2.4.tar.gz.asc" rel="nofollow">https://musl.libc.org/releases/musl-1.2.4.tar.gz.asc</a>



Special thanks goes out to musl&#39;s release sponsors for supporting the
project financially via Patreon and GitHub Sponsors at the $32/month
level or higher:

* Andrew Kelley / ziglang
* Danny McClanahan
* enduser
* Eric Pruitt
* Evan Phoenix
* Greg Krimer
* Hurricane Labs
* Justin Cormack
* Kentik
* Laurent Bercot
* Michael Sartain
* Mirza Prasovic
* Moinak Bhattacharyya
* Nabu Casa
* Nathan Hoad
* Neal Gompa
* Stackhero
* Tyler James Frederick

For information on becoming a sponsor, visit one of:

<a href="https://github.com/sponsors/richfelker" rel="nofollow">https://github.com/sponsors/richfelker</a>
<a href="https://patreon.com/musl" rel="nofollow">https://patreon.com/musl</a>
</pre>
<p><a href="http://www.openwall.com/blists/">Powered by blists</a> - <a href="http://lists.openwall.net">more mailing lists</a>


</p><p>
Confused about <a href="http://shapr.github.io/lists/">mailing lists</a> and their use?
<a href="https://en.wikipedia.org/wiki/Electronic_mailing_list">Read about mailing lists on Wikipedia</a>
and check out these
<a href="https://www.complang.tuwien.ac.at/anton/mail-news-errors.html">guidelines on proper formatting of your messages</a>.
</p><p>

<a href="http://shapr.github.io/Owl/" title="Powered by Openwall GNU/*/Linux - security-enhanced &#34;Linux distribution&#34;"><img src="http://shapr.github.io/Owl/artwork/buttons/80x15/Owl-80x15-4.png" width="80" height="15" alt="Powered by Openwall GNU/*/Linux"/></a>
<a href="https://openvz.org" title="Powered by OpenVZ - OS virtualization solution for Linux"><img src="http://shapr.github.io/images/OpenVZ-80x15-cd.png" width="80" height="15" alt="Powered by OpenVZ"/></a>





</p></div>
  </body>
</html>
