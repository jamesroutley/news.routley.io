<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://webkit.org/blog/15190/implementing-vertical-form-controls/">Original</a>
    <h1>Implementing Vertical Form Controls</h1>
    
    <div id="readability-page-1" class="page"><div>
                                
                <p>Safari 17.4 adds vertical writing mode support for form control elements across macOS, iOS, iPadOS, and visionOS.</p>
<figure><picture><source srcset="https://webkit.org/wp-content/uploads/vfc-dark-2.png" media="(prefers-color-scheme: dark)"/><img fetchpriority="high" decoding="async" width="1920" height="1010" src="https://webkit.org/wp-content/uploads/vfc-light-2.png" alt="all the form controls, typeset vertically" srcset="https://webkit.org/wp-content/uploads/vfc-light-2.png 1920w, https://webkit.org/wp-content/uploads/vfc-light-2-300x158.png 300w, https://webkit.org/wp-content/uploads/vfc-light-2-1024x539.png 1024w, https://webkit.org/wp-content/uploads/vfc-light-2-768x404.png 768w, https://webkit.org/wp-content/uploads/vfc-light-2-1536x808.png 1536w" sizes="(max-width: 1920px) 100vw, 1920px"/></picture></figure>
<p>Setting written text vertically is commonly observed in East Asian languages. For example, Chinese, Japanese, and Korean (CJK) may be written vertically and read top-to-bottom, flowing in lines from right to left. Similarly, Traditional Mongolian is a vertical script that flows in lines from left to right.</p>
<p>Support for <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flow_Layout/Flow_Layout_and_Writing_Modes">vertical text</a> has been available in browsers for several years using the CSS <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/writing-mode"><code>writing-mode</code></a> property. However, until recently, support for the <code>vertical-lr</code> and <code>vertical-rl</code> values for form controls was inconsistent among all browsers. Consequently, as part of <a href="https://wpt.fyi/interop-2023">Interop 2023</a>, the industry committed to working towards vertical writing mode support in form controls. We are excited to see <a href="https://caniuse.com/mdn-css_properties_writing-mode_vertical_oriented_form_controls">cross-browser support</a> improve considerably. And we are proud that <a href="https://webkit.org/blog/15063/webkit-features-in-safari-17-4/">Safari 17.4</a> brings support for vertical writing modes to form controls everywhere you find Safari.</p>
<h2>Using vertical writing modes with form controls</h2>
<p>Adopting vertical form controls is as simple as adding a CSS declaration using the <code>writing-mode</code> property and applying it to your controls. For a right-to-left block flow direction, as observed in CJK languages, use <code>writing-mode: vertical-rl</code>. Or, for a left-to-right block flow direction, use <code>writing-mode: vertical-lr</code>.</p>
<pre><code><span>button</span>, <span>textarea</span>, <span>progress</span>, <span>meter</span>, <span>input</span>, <span>select</span> {
    <span>writing-mode</span>: <span>vertical-rl</span>;
}
</code></pre>
<p>Support for vertical writing mode is available for the following elements: <code>&lt;button&gt;</code>, <code>&lt;textarea&gt;</code>, <code>&lt;progress&gt;</code>, <code>&lt;meter&gt;</code>, <code>&lt;input&gt;</code>, and <code>&lt;select&gt;</code>. WebKit is committed to supporting vertical writing modes on any new controls moving forward, including <a href="https://webkit.org/blog/15054/an-html-switch-control/"><code>&lt;input type=&#34;checkbox&#34; switch&gt;</code></a>, which was also added in <a href="https://webkit.org/blog/15063/webkit-features-in-safari-17-4/">Safari 17.4.</a></p>
<p>Note that in all browsers, any popup UIs associated with form controls, such as the menu for a <code>&lt;select&gt;</code> element, or the color picker for an <code>&lt;input type=&#34;color&#34;&gt;</code> are still displayed horizontally.</p>
<h2>Implementation</h2>
<p>Adding vertical writing mode support for form control elements in WebKit was a large undertaking that involved over 10 unique types of controls. Below are some of the changes that were needed to support this feature in WebKit.</p>
<h3>Style</h3>
<p>WebKit’s user-agent stylesheet made frequent use of physical properties, such as <code>width</code>, <code>height</code>, and <code>margin</code>. In order to support vertical writing modes, this usage was updated to use logical properties, such as <code>inline-size</code> and <code>block-size</code>, where appropriate.</p>
<h3>Layout</h3>
<p>Form controls in WebKit make heavy use of custom layout code. While the interfaces were designed to support logical properties, the implementations often assumed a horizontal writing mode. We updated the methods to compute logical widths to ensure they considered the writing mode.</p>
<p>Additionally, custom baseline adjustment logic, which makes controls such as checkboxes and radio buttons look great alongside text, was updated to use the central baseline for vertical writing modes. This ensures that controls continue to look great alongside text in a vertical writing mode.</p>
<h3>Rendering</h3>
<p>Rendering form controls with a vertical writing mode required unique changes depending on the control and system capabilities.</p>
<p>On macOS, WebKit’s form controls match the look and feel of the operating system. However, macOS itself does not support vertical writing modes. Consequently, some controls, such as <code>&lt;progress&gt;</code>, are simply rotated after obtaining the system image in order to support vertical rendering.</p>
<figure><picture><source srcset="https://webkit.org/wp-content/uploads/progress-dark.png" media="(prefers-color-scheme: dark)"/><img decoding="async" src="https://webkit.org/wp-content/uploads/progress-light.png" alt="two progress bars, laid out horizontally and vertically" width="606" height="384" srcset="https://webkit.org/wp-content/uploads/progress-light.png 606w, https://webkit.org/wp-content/uploads/progress-light-300x190.png 300w" sizes="(max-width: 606px) 100vw, 606px"/></picture></figure>
<p>Other controls cannot simply be rotated due to details such as shadows, for example <code>&lt;select&gt;</code>, so we used a custom fallback rendering approach.</p>
<figure><picture><source srcset="https://webkit.org/wp-content/uploads/select-dark.png" media="(prefers-color-scheme: dark)"/><img decoding="async" src="https://webkit.org/wp-content/uploads/select-light.png" alt="the select menu typeset vertically" width="336" height="262" srcset="https://webkit.org/wp-content/uploads/select-light.png 336w, https://webkit.org/wp-content/uploads/select-light-300x234.png 300w" sizes="(max-width: 336px) 100vw, 336px"/></picture></figure>
<p>If a control was already custom painted in WebKit, it was updated to use logical coordinates rather than physical coordinates. We used this approach throughout the iOS rendering code and it was also necessary in our rewrite of the listbox (<code>&lt;select multiple&gt;</code>) on macOS.</p>
<figure><picture><source srcset="https://webkit.org/wp-content/uploads/select-multiple-dark.png" media="(prefers-color-scheme: dark)"/><img loading="lazy" decoding="async" src="https://webkit.org/wp-content/uploads/select-multiple-light.png" alt="the select multiple form control, typeset vertically" width="254" height="202"/></picture></figure>
<p>Finally, some controls, such as checkbox and radio buttons, did not require any rendering changes. As “glyph-like” controls, they look the same in all writing modes.</p>
<figure><picture><source srcset="https://webkit.org/wp-content/uploads/checkbox-ios-dark.png" media="(prefers-color-scheme: dark)"/><img loading="lazy" decoding="async" src="https://webkit.org/wp-content/uploads/checkbox-ios-light.png" alt="checkboxes and radio buttons on iOS typeset vertically" width="600" height="440" srcset="https://webkit.org/wp-content/uploads/checkbox-ios-light.png 600w, https://webkit.org/wp-content/uploads/checkbox-ios-light-300x220.png 300w" sizes="(max-width: 600px) 100vw, 600px"/></picture></figure>
<p>WebKit remains committed to improving internationalization support in our engine. By adding vertical writing mode support for form control elements in Safari 17.4, we hope to empower authors to create the best content for their local and global communities.</p>
<p>A special thanks goes to Tim Nguyen, who kicked off the vertical form controls project in WebKit, and Alan Baradlay, whose deep knowledge of CSS layout proved invaluable in driving the project to the finish line.</p>
<h2>Feedback</h2>
<p>We love hearing from you. Send a tweet to <a href="https://twitter.com/webkit">@webkit</a> to share your thoughts on this feature. Find us on Mastodon at <a href="https://front-end.social/@jensimmons">@jensimmons@front-end.social</a> and <a href="https://mastodon.social/@jondavis">@jondavis@mastodon.social</a>. You can also <a href="https://www.linkedin.com/in/apple-webkit/recent-activity/all/">follow WebKit on LinkedIn</a>. If you run into any issues, we welcome your <a href="https://bugs.webkit.org/">WebKit bug reports</a> on WebKit features like this. Reporting issues makes an enormous difference.</p>
<p>You can also download the latest <a href="https://developer.apple.com/safari/download/">Safari Technology Preview</a> to try out new web platform features like this before they appear in a Safari beta.</p>

                            </div></div>
  </body>
</html>
