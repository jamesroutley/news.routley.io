<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.viksnewsletter.com/p/how-automotive-radar-measures-velocity">Original</a>
    <h1>How automotive radar measures the velocity of objects</h1>
    
    <div id="readability-page-1" class="page"><div><div><article><div><div><div dir="auto"><p><em><span>Hey, I‚Äôm </span><a href="https://www.linkedin.com/in/vikramsekar/" rel="">Vikram</a><span> üëã!</span></em></p><p><em>In this article, we continue the discussion on automotive radar and how it is used for distance and velocity measurements. We get a bit technical in this article, but I‚Äôm hoping enough pictures will get the point across. If anything is unclear, leave a comment on Substack and I‚Äôll try to help.</em></p><p><em><span>If you like the content, please click ‚ù§Ô∏è on Substack and </span><strong>subscribe</strong><span>! Sharing the article on social media is a great way of supporting this publication.</span></em></p><p><strong>Note: This article may be truncated in email. Please view it directly on Substack by clicking on the title.</strong></p><p><span>In the </span><a href="https://www.viksnewsletter.com/p/how-automotive-radar-uses-chirp-signals?r=222kot&amp;utm_campaign=post&amp;utm_medium=web" rel="">previous article</a><span> on automotive radar, we focused on the applications of pulsed and frequency modulated continuous wave (FMCW) radar and their basic operating principles for distance measurements. We only briefly touched on the idea of using doppler shift to measure velocity. In this article, we go deeper into how velocity is measured using FMCW radar. If you haven‚Äôt read the last article on this topic, I‚Äôd highly recommend you check out the link below. It covers a bunch of the basics.</span></p><div data-component-name="DigestPostEmbed"><div><a href="https://www.viksnewsletter.com/p/how-automotive-radar-uses-chirp-signals" target="_blank" rel="noopener" class=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_140,h_140,c_fill,f_webp,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e2dc2a5-7b48-4d51-95e2-14a2c310e184_1092x786.gif"/><img src="https://substackcdn.com/image/fetch/w_140,h_140,c_fill,f_auto,q_auto:good,fl_progressive:steep,g_auto/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1e2dc2a5-7b48-4d51-95e2-14a2c310e184_1092x786.gif" sizes="100vw" alt="How Automotive Radar uses Chirp Signals for Sensing" width="140" height="140"/></picture></div></a></div></div><p><strong>In this article, we will cover:</strong></p><ul><li><p>The ambiguity in simultaneous range and velocity measurement</p></li><li><p>Polar visualization of a radar chirp</p></li><li><p>Using phase for velocity estimation</p></li><li><p>Concept of a Doppler FFT and range-doppler plots</p></li><li><p>Practical examples of chirp waveforms</p></li></ul><p><strong>Read time</strong><span>: 10 mins</span></p><p><span>Earlier we looked at how frequency modulated </span><em>chirp</em><span> signals are used in FMCW radar systems. The transmitted chirp reflects off a target and is received after a time delay. Since the chirp signal has a continuously increasing frequency within the chirp period, there is always an instantaneous frequency difference between the transmitted and received chirps. </span></p><p>These chirps are multiplied together in a mixer to generate a beat frequency, which is digitized by the ADC and processed in the digital domain. This beat frequency is proportional to the distance to the object.</p><p>The velocity of the target also manifests as a frequency shift in the received chirp due to Doppler effect. The simultaneous measurement of range and velocity results in an IF signal whose value cannot be solely attributed to range or velocity. The figure below shows the same IF frequency generated in various scenarios of stationary and moving objects. Simply performing range and velocity estimations from IF signal is inherently ambigous.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feec6c588-afb4-4042-a648-47dd1b8a0ee2_1062x1180.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feec6c588-afb4-4042-a648-47dd1b8a0ee2_1062x1180.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feec6c588-afb4-4042-a648-47dd1b8a0ee2_1062x1180.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feec6c588-afb4-4042-a648-47dd1b8a0ee2_1062x1180.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feec6c588-afb4-4042-a648-47dd1b8a0ee2_1062x1180.heic 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feec6c588-afb4-4042-a648-47dd1b8a0ee2_1062x1180.heic" width="468" height="520" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/eec6c588-afb4-4042-a648-47dd1b8a0ee2_1062x1180.heic&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:1180,&#34;width&#34;:1062,&#34;resizeWidth&#34;:468,&#34;bytes&#34;:85982,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/heic&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feec6c588-afb4-4042-a648-47dd1b8a0ee2_1062x1180.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feec6c588-afb4-4042-a648-47dd1b8a0ee2_1062x1180.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feec6c588-afb4-4042-a648-47dd1b8a0ee2_1062x1180.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Feec6c588-afb4-4042-a648-47dd1b8a0ee2_1062x1180.heic 1456w" sizes="100vw" loading="lazy"/></picture></div></a><figcaption>Illustration of the ambiguity between range and velocity measurements with measurement on intermediate frequencies alone.</figcaption></figure></div><p><span>In addition, we mentioned in passing in the last article that it is difficult to tell if an object is moving towards or away from the radar because received frequencies both above and below the transmitted signal frequency mixes down to the same IF (</span><a href="https://www.viksnewsletter.com/p/the-image-problem-in-rf-receiver?r=222kot&amp;utm_campaign=post&amp;utm_medium=web" rel="">the image problem</a><span>.)</span></p><p>Several astute readers pointed out that phase information can be used to further resolve target range and velocity.  This is what we will discuss in this article.</p><p><span>To better understand how phase plays a role, we need to upgrade our visualization of the time-domain representation of an FMCW chirp - from two to three dimensions. A sinusoid when represented as a complex signal, is </span><a href="https://youtu.be/YVLEsxq2kEA" rel="">a helix spiraling forward in time</a><span>.</span></p><p>To extend this idea to frequency modulated waves, we&#39;ll use an analogy.</p><p><span>Visualize a spring. A complex sinusoid at any given time is a point along the spring. As time passes, the point spirals forward along the spring. In an </span><a href="https://www.viksnewsletter.com/i/143768864/the-need-for-negative-frequencies" rel="">earlier article,</a><span> we visualized this when understanding the need for negative frequencies. Give it a quick look over if you need a better mental picture.</span></p><p>If you look through the axis of the spring, you will see a circle. As the signal propagates, the value at any instant is given by an amplitude that corresponds to the radius of the circle, and an angle that changes with time. This is the complex polar representation of a sinusoid.</p><p>For an FMCW signal in complex form, visualize the same spring but more compressed on one end, and elongated at the other. This represents a complex signal whose frequency is continuously increasing, like in a radar chirp. Looking through the spring again, we will have a dot that traces a circle with a magnitude and phase as the wave propagates. The difference now is that it will spin faster around a circle as the frequency is linearly increased.</p><p><strong>The main takeaway here is that both constant frequency and FM signals can be represented in polar form, with magnitude and angle.</strong></p><p><span>The multiplicative mixing process between transmitted and received chirps not only results in a constant</span><span> beat difference frequency, but it also does something to phase. </span><strong>The IF signal has a phase that is the difference between transmit and received signal phases</strong><span>. </span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2dddf02-fb56-4bf4-8e39-be138493488a_897x63.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2dddf02-fb56-4bf4-8e39-be138493488a_897x63.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2dddf02-fb56-4bf4-8e39-be138493488a_897x63.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2dddf02-fb56-4bf4-8e39-be138493488a_897x63.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2dddf02-fb56-4bf4-8e39-be138493488a_897x63.heic 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2dddf02-fb56-4bf4-8e39-be138493488a_897x63.heic" width="406" height="28.51505016722408" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/d2dddf02-fb56-4bf4-8e39-be138493488a_897x63.heic&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:63,&#34;width&#34;:897,&#34;resizeWidth&#34;:406,&#34;bytes&#34;:8556,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/heic&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2dddf02-fb56-4bf4-8e39-be138493488a_897x63.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2dddf02-fb56-4bf4-8e39-be138493488a_897x63.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2dddf02-fb56-4bf4-8e39-be138493488a_897x63.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fd2dddf02-fb56-4bf4-8e39-be138493488a_897x63.heic 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p><span>When the IF signal is represented as a peak in the spectrum, we are only looking at half the story - the magnitude of the signal. The peak also has a phase value that is equal to the </span><em>initial phase</em><span> of the IF signal. So how does phase change with the distance to the object? This is fairly simple to calculate if the round trip delay changes by Œît=2Œîd/c, and the instantaneous wavelength is ùúÜc.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2440efaf-b300-4f3a-934f-3aa6dbae9c77_942x105.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2440efaf-b300-4f3a-934f-3aa6dbae9c77_942x105.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2440efaf-b300-4f3a-934f-3aa6dbae9c77_942x105.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2440efaf-b300-4f3a-934f-3aa6dbae9c77_942x105.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2440efaf-b300-4f3a-934f-3aa6dbae9c77_942x105.heic 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2440efaf-b300-4f3a-934f-3aa6dbae9c77_942x105.heic" width="268" height="29.872611464968152" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/2440efaf-b300-4f3a-934f-3aa6dbae9c77_942x105.heic&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:105,&#34;width&#34;:942,&#34;resizeWidth&#34;:268,&#34;bytes&#34;:9200,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/heic&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2440efaf-b300-4f3a-934f-3aa6dbae9c77_942x105.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2440efaf-b300-4f3a-934f-3aa6dbae9c77_942x105.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2440efaf-b300-4f3a-934f-3aa6dbae9c77_942x105.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2440efaf-b300-4f3a-934f-3aa6dbae9c77_942x105.heic 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F817fdbe9-a10a-4bb2-8252-c3ab613e2150_446x194.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F817fdbe9-a10a-4bb2-8252-c3ab613e2150_446x194.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F817fdbe9-a10a-4bb2-8252-c3ab613e2150_446x194.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F817fdbe9-a10a-4bb2-8252-c3ab613e2150_446x194.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F817fdbe9-a10a-4bb2-8252-c3ab613e2150_446x194.heic 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F817fdbe9-a10a-4bb2-8252-c3ab613e2150_446x194.heic" width="124" height="53.937219730941706" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/817fdbe9-a10a-4bb2-8252-c3ab613e2150_446x194.heic&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:194,&#34;width&#34;:446,&#34;resizeWidth&#34;:124,&#34;bytes&#34;:4867,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/heic&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F817fdbe9-a10a-4bb2-8252-c3ab613e2150_446x194.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F817fdbe9-a10a-4bb2-8252-c3ab613e2150_446x194.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F817fdbe9-a10a-4bb2-8252-c3ab613e2150_446x194.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F817fdbe9-a10a-4bb2-8252-c3ab613e2150_446x194.heic 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55b64012-f246-4fe5-856a-100a09cb87c4_1788x1715.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55b64012-f246-4fe5-856a-100a09cb87c4_1788x1715.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55b64012-f246-4fe5-856a-100a09cb87c4_1788x1715.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55b64012-f246-4fe5-856a-100a09cb87c4_1788x1715.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55b64012-f246-4fe5-856a-100a09cb87c4_1788x1715.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55b64012-f246-4fe5-856a-100a09cb87c4_1788x1715.png" width="370" height="355.00686813186815" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/55b64012-f246-4fe5-856a-100a09cb87c4_1788x1715.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:1397,&#34;width&#34;:1456,&#34;resizeWidth&#34;:370,&#34;bytes&#34;:235202,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55b64012-f246-4fe5-856a-100a09cb87c4_1788x1715.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55b64012-f246-4fe5-856a-100a09cb87c4_1788x1715.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55b64012-f246-4fe5-856a-100a09cb87c4_1788x1715.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F55b64012-f246-4fe5-856a-100a09cb87c4_1788x1715.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p>So the movement of an object produces an IF shift of S‚®â2Œîd/c (as we calculated in the last newsletter), and a phase change Œîœï, both of which are directly proportional to the change in distance. Which measurement is more sensitive? </p><p><span>For a 77 GHz radar with 4 GHz bandwidth and 40 microsecond chirp time, the IF shift would be about 660 Hz, while the phase shift would be about 180 degrees. 660 Hz would be indistinguishable in the fast Fourier transform (FFT) spectrum</span><span> unless a very long observation window is used. Phase measurement is much more sensitive to small changes in range, and easily detectable.</span></p><p>The phase sensitivity is useful for other applications such as vibration detection and remote vital sign monitoring because small changes in distance produce easily measurable shifts in phase.</p><p>This sensitive phase shift can be used to estimate velocity of the object by estimating how much the phase changes in a given interval of time. To do this, two chirps are emitted spaced apart by chirp time Tc. Computing FFT on the IF signal (called Range FFT) would result in two peaks in the spectrum whose frequency values are closely spaced (or the same) but with differing initial phases.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F511f00f1-1832-44a8-b68c-7037ea7a94bf_1042x887.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F511f00f1-1832-44a8-b68c-7037ea7a94bf_1042x887.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F511f00f1-1832-44a8-b68c-7037ea7a94bf_1042x887.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F511f00f1-1832-44a8-b68c-7037ea7a94bf_1042x887.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F511f00f1-1832-44a8-b68c-7037ea7a94bf_1042x887.heic 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F511f00f1-1832-44a8-b68c-7037ea7a94bf_1042x887.heic" width="428" height="364.33397312859887" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/511f00f1-1832-44a8-b68c-7037ea7a94bf_1042x887.heic&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:887,&#34;width&#34;:1042,&#34;resizeWidth&#34;:428,&#34;bytes&#34;:64363,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/heic&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F511f00f1-1832-44a8-b68c-7037ea7a94bf_1042x887.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F511f00f1-1832-44a8-b68c-7037ea7a94bf_1042x887.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F511f00f1-1832-44a8-b68c-7037ea7a94bf_1042x887.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F511f00f1-1832-44a8-b68c-7037ea7a94bf_1042x887.heic 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p>If the object velocity is v, then it would have moved a distance of v times Tc. Using vTc instead of Œîd in the phase equation above would allow us to calculate velocity as</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1219a3ce-7c0a-44cf-b566-570540ad2bca_410x210.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1219a3ce-7c0a-44cf-b566-570540ad2bca_410x210.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1219a3ce-7c0a-44cf-b566-570540ad2bca_410x210.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1219a3ce-7c0a-44cf-b566-570540ad2bca_410x210.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1219a3ce-7c0a-44cf-b566-570540ad2bca_410x210.heic 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1219a3ce-7c0a-44cf-b566-570540ad2bca_410x210.heic" width="114" height="58.390243902439025" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/1219a3ce-7c0a-44cf-b566-570540ad2bca_410x210.heic&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:210,&#34;width&#34;:410,&#34;resizeWidth&#34;:114,&#34;bytes&#34;:5654,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/heic&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1219a3ce-7c0a-44cf-b566-570540ad2bca_410x210.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1219a3ce-7c0a-44cf-b566-570540ad2bca_410x210.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1219a3ce-7c0a-44cf-b566-570540ad2bca_410x210.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F1219a3ce-7c0a-44cf-b566-570540ad2bca_410x210.heic 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p>But what is the maximum velocity that can be measured using multiple chirps? The measurement of phase is unambiguous only if the phase change is lesser than œÄ radians (see picture below), because it is hard to differentiate between clockwise and anti-clockwise phase rotations for Œîœï &gt; œÄ. By setting Œîœï = œÄ, we get maximum velocity as</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d3c8e6e-9b8d-443f-90ab-142597bdf8b2_432x200.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d3c8e6e-9b8d-443f-90ab-142597bdf8b2_432x200.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d3c8e6e-9b8d-443f-90ab-142597bdf8b2_432x200.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d3c8e6e-9b8d-443f-90ab-142597bdf8b2_432x200.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d3c8e6e-9b8d-443f-90ab-142597bdf8b2_432x200.heic 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d3c8e6e-9b8d-443f-90ab-142597bdf8b2_432x200.heic" width="134" height="62.03703703703704" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/3d3c8e6e-9b8d-443f-90ab-142597bdf8b2_432x200.heic&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:200,&#34;width&#34;:432,&#34;resizeWidth&#34;:134,&#34;bytes&#34;:4752,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/heic&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d3c8e6e-9b8d-443f-90ab-142597bdf8b2_432x200.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d3c8e6e-9b8d-443f-90ab-142597bdf8b2_432x200.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d3c8e6e-9b8d-443f-90ab-142597bdf8b2_432x200.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3d3c8e6e-9b8d-443f-90ab-142597bdf8b2_432x200.heic 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad58334a-28b0-4c40-9b54-8af611b8a667_432x243.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad58334a-28b0-4c40-9b54-8af611b8a667_432x243.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad58334a-28b0-4c40-9b54-8af611b8a667_432x243.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad58334a-28b0-4c40-9b54-8af611b8a667_432x243.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad58334a-28b0-4c40-9b54-8af611b8a667_432x243.heic 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad58334a-28b0-4c40-9b54-8af611b8a667_432x243.heic" width="256" height="144" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/ad58334a-28b0-4c40-9b54-8af611b8a667_432x243.heic&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:243,&#34;width&#34;:432,&#34;resizeWidth&#34;:256,&#34;bytes&#34;:13092,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/heic&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad58334a-28b0-4c40-9b54-8af611b8a667_432x243.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad58334a-28b0-4c40-9b54-8af611b8a667_432x243.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad58334a-28b0-4c40-9b54-8af611b8a667_432x243.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fad58334a-28b0-4c40-9b54-8af611b8a667_432x243.heic 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p><span>This means that using faster chirps (lower Tc) will help resolve faster velocities, but as we saw in an </span><a href="https://www.viksnewsletter.com/i/145459210/maximum-range" rel="">earlier newsletter</a><span>, will restrict the maximum distance that the radar can sense. There is a direct trade-off between maximum distance vs maximum velocity measurements, and selection of proper chirp parameters are essential in classifying radar as short, medium or long range. We will look at practical examples later.</span></p><div data-attrs="{&#34;url&#34;:&#34;https://www.viksnewsletter.com/p/how-automotive-radar-measures-velocity?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&#34;,&#34;text&#34;:&#34;Share&#34;}" data-component-name="CaptionedButtonToDOM"><p>Thank you for reading Vik&#39;s Newsletter. This post is public so feel free to share it.</p><p data-attrs="{&#34;url&#34;:&#34;https://www.viksnewsletter.com/p/how-automotive-radar-measures-velocity?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share&#34;,&#34;text&#34;:&#34;Share&#34;}" data-component-name="ButtonCreateButton"><a href="https://www.viksnewsletter.com/p/how-automotive-radar-measures-velocity?utm_source=substack&amp;utm_medium=email&amp;utm_content=share&amp;action=share" rel=""><span>Share</span></a></p></div><p>So far we have looked at velocity measurement of a single radar target. What if there are multiple objects moving at different velocities? As long as they are at different distances, they will result in different IF frequencies, and distinct FFT peaks each with phase change information that can be used to calculate velocity. </p><p>The problem arises when multiple objects are in the same range, but moving at different velocities. In this case, the FFT peaks will overlap, and even if phase change information is available, it is hard to tell which phase change corresponds to which object.</p><p><span>The general solution to this problem is to </span><strong>use a sequence of N-chirps in succession, called a frame</strong><span>. This is the fundamental unit of transmission in FMCW radar. The time between two consecutive chirps is called the pulse repetition rate (PRT), and plays a key role in the accuracy of doppler velocity estimation.</span></p><p><span>Computing the range FFT of each chirp gives a series of peaks whose frequency is the almost constant (if the range is the same) but each containing different phase information. Computing the range FFT is said to be done along the </span><em>fast-time</em><span> axis, since many samples are being collected for each chirp. An object moving faster will accumulate more phase shift over the sequence of N chirps compared to a slower moving object.</span></p><p>To calculate velocity of the object, we need to compute FFT over multiple chirps. The idea behind this is to find out how much the phase has changed between different chirps. The rate of phase change along with the direction of phase change will tell us how fast the object is moving, and whether it is moving towards, or away from the radar. The resulting FFT will provide two peaks in the spectrum, corresponding to the velocity of each object. </p><p><span>Also, because the sampling rate between chirps will depend on the pulse repetition rate, it will be slower than the range FFT calculation which is done on every chirp. As a result, such an FFT is said to be done along the </span><em>slow-time</em><span> axis.</span></p><blockquote><p><strong>An FFT computed over a sequence of range FFTs corresponding to N chirps in a frame is called a Doppler FFT.</strong></p></blockquote><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F938bad67-6bc6-4fb9-aa12-6c02d0125f01_1813x1647.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F938bad67-6bc6-4fb9-aa12-6c02d0125f01_1813x1647.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F938bad67-6bc6-4fb9-aa12-6c02d0125f01_1813x1647.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F938bad67-6bc6-4fb9-aa12-6c02d0125f01_1813x1647.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F938bad67-6bc6-4fb9-aa12-6c02d0125f01_1813x1647.heic 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F938bad67-6bc6-4fb9-aa12-6c02d0125f01_1813x1647.heic" width="642" height="583.3557692307693" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/938bad67-6bc6-4fb9-aa12-6c02d0125f01_1813x1647.heic&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:1323,&#34;width&#34;:1456,&#34;resizeWidth&#34;:642,&#34;bytes&#34;:147682,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/heic&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F938bad67-6bc6-4fb9-aa12-6c02d0125f01_1813x1647.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F938bad67-6bc6-4fb9-aa12-6c02d0125f01_1813x1647.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F938bad67-6bc6-4fb9-aa12-6c02d0125f01_1813x1647.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F938bad67-6bc6-4fb9-aa12-6c02d0125f01_1813x1647.heic 1456w" sizes="100vw" loading="lazy"/></picture></div></a><figcaption>Range and Doppler FFT to extract distance and velocity from radar data.</figcaption></figure></div><p>The resulting FFT can be plotted on what is called a range-doppler FFT, which can immediately identify how many targets are present, what their ranges are and how fast they are moving in what direction (towards or away). </p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3fca8017-bd0c-4fd9-9478-915bc50fb608_600x368.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3fca8017-bd0c-4fd9-9478-915bc50fb608_600x368.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3fca8017-bd0c-4fd9-9478-915bc50fb608_600x368.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3fca8017-bd0c-4fd9-9478-915bc50fb608_600x368.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3fca8017-bd0c-4fd9-9478-915bc50fb608_600x368.heic 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3fca8017-bd0c-4fd9-9478-915bc50fb608_600x368.heic" width="600" height="368" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/3fca8017-bd0c-4fd9-9478-915bc50fb608_600x368.heic&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:368,&#34;width&#34;:600,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:39061,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/heic&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3fca8017-bd0c-4fd9-9478-915bc50fb608_600x368.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3fca8017-bd0c-4fd9-9478-915bc50fb608_600x368.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3fca8017-bd0c-4fd9-9478-915bc50fb608_600x368.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F3fca8017-bd0c-4fd9-9478-915bc50fb608_600x368.heic 1456w" sizes="100vw" loading="lazy"/></picture></div></a><figcaption><span>Example of a range-doppler map. Image Courtesy: Ansys Inc. (</span><a href="https://www.ansys.com/blog/5-dimensions-of-radar" rel="">link</a><span>)</span></figcaption></figure></div><p>Immediately we are faced with the question of resolution: How close can the two velocities be, so that the peaks will be uniquely identifiable?</p><p>In a frame with N-chirps, two angular frequencies will be distinguishable if their difference is greater than  2œÄ/N. Setting Œîœï=2œÄ/N in the velocity equation gives us the expression for minimum resolvable velocity.</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7173f596-285b-48f4-b4e9-b5c575b85a05_543x163.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7173f596-285b-48f4-b4e9-b5c575b85a05_543x163.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7173f596-285b-48f4-b4e9-b5c575b85a05_543x163.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7173f596-285b-48f4-b4e9-b5c575b85a05_543x163.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7173f596-285b-48f4-b4e9-b5c575b85a05_543x163.heic 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7173f596-285b-48f4-b4e9-b5c575b85a05_543x163.heic" width="211" height="63.338858195211785" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/7173f596-285b-48f4-b4e9-b5c575b85a05_543x163.heic&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:163,&#34;width&#34;:543,&#34;resizeWidth&#34;:211,&#34;bytes&#34;:5574,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/heic&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7173f596-285b-48f4-b4e9-b5c575b85a05_543x163.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7173f596-285b-48f4-b4e9-b5c575b85a05_543x163.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7173f596-285b-48f4-b4e9-b5c575b85a05_543x163.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F7173f596-285b-48f4-b4e9-b5c575b85a05_543x163.heic 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p>where Tf=NTc is the total frame time. This means using a longer observation window with more chirps will help resolve velocity better.</p><p>Designing a chirp for a given application comes down to three factors, and their trade-offs which are summarized below.</p><ol><li><p><strong>Bandwidth of the chirp</strong><span>: The higher the frequency bandwidth, the better the distance resolution.</span></p></li><li><p><strong>Duration of the chirp</strong><span>: Short, fast chirps for a given bandwidth, allow higher velocity measurements but limit maximum range of measurement, and vice versa.</span></p></li><li><p><strong>Number of chirp repetitions in a frame</strong><span>: Greater number of chirps increase total frame length, but allows for increased velocity resolution.</span></p></li></ol><p>Typical chirp parameters for various automotive radar applications are shown below for a Texas Instruments mm-Wave radar chip for Long Range Radar (LRR=225m), Medium Range Radar (MRR=125m), Short Range Radar (SRR=45m) and Ultra Short Range Radar (USRR=22m).</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6224d2d-8e82-43c7-b0d6-afdb33b7b3c9_2216x1212.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6224d2d-8e82-43c7-b0d6-afdb33b7b3c9_2216x1212.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6224d2d-8e82-43c7-b0d6-afdb33b7b3c9_2216x1212.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6224d2d-8e82-43c7-b0d6-afdb33b7b3c9_2216x1212.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6224d2d-8e82-43c7-b0d6-afdb33b7b3c9_2216x1212.heic 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6224d2d-8e82-43c7-b0d6-afdb33b7b3c9_2216x1212.heic" width="1456" height="796" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/c6224d2d-8e82-43c7-b0d6-afdb33b7b3c9_2216x1212.heic&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:796,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:126306,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/heic&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6224d2d-8e82-43c7-b0d6-afdb33b7b3c9_2216x1212.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6224d2d-8e82-43c7-b0d6-afdb33b7b3c9_2216x1212.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6224d2d-8e82-43c7-b0d6-afdb33b7b3c9_2216x1212.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc6224d2d-8e82-43c7-b0d6-afdb33b7b3c9_2216x1212.heic 1456w" sizes="100vw" loading="lazy"/></picture></div></a><figcaption><span>Source: TI, Programming Chirp Parameters in TI Radar Devices (</span><a href="https://www.ti.com/lit/an/swra553a/swra553a.pdf?ts=1678029876678" rel="">link</a><span>)</span></figcaption></figure></div><p>Looking at this table closely helps us understand how the choice of chirp parameters affects what the radar system is capable of doing, and puts into practical terms all the trade-offs we have discussed in the last article and this one, regarding range and velocity measurement. </p><p><span>The table below shows another application where a mm-Wave radar system is used as a proximity sensor for ground-clearance measurement or door/trunk opener. This low-cost chip (</span><a href="https://www.ti.com/lit/wp/spyy008/spyy008.pdf" rel="">AWR1443</a><span> from Texas Instruments) allows the use of high-performance radar for short range detection in lieu of ultrasonic systems. </span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09f4d577-c6d6-48fa-b212-6d3a476632b9_1116x1184.heic" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09f4d577-c6d6-48fa-b212-6d3a476632b9_1116x1184.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09f4d577-c6d6-48fa-b212-6d3a476632b9_1116x1184.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09f4d577-c6d6-48fa-b212-6d3a476632b9_1116x1184.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09f4d577-c6d6-48fa-b212-6d3a476632b9_1116x1184.heic 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09f4d577-c6d6-48fa-b212-6d3a476632b9_1116x1184.heic" width="436" height="462.5663082437276" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/09f4d577-c6d6-48fa-b212-6d3a476632b9_1116x1184.heic&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:1184,&#34;width&#34;:1116,&#34;resizeWidth&#34;:436,&#34;bytes&#34;:106792,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/heic&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09f4d577-c6d6-48fa-b212-6d3a476632b9_1116x1184.heic 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09f4d577-c6d6-48fa-b212-6d3a476632b9_1116x1184.heic 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09f4d577-c6d6-48fa-b212-6d3a476632b9_1116x1184.heic 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F09f4d577-c6d6-48fa-b212-6d3a476632b9_1116x1184.heic 1456w" sizes="100vw" loading="lazy"/></picture></div></a><figcaption><span>Source: TI, AWR1443 Single Chirp Radar for Proximity Sensing Applications (</span><a href="https://www.ti.com/lit/wp/spyy008/spyy008.pdf" rel="">link</a><span>)</span></figcaption></figure></div><p>One important aspect of designing a system to support a given radar chirp frame is memory. Remember that the computation of doppler FFT can only occur when all the range FFTs are computed. Hence, the system should have sufficient on-board memory to store the radar data before the 2-dimensional range-doppler plot can be generated.</p><p>Many radar chips include a radar hardware accelerator that offloads frequently used computations away from the CPU, and is primarily geared towards fast FFT computations. There is a dedicated DSP processor that performs all the necessary data processing for radar calculations. </p><p>In addition, there are other considerations such as idle time between consecutive chirps to allow the frequency synthesizer to ramp down from the highest to the lowest frequency.</p><p>We have discussed distance and velocity measurements using FMCW radar. In the next article, we will look at angle estimations and other related topics.</p><p>See you next week!</p><p data-attrs="{&#34;url&#34;:&#34;https://www.viksnewsletter.com/p/how-automotive-radar-measures-velocity/comments&#34;,&#34;text&#34;:&#34;Leave a comment&#34;,&#34;action&#34;:null,&#34;class&#34;:null}" data-component-name="ButtonCreateButton"><a href="https://www.viksnewsletter.com/p/how-automotive-radar-measures-velocity/comments" rel=""><span>Leave a comment</span></a></p></div></div></div></article></div></div></div>
  </body>
</html>
