<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/dan-lovelace/giggle">Original</a>
    <h1>Show HN: Giggle ‚Äì A self-hosted customizable and ad-free Google Search interface</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">A self-hosted, customizable and ad-free Google Search experience.</p>
<h2 dir="auto"><a id="user-content-what-does-it-do" aria-hidden="true" href="#what-does-it-do"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>What does it do?</h2>
<p dir="auto">Giggle lets you run Google searches against allow- and block-lists in an easy way. You create lists of sites to include or exclude in Google&#39;s <a href="https://developers.google.com/custom-search" rel="nofollow">Programmable Search Engine service</a> and Giggle will pick them up for use.</p>
<h2 dir="auto"><a id="user-content-how-it-works" aria-hidden="true" href="#how-it-works"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How it works</h2>
<p dir="auto">After installation, Giggle logs into Google for you to gather a list of your <a href="https://programmablesearchengine.google.com/about/" rel="nofollow">Custom Search Engines</a>. When you perform a search, you select the engine to use from a dropdown and Giggle uses your <a href="https://console.cloud.google.com/apis/dashboard" rel="nofollow">Developer API key</a> to execute a search against it. Everything is self-hosted so your credentials and data belong to <em>you</em>.</p>
<h2 dir="auto"><a id="user-content-how-it-looks" aria-hidden="true" href="#how-it-looks"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>How it looks</h2>
<p dir="auto">Here&#39;s a glimpse of the homepage, it may look familiar <g-emoji alias="slightly_smiling_face" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f642.png">üôÇ</g-emoji></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/dan-lovelace/giggle/blob/main/assets/giggle_homepage.png"><img src="https://github.com/dan-lovelace/giggle/raw/main/assets/giggle_homepage.png" alt="giggle_homepage"/></a></p>
<p dir="auto">Your results contain no ads and are restricted to the sites you configure in the <a href="https://programmablesearchengine.google.com/smart_sign_in" rel="nofollow">Programmable Search Engine console</a>.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/dan-lovelace/giggle/blob/main/assets/giggle_results.png"><img src="https://github.com/dan-lovelace/giggle/raw/main/assets/giggle_results.png" alt="giggle_results"/></a></p>

<p dir="auto">Giggle is self-hosted meaning you may host it any way you like or just run it locally. It uses <a href="https://nextjs.org/" rel="nofollow">NextJS</a> so development and deployments are <em>super</em> easy.</p>
<h2 dir="auto"><a id="user-content-what-youll-need" aria-hidden="true" href="#what-youll-need"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>What you&#39;ll need</h2>
<ul dir="auto">
<li>Some technical knowledge - I&#39;ll walk you through it in this README. If you don&#39;t already have them, you&#39;ll need <a href="https://nodejs.org/" rel="nofollow">NodeJS</a> and <a href="https://yarnpkg.com/" rel="nofollow">yarn package manager</a>.</li>
<li>A Google account <strong>without</strong> MFA - You&#39;ll need to inject its username and password as environment variables. If you&#39;re curious/concerned about how they&#39;re used, check out <a href="https://github.com/dan-lovelace/giggle/blob/main/pages/api/engines.ts">this file</a>. Basically, Giggle uses <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a> to log in to Google in order to retrieve your custom search engine IDs. If you do not have an account without MFA, just go ahead and <a href="https://accounts.google.com/signup" rel="nofollow">make a new one</a> - <strong><g-emoji alias="warning" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png">‚ö†Ô∏è</g-emoji> MAKE SURE NOT TO TURN ON MFA! <g-emoji alias="warning" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png">‚ö†Ô∏è</g-emoji></strong></li>
<li>A Google Developer API key with <strong>Custom Search API</strong> privileges - Giggle uses your API key to run queries against your search engines to retrieve JSON results without ads. Head over to the <a href="https://console.cloud.google.com/apis/dashboard" rel="nofollow">Developer Console</a> to set this up. Each engine gets 100 queries per day for free <g-emoji alias="moneybag" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/1f4b0.png">üí∞</g-emoji></li>
<li>At least one custom search engine configured in the Google account&#39;s <a href="https://programmablesearchengine.google.com/smart_sign_in" rel="nofollow">Programmable Search Engine console</a> - Your console should look something like this:</li>
</ul>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/dan-lovelace/giggle/blob/main/assets/cse_console.png"><img src="https://github.com/dan-lovelace/giggle/raw/main/assets/cse_console.png" alt="programmable_search_engine"/></a></p>
<h2 dir="auto"><a id="user-content-setup" aria-hidden="true" href="#setup"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Setup</h2>
<ul dir="auto">
<li>Open a new Terminal window</li>
<li>Clone this repository with <code>git clone https://github.com/dan-lovelace/giggle.git</code></li>
<li>Change into the new directory with something like <code>cd giggle</code></li>
<li>Create an empty <code>.env</code> file with <code>touch .env</code></li>
<li>Open the <code>.env</code> file and paste in the following template, then update the values with your own:</li>
</ul>
<div data-snippet-clipboard-copy-content="GOOGLE_USERNAME=your_email
GOOGLE_PASSWORD=your_password
GOOGLE_API_KEY=your_api_key"><pre>GOOGLE_USERNAME=your_email
GOOGLE_PASSWORD=your_password
GOOGLE_API_KEY=your_api_key</pre></div>
<ul dir="auto">
<li>Run <code>yarn</code> to install dependencies</li>
<li>Run <code>yarn build</code> to create a new build</li>
<li>Run <code>yarn start</code> and wait for it to change to the <code>ready</code> state</li>
<li>Navigate to <code>http://localhost:3000</code> in a browser</li>
<li>If everything went right, you should see the Giggle homepage after a few seconds (the first time loading is a bit slower than usual)</li>
</ul>
<h2 dir="auto"><a id="user-content-troubleshooting" aria-hidden="true" href="#troubleshooting"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Troubleshooting</h2>
<ul dir="auto">
<li>If you made a new Google account, it&#39;s possible the first couple login attempts by Giggle will fail due to being prompted to confirm a phone number. Try refreshing the page. You may also check the Puppeteer output in <code>puppeteer/screenshots</code> for any insight. If you continue having trouble, try increasing the <code>waitForTimeout</code> values in <a href="https://github.com/dan-lovelace/giggle/blob/main/pages/api/engines.ts">/pages/api/engines.ts</a> from <code>500</code> to <code>1000</code> and rebuilding.</li>
<li>If you see an error saying something like &#34;No engines found,&#34; make sure at least one search engine exists in your <a href="https://programmablesearchengine.google.com/smart_sign_in" rel="nofollow">Programmable Search Engine console</a>.</li>
<li>Feel free to open a <a href="https://github.com/dan-lovelace/giggle/issues">GitHub issue</a> if you need additional help.</li>
</ul>

<p dir="auto">Run <code>yarn dev</code> to get started using the dev server.</p>
<p dir="auto"><strong>Note</strong>: <code>yarn dev</code> starts a local instance <em>without</em> API caching which may run up your search request limits rather quickly. There is some mock implementation in <a href="https://github.com/dan-lovelace/giggle/blob/main/pages/api/search.ts">/pages/api/search.ts</a> which will avoid hitting your engine&#39;s API during development. Uncomment the <code>MOCK USAGE</code> section and comment the <code>REAL USAGE</code> to use it. Mocking the search API uses the JSON located in <a href="https://github.com/dan-lovelace/giggle/blob/main/mocks/results-recipes.json">mocks/results-recipes.json</a>.</p>
<h2 dir="auto"><a id="user-content-testing" aria-hidden="true" href="#testing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Testing</h2>
<p dir="auto">Giggle&#39;s tests are written using <a href="https://www.cypress.io/" rel="nofollow">Cypress</a> and can be run with either of these commands:</p>
<ul dir="auto">
<li><code>yarn cypress:open</code> - Opens a Cypress runner for testing individual spec files.</li>
<li><code>yarn cypress:run</code> - Executes all tests in series.</li>
</ul>
<h2 dir="auto"><a id="user-content-contribution" aria-hidden="true" href="#contribution"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Contribution</h2>
<p dir="auto">If you&#39;d like to contribute, feel free to <a href="https://github.com/dan-lovelace/giggle/compare">open a PR</a> any time. Please abide by these guidelines:</p>
<ul dir="auto">
<li>Add new tests as necessary</li>
<li>Make sure the tests pass with <code>yarn cypress:run</code></li>
<li>Include a description about the changes and why you think they&#39;re necessary</li>
</ul>

<p dir="auto">I&#39;d like to build some sort of <a href="https://developers.google.com/custom-search/docs/basics" rel="nofollow">annotation</a> management system to avoid having to manually create/update individual engines in the web console. It would be reduced to creating a single engine and Giggle would swap out annotation files on-the-fly. It would be much more ideal since you&#39;d never need to visit Google&#39;s console again but it could turn out to be painfully slow. Let me know in <a href="https://github.com/dan-lovelace/giggle/issues">GitHub issues</a> if this interests you.</p>
<p dir="auto">Also in the cards could be a fully-managed service including hosting. Users would need to hand over their own Google login credentials and API key which I can understand being hesitant about. If that&#39;s something you&#39;re interested in, please open a <a href="https://github.com/dan-lovelace/giggle/issues">GitHub issue</a> and start the conversation.</p>
<p dir="auto">The mobile experience could be better.</p>
</article>
          </div></div>
  </body>
</html>
