<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://vived.io/a-compact-overview-of-jdk-21s-frozen-feature-list-jvm-weekly-vol-138/">Original</a>
    <h1>A compact overview of JDK 21‚Äôs ‚Äúfrozen‚Äù feature list</h1>
    
    <div id="readability-page-1" class="page"><div><div><article><div class=""><div><div dir="auto"><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93757923-5d36-4e57-8d29-efaec60f6a02_1456x1048.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93757923-5d36-4e57-8d29-efaec60f6a02_1456x1048.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93757923-5d36-4e57-8d29-efaec60f6a02_1456x1048.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93757923-5d36-4e57-8d29-efaec60f6a02_1456x1048.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93757923-5d36-4e57-8d29-efaec60f6a02_1456x1048.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93757923-5d36-4e57-8d29-efaec60f6a02_1456x1048.png" width="1456" height="1048" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/93757923-5d36-4e57-8d29-efaec60f6a02_1456x1048.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:1048,&#34;width&#34;:1456,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:957234,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:false,&#34;topImage&#34;:true,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93757923-5d36-4e57-8d29-efaec60f6a02_1456x1048.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93757923-5d36-4e57-8d29-efaec60f6a02_1456x1048.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93757923-5d36-4e57-8d29-efaec60f6a02_1456x1048.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F93757923-5d36-4e57-8d29-efaec60f6a02_1456x1048.png 1456w" sizes="100vw" fetchpriority="high"/></picture></div></a></figure></div><p>Let&#39;s start with the biggest announcement.</p><p><a href="https://openjdk.org/projects/jdk/21/" rel="">JDK 21 has moved into the Rampdown phase</a><span>. In theory, this phase should mark the end of the changes. Although I was all the time aware of the enormity of OpenJDK 21, the final list of JEPs does not stop to further impress me.</span></p><p>Due to the number of new features, I can&#39;t go into each one in depth. So I&#39;ve decided to do a little experiment - I&#39;m going to present each function in one sentence plus a code snippet (when suitable).</p><p>Therefore, without further ado, here we go:</p><p>In the case of ordered collections, a consistent interface has been introduced for retrieving the first and last elements, as well as reversing the sequence.</p><pre><code><code>interface SequencedCollection&lt;E&gt; extends Collection&lt;E&gt; {
    // new method
    SequencedCollection&lt;E&gt; reversed();
    // methods promoted from Deque
    void addFirst(E);
    void addLast(E);
    E getFirst();
    E getLast();
    E removeFirst();
    E removeLast();
}
</code></code></pre><p><span>As the </span><a href="https://docs.oracle.com/en/java/javase/17/gctuning/garbage-collector-implementation.html#GUID-71D796B3-CBAB-4D80-B5C3-2620E45F6E5D" rel="">likelihood of a GC needing to &#34;clean up&#34; a given object is reduced with its lifetime</a><span>, having a different pipeline for short-lived and long-lived objects is standard in GCs and is now introduced to the ZGC.</span></p><p>The ability to easily destructure the Records, allowing specific fields to be extracted from them, and to be used in pattern matching (next JEP).</p><pre><code><code>if (obj instanceof Point(int x, int y)) {
    System.out.println(x+y);
}
</code></code></pre><p><span>Ability to use </span><code>switch</code><span> for pattern matching, including advanced options.</span></p><pre><code><code>static String formatterPatternSwitch(Object obj) {
    return switch (obj) {
        case Integer i -&gt; String.format(&#34;int %d&#34;, i);
        case Long l    -&gt; String.format(&#34;long %d&#34;, l);
        case Double d  -&gt; String.format(&#34;double %f&#34;, d);
        case String s  -&gt; String.format(&#34;String %s&#34;, s);
        default        -&gt; obj.toString();
    };
}
</code></code></pre><p>Introducing into the JVM the concept of threads managed not by the operating system, but by the virtual machine itself.</p><pre><code><code>Thread.builder().virtual().factory();
</code></code></pre><p>Goodnight, Sweet Prince</p><p>In order to make Java more secure, the developers plan to prohibit the loading of certain categories of Virtual Machine Agents in the future without a special flag.</p><p>Introducing a standard API into Java that allows the use of a technique known as KEM, used in quantum cryptography algorithms, among others.</p><p>The ability to create templated blocks of text in Java, giving much more power and security than string interpolation.</p><pre><code><code>JSONObject doc = JSON_VALIDATE.&#34;&#34;&#34;
        {
            &#34;name&#34;:    \{name},
            &#34;phone&#34;:   \{phone},
            &#34;address&#34;: \{address}
        };
        &#34;&#34;&#34;;
</code></code></pre><p>A change to the Launch Protocol in Java, allowing heavily simplified Java classes to be written, mainly for educational purposes.</p><pre><code><code>void main() {
    System.out.println(&#34;Hello, World!&#34;);
}
</code></code></pre><p>Introducing typed interoperability with applications written in C (and in future other compiled languages), as well as native operating system memory.</p><p><span>Introduction to Java </span><code>_</code><span> wildcard, used when we do not want to define a specific expected value/type in pattern matching, and also as a hint to linterers when we know that a declared variable is unnecessary.</span></p><pre><code><code>if(r instanceof Point(_, int y))
</code></code></pre><p>A set of structures to manage threads (and not only virtual ones) - especially useful for error and cancelation handling.</p><pre><code><code> try (var scope = new StructuredTaskScope.ShutdownOnFailure()) {
        Supplier&lt;String&gt;  user  = scope.fork(() -&gt; findUser());
        Supplier&lt;Integer&gt; order = scope.fork(() -&gt;fetchOrder());

        scope.join().throwIfFailed();

        return new Response(user.get(), order.get());
    }
</code></code></pre><p>An alternative to ThreadLocal, designed primarily with virtual threads in mind.</p><pre><code><code>final static ScopedValue&lt;...&gt; V = ScopedValue.newInstance();

ScopedValue.where(V, &lt;value&gt;).run(() -&gt; {  V.get() });
</code></code></pre><p>The API enabling vector operations, made available by modern processors, waiting for Valhalla Project.</p><p>And finally, if that&#39;s not enough for you, I have two videos for you.</p><p>One is a publication from the official Java channel, in which Nicolai Parlog in a 20-minute video describes each of the JEPs in more detail:</p><div id="youtube2-qGaUZ1Z34jw" data-attrs="{&#34;videoId&#34;:&#34;qGaUZ1Z34jw&#34;,&#34;startTime&#34;:null,&#34;endTime&#34;:null}" data-component-name="Youtube2ToDOM"><p><iframe src="https://www.youtube-nocookie.com/embed/qGaUZ1Z34jw?rel=0&amp;autoplay=0&amp;showinfo=0&amp;enablejsapi=0" frameborder="0" loading="lazy" gesture="media" allow="autoplay; fullscreen" allowautoplay="true" allowfullscreen="true" width="728" height="409"></iframe></p></div><p><span>The second is an opportunity for me to smuggle in one of my favorite programming channels on YouTube. If you appreciate light-hearted, &#39;memetic&#39; studies, then </span><a href="https://www.youtube.com/channel/UCsBjURrPoezykLs9EqgamOA" rel="">Fireship</a><span> should definitely appeal to you. The content of this channel is primarily short, under five-minute videos.</span></p><p>The author focuses on the most relevant topics from the world of programming. For me, this is always a fantastic way to keep up to date with news from areas outside my main specialization, such as new programming languages or innovations like vector databases.</p><p>I emphasize this because a video dedicated to JDK 21 was recently released on the Fireship channel, and I encourage you to see if this format suits you too. In my opinion, it is worth giving it a chance:</p><div id="youtube2-Ibjm2KHfymo" data-attrs="{&#34;videoId&#34;:&#34;Ibjm2KHfymo&#34;,&#34;startTime&#34;:null,&#34;endTime&#34;:null}" data-component-name="Youtube2ToDOM"><p><iframe src="https://www.youtube-nocookie.com/embed/Ibjm2KHfymo?rel=0&amp;autoplay=0&amp;showinfo=0&amp;enablejsapi=0" frameborder="0" loading="lazy" gesture="media" allow="autoplay; fullscreen" allowautoplay="true" allowfullscreen="true" width="728" height="409"></iframe></p></div><p>PS: I don&#39;t know if you remember, but the &#34;no changes&#34; has been slightly broken in the past. O the occasion of JDK 20, the developers forgot to throw in the Vector API incubation, which was added basically right before the release - however, without any changes in comparison to JDK 19</p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e727d8e-9065-4d0d-80e3-ca4377b0dff3_498x275.gif" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e727d8e-9065-4d0d-80e3-ca4377b0dff3_498x275.gif 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e727d8e-9065-4d0d-80e3-ca4377b0dff3_498x275.gif 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e727d8e-9065-4d0d-80e3-ca4377b0dff3_498x275.gif 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e727d8e-9065-4d0d-80e3-ca4377b0dff3_498x275.gif 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e727d8e-9065-4d0d-80e3-ca4377b0dff3_498x275.gif" width="498" height="275" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/2e727d8e-9065-4d0d-80e3-ca4377b0dff3_498x275.gif&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:275,&#34;width&#34;:498,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:3135703,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/gif&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e727d8e-9065-4d0d-80e3-ca4377b0dff3_498x275.gif 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e727d8e-9065-4d0d-80e3-ca4377b0dff3_498x275.gif 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e727d8e-9065-4d0d-80e3-ca4377b0dff3_498x275.gif 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2F2e727d8e-9065-4d0d-80e3-ca4377b0dff3_498x275.gif 1456w" sizes="100vw" loading="lazy"/></picture></div></a></figure></div><p><span>For the sake of momentum, we are now changing pace and instead of briefly discussing the upcoming version, scheduled for release in the autumn, we will talk more broadly about what has been announced in the context of Valhalla. The release date is not yet known, but further documents suggest that we are getting closer to the final release. Brian Goetz has shared a </span><a href="https://mail.openjdk.org/pipermail/valhalla-spec-observers/2023-June/002253.html" rel="">Design document on nullability and value types</a><span> that summarises a new phase of the project&#39;s development. Again, we can look at the challenges, but also the new opportunities that are emerging - Valhalla seems to be a project being developed in a strongly experimental way.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc373c3d0-d511-47fe-bcba-00c7a3c23e7f_925x1024.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc373c3d0-d511-47fe-bcba-00c7a3c23e7f_925x1024.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc373c3d0-d511-47fe-bcba-00c7a3c23e7f_925x1024.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc373c3d0-d511-47fe-bcba-00c7a3c23e7f_925x1024.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc373c3d0-d511-47fe-bcba-00c7a3c23e7f_925x1024.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc373c3d0-d511-47fe-bcba-00c7a3c23e7f_925x1024.png" width="925" height="1024" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/c373c3d0-d511-47fe-bcba-00c7a3c23e7f_925x1024.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:1024,&#34;width&#34;:925,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:&#34;&#34;,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" title="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc373c3d0-d511-47fe-bcba-00c7a3c23e7f_925x1024.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc373c3d0-d511-47fe-bcba-00c7a3c23e7f_925x1024.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc373c3d0-d511-47fe-bcba-00c7a3c23e7f_925x1024.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fc373c3d0-d511-47fe-bcba-00c7a3c23e7f_925x1024.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a><figcaption>There is a lot to learn from Java when it comes to truly iterative project development.</figcaption></figure></div><p><span>If you haven&#39;t been keeping up to date with Valhalla&#39;s development, you may have missed the fact that at one point the developers proposed the </span><code>.val</code><span> and </span><code>.ref</code><span> suffixes. These were supposed to tell you whether you wanted to use an object as a value or as a reference. This was the most problematic of the proposed changes for me, as I was worried about complicating the syntax. For the time being, it looks like it will be possible to dispense with them. Development work throughout the project has reduced the differences between primitive and objects to two fundamental differences - having a default value (like 0 for int) and support for nullability. In the next iteration of work on Valhalla, the former was addressed through the concept of </span><code>implicit constructors</code><span> for Value Class.</span></p><pre><code><code>value class Complex {
     private int re;
     private int im;

     public implicit Complex();
     public Complex(int re, int im) { ... }

     ...
}</code></code></pre><p><span>Regarding nullability, there is a proposal to introduce two additional markers when defining a type - </span><code>!</code><span> meaning </span><em>we do not allow nulls</em><span> and </span><code>?</code><span> meaning </span><em>this object is nullable</em><span>. In brief:</span></p><ul><li><p><code>Foo?</code><span> means </span><em>this type contains null in its value set</em><span>.</span></p></li><li><p><code>Foo!</code><span> means </span><em>this type does not contain null in its values set</em><span>.</span></p></li><li><p><code>Foo</code><span> means ü§∑‚Äç‚ôÇÔ∏è - in other words, the undefined state of nullability</span></p></li></ul><p><span>Over time, developers will aim for the version without the appropriate annotation to take on the characteristics of annotated variants - at this point, it seems that unmarked </span><code>Foo</code><span> will be treated as non-nullable in most cases.</span></p><p><span>Unfortunately, verification of the above will require a mixture of compile-time and runtime checks, and will also be very difficult and limited - at least at the beginning. Adding new features to an existing language is never straightforward, and the detailed solutions proposed by Brian show how many cases need to be handled. As proof of this, the day after the </span><a href="https://mail.openjdk.org/pipermail/valhalla-spec-observers/2023-June/002253.html" rel="">Design document on nullability and value types</a><span> was made available, a </span><a href="https://mail.openjdk.org/pipermail/valhalla-spec-observers/2023-June/002253.html" rel="">Briefest summary of today&#39;s Valhalla+nullness picture</a><span>, which is a distillation of the document, hit the mailing list. Although it is a very good summary, to really understand the essence of the changes I had to review the original text. The map, unfortunately, is not the territory.</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffbfb42f-c348-4255-8589-fc3a5e9e5f97_500x572.png" data-component-name="Image2ToDOM" rel=""><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffbfb42f-c348-4255-8589-fc3a5e9e5f97_500x572.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffbfb42f-c348-4255-8589-fc3a5e9e5f97_500x572.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffbfb42f-c348-4255-8589-fc3a5e9e5f97_500x572.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffbfb42f-c348-4255-8589-fc3a5e9e5f97_500x572.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffbfb42f-c348-4255-8589-fc3a5e9e5f97_500x572.png" width="500" height="572" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/ffbfb42f-c348-4255-8589-fc3a5e9e5f97_500x572.png&#34;,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:572,&#34;width&#34;:500,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:null,&#34;alt&#34;:&#34; &#34;,&#34;title&#34;:null,&#34;type&#34;:null,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt=" " title=" " srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffbfb42f-c348-4255-8589-fc3a5e9e5f97_500x572.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffbfb42f-c348-4255-8589-fc3a5e9e5f97_500x572.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffbfb42f-c348-4255-8589-fc3a5e9e5f97_500x572.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fffbfb42f-c348-4255-8589-fc3a5e9e5f97_500x572.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a><figcaption>I do not overestimate my place in value chain.</figcaption></figure></div><p><span>Guava&#39;s glory days are probably behind it. Much of the functionality it brought - revolutionary in its time - has either been incorporated into the JDK or superseded by specialized projects. Guava admittedly still has a few unique tricks, such as </span><code>Multimap</code><span> and unique implementations of other collections or graph structures, and auxiliary structures for handling streams. This and other additions make it still an important player in the ecosystem, just no longer as &#39;default&#39; as it was at the JDK 1.7 level. The project is still under development, and recently saw the </span><a href="https://github.com/google/guava/releases/tag/v32.0.0" rel="">version of Guava 32.0</a><span>.</span></p><p><span>This one, in turn, means a big clean-up - the </span><code>@Beta</code><span> annotation has been removed from almost all classes, effectively meaning a major stabilisation of many APIs. The purpose of the </span><code>@Beta</code><span> annotation was to allow users to provide feedback before the API was fully stabilised, now the developers have decided to clean up the project a bit. Therefore, the new Guava release should be seen as an inventory to facilitate future work and not introduce any big changes. However, I decided to mention it, because people who were afraid of unstable APIs will be able to use a large set of stabilized methods with a clear conscience. It is also worth mentioning that the developers managed to close </span><a href="https://github.com/advisories/GHSA-5mg8-w23w-74h3" rel="">a certain vulnerability</a><span>, unfortunately at the cost of some file-handling issues on Windows. If you are using that system, you should jump straight to version </span><a href="https://github.com/google/guava/releases/tag/v32.0.1" rel="">32.0.1</a><span>, containing the fix.</span></p><p>Note: Scala has undergone significant changes in its release cycle.</p><p><a href="https://scala-lang.org/blog/2023/05/30/scala-3.3.0-released.html" rel="">Scala 3.3.x</a><span> is the first in a series of Long Term Support (LTS) releases that will be actively maintained for at least three years. Analogous to the Java release model, Scala will have smaller releases (3.4, 3.5, etc.), called </span><strong>Scala Next</strong><span>. Bug fixes and improvements from these releases will be carried back and released as 3.3.x patches, but the LTS will not include changes to the API. This solution is intended to increase convenience for library developers, who will receive regular bug fixes without forcing users to update their compiler version.</span></p><p>Scala 3.3.0 itself reintroduces linting into the Scala compiler, which enables the detection of unused symbols and values, with the announcement of additional options in the future. A more consistent syntax without curly brackets has also been introduced for some use cases. This allows brackets around method parameters to be replaced by a colon, leading to cleaner, shorter, and often more readable code.</p><p><span>Two new methods have also been added to the standard library, </span><code>boundary</code><span> and </span><code>break</code><span>, which allows a safer and more expressive return of values from blocks. This makes it possible to indicate that the output from a function can also occur within one of the lambdas, what the developers call a &#39;quick escape&#39;.</span></p><pre><code><code>def sumOfRoots(numbers: List[Double]): Option[Double] = boundary:
  val roots = numbers.map: n =&gt;
    println(s&#34; * calculating square root for $n*&#34;)
    if n &gt;= 0 then Math.sqrt(n) else break(None)
  Some(roots.sum)
</code></code></pre><p>Finally, I&#39;d like to mention the release of Hibernate Reactive 2.0. At first glance, it appears to be a fairly modest release - in the changelog, we only see compatibility with Hibernate ORM 6.2.4 and Vert.x SQL Client 4.4. Nevertheless, don&#39;t be fooled by appearances - on closer inspection, you&#39;ll find that this is a colossal leap.</p><p><span>Indeed, Hibernate Reactive 1.0 was only compatible with the Hibernate 5.x line. The changes introduced by Hibernate 6.0, released about a year ago and further improved in subsequent releases, are so significant that the developers encourage you to read the </span><a href="https://docs.jboss.org/hibernate/orm/6.2/migration-guide/migration-guide.html" rel="">migration guide</a><span>.</span></p></div></div></div></article></div></div></div>
  </body>
</html>
