<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/attunehq/attune">Original</a>
    <h1>Show HN: Attune - Build and publish APT repositories in seconds</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a href="https://github.com/attunehq/attune/blob/main/LICENSE"><img src="https://camo.githubusercontent.com/6581c31c16c1b13ddc2efb92e2ad69a93ddc4a92fd871ff15d401c4c6c9155a4/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d626c75652e737667" alt="GitHub license" data-canonical-src="https://img.shields.io/badge/license-MIT-blue.svg"/></a></p>
<p dir="auto">Attune is a tool for securely publishing and hosting Linux packages.</p>
<ul dir="auto">
<li><strong>Flexible deployment:</strong> Deploy a self-hosted package repository, or use our managed cloud infrastructure.</li>
<li><strong>Secure by design:</strong> Attune&#39;s CLI does repository index signing locally, so you can own your signing keys without ever exposing them.</li>
<li><strong>Really, really fast:</strong> Attune does incremental repository index rebuilds, so adding and removing packages is really fast.</li>
</ul>
<p dir="auto">We currently support publishing APT (Debian and Ubuntu) repositories, with more <a href="https://attunehq.com" rel="nofollow">coming soon</a>.</p>

<p dir="auto">Here&#39;s how to set up an APT repository in about 5 minutes.</p>

<ul dir="auto">
<li>Docker (<code>docker</code>)</li>
<li>GnuPG (<code>gpg</code>)</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="############## First, we need to set up the Attune backend.

# 1. Clone the repository.
git clone git@github.com:attunehq/attune.git &amp;&amp; cd attune

# 2. Set up environment variables by copying from .env.example. You should
#    modify these values as needed to suit your deployment, especially
#    ATTUNE_SECRET.
cp .env.example .env

# 3. Start the control plane and supporting services.
docker compose up -d

############## Now, we&#39;ll install the CLI and set up a repository.

# 4. Install the Attune CLI by downloading it from GitHub Releases.

# 5. Create a repository.
attune repo create -u &#39;http://localhost:9000/debian&#39; -d bookworm

# 6. Prepare a `.deb` package to host. One way you can do this is by downloading
#    a sample package e.g. `https://cdn.teleport.dev/teleport_17.4.4_arm64.deb`.

# 7. Add the package to the repository
attune repo pkg -r 1 add -c stable/v17 ~/Downloads/teleport_17.4.4_arm64.deb

############## Lastly, we&#39;ll use a GPG key to sign and deploy the repository.

# 8. If needed, generate a GPG key.
gpg --generate-key

# 9. Get the key ID of the secret key you&#39;d like to use to sign.
gpg --list-secret-keys

# 10. Export your signing key (replace $KEYID with your key ID, which is the 40
#     character string next to the `sec` entries in each key).
gpg --armor --export-secret-keys --output demo-key.asc $KEYID

# 11. Sign and deploy the repository.
attune repo -r 1 sync -k demo-key.asc

############## Congratulations, you&#39;re done!"><pre><span><span>#</span>############# First, we need to set up the Attune backend.</span>

<span><span>#</span> 1. Clone the repository.</span>
git clone git@github.com:attunehq/attune.git <span>&amp;&amp;</span> <span>cd</span> attune

<span><span>#</span> 2. Set up environment variables by copying from .env.example. You should</span>
<span><span>#</span>    modify these values as needed to suit your deployment, especially</span>
<span><span>#</span>    ATTUNE_SECRET.</span>
cp .env.example .env

<span><span>#</span> 3. Start the control plane and supporting services.</span>
docker compose up -d

<span><span>#</span>############# Now, we&#39;ll install the CLI and set up a repository.</span>

<span><span>#</span> 4. Install the Attune CLI by downloading it from GitHub Releases.</span>

<span><span>#</span> 5. Create a repository.</span>
attune repo create -u <span><span>&#39;</span>http://localhost:9000/debian<span>&#39;</span></span> -d bookworm

<span><span>#</span> 6. Prepare a `.deb` package to host. One way you can do this is by downloading</span>
<span><span>#</span>    a sample package e.g. `https://cdn.teleport.dev/teleport_17.4.4_arm64.deb`.</span>

<span><span>#</span> 7. Add the package to the repository</span>
attune repo pkg -r 1 add -c stable/v17 <span>~</span>/Downloads/teleport_17.4.4_arm64.deb

<span><span>#</span>############# Lastly, we&#39;ll use a GPG key to sign and deploy the repository.</span>

<span><span>#</span> 8. If needed, generate a GPG key.</span>
gpg --generate-key

<span><span>#</span> 9. Get the key ID of the secret key you&#39;d like to use to sign.</span>
gpg --list-secret-keys

<span><span>#</span> 10. Export your signing key (replace $KEYID with your key ID, which is the 40</span>
<span><span>#</span>     character string next to the `sec` entries in each key).</span>
gpg --armor --export-secret-keys --output demo-key.asc <span>$KEYID</span>

<span><span>#</span> 11. Sign and deploy the repository.</span>
attune repo -r 1 sync -k demo-key.asc

<span><span>#</span>############# Congratulations, you&#39;re done!</span></pre></div>
<p dir="auto">For more detailed setup instructions and configuration options, refer to the <a href="https://github.com/attunehq/attune/blob/main/docs/user-guide/README.md">user guide</a>.</p>

<p dir="auto">Attune is <a href="https://github.com/attunehq/attune/blob/main/LICENSE">Apache 2 licensed</a>.</p>
</article></div></div>
  </body>
</html>
