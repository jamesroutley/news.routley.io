<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/gosub-io/gosub-engine">Original</a>
    <h1>Gosub â€“ An open-source browser engine</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">This repository holds the Gosub browser engine. It will become a standalone library that can be used by other projects
but will ultimately be used by the Gosub browser user-agent. See the <a href="#about">About</a> section for more information.</p>
<p dir="auto">Join us at our development <a href="https://chat.developer.gosub.io" rel="nofollow">Zulip chat</a>!</p>
<p dir="auto">For more general information you can also join our <a href="https://chat.gosub.io" rel="nofollow">Discord server</a>.</p>
<p dir="auto">If you are interested in contributing to Gosub, please check out the <a href="https://github.com/gosub-io/gosub-engine/blob/main/CONTRIBUTING.md">contribution guide</a>!</p>

<p dir="auto">This repository is part of the Gosub browser engine project. This is the main engine that holds the following components:</p>
<ul dir="auto">
<li>HTML5 tokenizer / parser</li>
<li>CSS3 tokenizer / parser</li>
<li>Document tree</li>
<li>Several APIs for connecting to javascript</li>
<li>Configuration store</li>
<li>Networking stack</li>
<li>Rendering engine</li>
<li>JS bridge</li>
</ul>
<p dir="auto">More will follow as the engine grows. The idea is that this engine will receive some kind of stream of bytes (most likely
from a socket or file) and parse this into a valid HTML5 document tree and CSS stylesheets.
From that point, it can be fed to a renderer engine that will render the document tree into a window, or it can be fed
to a more simplistic engine that will render it in a terminal. JS can be executed on the document tree and the document
tree can be modified by JS.</p>

<blockquote>
<p dir="auto">This project is in its infancy. There is no usable browser yet. However, you can look at simple html pages and parse
them into a document tree and do some initial rendering.</p>
</blockquote>
<p dir="auto">We can parse HTML5 and CSS3 files into a document tree or the respective css tree. This tree can be shown in the terminal
or be rendered in a very unfinished renderer. Our renderer cannot render everything yet, but it can render simple html
pages, sort of.</p>
<p dir="auto">We already implemented other parts of the engine, for a JS engine, networking stack, a configuration store and other
things however these aren&#39;t integrated yet. You can try these out by running the respective binary.</p>
<p dir="auto">We can render a part for our own <a href="https://gosub.io" rel="nofollow">site</a>:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/gosub-io/gosub-engine/blob/main/resources/images/current_progress.png"><img src="https://github.com/gosub-io/gosub-engine/raw/main/resources/images/current_progress.png" alt="Gosub.io"/></a></p>

<details>
<summary> Installing dependencies </summary>
<p dir="auto">This project uses <a href="https://doc.rust-lang.org/cargo/" rel="nofollow">cargo</a> and <a href="https://www.rust-lang.org/tools/install" rel="nofollow">rustup</a>. First
you must install <code>rustup</code> at the link provided. After installing <code>rustup</code>, run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ rustup toolchain install 1.73
$ rustc --version
rustc 1.73.0 (cc66ad468 2023-10-03)"><pre>$ rustup toolchain install 1.73
$ rustc --version
rustc 1.73.0 (cc66ad468 2023-10-03)</pre></div>
<p dir="auto">Once Rust is installed, run this command to pre-build the dependencies:</p>

</details>
<p dir="auto">You can run the following binaries:</p>
<markdown-accessiblity-table><table>
<thead>
<tr>
<th>Command</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>cargo run -r --bin config-store</code></td>
<td>bin</td>
<td>A simple test application of the config store for testing purposes</td>
</tr>
<tr>
<td><code>cargo run -r --bin css3-parser</code></td>
<td>bin</td>
<td>Show the parsed css tree</td>
</tr>
<tr>
<td><code>cargo run -r --bin display-text-tree</code></td>
<td>bin</td>
<td>A simple parser that will try and return a textual presentation of the website</td>
</tr>
<tr>
<td><code>cargo run -r --bin gosub-parser</code></td>
<td>bin</td>
<td>The actual html5 parser/tokenizer that allows you to convert html5 into a document tree.</td>
</tr>
<tr>
<td><code>cargo run -r --bin html5-parser-test</code></td>
<td>test</td>
<td>A test suite that tests all html5lib tests for the treebuilding</td>
</tr>
<tr>
<td><code>cargo run -r --bin parser-test</code></td>
<td>test</td>
<td>A test suite for the parser that tests specific tests. This will be removed as soon as the parser is completely finished as this tool is for developement only.</td>
</tr>
<tr>
<td><code>cargo run -r --bin renderer</code></td>
<td>bin</td>
<td>Render a html page (WIP)</td>
</tr>
<tr>
<td><code>cargo run -r --bin run-js</code></td>
<td>bin</td>
<td>Run a JS file (Note: console and event loop are not yet implemented)</td>
</tr>
</tbody>
</table></markdown-accessiblity-table>
<p dir="auto">For running the binaries, take a look at a quick introduction at <a href="https://github.com/gosub-io/gosub-engine/blob/main/docs/binaries.md">/docs/binaries.md</a></p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Benchmark and test suites</h2><a id="user-content-benchmark-and-test-suites" aria-label="Permalink: Benchmark and test suites" href="#benchmark-and-test-suites"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">To run the tests and benchmark suite, do:</p>
<div dir="auto" data-snippet-clipboard-copy-content="make test
cargo bench
ls target/criterion/report
index.html"><pre>make <span>test</span>
cargo bench
ls target/criterion/report
index.html</pre></div>

<p dir="auto">Our engine can also be compiled to WebAssembly. You need to use WasmPack for this. To build the Wasm version, run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="wasm-pack build --target web"><pre>wasm-pack build --target web</pre></div>
<p dir="auto">Afterwards you need to serve the small useragent around the wasm version in the <code>wasm/</code> directory. You can do this by</p>
<div dir="auto" data-snippet-clipboard-copy-content="cd wasm
npm run dev  # you can also use `bun run dev`"><pre><span>cd</span> wasm
npm run dev  <span><span>#</span> you can also use `bun run dev`</span></pre></div>
<p dir="auto">To use this demo, you need to enable webgpu in chromium and disable the same origin policy.</p>
<div dir="auto" data-snippet-clipboard-copy-content="chromium --disable-web-security --enable-features=Vulkan --enable-unsafe-webgpu --user-data-dir=/tmp/chromium-temp-profile "><pre>chromium --disable-web-security --enable-features=Vulkan --enable-unsafe-webgpu --user-data-dir=/tmp/chromium-temp-profile </pre></div>
<p dir="auto">This command works on Linux only, if someone uses Windows or macOS, please open an PR!</p>
<p dir="auto">And then you have it! A browser in a browser:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/gosub-io/gosub-engine/blob/main/resources/images/browser-wasm-hackernews.png"><img src="https://github.com/gosub-io/gosub-engine/raw/main/resources/images/browser-wasm-hackernews.png" alt="Browser in browser"/></a></p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Contributing to the project</h2><a id="user-content-contributing-to-the-project" aria-label="Permalink: Contributing to the project" href="#contributing-to-the-project"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">We welcome contributions to this project but the current status makes that we are spending a lot of time researching,
building small proof-of-concepts and figuring out what needs to be done next. Much time of a contributor at this stage
of the project will be non-coding.</p>
<p dir="auto">We do like to hear from you if you are interested in contributing to the project and you can join us currently at
our <a href="https://chat.developer.gosub.io" rel="nofollow">Zulip chat</a>!</p>
</article></div></div>
  </body>
</html>
