<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.cppstories.com/2022/embracing-modern-cpp-book/">Original</a>
    <h1>Embracing Modern C&#43;&#43; Safely, Book Review</h1>
    
    <div id="readability-page-1" class="page"><div>
          <p><img src="https://www.cppstories.com/2022/images/embcpp.png" alt=""/></p>  
          
        <p>C++11 has been around for around 11 years and C++14 for 8. From my experience, I see that even today, many companies struggle to use those standards in production in the most efficient way. As always, with new stuff came benefits, risks, and increased learning effort. Fortunately, with a new book written by top C++ Experts, we have a solid guide on what is safe and what might be problematic in Modern C++.</p>
<p>The book is called “Embracing Modern C++ Safely”.</p>
<p>Let’s see what’s inside.</p>
<p><strong>Disclaimer</strong>: I got a free copy from the publisher.</p>
<h2 id="the-book">
The book 
  
<a href="#the-book" aria-hidden="true">
<svg height="24" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg>
    </a> 
    
</h2>

<p>Here are the main links and info about the book:</p>
<p><a href="https://vittorioromeo.info/emcpps.html">Embracing Modern C++ Safely</a></p>
<p><a href="https://amzn.to/3MzO4Bu"><img src="https://www.cppstories.com/2022/images/embcpp_small.jpg" alt=""/></a></p>
<p>The book on Amazon:</p>
<p><a href="https://amzn.to/3wMKQn9"><strong>Embracing Modern C++ Safely 1st Edition</strong> @Amazon</a> (released December 23, 2021)).</p>
<p>The book page at InformIT:</p>
<p><a href="https://www.informit.com/store/embracing-modern-c-plus-plus-safely-9780137380350">Embracing Modern C++ Safely | InformIT</a></p>
<p>Here’s the sample from InformIT (141 pages, PDF):</p>
<p><a href="https://www.informit.com/content/images/9780137380350/samplepages/9780137380350_Sample.pdf">Download the sample pages - PDF</a></p>
<h3 id="an-article">
An article 
  
<a href="#an-article" aria-hidden="true">
<svg height="24" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg>
    </a> 
    
</h3>

<p>You can also read this article from Bloomberg Tech about the project: <a href="https://www.bloomberg.com/company/stories/why-4-bloomberg-engineers-wrote-another-cplusplus-book/?sf158052751=1">Why 4 Bloomberg engineers wrote another C++ book | Bloomberg LP</a></p>
<h3 id="presentation">
Presentation 
  
<a href="#presentation" aria-hidden="true">
<svg height="24" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg>
    </a> 
    
</h3>

<p>One of the authors, Vittorio, hold a valuable presentation at the recent CppCon 2021. He shared some insights from the book and some stats and described several C++ features and their “safety” profiles.</p>
<p><a href="https://www.youtube.com/watch?v=7Mfbpbyq6fs">C++11/14 at Scale: What Have We Learned? - Vittorio Romeo - CppCon 2021</a></p>


<p>The book was written by John Lakos and Vittorio Romeo, with assistance from Rostislav Khlebnikov and Alisdair Meredith.</p>
<p>John Lakos (<a href="https://www.informit.com/authors/bio/ff0a0233-2c75-4ba1-bca2-9dedd9d1d6c0">his profile at InformIT</a>), manager at Bloomberg, runs their BDE group, which develops fine-grained reusable C++ software using his component-based methodology and process. He also mentors engineers and team leads throughout Bloomberg’s software infrastructure department. As a voting member of the C++ Standards Committee, he has helped shape new generations of C++.</p>
<p>Vittorio Romeo (<a href="https://www.informit.com/authors/bio/7a8094a5-b598-4282-9fba-d13f1ea9d62e">his profile at InformIT</a>) is a senior software engineer at Bloomberg LP who builds mission-critical C++ middleware, trains colleagues on modern C++, and has created many open-source C++ libraries and games.</p>
<p>Dr. Rostislav Khlebnikov (<a href="https://www.informit.com/authors/bio/fa949b4a-b915-4ddf-b2a7-9257738da4a6">his profile at InformIT</a>) is a team lead and senior software engineer in Bloomberg’s BDE team, where he directs the development of high-performance C++ foundation software.</p>
<p>Alisdair Meredith (<a href="https://www.informit.com/authors/bio/6949955d-2a29-42ff-b3d0-ecadbf91c3e6">his profile at InformIT</a>) is a senior software engineer in Bloomberg’s BDE team, a long-standing member of the C++ Standards Committee, and a former Chair of its Library Working Group between 2010 and 2015.</p>
<p>Let’s see what’s inside the book.</p>
<h2 id="the-structure">
The Structure 
  
<a href="#the-structure" aria-hidden="true">
<svg height="24" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg>
    </a> 
    
</h2>

<p>Here’s the simplified TOC:</p>
<h4 id="chapter-0-introduction">
Chapter 0. Introduction 
    
</h4>

<h4 id="chapter-1-safe-features">
Chapter 1. Safe Features 
    
</h4>

<ul>
<li>Attribute Syntax</li>
<li>Consecutive <code>&gt;</code>s</li>
<li><code>decltype</code></li>
<li>Defaulted Functions</li>
<li>Delegating Ctors</li>
<li>Deleted Functions</li>
<li><code>explicit</code> Operators</li>
<li>Function <code>static</code> ‘11</li>
<li>Local Types ‘11</li>
<li><code>long long</code></li>
<li><code>noreturn</code></li>
<li><code>nullptr</code></li>
<li><code>override</code></li>
<li>Raw String Literals</li>
<li><code>static_assert</code></li>
<li>Trailing Return</li>
<li>Unicode Literals</li>
<li><code>using</code> Aliases</li>
<li>Aggregate Init ‘14</li>
<li>Binary Literals</li>
<li><code>deprecated</code></li>
<li>Digit Separators</li>
<li>Variable Templates</li>
</ul>
<p>In most cases, those features are worth everyone’s time, and introducing them in the code might be relatively easy. What’s more, those features won’t break your code, so it’s hard to write something terrible here.</p>
<p>For example: <code>override</code> - is a no-brainer. Yet, even with those safe things, the book describes all features very well and shows how to use them and their typical use cases.</p>
<h4 id="chapter-2-conditionally-safe-features">
Chapter 2. Conditionally Safe Features 
    
</h4>

<ul>
<li><code>alignas</code></li>
<li><code>alignof</code></li>
<li><code>auto</code> Variables</li>
<li>Braced Init</li>
<li><code>constexpr</code> Functions</li>
<li><code>constexpr</code> Variables</li>
<li>Default Member Init</li>
<li><code>enum class</code></li>
<li><code>extern template</code></li>
<li>Forwarding References</li>
<li>Generalized PODs ‘11</li>
<li>Inheriting Ctors</li>
<li><code>initializer_list</code></li>
<li>Lambdas</li>
<li><code>noexcept</code> Operator</li>
<li>Opaque enums</li>
<li>Range for</li>
<li>Rvalue References</li>
<li>Underlying Type ‘11</li>
<li>User-Defined Literals</li>
<li>Variadic Templates</li>
<li><code>constexpr</code> Functions ‘14</li>
<li>Generic Lambdas</li>
<li>Lambda Captures</li>
</ul>
<p>This is the longest part, and there are more caveats here. For example, the chapter on Generalized PODs ‘11 is more than 130 pages! The main point of being “conditionally safe” means that those parts will improve your code in most cases, but you have to pay attention to some corner cases.</p>
<h4 id="chapter-3-unsafe-features">
Chapter 3. Unsafe Features 
    
</h4>

<ul>
<li><code>carries_dependency</code></li>
<li><code>final</code></li>
<li><code>friend</code> ‘11</li>
<li><code>inline namespace</code></li>
<li><code>noexcept</code> Specifier</li>
<li>Ref-Qualifiers</li>
<li><code>union</code> ‘11</li>
<li><code>auto</code> Return</li>
<li><code>decltype(auto)</code></li>
</ul>
<p>Fortunately, the set of features in this chapter is shorter. Those parts have their uses in projects but should be used rarely and very carefully.</p>
<p>Quoting the book:</p>
<blockquote>
<p>Features that are classified as unsafe are those that might have valid — and even important — use cases, yet our experience indicates that routine or widespread use would be counterproductive in a typical, large-scale, software-development enterprise.</p>
</blockquote>
<h2 id="my-view">
My View 
  
<a href="#my-view" aria-hidden="true">
<svg height="24" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg>
    </a> 
    
</h2>

<p>I’m still reading this book, and I haven’t read all the pages (1300+ pages!). Yet, I’ve seen all of chapters, read half of them and picked those related to my recent work, tasks, or blog posts. I’m impressed with the level of detail and the quality the authors put into this material. The book has become my primary “reference” for those C++11/14 parts.</p>
<p>In short, this book is a gold mine of great discussions and detailed explanations about Modern C++.</p>
<p>It’s built on the following principles:</p>
<ul>
<li>Facts, Not Opinions</li>
<li>Elucidation, Not Prescription - describe various uses cases so that you can choose your path</li>
<li>Thorough, Not Superficial</li>
<li>Real-World, Not Contrived, Examples</li>
<li>At Scale, Not Overly Simplistic, Programs</li>
</ul>
<p>And delivers those points in an excellent manner. Each chapter is well written, with tons of examples and detailed descriptions. You can learn how the feature work (although it’s usually a <strong>concise introduction</strong>, and it’s good to know this feature before). Then you get into <strong>use cases</strong>, <strong>potential pitfalls</strong>, <strong>annoyances</strong> and further <strong>external resources</strong>. After reading a chapter, you have all the material to validate a given feature, whether that’s useful for your project. I feel that each chapter was read repeatedly by many C++ experts (not only authors) and improved until they were almost perfect.</p>
<p>I like the book because I can <strong>read it in any order</strong>. If I need some specific topic, I can open the given chapter and start reading. The book is a detailed reference guide. If you like, you can read it from cover to cover, but you can also skip some parts and focus on the most important aspects for you at a given time. Additionally, there are tons of cross-references so that you can follow from one chapter to another in a logical order.</p>
<p>As for the examples, they vary in form and size. There are simple and easy-to-understand code samples that present the syntax or some corner cases for a basic feature description. But then there are also examples almost taken from some real-life projects that illustrate typical use cases, nuances, or issues. Having such practical samples improves the applicability of the feature as you can refer to something “real” and not artificial.</p>
<p>I cannot really say what I didn’t like. I definitely won’t argue with the list of selected features, as the list is well prepared, described, and “scored” according to the authors’ metrics. I agree that most Modern C++ features fall into the “grey” area. They are super handy but might have some flaws and inconveniences.</p>
<p>I could probably complain about one thing: why only C++11/14… and only the language features?? :)</p>
<p>Still, the book doesn’t leave with “old stuff”. The authors paid attention and, whenever possible, gave notes about C++17/C++20 changes. So you’re lost, and you can use those features in the current C++20, state-of-the-art guidelines.</p>
<p>And when the time comes, we’ll hopefully get another volume on C++17 and C++20. But let’s wait till those super recent features get more experience and usage from the community and large companies.</p>
<p>From the “physical” point of view, the book is large, and I might want to have a hardcover rather than a soft one. 1300 pages sometimes feel fragile, and it’s already heavy, so a hardcover wouldn’t increase the weight that much (but it could increase the price by a lot, maybe…). The comments in the code samples are printed in light font color, so this could be a bit improved.</p>
<h2 id="summary">
Summary 
  
<a href="#summary" aria-hidden="true">
<svg height="24" viewBox="0 0 24 24" width="22" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path></svg>
    </a> 
    
</h2>

<p>Final mark: 5+/5</p>
<p><strong>Pros:</strong></p>
<ul>
<li>No need to read all at once; pick a chapter that you need, in any order, excellent as a quick-reference guide</li>
<li>A super valuable content for trainers, technical managers, and leaders who need a guide for Modern C++</li>
<li>Deep and detailed,</li>
<li>Lots of good examples, from simple (for general understanding) to practical (almost taken from the real projects)</li>
<li>Additional information about C++17 and C++20 related changes</li>
<li>Bonus chapters or sections  from Andrei Alexandrescu, Sean Parent, Nail Douglass</li>
<li>Great glossary at the end of the book, around 60 pages!</li>
</ul>
<p><strong>Cons:</strong></p>
<ul>
<li>It’s heavy and hard to carry around :)</li>
<li>Pages feel very thin, and there’s no hardcover, so it’s best to keep it in a safe place.</li>
<li>Comments in the code snippets have too bright font color, but they look fine in the PDF version.</li>
</ul>
<p>Get the book here: <a href="https://amzn.to/3wMKQn9"><strong>Embracing Modern C++ Safely 1st Edition</strong> @Amazon</a></p>

      </div></div>
  </body>
</html>
