<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://arthur.pizza/2025/12/animated-avif-for-the-modern-web/">Original</a>
    <h1>Animated AVIF for the Modern Web</h1>
    
    <div id="readability-page-1" class="page"><div>
    <p><img src="https://arthur.pizza/image/2025/snow.avif" alt="My Chirstmas gift to you"/></p>
<p>I think there’s something awesome about an image that can be animated. It’s different than a video clip because of the quick, loopy, and automatic nature of the format. GIFs have are a bit long in the tooth these days, and are not quite as optimized as should be for the modern web. The good news is, AVIF has an animation mode and it’s a much better solution than GIF.</p>
<p>To make an animated avif file, it seems be doable in FFMPEG!</p>
<p>Now that we have a needed applications we can build the clip. You can always clip out a peice of video with Kdenlive or FFMPEG, I simply grabbed an animated GIF that I had on my machine, but the process is mostly the same.</p>
<div><pre><code data-lang="bash">ffmpeg -i INPUT_VIDEO.webm -pix_fmt yuv420p -an -y output.y4m
</code></pre></div><p>You might want to limit the size and framerate</p>
<div><pre><code data-lang="bash">ffmpeg -i INPUT_VIDEO.webm -vf <span>&#34;fps=15,scale=720:-1&#34;</span> -pix_fmt yuv420p -an -y output.y4m
</code></pre></div><p>Now we need to encode the video into an avif</p>
<div><pre><code data-lang="bash">ffmpeg -y -i output.y4m -c:v libsvtav1 -crf <span>30</span> -b:v <span>0</span> -an -y output.avif
</code></pre></div><h2 id="note">Note</h2>
<p>You might be able to get away running the command once, but for whatever reason in December of 2025, on Debian 13, it seems to have issues, unless you stage it to a y4m first.</p>
<div><pre><code data-lang="bash">ffmpeg -i INPUT_VIDEO.webm -vf <span>&#34;fps=15,scale=720:-1&#34;</span> -pix_fmt yuv420p -c:v libsvtav1 -crf <span>30</span> -b:v <span>0</span> -an -y output.avif
</code></pre></div><p>Let’s hope that works in the future.</p>

  </div></div>
  </body>
</html>
