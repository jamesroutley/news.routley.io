<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://docs.racket-lang.org/2d/index.html">Original</a>
    <h1>2D Racket Syntax</h1>
    
    <div id="readability-page-1" class="page"><div><div><p><span>8.15</span></p><h2 x-source-module="(lib &#34;2d/scribblings/2d.scrbl&#34;)" x-source-pkg="2d-doc" x-part-tag="&#34;top&#34;"><a name="(part._top)"></a><a name="(part._2d)"></a><a name="(mod-path._2d)"></a>2D Syntax<span><a href="#(part._top)" title="Link to here">🔗</a><a title="Internal Scribble link and Scribble source">ℹ</a><span> </span></span></h2><p>The <a href="" data-pltdoc="x"><span>2d</span></a> language installs
<span><span></span><span>#2d</span><span></span></span> reader support in the
<a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=readtables.html%23%2528tech._readtable%2529&amp;version=8.15" data-pltdoc="x"><span>readtables</span></a>,
and then chains to the reader of
another language that is specified immediately after
<a href="" data-pltdoc="x"><span>2d</span></a>.</p><p>The <span><span></span><span>#2d</span><span></span></span> syntax extension adds the ability use
a two-dimensional grid syntax. That is, you can draw an ASCII-art
grid and then treat that as an expression. For example,
here is a simple equality function that operates on pairs and
numbers, written using a <span><span></span><span>#2d</span><span></span></span> conditional expression:
</p><div><blockquote><table><tbody><tr><td><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.15" data-pltdoc="x"><span>#lang</span></a><span></span><span> </span><span></span><a href="" data-pltdoc="x"><span>2d</span></a><span></span><span> </span><span></span><span>racket</span><span></span></td></tr><tr><td><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.15" data-pltdoc="x">require</a></span><span></span><span> </span><span></span><span>2d/cond</span><span>)</span><span></span></td></tr><tr><td><span> </span></td></tr><tr><td><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.15" data-pltdoc="x">define</a></span><span></span><span> </span><span></span><span>(</span><span>same?</span><span></span><span> </span><span></span><span>a</span><span></span><span> </span><span></span><span>b</span><span>)</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>#2dcond</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>╔═════════════╦═══════════════════════╦═════════════╗</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>║</span><span></span><span>             </span><span></span><span>║</span><span></span><span>       </span><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._pair%7E3f%2529%2529&amp;version=8.15" data-pltdoc="x">pair?</a></span><span></span><span> </span><span></span><span>a</span><span>)</span><span></span><span>       </span><span></span><span>║</span><span></span><span> </span><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.15" data-pltdoc="x">number?</a></span><span></span><span> </span><span></span><span>a</span><span>)</span><span></span><span> </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>╠═════════════╬═══════════════════════╬═════════════╣</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>║</span><span></span><span> </span><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._pair%7E3f%2529%2529&amp;version=8.15" data-pltdoc="x">pair?</a></span><span></span><span> </span><span></span><span>b</span><span>)</span><span></span><span>   </span><span></span><span>║</span><span></span><span> </span><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=if.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fletstx-scheme..rkt%2529._and%2529%2529&amp;version=8.15" data-pltdoc="x">and</a></span><span></span><span> </span><span></span><span>(</span><span>same?</span><span></span><span> </span><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._car%2529%2529&amp;version=8.15" data-pltdoc="x">car</a></span><span></span><span> </span><span></span><span>a</span><span>)</span><span></span><span>   </span><span></span><span>║</span><span></span><span>     </span><span></span><span>#f</span><span></span><span>      </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>║</span><span></span><span>             </span><span></span><span>║</span><span></span><span>             </span><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._car%2529%2529&amp;version=8.15" data-pltdoc="x">car</a></span><span></span><span> </span><span></span><span>b</span><span>)</span><span>)</span><span></span><span>  </span><span></span><span>║</span><span></span><span>             </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>║</span><span></span><span>             </span><span></span><span>║</span><span></span><span>      </span><span></span><span>(</span><span>same?</span><span></span><span> </span><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cdr%2529%2529&amp;version=8.15" data-pltdoc="x">cdr</a></span><span></span><span> </span><span></span><span>a</span><span>)</span><span></span><span>   </span><span></span><span>║</span><span></span><span>             </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>║</span><span></span><span>             </span><span></span><span>║</span><span></span><span>             </span><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=pairs.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._cdr%2529%2529&amp;version=8.15" data-pltdoc="x">cdr</a></span><span></span><span> </span><span></span><span>b</span><span>)</span><span>)</span><span>)</span><span></span><span> </span><span></span><span>║</span><span></span><span>             </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>╠═════════════╬═══════════════════════╬═════════════╣</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>║</span><span></span><span> </span><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=number-types.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._number%7E3f%2529%2529&amp;version=8.15" data-pltdoc="x">number?</a></span><span></span><span> </span><span></span><span>b</span><span>)</span><span></span><span> </span><span></span><span>║</span><span></span><span>          </span><span></span><span>#f</span><span></span><span>           </span><span></span><span>║</span><span></span><span>   </span><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=generic-numbers.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._%7E3d%2529%2529&amp;version=8.15" data-pltdoc="x">=</a></span><span></span><span> </span><span></span><span>a</span><span></span><span> </span><span></span><span>b</span><span>)</span><span></span><span>   </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>╚═════════════╩═══════════════════════╩═════════════╝</span><span>)</span><span></span></td></tr></tbody></table></blockquote></div><p>This notation works in two stages: reading, and parsing (just as in
Racket in general). The reading stage converts anything that begins
with <span><span></span><span>#2d</span><span></span></span> into a parenthesized expression (possibly signaling
errors if the <span><span></span><span>═</span><span></span></span> and <span><span></span><span>║</span><span></span></span> and <span><span></span><span>╬</span><span></span></span>
characters do not line up in the right places).</p><p>Since the first line contains <span><span></span><span>#2dcond</span><span></span></span>, the reader will
produce a sequence whose first position is the identifier <span><a href="#%28form._%28%28lib._2d%2Fcond..rkt%29._2dcond%29%29" data-pltdoc="x">2dcond</a></span>.</p><p>That macro will take over and then expand into ordinary conditional
expressions, in this case figuring out whether or not the inputs
are pairs or numbers and evaluating the code in the appropriate cell.</p><p>At the reader level, the syntax <span><span></span><span>#2d</span><span></span></span> notation checks
the number of columns in the first row and uses that as a guide
for where subsequent rows may appear. Once that first row is set,
it serves as a guide to where the columns may appear in subsequent
rows, although following columns may be merged.</p><p>This merging can simplify
some uses of <span><span></span><span>#2d</span><span></span></span> expressions. For example, consider this
expression that captures subtyping relationships between a few of the
Typed Racket numeric types, this time using a <span><span></span><span>#2d</span><span></span></span> match
expression:
</p><div><blockquote><table><tbody><tr><td><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.15" data-pltdoc="x"><span>#lang</span></a><span></span><span> </span><span></span><a href="" data-pltdoc="x"><span>2d</span></a><span></span><span> </span><span></span><span>racket</span><span></span></td></tr><tr><td><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=require.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._require%2529%2529&amp;version=8.15" data-pltdoc="x">require</a></span><span></span><span> </span><span></span><span>2d/match</span><span>)</span><span></span></td></tr><tr><td><span> </span></td></tr><tr><td><span></span><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=define.html%23%2528form._%2528%2528lib._racket%252Fprivate%252Fbase..rkt%2529._define%2529%2529&amp;version=8.15" data-pltdoc="x">define</a></span><span></span><span> </span><span></span><span>(</span><span>subtype?</span><span></span><span> </span><span></span><span>a</span><span></span><span> </span><span></span><span>b</span><span>)</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>#2dmatch</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>╔══════════╦══════════╦═══════╦══════════╗</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>║</span><span></span><span>   </span><span></span><span>a</span><span></span><span>  </span><span></span><span>b</span><span></span><span>   </span><span></span><span>║</span><span></span><span> </span><span></span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.15" data-pltdoc="x">&#39;</a></span><span>Integer</span><span></span><span> </span><span></span><span>║</span><span></span><span> </span><span></span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.15" data-pltdoc="x">&#39;</a></span><span>Real</span><span></span><span> </span><span></span><span>║</span><span></span><span> </span><span></span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.15" data-pltdoc="x">&#39;</a></span><span>Complex</span><span></span><span> </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>╠══════════╬══════════╩═══════╩══════════╣</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>║</span><span></span><span> </span><span></span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.15" data-pltdoc="x">&#39;</a></span><span>Integer</span><span></span><span> </span><span></span><span>║</span><span></span><span>             </span><span></span><span>#t</span><span></span><span>              </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>╠══════════╬══════════╗</span><span></span><span>                  </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>║</span><span></span><span> </span><span></span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.15" data-pltdoc="x">&#39;</a></span><span>Real</span><span></span><span>    </span><span></span><span>║</span><span></span><span>          </span><span></span><span>║</span><span></span><span>                  </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>╠══════════╣</span><span></span><span>          </span><span></span><span>╚═══════╗</span><span></span><span>          </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>║</span><span></span><span> </span><span></span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.15" data-pltdoc="x">&#39;</a></span><span>Complex</span><span></span><span> </span><span></span><span>║</span><span></span><span>        </span><span></span><span>#f</span><span></span><span>        </span><span></span><span>║</span><span></span><span>          </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>  </span><span></span><span>╚══════════╩══════════════════╩══════════╝</span><span>)</span><span></span></td></tr></tbody></table></blockquote></div><p>There are a number of cell walls missing here, but this is still a
well-formed <span><span></span><span>#2d</span><span></span></span> expression. In this case, the <span><a href="#%28form._%28%28lib._2d%2Fmatch..rkt%29._2dmatch%29%29" data-pltdoc="x">2dmatch</a></span>
treats any of the situations that fall into the larger regions as
the same.</p><p>In general, a <span><span></span><span>#2d</span><span></span></span> expression, when read, turns into an expression
with at least two sub-pieces (not counting the initial name). The first is
a sequence of numbers giving the widths of the top row of cells;
the second is also a sequence of numbers, this time giving the heights
of the leftmost column of cells. The remaining sequence describe the cells
content. The first element of each is itself a sequence of coordinates,
one for each of the cells that are connected together. The remaining elements
are the subexpressions in the given cells.</p><p>For example, this:</p><blockquote><table><tbody><tr><td><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.15" data-pltdoc="x"><span>#lang</span></a><span></span><span> </span><span></span><a href="" data-pltdoc="x"><span>2d</span></a><span></span><span> </span><span></span><span>racket</span><span></span></td></tr><tr><td><span></span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.15" data-pltdoc="x">&#39;</a></span><span>#2dex</span><span></span></td></tr><tr><td><span></span><span>╔══════════╦══════════╗</span><span></span></td></tr><tr><td><span></span><span>║</span><span></span><span>    </span><span></span><span>0</span><span></span><span>     </span><span></span><span>║</span><span></span><span>    </span><span></span><span>1</span><span></span><span>     </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>╠══════════╬══════════╣</span><span></span></td></tr><tr><td><span></span><span>║</span><span></span><span>    </span><span></span><span>2</span><span></span><span>     </span><span></span><span>║</span><span></span><span>    </span><span></span><span>3</span><span></span><span>     </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>╚══════════╩══════════╝</span><span></span></td></tr></tbody></table></blockquote><p>evaluates to
</p><div><blockquote><table><tbody><tr><td><span>&#39;</span><span>(</span><span>2dex</span><span> </span><span>(</span><span>10</span><span> </span><span>10</span><span>)</span></td></tr><tr><td><span>       </span><span>(</span><span>2</span><span> </span><span>2</span><span>)</span></td></tr><tr><td><span>       </span><span>(</span><span>(</span><span>(</span><span>0</span><span> </span><span>0</span><span>)</span><span>)</span><span> </span><span>0</span><span>)</span></td></tr><tr><td><span>       </span><span>(</span><span>(</span><span>(</span><span>0</span><span> </span><span>1</span><span>)</span><span>)</span><span> </span><span>2</span><span>)</span></td></tr><tr><td><span>       </span><span>(</span><span>(</span><span>(</span><span>1</span><span> </span><span>0</span><span>)</span><span>)</span><span> </span><span>1</span><span>)</span></td></tr><tr><td><span>       </span><span>(</span><span>(</span><span>(</span><span>1</span><span> </span><span>1</span><span>)</span><span>)</span><span> </span><span>3</span><span>)</span><span>)</span></td></tr></tbody></table></blockquote></div><p>and this
</p><div><blockquote><table><tbody><tr><td><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=guide&amp;rel=Module_Syntax.html%23%2528part._hash-lang%2529&amp;version=8.15" data-pltdoc="x"><span>#lang</span></a><span></span><span> </span><span></span><a href="" data-pltdoc="x"><span>2d</span></a><span></span><span> </span><span></span><span>racket</span><span></span></td></tr><tr><td><span></span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=quote.html%23%2528form._%2528%2528quote._%7E23%7E25kernel%2529._quote%2529%2529&amp;version=8.15" data-pltdoc="x">&#39;</a></span><span>#2dex</span><span></span></td></tr><tr><td><span></span><span>╔══════════╦══════════╦══════════╗</span><span></span></td></tr><tr><td><span></span><span>║</span><span></span><span>    </span><span></span><span>0</span><span></span><span>     </span><span></span><span>║</span><span></span><span>    </span><span></span><span>1</span><span></span><span> </span><span></span><span>2</span><span></span><span>   </span><span></span><span>║</span><span></span><span>   </span><span></span><span>3</span><span></span><span> </span><span></span><span>4</span><span></span><span>    </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>╠══════════╬══════════╩══════════╣</span><span></span></td></tr><tr><td><span></span><span>║</span><span></span><span>    </span><span></span><span>5</span><span></span><span>     </span><span></span><span>║</span><span></span><span>         </span><span></span><span>6</span><span></span><span>           </span><span></span><span>║</span><span></span></td></tr><tr><td><span></span><span>╚══════════╩═════════════════════╝</span><span></span></td></tr></tbody></table></blockquote></div><p>evaluates to
</p><div><blockquote><table><tbody><tr><td><span>&#39;</span><span>(</span><span>2dex</span><span> </span><span>(</span><span>10</span><span> </span><span>10</span><span> </span><span>10</span><span>)</span></td></tr><tr><td><span>       </span><span>(</span><span>2</span><span> </span><span>2</span><span>)</span></td></tr><tr><td><span>       </span><span>(</span><span>(</span><span>(</span><span>0</span><span> </span><span>0</span><span>)</span><span>)</span><span> </span><span>0</span><span>)</span></td></tr><tr><td><span>       </span><span>(</span><span>(</span><span>(</span><span>0</span><span> </span><span>1</span><span>)</span><span>)</span><span> </span><span>5</span><span>)</span></td></tr><tr><td><span>       </span><span>(</span><span>(</span><span>(</span><span>1</span><span> </span><span>0</span><span>)</span><span>)</span><span> </span><span>1</span><span> </span><span>2</span><span>)</span></td></tr><tr><td><span>       </span><span>(</span><span>(</span><span>(</span><span>1</span><span> </span><span>1</span><span>)</span><span> </span><span>(</span><span>2</span><span> </span><span>1</span><span>)</span><span>)</span><span> </span><span>6</span><span>)</span></td></tr><tr><td><span>       </span><span>(</span><span>(</span><span>(</span><span>2</span><span> </span><span>0</span><span>)</span><span>)</span><span> </span><span>3</span><span> </span><span>4</span><span>)</span><span>)</span></td></tr></tbody></table></blockquote></div><p>In addition, the cells coordinates pairs have source locations of the first
character that is inside the corresponding cell. (Currently the span
is always <span>1</span>, but that may change.)</p><h3 x-source-module="(lib &#34;2d/scribblings/2d.scrbl&#34;)" x-source-pkg="2d-doc" x-part-tag="&#34;Editing_2D&#34;">1<tt> </tt><a name="(part._.Editing_2.D)"></a>Editing 2D<span><a href="#(part._.Editing_2.D)" title="Link to here">🔗</a><a title="Internal Scribble link and Scribble source">ℹ</a><span> </span></span></h3><p>DrRacket provides a number of keybindings to help editing <span><span></span><span>#2d</span><span></span></span> expressions.
See <a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?tag=%28part._%28.%27%28lib._scribblings%2Fdrracket%2Fdrracket..scrbl%29.%27._.%27.Keyboard._.Shortcuts.%27%29%29&amp;version=8.15" data-pltdoc="x">DrRacket’s keyboard shortcuts</a>.</p><h3 x-source-module="(lib &#34;2d/scribblings/2d.scrbl&#34;)" x-source-pkg="2d-doc" x-part-tag="&#34;2D_Cond&#34;">2<tt> </tt><a name="(part._2.D_.Cond)"></a><a name="(mod-path._2d/cond)"></a>2D Cond<span><a href="#(part._2.D_.Cond)" title="Link to here">🔗</a><a title="Internal Scribble link and Scribble source">ℹ</a><span> </span></span></h3><div><blockquote><table><tbody><tr><td><blockquote><p><span>(</span><a name="(form._((lib._2d/cond..rkt)._2dcond))"></a><span title="Provided from: 2d/cond | Package: 2d-lib"><span><a href="#%28form._%28%28lib._2d%2Fcond..rkt%29._2dcond%29%29" data-pltdoc="x">2dcond</a></span></span><span> </span><span>cond-content</span><span>)</span></p></blockquote></td></tr><tr><td><span> </span></td></tr><tr><td><table><tbody><tr><td><span>cond-content</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td></td></tr><tr><td><span> </span></td><td><span> </span></td><td>|</td><td><span> </span></td><td><table><tbody><tr><td><span>question-row</span></td></tr><tr><td><span>body-row</span></td></tr><tr><td><span>⋮</span></td></tr><tr><td><span>else-row</span></td></tr></tbody></table></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>question-row</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><span>empty-cell</span><span> </span><span>question-cell</span><span> </span><span>⋯</span></td></tr><tr><td><span> </span></td><td><span> </span></td><td>|</td><td><span> </span></td><td><span>empty-cell</span><span> </span><span>question-cell</span><span> </span><span>⋯</span><span> </span><span>else-cell</span></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>body-row</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><span>question-cell</span><span> </span><span>exprs-cell</span><span> </span><span>⋯</span></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>else-row</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><span>question-cell</span><span> </span><span>exprs-cell</span><span> </span><span>⋯</span><span> </span><span>else-cell</span></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>question-cell</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><table><tbody><tr><td><span>╔═════════════╗</span></td></tr><tr><td><span>║question-expr║</span></td></tr><tr><td><span>╚═════════════╝</span></td></tr></tbody></table></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>empty-cell</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><table><tbody><tr><td><span>╔═══╗</span></td></tr><tr><td><span>║</span><span>   </span><span>║</span></td></tr><tr><td><span>╚═══╝</span></td></tr></tbody></table></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>exprs-cell</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><table><tbody><tr><td><span>╔═════════════╗</span></td></tr><tr><td><span>║expr</span><span> </span><span>expr</span><span> </span><span>...║</span></td></tr><tr><td><span>╚═════════════╝</span></td></tr></tbody></table></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>else-cell</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><table><tbody><tr><td><span>╔══════╗</span></td></tr><tr><td><span>║</span><span> </span><span>else</span><span> </span><span>║</span></td></tr><tr><td><span>╚══════╝</span></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></blockquote></div><p>Evaluates the first row of question expressions until
one of them returns a true value (signaling an error if none do),
then evaluates the first column of question expressions until
one of them returns a true value (signaling an error if none do),
and then evaluates the cell in the middle where both point to,
returning the result of the last expression in that cell.</p><h3 x-source-module="(lib &#34;2d/scribblings/2d.scrbl&#34;)" x-source-pkg="2d-doc" x-part-tag="&#34;2D_Match&#34;">3<tt> </tt><a name="(part._2.D_.Match)"></a><a name="(mod-path._2d/match)"></a>2D Match<span><a href="#(part._2.D_.Match)" title="Link to here">🔗</a><a title="Internal Scribble link and Scribble source">ℹ</a><span> </span></span></h3><div><blockquote><table><tbody><tr><td><blockquote><p><span>(</span><a name="(form._((lib._2d/match..rkt)._2dmatch))"></a><span title="Provided from: 2d/match | Package: 2d-lib"><span><a href="#%28form._%28%28lib._2d%2Fmatch..rkt%29._2dmatch%29%29" data-pltdoc="x">2dmatch</a></span></span><span> </span><span>match-content</span><span>)</span></p></blockquote></td></tr><tr><td><span> </span></td></tr><tr><td><table><tbody><tr><td><span>match-content</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><table><tbody><tr><td><span>match-first-row</span></td></tr><tr><td><span>match-row</span></td></tr><tr><td><span>⋮</span></td></tr></tbody></table></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>match-first-row</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><span>two-expr-cell</span><span> </span><span>match-pat-cell</span><span> </span><span>⋯</span></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>match-row</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><span>match-pat-cell</span><span> </span><span>exprs-cell</span><span> </span><span>⋯</span></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>two-expr-cell</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><table><tbody><tr><td><span>╔═════════════════╗</span></td></tr><tr><td><span>║col-expr</span><span> </span><span>row-expr║</span></td></tr><tr><td><span>╚═════════════════╝</span></td></tr></tbody></table></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>match-pat-cell</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><table><tbody><tr><td><span>╔═════╗</span></td></tr><tr><td><span>║</span><span> </span><span>pat</span><span> </span><span>║</span></td></tr><tr><td><span>╚═════╝</span></td></tr></tbody></table></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>exprs-cell</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><table><tbody><tr><td><span>╔═════════════╗</span></td></tr><tr><td><span>║expr</span><span> </span><span>expr</span><span> </span><span>...║</span></td></tr><tr><td><span>╚═════════════╝</span></td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></blockquote></div><p>Matches <span>col-expr</span> against each of patterns
in the first column of the table and matches <span>row-expr</span>
against each of the patterns in the row row, and then evaluates
the corresponding <span>exprs-cell</span>, returning the value of the
last expression in that cell.</p><p>Within the top-left cell, the leftmost expression will count as
<span>col-expr</span>, and the rightmost as <span>row-expr</span>. In case of a tie
(i.e., both expressions start at the same column, but on different lines),
the bottommost one will count as <span>col-expr</span>. For example, all of
these are valid:</p><div><blockquote><table><tbody><tr><td><span>╔═════════════════╗</span></td></tr><tr><td><span>║col-expr</span><span> </span><span>row-expr║</span></td></tr><tr><td><span>╚═════════════════╝</span></td></tr></tbody></table></blockquote></div><div><blockquote><table><tbody><tr><td><span>╔═════════════════╗</span></td></tr><tr><td><span>║</span><span>         </span><span>row-expr║</span></td></tr><tr><td><span>║col-expr</span><span>         </span><span>║</span></td></tr><tr><td><span>╚═════════════════╝</span></td></tr></tbody></table></blockquote></div><div><blockquote><table><tbody><tr><td><span>╔════════╗</span></td></tr><tr><td><span>║row-expr║</span></td></tr><tr><td><span>║col-expr║</span></td></tr><tr><td><span>╚════════╝</span></td></tr></tbody></table></blockquote></div><p>Changed in version 6.4 of package <span>2d-lib</span>: Made scrutinee parsing more flexible.</p><h3 x-source-module="(lib &#34;2d/scribblings/2d.scrbl&#34;)" x-source-pkg="2d-doc" x-part-tag="&#34;2D_Tabular&#34;">4<tt> </tt><a name="(part._2.D_.Tabular)"></a><a name="(mod-path._2d/tabular)"></a>2D Tabular<span><a href="#(part._2.D_.Tabular)" title="Link to here">🔗</a><a title="Internal Scribble link and Scribble source">ℹ</a><span> </span></span></h3><div><blockquote><table><tbody><tr><td><blockquote><p><span>(</span><a name="(form._((lib._2d/tabular..rkt)._2dtabular))"></a><span title="Provided from: 2d/tabular | Package: 2d-lib"><span><span>2dtabular</span></span></span><span> </span><span>tabular-content</span><span>)</span></p></blockquote></td></tr><tr><td><span> </span></td></tr><tr><td><table><tbody><tr><td><span>tabular-content</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td></td></tr><tr><td><span> </span></td><td><span> </span></td><td>|</td><td><span> </span></td><td></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>tabular-row</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><span>tabular-cell</span><span> </span><span>⋯</span></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>tabular-cell</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><table><tbody><tr><td><span>╔════════════════╗</span></td></tr><tr><td><span>║tabular-expr</span><span> </span><span>...║</span></td></tr><tr><td><span>╚════════════════╝</span></td></tr></tbody></table></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>style-cell</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><table><tbody><tr><td><span>╔═════════════════╗</span></td></tr><tr><td><span>║style-content</span><span> </span><span>...║</span></td></tr><tr><td><span>╚═════════════════╝</span></td></tr></tbody></table></td></tr><tr><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td><td><span> </span></td></tr><tr><td><span>style-content</span></td><td><span> </span></td><td>=</td><td><span> </span></td><td><span>#:style</span><span> </span><span>style-expr</span></td></tr><tr><td><span> </span></td><td><span> </span></td><td>|</td><td><span> </span></td><td><span>#:sep</span><span> </span><span>sep-expr</span></td></tr><tr><td><span> </span></td><td><span> </span></td><td>|</td><td><span> </span></td><td><span>#:ignore-first-row</span></td></tr></tbody></table></td></tr><tr><td><span> </span></td></tr><tr><td><blockquote><table><tbody><tr><td><span>  </span></td><td><span>sep-expr</span></td><td><span> </span></td><td>:</td><td><span> </span></td><td><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.15" data-pltdoc="x">or/c</a></span><span> </span><span>block?</span><span> </span><span>content?</span><span> </span><span>#f</span><span>)</span></td></tr></tbody></table><table><tbody><tr><td><span>  </span></td><td><span>tabular-expr</span></td><td><span> </span></td><td>:</td><td><span> </span></td><td><span>(</span><span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=data-structure-contracts.html%23%2528def._%2528%2528lib._racket%252Fcontract%252Fbase..rkt%2529._or%252Fc%2529%2529&amp;version=8.15" data-pltdoc="x">or/c</a></span><span> </span><span>block?</span><span> </span><span>content?</span><span>)</span></td></tr></tbody></table></blockquote></td></tr></tbody></table></blockquote></div><p>Constructs a <span>tabular</span> matching the given cells.</p><p>If a cell spans multiple columns, then the resulting
<span>tabular</span> has <span>&#39;</span><span>cont</span> in the corresponding
list element. No cells may span rows.</p><p>The <span>#:style</span> and <span>#:sep</span> arguments are just passed
to <span>tabular</span>.</p><p>If the <span>#:ignore-first-row</span> keyword is provided, then the first
row of the <span>2dtabular</span> expression is ignored. This can be used
in case the first row of the rendered table should not have all of the
columns (as <span><span></span><span>#2d</span><span></span></span> syntax requires that the first row contain
a cell for each column that appears in the table).</p><h3 x-source-module="(lib &#34;2d/scribblings/2d.scrbl&#34;)" x-source-pkg="2d-doc" x-part-tag="&#34;2D_Readtable&#34;">5<tt> </tt><a name="(part._2.D_.Readtable)"></a><a name="(mod-path._2d/readtable)"></a>2D Readtable<span><a href="#(part._2.D_.Readtable)" title="Link to here">🔗</a><a title="Internal Scribble link and Scribble source">ℹ</a><span> </span></span></h3><p>Builds a <span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=readtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._readtable%7E3f%2529%2529&amp;version=8.15" data-pltdoc="x">readtable?</a></span> that recognizes <span><span></span><span>#2d</span><span></span></span> and turns it into
a parenthesized form as discussed in <a href="" data-pltdoc="x">2D Syntax</a>.</p><p>The function that implements <span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=readtables.html%23%2528def._%2528%2528quote._%7E23%7E25kernel%2529._make-readtable%2529%2529&amp;version=8.15" data-pltdoc="x">make-readtable</a></span>’s functionality. The
<span>/recursive</span> function is used to handle the content in the cells.</p><p>See the docs
on <a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=reference&amp;rel=readtables.html%23%2528tech._readtable%2529&amp;version=8.15" data-pltdoc="x"><span>readtables</span></a> for more information.</p><h3 x-source-module="(lib &#34;2d/scribblings/2d.scrbl&#34;)" x-source-pkg="2d-doc" x-part-tag="&#34;2d_Lexer&#34;">6<tt> </tt><a name="(part._2d_.Lexer)"></a><a name="(mod-path._2d/lexer)"></a>2d Lexer<span><a href="#(part._2d_.Lexer)" title="Link to here">🔗</a><a title="Internal Scribble link and Scribble source">ℹ</a><span> </span></span></h3><p>Constructs a <span><a href="https://download.racket-lang.org/releases/8.15/doc/local-redirect/index.html?doc=syntax-color&amp;rel=dont-stop.html%23%2528def._%2528%2528lib._syntax-color%252Flexer-contract..rkt%2529._lexer%252Fc%2529%2529&amp;version=8.15" data-pltdoc="x">lexer/c</a></span> given one that handles
lexing inside the cells.</p><h3 x-source-module="(lib &#34;2d/scribblings/2d.scrbl&#34;)" x-source-pkg="2d-doc" x-part-tag="&#34;2D_Direction_Chars&#34;">7<tt> </tt><a name="(part._2.D_.Direction_.Chars)"></a><a name="(mod-path._2d/dir-chars)"></a>2D Direction Chars<span><a href="#(part._2.D_.Direction_.Chars)" title="Link to here">🔗</a><a title="Internal Scribble link and Scribble source">ℹ</a><span> </span></span></h3><p>This library provides definitions of the characters that are looked for when
parsing 2d syntax.</p><p>These are the characters that are considered either to be part of 2d rectangle
or characters that could be part of one, possibly fixed by up a DrRacket keybinding.</p><div><blockquote><table><tbody><tr><td><span>&gt; </span><span>adjustable-chars</span></td></tr><tr><td><p><span>&#39;(#\╬ #\╩ #\╣ #\╠ #\╝ #\╚ #\║ #\+ #\| #\╦ #\╗ #\╔ #\═ #\- #\=)</span></p></td></tr></tbody></table></blockquote></div><p>These are all of the <span>adjustable-chars</span>, except those that are regular ASCII.</p><div><blockquote><table><tbody><tr><td><span>&gt; </span><span>double-barred-chars</span></td></tr><tr><td><p><span>&#39;(#\╬ #\╩ #\╣ #\╠ #\╝ #\╚ #\║ #\╦ #\╗ #\╔ #\═)</span></p></td></tr></tbody></table></blockquote></div><p>All of the 2d chars that connect to the line above.</p><div><blockquote><table><tbody><tr><td><span>&gt; </span><span>up-chars</span></td></tr><tr><td><p><span>&#39;(#\╬ #\╩ #\╣ #\╠ #\╝ #\╚ #\║ #\+ #\|)</span></p></td></tr></tbody></table></blockquote></div><p>All of the 2d chars that connect to the line below.</p><div><blockquote><table><tbody><tr><td><span>&gt; </span><span>dn-chars</span></td></tr><tr><td><p><span>&#39;(#\╬ #\╦ #\╣ #\╠ #\╗ #\╔ #\║ #\+ #\|)</span></p></td></tr></tbody></table></blockquote></div><p>All of the 2d chars that connect to the previous char.</p><div><blockquote><table><tbody><tr><td><span>&gt; </span><span>lt-chars</span></td></tr><tr><td><p><span>&#39;(#\╬ #\╩ #\╦ #\╣ #\╝ #\╗ #\═ #\+ #\- #\=)</span></p></td></tr></tbody></table></blockquote></div><p>All of the 2d chars that connect to the next char.</p><div><blockquote><table><tbody><tr><td><span>&gt; </span><span>rt-chars</span></td></tr><tr><td><p><span>&#39;(#\╬ #\╩ #\╦ #\╠ #\╔ #\╚ #\═ #\+ #\- #\=)</span></p></td></tr></tbody></table></blockquote></div></div></div></div>
  </body>
</html>
