<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://tanelpoder.com/posts/mysql-now-shows-thread-names-at-os-level/">Original</a>
    <h1>MySQL now shows its thread names at OS level for better troubleshooting</h1>
    
    <div id="readability-page-1" class="page"><p>


<h2>2022-03-17</h2>
</p><div>
<p>Starting from v8.0.27, the MySQL daemon shows its thread names at the OS level too, for better troubleshooting. The MySQL 8.0.27 <a href="https://dev.mysql.com/doc/relnotes/mysql/8.0/en/news-8-0-27.html#mysqld-8-0-27-performance-schema">release notes</a> say this:</p>
<blockquote>
<p><em>To assist monitoring and troubleshooting, the Performance Schema instrumentation is now used to export names of instrumented threads to the operating system. This enables utilities that display thread names, such as debuggers and the Unix <strong>ps</strong> command, to display distinct <strong>mysqld</strong> thread names rather than “mysqld”. This feature is supported only on Linux, macOS, and Windows.</em></p>
</blockquote>
<p>This instrumented thread naming allows you to do this:</p>
<pre>$ <strong>ps -Lp `pgrep mysqld` -o tid,cmd,comm</strong>
   TID CMD                         <mark>COMMAND</mark>
  5405 /usr/sbin/mysqld            mysqld
  6033 /usr/sbin/mysqld            ib_io_ibuf
  6034 /usr/sbin/mysqld            ib_io_log
  6044 /usr/sbin/mysqld            ib_pg_flush_co
  6045 /usr/sbin/mysqld            ib_pg_flush-1
...  
  6683 /usr/sbin/mysqld            evt_sched
  6684 /usr/sbin/mysqld            sig_handler
  6689 /usr/sbin/mysqld            xpl_accept-2
  6691 /usr/sbin/mysqld            gtid_zip
...
 88185 /usr/sbin/mysqld            connection
 88198 /usr/sbin/mysqld            connection
 88201 /usr/sbin/mysqld            connection
</pre>
<p>The “connection” threads above are the foreground ones serving your application connections (and running SQL), the others are various background threads, doing all kinds of lower level I/O &amp; internal maintenance tasks.</p>
<p>Previously, you’d have needed to log in to MySQL and query <code>performance_schema.threads</code> to map the OS thread ID to the MySQL thread ID for seeing the context of what was this thread’s purpose inside the database:</p>
<pre>mysql&gt; select name,type from performance_schema.threads where <strong>thread_os_id</strong> = 6683;
+----------------------------+------------+
| name                       | type       |
+----------------------------+------------+
| thread/sql/event_scheduler | FOREGROUND |
+----------------------------+------------+
1 row in set (0.00 sec)
</pre>
<p>You can run all kinds of clever <em>sysadmin SQL</em> commands in shell by piping <strong>ps</strong> and basic command line tools together, to summarize your current MySQLd activity viewed from the OS level:</p>
<pre>$ sudo ps -Lp `pgrep mysqld` -o <strong>s,comm,wchan</strong> | sort | uniq -c | sort -nbr | head -15
     44 <mark>D</mark> connection      <mark>iomap_dio_rw</mark>
     17 <mark>R</mark> connection      -
      2 S connection      futex_wait_queue_me
      1 S xpl_worker-2    futex_wait_queue_me
      1 S xpl_worker-1    futex_wait_queue_me
      1 S xpl_accept-2    ep_poll
      1 S xpl_accept-1    futex_wait_queue_me
      1 S sig_handler     do_sigtimedwait
      1 S mysqld          poll_schedule_timeout.constprop.13
      1 S ib_srv_wkr-3    futex_wait_queue_me
      1 S ib_srv_wkr-2    futex_wait_queue_me
      1 S ib_srv_wkr-1    futex_wait_queue_me
      1 S ib_srv_purge    futex_wait_queue_me
      1 S ib_srv_mon      futex_wait_queue_me
      1 S ib_srv_lock_to  futex_wait_queue_me
</pre>
<p>In the above scenario we had 17 user connection threads busy running on CPU (or at least trying to run on CPU) and 44 threads were waiting in D state (usually, but not always, disk I/O), having gone to sleep in the <code>iomap_dio_rw</code> kernel function in Linux. Of course this was just one snapshot in time, for getting a better overview of what’s happening over time, I should run this command multiple times to get a bigger sample size.</p>
<blockquote>
<p>Note that I ran <strong>ps</strong> with <strong>sudo</strong> to get the <code>WCHAN</code> printed properly. Modern Linux versions hide WCHAN contents (and show just a <code>-</code>) from non-privileged users.</p>
</blockquote>
<p>There’s more interesting <em>thread state</em> info available in the <code>/proc</code> filesystem that <strong>ps</strong> does not show, so let’s use my <a href="https://tanelpoder.com/psnapper/">pSnapper</a> tool from the <a href="https://0x.tools">0x.tools</a> toolset:</p>
<pre>$ <strong>psn -p mysql</strong>

Linux Process Snapper v1.1.0 by Tanel Poder [https://0x.tools]
Sampling /proc/stat for 5 seconds... finished.


=== Active Threads =================================================

 samples | avg_threads | <mark>comm</mark>              | state                  
--------------------------------------------------------------------
     479 |        4.79 | (connection)      | Disk (Uninterruptible) 
     192 |        1.92 | (connection)      | Running (ON CPU)       
      96 |        0.96 | (ib_log_flush)    | Disk (Uninterruptible) 
      62 |        0.62 | (ib_log_writer)   | Disk (Uninterruptible) 
      53 |        0.53 | (ib_srv_wkr-*)    | Disk (Uninterruptible) 
      22 |        0.22 | (ib_pg_flush-*)   | Disk (Uninterruptible) 
      21 |        0.21 | (ib_srv_wkr-*)    | Running (ON CPU)       
      17 |        0.17 | (ib_srv_purge)    | Disk (Uninterruptible) 
      15 |        0.15 | (ib_pg_flush-*)   | Running (ON CPU)       
      10 |        0.10 | (ib_io_wr-*)      | Running (ON CPU)       
       9 |        0.09 | (ib_pg_flush_co)  | Disk (Uninterruptible) 
       7 |        0.07 | (ib_srv_purge)    | Running (ON CPU)       
       3 |        0.03 | (ib_log_writer)   | Running (ON CPU)       
       3 |        0.03 | (ib_pg_flush_co)  | Running (ON CPU)       
       2 |        0.02 | (ib_log_fl_notif) | Running (ON CPU)       
       1 |        0.01 | (ib_io_rd-*)      | Running (ON CPU)       
       1 |        0.01 | (ib_log_checkpt)  | Disk (Uninterruptible) 
       1 |        0.01 | (ib_log_flush)    | Running (ON CPU)       


samples: 100 (expected: 100)
total processes: 2, threads: 105
runtime: 5.01, measure time: 0.85
</pre>
<p>Looks like MySQL changes the <code>comm</code> field of the thread. Let’s add the <code>cmdline</code> to the column list:</p>
<pre>$ psn -p mysql <strong>-G cmdline</strong>

Linux Process Snapper v1.1.0 by Tanel Poder [https://0x.tools]
Sampling /proc/cmdline, stat for 5 seconds... finished.


=== Active Threads ===================================================================

 samples | avg_threads | comm             | state                  | <mark>cmdline</mark>        
--------------------------------------------------------------------------------------
     647 |        6.47 | (connection)     | Disk (Uninterruptible) | /usr/sbin/mysqld 
     253 |        2.53 | (connection)     | Running (ON CPU)       | /usr/sbin/mysqld 
      96 |        0.96 | (ib_log_flush)   | Disk (Uninterruptible) | /usr/sbin/mysqld 
      64 |        0.64 | (ib_log_writer)  | Disk (Uninterruptible) | /usr/sbin/mysqld 
      56 |        0.56 | (ib_srv_wkr-*)   | Disk (Uninterruptible) | /usr/sbin/mysqld 
      28 |        0.28 | (ib_pg_flush-*)  | Disk (Uninterruptible) | /usr/sbin/mysqld 
      12 |        0.12 | (ib_srv_purge)   | Disk (Uninterruptible) | /usr/sbin/mysqld 
      11 |        0.11 | (ib_pg_flush-*)  | Running (ON CPU)       | /usr/sbin/mysqld 
      10 |        0.10 | (ib_pg_flush_co) | Disk (Uninterruptible) | /usr/sbin/mysqld 
       9 |        0.09 | (ib_srv_wkr-*)   | Running (ON CPU)       | /usr/sbin/mysqld 
       8 |        0.08 | (ib_io_rd-*)     | Running (ON CPU)       | /usr/sbin/mysqld 
       8 |        0.08 | (ib_srv_purge)   | Running (ON CPU)       | /usr/sbin/mysqld 
       7 |        0.07 | (ib_io_wr-*)     | Running (ON CPU)       | /usr/sbin/mysqld 
       3 |        0.03 | (ib_pg_flush_co) | Running (ON CPU)       | /usr/sbin/mysqld 
       2 |        0.02 | (ib_log_flush)   | Running (ON CPU)       | /usr/sbin/mysqld 
       2 |        0.02 | (ib_log_writer)  | Running (ON CPU)       | /usr/sbin/mysqld 
</pre>
<p>Ok, the <code>cmdline</code> still shows <code>/usr/bin/mysqld</code> for all threads, just like in previous MySQL versions.</p>
<p>As a sidenote, interestingly Postgres (that does process naming) uses the <code>/proc</code> fields in an opposite manner:</p>
<pre>$ psn <strong>-p post</strong> -a -G cmdline

Linux Process Snapper v1.1.0 by Tanel Poder [https://0x.tools]
Sampling /proc/cmdline, stat for 5 seconds... finished.


=== Active Threads ====================================================================================

 samples | avg_threads | comm         | state                 | cmdline                                
-------------------------------------------------------------------------------------------------------
     100 |        1.00 | (postmaster) | Sleep (Interruptible) | /usr/pgsql-14/bin/postmaster           
     100 |        1.00 | (postmaster) | Sleep (Interruptible) | postgres: autovacuum launcher          
     100 |        1.00 | (postmaster) | Sleep (Interruptible) | postgres: background writer            
     100 |        1.00 | (postmaster) | Sleep (Interruptible) | postgres: checkpointer                 
     100 |        1.00 | (postmaster) | Sleep (Interruptible) | postgres: logger                       
     100 |        1.00 | (postmaster) | Sleep (Interruptible) | postgres: logical replication launcher 
     100 |        1.00 | (postmaster) | Sleep (Interruptible) | postgres: stats collector              
     100 |        1.00 | (postmaster) | Sleep (Interruptible) | postgres: walwriter                    
</pre>
<p>On Postgres, each process has its <code>comm</code> shown as the generic <code>postmaster</code> and the <code>cmdline</code> shows the context, the purpose of this process (more about this in a future post).</p>
<p>Ok, back to MySQL. Thanks to its thread naming and pSnapper’s ability to link together thread states and their current system calls, you can easily report MySQL behavior all the way to the Linux kernel level:</p>
<pre>$ sudo psn -p mysql -G <strong>syscall</strong>

Linux Process Snapper v1.1.0 by Tanel Poder [https://0x.tools]
Sampling /proc/syscall, stat for 5 seconds... finished.


=== Active Threads =================================================================

 samples | avg_threads | comm              | state                   | <mark>syscall</mark>    
------------------------------------------------------------------------------------
     614 |        6.14 | (connection)      | Disk (Uninterruptible)  | pread64      
     242 |        2.42 | (connection)      | Running (ON CPU)        | [running]    
      90 |        0.90 | (ib_log_flush)    | Disk (Uninterruptible)  | fsync        
      64 |        0.64 | (ib_log_writer)   | Disk (Uninterruptible)  | pwrite64     
      43 |        0.43 | (connection)      | Disk (Uninterruptible)  | fdatasync    
      42 |        0.42 | (connection)      | Disk (Uninterruptible)  | [running]    
      42 |        0.42 | (connection)      | Running (ON CPU)        | pread64      
      42 |        0.42 | (ib_pg_flush-*)   | Disk (Uninterruptible)  | pwrite64     
      42 |        0.42 | (ib_srv_wkr-*)    | Disk (Uninterruptible)  | pread64      
      16 |        0.16 | (connection)      | Disk (Uninterruptible)  | pwrite64     
      16 |        0.16 | (ib_srv_purge)    | Disk (Uninterruptible)  | pread64      
      15 |        0.15 | (connection)      | Running (ON CPU)        | futex        
      13 |        0.13 | (connection)      | Running (ON CPU)        | ppoll        
      11 |        0.11 | (ib_pg_flush_co)  | Disk (Uninterruptible)  | pwrite64     
       9 |        0.09 | (ib_srv_wkr-*)    | Running (ON CPU)        | [running]    
       7 |        0.07 | (ib_srv_wkr-*)    | Running (ON CPU)        | pread64      
       5 |        0.05 | (ib_io_rd-*)      | Running (ON CPU)        | io_getevents 
       4 |        0.04 | (ib_pg_flush-*)   | Running (ON CPU)        | [running]    
       3 |        0.03 | (ib_io_rd-*)      | Running (ON CPU)        | [running]    
       3 |        0.03 | (ib_log_flush)    | Disk (Uninterruptible)  | [running]    
       3 |        0.03 | (ib_log_flush)    | Running (ON CPU)        | fsync        

</pre>
<p>We see lots of threads spending their time in system calls like <code>pread64</code>, <code>pwrite64</code>, <code>fsync</code> and <code>fdatasync</code>. These syscalls are simple enough and take just one file descriptor as the first argument, thus <strong>psn</strong> can walk the <code>/proc</code> filesystem further and report the filenames involved. I’m using the <code>filenamesum</code> (not <code>filename</code>) option to strip out digits in directory and file names - to get a more terse summary on my screen (scroll right to see the filename output):</p>
<pre>$ sudo psn -p mysql -G syscall,<strong>filenamesum</strong>

Linux Process Snapper v1.1.0 by Tanel Poder [https://0x.tools]
Sampling /proc/syscall, stat for 5 seconds... finished.


=== Active Threads ======================================================================================================

 samples | avg_threads | comm              | state                  | syscall         | filenamesum                      
-------------------------------------------------------------------------------------------------------------------------
     671 |        6.71 | (connection)      | Disk (Uninterruptible) | pread64         | /data*/mysql/sbtest/sbtest*.ibd  
     235 |        2.35 | (connection)      | Running (ON CPU)       | [running]       |                                  
      90 |        0.90 | <mark>(ib_log_flush)</mark>    | Disk (Uninterruptible) | <mark>fsync</mark>           | <mark>/data*/mysql/ib_logfile*</mark>         
      69 |        0.69 | <mark>(ib_log_writer)</mark>   | Disk (Uninterruptible) | <mark>pwrite64</mark>        | <mark>/data*/mysql/ib_logfile*</mark>        
      47 |        0.47 | (ib_srv_wkr-*)    | Disk (Uninterruptible) | pread64         | /data*/mysql/sbtest/sbtest*.ibd  
      44 |        0.44 | (connection)      | Disk (Uninterruptible) | fdatasync       | /data*/mysql/binlog.*            
      33 |        0.33 | (ib_pg_flush-*)   | Disk (Uninterruptible) | pwrite64        | /data*/mysql/#ib_*_*.dblwr       
      19 |        0.19 | (connection)      | Running (ON CPU)       | pread64         | /data*/mysql/sbtest/sbtest*.ibd  
      17 |        0.17 | (connection)      | Disk (Uninterruptible) | [running]       |                                  
      15 |        0.15 | (connection)      | Running (ON CPU)       | futex           |                                  
      15 |        0.15 | (connection)      | Running (ON CPU)       | ppoll           |                                  
      14 |        0.14 | (connection)      | Disk (Uninterruptible) | pwrite64        | /data*/mysql/#ib_*_*.dblwr       
      14 |        0.14 | (ib_pg_flush_co)  | Disk (Uninterruptible) | pwrite64        | /data*/mysql/#ib_*_*.dblwr       
      14 |        0.14 | (ib_srv_purge)    | Disk (Uninterruptible) | pread64         | /data*/mysql/sbtest/sbtest*.ibd  
</pre>
<p>So, at the OS level you can now see the MySQL thread name (purpose) <em>and</em> what it is trying to do in the kernel (syscall, filename name (purpose).</p>
<p>But that’s not all, you can also see what are your MySQL threads doing <em>inside</em> the kernel (<code>wchan</code>, <code>kstack</code>). You can measure how much time your threads are spending in the kernel submitting I/O or waiting for already submitted I/O to complete. Or, not even getting to submitting the I/O yet as they got stuck in the kernel somewhere (waiting for an inode lock or a previous filesystem journal sync, etc):</p>
<pre>$ sudo psn -p mysql -G syscall,<strong>wchan,kstack</strong>

Linux Process Snapper v1.1.0 by Tanel Poder [https://0x.tools]
Sampling /proc/syscall, stat, wchan, stack for 5 seconds... finished.


=== Active Threads =============================================================================================================================================================================================================================================================================================================================================================================================

 samples | avg_threads | comm              | state                  | syscall      | wchan                              | kstack                                                                                                                                                                                                                                                                                
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
     428 |        4.28 | (connection)      | Disk (Uninterruptible) | pread64      | __iomap_dio_rw                     | __x64_sys_pread64()-&gt;ksys_pread64()-&gt;vfs_read()-&gt;__vfs_read()-&gt;new_sync_read()-&gt;xfs_file_read_iter()-&gt;xfs_file_dio_aio_read()-&gt;iomap_dio_rw()-&gt;__iomap_dio_rw()                                                                                                                       
     138 |        1.38 | (connection)      | Running (ON CPU)       | [running]    | 0                                  | -                                                                                                                                                                                                                                                                                     
      64 |        0.64 | <mark>(ib_log_flush)</mark>    | Disk (Uninterruptible) | <mark>fsync</mark>        | <mark>__xfs_log_force_lsn.isra.26</mark>        | __x64_sys_fsync()-&gt;do_fsync()-&gt;vfs_fsync_range()-&gt;xfs_file_fsync()-&gt;xfs_log_force_lsn()-&gt;__xfs_log_force_lsn.isra.26()                                                                                                                                                                
      34 |        0.34 | (connection)      | Disk (Uninterruptible) | fdatasync    | __xfs_log_force_lsn.isra.26        | __x64_sys_fdatasync()-&gt;do_fsync()-&gt;vfs_fsync_range()-&gt;xfs_file_fsync()-&gt;xfs_log_force_lsn()-&gt;__xfs_log_force_lsn.isra.26()                                                                                                                                                            
      33 |        0.33 | (ib_srv_wkr-*)    | Disk (Uninterruptible) | pread64      | __iomap_dio_rw                     | __x64_sys_pread64()-&gt;ksys_pread64()-&gt;vfs_read()-&gt;__vfs_read()-&gt;new_sync_read()-&gt;xfs_file_read_iter()-&gt;xfs_file_dio_aio_read()-&gt;iomap_dio_rw()-&gt;__iomap_dio_rw()                                                                                                                       
      32 |        0.32 | <mark>(ib_log_writer)</mark>   | Disk (Uninterruptible) | <mark>pwrite64</mark>     | <mark>rwsem_down_write_slowpath</mark>          | __x64_sys_pwrite64()-&gt;ksys_pwrite64()-&gt;vfs_write()-&gt;__vfs_write()-&gt;new_sync_write()-&gt;xfs_file_write_iter()-&gt;xfs_file_buffered_aio_write()-&gt;xfs_file_aio_write_checks()-&gt;file_modified()-&gt;file_update_time()-&gt;xfs_vn_update_time()-&gt;xfs_ilock()-&gt;rwsem_down_write_slowpath()           
      31 |        0.31 | <mark>(ib_log_writer)</mark>   | Disk (Uninterruptible) | <mark>pwrite64</mark>     | <mark>rwsem_down_write_slowpath</mark>          | __x64_sys_pwrite64()-&gt;ksys_pwrite64()-&gt;vfs_write()-&gt;__vfs_write()-&gt;new_sync_write()-&gt;xfs_file_write_iter()-&gt;xfs_file_buffered_aio_write()-&gt;iomap_file_buffered_write()-&gt;iomap_apply()-&gt;xfs_file_iomap_begin()-&gt;xfs_file_iomap_begin_delay()-&gt;xfs_ilock()-&gt;rwsem_down_write_slowpath() 
      26 |        0.26 | (connection)      | Disk (Uninterruptible) | pread64      | 0                                  | -                                                                                                                                                                                                                                                                                     
      26 |        0.26 | (connection)      | Running (ON CPU)       | [running]    | __iomap_dio_rw                     | __x64_sys_pread64()-&gt;ksys_pread64()-&gt;vfs_read()-&gt;__vfs_read()-&gt;new_sync_read()-&gt;xfs_file_read_iter()-&gt;xfs_file_dio_aio_read()-&gt;iomap_dio_rw()-&gt;__iomap_dio_rw()                                                                                                                       
      22 |        0.22 | (ib_pg_flush-*)   | Disk (Uninterruptible) | pwrite64     | __iomap_dio_rw                     | __x64_sys_pwrite64()-&gt;ksys_pwrite64()-&gt;vfs_write()-&gt;__vfs_write()-&gt;new_sync_write()-&gt;xfs_file_write_iter()-&gt;xfs_file_dio_aio_write()-&gt;iomap_dio_rw()-&gt;__iomap_dio_rw()                                                                                                                
      21 |        0.21 | (connection)      | Running (ON CPU)       | pread64      | 0                                  | -                                                                                                                                                                                                                                                                                     
      14 |        0.14 | (connection)      | Running (ON CPU)       | [running]    | poll_schedule_timeout.constprop.13 | -                                                                                                                                                                                                                                                                                     
      13 |        0.13 | (connection)      | Disk (Uninterruptible) | [running]    | __iomap_dio_rw                     | __x64_sys_pread64()-&gt;ksys_pread64()-&gt;vfs_read()-&gt;__vfs_read()-&gt;new_sync_read()-&gt;xfs_file_read_iter()-&gt;xfs_file_dio_aio_read()-&gt;iomap_dio_rw()-&gt;__iomap_dio_rw()                                                                                                                       
      13 |        0.13 | (connection)      | Running (ON CPU)       | [running]    | 0                                  | __x64_sys_ppoll()-&gt;do_sys_poll()-&gt;poll_schedule_timeout.constprop.13()                                                                                                                                                                                                                
      13 |        0.13 | (ib_log_flush)    | Disk (Uninterruptible) | fsync        | wait_on_page_bit                   | __x64_sys_fsync()-&gt;do_fsync()-&gt;vfs_fsync_range()-&gt;xfs_file_fsync()-&gt;file_write_and_wait_range()-&gt;__filemap_fdatawait_range()-&gt;wait_on_page_writeback()-&gt;wait_on_page_bit()                                                                                                            
      12 |        0.12 | (ib_srv_purge)    | Disk (Uninterruptible) | pread64      | __iomap_dio_rw                     | __x64_sys_pread64()-&gt;ksys_pread64()-&gt;vfs_read()-&gt;__vfs_read()-&gt;new_sync_read()-&gt;xfs_file_read_iter()-&gt;xfs_file_dio_aio_read()-&gt;iomap_dio_rw()-&gt;__iomap_dio_rw()                                                                                                                       
      11 |        0.11 | (connection)      | Disk (Uninterruptible) | fdatasync    | wait_on_page_bit                   | __x64_sys_fdatasync()-&gt;do_fsync()-&gt;vfs_fsync_range()-&gt;xfs_file_fsync()-&gt;file_write_and_wait_range()-&gt;__filemap_fdatawait_range()-&gt;wait_on_page_writeback()-&gt;wait_on_page_bit()                                                                                                        
      11 |        0.11 | (ib_log_flush)    | Disk (Uninterruptible) | fsync        | xlog_wait                          | __x64_sys_fsync()-&gt;do_fsync()-&gt;vfs_fsync_range()-&gt;xfs_file_fsync()-&gt;xfs_log_force_lsn()-&gt;__xfs_log_force_lsn.isra.26()-&gt;xlog_wait()                                                                                                                                                   
</pre>
<p>Scroll the above output <em>all the way</em> to the right to see the full stack trace of your MySQL threads that are working (or stuck) inside Linux kernel for one reason or another. The stack trace tells you the story of how you got there!</p>
<p>Ok, that’s all for today!</p>
<ul>
<li><a href="https://news.ycombinator.com/item?id=30715336">HackerNews discussion</a> &amp; <a href="https://twitter.com/TanelPoder/status/1504550386195222531">Twitter discussion</a></li>
<li>Modern JVM versions also <a href="https://tanelpoder.com/posts/measuring-java-jvm-thread-level-activity-on-linux/">name Java threads</a> and you can measure them at the OS level</li>
<li>If you’re interested in learning more about the Linux <em>task state sampling</em> approach, check out my other <a href="https://tanelpoder.com/categories/linux/">Linux performance &amp; troubleshooting</a> articles, <a href="https://tanelpoder.com/videos/">hacking session videos</a> and my <a href="https://tanelpoder.com/seminar/practical-linux-performance-application-troubleshooting-training/">Practical Linux Performance &amp; Troubleshooting online training course</a> too!</li>
<li>Also, thanks to <a href="https://twitter.com/lefred">Lefred</a> for notifying me about this MySQL improvement!</li>
</ul>

</div><p><span>
    <a href="https://tanelpoder.com/about/"><img src="https://tanelpoder.com/files/images/tanelpoder_small.png"/></a>
  </span>
  <span>
    <div>
    <ol>
    	<li><em>Check out my 2022 online training classes in a <strong>new format</strong>!</em></li><em>
      <li>
    	  <em><a href="https://tanelpoder.com/contact/">Get weekly updates</a> by email or follow Social/RSS</em>
    	</li>
    </em></ol></div><em>
  </em></span><em>
</em></p></div>
  </body>
</html>
