<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="http://alangerber.us/blog/posts/a-new-blog/">Original</a>
    <h1>A New Blog</h1>
    
    <div id="readability-page-1" class="page"><div><article><div><p>I’ve been thinking about starting a blog for years, but always got caught in analysis paralysis deciding where and how to do it. I finally put some time into making decisions and actually putting something of my own together while participating in <a href="https://www.recurse.com/">Recurse Center</a>. As a high-level goal, I wanted a simple way to turn Markdown on my computer into a website and blog.</p><p>Initially I thought writing my own static site generator could be an enjoyable project, but after <a href="https://github.com/akgerber/weblog-gen">scoping out what the project would consist of</a>, I realized it would be a distraction from many other goals like writing words and learning Rust with others and learning about machine learning.</p><p>Instead I decided on using a popular static site generator, <a href="https://gohugo.io/">Hugo</a>, and to host it on Github Pages where I’d already moved my homepage from my university’s computer club earlier in the year. I spent a bit of time learning how to use GitHub Actions, one of which had already been written for Hugo.</p><p>The final workflow for blogging should be simply writing a markdown file, commiting it, and pushing it to GitHub to make it appear on this blog.</p><p>Here’s the GitHub actions config to accomplish this:</p><div><pre tabindex="0"><code data-lang="yml"><span><span><span>name</span>: <span>Publish blog to akgerber.github.io/blog</span>
</span></span><span><span>
</span></span><span><span><span>on</span>:
</span></span><span><span>  <span>push</span>:
</span></span><span><span>    <span>branches</span>:
</span></span><span><span>      - <span>main </span> <span># Set a branch name to trigger deployment</span>
</span></span><span><span>  <span>pull_request</span>:
</span></span><span><span>
</span></span><span><span><span>jobs</span>:
</span></span><span><span>  <span>deploy</span>:
</span></span><span><span>    <span>runs-on</span>: <span>ubuntu-22.04</span>
</span></span><span><span>    <span>permissions</span>:
</span></span><span><span>      <span>contents</span>: <span>write</span>
</span></span><span><span>    <span>concurrency</span>:
</span></span><span><span>      <span>group</span>: <span>${{ github.workflow }}-${{ github.ref }}</span>
</span></span><span><span>    <span>steps</span>:
</span></span><span><span>      - <span>uses</span>: <span>actions/checkout@v3</span>
</span></span><span><span>        <span>with</span>:
</span></span><span><span>          <span>submodules</span>: <span>true</span>  <span># Fetch Hugo themes (true OR recursive)</span>
</span></span><span><span>          <span>fetch-depth</span>: <span>0</span>    <span># Fetch all history for .GitInfo and .Lastmod</span>
</span></span><span><span>
</span></span><span><span>      - <span>name</span>: <span>Setup Hugo</span>
</span></span><span><span>        <span>uses</span>: <span>peaceiris/actions-hugo@v2</span>
</span></span><span><span>        <span>with</span>:
</span></span><span><span>          <span>hugo-version</span>: <span>&#39;0.113.0&#39;</span>
</span></span><span><span>
</span></span><span><span>      - <span>name</span>: <span>Build</span>
</span></span><span><span>        <span>run</span>: <span>hugo --minify</span>
</span></span><span><span>
</span></span><span><span>      - <span>name</span>: <span>Deploy</span>
</span></span><span><span>        <span>uses</span>: <span>peaceiris/actions-gh-pages@v3</span>
</span></span><span><span>        <span># If you&#39;re changing the branch from main,</span>
</span></span><span><span>        <span># also change the `main` in `refs/heads/main`</span>
</span></span><span><span>        <span># below accordingly.</span>
</span></span><span><span>        <span>if</span>: <span>github.ref == &#39;refs/heads/main&#39;</span>
</span></span><span><span>        <span>with</span>:
</span></span><span><span>          <span>personal_token</span>: <span>${{ secrets.BLOG_PUBLISH_TOKEN }}</span>
</span></span><span><span>          <span>external_repository</span>: <span>akgerber/akgerber.github.io</span>
</span></span><span><span>          <span>publish_dir</span>: <span>./public</span>
</span></span><span><span>          <span>publish_branch</span>: <span>main</span>
</span></span><span><span>          <span>destination_dir</span>: <span>blog</span>
</span></span></code></pre></div></div></article></div></div>
  </body>
</html>
