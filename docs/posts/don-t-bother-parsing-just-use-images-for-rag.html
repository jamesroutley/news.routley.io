<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.morphik.ai/blog/stop-parsing-docs">Original</a>
    <h1>Don&#39;t bother parsing: Just use images for RAG</h1>
    
    <div id="readability-page-1" class="page"><article><blockquote>
<p>At Morphik, we build RAG tools to provide developers accurate search over complex documents. In this article, we explain why we operate over &#34;images&#34; of pages instead of doing OCR/ parsing.</p>
</blockquote>
<p>If you‚Äôve ever tried to extract information from a complex PDF: one with charts, diagrams, and tables mixed with text, you know the pain. That invoice with a nested table showing quarterly breakdowns? The research paper whose intricate figures actually contain the key findings? The technical manual where the annotated diagrams explain more than the text ever could? Or maybe the IKEA manual with no text at all.</p>
<p>We‚Äôve all been there, watching our carefully crafted parsing pipeline mangle yet another document. The industry‚Äôs dirty secret is that we‚Äôre spending enormous effort (and money) on OCR, layout detection, and parsing pipelines that <em>still</em> lose the information that matters most. It‚Äôs like trying to ‚Äúwatch‚Äù a movie by reading its script: you miss all the visual storytelling that makes it meaningful.</p>
<p>For example, let‚Äôs take a very simple all text page (not scanned, no diagrams, etc.) like the one below:</p>
<p><img src="https://www.morphik.ai/assets/Screenshot_2025-07-08_at_9.01.11_PM.png" alt="Screenshot 2025 07 08 At 9 01 11 PM Pn"/></p>
<p>Fig 1: Simple page showing Palantir financials</p>
<p>If I try to parse it with common OCR tools (the values might come out correct, but the headings and values all get jumbled up, add on standard chunking, we might not send correct information when retrieving)</p>
<p><code>Q1</code></p>
<p><code>Financials</code></p>
<p><code>US commercial continues to accelerate in Q1 2025 alongside AIP revolution</code></p>
<p><code>+71% Y/Y</code></p>
<p><code>+65% Y/Y</code></p>
<p><code>US Commercial Revenue</code></p>
<p><code>US Commercial Customer Count</code></p>
<p><code>+19% Q/Q</code></p>
<p><code>+13% Q/Q</code></p>
<p><code>US Commercial Revenue</code></p>
<p><code>US Commercial Customer Count</code></p>
<p><code>+127% Y/Y</code></p>
<p><code>$810M</code></p>
<p><code>US Commercial Remaining Deal Value</code></p>
<p><code>2x Y/Y</code></p>
<p><code>US Commercial Total Contract Value</code></p>
<p><code>+30% Q/Q</code></p>
<p><code>US Commercial Deals Closed of $1M or Greater</code></p>
<p><code>+183% Y/Y</code></p>
<p><code>US Commercial Remaining Deal Value</code></p>
<p><code>US Commercial Total Contract Value</code></p>
<p><code>2025 Palantir Technologies Inc.</code></p>
<p><code>We dene a customer as an organization from which we have recognized revenue during the trailing twelve months period.</code></p>
<p>This is possibly one of the simplest documents, we haven‚Äôt even come to complex or technical documents.</p>
<p><strong>Note/ Aside:</strong> You might still need to convert a document to text or a structured format, that‚Äôs essential for syncing information into structured databases or data lakes. In those cases, OCR works (with its quirks), but in my experience passing the original document to an LLM is better (we do this with Morphik workflows, learn more <a href="https://www.morphik.ai/docs/api-reference/workflows/create-workflow#create-workflow" target="_blank" rel="noopener noreferrer">here</a>).</p>
<h2 id="the-traditional-approach-a-house-of-cards"><a href="#the-traditional-approach-a-house-of-cards">The Traditional Approach: A House of Cards</a></h2>
<p>When we started building RAG at Morphik, we did what everyone does: assembled the standard document processing pipeline. You know the one, it starts with OCR and ends with tears.</p>
<p>Here&#39;s what that &#34;state-of-the-art&#34; pipeline actually looks like:</p>
<ol>
<li>Run OCR on your PDFs (hope it reads the numbers correctly)</li>
<li>Deploy layout detection models (hope they identify table boundaries)</li>
<li>Reconstruct reading order (hope it follows the visual flow)</li>
<li>Caption figures with specialized models (hope they capture the nuance)</li>
<li>Chunk text &#34;intelligently&#34; (hope you don&#39;t split related info)</li>
<li>Generate embeddings with BGE-M3 or similar (hope meaning survives)</li>
<li>Store in your vector database (hope you can find it later)</li>
</ol>
<p>Take a simple invoice with a table showing itemized costs. First, your OCR might read &#34;1,000&#34; as &#34;l,0O0&#34; (those are letters, not numbers). Then your layout detector might miss that the subtotal row is actually part of the table. Your chunking strategy splits the table from its header. By the time you&#39;re searching for &#34;total costs for Q3,&#34; you&#39;re searching through mangled text that bears little resemblance to the original document.</p>
<p>We once spent six hours debugging why our system couldn&#39;t find information that was <em>clearly</em> visible in a financial report. Turns out, the parsing pipeline had interpreted a pie chart&#39;s legend as body text, scattering percentages throughout unrelated paragraphs.</p>
<p>Even if OCR captured every character flawlessly, the meaning locked inside images, figures, and tables would still vanish. Suppose layout detection nailed every bounding box; you would still rely on figure captioning, and captions inevitably miss critical context. A hybrid approach-feeding text to a text-embedding model and images to an image-embedding model-sounds appealing, yet it shatters the document‚Äôs positional context. Queries that depend on spatial relationships (‚Äúwhich part of the diagram labels Q3 total?‚Äù) become impossible, embeddings for text and images live in separate spaces, and retrieval pipelines struggle to reconcile them. Positional loss, modality gaps, and fractured semantics compound into answers that feel random. In practice, you still cannot trust the pipeline.</p>
<h2 id="the-lightbulb-moment-what-if-we-just-looked-at-the-page"><a href="#the-lightbulb-moment-what-if-we-just-looked-at-the-page">The Lightbulb Moment: What If We Just... Looked at the Page?</a></h2>
<p><img src="https://www.morphik.ai/assets/wohoo.jpeg" alt="wohoo.jpeg"/></p>
<p>The revelation came during yet another debugging session. Arnav, my co-founder (and brother üôÇ) asked the question that changed everything: &#34;Why are we deconstructing these documents just to reconstruct meaning? What if we treated them the way humans do: as visual objects?&#34;</p>
<p>It sounds almost too simple. But that&#39;s exactly what the recent ColPali research proved possible. Vision Language Models have quietly gotten good enough to understand documents <em>directly</em>. No parsing. No OCR. No reconstruction. Just: Document ‚Üí Image ‚Üí Understanding.</p>
<p>The elegance is stunning. Instead of seven fragile steps, you have one robust operation. Instead of losing information at every stage, you preserve everything: every chart, every table relationship, every visual cue that makes documents understandable to humans.</p>
<p>In Fig 1., what the LLM would ‚Äúsee‚Äù in this case is direct page itself, maintaining all positional information!</p>
<h2 id="under-the-hood-how-visual-document-retrieval-actually-works"><a href="#under-the-hood-how-visual-document-retrieval-actually-works">Under the Hood: How Visual Document Retrieval Actually Works</a></h2>
<p>Here&#39;s where it gets technically interesting. The <a href="https://arxiv.org/abs/2407.01449" target="_blank" rel="noopener noreferrer">ColPali model</a> doesn&#39;t just &#34;look&#34; at documents. It understands them in a fundamentally different way than traditional approaches.</p>
<p>The process is beautifully straightforward:</p>
<p>First, we treat each document page as an image, essentially taking a high-resolution screenshot. This image gets divided into patches, like laying a grid over the page. Each patch might contain a few words, part of a chart, or a table cell.</p>
<p>A Vision Transformer (specifically SigLIP-So400m) processes these patches, but here&#39;s the clever part: instead of trying to extract text, it creates rich embeddings that understand both textual <em>and</em> visual elements in context. These embeddings are then refined by a language model (PaliGemma-3B) that&#39;s been trained to understand document structure.</p>
<p>When you search for &#34;Q3 revenue trends,&#34; the magic happens through what&#39;s called &#34;late interaction.&#34; The model doesn&#39;t just look for those exact words, it finds patches containing the text &#34;Q3,&#34; the word &#34;revenue,&#34; but also the relevant parts of charts showing upward trends, table cells with quarterly figures, and even color-coded elements that indicate performance.</p>
<p>It&#39;s like having a human expert who can instantly scan every page and understand not just what&#39;s written, but what&#39;s <em>shown</em>.</p>
<p>An interesting overview of ColPali by Arnav here. (more to scratch the technical itch)</p>
<p><img src="https://www.morphik.ai/assets/Screenshot_2025-07-08_at_9.07.57_PM.png" alt="Screenshot_2025-07-08_at_9.07.57_PM.png"/></p>
<p>Fig 3: Comparison of traditional pipelines vs ColPali</p>
<h2 id="real-world-showdown-morphik-vs-the-alternatives"><a href="#real-world-showdown-morphik-vs-the-alternatives">Real-World Showdown: Morphik vs. The Alternatives</a></h2>
<p>When we built Morphik, we implemented ColPali and quickly discovered that productizing it was far more complex than the research suggested. No vector database directly supported our desired similarity function at that time, and every provider offered optimizations for single vectors instead of multi-vectors, which was painfully slow. We added optimizations like binary quantization and then using Hamming distance for calculation instead of dot product, among other performance improvements... each piece had hidden complexity.</p>
<p>But the real test came when we compared our approach to existing solutions.</p>
<p><strong>Systematic Evaluation: The Numbers Don&#39;t Lie</strong></p>
<p>To validate these observations beyond anecdotal evidence, we worked with TLDC (The LLM Data Company) to build <a href="https://github.com/morphik-org/morphik-core/tree/main/evaluations/custom_eval" target="_blank" rel="noopener noreferrer">an open-source financial document benchmark</a> with 45 challenging questions across NVIDIA 10-Qs, Palantir investor presentations, and JPMorgan reports. TLDC has a complex multistep process for generating these evaluations, and their objective was frankly to humiliate us. They wanted questions that would expose the limitations of any document retrieval system. The evaluation harness is designed to be easy to use, and anyone can test their RAG system against these same questions and see how they stack up.</p>
<p>The results were striking: while other end-to-end providers peaked at around 67% accuracy, and even a carefully optimized custom LangChain pipeline with semantic chunking and OpenAI&#39;s text-embedding-large model achieved 72%, <strong>Morphik delivered 95.56% accuracy</strong> on the same evaluation set. For comparison, OpenAI&#39;s file search tools, which represents a solid baseline, managed only 13.33% accuracy on these challenging financial document questions.</p>
<p>On the ViDoRe benchmark, the first evaluation specifically designed for visual document retrieval, our approach achieves 81.3% nDCG@5 compared to 67.0% for traditional parsing methods. But as our own evaluation shows, benchmarks only tell part of the story. The real difference is in understanding documents the way they were meant to be understood.</p>
<p><strong>Want to test your own system?</strong> The entire evaluation framework is ready to use. Just clone the repo, add your RAG implementation, and see how it performs on the same challenging financial document questions.</p>
<h2 id="the-speed-problem-and-how-we-solved-it"><a href="#the-speed-problem-and-how-we-solved-it">The Speed Problem (And How We Solved It)</a></h2>
<p>Ok so we got to really good accuracy, but &#39;ll be honest: our first implementation was slow. Visual understanding is computationally intensive, and ColPali&#39;s original multi-vector approach meant searching through millions of patch embeddings at scale. At 3-4 seconds per query for retrieval, it was impressive but not production-ready for our customers querying thousands of documents and demanding something fast.</p>
<p>The breakthrough came from the <a href="https://arxiv.org/abs/2405.19504" target="_blank" rel="noopener noreferrer">MUVERA paper</a>. Instead of searching through all patch embeddings independently, MUVERA reduces multi-vector search to single-vector similarity using fixed-dimensional encodings. Think of it as creating a &#34;summary fingerprint&#34; that preserves the rich patch interactions while being orders of magnitude faster to search.</p>
<p>We paired this with <a href="https://turbopuffer.com/" target="_blank" rel="noopener noreferrer">Turbopuffer</a>, a vector database built for exactly this use case. The results transformed our system, and our query latency went from 3-4s to 30ms.</p>
<p>The math works out beautifully: we can now search millions of documents faster than traditional systems can parse a single PDF.</p>
<h2 id="what-this-means-for-you"><a href="#what-this-means-for-you">What This Means for You</a></h2>
<p>Forget wrestling with document parsing libraries. Forget maintaining separate pipelines for text extraction, table detection, and OCR. Forget losing critical information every time a document doesn&#39;t fit your parsing assumptions.</p>
<p>With visual document retrieval, you just send us your documents‚ÄîPDFs, images, even photos of whiteboards‚Äîand search with natural language. It works particularly well for:</p>
<ul>
<li><strong>Financial documents</strong>: Where charts and tables tell the real story</li>
<li><strong>Technical manuals</strong>: Where diagrams are worth thousands of words</li>
<li><strong>Invoices and receipts</strong>: Where layout and structure carry meaning</li>
<li><strong>Research papers</strong>: Where figures contain the actual findings</li>
<li><strong>Medical records</strong>: Where visual layouts indicate relationships</li>
</ul>
<p>The API is deliberately simple: upload your documents, search with queries like &#34;show me all contracts with penalty clauses over $10K&#34; or &#34;find the deployment architecture diagram from last year&#39;s proposal.&#34;</p>
<h2 id="the-future-beyond-simple-retrieval"><a href="#the-future-beyond-simple-retrieval">The Future: Beyond Simple Retrieval</a></h2>
<p>Visual document understanding solves the foundational problem, but real-world document workflows demand much more than single-shot retrieval. The future we&#39;re building toward involves documents that truly understand context, relationships, and complex reasoning chains.</p>
<p><strong>Multi-Document Intelligence</strong>: Today&#39;s systems treat each document as an island. Tomorrow&#39;s will understand how your Q3 financial report relates to the board deck from last month, how contract amendments reference the original agreement, and how technical specifications connect to implementation guides. At Morphik, we&#39;re already building multi-document retrieval that can trace information across entire document ecosystems, jumping seamlessly from page to page, document to document, following the logical threads that human experts would pursue.</p>
<p><strong>Agentic Document Reasoning</strong>: Simple Q&amp;A is just the beginning. We&#39;re developing agentic systems that can perform multi-hop reasoning across documents‚Äîfinding a contract clause, checking it against regulatory requirements in another document, then cross-referencing implementation details in a technical manual. Our knowledge graph capabilities help these agents understand not just what&#39;s in documents, but how different pieces of information relate to each other.</p>
<p><strong>Workflow Integration</strong>: The most powerful applications emerge when document understanding becomes part of broader business processes. Imagine systems that automatically flag contract discrepancies by comparing terms across multiple agreements, or that can trace a technical decision from initial requirements through design documents to implementation guides. We&#39;re building tools that don&#39;t just retrieve information‚Äîthey understand it well enough to take action.</p>
<p><strong>The Gap We&#39;re Still Bridging</strong>: Despite these advances, we&#39;re honest about the limitations. Current systems, including ours, still fall short of true expert-level understanding. A human financial analyst doesn&#39;t just find numbers in a report‚Äîthey understand market context, recognize subtle implications, and spot inconsistencies that require years of domain expertise. While our visual approach captures information that traditional parsing misses, we&#39;re still working toward systems that can provide the kind of ironclad guarantees that mission-critical decisions require.</p>
<p><strong>What&#39;s Next</strong>: The path forward involves deeper integration between visual understanding and domain knowledge. We&#39;re exploring how to combine our visual document retrieval with specialized knowledge graphs, how to build systems that can reason about causality and implication rather than just correlation, and how to provide the kind of confidence intervals and uncertainty quantification that enterprise applications demand.</p>
<p>This isn&#39;t just about technology; it&#39;s about respecting how humans create and consume information. Documents are visual artifacts embedded in complex workflows, and they deserve to be understood not just as isolated objects, but as part of the rich, interconnected systems of knowledge that drive real decisions.</p>
<p>Want to see how these capabilities can transform your document workflows? Try Morphik free at <a href="https://morphik.ai" target="_blank" rel="noopener noreferrer">morphik.ai</a> and join us in building a world where documents are understood, not dissected.</p></article></div>
  </body>
</html>
