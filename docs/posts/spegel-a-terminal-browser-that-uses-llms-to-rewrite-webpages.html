<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://simedw.com/2025/06/23/introducing-spegel/">Original</a>
    <h1>Show HN: Spegel, a Terminal Browser That Uses LLMs to Rewrite Webpages</h1>
    
    <div id="readability-page-1" class="page"><div>
    <article>
      
      <p><small>June 23, 2025</small></p>
      <p>TL;DR Spegel is a proof-of-concept terminal web browser that feeds HTML through an LLM and renders the result as markdown directly in your terminal.</p>
<video controls="" autoplay="" muted="" width="100%">
  <source src="videos/spegel-3.mp4" type="video/mp4"/>
  Your browser does not support the video tag.
</video>

<p>Two weekends ago, after my family had gone to sleep, I found myself unsupervised with a laptop and an itch to build something interesting. A couple of hours later, I had a minimal web browser running in my terminal (no JavaScript, GET requests only) that transformed web content based on my custom prompts.</p>
<p>Then, a few days later, Google released Gemini 2.5 Pro Lite, significantly faster inference speed, suddenly my little weekend hack became a tad more practical.</p>
<h2 id="personalisation">Personalisation</h2>
<p>Adapting content to suit individual needs isn‚Äôt a new idea, think about translating books or summarising lengthy articles. However, this used to be slow and expensive. LLMs have changed this dramatically, making these transformations quick and easy.</p>
<p>Spegel (&#34;mirror&#34; in Swedish) lets you explore web content through personalized views using your own prompts. A single page can have multiple views, maybe one simplifying everything down to ELI5 or another highlighting key actions. It&#39;s entirely up to you and your prompting skills. </p>
<p>Sometimes you don&#39;t want to read through someone&#39;s life story just to get to a recipe.
<img alt="Recipe Example" src="https://simedw.com/2025/06/23/introducing-spegel/images/recipe_example.png"/>
<small>A previous version of this screenshot showed an incorrect recipe on the right. That was due to a bug where large websites got truncated. Thanks to everyone who pointed it out!</small></p>
<p>That said, <a href="https://playswellwithbutter.com/braised-lamb-ragu/">this is a great recipe</a></p>
<p>Example configuration</p>
<div><pre><span></span><code><span>[[views]]</span>
<span>id</span><span> </span><span>=</span><span> </span><span>&#34;recipe&#34;</span>
<span>name</span><span> </span><span>=</span><span> </span><span>&#34;Recipe&#34;</span>
<span>hotkey</span><span> </span><span>=</span><span> </span><span>&#34;7&#34;</span>
<span>order</span><span> </span><span>=</span><span> </span><span>&#34;7&#34;</span>
<span>enabled</span><span> </span><span>=</span><span> </span><span>true</span>
<span>auto_load</span><span> </span><span>=</span><span> </span><span>false</span>
<span>description</span><span> </span><span>=</span><span> </span><span>&#34;Get to the point in recipes&#34;</span>
<span>icon</span><span> </span><span>=</span><span> </span><span>&#34;üç≥&#34;</span>
<span>prompt</span><span> </span><span>=</span><span> </span><span>&#34;&#34;&#34;Parse a recipe and extract only the essential parts.</span>
<span>Format the output like this:</span>

<span># Ingredients</span>
<span>* 1 tbsp salt  </span>
<span>* 400 g beef  </span>

<span># Steps</span>
<span>1. Preheat the oven to 200¬∞C (Gas Mark 6).  </span>
<span>2. Wash and chop the carrots.  </span>
<span>-----</span>
<span>**Instructions:**</span>

<span>* Use **metric units** (not imperial).</span>
<span>* inches -&gt; cm </span>
<span>* pounds -&gt; kg</span>
<span>* cups -&gt; dl </span>
<span>* Keep the output **clean and minimal** no extra commentary, tips, or nutrition facts.</span>
<span>* Include the servings.&#34;&#34;&#34;</span>
</code></pre></div>

<h2 id="how-it-works">How it works</h2>
<p>The pipeline is straightforward.</p>
<p><img alt="Spegel flowchart" src="https://simedw.com/2025/06/23/introducing-spegel/images/spegel_flow_chart.png"/></p>
<p>Spegel fetches HTML content, processes it through an LLM using prompts stored in a config file (~/.spegel.toml), and outputs markdown rendered via Textual. Prompts and views can be adjusted live during a browsing session.</p>
<p>This was my first experience using Textual for a TUI, and it&#39;s been delightful, possibly too delightful, as I found myself adding a few unnecessary interface elements just because it was easy.</p>
<p>One gotcha was ensuring only completed lines (ending in newline characters) were streamed; otherwise, the markdown renderer would parse incomplete markdown and fail to recover formatting</p>
<div><pre><span></span><code><span>buffer</span><span>:</span> <span>str</span> <span>=</span> <span>&#34;&#34;</span>
<span>async</span> <span>for</span> <span>chunk</span> <span>in</span> <span>llm_client</span><span>.</span><span>stream</span><span>(</span><span>full_prompt</span><span>,</span> <span>&#34;&#34;</span><span>):</span>
    <span>if</span> <span>not</span> <span>chunk</span><span>:</span>
        <span>continue</span>
    <span>buffer</span> <span>+=</span> <span>chunk</span>
    <span>while</span> <span>&#34;</span><span>\n</span><span>&#34;</span> <span>in</span> <span>buffer</span><span>:</span>
        <span>line</span><span>,</span> <span>buffer</span> <span>=</span> <span>buffer</span><span>.</span><span>split</span><span>(</span><span>&#34;</span><span>\n</span><span>&#34;</span><span>,</span> <span>1</span><span>)</span>
        <span>yield</span> <span>line</span> <span>+</span> <span>&#34;</span><span>\n</span><span>&#34;</span>

<span>if</span> <span>buffer</span><span>:</span>
    <span>yield</span> <span>buffer</span> 
</code></pre></div>

<h2 id="other-terminal-browsers">Other terminal browsers</h2>
<p>There are a lot of great terminal browsers out there, Lynx and Links2 are close to my heart. There are also modern attempts like Browsh that can even render graphs using half-block Unicode characters (‚ñÑ‚ñà). </p>
<p><img alt="Links2 Wikipedia Screenshot" src="https://simedw.com/2025/06/23/introducing-spegel/images/links2_wikipedia.png"/></p>
<p>Spegel isn‚Äôt meant to replace these, it‚Äôs more of an exploration or proof-of-concept. It currently doesn&#39;t support POST requests (though I have some ideas on handling <code>&lt;form&gt;</code> elements by creating on-the-fly UIs).</p>
<p>But most modern websites aren‚Äôt designed with terminal browsing in mind. They rely on CSS and JS, making them cumbersome in small terminal windows, full of clutter and noise. Spegel tries to clear away distractions, providing content tailored more closely to your needs.</p>
<h2 id="try-it">Try it</h2>
<p>Spegel is still in the early stages, so expect some rough edges, but it‚Äôs usable and kind of fun to play with.</p>
<p>Install it via pip:</p>


<p>Then just run it with a URL:</p>
<div><pre><span></span><code>spegel<span> </span>simedw.com<span> </span><span># or your favourite website</span>
</code></pre></div>

<p>Don&#39;t forget to configure your own <code>~/.spegel.toml</code>, (<a href="https://github.com/simedw/spegel/blob/main/example_config.toml">example</a>)</p>
<p>Want to check out the source or contribute? It‚Äôs all on GitHub:</p>
<p><a href="https://github.com/simedw/spegel">https://github.com/simedw/spegel</a></p>
    </article>
  </div></div>
  </body>
</html>
