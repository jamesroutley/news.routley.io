<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://xlii.space/eng/i-hate-github-actions-with-passion/">Original</a>
    <h1>I hate GitHub Actions with passion</h1>
    
    <div id="readability-page-1" class="page"><article>
  <p>
    <time datetime="2026-01-14 00:00:00 +0000 UTC">
      2026-01-14
    </time>
  </p>
  


  


  

  
  


  <p>I can’t overstate how much I hate GitHub Actions. I don’t even remember hating any other piece of technology I used. Sure, I still make fun of PHP that I remember from times of PHP4<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>, but even then I didn’t <em>hate</em> it. Merely I found it subpar technology to other emerging at the time (like Ruby on Rails or Django). And yet I hate GitHub Actions.</p>
<p>With Passion<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>.</p>





    <img src="https://xlii.space/images/github-actions-workflow-failed-small_hu_41b5aaa5fc955172.jpg" width="659" height="400" alt=""/>
  


<h2 id="road-to-hell">Road to Hell</h2>
<p>Day before writing these words I was implementing <code>build.rs</code> for my <a href="https://github.com/exlee/tmplr">tmplr</a> project. To save you a click - it is a file/project scaffold tool with human readable (and craftable) template files. I (personally) use it very often, given how easy it is to craft new templates, by hand or with aid of the tool, so check it out if you need a similar tool.</p>
<p>The <code>build.rs</code> used <code>CUE</code> to generate <code>README.md</code>, <code>CHANGELOG.md</code> and also a version/help file to guarantee consistency. It was fun thing to do, it took approx. 1.5h and I even <a href="https://dev.to/exlee/buildrs-ing-documentation-with-cuelang-3h2a">wrote an article</a> about it. For myself and future generations.</p>
<p>I was happy with the results and didn’t check CI output which, quite unsurprisingly, failed. I was using <code>cue</code> binary inside <code>build.rs</code> and without it build simply couldn’t progress. When I woke up next day and saw e-mail from CI notifying me about failed build I immediatelly knew my day isn’t going to start with puppies and rainbows.</p>
<p>It took couple attempts to search and push GitHub Action that would install <code>CUE</code> and then I got the worst of the worst results: One system in matrix failing to build.</p>
<p>A word of explanation. I’m building <code>tmplr</code> for 4 platforms:</p>
<ul>
<li>Linux ARM</li>
<li>macOS ARM</li>
<li>Linux x86_64</li>
<li>macOS x86_64</li>
</ul>
<p>Makes sense, right? Even though my user base can be counted on a fingers of one-arm-less and second-arm-hook-equipped pirate, it’s still a thing “One Should Do”.</p>
<p>And with all that - Linux ARM failed with “command can’t be found”. <code>CUE</code> installed and ran nicely for all other 3 targets, but for some reason it failed for Linux ARM.</p>
<p>In case you don’t care about <em>why</em> I hate GitHub but your mind started to wonder to “what went wrong” let me tell you; because I know.</p>
<p>So supposedly cross build that happens in matrix is heavily isolated. When I install <code>CUE</code> I install it only on x86_64 Linux host and macOS ARM host. macOS has zero issues running x86_64 binary and no issues are raised when Linux x86_64 tries to run x86_64 binary. But GitHub Actions is nice enough to <strong>hide</strong> x86_64 binary from arm64 runner, so that it won’t break.</p>
<p>Thank you GitHub Actions. What would’ve I done without you.</p>
<h2 id="broken-loop">Broken Loop</h2>
<p>And so my least favorite feedback loop started and went like this:</p>
<ol>
<li>Search for possible fix</li>
<li>Change <code>ci.yml</code></li>
<li><code>jj squash --ignore-immutable &amp;&amp; jj git push</code> <sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup></li>
<li>Open “Actions” tab</li>
<li>Open latest run</li>
<li>Open Linux ARM run</li>
<li>Wait couple of seconds</li>
<li>Hate Life</li>
<li>Offer the Universe choice words it won’t soon forget</li>
<li>Rinse &amp; repeat</li>
</ol>
<p>I got quite efficient when it comes to points 8 and 9 but otherwise the whole loop still took around 2-3 minutes to execute.</p>
<p>FOR. A. SINGLE. CHANGE.</p>
<p>Yes. For a single change. Like having an editor with 2 minute save lag, pushing commit using program running on cassette tapes<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup> or playing chess over snail-mail. It’s 2026 for Pete’s sake, and we<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup> won’t tolerate this behavior!</p>
<p>Now of course, in some Perfect World, GitHub could have a local runner with all the bells and whistles. Or maybe something that would allow me to quickly check for progress upon the push<sup id="fnref:6"><a href="#fn:6" role="doc-noteref">6</a></sup> or even something like a “scratch commit”, i.e. a way that I could testbed different runs without polluting history of both Git and Action runs.</p>
<p>But no such perfect world exists and one is at the whim of heartless YAML-based system.</p>
<h2 id="breaking-off">Breaking off</h2>
<p>I suffered only 30 minutes of such loops. Could’ve done it for longer but I was out of colorful language to use and felt without it the process just isn’t the same.</p>
<p>There is a wise saying in the internet that goes like:</p>
<p><strong>For the love of all that is holy, don’t let GitHub Actions manage your logic. Keep your scripts under your own damn control and just make the Actions call them!</strong></p>
<p>This is what everyone should do. This is what I did.</p>
<p>I deleted <code>build.rs</code> (with a sliver of sadness because it was really nice - but sacrifices had to be made). I moved all the generation from <code>build.rs</code> to GNU Makefile, committed the darn files into repository, reverted changes to CI and called it a day. Problem solved.</p>
<h2 id="exit-code-0">Exit Code: 0</h2>
<p>GitHub Actions, Friends &amp; Gentlefolk, is the reason why we can’t have (some) nice things. I can’t count how many hours I’ve lost debugging the runners or trying to optimize the build process. It’s a sorry process every single time, a time that would be better spent elsewhere.</p>
<p>And yet there are some benefits, like macOS builds that would be quite hard to get otherwise. I don’t know any other system that would be easier to setup than GitHub Actions (if you know one, let me know) but it seems there’s no escape.</p>
<p>We are all doomed to GitHub Actions.</p>
<p>…but at least I dodged the bullet early.</p>


</article></div>
  </body>
</html>
