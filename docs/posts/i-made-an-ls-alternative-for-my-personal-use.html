<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/triyanox/lla">Original</a>
    <h1>I made an ls alternative for my personal use</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><code>lla</code> is a high-performance, extensible alternative to the traditional <code>ls</code> command, written in Rust. It offers enhanced functionality, customizable output, and a plugin system for extended capabilities.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/triyanox/lla/blob/main/lla.png?raw=true"><img src="https://github.com/triyanox/lla/raw/main/lla.png?raw=true" alt="lla in action"/></a></p>

<ul dir="auto">
<li><strong>Efficient file listing</strong>: Optimized for speed, even in large directories</li>
<li><strong>Multiple view modes</strong>:
<ul dir="auto">
<li>Default view</li>
<li>Long format (<code>-l</code>)</li>
<li>Tree view (<code>-t</code>)</li>
<li>Recursive listing (<code>-R</code>)</li>
</ul>
</li>
<li><strong>Advanced sorting</strong>:
<ul dir="auto">
<li>Alphabetical (default)</li>
<li>File size (<code>-s size</code>)</li>
<li>Modification date (<code>-s date</code>)</li>
</ul>
</li>
<li><strong>Flexible filtering</strong>: Filter by filename or extension (<code>-f, --filter</code>)</li>
<li><strong>Customizable recursion</strong>: Set maximum depth for subdirectory traversal</li>
<li><strong>Extensible plugin system</strong>: Develop and integrate custom functionality</li>
<li><strong>Color-coded output</strong>: Easily distinguish file types and permissions</li>
<li><strong>Git integration</strong>: Show git status for files (with plugin)</li>
<li><strong>File categorization</strong>: Categorize files by type (with plugin)</li>
<li><strong>Keyword search</strong>: Search file contents for specified keywords (with plugin)</li>
<li><strong>File hash display</strong>: Show file hashes (with plugin)</li>
<li><strong>Code complexity analysis</strong>: Analyze code complexity (with plugin)</li>
<li><strong>File size visualization</strong>: Visualize file sizes (with plugin)</li>
<li><strong>Duplicate file detection</strong>: Identify duplicate files (with plugin)</li>
<li><strong>Directory metadata</strong>: Display detailed directory information (with plugin)</li>
<li><strong>File metadata</strong>: Show extended file metadata (with plugin)</li>
<li><strong>Last git commit info</strong>: Display information about the last git commit (with plugin)</li>
</ul>
<p dir="auto">and more!</p>





<p dir="auto">(we see you, netbsd. we appreciate you.)</p>

<p dir="auto">First you need to initialize the configuration file:</p>
<div dir="auto" data-snippet-clipboard-copy-content="lla init
lla config # to view the config file"><pre>lla init
lla config <span><span>#</span> to view the config file</span></pre></div>
<p dir="auto">Then you can start using <code>lla</code>:</p>
<div data-snippet-clipboard-copy-content="lla [OPTIONS] [DIRECTORY]"><pre><code>lla [OPTIONS] [DIRECTORY]
</code></pre></div>

<ul dir="auto">
<li><code>-l, --long</code>: Use long listing format</li>
<li><code>-R, --recursive</code>: List subdirectories recursively</li>
<li><code>-t, --tree</code>: Display files in a tree structure</li>
<li><code>-s, --sort &lt;CRITERIA&gt;</code>: Sort by &#34;name&#34;, &#34;size&#34;, or &#34;date&#34;</li>
<li><code>-f, --filter &lt;PATTERN&gt;</code>: Filter files by name or extension</li>
<li><code>-d, --depth &lt;DEPTH&gt;</code>: Set maximum recursion depth</li>
</ul>

<ul dir="auto">
<li><code>--enable-plugin &lt;NAME&gt;</code>: Enable a specific plugin</li>
<li><code>--disable-plugin &lt;NAME&gt;</code>: Disable a specific plugin</li>
<li><code>--plugins-dir &lt;PATH&gt;</code>: Specify custom plugins directory</li>
<li><code>--plugin-arg &lt;ARG&gt;</code>: Pass arguments to enabled plugins</li>
</ul>

<p dir="auto"><code>lla</code> supports plugin-specific actions, allowing you to interact with plugins directly:</p>
<div data-snippet-clipboard-copy-content="lla plugin --name &lt;PLUGIN_NAME&gt; --action &lt;ACTION_NAME&gt; [--args &lt;ARG1&gt; &lt;ARG2&gt; ...]"><pre><code>lla plugin --name &lt;PLUGIN_NAME&gt; --action &lt;ACTION_NAME&gt; [--args &lt;ARG1&gt; &lt;ARG2&gt; ...]
</code></pre></div>
<ul dir="auto">
<li><code>--name &lt;PLUGIN_NAME&gt;</code>: Specify the name of the plugin</li>
<li><code>--action &lt;ACTION_NAME&gt;</code>: Specify the action to perform</li>
<li><code>--args &lt;ARG1&gt; &lt;ARG2&gt; ...</code>: Provide arguments for the action (optional)</li>
</ul>

<ul dir="auto">
<li><code>lla install</code>: Install plugins
<ul dir="auto">
<li><code>--git &lt;URL&gt;</code>: Install from a Git repository</li>
<li><code>--dir &lt;PATH&gt;</code>: Install from a local directory</li>
</ul>
</li>
<li><code>lla list-plugins</code>: Display all available plugins</li>
<li><code>lla init</code>: Initialize configuration file</li>
<li><code>lla config</code>: View configuration file</li>
</ul>

<p dir="auto"><code>lla</code> uses a TOML configuration file located at <code>~/.config/lla/config.toml</code>. Initialize with default settings:</p>
<div dir="auto" data-snippet-clipboard-copy-content="lla init
lla config # to view the config file"><pre>lla init
lla config <span><span>#</span> to view the config file</span></pre></div>
<p dir="auto">Example configuration:</p>
<div dir="auto" data-snippet-clipboard-copy-content="default_sort = &#34;name&#34;
default_format = &#34;default&#34;
enabled_plugins = [&#34;git_status&#34;, &#34;file_hash&#34;]
plugins_dir = &#34;/home/user/.config/lla/plugins&#34;
default_depth = 3"><pre><span>default_sort</span> = <span><span>&#34;</span>name<span>&#34;</span></span>
<span>default_format</span> = <span><span>&#34;</span>default<span>&#34;</span></span>
<span>enabled_plugins</span> = [<span><span>&#34;</span>git_status<span>&#34;</span></span>, <span><span>&#34;</span>file_hash<span>&#34;</span></span>]
<span>plugins_dir</span> = <span><span>&#34;</span>/home/user/.config/lla/plugins<span>&#34;</span></span>
<span>default_depth</span> = <span>3</span></pre></div>

<p dir="auto">You can install plugins from a local directory or from a Git repository.</p>
<p dir="auto">You can find official plugins <a href="https://github.com/triyanox/lla/blob/main/plugins.md">here</a>.</p>

<div dir="auto" data-snippet-clipboard-copy-content="lla install --git &lt;github_url&gt;"><pre>lla install --git <span>&lt;</span>github_url<span>&gt;</span></pre></div>



<p dir="auto">Develop custom plugins to extend <code>lla</code>&#39;s functionality. Plugins are dynamic libraries that implement the <code>Plugin</code> trait from the <code>lla_plugin_interface</code> crate.</p>

<ol dir="auto">
<li>
<p dir="auto">Create a new Rust library:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo new --lib my_lla_plugin"><pre>cargo new --lib my_lla_plugin</pre></div>
</li>
<li>
<p dir="auto">Add dependencies to <code>Cargo.toml</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="[dependencies]
lla_plugin_interface = &#34;*&#34;

[lib]
crate-type = [&#34;cdylib&#34;]"><pre>[<span>dependencies</span>]
<span>lla_plugin_interface</span> = <span><span>&#34;</span>*<span>&#34;</span></span>

[<span>lib</span>]
<span>crate-type</span> = [<span><span>&#34;</span>cdylib<span>&#34;</span></span>]</pre></div>
</li>
<li>
<p dir="auto">Implement the <code>Plugin</code> trait:</p>
</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="use lla_plugin_interface::{Plugin, DecoratedEntry, EntryDecorator, CliArg};

pub struct MyPlugin;

impl Plugin for MyPlugin {
    fn name(&amp;self) -&gt; &amp;&#39;static str {
        &#34;my_plugin&#34;
    }

    fn version(&amp;self) -&gt; &amp;&#39;static str {
        env!(&#34;CARGO_PKG_VERSION&#34;)
    }

    fn description(&amp;self) -&gt; &amp;&#39;static str {
        env!(&#34;CARGO_PKG_DESCRIPTION&#34;)
    }

    fn cli_args(&amp;self) -&gt; Vec&lt;CliArg&gt; {
        vec![
            CliArg {
                name: &#34;my-option&#34;.to_string(),
                short: Some(&#39;m&#39;),
                long: Some(&#34;my-option&#34;.to_string()),
                help: &#34;Description of my option&#34;.to_string(),
                takes_value: true,
            }
        ]
    }

    fn handle_cli_args(&amp;self, args: &amp;[String]) {
        // Handle CLI arguments passed to the plugin
    }

    fn perform_action(&amp;self, action: &amp;str, args: &amp;[String]) -&gt; Result&lt;(), String&gt; {
        match action {
            &#34;my-action&#34; =&gt; {
                // Perform custom action
                Ok(())
            }
            _ =&gt; Err(format!(&#34;Unknown action: {}&#34;, action)),
        }
    }
}

impl EntryDecorator for MyPlugin {
    fn decorate(&amp;self, entry: &amp;mut DecoratedEntry) {
        // Add custom fields or modify entry
    }

    fn format_field(&amp;self, entry: &amp;DecoratedEntry, format: &amp;str) -&gt; Option&lt;String&gt; {
        // Return formatted string for display
    }

    fn supported_formats(&amp;self) -&gt; Vec&lt;&amp;&#39;static str&gt; {
        vec![&#34;default&#34;, &#34;long&#34;, &#34;tree&#34;]
    }
}

lla_plugin_interface::declare_plugin!(MyPlugin);"><pre><span>use</span> lla_plugin_interface<span>::</span><span>{</span><span>Plugin</span><span>,</span> <span>DecoratedEntry</span><span>,</span> <span>EntryDecorator</span><span>,</span> <span>CliArg</span><span>}</span><span>;</span>

<span>pub</span> <span>struct</span> <span>MyPlugin</span><span>;</span>

<span>impl</span> <span>Plugin</span> <span>for</span> <span>MyPlugin</span> <span>{</span>
    <span>fn</span> <span>name</span><span>(</span><span>&amp;</span><span>self</span><span>)</span> -&gt; <span>&amp;</span><span>&#39;</span>static <span>str</span> <span>{</span>
        <span>&#34;my_plugin&#34;</span>
    <span>}</span>

    <span>fn</span> <span>version</span><span>(</span><span>&amp;</span><span>self</span><span>)</span> -&gt; <span>&amp;</span><span>&#39;</span>static <span>str</span> <span>{</span>
        <span>env</span><span>!</span><span>(</span><span>&#34;CARGO_PKG_VERSION&#34;</span><span>)</span>
    <span>}</span>

    <span>fn</span> <span>description</span><span>(</span><span>&amp;</span><span>self</span><span>)</span> -&gt; <span>&amp;</span><span>&#39;</span>static <span>str</span> <span>{</span>
        <span>env</span><span>!</span><span>(</span><span>&#34;CARGO_PKG_DESCRIPTION&#34;</span><span>)</span>
    <span>}</span>

    <span>fn</span> <span>cli_args</span><span>(</span><span>&amp;</span><span>self</span><span>)</span> -&gt; <span>Vec</span><span>&lt;</span><span>CliArg</span><span>&gt;</span> <span>{</span>
        <span>vec</span><span>!</span><span>[</span>
            <span>CliArg</span> <span>{</span>
                name: <span>&#34;my-option&#34;</span>.to_string<span>(</span><span>)</span>,
                short: <span>Some</span><span>(</span><span>&#39;m&#39;</span><span>)</span>,
                long: <span>Some</span><span>(</span><span>&#34;my-option&#34;</span>.to_string<span>(</span><span>)</span><span>)</span>,
                help: <span>&#34;Description of my option&#34;</span>.to_string<span>(</span><span>)</span>,
                takes_value: <span>true</span>,
            <span>}</span>
        <span>]</span>
    <span>}</span>

    <span>fn</span> <span>handle_cli_args</span><span>(</span><span>&amp;</span><span>self</span><span>,</span> <span>args</span><span>:</span> <span>&amp;</span><span>[</span><span>String</span><span>]</span><span>)</span> <span>{</span>
        <span>// Handle CLI arguments passed to the plugin</span>
    <span>}</span>

    <span>fn</span> <span>perform_action</span><span>(</span><span>&amp;</span><span>self</span><span>,</span> <span>action</span><span>:</span> <span>&amp;</span><span>str</span><span>,</span> <span>args</span><span>:</span> <span>&amp;</span><span>[</span><span>String</span><span>]</span><span>)</span> -&gt; <span>Result</span><span>&lt;</span><span>(</span><span>)</span><span>,</span> <span>String</span><span>&gt;</span> <span>{</span>
        <span>match</span> action <span>{</span>
            <span>&#34;my-action&#34;</span> =&gt; <span>{</span>
                <span>// Perform custom action</span>
                <span>Ok</span><span>(</span><span>(</span><span>)</span><span>)</span>
            <span>}</span>
            _ =&gt; <span>Err</span><span>(</span><span>format</span><span>!</span><span>(</span><span>&#34;Unknown action: {}&#34;</span>, action<span>)</span><span>)</span><span>,</span>
        <span>}</span>
    <span>}</span>
<span>}</span>

<span>impl</span> <span>EntryDecorator</span> <span>for</span> <span>MyPlugin</span> <span>{</span>
    <span>fn</span> <span>decorate</span><span>(</span><span>&amp;</span><span>self</span><span>,</span> <span>entry</span><span>:</span> <span>&amp;</span><span>mut</span> <span>DecoratedEntry</span><span>)</span> <span>{</span>
        <span>// Add custom fields or modify entry</span>
    <span>}</span>

    <span>fn</span> <span>format_field</span><span>(</span><span>&amp;</span><span>self</span><span>,</span> <span>entry</span><span>:</span> <span>&amp;</span><span>DecoratedEntry</span><span>,</span> <span>format</span><span>:</span> <span>&amp;</span><span>str</span><span>)</span> -&gt; <span>Option</span><span>&lt;</span><span>String</span><span>&gt;</span> <span>{</span>
        <span>// Return formatted string for display</span>
    <span>}</span>

    <span>fn</span> <span>supported_formats</span><span>(</span><span>&amp;</span><span>self</span><span>)</span> -&gt; <span>Vec</span><span>&lt;</span><span>&amp;</span><span>&#39;</span>static <span>str</span><span>&gt;</span> <span>{</span>
        <span>vec</span><span>!</span><span>[</span><span>&#34;default&#34;</span>, <span>&#34;long&#34;</span>, <span>&#34;tree&#34;</span><span>]</span>
    <span>}</span>
<span>}</span>

lla_plugin_interface<span>::</span>declare_plugin!<span>(</span><span>MyPlugin</span><span>)</span><span>;</span></pre></div>
<ol start="4" dir="auto">
<li>
<p dir="auto">Build your plugin:</p>

</li>
<li>
<p dir="auto">Install the plugin:</p>
<div dir="auto" data-snippet-clipboard-copy-content="lla install --dir /path/to/my_lla_plugin"><pre>lla install --dir /path/to/my_lla_plugin</pre></div>
<p dir="auto">or</p>
<div dir="auto" data-snippet-clipboard-copy-content="lla install --git &lt;git_repo&gt;"><pre>lla install --git <span>&lt;</span>git_repo<span>&gt;</span></pre></div>
</li>
</ol>

<p dir="auto">The <code>lla_plugin_interface</code> crate provides the following key components:</p>
<ul dir="auto">
<li><code>Plugin</code> trait: Core interface for plugin functionality</li>
<li><code>EntryDecorator</code> trait: Methods for decorating and formatting file entries</li>
<li><code>DecoratedEntry</code> struct: Represents a file entry with metadata and custom fields</li>
<li><code>CliArg</code> struct: Defines command-line arguments for the plugin</li>
</ul>

<div dir="auto" data-snippet-clipboard-copy-content="# Long format, sorted by size, showing only .rs files
lla -ls size -f .rs

# Enable git status plugin
lla --enable-plugin git_status

# Enable multiple plugins
lla --enable-plugin git_status categorizer

# Disable git status plugin
lla --disable-plugin git_status

# Disable multiple plugins
lla --disable-plugin git_status categorizer

# Set keywords for the keyword search plugin using plugin action
lla plugin --name keyword_search --action set-keywords --args &#34;TODO&#34; &#34;FIXME&#34; &#34;BUG&#34;

# Show current keywords for the keyword search plugin
lla plugin --name keyword_search --action show-keywords

# Use the keyword search plugin with the set keywords
lla --enable-plugin keyword_search"><pre><span><span>#</span> Long format, sorted by size, showing only .rs files</span>
lla -ls size -f .rs

<span><span>#</span> Enable git status plugin</span>
lla --enable-plugin git_status

<span><span>#</span> Enable multiple plugins</span>
lla --enable-plugin git_status categorizer

<span><span>#</span> Disable git status plugin</span>
lla --disable-plugin git_status

<span><span>#</span> Disable multiple plugins</span>
lla --disable-plugin git_status categorizer

<span><span>#</span> Set keywords for the keyword search plugin using plugin action</span>
lla plugin --name keyword_search --action set-keywords --args <span><span>&#34;</span>TODO<span>&#34;</span></span> <span><span>&#34;</span>FIXME<span>&#34;</span></span> <span><span>&#34;</span>BUG<span>&#34;</span></span>

<span><span>#</span> Show current keywords for the keyword search plugin</span>
lla plugin --name keyword_search --action show-keywords

<span><span>#</span> Use the keyword search plugin with the set keywords</span>
lla --enable-plugin keyword_search</pre></div>

<p dir="auto">Contributions are welcome! Please feel free to submit pull requests, report bugs, and suggest features.</p>
<ol dir="auto">
<li>Fork the repository</li>
<li>Create your feature branch (<code>git checkout -b feature/new-feature</code>)</li>
<li>Commit your changes (<code>git commit -m &#39;Add some new-feature&#39;</code>)</li>
<li>Push to the branch (<code>git push origin feature/new-feature</code>)</li>
<li>Open a Pull Request</li>
</ol>

<p dir="auto">This project is licensed under the MIT License - see the <a href="https://github.com/triyanox/lla/blob/main/LICENSE">LICENSE</a> file for details.</p>
</article></div></div>
  </body>
</html>
