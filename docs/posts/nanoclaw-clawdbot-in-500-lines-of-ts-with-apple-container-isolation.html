<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/gavrielc/nanoclaw">Original</a>
    <h1>Show HN: NanoClaw – “Clawdbot” in 500 lines of TS with Apple container isolation</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto">
  <a target="_blank" rel="noopener noreferrer" href="https://probablydance.com/gavrielc/nanoclaw/blob/main/assets/nanoclaw-logo.png"><img src="https://probablydance.com/gavrielc/nanoclaw/raw/main/assets/nanoclaw-logo.png" alt="NanoClaw" width="400"/></a>
</p>
<p dir="auto">
  My personal Claude assistant that runs securely in Apple containers. Lightweight and built to be understood and customized for your own needs.
</p>

<p dir="auto"><a href="https://github.com/openclaw/openclaw">OpenClaw</a> is an impressive project with a great vision. But I can&#39;t sleep well running software I don&#39;t understand with access to my life. OpenClaw has 52+ modules, 8 config management files, 45+ dependencies, and abstractions for 15 channel providers. Security is application-level (allowlists, pairing codes) rather than OS isolation. Everything runs in one Node process with shared memory.</p>
<p dir="auto">NanoClaw gives you the same core functionality in a codebase you can understand in 8 minutes. One process. A handful of files. Agents run in actual Linux containers with filesystem isolation, not behind permission checks.</p>

<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/gavrielc/nanoclaw.git
cd nanoclaw
claude"><pre>git clone https://github.com/gavrielc/nanoclaw.git
<span>cd</span> nanoclaw
claude</pre></div>
<p dir="auto">Then run <code>/setup</code>. Claude Code handles everything: dependencies, authentication, container setup, service configuration.</p>

<p dir="auto"><strong>Small enough to understand.</strong> One process, a few source files. No microservices, no message queues, no abstraction layers. Have Claude Code walk you through it.</p>
<p dir="auto"><strong>Secure by isolation.</strong> Agents run in Linux containers (Apple Container). They can only see what&#39;s explicitly mounted. Bash access is safe because commands run inside the container, not on your Mac.</p>
<p dir="auto"><strong>Built for one user.</strong> This isn&#39;t a framework. It&#39;s working software that fits my exact needs. You fork it and have Claude Code make it match your exact needs.</p>
<p dir="auto"><strong>Customization = code changes.</strong> No configuration sprawl. Want different behavior? Modify the code. The codebase is small enough that this is safe.</p>
<p dir="auto"><strong>AI-native.</strong> No installation wizard; Claude Code guides setup. No monitoring dashboard; ask Claude what&#39;s happening. No debugging tools; describe the problem, Claude fixes it.</p>
<p dir="auto"><strong>Skills over features.</strong> Contributors shouldn&#39;t add features (e.g. support for Telegram) to the codebase. Instead, they contribute <a href="https://code.claude.com/docs/en/skills" rel="nofollow">claude code skills</a> like <code>/add-telegram</code> that transform your fork. You end up with clean code that does exactly what you need.</p>
<p dir="auto"><strong>Best harness, best model.</strong> This runs on Claude Agent SDK, which means you&#39;re running Claude Code directly. The harness matters. A bad harness makes even smart models seem dumb, a good harness gives them superpowers. Claude Code is (IMO) the best harness available.</p>
<p dir="auto"><strong>No ToS gray areas.</strong> Because it uses Claude Agent SDK natively with no hacks or workarounds, using your subscription with your auth token is completely legitimate (I think). No risk of being shut down for terms of service violations (I am not a lawyer).</p>

<ul dir="auto">
<li><strong>WhatsApp I/O</strong> - Message Claude from your phone</li>
<li><strong>Isolated group context</strong> - Each group has its own <code>CLAUDE.md</code> memory, isolated filesystem, and runs in its own container sandbox with only that filesystem mounted</li>
<li><strong>Main channel</strong> - Your private channel (self-chat) for admin control; every other group is completely isolated</li>
<li><strong>Scheduled tasks</strong> - Recurring jobs that run Claude and can message you back</li>
<li><strong>Web access</strong> - Search and fetch content</li>
<li><strong>Container isolation</strong> - Agents sandboxed in Apple containers</li>
<li><strong>Optional integrations</strong> - Add Gmail (<code>/add-gmail</code>) and more via skills</li>
</ul>

<p dir="auto">Talk to your assistant with the trigger word (default: <code>@Andy</code>):</p>
<div data-snippet-clipboard-copy-content="@Andy send an overview of the sales pipeline every weekday morning at 9am (has access to my Obsidian vault folder)
@Andy review the git history for the past week each Friday and update the README if there&#39;s drift
@Andy every Monday at 8am, compile news on AI developments from Hacker News and TechCrunch and message me a briefing"><pre><code>@Andy send an overview of the sales pipeline every weekday morning at 9am (has access to my Obsidian vault folder)
@Andy review the git history for the past week each Friday and update the README if there&#39;s drift
@Andy every Monday at 8am, compile news on AI developments from Hacker News and TechCrunch and message me a briefing
</code></pre></div>
<p dir="auto">From the main channel (your self-chat), you can manage groups and tasks:</p>
<div data-snippet-clipboard-copy-content="@Andy list all scheduled tasks across groups
@Andy pause the Monday briefing task
@Andy join the Family Chat group"><pre><code>@Andy list all scheduled tasks across groups
@Andy pause the Monday briefing task
@Andy join the Family Chat group
</code></pre></div>

<p dir="auto">There are no configuration files to learn. Just tell Claude Code what you want:</p>
<ul dir="auto">
<li>&#34;Change the trigger word to @Bob&#34;</li>
<li>&#34;Remember in the future to make responses shorter and more direct&#34;</li>
<li>&#34;Add a custom greeting when I say good morning&#34;</li>
<li>&#34;Store conversation summaries weekly&#34;</li>
</ul>
<p dir="auto">Or run <code>/customize</code> for guided changes.</p>
<p dir="auto">The codebase is small enough that Claude can safely modify it.</p>

<p dir="auto"><strong>Don&#39;t add features. Add skills.</strong></p>
<p dir="auto">If you want to add Telegram support, don&#39;t create a PR that adds Telegram alongside WhatsApp. Instead, contribute a skill file (<code>.claude/skills/add-telegram/SKILL.md</code>) that teaches Claude Code how to transform a NanoClaw installation to use Telegram.</p>
<p dir="auto">Users then run <code>/add-telegram</code> on their fork and get clean code that does exactly what they need, not a bloated system trying to support every use case.</p>

<p dir="auto">Skills we&#39;d love to see:</p>
<p dir="auto"><strong>Communication Channels</strong></p>
<ul dir="auto">
<li><code>/add-telegram</code> - Add Telegram as channel. Should give the user option to replace WhatsApp or add as additional channel. Also should be possible to add it as a control channel (where it can trigger actions) or just a channel that can be used in actions triggered elsewhere</li>
<li><code>/add-slack</code> - Add Slack</li>
<li><code>/add-discord</code> - Add Discord</li>
</ul>
<p dir="auto"><strong>Container Runtime</strong></p>
<ul dir="auto">
<li><code>/convert-to-docker</code> - Replace Apple Container with Docker (unlocks Linux)</li>
</ul>
<p dir="auto"><strong>Platform Support</strong></p>
<ul dir="auto">
<li><code>/setup-windows</code> - Windows via WSL2 + Docker</li>
</ul>
<p dir="auto"><strong>Session Management</strong></p>
<ul dir="auto">
<li><code>/add-clear</code> - Add a <code>/clear</code> command that compacts the conversation (summarizes context while preserving critical information in the same session). Requires figuring out how to trigger compaction programmatically via the Claude Agent SDK.</li>
</ul>

<ul dir="auto">
<li>macOS Tahoe (26) or later - runs great on Mac Mini</li>
<li>Node.js 20+</li>
<li><a href="https://claude.ai/download" rel="nofollow">Claude Code</a></li>
<li><a href="https://github.com/apple/container">Apple Container</a></li>
</ul>

<div data-snippet-clipboard-copy-content="WhatsApp (baileys) --&gt; SQLite --&gt; Polling loop --&gt; Container (Claude Agent SDK) --&gt; Response"><pre><code>WhatsApp (baileys) --&gt; SQLite --&gt; Polling loop --&gt; Container (Claude Agent SDK) --&gt; Response
</code></pre></div>
<p dir="auto">Single Node.js process. Agents execute in isolated Linux containers with mounted directories. IPC via filesystem. No daemons, no queues, no complexity.</p>
<p dir="auto">Key files:</p>
<ul dir="auto">
<li><code>src/index.ts</code> - Main app: WhatsApp connection, routing, IPC</li>
<li><code>src/container-runner.ts</code> - Spawns agent containers</li>
<li><code>src/task-scheduler.ts</code> - Runs scheduled tasks</li>
<li><code>src/db.ts</code> - SQLite operations</li>
<li><code>groups/*/CLAUDE.md</code> - Per-group memory</li>
</ul>

<p dir="auto"><strong>Why WhatsApp and not Telegram/Signal/etc?</strong></p>
<p dir="auto">Because I use WhatsApp. Fork it and run a skill to change it. That&#39;s the whole point.</p>
<p dir="auto"><strong>Why Apple Container instead of Docker?</strong></p>
<p dir="auto">Lightweight, fast, and built into macOS. Requires macOS Tahoe and runs great on a Mac Mini. Contribute a skill to convert to Docker if you want Docker.</p>
<p dir="auto"><strong>Can I run this on Linux?</strong></p>
<p dir="auto">Yes. Run Claude Code and say &#34;make this run on Linux.&#34; ~30 min of back-and-forth and it&#39;ll work. When you&#39;re done, ask Claude to create a skill explaining how to make it work on Linux, then contribute the skill back to the project.</p>
<p dir="auto"><strong>Is this secure?</strong></p>
<p dir="auto">Agents run in containers, not behind application-level permission checks. They can only access explicitly mounted directories. You should still review what you&#39;re running, but the codebase is small enough that you actually can. See <a href="https://probablydance.com/gavrielc/nanoclaw/blob/main/docs/SECURITY.md">docs/SECURITY.md</a> for the full security model.</p>
<p dir="auto"><strong>Why no configuration files?</strong></p>
<p dir="auto">We don&#39;t want configuration sprawl. Every user should customize it to so that the code matches exactly what they want rather than configuring a generic system. If you like having config files, tell Claude to add them.</p>
<p dir="auto"><strong>How do I debug issues?</strong></p>
<p dir="auto">Ask Claude Code. &#34;Why isn&#39;t the scheduler running?&#34; &#34;What&#39;s in the recent logs?&#34; &#34;Why did this message not get a response?&#34; That&#39;s the AI-native approach.</p>
<p dir="auto"><strong>Why isn&#39;t the setup working for me?</strong></p>
<p dir="auto">I don&#39;t know. Run <code>claude</code>, then run <code>/debug</code>. If claude finds an issue that is likely affecting other users, open a PR to modify the setup SKILL.md.</p>
<p dir="auto"><strong>What changes will be accepted into the codebase?</strong></p>
<p dir="auto">Security fixes, bug fixes, and clear improvements to the base configuration. That&#39;s it.</p>
<p dir="auto">Everything else (new capabilities, OS compatibility, hardware support, enhancements) should be contributed as skills.</p>
<p dir="auto">This keeps the base system minimal and lets every user customize their installation without inheriting features they don&#39;t want.</p>

<p dir="auto">MIT</p>
</article></div></div>
  </body>
</html>
