<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://arstechnica.com/security/2023/10/iphone-privacy-feature-hiding-wi-fi-macs-has-failed-to-work-for-3-years/">Original</a>
    <h1>iPhones have been exposing MAC addresses despite Apple’s promises otherwise</h1>
    
    <div id="readability-page-1" class="page"><div>
        <header>
            <h4>
      THANKS, APPLE    —
</h4>
            
            <h2 itemprop="description">“From the get-go, this feature was useless,” researcher says of feature put into iOS 14.</h2>
            <section>

  


  
</section>        </header>
        <section>
            <div itemprop="articleBody">
                                    
<figure>
  <img src="https://cdn.arstechnica.net/wp-content/uploads/2023/10/private-wi-fi-address-700x674.jpg" alt="Private Wi-Fi address setting on an iPhone."/>
      <figcaption><p><a href="https://cdn.arstechnica.net/wp-content/uploads/2023/10/private-wi-fi-address.jpg" data-height="674" data-width="700">Enlarge</a> <span>/</span> Private Wi-Fi address setting on an iPhone.</p><p>Apple</p></figcaption>  </figure>

  




<!-- cache hit 184:single/related:1de00f1e0baf92100637eaa410ee42fd --><!-- empty -->
<p>Three years ago, Apple introduced a privacy-enhancing feature that hid the Wi-Fi address of iPhones and iPads when they joined a network. On Wednesday, the world learned that the feature has never worked as advertised. Despite promises that this never-changing address would be hidden and replaced with a private one that was unique to each SSID, Apple devices have continued to display the real one, which in turn got broadcast to every other connected device on the network.</p>
<p>The problem is that a Wi-Fi media access control address—typically called a m<span lang="en"><span>edia access control</span></span> address or simply a MAC—can be used to track individuals from network to network, in much the way a license plate number can be used to track a vehicle as it moves around a city. Case in point: In 2013, a researcher unveiled a proof-of-concept device that logged the MAC of all devices it came into contact with. The idea was to distribute lots of them throughout a neighborhood or city and build a profile of iPhone users, including the social media sites they visited and the many locations they visited each day.
</p><p>In the decade since, HTTPS-encrypted communications have become standard, so the ability of people on the same network to monitor other people&#39;s traffic is generally not feasible. Still, a permanent MAC provides plenty of trackability, even now.</p>
<p>As I <a href="https://arstechnica.com/information-technology/2013/08/diy-stalker-boxes-spy-on-wi-fi-users-cheaply-and-with-maximum-creep-value/">wrote at the time</a>:</p>
<blockquote><p>Enter CreepyDOL, a low-cost, distributed network of Wi-Fi sensors that stalks people as they move about neighborhoods or even entire cities. At 4.5 inches by 3.5 inches by 1.25 inches, each node is small enough to be slipped into a wall socket at the nearby gym, cafe, or break room. And with the ability for each one to share the Internet traffic it collects with every other node, the system can assemble a detailed dossier of personal data, including the schedules, e-mail addresses, personal photos, and current or past whereabouts of the person or people it monitors.</p></blockquote>
<p>In 2020, Apple released iOS 14 with a feature that, by default, <a href="https://support.apple.com/en-us/102509">hid Wi-Fi MACs</a> when devices connected to a network. Instead, the device displayed what Apple called a “private Wi-Fi address” that was different for each SSID. Over time, Apple has enhanced the feature, for instance, by allowing users to assign a new private Wi-Fi address for a given SSID.</p>                                            
                                                        
<p>On Wednesday, Apple <a href="https://arstechnica.com/gadgets/2023/10/ios-17-1-macos-14-1-and-other-apple-updates-arrive-with-a-few-new-tricks/">released iOS 17.1</a>. Among the various fixes was a patch for a vulnerability, tracked as <a href="https://www.tenable.com/cve/CVE-2023-42846">CVE-2023-42846</a>, which prevented the privacy feature from working. Tommy Mysk, one of the two security researchers Apple credited with discovering and reporting the vulnerability (Talal Haj Bakry was the other), told Ars that he tested all recent iOS releases and found the flaw dates back to version 14, released in September 2020.</p>
<p>“From the get-go, this feature was useless because of this bug,” he said. “We couldn&#39;t stop the devices from sending these discovery requests, even with a VPN. Even in the Lockdown Mode.”</p>
<p>When an iPhone or any other device joins a network, it triggers a multicast message that is sent to all other devices on the network. By necessity, this message must include a MAC. Beginning with iOS 14, this value was, by default, different for each SSID.</p>
<p>To the casual observer, the feature appeared to work as advertised. The “source” listed in the request was the private Wi-Fi address. Digging a little further, however, it became clear that the real permanent MAC was still broadcast to all other connected devices, just in a different field of the request.</p>
<p>Mysk published a short video showing a Mac using the Wireshark packet sniffer to monitor traffic on the local network the Mac is connected to. When an iPhone running iOS prior to version 17.1 joins, it shares its real Wi-Fi MAC on port 5353/UDP.</p>
<figure><p><iframe type="text/html" width="560" height="315" src="https://www.youtube.com/embed/T3XABxNogTA?si=m9uUdyypDD6Zi1nD?start=0&amp;wmode=transparent" frameborder="0" allowfullscreen=""></iframe></p><figcaption><p>Upgrade to iOS 17.1 to prevent your iPhone from being tracked across Wi-Fi networks.</p></figcaption></figure>
<p>In fairness to Apple, the feature wasn&#39;t useless, because it did prevent passive sniffing by devices such as the above-referenced CreepyDOL. But the failure to remove the real MAC from port 5353/UDP still meant that anyone connected to a network could pull the unique identifier with no trouble.</p>
<p>The fallout for most iPhone and iPad users is likely to be minimal, if at all. But for people with strict privacy threat models, the failure of these devices to hide real MACs for three years could be a real problem, particularly given Apple&#39;s express promise that using the feature &#34;helps reduce tracking of your iPhone across different Wi-Fi networks.&#34;</p>
<p>Apple hasn’t explained how a failure as basic as this one escaped notice for so long. The advisory the company issued Wednesday said only that the fix worked by “removing the vulnerable code.”</p>
<p><em>This post has been updated to add paragraphs 3 and 11 to provide additional context.</em></p>

                                                </div>

            
            
        </section>
    </div></div>
  </body>
</html>
