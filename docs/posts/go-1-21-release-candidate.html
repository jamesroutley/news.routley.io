<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://go.dev/blog/go1.21rc">Original</a>
    <h1>Go 1.21 Release Candidate</h1>
    
    
<div id="blog"><div id="content">
  <div id="content">

    <div class="Article" data-slug="/blog/go1.21rc">
    
    <h1 class="small"><a href="/blog/">The Go Blog</a></h1>
    

    <h1>Go 1.21 Release Candidate</h1>
      
      <p class="author">
      Eli Bendersky, on behalf of the Go team<br>
      21 June 2023
      </p>
      
      <p>The Go 1.21 first Release Candidate (RC) is available today on the <a href="/dl/#go1.21rc2">download
page</a>! Go 1.21 is packed with new features and improvements.
Getting the RC (release candidate) allows you to experiment with it early, try
it on your workloads, and report any issues before the final release (scheduled
for August). Here are some notable changes and features in Go 1.21; for the full
list, refer to the <a href="https://tip.golang.org/doc/go1.21" rel="noreferrer" target="_blank">full release notes</a>.</p>
<p><em>(Please note that the first RC for Go 1.21 is called <code>go1.21rc2</code>
because a bug was found and fixed after tagging <code>go1.21rc1</code>)</em></p>
<h2 id="tool-improvements">Tool improvements</h2>
<ul>
<li>The Profile Guided Optimization (PGO) feature we <a href="/blog/pgo-preview">announced for preview in
1.20</a> is now generally available! If a file named
<code>default.pgo</code> is present in the main package’s directory, the <code>go</code> command
will use it to enable a PGO build. See the <a href="/doc/pgo">PGO documentation</a> for
more details. We’ve measured the impact of PGO on a wide set of Go programs and
see performance improvements of 2-7%.</li>
<li>The <a href="/cmd/go"><code>go</code> tool</a> now supports <a href="https://tip.golang.org/doc/godebug" rel="noreferrer" target="_blank">backward</a>
and <a href="/doc/toolchain">forward</a> language compatibility.</li>
</ul>
<h2 id="language-changes">Language changes</h2>
<ul>
<li>New built-in functions: <a href="https://tip.golang.org/ref/spec#Min_and_max" rel="noreferrer" target="_blank">min, max</a>
and <a href="https://tip.golang.org/ref/spec#Clear" rel="noreferrer" target="_blank">clear</a>.</li>
<li>Several improvements to type inference for generic functions. The description of
<a href="https://tip.golang.org/ref/spec#Type_inference" rel="noreferrer" target="_blank">type inference in the spec</a>
has been expanded and clarified.</li>
<li>In a future version of Go we’re planning to address one of the most common
gotchas of Go programming:
<a href="https://go.dev/wiki/CommonMistakes" rel="noreferrer" target="_blank">loop variable capture</a>.
Go 1.21 comes with a preview of this feature that you can enable in your code
using an environment variable. See <a href="https://go.dev/wiki/LoopvarExperiment" rel="noreferrer" target="_blank">this LoopvarExperiment wiki
page</a> for more details.</li>
</ul>
<h2 id="standard-library-additions">Standard library additions</h2>
<ul>
<li>New <a href="https://tip.golang.org/pkg/log/slog" rel="noreferrer" target="_blank">log/slog</a> package for structured logging.</li>
<li>New <a href="https://tip.golang.org/pkg/slices" rel="noreferrer" target="_blank">slices</a> package for common operations
on slices of any element type. This includes sorting functions that are generally
faster and more ergonomic than the <a href="https://tip.golang.org/pkg/sort" rel="noreferrer" target="_blank">sort</a> package.</li>
<li>New <a href="https://tip.golang.org/pkg/maps" rel="noreferrer" target="_blank">maps</a> package for common operations on maps
of any key or element type.</li>
<li>New <a href="https://tip.golang.org/pkg/cmp" rel="noreferrer" target="_blank">cmp</a> package with new utilities for comparing
ordered values.</li>
</ul>
<h2 id="improved-performance">Improved performance</h2>
<p>In addition to the performance improvements when enabling PGO:</p>
<ul>
<li>The Go compiler itself has been rebuilt with PGO enabled for 1.21, and as a
result it builds Go programs 2-4% faster, depending on the host architecture.</li>
<li>Due to tuning of the garbage collector, some applications may see up to a 40%
reduction in tail latency.</li>
<li>Collecting traces with <a href="https://pkg.go.dev/runtime/trace" rel="noreferrer" target="_blank">runtime/trace</a> now
incurs a substantially smaller CPU cost on amd64 and arm64.</li>
</ul>
<h2 id="a-new-port-to-wasi">A new port to WASI</h2>
<p>Go 1.21 adds an experimental port for <a href="https://wasi.dev/" rel="noreferrer" target="_blank">WebAssembly System Interface (WASI)</a>,
Preview 1 (<code>GOOS=wasip1</code>, <code>GOARCH=wasm</code>).</p>
<p>To facilitate writing more general WebAssembly (WASM) code, the compiler also
supports a new directive for importing functions from the WASM host:
<code>go:wasmimport</code>.</p>
<p>Please <a href="/dl/#go1.21rc2">download the Go 1.21 RC</a> and try it! If you notice any
problems, please <a href="/issue/new">file an issue</a>.</p>

    </div>

    
    <div class="Article prevnext">
    
    
      
        <p>
        
        
          
            <b>Previous article: </b><a href="/blog/survey2023-q1-results">Go Developer Survey 2023 Q1 Results</a><br>
          
        
        <b><a href="/blog/all">Blog Index</a></b>
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    </div>
    

  </div>
</div>

<script src="/js/jquery.js"></script>
<script src="/js/playground.js"></script>
<script src="/js/play.js"></script>
<script src="/js/godocs.js"></script>


  </body>
</html>
