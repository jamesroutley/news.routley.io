<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ldirer.com/blog/posts/pycharm-tips">Original</a>
    <h1>Some PyCharm tips</h1>
    
    <div id="readability-page-1" class="page"><div><p>Because discussing shortcuts and configuration with coworkers isn&#39;t always the most exciting conversation, I wrote it down instead.</p>
<h2 id="shortcuts"><a href="#shortcuts"><span>Read the &#34;Shortcuts&#34; section</span><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
              <path d="M13.0607 8.11097L14.4749 9.52518C17.2086 12.2589 17.2086 16.691 14.4749 19.4247L14.1214 19.7782C11.3877 22.5119 6.95555 22.5119 4.22188 19.7782C1.48821 17.0446 1.48821 12.6124 4.22188 9.87874L5.6361 11.293C3.68348 13.2456 3.68348 16.4114 5.6361 18.364C7.58872 20.3166 10.7545 20.3166 12.7072 18.364L13.0607 18.0105C15.0133 16.0578 15.0133 12.892 13.0607 10.9394L11.6465 9.52518L13.0607 8.11097ZM19.7782 14.1214L18.364 12.7072C20.3166 10.7545 20.3166 7.58872 18.364 5.6361C16.4114 3.68348 13.2456 3.68348 11.293 5.6361L10.9394 5.98965C8.98678 7.94227 8.98678 11.1081 10.9394 13.0607L12.3536 14.4749L10.9394 15.8891L9.52518 14.4749C6.79151 11.7413 6.79151 7.30911 9.52518 4.57544L9.87874 4.22188C12.6124 1.48821 17.0446 1.48821 19.7782 4.22188C22.5119 6.95555 22.5119 11.3877 19.7782 14.1214Z"></path>
              </svg></span></a>Shortcuts</h2>
<h3 id="essentials"><a href="#essentials"><span>Read the &#34;Essentials&#34; section</span><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
              <path d="M13.0607 8.11097L14.4749 9.52518C17.2086 12.2589 17.2086 16.691 14.4749 19.4247L14.1214 19.7782C11.3877 22.5119 6.95555 22.5119 4.22188 19.7782C1.48821 17.0446 1.48821 12.6124 4.22188 9.87874L5.6361 11.293C3.68348 13.2456 3.68348 16.4114 5.6361 18.364C7.58872 20.3166 10.7545 20.3166 12.7072 18.364L13.0607 18.0105C15.0133 16.0578 15.0133 12.892 13.0607 10.9394L11.6465 9.52518L13.0607 8.11097ZM19.7782 14.1214L18.364 12.7072C20.3166 10.7545 20.3166 7.58872 18.364 5.6361C16.4114 3.68348 13.2456 3.68348 11.293 5.6361L10.9394 5.98965C8.98678 7.94227 8.98678 11.1081 10.9394 13.0607L12.3536 14.4749L10.9394 15.8891L9.52518 14.4749C6.79151 11.7413 6.79151 7.30911 9.52518 4.57544L9.87874 4.22188C12.6124 1.48821 17.0446 1.48821 19.7782 4.22188C22.5119 6.95555 22.5119 11.3877 19.7782 14.1214Z"></path>
              </svg></span></a>Essentials</h3>
<p><code>CTRL+SHIFT+A</code>  is the shortcut I find the most useful.</p>
<p>It opens the &#39;Actions&#39; search modal, an equivalent of the &#39;command palette&#39; in VS Code.</p>
<p>I use it to:</p>
<ul>
<li>do something but I don&#39;t know where the button is</li>
<li>get the keyboard shortcut for something (displayed in search results)</li>
<li>assign a new shortcut to something (once you found an action, there&#39;s an option to create a shortcut for it at the bottom of the search results)</li>
</ul>
<p>I also recommend the &#39;Key Promoter X&#39; plugin as a tool to learn new keyboard shortcuts.</p>
<h3 id="what-i-use"><a href="#what-i-use"><span>Read the &#34;What I use&#34; section</span><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
              <path d="M13.0607 8.11097L14.4749 9.52518C17.2086 12.2589 17.2086 16.691 14.4749 19.4247L14.1214 19.7782C11.3877 22.5119 6.95555 22.5119 4.22188 19.7782C1.48821 17.0446 1.48821 12.6124 4.22188 9.87874L5.6361 11.293C3.68348 13.2456 3.68348 16.4114 5.6361 18.364C7.58872 20.3166 10.7545 20.3166 12.7072 18.364L13.0607 18.0105C15.0133 16.0578 15.0133 12.892 13.0607 10.9394L11.6465 9.52518L13.0607 8.11097ZM19.7782 14.1214L18.364 12.7072C20.3166 10.7545 20.3166 7.58872 18.364 5.6361C16.4114 3.68348 13.2456 3.68348 11.293 5.6361L10.9394 5.98965C8.98678 7.94227 8.98678 11.1081 10.9394 13.0607L12.3536 14.4749L10.9394 15.8891L9.52518 14.4749C6.79151 11.7413 6.79151 7.30911 9.52518 4.57544L9.87874 4.22188C12.6124 1.48821 17.0446 1.48821 19.7782 4.22188C22.5119 6.95555 22.5119 11.3877 19.7782 14.1214Z"></path>
              </svg></span></a>What I use</h3>
<p>Your key combination might differ (I&#39;ve customized some). Use the &#39;CTRL+SHIFT+A&#39; shortcut to find your specific bindings.</p>
<p><strong>Code:</strong></p>
<ul>
<li><code>Ctrl+Space</code>: Code completion. To use <code>LongClassNameFromThatPackage</code> I type <code>LongClass&lt;completion shortcut, multiple times&gt;</code>, then select the relevant option: the name completes and the import is added if it was missing. Amazing!</li>
<li><code>Alt+Enter</code>: Show intention actions. For example, if <code>User</code> is underlined in red because it&#39;s not imported, I place the cursor on <code>User</code> and hit <code>alt+enter</code>. PyCharm offers to import it.
Useful in many situations (not just imports!), whenever a &#39;light bulb&#39; icon appears.</li>
<li><code>ALT+J</code>: Add a cursor on the next occurrence of selected text. I use the IdeaVim plugin but occasionally toggle out of it for multi-cursor text editing.</li>
<li><code>SHIFT+F6</code>: Rename variable/file. Part of &#39;refactoring&#39; options.</li>
</ul>
<p><strong>Navigate in code:</strong></p>
<ul>
<li><code>CTRL+B</code>: Go to declaration. Also doubles as &#39;find usages&#39;.</li>
<li><code>Alt+left</code>: Navigate &gt; Back. Useful after a &#39;go to definition&#39; to get back to the original place. I customized the bindings for this shortcut.</li>
<li><code>CTRL+SHIFT+ALT+DOWN/UP</code>: Go to the next/previous &#39;version control change&#39;. I changed the bindings to <code>ALT+N/ALT+B</code> due to conflicts with window management in my environment. I use this frequently to navigate to modified lines.</li>
</ul>
<p><strong>Navigate between files:</strong></p>
<ul>
<li><code>CTRL+E</code>: Recent files. I use this constantly, especially when toggling between two files.</li>
<li><code>CTRL+SHIFT+N</code>: Search for and open a project file.</li>
<li><code>ALT+F1</code> + <code>Enter</code>: Show the current open file in the file tree (&#39;Project view&#39;) without manually clicking through folders.</li>
</ul>
<p><strong>Things I use occasionally:</strong></p>
<ul>
<li><code>SHIFT+SHIFT</code>: Search everywhere. The specialized variants are also useful.</li>
<li><code>CTRL+SHIFT+N/V</code>: Inline/extract variable.</li>
<li><code>CTRL+SHIFT+I</code>: Quick info. A preview of where &#39;go to declaration&#39; would go. Convenient to avoid navigating away.</li>
<li><code>CTRL+P</code>: Parameter info. Useful for a quick look at a function signature.</li>
<li><code>CTRL+SHIFT+P</code>: Type info for the thing under cursor.</li>
<li><code>CTRL+SHIFT+ALT+C</code>: Copy the path to the current line. Something like: <code>src/scripts/cli.py:13</code>.
Useful for sharing specific code locations with coworkers. The command is part of a &#39;Copy Path/reference&#39; menu.</li>
<li><code>CTRL+ALT+Z</code>: Version control &#39;revert&#39;. I often use this to view the code before my changes. I revert my changes to see the original code, then &#39;undo&#39; the revert.
The gutter color indicates the lines that will be affected.</li>
</ul>
<p><strong>Things I don&#39;t really use:</strong></p>
<ul>
<li>Bookmarks: I don&#39;t use them much, though they seem useful when frequently going back to specific locations.</li>
<li>Auto reformat code: On most projects I favor precommit hooks for consistent formatting. I might still use the shortcut while writing code but I don&#39;t care that it is not the source of truth.</li>
<li>Navigation between tabs (and more) with the &#39;Switcher&#39; (<code>CTRL+TAB</code>). I&#39;m happy enough with &#39;recent files&#39; and other shortcuts.</li>
</ul>
<h2 id="navigate-to-data-files-using-go-to-source"><a href="#navigate-to-data-files-using-go-to-source"><span>Read the &#34;Navigate to data files using &#39;go to source&#39;&#34; section</span><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
              <path d="M13.0607 8.11097L14.4749 9.52518C17.2086 12.2589 17.2086 16.691 14.4749 19.4247L14.1214 19.7782C11.3877 22.5119 6.95555 22.5119 4.22188 19.7782C1.48821 17.0446 1.48821 12.6124 4.22188 9.87874L5.6361 11.293C3.68348 13.2456 3.68348 16.4114 5.6361 18.364C7.58872 20.3166 10.7545 20.3166 12.7072 18.364L13.0607 18.0105C15.0133 16.0578 15.0133 12.892 13.0607 10.9394L11.6465 9.52518L13.0607 8.11097ZM19.7782 14.1214L18.364 12.7072C20.3166 10.7545 20.3166 7.58872 18.364 5.6361C16.4114 3.68348 13.2456 3.68348 11.293 5.6361L10.9394 5.98965C8.98678 7.94227 8.98678 11.1081 10.9394 13.0607L12.3536 14.4749L10.9394 15.8891L9.52518 14.4749C6.79151 11.7413 6.79151 7.30911 9.52518 4.57544L9.87874 4.22188C12.6124 1.48821 17.0446 1.48821 19.7782 4.22188C22.5119 6.95555 22.5119 11.3877 19.7782 14.1214Z"></path>
              </svg></span></a>Navigate to data files using &#39;go to source&#39;</h2>
<p>Sometimes the code loads some data files and I want to view their content (fairly common in tests).</p>
<p>For example:</p>
<pre><code><span>@pytest</span>.fixture
def <span>response_data_ok</span>() -&gt; <span>dict</span>:
    return <span>load_file</span>(<span>&#34;response_data_ok.json&#34;</span>)
</code></pre>
<p><strong>Goal:</strong> With the cursor on the filename string, &#39;go to declaration&#39; opens the relevant json file.</p>
<p>This works if:</p>
<ol>
<li>
<p>The <code>load_file</code> function uses correct type hints:</p>
<pre><code> <span>def</span> <span>load_file</span>(<span>fname: os.PathLike | <span>str</span></span>):
     <span>with</span> <span>open</span>(os.path.join(TEST_DATA_DIR, fname), <span>&#34;rb&#34;</span>) <span>as</span> f:
         <span>return</span> json.load(f)
</code></pre>
</li>
<li>
<p>In PyCharm, the folder where the json file lives is <strong>marked as Resource root</strong> (right click &gt; mark directory as &gt; Resource root).</p>
</li>
</ol>
<p>My understanding is that PyCharm looks for file names in all resource folders and jumps to the first match (meaning this isn&#39;t perfect and conflicts might occur).</p>
<h2 id="personal-preference-old-local-changes-tab"><a href="#personal-preference-old-local-changes-tab"><span>Read the &#34;Personal preference: old &#39;local changes&#39; tab&#34; section</span><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
              <path d="M13.0607 8.11097L14.4749 9.52518C17.2086 12.2589 17.2086 16.691 14.4749 19.4247L14.1214 19.7782C11.3877 22.5119 6.95555 22.5119 4.22188 19.7782C1.48821 17.0446 1.48821 12.6124 4.22188 9.87874L5.6361 11.293C3.68348 13.2456 3.68348 16.4114 5.6361 18.364C7.58872 20.3166 10.7545 20.3166 12.7072 18.364L13.0607 18.0105C15.0133 16.0578 15.0133 12.892 13.0607 10.9394L11.6465 9.52518L13.0607 8.11097ZM19.7782 14.1214L18.364 12.7072C20.3166 10.7545 20.3166 7.58872 18.364 5.6361C16.4114 3.68348 13.2456 3.68348 11.293 5.6361L10.9394 5.98965C8.98678 7.94227 8.98678 11.1081 10.9394 13.0607L12.3536 14.4749L10.9394 15.8891L9.52518 14.4749C6.79151 11.7413 6.79151 7.30911 9.52518 4.57544L9.87874 4.22188C12.6124 1.48821 17.0446 1.48821 19.7782 4.22188C22.5119 6.95555 22.5119 11.3877 19.7782 14.1214Z"></path>
              </svg></span></a>Personal preference: old &#39;local changes&#39; tab</h2>
<p>For a couple of years I have been using an old version of the &#39;local changes&#39; tab. I find it nice to <code>git reset HEAD~1</code> and have the highlighting of all changes in the commit.</p>
<p><a href="https://intellij-support.jetbrains.com/hc/en-us/community/posts/360008229959-Version-control-local-changes-tab-missing-in-2020-1">Other people sharing my feeling.</a></p>
<h2 id="open-issues"><a href="#open-issues"><span>Read the &#34;Open issues&#34; section</span><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
              <path d="M13.0607 8.11097L14.4749 9.52518C17.2086 12.2589 17.2086 16.691 14.4749 19.4247L14.1214 19.7782C11.3877 22.5119 6.95555 22.5119 4.22188 19.7782C1.48821 17.0446 1.48821 12.6124 4.22188 9.87874L5.6361 11.293C3.68348 13.2456 3.68348 16.4114 5.6361 18.364C7.58872 20.3166 10.7545 20.3166 12.7072 18.364L13.0607 18.0105C15.0133 16.0578 15.0133 12.892 13.0607 10.9394L11.6465 9.52518L13.0607 8.11097ZM19.7782 14.1214L18.364 12.7072C20.3166 10.7545 20.3166 7.58872 18.364 5.6361C16.4114 3.68348 13.2456 3.68348 11.293 5.6361L10.9394 5.98965C8.98678 7.94227 8.98678 11.1081 10.9394 13.0607L12.3536 14.4749L10.9394 15.8891L9.52518 14.4749C6.79151 11.7413 6.79151 7.30911 9.52518 4.57544L9.87874 4.22188C12.6124 1.48821 17.0446 1.48821 19.7782 4.22188C22.5119 6.95555 22.5119 11.3877 19.7782 14.1214Z"></path>
              </svg></span></a>Open issues</h2>
<p>If you have a solution for these issues I&#39;d love to hear them!</p>
<ul>
<li>
<p>Noisy import suggestions: Sometimes, with many packages installed in a Python virtual environment, PyCharm offers multiple versions of imports. For example, with pytest, it might suggest <code>celery.contrib.pytest</code> or <code>jedi.plugins.pytest</code>.</p>
</li>
<li>
<p>The setup that allows to navigate to data files seems to mess up renaming a file (this only relates to non-python files, for instance the json file from the fixture).
This is a very marginal issue but if there&#39;s a simple solution I&#39;d take it!</p>
</li>
</ul></div></div>
  </body>
</html>
