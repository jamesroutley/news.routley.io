<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/oconnor663/blake3-6502">Original</a>
    <h1>Show HN: The BLAKE3 hash function running on a 6502 microprocessor</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
          <article itemprop="text">
<p dir="auto"><a href="https://blake3.io" rel="nofollow">BLAKE3</a> is a cryptographic hash function. The <a href="https://en.wikipedia.org/wiki/MOS_Technology_6502" rel="nofollow">MOS
6502</a> is the classic
8-bit microprocessor that powered the Apple II, the
Commodore 64, and the NES console. This implementation of BLAKE3
runs on <a href="https://eater.net/6502" rel="nofollow">Ben Eater&#39;s 6502 breadboard computer</a>.
Source code is in <a href="https://github.com/oconnor663/blake3-6502/blob/main/rom.s"><code>rom.s</code></a>.</p>
<p><a target="_blank" rel="noopener noreferrer" href="https://github.com/oconnor663/blake3-6502/blob/main/photo.jpg"><img src="https://github.com/oconnor663/blake3-6502/raw/main/photo.jpg" height="500px"/></a></p>
<p dir="auto">This program loops over the <a href="https://github.com/BLAKE3-team/BLAKE3/blob/master/test_vectors/test_vectors.json">BLAKE3 test
vectors</a>
and hashes each one. Then it hashes a couple more inputs, including the
one shown in the photo above, 1 MB of all zeros. This is larger
than the 6502&#39;s 64 KiB of addressable memory, and with a 1 MHz
clock it takes 17.7 minutes. You can reproduce the same result with
<a href="https://github.com/BLAKE3-team/BLAKE3/tree/master/b3sum"><code>b3sum</code></a> in
the terminal:</p>
<div data-snippet-clipboard-copy-content="$ head -c 1000000 /dev/zero | b3sum --length=8
c211bb2e5afbd0ef  -"><pre>$ head -c 1000000 /dev/zero <span>|</span> b3sum --length=8
c211bb2e5afbd0ef  -</pre></div>
<p dir="auto">You can also run this program in the terminal with <code>make emulate</code>. This
requires <a href="https://rustup.rs/" rel="nofollow">Rust and Cargo</a>. The emulator is based on
the <a href="https://github.com/GarettCooper/emulator_6502"><code>emulator_6502</code></a>
Rust crate by Garett Cooper.</p>
</article>
        </div></div>
  </body>
</html>
