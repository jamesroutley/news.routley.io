<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/elfvingralf/macOSpilot-ai-assistant">Original</a>
    <h1>Show HN: Open-source macOS AI copilot (using vision and voice)</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">macOSpilot answers your questions about anything, in any application. No need to reach for another window. Simply use a keyboard shortcut to trigger the assistant, speak your question, and it will give the answer in context and in audio within seconds. Behind the scenes macOSpilot takes a screenshot of your active window when triggerd, and sends it to OpenAI GPT Vision along with a transcript of your question. It&#39;s answer will be displayed in text, and converted into audio using OpenAI TTS (text to speech).</p>
<details open="">
  <summary>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z"></path>
</svg>
    <span aria-label="Video description file.size.demo.with.subtitles.mp4">file.size.demo.with.subtitles.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/94417497/287926991-5a9e9288-0479-4def-9a87-451dddd783af.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTEiLCJleHAiOjE3MDIzOTQzNDEsIm5iZiI6MTcwMjM5NDA0MSwicGF0aCI6Ii85NDQxNzQ5Ny8yODc5MjY5OTEtNWE5ZTkyODgtMDQ3OS00ZGVmLTlhODctNDUxZGRkZDc4M2FmLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFJV05KWUFYNENTVkVINTNBJTJGMjAyMzEyMTIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjMxMjEyVDE1MTQwMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTAxZGZlMjMzOTdhMWQxMjAxNDMzMDA0MDMzOGMzZTdmYmZkY2ZjNDJkNTZmMDY1MGM3YWUwYWFhODAwOTE2YjUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.9bWvNiXEkN1M26LJS33H6SJd7DQAAxzn_NEtutOwJhs" data-canonical-src="https://private-user-images.githubusercontent.com/94417497/287926991-5a9e9288-0479-4def-9a87-451dddd783af.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTEiLCJleHAiOjE3MDIzOTQzNDEsIm5iZiI6MTcwMjM5NDA0MSwicGF0aCI6Ii85NDQxNzQ5Ny8yODc5MjY5OTEtNWE5ZTkyODgtMDQ3OS00ZGVmLTlhODctNDUxZGRkZDc4M2FmLm1wND9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFJV05KWUFYNENTVkVINTNBJTJGMjAyMzEyMTIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjMxMjEyVDE1MTQwMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPTAxZGZlMjMzOTdhMWQxMjAxNDMzMDA0MDMzOGMzZTdmYmZkY2ZjNDJkNTZmMDY1MGM3YWUwYWFhODAwOTE2YjUmWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.9bWvNiXEkN1M26LJS33H6SJd7DQAAxzn_NEtutOwJhs" controls="controls" muted="muted">

  </video>
</details>

<ul dir="auto">
<li><strong>Works with any application in macOS:</strong> macOSpilot is application agnostic, and simply takes a screenshot of the currently active window when you trigger the assistant.</li>
<li><strong>Trigger with keyboard shortcut, speak your question:</strong> No need to juggle windows, just press the keyboard shortcut and speak your question.</li>
<li><strong>Answers in-context and in audio:</strong> The answer to your question is provided in an small window overlayed on top of your active window, and in audio (using text-to-speech).</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-how-it-works" aria-hidden="true" tabindex="-1" href="#how-it-works"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>How it works</h2>
<ol dir="auto">
<li>macOSpilot runs NodeJS/Electron. Simply install the NodeJS project and dependencies (see below) and make the necessary configurations in <code>index.js</code>. Then chose to run <code>yarn start</code> from the terminal, or package it with Electron with the instructions below, add your OpenAI API key and let the application run in the background.</li>
<li>When you need to use macOSpilot, press the keyboard shortcut you&#39;ve configured (default is Command+Shift+&#39;). macOSpilot will take a screenshot of your currently active macOS application window and activate the microphone.</li>
<li>Speak your question into your microphone and then press the same keyboard shortcut to end the microphone recording.</li>
<li>macOSpilot will send your question to OpenAI&#39;s Whisper API, and the transcription will be sent to OpenAI&#39;s Vision API along with the screenshot.</li>
<li>The Vision API response will be displayed in a small notification window on top of your active macOS application window, and read outloud once it&#39;s been processed by OpenAI&#39;s TTS (text to speech) API.</li>
<li>A simple history of answers to your questions in the current session is available in another window that you can hide/minimize.</li>
</ol>
<p dir="auto">The most recent screenshot, audio recording, and TTS response will be stored on your machine in part for debugging purposes. The same filename is used every time so they will be overwritten, but are not automatically deleted when you close or delete the application.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-getting-started" aria-hidden="true" tabindex="-1" href="#getting-started"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Getting Started</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-video-walk-through" aria-hidden="true" tabindex="-1" href="#video-walk-through"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Video walk-through</h3>
<p dir="auto">Prefer a video? Head on over to YouTube to watch the walk through of how to get started, how the application works, and a brief explanation of how it works under the hood.</p>
<p dir="auto"><a href="https://www.youtube.com/watch?v=1IdCWqTZLyA" rel="nofollow"><img src="https://private-user-images.githubusercontent.com/94417497/289893066-e96e314f-6778-42e5-8a9b-04ce9e6fc0b9.jpg?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTEiLCJleHAiOjE3MDIzOTQzNDEsIm5iZiI6MTcwMjM5NDA0MSwicGF0aCI6Ii85NDQxNzQ5Ny8yODk4OTMwNjYtZTk2ZTMxNGYtNjc3OC00MmU1LThhOWItMDRjZTllNmZjMGI5LmpwZz9YLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFJV05KWUFYNENTVkVINTNBJTJGMjAyMzEyMTIlMkZ1cy1lYXN0LTElMkZzMyUyRmF3czRfcmVxdWVzdCZYLUFtei1EYXRlPTIwMjMxMjEyVDE1MTQwMVomWC1BbXotRXhwaXJlcz0zMDAmWC1BbXotU2lnbmF0dXJlPWI4ZTkyYjVlYjE2MjcwMTE4YjBlZWFlZTk3Y2Y5MDg0NWZjYjExZjM0MWZkY2YzNzc0ZDQzMGY5ZjE3NTZhMDImWC1BbXotU2lnbmVkSGVhZGVycz1ob3N0JmFjdG9yX2lkPTAma2V5X2lkPTAmcmVwb19pZD0wIn0.sFS6anPS2ZH2JlH1CAZWBuZmFhbrV7p3TusoHxAn8LQ" alt="YouTube walk-through and tutorial" secured-asset-link=""/></a></p>
<h3 tabindex="-1" dir="auto"><a id="user-content-install" aria-hidden="true" tabindex="-1" href="#install"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Install</h3>
<p dir="auto">Make sure you have NodeJS installed on your machine. Then clone the repo and follow the steps below.</p>
<div dir="auto" data-snippet-clipboard-copy-content="
git  clone  https://github.com/elfvingralf/macOSpilot-ai-assistant.git
"><pre>git  clone  https://github.com/elfvingralf/macOSpilot-ai-assistant.git
</pre></div>
<p dir="auto">Navigate to the folder and run <code>yarn install</code> or <code>npm install</code> in your folder. This should install all dependencies.</p>
<p dir="auto">Run <code>yarn start</code> or <code>npm start</code>. Because the application needs access to read your screen, microphone, read/write files etc, you will need to go through the steps of granting it access and possibly restarting your terminal.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-configurations" aria-hidden="true" tabindex="-1" href="#configurations"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Configurations</h3>
<p dir="auto">Make sure to add your OpenAI API key by clicking the settings icon in the top right-hand corner of the main window. (it&#39;s not stored encrypted!)</p>
<p dir="auto">If you want to change the default values here&#39;s a few things that might be worth changing, all in <code>index.js</code>:</p>
<ul dir="auto">
<li>
<p dir="auto"><strong>Keyboard shortcut:</strong> The default keyboard shortcut <code>keyboardShortcut</code> is set to &#34;CommandOrControl+Shift+&#39;&#34; (because it seemed like it was rarely used by other applications)</p>
</li>
<li>
<p dir="auto"><strong>OpenAI Vision prompt:</strong> The OpenAI Vision API system prompt in <code>conversationHistory</code>, currently just set to &#34;You are helping users with questions about their macOS applications based on screenshots, always answer in at most one sentence.&#34;</p>
</li>
<li>
<p dir="auto"><strong>VisionAPI image size:</strong> Image resize params to save some money, I left an example of how in <code>callVisionAPI()</code> (I found that I had much poorer results when using it)</p>
</li>
<li>
<p dir="auto"><strong>Application window sizes and settings:</strong> The size of the main window: <code>mainWindowWidth</code> and <code>mainWindowHeight</code>. The size of the notification window, which always remains on top: <code>notificationWidth</code> and <code>notificationHeight</code>.</p>
</li>
<li>
<p dir="auto"><strong>More notification window settings:</strong> The level of opacity of the notification window: <code>notificationOpacity</code>. Where the notification window moves to on activation, relative to the active window: inside <code>positionNotificationAtTopRight()</code> (terrible naming, I know)</p>
</li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-turn-it-into-an-app-with-electron" aria-hidden="true" tabindex="-1" href="#turn-it-into-an-app-with-electron"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Turn it into an .app with Electron</h3>
<p dir="auto">Want to create an .app executable instead of running this from your terminal?</p>
<p dir="auto">First go to <code>index.js</code> and change <code>const useElectronPackager</code> from <code>false</code> to <code>true</code>.</p>
<p dir="auto">Run one of these in your terminal, depending on which platform you&#39;re on.</p>
<div dir="auto" data-snippet-clipboard-copy-content="npm  run  package-mac
npm  run  package-win
npm  run  package-linux"><pre>npm  run  package-mac
npm  run  package-win
npm  run  package-linux</pre></div>
<p dir="auto">Note I have only tested this on Mac (Apple silicon and Intel).</p>
<p dir="auto">Go to <code>/release-builds/</code> in your project folder, and chose the folder of your platform. In there is an executable, <code>.app</code> if you&#39;re on Mac. Double-click it to open the app, note that it may take a few seconds the first time so be patient.</p>
<p dir="auto">Once the app is opened, trigger your keyboard shortcut. You&#39;ll be asked to grant Privacy &amp; Security permissions. You may need to repeat this another one or two times for all permissions to work properly, and to restart the app.</p>
<p dir="auto"><strong>NOTE:</strong> I&#39;ve had consistent issues getting macOS to trigger the Privacy &amp; Security Microphone dialog window for the .app, which means that I can&#39;t ask my question. If it works for you, or if you have a work-around to this issue, I&#39;d love to know.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-improvements" aria-hidden="true" tabindex="-1" href="#improvements"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Improvements:</h2>
<p dir="auto">Some improvements I&#39;d like to make, in no particular order:</p>
<ul dir="auto">
<li>Enable optional conversation state inbetween sessions (open/close application)</li>
<li>Use buffers instead of writing/reading screenshot and audio files to disk</li>
<li>Make assistant audio configurable in UI (e.g. speed, make playback optional)</li>
<li>Make always-on-top window configurable in UI (e.g. toggle sticky position, enable/disable)</li>
<li>Make screenshot settings configurable in UI (e.g. select area, entire screen)</li>
<li>Fix microphone issue not working as .app</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-about--contact" aria-hidden="true" tabindex="-1" href="#about--contact"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>About / contact</h2>
<p dir="auto">I&#39;m a self-taught and really like scrapping together fun projects. I write functional code that probably isn&#39;t beautiful nor efficient, and share it with the hope that someone else might find it useful.</p>
<p dir="auto">You can find me as <a href="https://twitter.com/ralfelfving" rel="nofollow">@ralfelfving</a> on Twitter/X. If you liked this project, consider checking my tutorials on my YouTube channel <a href="https://www.youtube.com/@ralfelfving" rel="nofollow">@ralfelfving</a>.</p>
</article>
          </div></div>
  </body>
</html>
