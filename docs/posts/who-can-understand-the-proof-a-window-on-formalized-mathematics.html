<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://writings.stephenwolfram.com/2025/01/who-can-understand-the-proof-a-window-on-formalized-mathematics/">Original</a>
    <h1>Who Can Understand the Proof? A Window on Formalized Mathematics</h1>
    
    <div id="readability-page-1" class="page"><div>
            
<h2 id="the-simplest-axiom-for-logic">The Simplest Axiom for Logic</h2>



<p><a href="https://www.wolframscience.com/nks/p808--implications-for-mathematics-and-its-foundations/">Theorem <span>(Wolfram with Mathematica, 2000)</span></a>: </p>
<p>For more than a century <a href="https://writings.stephenwolfram.com/2018/11/logic-explainability-and-the-future-of-understanding/#the-history">people had wondered</a> how simple the axioms of logic (Boolean algebra) could be. <a href="https://writings.stephenwolfram.com/2018/11/logic-explainability-and-the-future-of-understanding/#a-discovery-about-basic-logic">On January 29, 2000, I found the answer</a>—and made the surprising discovery that they could be about twice as simple as anyone knew. (I also showed that what I found was <a href="https://www.wolframscience.com/nks/notes-12-9--searching-for-logic-axioms/">the simplest possible</a>.) </p>
<p>It was an interesting result—that gave new intuition about just how simple the foundations of things can be, and for example helped inspire my efforts to find a <a href="https://www.wolframphysics.org/" target="_blank" rel="noopener">simple underlying theory of physics</a>. </p>
<p>But how did I get the result? Well, I used automated theorem proving (specifically, what’s now <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> in <a href="https://www.wolfram.com/language/">Wolfram Language</a>). Automated theorem proving is something that’s <a href="https://www.wolframscience.com/nks/notes-12-9--automated-theorem-proving/">been around since at least the 1950s</a>, and its core methods haven’t changed in a long time. But in the rare cases it’s been used in mathematics it’s typically been to confirm things that were already believed to be true. And in fact, to my knowledge, my Boolean algebra axiom is actually the only truly unexpected result that’s ever been found for the first time using automated theorem proving.<span id="more-65170"></span></p>
<p>But, OK, so we know it’s true. And that’s interesting. But what about the proof? Does the proof, for example, show us why the result is true? Well, actually, in a quarter of a century, nobody (including me) has ever made much headway at all in understanding the proof (which, at least in the form we currently know it, is long and complicated). So is that basically inevitable—say as a consequence of <a href="https://www.wolframscience.com/nks/chap-12--the-principle-of-computational-equivalence#sect-12-6--computational-irreducibility">computational irreducibility</a>? Or is there some way—perhaps <a href="https://writings.stephenwolfram.com/2023/02/what-is-chatgpt-doing-and-why-does-it-work/">using modern AI</a>—to “humanize” the proof to a point where one can understand it?</p>
<p>It is, I think, an interesting challenge—that gets at the heart of what one can (and can’t) expect to achieve with formalized mathematics. In what follows, I’ll discuss what I’ve been able to figure out—and how it relates to foundational questions about what mathematics is and how it can be done. And while I think I’ve been able to clarify some of the issues, the core problem is still out there—and I’d like to issue it here as a challenge:</p>
<p><span>Challenge:</span> Understand the proof of the Theorem</p>
<p>What do I mean by “understand”? Inevitably, “understand” has to be defined in human terms. Something like “so a human can follow and reproduce it”—and, with luck, feel like saying “aha!” at some point, the kind of way they might on hearing a proof of the Pythagorean theorem (or, in logic, something like de Morgan’s law <tt><a href="http://reference.wolfram.com/language/ref/Not.html">Not</a></tt>[<tt><a href="http://reference.wolfram.com/language/ref/And.html">And</a></tt>[<em>p</em>, <em>q</em>]]<span></span><tt><a href="http://reference.wolfram.com/language/ref/Or.html">Or</a></tt>[<tt><a href="http://reference.wolfram.com/language/ref/Not.html">Not</a></tt>[<em>p</em>], <tt><a href="http://reference.wolfram.com/language/ref/Not.html">Not</a></tt>[<em>q</em>]]). </p>
<p>It should be said that it’s certainly not clear that such an understanding would ever be possible. After all, as we’ll discuss, it’s a basic metamathematical fact that out of all possible theorems almost none have short proofs, at least in terms of any particular way of stating the proofs. But what about an “interesting theorem” like the one we’re considering here? Maybe that’s different. Or maybe, at least, there’s some way of building out a “higher-level mathematical narrative” for a theorem like this that will take one through the proof in human-accessible steps.</p>
<p>In principle one could always imagine a somewhat bizarre scenario in which people would just rote learn chunks of the proof, perhaps giving each chunk some name (a bit like how people learned bArbArA and cElArEnt syllogisms in the Middle Ages). And in terms of these chunks there’d presumably then be a “human way” to talk about the proof. But learning the chunks—other than as some kind of recreational or devotional activity—doesn’t seem to make much sense unless there’s metamathematical structure that somehow connects the chunks to “general concepts” that are widely useful elsewhere. </p>
<p>But of course it’s still conceivable that there might be a “big theory” that would lead us to the theorem in an “understandable way”. And that could be a traditional mathematical theory, built up with precise, if potentially very abstract, constructs. But what about something more like a theory in natural science? In which we might treat our automatically generated proof as an object for empirical study—exploring its characteristics, trying to get intuition about it, and ultimately trying to deduce the analog of “natural laws” that give us a “human-level” way of understanding it. </p>
<p>Of course, for many purposes it doesn’t really matter why the theorem is true. All that matters is that it is true, and that one can deduce things on the basis of it. But as one thinks about the future of mathematics, and the future of doing mathematics, it’s interesting to explore to what extent it might or might not ultimately be possible to understand in a human-accessible way the kind of seemingly alien result that the theorem represents. </p>
<h2 id="the-proof-as-we-know-it">The Proof as We Know It</h2>
<p>I first presented a version of the proof on <a href="https://www.wolframscience.com/nks/p810--implications-for-mathematics-and-its-foundations/">two pages</a> of my 2002 book <em><a href="https://www.wolframscience.com/nks/">A New Kind of Science</a></em>, printing it in 4-point type to make it fit: </p>
<p><a href="https://files.wolframcdn.com/pub/www.wolframscience.com/nks/nks-ch12-sec9.pdf"><img src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg1.png" alt="Axiom proof" title="Axiom proof" width="619" height="373"/></a></p>
<p>Today, generating a very similar proof is a one-liner in Wolfram Language (as we’ll discuss below, the · dot here can be thought of as representing the <tt><a href="http://reference.wolfram.com/language/ref/Nand.html">Nand</a></tt> operation):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg2.png" alt="" title="" width="455" height="100"/> </p>
</div>
<p>The proof involves 307 (mostly rather elaborate) steps. And here’s one page of it (out of about 30)—presented in the form of a computable Wolfram Language dataset:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg4.png" alt="Example proof steps page" title="Example proof steps page" width="619" height="385"/></p>
</div>
<p>What’s the basic idea of this proof? Essentially it’s to perform a sequence of purely structural symbolic operations that go from our axiom to <a href="https://www.wolframscience.com/nks/p808--implications-for-mathematics-and-its-foundations/">known axioms of Boolean algebra</a>. And the proof does this by proving a series of lemmas which can be combined to eventually give what we want: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg5A.png" alt="" title="" width="689" height="1012"/> </p>
</div>
<p>The highlighted “targets” here are the standard Sheffer axioms for Boolean algebra from 1913:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg6.png" alt="" title="" width="278" height="60"/> </p>
</div>
<p>And, yes, even though these are quite short, the intermediate lemmas involved in the proof get quite long—the longest involving 60 symbols (i.e. having <tt><a href="http://reference.wolfram.com/language/ref/LeafCount.html">LeafCount</a></tt> 60):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg7.png" alt="" title="" width="488" height="40"/> </p>
</div>
<p>It’s as if to get to where it’s going, the proof ends up having to go through the wilds of metamathematical space. And indeed one gets a sense of this if one plots the sizes (i.e. <tt><a href="http://reference.wolfram.com/language/ref/LeafCount.html">LeafCount</a></tt>) of successive lemmas:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg8.png" alt="" title="" width="674" height="142"/> </p>
</div>
<p>Here’s the distribution of these sizes, showing that while they’re often small, there’s a long tail (note, by the way, that if dot · appears <em>n</em> times in a lemma, the <tt><a href="http://reference.wolfram.com/language/ref/LeafCount.html">LeafCount</a></tt> will be 2<em>n</em> + 3):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg9.png" alt="" title="" width="259" height="122"/> </p>
</div>
<p>So how are these lemmas related? Here’s a graph of their interdependence (with the size of each dot being proportional to the size of the lemma it represents):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg10.png" alt="" title="" width="565" height="710"/> </p>
</div>
<p>Zooming in on the top we see more detail:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg11.png" alt="" title="" width="595" height="375"/> </p>
</div>
<p>We start from our axiom, then derive a whole sequence of lemmas—as we’ll see later, always <a href="https://www.wolframscience.com/metamathematics/proofs-in-accumulative-systems/">combining two lemmas to create a new one</a>. (And, yes, we could equally well call these things theorems—but we generate so many of them it seems more natural to call them “lemmas”.) </p>
<p>So, OK, we’ve got a complicated proof. But how can we check that it’s correct? Well, from the symbolic representation of the proof in the Wolfram Language we can immediately generate a “proof function” that in effect contains executable versions of all the lemmas—implemented using simple structural operations:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofCLOUDAimg11A.png" alt="" title="" width="551" height="453"/> </p>
</div>
<p>And when you run this function, it applies all these lemmas and checks that the result comes out right:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg14.png" alt="" title="" width="259" height="43"/> </p>
</div>
<p>And, yes, this is basically what one would do in a proof assistant system (like <a href="https://lean-lang.org/" target="_blank" rel="noopener">Lean</a> or <a href="https://us.metamath.org/index.html" target="_blank" rel="noopener">Metamath</a>)—except that here the steps in the proof were generated purely automatically, without any human guidance (or effort). And, by the way, the fact that we can readily translate our symbolic proof representation into a function that we can run provides an operational manifestation of the equivalence between proofs and programs. </p>
<p>But let’s look back at our lemma-interdependence “proof graph”. One notable feature is that we see several nodes with high out-degree—corresponding to what we can think of as “pivotal lemmas” from which many other lemmas end up directly being proved. So here’s a list of the “most pivotal” lemmas in our proof:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg15.png" alt="" title="" width="329" height="178"/> </p>
</div>
<p>Or, more graphically, here are the results for all lemmas that occur:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg16.png" alt="" title="" width="344" height="239"/> </p>
</div>
<p>So what are the “pivotal lemmas”? <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em> we readily recognize as commutativity. But the others—despite their comparative simplicity—don’t seem to correspond to things that have specifically shown up before in the mathematical literature (or, as we’ll <a href="https://writings.stephenwolfram.com/2025/01/who-can-understand-the-proof-a-window-on-formalized-mathematics/#llms-to-the-rescue">discuss later</a>, that’s at least what the current generation of LLMs tell us).</p>
<p>But looking at our proof graph something we can conclude is that a large fraction of the “heavy lifting” needed for the whole proof has already happened by the time we can prove <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>. So, for the sake of avoiding at least some of hairy detail in the full proof, in most of what follows, we’ll concentrate on the proof of <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>—which <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> tells us we can accomplish in 104 steps, with a proof graph of the form</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg17.png" alt="" title="" width="666" height="824"/> </p>
</div>
<p>with the sizes of successive lemmas (in what is basically a breadth-first traversal of the proof graph) being:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025proofimg18A.png" alt="" title="" width="509" height="117"/> </p>
</div>
<h2 id="the-machine-code-of-the-proof">The “Machine Code” of the Proof</h2>
<p>It’s already obvious from the previous section that the proof as we currently know it is long, complicated, and fiddly—and in many ways reminiscent of something at a “machine-code” level. But to get a grounded sense of what’s going on in the proof, it’s useful to dive into the details—even if, yes, they can be seriously hard to wrap one’s head around. </p>
<p>At a fundamental level, the way the proof—say of <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>—works is by starting from our axiom, and then progressively deducing new lemmas from pairs of existing lemmas. In the simplest case, that deduction works by <a href="https://www.wolframscience.com/metamathematics/the-metamodeling-of-axiomatic-mathematics/">straightforward symbolic substitution</a>. So, for example, let’s say we have the lemmas</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg1.png" alt="" title="" width="121" height="14"/> </p>
</div>
<p>and </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg2.png" alt="" title="" width="121" height="14"/> </p>
</div>
<p>Then it turns out that from these lemmas we can deduce:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg3.png" alt="" title="" width="121" height="14"/> </p>
</div>
<p>Or, in other words, knowing that the first two lemmas hold for any <em>a</em> gives us enough information about · that the third lemma must inevitably also hold. So how do we derive this?</p>
<p>Our lemmas in effect <a href="https://www.wolframscience.com/metamathematics/rules-applied-to-rules/">define two-way equivalences</a>: their left-hand sides are defined as equal to their right-hand sides, which means that if we see an expression that (structurally) matches one side of a lemma, we can always replace it by the other side of the lemma. And to implement this, we can write our second lemma explicitly as a rule—where to avoid confusion we’re using <em>x</em> rather than <em>a</em>:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg4.png" alt="" title="" width="141" height="14"/> </p>
</div>
<p>But if we now look at our first lemma, we see that there’s part of it (indicated with a frame) that matches the left-hand side of our rule:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg5.png" alt="" title="" width="132" height="25"/> </p>
</div>
<p>If we replace this part (which is at position {2,2}) using our rule we then get</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg6.png" alt="" title="" width="121" height="14"/> </p>
</div>
<p>which is precisely the lemma we wanted to deduce. </p>
<p>We can summarize what happened here as a fragment of our proof graph—in which a “substitution event” node takes our first two lemmas as input, and “outputs” our final lemma:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025KDCLOUDimg1.png" alt="" title="" width="277" height="99"/> </p>
</div>
<p>As always, the symbolic expressions we’re working with here can be represented as trees:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg8.png" alt="" title="" width="391" height="158"/> </p>
</div>
<p>The substitution event then corresponds to a tree rewriting:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025KDCLOUDimg2.png" alt="" title="" width="275" height="242"/> </p>
</div>
<p>The <a href="https://www.wolframscience.com/metamathematics/relations-to-automated-theorem-proving/">essence of automated theorem proving</a> is to find a particular sequence of substitutions etc. that get us from whatever axioms or lemmas we’re starting with, to whatever lemmas or theorems we want to reach. Or in effect to find a suitable “path” through the multiway graph of all possible substitutions etc. that can be made. </p>
<p>So, for example, in the particular case we’re considering here, this is the graph that represents all possible transformations that can occur through a single substitution event:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg10.png" alt="" title="" width="582" height="285"/> </p>
</div>
<p>The particular transformation (or “path”) we’ve used to prove <em>a</em> · <em>a</em> = <em>a</em> · ((<em>a</em> · <em>a</em>) · <em>a</em>) is highlighted. But as we can see, there are many other possible lemmas that can be generated, or in other words that can be proved from the two lemmas we’ve given as input. Put another way, we can think of our input lemmas as implying or entailing all the other lemmas shown here. And, by analogy to the concept of a light cone in physics, we can view the collection of everything entailed by given lemmas or given events as the (future) “<a href="https://www.wolframscience.com/metamathematics/metamathematical-space/#p-28">entailment cone</a>” of those lemmas or events. A proof that reaches a particular lemma is then effectively a path in this entailment cone—analogous in physics to a world line that reaches a particular spacetime point.</p>
<p>If we continue building out the entailment cone from our original lemmas, then after two (substitution) events we get:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg11.png" alt="" title="" width="701" height="454"/> </p>
</div>
<p>There are 21 lemmas generated here. But it turns out that beyond the lemma we already discussed there are only three (highlighted here) that appear in the proof we are studying here:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg12.png" alt="" title="" width="281" height="60"/> </p>
</div>
<p>And indeed the <a href="https://writings.stephenwolfram.com/2018/11/logic-explainability-and-the-future-of-understanding/#the-mechanics-of-proof">main algorithmic challenge of theorem proving</a> is to figure out which lemmas to generate in order to get a path to the theorem one’s trying to prove. And, yes, as we’ll discuss later, there are typically many paths that will work, and different algorithms will yield different paths and therefore different proofs.</p>
<p>But, OK, seeing how new lemmas can be derived from old by substitution is already quite complicated. But actually there’s something even more complicated we need to discuss: deriving lemmas not only by substitution but also by what we’ve called <a href="https://www.wolframscience.com/metamathematics/beyond-substitution-cosubstitution-and-bisubstitution/">bisubstitution</a>. </p>
<p>We can think of both substitution and bisubstitution as turning one lemma X == Y into a transformation rule (either X <img src="https://content.wolfram.com/uploads/sites/32/2022/10/rightarrow2.png" width="15" height="11"/> Y or Y <img src="https://content.wolfram.com/uploads/sites/32/2022/10/rightarrow2.png" width="15" height="11"/> X), and then applying this rule to another lemma, to derive a new lemma. In ordinary substitution, the left-hand side of the rule directly matches (in a Wolfram Language pattern-matching sense) a subexpression in the lemma we’re transforming. But the key point is that all the variables that appear in both our lemmas are really “pattern variables” (<tt>x_</tt> etc. in Wolfram Language). So that means there’s another way that one lemma can transform another, in which in effect replacements are made not only in the lemma being transformed, but also in the lemma that’s doing the transforming. </p>
<p>The net effect, though, is still to take two lemmas and derive another, as in:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025KDCLOUDimg3.png" alt="" title="" width="414" height="130"/> </p>
</div>
<p>But in tracing through the details of our proof, we need to distinguish “substitution events” (shown yellowish) from “bisubstitution” ones (shown reddish). (In <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> in Wolfram Language, lemmas produced by ordinary substitution are called “substitution lemmas”, while lemmas produced by bisubstitution are called “critical pair lemmas”.)</p>
<p>OK, so how does bisubstitution work? Let’s look at an example. We’re going to be transforming the lemma </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg14.png" alt="" title="" width="235" height="14"/> </p>
</div>
<p>using the lemma (which in this case happens to be our original axiom)</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg15.png" alt="" title="" width="183" height="14"/> </p>
</div>
<p>to derive the new lemma:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg16.png" alt="" title="" width="235" height="14"/> </p>
</div>
<p>We start by creating a rule from the second lemma. In this case, the rule we need happens to be reversed relative to the way we wrote the lemma, and this means that (in the canonical form we’re using) it’s convenient to rename the variables that appear:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg17.png" alt="" title="" width="237" height="14"/> </p>
</div>
<p>To do our bisubstitution we’re going to apply this rule to a subterm of our first lemma. We can write that first lemma with explicit pattern variables:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg18.png" alt="" title="" width="311" height="14"/> </p>
</div>
<p>As always, the particular names of those variables don’t matter. And to avoid confusion, we’re going to rename them:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg19.png" alt="" title="" width="306" height="14"/> </p>
</div>
<p>Now look at this subterm of this lemma (which is part {2,1,1,2} of the expression):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg20.png" alt="" title="" width="102" height="14"/> </p>
</div>
<p>It turns out that with appropriate bindings for pattern variables this can be matched (or “unified”) with the left-hand side of our rule. This provides a way to find such bindings:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg21.png" alt="" title="" width="345" height="14"/> </p>
</div>
<p>(Note that in these bindings things like c_ stand only for explicit expressions, like c_, not for expressions that the ordinary Wolfram Language pattern <tt>c_</tt> would match.)</p>
<p>Now if we apply the bindings we’ve found to the left-hand side of our rule</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg22.png" alt="" title="" width="277" height="14"/> </p>
</div>
<p>and to the subterm we picked out from our lemma</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg23.png" alt="" title="" width="277" height="14"/> </p>
</div>
<p>we see that we get the same expression. Which means that with these bindings the subterm matches the left-hand side of our rule, and we can therefore replace this subterm with the right-hand side of the rule. To see all this in operation, we first apply the bindings we’ve found to the lemma we’re going to transform (and, as it happens, the binding for y_ is the only one that matters here):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg24.png" alt="" title="" width="615" height="14"/> </p>
</div>
<p>Now we take this form and apply the rule at the position of the subterm we identified:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg25.png" alt="" title="" width="342" height="14"/> </p>
</div>
<p>Renaming variables</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg26.png" alt="" title="" width="345" height="14"/> </p>
</div>
<p> we now finally get exactly the lemma that we were trying to derive:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg27.png" alt="" title="" width="235" height="14"/> </p>
</div>
<p>And, yes, getting here was a pretty complicated process. But with the symbolic character of our lemmas, it’s one that is inevitably possible, and so can be used in our proof. And in the end, out of the 101 lemmas used in the proof, 47 were derived by ordinary substitution, while 54 were derived by bisubstitution.</p>
<p>And indeed the first few steps of the proof turn out to use only bisubstituion. An example is the first step—which effectively applies the original axiom to itself using bisubsitution:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025KDCLOUDimg4.png" alt="" title="" width="243" height="149"/> </p>
</div>
<p>And, yes, even this very first step is pretty difficult to follow. </p>
<p>If we start from the original axiom, there are 16 lemmas that can be derived purely by a single ordinary substitution (effectively of the axiom into itself)—resulting in the following entailment cone:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg29.png" alt="" title="" width="693" height="323"/> </p>
</div>
<p>As it happens, though, none of the 16 new lemmas here actually get used in our proof. On the other hand, in the bisubstitution entailment cone</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg30.png" alt="" title="" width="693" height="251"/> </p>
</div>
<p>there are 24 new lemmas, and 4 of them get used in the proof—as we can see from the first level of the proof graph (here rotated for easier rendering):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg31.png" alt="" title="" width="657" height="101"/> </p>
</div>
<p>At the next level of the entailment cone from ordinary substitution, there are 5062 new lemmas—none of which get used in the proof. But of the 31431 new lemmas in the (pure) bisubstitution entailment cone, 13 do get used:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg32.png" alt="" title="" width="663" height="112"/> </p>
</div>
<p>At the next level, lemmas generated by ordinary substitution also start to get used:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg33.png" alt="" title="" width="657" height="126"/> </p>
</div>
<p>Here’s another rendering of these first few levels of the proof graph:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg34.png" alt="" title="" width="295" height="198"/> </p>
</div>
<p>Going to another couple of levels we’re starting to see quite a few independent chains of lemmas developing</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg35.png" alt="" title="" width="454" height="289"/> </p>
</div>
<p>which eventually join up when we assemble the whole proof graph:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg36.png" alt="" title="" width="605" height="631"/> </p>
</div>
<p>A notable feature of this proof graph is that it has more bisubstitution events at the top, and more ordinary substitution events at the bottom. So why is that? Essentially it seems to be because bisubstitution events tend to produce larger lemmas, and ordinary substitution events tend to produce smaller ones—as we can see if we plot input and output lemma sizes for all events in the proof:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg37.png" alt="" title="" width="451" height="479"/> </p>
</div>
<p>So in effect what seems to be happening is that the proof first has to “spread out in <a href="https://www.wolframscience.com/metamathematics/metamathematical-space/">metamathematical space</a>”, using bisubstitution to generate large lemmas “far out in metamathematical space”. Then later the proof has to “corral things back in”, using ordinary substitution to generate smaller lemmas. And for example, at the very end, it’s a substitution event that yields the final theorem we’re trying to prove:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg38.png" alt="" title="" width="277" height="100"/> </p>
</div>
<p>And earlier in the graph, there’s a similar “collapse” to a small (and rather pivotal) lemma:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025machineCLOUDimg39.png" alt="" title="" width="406" height="120"/> </p>
</div>
<p>As the plot above indicates, ordinary substitution can lead to large lemmas, and indeed bisubstitution can also lead to smaller ones, as in</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025machineCLOUDimg40.png" alt="" title="" width="367" height="87"/> </p>
</div>
<p>or slightly more dramatically:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025machineCLOUDimg41.png" alt="" title="" width="630" height="140"/> </p>
</div>
<p>But, OK, so this is some of what’s going on at a “machine-code” level inside the proof we have. Of course, given our axiom and the operations of substitution and bisubstitution there are inevitably a huge number of different possible proofs that could be given. The particular proof we’re considering is what the Wolfram Language <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> gives. (In the Appendix, we’ll also look at results from some other automated theorem proving systems. The results will be very comparable, if usually a little lengthier.) </p>
<p>We won’t discuss the detailed (and rather elaborate) algorithms inside <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt>. But fundamentally what they’re doing is to try constructing certain lemmas, then to find sequences of lemmas that eventually form a “path” to what we’re trying to prove. And as some indication of what’s involved in this, here’s a plot of the number of “candidate lemmas” that are being maintained as possible when different lemmas in the proof are generated:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025machineimg42.png" alt="" title="" width="354" height="145"/> </p>
</div>
<p>And, yes, for a while there’s roughly exponential growth, leveling off at just over a million when we get to the “pulling everything together” stage of the proof.</p>
<h2 id="unrolling-the-proof">Unrolling the Proof</h2>
<p>In what we’ve done so far, we’ve viewed our proof as working by starting from an axiom, then <a href="https://www.wolframscience.com/nks/notes-12-9--proof-structures/">progressively building up lemmas</a>, until eventually we get to the theorem we want. But there’s an alternative view that’s in some ways useful in getting a more direct, “mechanical” intuition about what’s going on in the proof.</p>
<p>Let’s say we’re trying to prove that our axiom implies that <em>p</em> · <em>q</em> = <em>q</em> · <em>p</em>. Well, then there must be some way to start from the expression <em>p</em> · <em>q</em> and just keep on judiciously applying the axiom until eventually we get to the expression <em>q</em> · <em>p</em>. And, yes, the number of axiom application steps required might be very large. But ultimately, if it’s true that the axiom implies <em>p</em> · <em>q</em> = <em>q</em> · <em>p</em> there must be a path that gets from <em>p</em> · <em>q</em> to <em>q</em> · <em>p</em>.</p>
<p>But before considering the case of our full proof, let’s start with something simpler. Let’s assume that we’ve already established the lemmas:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg1.png" alt="" title="" width="121" height="37"/> </p>
</div>
<p>Then we can treat them as axioms, and ask a question like whether they imply the lemma</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg2.png" alt="" title="" width="121" height="14"/> </p>
</div>
<p>or, in our current approach, whether they can be used to form a path from <em>a</em> · <em>a</em> to <em>a</em> · (<em>a</em> · (<em>a</em> · <em>a</em>)). </p>
<p>Well, it’s not too hard to see that in fact there is such a path. Apply our second lemma to <em>a</em> · <em>a</em> to get:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg3.png" alt="" title="" width="77" height="14"/> </p>
</div>
<p>But now this subterm</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg4.png" alt="" title="" width="88" height="25"/> </p>
</div>
<p>matches the left-hand of the first lemma, so that it can be replaced by the right-hand side of that lemma (i.e. by <em>a</em> · (<em>a</em> · <em>a</em>)), giving in the end the desired <em>a</em> · (<em>a</em> · (<em>a</em> · <em>a</em>)).</p>
<p>So now we can summarize this process as:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg5.png" alt="" title="" width="252" height="138"/> </p>
</div>
<p>In what follows, it’ll be convenient to label lemmas. We’ll call our original axiom A1, we’ll call our successive lemmas generated by ordinary substitution S<em>n</em> and the ones generated by bisubsitution B<em>n:</em></p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg6.png" alt="" title="" width="399" height="621"/> </p>
</div>
<p>In our proof we’ll also use <img src="https://content.wolfram.com/sites/43/2025/01/rightgreenarrow.png" width="18" height="25"/> and <img src="https://content.wolfram.com/sites/43/2025/01/leftpinkarrow.png" width="18" height="25"/> to indicate whether we’re going to use the lemma (say <nobr>X = Y)</nobr> in the “forward direction” X <img src="https://content.wolfram.com/uploads/sites/32/2022/10/rightarrow2.png" width="15" height="11"/> Y or the “reverse direction” X <img src="https://content.wolfram.com/uploads/sites/32/2022/10/leftarrow.png" width="15" height="11"/> Y. And with this labeling, the proof we just gave (which is for the lemma S23) becomes:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg7.png" alt="" title="" width="168" height="138"/> </p>
</div>
<p>Each step here is a pure substitution, and requires no replacement in the rule (i.e. “axiom”) being used. But proofs like this can also be done with bisubstitution, where replacements are applied to the rule to get it in a form where it can directly be applied to transform an expression:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg8.png" alt="" title="" width="529" height="136"/> </p>
</div>
<p>OK, so how about the first lemma in our full proof? Here’s a proof that its left-hand side can be transformed to its right-hand side just by judiciously applying the original axiom:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg9.png" alt="" title="" width="504" height="140"/> </p>
</div>
<p>Here’s a corresponding proof for the second lemma:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg10.png" alt="" title="" width="531" height="136"/> </p>
</div>
<p>Both these involve bisubstitution. Here’s a proof of the first lemma derived purely by ordinary substitution:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg11.png" alt="" title="" width="611" height="136"/> </p>
</div>
<p>This proof is using not only the original axiom but also the lemma B5. Meanwhile, B5 can be proved using the original axiom together with B2:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg12.png" alt="" title="" width="693" height="181"/> </p>
</div>
<p>But now, inserting the proof we just gave above for B2, we can give a proof of B5 just in terms of the original axiom:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg13.png" alt="" title="" width="693" height="278"/> </p>
</div>
<p>And recursively continuing this unrolling process, we can then prove S1 purely using the original axiom:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg14.png" alt="" title="" width="693" height="329"/> </p>
</div>
<p>What about the whole proof? Well, at the very end we have:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg15.png" alt="" title="" width="222" height="137"/> </p>
</div>
<p>If we “unroll” one step we have</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg16.png" alt="" title="" width="275" height="349"/> </p>
</div>
<p>and after 2 steps:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg17.png" alt="" title="" width="435" height="444"/> </p>
</div>
<p>In principle we could go on with this unrolling, in effect recursively replacing each rule by the sequence of transformations that represents its proof. Typically this process will, however, generate exponentially longer proof sequences. But say for lemma S5</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg18.png" alt="" title="" width="334" height="14"/> </p>
</div>
<p>the result is still very easily manageable:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg19.png" alt="" title="" width="670" height="274"/> </p>
</div>
<p>We can summarize this result by in effect plotting the sizes of the intermediate expressions involved—and indicating what part of each expression is replaced at each step (with <img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/01082025redbox.png" alt="" title="" width="15" height="15"/> as above indicating “forward” use of the axiom A1 <img src="https://content.wolfram.com/uploads/sites/32/2022/10/rightarrow2.png" width="15" height="11"/> and <img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/greenbox.png" '="" title="" width="15" height="15"/> “backward” A1 <img src="https://content.wolfram.com/uploads/sites/32/2022/10/leftarrow.png" width="15" height="11"/>):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg20.png" alt="" title="" width="357" height="160"/> </p>
</div>
<p>For lemma B33</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg21.png" alt="" title="" width="681" height="14"/> </p>
</div>
<p>the unrolled proof is now 30 steps long</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg22.png" alt="" title="" width="357" height="160"/> </p>
</div>
<p>while for lemma S11</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg23.png" alt="" title="" width="467" height="14"/> </p>
</div>
<p>the unrolled proof is 88 steps long:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg24.png" alt="" title="" width="412" height="182"/> </p>
</div>
<p>But here there is a new subtlety. Doing a direct substitution of the “proof paths” for the lemmas used to prove S11 in our original proof gives a proof of length 104:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg25.png" alt="" title="" width="466" height="177"/> </p>
</div>
<p>But this proof turns out to be repetitive, with the whole gray section going from one copy to another of:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg26.png" alt="" title="" width="237" height="14"/> </p>
</div>
<p>As an example of a larger proof, we can consider lemma B47:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg27.png" alt="" title="" width="157" height="14"/> </p>
</div>
<p>And despite the simplicity of this lemma, our proof for it is 1008 steps long: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg28.png" alt="" title="" width="609" height="204"/> </p>
</div>
<p>If we don’t remove repetitive sections, it’s 6805 steps:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg29.png" alt="" title="" width="460" height="157"/> </p>
</div>
<p>Can we unroll the whole proof of <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>? We can get closer by considering lemma S36:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg30.png" alt="" title="" width="121" height="14"/> </p>
</div>
<p>Its proof is 27105 steps long:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg31A.png" alt="" title="" width="621" height="204"/> </p>
</div>
<p>The distribution of expression sizes follows a roughly exponential distribution, with a maximum of 20107:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg32.png" alt="" title="" width="274" height="122"/> </p>
</div>
<p>Plotting the expression sizes on a log scale one gets: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg33.png" alt="" title="" width="409" height="142"/> </p>
</div>
<p>And what stands out most here is a kind of recursive structure—which is the result of long sequences that basically represent the analog of “subroutine calls” that go back and repeatedly prove lemmas that are needed.</p>
<p>OK, so what about the whole proof of <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>? Yes, it can be unrolled—in terms of 83,314 applications of the original axiom. The sequence of expression sizes is:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg34.png" alt="" title="" width="571" height="187"/> </p>
</div>
<p>Or on a log scale:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg35.png" alt="" title="" width="519" height="175"/> </p>
</div>
<p>The distribution of expression sizes now shows clear deviation from being exponential:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025unrollCLOUDimg36A.png" alt="" title="" width="359" height="160"/> </p>
</div>
<p>The maximum is 63245, which occurs just 81 steps after the exact midpoint of the proof. In other words, in the middle, the proof has wandered incredibly far out in metamathematical space (there are altogether <tt><a href="http://reference.wolfram.com/language/ref/CatalanNumber.html">CatalanNumber</a></tt>[63245] ≈ 10<sup>38070</sup> possible expressions of the size it reaches). </p>
<p>The proof returns to small expressions just a few times; here are all the cases in which the size is below 10:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092024JGCLOUDimg8.png" alt="" title="" width="399" height="274"/> </p>
</div>
<p>So, yes, it is possible to completely unroll the proof into a sequence of applications of the original axiom. But if one does this, it inevitably involves repeating lots of work. Being able to use intermediate lemmas in effect lets one “share common subparts” in the proof. So that one ends up with just 104 “rule applications”, rather than 83314. Not that it’s easy to understand those 104 steps…</p>
<h2 id="is-there-a-better-notation">Is There a Better Notation?</h2>
<p> Looking at our proof—either in its original “lemma” form, or in its “unrolled” form—the most striking aspect of it is how complicated (and incomprehensible) it seems to be. But one might wonder whether much of that complexity is just the result of not “using the right notation”. In the end, we’ve got a huge number of expressions written in terms of · operations that we can interpret as <tt><a href="http://reference.wolfram.com/language/ref/Nand.html">Nand</a></tt> (or <tt><a href="http://reference.wolfram.com/language/ref/Nor.html">Nor</a></tt>). And maybe it’s a little like seeing the operation of a microprocessor down at the level of individual gates implementing <tt>Nand</tt>s or <tt>Nor</tt>s. And might there perhaps be an analog of a higher-level representation—with higher-level operations (even like arithmetic) that are more accessible to us humans?</p>
<p>It perhaps doesn’t help that <tt>Nand</tt> itself is a rather non-human construct. For example, not a single natural human language seems to have a word for <tt>Nand</tt>. But there are combinations of <tt>Nand</tt>s that have more <a href="https://www.wolframscience.com/nks/p807--implications-for-mathematics-and-its-foundations/">familiar interpretations</a>:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025notationimg1.png" alt="" title="" width="228" height="127"/> </p>
</div>
<p>But what combinations actually occur in our proof? Here are the most common subexpressions that appear in lemmas in the proof:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092925NLCLOUDimg12.png" alt="" title="" width="290" height="316"/> </p>
</div>
<p>And, yes, we could give the most common of these special names. But it wouldn’t really help in “compressing” the proof—or making it easier to understand.</p>
<p>What about “upgrading” our “laws of inference”, i.e. the way that we can derive new lemmas from old? Perhaps instead of substitution and bisubstitution, which both take two lemmas and produce one more, we could set up more elaborate “tactics” that for example take in more input lemmas. We’ve seen that if we completely unroll the proof, it gets much longer. So perhaps there is a “higher-order” setup that for example dramatically shortens the proof. </p>
<p>One way one might identify this is by seeing commonly repeating structures in the subgraphs that lead to lemmas. But in fact these subgraphs are quite diverse:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025notationimg3.png" alt="" title="" width="589" height="130"/> </p>
</div>
<h2 id="what-are-the-popular-lemmas">What Are the Popular Lemmas?</h2>
<p>A typical feature of human-written mathematical proofs is that they’re “anchored” by famous theorems or lemmas. They may have fiddly technical pieces. But usually there’s a backbone of “theorems people know”. </p>
<p>We have the impression that the proof we’re discussing here “spends most of its time wandering around the wilds of metamathematical space”. But perhaps it visits waypoints that are somehow recognizable, or at least should be. Or in other words, perhaps out in the metamathematical space of lemmas there are ones that are somehow sufficiently popular that they’re worth giving names to, and learning—and can then be used as “reference points” in terms of which our proof becomes simpler and more human accessible.</p>
<p>It’s a story very much like what happens with human language. There are things out there in the world, but when there’s a certain category of them that are somehow common or important enough, we make a word for them in our language, which we can then use to “compactly” refer to them. (It’s again the same story when it comes to computational language, and in particular the Wolfram Language, except that in that case it’s been my personal responsibility to come up with the appropriate definitions and names for functions to represent “common lumps of computation”.) </p>
<p>But, OK, so what are the “popular lemmas” of <tt><a href="http://reference.wolfram.com/language/ref/Nand.html">Nand</a></tt> proofs? One way to explore this is to enumerate statements that are “true about <tt>Nand</tt>”—then to look at proofs of these statements (say found with <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> from our axiom) and see what lemmas show up frequently in them. </p>
<p><a href="https://www.wolframscience.com/nks/p818--implications-for-mathematics-and-its-foundations/">Enumerating statements “true about <tt>Nand</tt>”</a>, starting from the smallest, we get</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg1.png" alt="" title="" width="598" height="222"/> </p>
</div>
<p>where we have highlighted statements from this list that appear as lemmas in our proof.</p>
<p>Proving each of these statements from our original axiom, here are the <a href="https://www.wolframscience.com/nks/notes-12-9--proof-lengths-in-logic/">lengths of proofs we find</a> (for all 1341 distinct theorems with up to <tt><a href="http://reference.wolfram.com/language/ref/LeafCount.html">LeafCount</a></tt> 4 on each side):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg2.png" alt="" title="" width="471" height="204"/> </p>
</div>
<p>A histogram shows that it’s basically a bimodal distribution</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg3.png" alt="" title="" width="359" height="134"/> </p>
</div>
<p>with the smallest “long-proof” theorem being:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg4.png" alt="" title="" width="173" height="14"/> </p>
</div>
<p>In aggregate, all these proofs use about 200,000 lemmas. But only about 1200 of these are distinct. And we can plot which lemmas are used in which proofs—and we see that there are indeed many lemmas that are used across wide ranges of proofs, while there are a few others that are “special” to each proof (the diagonal stripe is associated with lemmas close to the statement being proved):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg5.png" alt="" title="" width="428" height="401"/> </p>
</div>
<p>If we rank all distinct lemmas from most frequently to least frequently used, we get the following distribution of lemma usage frequencies across all our proofs: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg6.png" alt="" title="" width="355" height="155"/> </p>
</div>
<p>It turns out that there is a “common core” of 49 lemmas that are used in every single one of the proofs. So what are these lemmas? Here’s a plot of the usage frequency of lemmas against their size—with the “common ones” populating the top line: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg7.png" alt="" title="" width="438" height="192"/> </p>
</div>
<p>And at first this might seem surprising. We might have expected that short lemmas would be the most frequent, but instead we’re seeing long lemmas that always appear, the very longest being:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg8.png" alt="" title="" width="516" height="40"/> </p>
</div>
<p>So why is this? Basically it’s that these long lemmas are being used at the beginning of every proof. They’re the result of applying bisubstitution to the original axiom, and in some sense they seem to be laying down a kind of net in metamathematical space that then allows more diverse—and smaller—lemmas to be derived. </p>
<p>But how are these “common core” popular lemmas distributed within proofs? Here are a few examples:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025lemmasCLOUDXimg9.png" alt="" title="" width="566" height="579"/> </p>
</div>
<p>And what we see is that while, yes, the common core lemmas are always at the beginning, they don’t seem to have a uniform way of “plugging into” the rest of the proof. And it doesn’t, for example, seem as if there’s just some small set of (perhaps simple) “waypoint” lemmas that one can introduce that will typically shorten these proofs.</p>
<p>If one effectively allows all the common core lemmas to be used as axioms, then inevitably proofs will be shortened; for example, the proof of <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>—which only ends up using 5 of the common core lemmas—is now shortened to 51 lemmas:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025lemmasCLOUDZimg10B.png" alt="" title="" width="282" height="479"/> </p>
</div>
<p>It doesn’t seem to become easier to understand, though. And if it’s unrolled, it’s still 5013 steps. </p>
<p>Still, one can ask what happens if one just introduces particular “recognizable” lemmas as additional axioms. For example, if we include “commutativity” <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em> then we find that, yes, we do manage to <a href="https://www.wolframscience.com/nks/notes-12-9--proof-lengths-in-logic/">reduce the lengths of some proofs</a>, but certainly not all:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg11.png" alt="" title="" width="554" height="280"/> </p>
</div>
<p>Are there any other “pivotal” lemmas we could add? In particular, what about lemmas that can help with the length-200 or more proofs? It turns out that all of these proofs involve the lemma: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg12.png" alt="" title="" width="130" height="14"/> </p>
</div>
<p>So what happens if we add this? Well, it definitely reduces proof lengths:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg13.png" alt="" title="" width="607" height="316"/> </p>
</div>
<p>And sometimes it even seems like it brings proofs into “human range”. For example, a proof of</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025lemmasimg14.png" alt="" title="" width="104" height="14"/> </p>
</div>
<p>from our original axiom has length 56. Adding in commutativity reduces it to length 18. And adding our third lemma reduces it to just length 9—and makes it not even depend directly on the original axiom:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025lemmasCLOUDZimg15.png" alt="" title="" width="272" height="249"/> </p>
</div>
<p>But despite the apparent simplicity here, the steps involved—particularly when bisubstitution is used—are remarkably hard to follow. (Note the use of <em>a </em>= <em>a</em> as a kind of “implicit axiom”—something that has actually also appeared, without comment, in many of our other proofs.)</p>
<h2 id="can-we-get-a-shorter-proof">Can We Get a Shorter Proof?</h2>
<p>The proof that we’ve been studying can be seen in some ways as a rather arbitrary artifact. It’s the output of <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt>, with all its specific detailed internal algorithms and choices. In the Appendix, we’ll see that other automated theorem proving systems give very similar results. But we still might wonder whether actually the complexity of the proof as we’ve been studying it is just a consequence of the details of our automated theorem proving—and that in fact there’s a much shorter (and perhaps easier to understand) proof that exists.</p>
<p>One approach we could take—reminiscent of higher category theory—is to think about just simplifying the proof we have, effectively using proof-to-proof transformations. And, yes, this is technically difficult, though it doesn’t seem impossible. But what if there are <a href="https://www.wolframscience.com/metamathematics/the-topology-of-proof-space/">“holes” in proof space</a>? Then a “continuous deformation” of one proof into another will get stuck, and even if there is a much shorter proof, we’re liable to get “topologically stuck” before we find it.</p>
<p>One way to be sure we’re getting the shortest proof of a particular lemma is to explicitly find the first place that lemma appears in the (future) entailment cone of our original axiom. For example, as we saw above, a single substitution event leads to the entailment cone:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg1.png" alt="" title="" width="645" height="285"/> </p>
</div>
<p>Every lemma produced here is, by construction, in principle derivable by a proof involving a single substitution event. But if we actually use <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> to prove these lemmas, the proofs we get most involve 2 events (and in one case 4):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025shorterAimg2.png" alt="" title="" width="645" height="75"/> </p>
</div>
<p>If we take another step in the entailment cone, we get a total of 5062 lemmas. From the way we generated them, we know that all these lemmas can in principle be reached by proofs of length 2. But if we run <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> on them, we find a distribution of proof lengths:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg3.png" alt="" title="" width="314" height="141"/> </p>
</div>
<p>And, yes, there is one lemma (with <tt><a href="http://reference.wolfram.com/language/ref/LeafCount.html">LeafCount</a></tt> 183) that is found only by a proof of length 15. But most often the proof length is 4—or about double what it could be. </p>
<p>If we generate the entailment cone for lemmas using bisubstitution rather than just ordinary substitution, there are slightly more cases where <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> does worse at getting minimal proofs. </p>
<p>For example, the lemma</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg4.png" alt="" title="" width="671" height="14"/> </p>
</div>
<p>and 3 others can be generated by a single bisubstitution from the original axiom, but <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> gives only proofs of length 4 for all of these.</p>
<p>What about unrolled proofs, in which one can generate an entailment cone by starting from a particular expression, and then applying the original axiom in all possible ways? For example, let’s say we start with:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg5.png" alt="" title="" width="77" height="14"/> </p>
</div>
<p>Then applying bisubstitution with the original axiom once in all possible ways gives:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg6.png" alt="" title="" width="601" height="186"/> </p>
</div>
<p>Applying bisubstitution a second time gives a larger entailment cone: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025shorterCimg7.png" alt="" title="" width="451" height="406"/> </p>
</div>
<p>But now it turns out that—as indicated—one of the expressions in this cone is: </p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg8.png" alt="" title="" width="262" height="14"/> </p>
</div>
<p>So this shows that the lemma</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg9.png" alt="" title="" width="359" height="14"/> </p>
</div>
<p>can in principle be reached with just two steps of “unrolled” proof:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg10.png" alt="" title="" width="441" height="41"/> </p>
</div>
<p>And in this particular case, if we use <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> and then unroll the resulting proof we also get a proof of length 3—but it goes through a different intermediate expression:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025shorterimg11.png" alt="" title="" width="542" height="41"/> </p>
</div>
<p>As it happens, this intermediate expression is also reached in the entailment cone that we get by starting from our “output” expression and then applying two bisubsitutions:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025shorterEimg12-min.png" alt="" title="" width="528" height="417"/> </p>
</div>
<h2 id="what-actually-is-the--models-and-the-proof">What Actually Is the “·”? Models and the Proof</h2>
<p>We can think of logic (or Boolean algebra) as being associated with a certain collection of theorems. And what our axiom does is to provide something from which all theorems of logic (and nothing but theorems of logic) can be derived. At some level, we can think of it as just being about symbolic expressions. But in our effort to understand what’s going on—say with our proof—it’s sometimes useful to ask how we can “concretely” interpret these expressions.</p>
<p>For example, we might ask what the · operator actually is. And what kinds of things can our symbolic variables be? In effect we’re asking for what in model theory are called <a href="https://www.wolframscience.com/metamathematics/the-model-theoretic-perspective/">“models” of our axiom system</a>. And in aligning with logic the most obvious model to discuss is one in which variables can be <tt><a href="http://reference.wolfram.com/language/ref/True.html">True</a></tt> or <tt><a href="http://reference.wolfram.com/language/ref/False.html">False</a></tt>, and the · represents either the logical operator <tt><a href="http://reference.wolfram.com/language/ref/Nand.html">Nand</a></tt> or the logical operator <tt><a href="http://reference.wolfram.com/language/ref/Nor.html">Nor</a></tt>.</p>
<p>The truth table, say for <tt>Nand</tt>, is:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025actuallyimg1.png" alt="" title="" width="156" height="152"/> </p>
</div>
<p>And as expected, with this model for ·, we can confirm that our original axiom holds:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025actuallyimg2.png" alt="" title="" width="379" height="274"/> </p>
</div>
<p>In general, though, our original axiom allows two size-2 models (that we can interpret as <tt>Nand</tt> and <tt>Nor</tt>):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025actuallyimg4.png" alt="" title="" width="98" height="52"/> </p>
</div>
<p>It allows no size-3 models, and in fact in general <a href="https://www.wolframscience.com/nks/notes-12-9--operators-on-sets/">allows only models of size 2<sup><em>n</em></sup></a>; for example, for size 4 its models are:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025actuallyimg6.png" alt="" title="" width="551" height="210"/> </p>
</div>
<p>So what about <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>? What models does it allow? For size 2, it’s all 8 possible models with symmetric “multiplication tables”:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01082025actuallyimg7.png" alt="" title="" width="467" height="52"/> </p>
</div>
<p>But the crucial point is that the 2 models for our original axiom system are part of these. In other words, at least for size-2 models, satisfying the original axiom system implies satisfying <nobr><em>a</em> · <em>b</em> = <em>b</em> · <em>a</em>.</nobr></p>
<p>And indeed any lemma derived from our axiom system must allow the models associated with our original axiom system. But it may also allow more—and sometimes many more. So here’s a map of our proof, showing how many models (out of 16 possible) each lemma allows:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025KDCLOUDimg5.png" alt="" title="" width="329" height="674"/> </p>
</div>
<p>Here are the results for size-3 models:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01092025KDCLOUDimg6.png" alt="" title="" width="478" height="972"/> </p>
</div>
<p>And, once again, these look complicated. We can think of models as defining—in some sense—<a href="https://www.wolframscience.com/nks/p804--implications-for-mathematics-and-its-foundations/">what lemmas are “about”</a>. So, for example, our original axiom is “about” <tt>Nand</tt> and <tt>Nor</tt>. The lemma <em>a</em> · <em>b</em> = <em>b</em> · <em>a</em> is “about” symmetric functions. And so on. And we might have hoped that we could gain some understanding of our proof by looking at how different lemmas that occur in it “sculpt” what is being talked about. But in fact we just seem to end up with complicated descriptions of sets that don’t seem to have any obvious relationship with each other.</p>
<h2 id="what-about-a-higher-level-abstraction">What about a Higher-Level Abstraction?</h2>
<p>If there’s one thing that stands out about our proof—and the analysis we’ve given of it here—it’s how fiddly and “in the weeds” it seems to be. But is that because we’re missing some big picture? Is there actually a more abstract way of discussing things, that gets to our result without having to go through all the details? </p>
<p>In the history of mathematics many of the most important themes have been precisely about finding such higher-level abstractions. We could start from the <a href="https://www.wolframscience.com/nks/notes-12-9--groups-and-axioms/">explicit symbolic axioms</a></p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025abstractionimg1.png" alt="" title="" width="120" height="59"/> </p>
</div>
<p>or even</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025abstractionimg2.png" alt="" title="" width="165" height="22"/> </p>
</div>
<p>and start building up theorems much as we’ve done here. Or we could recognize that these are axioms for group theory, and then start using the abstract ideas of group theory to derive our theorems.</p>
<p>So is there some higher-level version of what we’re discussing here? Remember that the issue is not about the overall structure of Boolean algebra; rather it’s about the more metamathematical question of how one can prove that all of Boolean algebra can be generated from the axiom:</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025abstractionimg3.png" alt="" title="" width="183" height="14"/> </p>
</div>
<p>In the last few sections we’ve tried a few semi-empirical approaches to finding higher-level representations. But they haven’t gotten very far. And to get further we’re probably going to need a serious new idea.</p>
<p>And, if history is a guide, we’re going to need to come up with an abstraction that somehow “goes outside of the system” before “coming back”. It’s like trying to figure out the real roots of a cubic equation, and realizing that the best way to do this is to introduce complex numbers, even though the imaginary parts will cancel at the end. </p>
<p>In the direct exploration of our proof, it feels as if the intermediate lemmas we generate “wander off into the wilds of metamathematical space” before coming back to establish our final result. And if we were using a higher-level abstraction, we’d instead be “wandering off” into the space of that abstraction. But what we might hope is that—at least with the concepts we would use in discussing that abstraction—the path that would be involved would be “short enough to be accessible to human understanding”.</p>
<p>Will we be able to find such an abstraction? It’s a subtle question. Because in effect it asks whether we can reduce the computational effort needed for the proof—or, in other words, whether we can find a pocket of computational reducibility in what in general will be a computationally irreducible process. But it’s not a question that can really be answered just for our specific proof on it own. After all, our “abstraction” could in principle just involve introducing a primitive that represents our whole proof or a large part of it. But to make it what we can think of as a real abstraction we need something that spans many different specific examples—and, in our case, likely many axiomatic systems or symbolic proofs.</p>
<p>So is such an abstraction possible? In the history of mathematics the experience has been that after enough time (often measured in centuries) has passed, abstractions tend to be found. But at some level this has been self fulfilling. Because the areas that are considered to have remained “interesting for mathematics” tend to be just those where general abstractions have in fact been found. </p>
<p>In <a href="https://writings.stephenwolfram.com/2021/09/charting-a-course-for-complexity-metamodeling-ruliology-and-more/">ruliology</a>, though, the typical experience has been different. Because there it’s been routine to <a href="https://www.wolframscience.com/nks/">sample the computational universe of possible simple programs</a> and encounter computational irreducibility. In the end it’s still inevitable that among the computational irreducibility there must be pockets of computational reducibility. But the issue is that these pockets of computational reducibility may not involve features of our system that we care about. </p>
<p>So is a proof of the kind we’re discussing here more like ruliology, or more like “typical mathematics”? Insofar as it’s a mathematical-style proof of a mathematical statement it feels more like typical mathematics. But insofar as it’s something found by the computational process of automated theorem proving it perhaps seems more ruliology. </p>
<p>But what might a higher-level abstraction for it look like? Figuring that out is probably tantamount to finding the abstraction. But perhaps one can at least expect that in some ways it will be metamathematical, and more about the structure and character of proofs than about their content. Perhaps it will be something related to the framework of higher category theory, or some form of meta-algebra. But as of now, we really don’t know—and we can’t even say that such an abstraction with any degree of generality is possible.</p>
<h2 id="llms-to-the-rescue">LLMs to the Rescue?</h2>
<p>The unexpected success of LLMs in language generation and related tasks has led to the idea that perhaps eventually <a href="https://writings.stephenwolfram.com/2024/03/can-ai-solve-science/">systems like LLMs will be able to “do everything”</a>—including for example math. We already know—not least thanks to Wolfram Language—that <a href="https://www.wolfram.com/mathematica/">lots of math can be done computationally</a>. But often the computations are hard—and, as in the example of the proof we’re discussing here, incomprehensible to humans. So the question really is: can LLMs “humanize” what has to be done in math, turning everything into a human-accessible narrative? And here our proof seems like an excellent—if challenging—test case. </p>
<p>But what happens if we just ask a current LLM to generate the proof from scratch? It’s not a good picture. Very often the LLM will eagerly generate a proof, but it’ll be completely wrong, often with the same kind of mistakes that a student somewhat out of their depth might make. Here’s a typical response where an LLM simply assumes that the · operator is associative (which it isn’t in Boolean algebra) then produces a proof that on first blush looks at least vaguely plausible, but is in fact completely wrong:</p>
<p><img src="https://content.wolfram.com/sites/43/2025/01/sw01072025rescueimg1.png" alt="Inadequate LLM proof" title="Inadequate LLM proof" width="611" height="489"/></p>
<p>Coming up with an explanation for what went wrong is basically an exercise in “LLM psychology”. But in a first approximation one might say the following. LLMs are trained to “fill in what’s typical”, where “typical” is defined by what appears in the training set. But (absent some recent Wolfram Language and <a href="https://www.wolframalpha.com/">Wolfram|Alpha</a> based technology of ours) what’s been available as a training set has been human-generated mathematical texts, where, yes, operators are often associative, and typical proofs are fairly short. And in the “psychology of LLMs” an LLM is much more likely to “do what’s typical” than to “rigorously follow the rules”. </p>
<p>If you press the LLM harder, then it might just “abdicate”, and suggest using the <a href="https://writings.stephenwolfram.com/2023/03/chatgpt-gets-its-wolfram-superpowers/">Wolfram Language as a tool</a> to generate the proof. So what happens if we do that, then feed the finished proof to the LLM and ask it to explain? Well, typically it just does what LLMs do so well, and writes an essay:</p>
<p><img src="https://content.wolfram.com/sites/43/2025/01/sw01072025rescueimg2.png" alt="LLM proof essay" title="LLM proof essay" width="614" height="516"/></p>
<p>So, yes, it does fine in “generally framing the problem”. But not on the details. And if you press it for details, it’ll typically eventually just start parroting what it was given as input. </p>
<p>How else might we try to get the LLM to help? One thing I’ve certainly wondered is how the lemmas in the proof relate to known theorems—perhaps in quite different areas of mathematics. It’s something one might imagine one would be able to answer by searching the literature of mathematics. But, for example, textual search won’t be sufficient: it has to be some form of <a href="https://writings.stephenwolfram.com/2024/07/yet-more-new-ideas-and-new-functions-launching-version-14-1-of-wolfram-language-mathematica/#vector-databases-and-semantic-search">semantic search</a> based on the meaning or symbolic structure of lemmas, not their (fairly arbitrary) textual presentation. A vector database might be all one needs, but one can certainly ask an LLM too:</p>
<p><img src="https://content.wolfram.com/sites/43/2025/01/sw01072025rescueimg3.png" alt="LLM semantic search results" title="LLM semantic search results" width="619" height="485"/></p>
<p>It’s not extremely helpful, though, charmingly, it correctly identifies the source of our original axiom. I’ve tried similar queries for our whole set of lemmas across a variety of LLMs, with a variety of RAG systems. Often the LLM will talk about an interpretation for some lemma—but the lemma isn’t actual present in our proof. But occasionally the LLM will mention possible connections (“band theory”; “left self-distributive operations in quandles”; “Moufang loops”)—though so far none have seemed to quite hit the mark.</p>
<p>And perhaps this failure is itself actually a result—telling us that the lemmas that show up in our proof really are, in effect, out in the wilds of metamathematical space, probing places that haven’t ever been seriously visited before by human mathematics.</p>
<p>But beyond LLMs, what about more general machine learning and neural net approaches? Could we imagine <a href="https://writings.stephenwolfram.com/2024/03/can-ai-solve-science/#science-as-narrative">using a neural net as a probe to find “exploitable regularities”</a> in our proof? It’s certainly possible, but I suspect that the systematic algorithmic methods we’ve already discussed for finding optimal notations, popular lemmas, etc. will tend to do better. I suppose it would be one thing if our systematic methods had failed to even find a proof. Then we might have wanted something like neural nets to try to guess the right paths to follow, etc. But as it is, our systematic methods rather efficiently do manage to successfully find a proof. </p>
<p>Of course, there’s still the issue that we’re discussing here that the proof is very “non-human”. And perhaps we could imagine that neural nets, etc.—especially when trained on existing human knowledge—could be used to “form concepts” that would help us humans to understand the proof. </p>
<p>We can get at least a rough analogy for how this might work by looking at <a href="https://writings.stephenwolfram.com/2023/07/generative-ai-space-and-the-mental-imagery-of-alien-minds/">visual images produced by a generative AI system</a> trained from billions of human-selected images. There’s a concept (like “a cube”) that exists somewhere in the feature space of possible images. But “around” that concept are other things—<a href="https://writings.stephenwolfram.com/2023/07/generative-ai-space-and-the-mental-imagery-of-alien-minds/#the-notion-of-interconcept-space">“out in interconcept space”</a>—that we don’t (at least yet) explicitly have words for:</p>
<div>
<p><img src="https://content.wolfram.com/sites/43/2025/01/sw01072025rescueimg4.png" alt="Interconcept space" title="Interconcept space" width="494" height="494"/></p>
</div>
<p>And it’ll presumably be similar for math, though harder to represent in something like a visual way. There’ll be existing math concepts. But these will be embedded in a vast domain of “mathematical interconcept space” that we humans haven’t yet “colonized”. And what we can imagine is that—perhaps with the help of neural nets, etc.—we can identify a limited number of “points in interconcept space” that we can introduce as new concepts that will, for example, provide useful “waypoints” in understanding our proof.</p>
<h2 id="but-why-is-the-theorem-true">But Why Is the Theorem True?</h2>
<p>It’s a common human urge to think that anything that’s true must be true for a reason. But what about our theorem? Why is it true? Well, we’ve seen a proof. But somehow that doesn’t seem satisfactory. We want “an explanation we can understand”. But we know that in general we can’t always expect to get one.</p>
<p>It’s a fundamental implication of computational irreducibility that things can happen where the only way to “see how they happen” is just to “watch them happen”; there’s no way to “compress the explanation”.</p>
<p>Consider the following patterns. They’re all generated by cellular automata. And all <a href="https://writings.stephenwolfram.com/2024/05/why-does-biological-evolution-work-a-minimal-model-for-biological-evolution-and-other-adaptive-processes/">live exactly 100 steps before dying out</a>. But why?</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025theoremimg1-1.png" alt="" title="" width="597" height="509"/> </p>
</div>
<p>In a few cases it seems like we can perhaps at least begin to imagine “narratively describing” a mechanism. But most of the time all we can say is basically that they “live 100 steps because they do”. </p>
<p>It’s a quintessential consequence of computational irreducibility. It might not be what we’d expect, or hope for. But it’s reality in the computational universe. And it seems very likely that our theorem—and its proof—is like this too. The theorem in effect “just happens to be true”—and if you run the steps in the proof (or find the appropriate path in the entailment cone) you’ll find that it is. But there’s no “narrative explanation”. No “understanding of why it’s true”. </p>
<h2 id="intuition-and-automated-theorem-proving">Intuition and Automated Theorem Proving</h2>
<p>We’ve been talking a lot about the proof of our theorem. But where did the theorem to prove come from in the first place? Its immediate origin was an <a href="https://www.wolframscience.com/nks/notes-12-9--searching-for-logic-axioms/">exhaustive search I did of simple axiom systems</a>, filtering for ones that could conceivably generate Boolean algebra, followed by testing each of the candidates using automated theorem proving. </p>
<p>But how did I even get the idea of searching for a simple axiom system for Boolean algebra? Based on the axiom systems for Boolean algebra known before—and the historical difficulty of finding them—one might have concluded that it was quite hopeless to find an axiom system for Boolean algebra by exhaustive search. But by 2000 I had nearly two decades of experience in exploring the computational universe—and I was well used to the <a href="https://www.wolframscience.com/nks/chap-2--the-crucial-experiment/">remarkable phenomenon</a> that even very simple computational rules can lead to behavior of great complexity. So the result was that when I came to think about axiom systems and the foundations of mathematics my intuition led me to imagine that perhaps the simplest axiom system for something like Boolean algebra might be simple enough to exhaustively search for.</p>
<p>And indeed discovering the axiom system we’ve discussed here helped further expand and deepen my intuition about the consequences of simple rules. But what about the proof? What intuition might one get from the proof as we now know it, and as we’ve discussed here?</p>
<p>There’s much intuition to be got from observing the world as it is. But for nearly half a century I’ve had another crucial source of intuition: observing the computational universe—and doing computational experiments. I was recently reflecting on how I came to start developing intuition in this way. And what it might mean for intuition I could now develop from things like automated theorem proving and AI.</p>
<p>Back in the mid-1970s <a href="https://www.stephenwolfram.com/publications/academic/particle-physics">my efforts in particle physics</a> led me to start using computers to do not just numerical, but <a href="https://writings.stephenwolfram.com/2013/06/there-was-a-time-before-mathematica/">also algebraic computations</a>. In numerical computations it was usual to just get a few numbers out, that perhaps one could plot to make a curve. But in algebraic computations one instead got out formulas—and <a href="https://content.wolfram.com/sw-publications/2020/07/effective-coupling-qcd.pdf" target="_blank" rel="noopener">often very ornate ones full of structure and detail</a>. And for me it was routine to get not just one formula, but many. And looking at these formulas I started to develop intuition about them. What functions would they involve? What algebraic form would they take? What kind of numbers would they involve? </p>
<p>I don’t think I ever consciously realized that I was developing a new kind of computationally based intuition. But I soon began to take it for granted. And when—at the beginning of the 1980s—<a href="https://www.wolframscience.com/nks/chap-1--the-foundations-for-a-new-kind-of-science#sect-1-4--the-personal-story-of-the-science-in-this-book">I started to explore the consequences of simple abstract systems</a> like cellular automata it was natural to expect that I would get intuition from just “seeing” how they behaved. And here there was also another important element. Because part of the reason I concentrated on cellular automata was precisely because one could readily visualize their behavior on a computer. </p>
<p>I don’t think I would have learned much if I’d just been printing out “numerical summaries” of what cellular automata do. But as it was, I was seeing their behavior in full detail. And—surprising though what I saw was—I was soon able to start getting an intuition for what could happen. It wasn’t a matter of knowing what the value of every cell would be. But I started doing things like identifying four general classes of cellular automata, and then recognizing the phenomenon of computational irreducibility. </p>
<p>By the 1990s I was much more broadly exploring the computational universe—always trying to see what could happen there. And in almost all cases it was a story of defining simple rules, then running them, and making an explicit step-by-step visualization of what they do—and thereby in effect “seeing computation in action”.</p>
<p>In recent years—spurred by our <a href="https://www.wolframphysics.org" target="_blank" rel="noopener">Physics Project</a>—I’ve increasingly explored not just computational processes, but also <a href="https://writings.stephenwolfram.com/2021/09/multicomputation-a-fourth-paradigm-for-theoretical-science/">multicomputational ones</a>. And although it’s more difficult I’ve made every effort to visualize the behavior of multiway systems—and to get intuition about what they do. </p>
<p>But what about automated theorem proving? In effect, automated theorem proving is about finding a particular path in a multiway system that leads to a theorem we want. We’re not getting to see “complete behavior”; we’re in effect just seeing one particular “solution” for how to prove a theorem. </p>
<p>And after one’s seen many examples, the challenge once again is to develop intuition. And that’s a large part of what I’ve been trying to do here. It’s crucial, I think, to have some way to visualize what’s happening—in effect because visual input is the most efficient way to get information into our brains. And while the visualizations we’ve developed here aren’t as direct and complete as, say, for cellular automaton evolution, I think they begin to give some overall sense of our proof—and other proofs like it.</p>
<p>In studying simple programs like cellular automata, the intuition I developed led me to things like my <a href="https://www.wolframscience.com/nks/chap-6--starting-from-randomness#sect-6-2--four-classes-of-behavior">classification of cellular automaton behavior</a>, as well as to bigger ideas like the <a href="https://www.wolframscience.com/nks/chap-12--the-principle-of-computational-equivalence/">Principle of Computational Equivalence</a> and computational irreducibility. So having now exposed myself to automated theorem proving as I exposed myself to algebraic computation and the running of simple rules in the past, what general principles might I begin to see? And might they, for example, somehow make the fact that our proof works ultimately seem “obvious”?</p>
<p>In some ways yes, but in other ways no. Much as with simple programs, there are axiom systems so simple that, for example, the <a href="https://www.wolframscience.com/metamathematics/axiom-systems-in-the-wild/">multiway systems they generate are highly regular</a>. But beyond a low threshold, it’s common to get very complicated—and in many ways seemingly random—multiway system structures. Typically an infinite number of lemmas are generated, with little or no obvious regularity in their forms.</p>
<p>And one can expect that—following the ideas of universal computation—it’ll typically be possible to encode in any one such multiway system the behavior of any other multiway system. In terms of axioms what one’s saying is that if one sets up the right translation between theorems, one will be able to use any one such axiom system to generate the theorems of any other. But the issue is that the translation will often make major changes to the structure of the theorems, and in effect define not just a “mathematical translation” (like between geometry and algebra) but a <a href="https://www.wolframscience.com/metamathematics/uniformity-and-motion-in-metamathematical-space/#p-146">metamathematical one (as one would need to get from Peano arithmetic to set theory)</a>. </p>
<p>And what this means is that it isn’t surprising that even a very simple axiom system can generate a complicated set of possible lemmas. But knowing this doesn’t immediately tell one whether those lemmas will align with some particular existing theory—like Boolean algebra. And in a sense that’s a much more detailed question.</p>
<p>At some metamathematical level it might not be a natural question. But at a “mathematical level” it is. And it’s what we have to address in connection with the theorem—and proof—we’re discussing here. Many aspects of the overall form and properties of the proof will be quite generic, and won’t depend on the particulars of the axiom system we’re using. But some will. And quite what intuition we may be able to get about these isn’t clear. And perhaps it’ll necessarily be fragmented and specific—in effect responding to the presence of computational irreducibility.</p>
<p>It’s perhaps worth commenting that LLMs—and machine learning in general—represent another potential source of intuition. That intuition may well be more about the general features of us as observers and thinkers. But such intuition is potentially critical in framing just what we can experience, not only in the natural world, but also in the mathematical and metamathematical worlds. And perhaps the apparent impotence of LLMs when faced with the proof we’ve been discussing already tells us something significant about the nature of “mathematical observers” like us.</p>
<h2 id="so-what-does-it-mean-for-the-future-of-mathematics">So What Does It Mean for the Future of Mathematics?</h2>
<p>Let’s say we never manage to “humanize” the proof we’ve been discussing here. Then in effect we’ll end up with a “black-box theorem”—that we can be sure is true—but we’ll never know quite how or why. So what would that mean for mathematics?</p>
<p>Traditionally, mathematics has tended to operate in a “white box” kind of way, trying to build narrative and understanding along with “facts”. And in this respect it’s very different from natural science. Because in natural science much of our knowledge has traditionally been empirical—derived from observing the world or experimenting on it—and without any certainty that we can “understand its origins”. </p>
<p>Automated theorem proving of the kind we’re discussing here—or, for that matter, pretty much any exploratory computational experimentation—aligns mathematics much more with natural science, deriving what’s true without an expectation of having a narrative explanation of why. </p>
<p>Could one imagine practicing mathematics that way? One’s already to some extent following such a path as soon as one introduces axiom systems to base one’s mathematics on. Where do the axiom systems come from? In <a href="https://writings.stephenwolfram.com/2020/09/the-empirical-metamathematics-of-euclid-and-beyond/">the time of Euclid</a> perhaps they were thought of as an idealization of nature. But in more modern times they are realistically much more the result of human choice and human aesthetics.</p>
<p>So let’s say we determine (given a particular axiom system) that some black-box theorem is true. Well, then we can just add it, just as we could another axiom. Maybe one day it’ll be possible to prove <a href="https://www.wolframscience.com/nks/p765--undecidability-and-intractability/">P≠NP</a> or the <a href="https://writings.stephenwolfram.com/2021/03/after-100-years-can-we-finally-crack-posts-problem-of-tag-a-story-of-computational-irreducibility-and-more/#classic-unsolved">Riemann Hypothesis</a> from existing axioms of mathematics (if they don’t in fact turn out to be independent). And—black box or not—we can expect to add them to what we assume in subsequent mathematics we do, much as they’re routinely added right now, even though their status isn’t yet known. </p>
<p>But it’s one thing to add one or two “black-box theorems”. But what happens when black-box theorems—that we can think of as “experimentally determined”—start to dominate the landscape of mathematics? </p>
<p>Well, then mathematics will take on much more of the character of ruliology—or of an experimental science. When it comes to the applications of mathematics, this probably won’t make much difference, except that in effect mathematics will be able to become much more powerful. But the “inner experience” of mathematics will be quite different—and much less “human”.</p>
<p>If one indeed starts from axioms, it’s not at the outset obvious why everything in mathematics should not be mired in the kind of alien-seeming metamathematical complexity that we’ve encountered in the discussion of our proof here. But <a href="https://www.wolframscience.com/metamathematics/mathematics-and-physics-have-the-same-foundations/">what I’ve argued elsewhere</a> is that the fact that in our experience of doing mathematics it’s not is a reflection of how “mathematical observers like us” sample the raw metamathematical structure generated by axioms (or ultimately by the <a href="https://www.wolframscience.com/metamathematics/going-below-axiomatic-mathematics/">subaxiomatic structure of the ruliad</a>). </p>
<p>The physics analogy I’ve used is that we succeed in doing mathematics at a “fluid dynamics level”, far above the detailed “molecular dynamics level” of things like the proof we’ve discussed here. Yes, we can ask questions—like ones about the structure of our proof—that probe the axiomatic “molecular dynamics level”. But it’s an important fact that in doing what we normally think of as mathematics we almost never have to; there’s a coherent way to operate purely at the “fluid dynamics level”.</p>
<p>Is it useful to “dip down” to the molecular dynamics? Definitely yes, because that’s where we can readily do computations—like those in our proof, or in general those going on in the internals of the Wolfram Language. But a key idea in the design of the Wolfram Language is to provide a computational language that can express concepts at a humanized “fluid dynamics” level—in effect bridging between the way humans can think and understand things, and the way raw computation can be done with them.</p>
<p>And it’s notable that while we’ve had great success over the years in defining “human-accessible” high-level representations for what amount to the “inputs” and “outputs” of computations, that’s been much less true of the “ongoing processes” of computation—or, for example, of the innards of proofs. </p>
<p>Is there a good “human-level” way to represent proofs? If the proofs are short, it’s not too difficult (and the <a href="https://www.wolframalpha.com/pro/step-by-step-math-solver">step-by-step solutions technology of Wolfram|Alpha</a> provides a good large-scale example of what can be done). But—as we’ve discussed—computational irreducibility implies that some proofs will inevitably be long. </p>
<p>If they’re not too long, then at least some parts of them might be constructed by human effort, say in a system like a proof assistant. But as soon as there’s much automation (whether with automated theorem proving or with LLMs) it’s basically inevitable that one will end up with things that at least approach what we’ve seen with the proof we’re discussing here. </p>
<p>What can then be done? Well, that’s the challenge. Maybe there is some way to simplify, abstract or otherwise “humanize” the proof we’ve been discussing. But I rather doubt it. I think this is likely one of those cases where we inevitably find ourselves face to face with computational irreducibility. </p>
<p>And, yes, there’s important science (particularly ruliology) to do on the structures we see. But it’s not mathematics as it’s traditionally been practiced. But that’s not to say that the results that come out of things like our proof won’t be useful for mathematics. They will be. But they make mathematics more like an experimental science—where what matters most is in effect the input and output rather than a “publishable” or human-readable derivation in between. And where the key issue in making progress is less in the innards of derivations than in defining clear computational ways to express input and output. Or, in effect, in capturing “human-level mathematics” in the primitives and structure of <a href="https://writings.stephenwolfram.com/2019/05/what-weve-built-is-a-computational-language-and-thats-very-important/">computational language</a>. </p>
<h2 id="appendix-what-about-a-different-theorem-proving-system">Appendix: What about a Different Theorem Proving System?</h2>
<p>The proof we’ve been discussing here was created using <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> in the Wolfram Language. But what if we were to use a different automated theorem proving system? How different would the results be? In the spectrum of things that automated theorem proving systems do, our proof here is on the difficult end. And many existing automated theorem proving systems don’t manage to do it all. But some of the stronger ones do. And in the end—despite their different internal algorithms and heuristics—it’s remarkable how similar the results they give are to those from the Wolfram Language <tt>FindEquationalProof</tt> (differences in the way lemmas vs. inference steps, etc. are identified make detailed quantitative comparisons difficult):</p>
<div>
<p><img loading="lazy" src="https://content.wolfram.com/sites/43/2025/01/sw01072025appendiximg1.png" alt="" title="" width="650" height="433"/> </p>
</div>
<h2 id="thanks">Thanks</h2>
<p>Thanks to Nik Murzin of the <a href="https://wolframinstitute.org/" target="_blank" rel="noopener">Wolfram Institute</a> for his extensive help as part of the Wolfram Institute Empirical Metamathematics Project. Also Roger Germundsson, Sergio Sandoval, Adam Strzebonski, Michael Trott, Liubov Tupikina, James Wiles and Carlos Zapata for input. Thanks to Arnim Buch and Thomas Hillenbrand for their work in the 1990s on Waldmeister which is now part of <tt><a href="http://reference.wolfram.com/language/ref/FindEquationalProof.html">FindEquationalProof</a></tt> (also to Jonathan Gorard for his 2017 work on the interface for <tt>FindEquationalProof)</tt>. I was first seriously introduced to automated theorem proving in the late 1980s by Dana Scott, and have interacted with many people about it over the years, including Richard Assar, Bruno Buchberger, David Hillman, Norm Megill, Todd Rowland and Matthew Szudzik. (I’ve also interacted with many people about proof assistant, proof presentation and proof verification systems, both recently and in the past.)</p>
        </div></div>
  </body>
</html>
