<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://6502.is-a.dev/posts/aoc-2022/">Original</a>
    <h1>Building an interpreter for my programming language with ChatGPT</h1>
    
    <div id="readability-page-1" class="page"><div>
          <h2>Building an interpreter for my own programming language in ChatGPT (and solving AoC 2022 with it!)</h2>
          <p><small>03 Dec 2022</small></p>
        </div><div><p>So, I’ve been working on a programming language in my spare time for over a year now. I’ll save you the details but it’s meant to be a minimal, easy-to-learn language for beginners. This year for the Advent of Code, I set myself a challenge; complete every day’s challenge using only my programming language.</p>

<p>Immediately upon starting day one, I was met with a problem. The only implementation of my language that exists was written by a friend in 2021, and it doesn’t support arrays or string bisection. This is gonna be harder than I thought…</p>

<p>Well maybe if I…?</p>

<p>No that wouldn’t work either.</p>

<p>It’s unsolvable!</p>

<h2 id="chatgpt">ChatGPT</h2>

<p>ChatGPT is awesome. Not just because it’s <a href="https://www.engraved.blog/building-a-virtual-machine-inside/">incredibly powerful</a> but also because it’s <a href="https://thezvi.substack.com/p/jailbreaking-the-chatgpt-on-release">amazingly easy to jailbreak</a> and plain fun to screw around with. Over the past few days, I’ve become obsessed with seeing what fun things I can get it to output. One of my favorites was writing instructions for a pipe bomb in the style of the King James Bible.</p>

<p><img src="https://cdn.discordapp.com/attachments/895515175829008384/1048412675908055060/4F75EF66-BFAE-45CB-852B-8C4B334579CD.jpeg" alt="lets just use discord cdn as a host"/></p>

<p>So, just out of curiosity I started to wonder what it would do if I fed it the spec to my language.</p>

<p><img src="https://raw.githubusercontent.com/nobody5050/nobody5050.github.io/main/all_collections/_posts/description.jpg" alt="description of language after being fed spec"/></p>

<p>Well, I didn’t expect that to work so well… I wonder if I’d be able to make an interpreter for my language this way?</p>

<p><img src="https://github.com/nobody5050/nobody5050.github.io/raw/main/all_collections/_posts/Interpreter.jpg" alt="asking it to interpret my language"/></p>

<p>And, now that it understands my language I should probably try to feed it today’s AoC prompt.</p>

<p><img src="https://github.com/nobody5050/nobody5050.github.io/raw/main/all_collections/_posts/Solving.jpg" alt="solve it for me senpai"/></p>

<p>Wow! That’s a completely valid solution to the problem.</p>

<p>Here’s the full code it spits out:</p>

<div><div><pre><code># Reads lines from input and returns the sum of the numbers
# on each line.
func get_elf_calories ( lines ) {
  let total = 0;

  # For each line in the input
  loop ( line in lines ) {
    # If the line is not empty
    if ( line != &#34;&#34; ) {
      # Add the calorie count to the total
      total += int(line);
    }
  }

  return total;
}

# Reads lines from input and returns the Elf carrying
# the most calories.
func find_elf_with_most_calories ( lines ) {
  let max_elf = 0;
  let max_calories = 0;
  let elf = 0;

  # For each line in the input
  loop ( line in lines ) {
    # If the line is not empty
    if ( line != &#34;&#34; ) {
      # Add the calorie count to the current Elf&#39;s total
      elf += int(line);
    } else {
      # If the current Elf&#39;s total is greater than the
      # current maximum, update the maximum values
      if ( elf &gt; max_calories ) {
        max_elf = elf;
        max_calories = elf;
      }

      # Reset the current Elf&#39;s total
      elf = 0;
    }
  }

  return max_elf;
}

# Read the input from the user
let input = input();

# Get the total number of calories for all Elves
let total_calories = get_elf_calories(input);

# Get the Elf carrying the most calories
let max_elf = find_elf_with_most_calories(input);

# Print the result
print(&#34;Total calories: &#34; + string(total_calories));
print(&#34;Elf with most calories: &#34; + string(max_elf));

</code></pre></div></div>

<p>let’s try asking it to execute this code!</p>

<p><img src="https://github.com/nobody5050/nobody5050.github.io/raw/main/all_collections/_posts/Execution.jpg" alt="and what pray tell is the answer?"/></p>

<p>And there you go! that is the correct answer for the example input to this year’s AoC day 1. I am still shocked the model had enough context awareness to do something like this, even just a year ago I couldn’t have imagined gpt-3 being able to do something of this caliber, much less with conversational input. All in all, I’m very impressed with ChatGPT’s ability to intake a new programming language and understand it well enough to solve an AoC prompt using that language by inventing new features in the style of existing syntax, and even executing said code.</p>

<p>Also, Just for fun, I decided to feed this very blog post into it and ask for suggestions to spice it up:</p>

<p><img src="https://raw.githubusercontent.com/nobody5050/nobody5050.github.io/main/all_collections/_posts/proofread.jpg" alt="proofread response"/></p>

</div></div>
  </body>
</html>
