<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/ImVexed/muon">Original</a>
    <h1>Muon: GPU Based Electron on a Diet</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto">
<a target="_blank" rel="noopener noreferrer" href="https://github.com/ImVexed/muon/blob/master/logo.svg"><img width="200" height="200" src="https://github.com/ImVexed/muon/raw/master/logo.svg" alt="gnet"/></a>
</p>
<hr/>
<p dir="auto"><code>Muon</code> is a lightweight alternative to Electron written in Golang in about ~300 LoC, using Ultralight instead of Chromium. <a href="https://ultralig.ht/" rel="nofollow">Ultralight</a> is a cross-platform WebKit rewrite using the GPU to target embedded desktop applications that resulted in a fast, lightweight, and low-memory HTML UI solution that blends the power of Chromium with the small footprint of Native UI.</p>

<ul dir="auto">
<li>Full JS to Go interop</li>
<li>GPU based rendering</li>
<li>Cross-platform</li>
<li>Hot-reloading</li>
<li>Superior disk size + memory &amp; cpu usage</li>
</ul>
<p dir="auto">Comparison with a &#34;Hello, World!&#34; React App</p>
<table>
<thead>
<tr>
<th></th>
<th>Muon</th>
<th>Electron</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>0.0%</td>
<td>1.2%</td>
</tr>
<tr>
<td>MEM</td>
<td>26.0 MB</td>
<td>201.7 MB</td>
</tr>
<tr>
<td>DISK</td>
<td>42 MB</td>
<td>136 MB</td>
</tr>
</tbody>
</table>

<p dir="auto">From <code>examples/create-react-app/main.go</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="package main

import (
  &#34;github.com/ImVexed/muon&#34;

  &#34;cra-go/webfiles&#34;
  &#34;net/http&#34;
)

func main() {
  // Any static asset packer of your liking (ex. fileb0x)
  fileHandler := http.FileServer(webfiles.HTTP)

  cfg := &amp;muon.Config{
    Title:      &#34;Hello, World!&#34;,
    Height:     500,
    Width:      500,
    Titled:     true,
    Resizeable: true,
  }

  m := muon.New(cfg, fileHandler)

  // Expose our `add` function to the JS runtime
  m.Bind(&#34;add&#34;, add)

  // Show the Window and start the Runtime
  if err := m.Start(); err != nil {
    panic(err)
  }
}

// Muon automatically handles interop to and from the JS runtime
func add(a float64, b float64) float64 {
  return a + b
}"><pre><span>package</span> main

<span>import</span> (
  <span>&#34;github.com/ImVexed/muon&#34;</span>

  <span>&#34;cra-go/webfiles&#34;</span>
  <span>&#34;net/http&#34;</span>
)

<span>func</span> <span>main</span>() {
  <span>// Any static asset packer of your liking (ex. fileb0x)</span>
  <span>fileHandler</span> <span>:=</span> <span>http</span>.<span>FileServer</span>(<span>webfiles</span>.<span>HTTP</span>)

  <span>cfg</span> <span>:=</span> <span>&amp;</span>muon.<span>Config</span>{
    <span>Title</span>:      <span>&#34;Hello, World!&#34;</span>,
    <span>Height</span>:     <span>500</span>,
    <span>Width</span>:      <span>500</span>,
    <span>Titled</span>:     <span>true</span>,
    <span>Resizeable</span>: <span>true</span>,
  }

  <span>m</span> <span>:=</span> <span>muon</span>.<span>New</span>(<span>cfg</span>, <span>fileHandler</span>)

  <span>// Expose our `add` function to the JS runtime</span>
  <span>m</span>.<span>Bind</span>(<span>&#34;add&#34;</span>, <span>add</span>)

  <span>// Show the Window and start the Runtime</span>
  <span>if</span> <span>err</span> <span>:=</span> <span>m</span>.<span>Start</span>(); <span>err</span> <span>!=</span> <span>nil</span> {
    <span>panic</span>(<span>err</span>)
  }
}

<span>// Muon automatically handles interop to and from the JS runtime</span>
<span>func</span> <span>add</span>(<span>a</span> <span>float64</span>, <span>b</span> <span>float64</span>) <span>float64</span> {
  <span>return</span> <span>a</span> <span>+</span> <span>b</span>
}</pre></div>

<h2 dir="auto"><a id="user-content-q-how-are-js-types-translated-to-go-types" aria-hidden="true" href="#q-how-are-js-types-translated-to-go-types"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Q: <em>How are JS types translated to Go types?</em></h2>
<ul dir="auto">
<li>JS: <code>Boolean</code> Go: <code>bool</code></li>
<li>JS: <code>Number</code>  Go: <code>float64</code></li>
<li>JS: <code>String</code>  Go: <code>string</code></li>
<li>JS: <code>Object</code>  Go: <code>struct</code> via JSON</li>
</ul>
<h2 dir="auto"><a id="user-content-q-how-do-i-setup-ultralight" aria-hidden="true" href="#q-how-do-i-setup-ultralight"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Q: <em>How do I setup Ultralight?</em></h2>
<ul dir="auto">
<li>See our <a href="https://github.com/ImVexed/muon/blob/master/getting-started.md">getting started guide</a></li>
</ul>
<h2 dir="auto"><a id="user-content-q-is-there-perfect-chrome-or-firefox-feature-parity" aria-hidden="true" href="#q-is-there-perfect-chrome-or-firefox-feature-parity"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Q: <em>Is there perfect Chrome or Firefox feature parity?</em></h2>
<ul dir="auto">
<li>No, see <a href="https://github.com/ultralight-ux/Ultralight/issues/178" data-hovercard-type="issue" data-hovercard-url="/ultralight-ux/Ultralight/issues/178/hovercard">Missing Ultralight Features</a></li>
</ul>
<h2 dir="auto"><a id="user-content-q-how-do-i-get-rid-of-the-console-on-windows" aria-hidden="true" href="#q-how-do-i-get-rid-of-the-console-on-windows"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Q: <em>How do I get rid of the Console on Windows?</em></h2>
<ul dir="auto">
<li>Add <code>-ldflags -H=windowsgui</code> to either your <code>go build</code> or <code>go run</code> to get rid of the window.</li>
</ul>
<h2 dir="auto"><a id="user-content-q-i-get-exit-status-3221225781" aria-hidden="true" href="#q-i-get-exit-status-3221225781"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Q: <em>I get <code>exit status 3221225781</code></em></h2>
<ul dir="auto">
<li>Your program likely can&#39;t find the Ultralight libraries. Ensure they&#39;re either installed on the system, or, in the same folder as your program. Currently, Muon uses the 1.1 Ultralight pre-release that hasn&#39;t yet propagated to their main site and can only be downloaded from the <a href="https://github.com/ultralight-ux/Ultralight#getting-the-latest-sdk">Ultralight</a> github repo.</li>
</ul>
<h2 dir="auto">Q: <em>I get <code> libWebCore.so: cannot open shared object file</code></em></h2>
<ul dir="auto">
<li>If you&#39;re attempting to load the libraries out of the same directory as your program add <code>-ldflags &#34;-r .&#34;</code> to your <code>go build</code> to set <code>rpath</code> to the local directory for library resolution.</li>
</ul>
<h2 dir="auto"><a id="user-content-q-i-get-symbol-not-found-ulcreatesettings" aria-hidden="true" href="#q-i-get-symbol-not-found-ulcreatesettings"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Q: <em>I get <code>symbol not found: ulCreateSettings</code></em></h2>
<ul dir="auto">
<li>This likely means you&#39;re not using the 1.1 Ultralight pre-release which can be downloaded only from their <a href="https://github.com/ultralight-ux/Ultralight#getting-the-latest-sdk">GitHub Repo</a> for now</li>
</ul>
<h2 dir="auto"><a id="user-content-q-how-do-i-compile-for-x86" aria-hidden="true" href="#q-how-do-i-compile-for-x86"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Q: <em>How do I compile for x86?</em></h2>
<ul dir="auto">
<li>Currently, Ultralight only supports Windows for x86. Ensure you have a 32-bit <code>gcc</code> in your path, and ensure you have <code>CGO_ENABLED=1</code> and <code>GOARCH=386</code> environment variables set.</li>
</ul>

<p dir="auto">While muon itself is MIT licensed, <a href="https://ultralig.ht/" rel="nofollow">Ultralight</a> is not.</p>
<div data-snippet-clipboard-copy-content="Ultralight is free for non-commercial use, educational use, 
and also free for commercial use by small indie developers making
less than US$100,000 a year. You can find full terms in the SDK. 
Pricing plans for larger commercial projects will be announced later."><pre><code>Ultralight is free for non-commercial use, educational use, 
and also free for commercial use by small indie developers making
less than US$100,000 a year. You can find full terms in the SDK. 
Pricing plans for larger commercial projects will be announced later.
</code></pre></div>
<p dir="auto">Their specific license terms can be found <a href="https://github.com/ultralight-ux/Ultralight/tree/master/license">here</a>.</p>
</article>
          </div></div>
  </body>
</html>
