<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://s.mkws.sh/">Original</a>
    <h1>Small statistics page showcase done via sh, Awk, log parsing and cron</h1>
    
    <div id="readability-page-1" class="page">

<p>
Experiencing some issues with the cron script, you may see empty fields.
Working on it!
</p>

<table>
<caption>02/Mar/2022</caption>
<tbody><tr>
<th>
Referrers
</th>
<td>
<ul>
<li><a href="https://s.mkws.sh/">&#34;https://s.mkws.sh/&#34;</a> - 1171</li>
<li><a href="">&#34;&#34;</a> - 220</li>
<li><a href="https://mkws.sh/">&#34;https://mkws.sh/&#34;</a> - 160</li>
<li><a href="https://mkws.sh/docs.html">&#34;https://mkws.sh/docs.html&#34;</a> - 26</li>
<li><a href="https://adi.onl/">&#34;https://adi.onl/&#34;</a> - 23</li>
<li><a href="http://mkws.sh">&#34;http://mkws.sh&#34;</a> - 6</li>
<li><a href="https://dont-be-evil.com/">&#34;https://dont-be-evil.com/&#34;</a> - 4</li>
<li><a href="https://vltra.plus/">&#34;https://vltra.plus/&#34;</a> - 2</li>
<li><a href="https://github.com/mkws-1/mkws">&#34;https://github.com/mkws-1/mkws&#34;</a> - 2</li>
<li><a href="http://mkws.sh/">&#34;http://mkws.sh/&#34;</a> - 2</li>
<li><a href="https://tildes.net/">&#34;https://tildes.net/&#34;</a> - 1</li>
<li><a href="https://openbsd.amsterdam/">&#34;https://openbsd.amsterdam/&#34;</a> - 1</li>
<li><a href="https://news.ycombinator.com/">&#34;https://news.ycombinator.com/&#34;</a> - 1</li>
<li><a href="https://nemic.dev/">&#34;https://nemic.dev/&#34;</a> - 1</li>
<li><a href="https://mkws.sh/lts.html">&#34;https://mkws.sh/lts.html&#34;</a> - 1</li>
<li><a href="https://jp.inoreader.com/">&#34;https://jp.inoreader.com/&#34;</a> - 1</li>
<li><a href="https://hn.algolia.com/">&#34;https://hn.algolia.com/&#34;</a> - 1</li>
<li><a href="https://github.com/oxalorg/sakura">&#34;https://github.com/oxalorg/sakura&#34;</a> - 1</li>
<li><a href="https://github.com/myles/awesome-static-generators">&#34;https://github.com/myles/awesome-static-generators&#34;</a> - 1</li>
<li><a href="https://github.com/">&#34;https://github.com/&#34;</a> - 1</li>
<li><a href="http://mkws.sh/pp.html">&#34;http://mkws.sh/pp.html&#34;</a> - 1</li>
<li><a href="http://mkws.sh/lts.html">&#34;http://mkws.sh/lts.html&#34;</a> - 1</li>
<li><a href="http://114.114.114.114:9421/">&#34;http://114.114.114.114:9421/&#34;</a> - 1</li>
</ul>
</td>
</tr>
<tr>
<th>
Pages
</th>
<td>
<ul>
<li><a href="https://mkws.sh/">/</a> - 1206</li>
<li><a href="https://mkws.sh/docs.html">/docs.html</a> - 323</li>
<li><a href="https://mkws.sh/pp.html">/pp.html</a> - 71</li>
<li><a href="https://mkws.sh/lts.html">/lts.html</a> - 34</li>
</ul>
</td>
</tr>
<tr>
<th>Visits</th>
<td>
1637
</td>
</tr>
<tr>
<th>Uniques</th>
<td>
1110
</td>
</tr>
</tbody></table>

<h2>Source Code</h2>
<pre><code>
&lt;p style=&#39;background-color: pink; color: white&#39;&gt;
Experiencing some issues with the cron script, you may see empty fields.
Working on it!
&lt;/p&gt;
#!
lr(){
grep &#34;$1&#34; &#34;$2&#34; | grep -vf /home/adi/share/misc/myips | cblh | flvr | sort -nrk 2
}
lp(){
grep &#34;$1&#34; &#34;$2&#34; | grep -vf /home/adi/share/misc/myips | cblh | flvp | sort -nrk 2
}
lv(){
grep &#34;$1&#34; &#34;$2&#34; | grep -vf /home/adi/share/misc/myips | cblh | flvv | wc -l | tr -d &#34; &#34;
}
lu(){
grep &#34;$1&#34; &#34;$2&#34; | grep -vf /home/adi/share/misc/myips | cblh | flvu | wc -l | tr -d &#34; &#34;
}
table() {
#!
&lt;table&gt;
&lt;caption&gt;$1&lt;/caption&gt;
&lt;tr&gt;
&lt;th&gt;
Referrers
&lt;/th&gt;
&lt;td&gt;
&lt;ul&gt;
#!
lr &#34;$1&#34; &#34;$2&#34;  | while read -r u c
do
#!
&lt;li&gt;&lt;a href=$u&gt;$u&lt;/a&gt; - $c&lt;/li&gt;
#!
done
#!
&lt;/ul&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;
Pages
&lt;/th&gt;
&lt;td&gt;
&lt;ul&gt;
#!
lp &#34;$1&#34; &#34;$2&#34;  | while read -r u c
do
#!
&lt;li&gt;&lt;a href=//mkws.sh$u&gt;$u&lt;/a&gt; - $c&lt;/li&gt;
#!
done
#!
&lt;/ul&gt;
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Visits&lt;/th&gt;
&lt;td&gt;
#!
lv &#34;$1&#34; &#34;$2&#34;
#!
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Uniques&lt;/th&gt;
&lt;td&gt;
#!
lu &#34;$1&#34; &#34;$2&#34;
#!
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
#!
}
#!
&lt;h1&gt;&lt;a href=https://mkws.sh&gt;mkws.sh&lt;/a&gt; statistics&lt;/h1&gt;
#!
table &#34;$(date +&#39;%d/%b/%Y&#39;)&#34; /var/www/logs/mkws.shaccess.log
#!
</code>
</pre>

</div>
  </body>
</html>
