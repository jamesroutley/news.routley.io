<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://docs.python.org/3.15/whatsnew/3.15.html">Original</a>
    <h1>What&#39;s New in Python 3.15</h1>
    
    <div id="readability-page-1" class="page"><div>
      <div>
        <div>
          <div role="main">
            
  <section id="what-s-new-in-python-3-15">

<dl>
<dt>Editor<span>:</span></dt>
<dd><p>Hugo van Kemenade</p>
</dd>
</dl>
<p>This article explains the new features in Python 3.15, compared to 3.14.</p>
<p>For full details, see the <a href="https://docs.python.org/3.15/whatsnew/changelog.html#changelog"><span>changelog</span></a>.</p>
<div>
<p>Note</p>
<p>Prerelease users should be aware that this document is currently in draft
form. It will be updated substantially as Python 3.15 moves towards release,
so it’s worth checking back even after reading earlier versions.</p>
</div>
<section id="summary-release-highlights">
<h2>Summary – Release highlights<a href="#summary-release-highlights" title="Link to this heading">¶</a></h2>
<ul>
<li><p><span id="index-0"></span><a href="https://peps.python.org/pep-0799/"><strong>PEP 799</strong></a>: <a href="#whatsnew315-profiling-package"><span>A dedicated profiling package for organizing Python
profiling tools</span></a></p></li>
<li><p><span id="index-1"></span><a href="https://peps.python.org/pep-0799/"><strong>PEP 799</strong></a>: <a href="#whatsnew315-sampling-profiler"><span>Tachyon: High frequency statistical sampling profiler
profiling tools</span></a></p></li>
<li><p><span id="index-2"></span><a href="https://peps.python.org/pep-0686/"><strong>PEP 686</strong></a>: <a href="#whatsnew315-utf8-default"><span>Python now uses UTF-8 as the default encoding</span></a></p></li>
<li><p><span id="index-3"></span><a href="https://peps.python.org/pep-0782/"><strong>PEP 782</strong></a>: <a href="#whatsnew315-pep782"><span>A new PyBytesWriter C API to create a Python bytes object</span></a></p></li>
<li><p><a href="#whatsnew315-jit"><span>The JIT compiler has been significantly upgraded</span></a></p></li>
<li><p><a href="#whatsnew315-improved-error-messages"><span>Improved error messages</span></a></p></li>
</ul>
</section>
<section id="new-features">
<h2>New features<a href="#new-features" title="Link to this heading">¶</a></h2>
<section id="pep-799-a-dedicated-profiling-package">
<span id="whatsnew315-profiling-package"></span><h3><span id="index-4"></span><a href="https://peps.python.org/pep-0799/"><strong>PEP 799</strong></a>: A dedicated profiling package<a href="#pep-799-a-dedicated-profiling-package" title="Link to this heading">¶</a></h3>
<p>A new <a href="https://docs.python.org/3.15/library/profiling.html#module-profiling" title="profiling: Python profiling tools for performance analysis."><code><span>profiling</span></code></a> module has been added to organize Python’s built-in
profiling tools under a single, coherent namespace. This module contains:</p>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/profiling.tracing.html#module-profiling.tracing" title="profiling.tracing: Deterministic tracing profiler for Python programs."><code><span>profiling.tracing</span></code></a>: deterministic function-call tracing (relocated from
<code><span>cProfile</span></code>).</p></li>
<li><p><a href="https://docs.python.org/3.15/library/profiling.sampling.html#module-profiling.sampling" title="profiling.sampling: Statistical sampling profiler for Python processes."><code><span>profiling.sampling</span></code></a>: a new statistical sampling profiler (named Tachyon).</p></li>
</ul>
<p>The <code><span>cProfile</span></code> module remains as an alias for backwards compatibility.
The <a href="https://docs.python.org/3.15/library/profile.html#module-profile" title="profile: Pure Python profiler (deprecated). (deprecated)"><code><span>profile</span></code></a> module is deprecated and will be removed in Python 3.17.</p>
<div>
<p>See also</p>
<p><span id="index-5"></span><a href="https://peps.python.org/pep-0799/"><strong>PEP 799</strong></a> for further details.</p>
</div>
<p>(Contributed by Pablo Galindo and László Kiss Kollár in <a href="https://github.com/python/cpython/issues/138122">gh-138122</a>.)</p>
</section>
<section id="tachyon-high-frequency-statistical-sampling-profiler">
<span id="whatsnew315-sampling-profiler"></span><h3>Tachyon: High frequency statistical sampling profiler<a href="#tachyon-high-frequency-statistical-sampling-profiler" title="Link to this heading">¶</a></h3>
<a href="https://docs.python.org/3.15/_images/tachyon-logo.png"><img alt="Tachyon profiler logo" src="https://docs.python.org/3.15/_images/tachyon-logo.png"/>
</a>
<p>A new statistical sampling profiler (Tachyon) has been added as
<a href="https://docs.python.org/3.15/library/profiling.sampling.html#module-profiling.sampling" title="profiling.sampling: Statistical sampling profiler for Python processes."><code><span>profiling.sampling</span></code></a>. This profiler enables low-overhead performance analysis of
running Python processes without requiring code modification or process restart.</p>
<p>Unlike deterministic profilers (such as <a href="https://docs.python.org/3.15/library/profiling.tracing.html#module-profiling.tracing" title="profiling.tracing: Deterministic tracing profiler for Python programs."><code><span>profiling.tracing</span></code></a>) that instrument
every function call, the sampling profiler periodically captures stack traces from
running processes.  This approach provides virtually zero overhead while achieving
sampling rates of <strong>up to 1,000,000 Hz</strong>, making it the fastest sampling profiler
available for Python (at the time of its contribution) and ideal for debugging
performance issues in production environments. This capability is particularly
valuable for debugging performance issues in production systems where traditional
profiling approaches would be too intrusive.</p>
<p>Key features include:</p>
<ul>
<li><p><strong>Zero-overhead profiling</strong>: Attach to any running Python process without
affecting its performance. Ideal for production debugging where you can’t afford
to restart or slow down your application.</p></li>
<li><p><strong>No code modification required</strong>: Profile existing applications without restart.
Simply point the profiler at a running process by PID and start collecting data.</p></li>
<li><p><strong>Flexible target modes</strong>:</p>
<ul>
<li><p>Profile running processes by PID (<code><span>attach</span></code>) - attach to already-running applications</p></li>
<li><p>Run and profile scripts directly (<code><span>run</span></code>) - profile from the very start of execution</p></li>
<li><p>Execute and profile modules (<code><span>run</span> <span>-m</span></code>) - profile packages run as <code><span>python</span> <span>-m</span> <span>module</span></code></p></li>
</ul>
</li>
<li><p><strong>Multiple profiling modes</strong>: Choose what to measure based on your performance investigation:</p>
<ul>
<li><p><strong>Wall-clock time</strong> (<code><span>--mode</span> <span>wall</span></code>, default): Measures real elapsed time including I/O,
network waits, and blocking operations. Use this to understand where your program spends
calendar time, including when waiting for external resources.</p></li>
<li><p><strong>CPU time</strong> (<code><span>--mode</span> <span>cpu</span></code>): Measures only active CPU execution time, excluding I/O waits
and blocking. Use this to identify CPU-bound bottlenecks and optimize computational work.</p></li>
<li><p><strong>GIL-holding time</strong> (<code><span>--mode</span> <span>gil</span></code>): Measures time spent holding Python’s Global Interpreter
Lock. Use this to identify which threads dominate GIL usage in multi-threaded applications.</p></li>
<li><p><strong>Exception handling time</strong> (<code><span>--mode</span> <span>exception</span></code>): Captures samples only from threads with
an active exception. Use this to analyze exception handling overhead.</p></li>
</ul>
</li>
<li><p><strong>Thread-aware profiling</strong>: Option to profile all threads (<code><span>-a</span></code>) or just the main thread,
essential for understanding multi-threaded application behavior.</p></li>
<li><p><strong>Multiple output formats</strong>: Choose the visualization that best fits your workflow:</p>
<ul>
<li><p><code><span>--pstats</span></code>: Detailed tabular statistics compatible with <a href="https://docs.python.org/3.15/library/pstats.html#module-pstats" title="pstats: Statistics object for analyzing profiler output."><code><span>pstats</span></code></a>. Shows function-level
timing with direct and cumulative samples. Best for detailed analysis and integration with
existing Python profiling tools.</p></li>
<li><p><code><span>--collapsed</span></code>: Generates collapsed stack traces (one line per stack). This format is
specifically designed for creating flamegraphs with external tools like Brendan Gregg’s
FlameGraph scripts or speedscope.</p></li>
<li><p><code><span>--flamegraph</span></code>: Generates a self-contained interactive HTML flamegraph using D3.js.
Opens directly in your browser for immediate visual analysis. Flamegraphs show the call
hierarchy where width represents time spent, making it easy to spot bottlenecks at a glance.</p></li>
<li><p><code><span>--gecko</span></code>: Generates Gecko Profiler format compatible with Firefox Profiler
(<a href="https://profiler.firefox.com">https://profiler.firefox.com</a>). Upload the output to Firefox Profiler for advanced
timeline-based analysis with features like stack charts, markers, and network activity.</p></li>
<li><p><code><span>--heatmap</span></code>: Generates an interactive HTML heatmap visualization with line-level sample
counts. Creates a directory with per-file heatmaps showing exactly where time is spent
at the source code level.</p></li>
</ul>
</li>
<li><p><strong>Live interactive mode</strong>: Real-time TUI profiler with a top-like interface (<code><span>--live</span></code>).
Monitor performance as your application runs with interactive sorting and filtering.</p></li>
<li><p><strong>Async-aware profiling</strong>: Profile async/await code with task-based stack reconstruction
(<code><span>--async-aware</span></code>). See which coroutines are consuming time, with options to show only
running tasks or all tasks including those waiting.</p></li>
<li><p><strong>Opcode-level profiling</strong>: Gather bytecode opcode information for instruction-level
profiling (<code><span>--opcodes</span></code>). Shows which bytecode instructions are executing, including
specializations from the adaptive interpreter.</p></li>
</ul>
<p>See <a href="https://docs.python.org/3.15/library/profiling.sampling.html#module-profiling.sampling" title="profiling.sampling: Statistical sampling profiler for Python processes."><code><span>profiling.sampling</span></code></a> for the complete documentation, including all
available output formats, profiling modes, and configuration options.</p>
<p>(Contributed by Pablo Galindo and László Kiss Kollár in <a href="https://github.com/python/cpython/issues/135953">gh-135953</a> and <a href="https://github.com/python/cpython/issues/138122">gh-138122</a>.)</p>
</section>
<section id="improved-error-messages">
<span id="whatsnew315-improved-error-messages"></span><h3>Improved error messages<a href="#improved-error-messages" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The interpreter now provides more helpful suggestions in <a href="https://docs.python.org/3.15/library/exceptions.html#AttributeError" title="AttributeError"><code><span>AttributeError</span></code></a>
exceptions when accessing an attribute on an object that does not exist, but
a similar attribute is available through one of its members.</p>
<p>For example, if the object has an attribute that itself exposes the requested
name, the error message will suggest accessing it via that inner attribute:</p>
<div><div><pre><span></span><span>@dataclass</span>
<span>class</span><span> </span><span>Circle</span><span>:</span>
   <span>radius</span><span>:</span> <span>float</span>

   <span>@property</span>
   <span>def</span><span> </span><span>area</span><span>(</span><span>self</span><span>)</span> <span>-&gt;</span> <span>float</span><span>:</span>
      <span>return</span> <span>pi</span> <span>*</span> <span>self</span><span>.</span><span>radius</span><span>**</span><span>2</span>

<span>class</span><span> </span><span>Container</span><span>:</span>
   <span>def</span><span> </span><span>__init__</span><span>(</span><span>self</span><span>,</span> <span>inner</span><span>:</span> <span>Circle</span><span>)</span> <span>-&gt;</span> <span>None</span><span>:</span>
      <span>self</span><span>.</span><span>inner</span> <span>=</span> <span>inner</span>

<span>circle</span> <span>=</span> <span>Circle</span><span>(</span><span>radius</span><span>=</span><span>4.0</span><span>)</span>
<span>container</span> <span>=</span> <span>Container</span><span>(</span><span>circle</span><span>)</span>
<span>print</span><span>(</span><span>container</span><span>.</span><span>area</span><span>)</span>
</pre></div>
</div>
<p>Running this code now produces a clearer suggestion:</p>
<div><div><pre><span></span><span>Traceback (most recent call last):</span>
<span>File &#34;/home/pablogsal/github/python/main/lel.py&#34;, line 42, in &lt;module&gt;</span>
<span>   print(container.area)</span>
<span>         ^^^^^^^^^^^^^^</span>
<span>AttributeError</span>: <span>&#39;Container&#39; object has no attribute &#39;area&#39;. Did you mean: &#39;inner.area&#39;?</span>
</pre></div>
</div>
</li>
</ul>
</section>
</section>
<section id="other-language-changes">
<h2>Other language changes<a href="#other-language-changes" title="Link to this heading">¶</a></h2>
<ul id="whatsnew315-utf8-default">
<li><p>Python now uses <a href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a> as the default encoding, independent of the system’s
environment. This means that I/O operations without an explicit encoding,
for example, <code><span>open(&#39;flying-circus.txt&#39;)</span></code>, will use UTF-8.
UTF-8 is a widely-supported <a href="https://home.unicode.org/">Unicode</a> character encoding that has become a
<em>de facto</em> standard for representing text, including nearly every webpage
on the internet, many common file formats, programming languages, and more.</p>
<p>This only applies when no <code><span>encoding</span></code> argument is given. For best
compatibility between versions of Python, ensure that an explicit <code><span>encoding</span></code>
argument is always provided. The <a href="https://docs.python.org/3.15/library/io.html#io-encoding-warning"><span>opt-in encoding warning</span></a>
can be used to identify code that may be affected by this change.
The special <code><span>encoding=&#39;locale&#39;</span></code> argument uses the current locale
encoding, and has been supported since Python 3.10.</p>
<p>To retain the previous behaviour, Python’s UTF-8 mode may be disabled with
the <span id="index-6"></span><a href="https://docs.python.org/3.15/using/cmdline.html#envvar-PYTHONUTF8"><code><span>PYTHONUTF8=0</span></code></a> environment variable or the
<a href="https://docs.python.org/3.15/using/cmdline.html#cmdoption-X"><code><span>-X</span> <span>utf8=0</span></code></a> command-line option.</p>
<div>
<p>See also</p>
<p><span id="index-7"></span><a href="https://peps.python.org/pep-0686/"><strong>PEP 686</strong></a> for further details.</p>
</div>
<p>(Contributed by Adam Turner in <a href="https://github.com/python/cpython/issues/133711">gh-133711</a>; PEP 686 written by Inada Naoki.)</p>
</li>
<li><p>Several error messages incorrectly using the term “argument” have been corrected.
(Contributed by Stan Ulbrych in <a href="https://github.com/python/cpython/issues/133382">gh-133382</a>.)</p></li>
<li><p>The interpreter now tries to provide a suggestion when
<a href="https://docs.python.org/3.15/library/functions.html#delattr" title="delattr"><code><span>delattr()</span></code></a> fails due to a missing attribute.
When an attribute name that closely resembles an existing attribute is used,
the interpreter will suggest the correct attribute name in the error message.
For example:</p>
<div><div><pre><span></span><span>&gt;&gt;&gt; </span><span>class</span><span> </span><span>A</span><span>:</span>
<span>... </span>    <span>pass</span>
<span>&gt;&gt;&gt; </span><span>a</span> <span>=</span> <span>A</span><span>()</span>
<span>&gt;&gt;&gt; </span><span>a</span><span>.</span><span>abcde</span> <span>=</span> <span>1</span>
<span>&gt;&gt;&gt; </span><span>del</span> <span>a</span><span>.</span><span>abcdf</span>
<span>Traceback (most recent call last):</span>
<span>...</span>
<span>AttributeError</span>: <span>&#39;A&#39; object has no attribute &#39;abcdf&#39;. Did you mean: &#39;abcde&#39;?</span>
</pre></div>
</div>
<p>(Contributed by Nikita Sobolev and Pranjal Prajapati in <a href="https://github.com/python/cpython/issues/136588">gh-136588</a>.)</p>
</li>
<li><p>Unraisable exceptions are now highlighted with color by default. This can be
controlled by <a href="https://docs.python.org/3.15/using/cmdline.html#using-on-controlling-color"><span>environment variables</span></a>.
(Contributed by Peter Bierma in <a href="https://github.com/python/cpython/issues/134170">gh-134170</a>.)</p></li>
<li><p>The <a href="https://docs.python.org/3.15/reference/datamodel.html#object.__repr__" title="object.__repr__"><code><span>__repr__()</span></code></a> of <a href="https://docs.python.org/3.15/library/exceptions.html#ImportError" title="ImportError"><code><span>ImportError</span></code></a> and <a href="https://docs.python.org/3.15/library/exceptions.html#ModuleNotFoundError" title="ModuleNotFoundError"><code><span>ModuleNotFoundError</span></code></a>
now shows “name” and “path” as <code><span>name=&lt;name&gt;</span></code> and <code><span>path=&lt;path&gt;</span></code> if they were given
as keyword arguments at construction time.
(Contributed by Serhiy Storchaka, Oleg Iarygin, and Yoav Nir in <a href="https://github.com/python/cpython/issues/74185">gh-74185</a>.)</p></li>
<li><p>The <a href="https://docs.python.org/3.15/reference/datamodel.html#object.__dict__" title="object.__dict__"><code><span>__dict__</span></code></a> and <code><span>__weakref__</span></code> descriptors now use a
single descriptor instance per interpreter, shared across all types that
need them.
This speeds up class creation, and helps avoid reference cycles.
(Contributed by Petr Viktorin in <a href="https://github.com/python/cpython/issues/135228">gh-135228</a>.)</p></li>
<li><p>The <a href="https://docs.python.org/3.15/using/cmdline.html#cmdoption-W"><code><span>-W</span></code></a> option and the <span id="index-8"></span><a href="https://docs.python.org/3.15/using/cmdline.html#envvar-PYTHONWARNINGS"><code><span>PYTHONWARNINGS</span></code></a> environment variable
can now specify regular expressions instead of literal strings to match
the warning message and the module name, if the corresponding field starts
and ends with a forward slash (<code><span>/</span></code>).
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/134716">gh-134716</a>.)</p></li>
<li><p>Functions that take timestamp or timeout arguments now accept any real
numbers (such as <a href="https://docs.python.org/3.15/library/decimal.html#decimal.Decimal" title="decimal.Decimal"><code><span>Decimal</span></code></a> and <a href="https://docs.python.org/3.15/library/fractions.html#fractions.Fraction" title="fractions.Fraction"><code><span>Fraction</span></code></a>),
not only integers or floats, although this does not improve precision.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/67795">gh-67795</a>.)</p></li>
</ul>
<ul id="whatsnew315-bytearray-take-bytes">
<li><p>Added <a href="https://docs.python.org/3.15/library/stdtypes.html#bytearray.take_bytes" title="bytearray.take_bytes"><code><span>bytearray.take_bytes(n=None,</span> <span>/)</span></code></a> to take
bytes out of a <a href="https://docs.python.org/3.15/library/stdtypes.html#bytearray" title="bytearray"><code><span>bytearray</span></code></a> without copying. This enables optimizing code
which must return <a href="https://docs.python.org/3.15/library/stdtypes.html#bytes" title="bytes"><code><span>bytes</span></code></a> after working with a mutable buffer of bytes
such as data buffering, network protocol parsing, encoding, decoding,
and compression. Common code patterns which can be optimized with
<a href="https://docs.python.org/3.15/library/stdtypes.html#bytearray.take_bytes" title="bytearray.take_bytes"><code><span>take_bytes()</span></code></a> are listed below.</p>
<table id="id3">
<caption><span>Suggested optimizing refactors</span><a href="#id3" title="Link to this table">¶</a></caption>
<thead>
<tr><th><p>Description</p></th>
<th><p>Old</p></th>
<th><p>New</p></th>
</tr>
</thead>
<tbody>
<tr><td><p>Return <a href="https://docs.python.org/3.15/library/stdtypes.html#bytes" title="bytes"><code><span>bytes</span></code></a> after working with <a href="https://docs.python.org/3.15/library/stdtypes.html#bytearray" title="bytearray"><code><span>bytearray</span></code></a></p></td>
<td><div><div><pre><span></span><span>def</span><span> </span><span>read</span><span>()</span> <span>-&gt;</span> <span>bytes</span><span>:</span>
    <span>buffer</span> <span>=</span> <span>bytearray</span><span>(</span><span>1024</span><span>)</span>
    <span>...</span>
    <span>return</span> <span>bytes</span><span>(</span><span>buffer</span><span>)</span>
</pre></div>
</div>
</td>
<td><div><div><pre><span></span><span>def</span><span> </span><span>read</span><span>()</span> <span>-&gt;</span> <span>bytes</span><span>:</span>
    <span>buffer</span> <span>=</span> <span>bytearray</span><span>(</span><span>1024</span><span>)</span>
    <span>...</span>
    <span>return</span> <span>buffer</span><span>.</span><span>take_bytes</span><span>()</span>
</pre></div>
</div>
</td>
</tr>
<tr><td><p>Empty a buffer getting the bytes</p></td>
<td><div><div><pre><span></span><span>buffer</span> <span>=</span> <span>bytearray</span><span>(</span><span>1024</span><span>)</span>
<span>...</span>
<span>data</span> <span>=</span> <span>bytes</span><span>(</span><span>buffer</span><span>)</span>
<span>buffer</span><span>.</span><span>clear</span><span>()</span>
</pre></div>
</div>
</td>
<td><div><div><pre><span></span><span>buffer</span> <span>=</span> <span>bytearray</span><span>(</span><span>1024</span><span>)</span>
<span>...</span>
<span>data</span> <span>=</span> <span>buffer</span><span>.</span><span>take_bytes</span><span>()</span>
</pre></div>
</div>
</td>
</tr>
<tr><td><p>Split a buffer at a specific separator</p></td>
<td><div><div><pre><span></span><span>buffer</span> <span>=</span> <span>bytearray</span><span>(</span><span>b</span><span>&#39;abc</span><span>\n</span><span>def&#39;</span><span>)</span>
<span>n</span> <span>=</span> <span>buffer</span><span>.</span><span>find</span><span>(</span><span>b</span><span>&#39;</span><span>\n</span><span>&#39;</span><span>)</span>
<span>data</span> <span>=</span> <span>bytes</span><span>(</span><span>buffer</span><span>[:</span><span>n</span> <span>+</span> <span>1</span><span>])</span>
<span>del</span> <span>buffer</span><span>[:</span><span>n</span> <span>+</span> <span>1</span><span>]</span>
<span>assert</span> <span>data</span> <span>==</span> <span>b</span><span>&#39;abc&#39;</span>
<span>assert</span> <span>buffer</span> <span>==</span> <span>bytearray</span><span>(</span><span>b</span><span>&#39;def&#39;</span><span>)</span>
</pre></div>
</div>
</td>
<td><div><div><pre><span></span><span>buffer</span> <span>=</span> <span>bytearray</span><span>(</span><span>b</span><span>&#39;abc</span><span>\n</span><span>def&#39;</span><span>)</span>
<span>n</span> <span>=</span> <span>buffer</span><span>.</span><span>find</span><span>(</span><span>b</span><span>&#39;</span><span>\n</span><span>&#39;</span><span>)</span>
<span>data</span> <span>=</span> <span>buffer</span><span>.</span><span>take_bytes</span><span>(</span><span>n</span> <span>+</span> <span>1</span><span>)</span>
</pre></div>
</div>
</td>
</tr>
<tr><td><p>Split a buffer at a specific separator; discard after the separator</p></td>
<td><div><div><pre><span></span><span>buffer</span> <span>=</span> <span>bytearray</span><span>(</span><span>b</span><span>&#39;abc</span><span>\n</span><span>def&#39;</span><span>)</span>
<span>n</span> <span>=</span> <span>buffer</span><span>.</span><span>find</span><span>(</span><span>b</span><span>&#39;</span><span>\n</span><span>&#39;</span><span>)</span>
<span>data</span> <span>=</span> <span>bytes</span><span>(</span><span>buffer</span><span>[:</span><span>n</span><span>])</span>
<span>buffer</span><span>.</span><span>clear</span><span>()</span>
<span>assert</span> <span>data</span> <span>==</span> <span>b</span><span>&#39;abc&#39;</span>
<span>assert</span> <span>len</span><span>(</span><span>buffer</span><span>)</span> <span>==</span> <span>0</span>
</pre></div>
</div>
</td>
<td><div><div><pre><span></span><span>buffer</span> <span>=</span> <span>bytearray</span><span>(</span><span>b</span><span>&#39;abc</span><span>\n</span><span>def&#39;</span><span>)</span>
<span>n</span> <span>=</span> <span>buffer</span><span>.</span><span>find</span><span>(</span><span>b</span><span>&#39;</span><span>\n</span><span>&#39;</span><span>)</span>
<span>buffer</span><span>.</span><span>resize</span><span>(</span><span>n</span><span>)</span>
<span>data</span> <span>=</span> <span>buffer</span><span>.</span><span>take_bytes</span><span>()</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>(Contributed by Cody Maloney in <a href="https://github.com/python/cpython/issues/139871">gh-139871</a>.)</p>
</li>
<li><p>Many functions related to compiling or parsing Python code, such as
<a href="https://docs.python.org/3.15/library/functions.html#compile" title="compile"><code><span>compile()</span></code></a>, <a href="https://docs.python.org/3.15/library/ast.html#ast.parse" title="ast.parse"><code><span>ast.parse()</span></code></a>, <a href="https://docs.python.org/3.15/library/symtable.html#symtable.symtable" title="symtable.symtable"><code><span>symtable.symtable()</span></code></a>,
and <a href="https://docs.python.org/3.15/library/importlib.html#importlib.abc.InspectLoader.source_to_code" title="importlib.abc.InspectLoader.source_to_code"><code><span>importlib.abc.InspectLoader.source_to_code()</span></code></a>, now allow the module
name to be passed. It is needed to unambiguously <a href="https://docs.python.org/3.15/library/warnings.html#warning-filter"><span>filter</span></a>
syntax warnings by module name.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/135801">gh-135801</a>.)</p></li>
<li><p>Allowed defining the <em>__dict__</em> and <em>__weakref__</em> <a href="https://docs.python.org/3.15/reference/datamodel.html#slots"><span>__slots__</span></a>
for any class.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/41779">gh-41779</a>.)</p></li>
</ul>
</section>
<section id="new-modules">
<h2>New modules<a href="#new-modules" title="Link to this heading">¶</a></h2>
<section id="math-integer">
<h3>math.integer<a href="#math-integer" title="Link to this heading">¶</a></h3>
<p>This module provides access to the mathematical functions for integer
arguments (<span id="index-9"></span><a href="https://peps.python.org/pep-0791/"><strong>PEP 791</strong></a>).
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/81313">gh-81313</a>.)</p>
</section>
</section>
<section id="improved-modules">
<h2>Improved modules<a href="#improved-modules" title="Link to this heading">¶</a></h2>
<section id="argparse">
<h3>argparse<a href="#argparse" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The <a href="https://docs.python.org/3.15/library/argparse.html#argparse.BooleanOptionalAction" title="argparse.BooleanOptionalAction"><code><span>BooleanOptionalAction</span></code></a> action supports now single-dash
long options and alternate prefix characters.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/138525">gh-138525</a>.)</p></li>
<li><p>Changed the <em>suggest_on_error</em> parameter of <a href="https://docs.python.org/3.15/library/argparse.html#argparse.ArgumentParser" title="argparse.ArgumentParser"><code><span>argparse.ArgumentParser</span></code></a> to
default to <code><span>True</span></code>. This enables suggestions for mistyped arguments by default.
(Contributed by Jakob Schluse in <a href="https://github.com/python/cpython/issues/140450">gh-140450</a>.)</p></li>
<li><p>Added backtick markup support in description and epilog text to highlight
inline code when color output is enabled.
(Contributed by Savannah Ostrowski in <a href="https://github.com/python/cpython/issues/142390">gh-142390</a>.)</p></li>
</ul>
</section>
<section id="calendar">
<h3>calendar<a href="#calendar" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Calendar pages generated by the <a href="https://docs.python.org/3.15/library/calendar.html#calendar.HTMLCalendar" title="calendar.HTMLCalendar"><code><span>calendar.HTMLCalendar</span></code></a> class now support
dark mode and have been migrated to the HTML5 standard for improved accessibility.
(Contributed by Jiahao Li and Hugo van Kemenade in <a href="https://github.com/python/cpython/issues/137634">gh-137634</a>.)</p></li>
<li><p>The <a href="https://docs.python.org/3.15/library/calendar.html#module-calendar" title="calendar: Functions for working with calendars, including some emulation of the Unix cal program."><code><span>calendar</span></code></a>’s <a href="https://docs.python.org/3.15/library/calendar.html#calendar-cli"><span>command-line</span></a> HTML output now
accepts the year-month option: <code><span>python</span> <span>-m</span> <span>calendar</span> <span>-t</span> <span>html</span> <span>2009</span> <span>06</span></code>.
(Contributed by Pål Grønås Drange in <a href="https://github.com/python/cpython/issues/140212">gh-140212</a>.)</p></li>
</ul>
</section>
<section id="collections">
<h3>collections<a href="#collections" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Added <code><span>collections.Counter.__xor__()</span></code> and
<code><span>collections.Counter.__ixor__()</span></code> to compute the symmetric difference
between <a href="https://docs.python.org/3.15/library/collections.html#collections.Counter" title="collections.Counter"><code><span>Counter</span></code></a> objects.
(Contributed by Raymond Hettinger in <a href="https://github.com/python/cpython/issues/138682">gh-138682</a>.)</p></li>
</ul>
</section>
<section id="collections-abc">
<h3>collections.abc<a href="#collections-abc" title="Link to this heading">¶</a></h3>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/collections.abc.html#collections.abc.ByteString" title="collections.abc.ByteString"><code><span>collections.abc.ByteString</span></code></a> has been removed from
<code><span>collections.abc.__all__</span></code>. <code><span>collections.abc.ByteString</span></code> has been
deprecated since Python 3.12, and is scheduled for removal in Python 3.17.</p></li>
<li><p>The following statements now cause <code><span>DeprecationWarning</span></code>s to be emitted at
runtime:</p>
<ul>
<li><p><code><span>from</span> <span>collections.abc</span> <span>import</span> <span>ByteString</span></code></p></li>
<li><p><code><span>import</span> <span>collections.abc;</span> <span>collections.abc.ByteString</span></code>.</p></li>
</ul>
<p><code><span>DeprecationWarning</span></code>s were already emitted if
<a href="https://docs.python.org/3.15/library/collections.abc.html#collections.abc.ByteString" title="collections.abc.ByteString"><code><span>collections.abc.ByteString</span></code></a> was subclassed or used as the second
argument to <a href="https://docs.python.org/3.15/library/functions.html#isinstance" title="isinstance"><code><span>isinstance()</span></code></a> or <a href="https://docs.python.org/3.15/library/functions.html#issubclass" title="issubclass"><code><span>issubclass()</span></code></a>, but warnings were not
previously emitted if it was merely imported or accessed from the
<code><span>collections.abc</span></code> module.</p>
</li>
</ul>
</section>
<section id="concurrent-futures">
<h3>concurrent.futures<a href="#concurrent-futures" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Improved error reporting when a child process in a
<a href="https://docs.python.org/3.15/library/concurrent.futures.html#concurrent.futures.ProcessPoolExecutor" title="concurrent.futures.ProcessPoolExecutor"><code><span>concurrent.futures.ProcessPoolExecutor</span></code></a> terminates abruptly.
The resulting traceback will now tell you the PID and exit code of the
terminated process.
(Contributed by Jonathan Berg in <a href="https://github.com/python/cpython/issues/139486">gh-139486</a>.)</p></li>
</ul>
</section>
<section id="dataclasses">
<h3>dataclasses<a href="#dataclasses" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Annotations for generated <code><span>__init__</span></code> methods no longer include internal
type names.</p></li>
</ul>
</section>
<section id="dbm">
<h3>dbm<a href="#dbm" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Added new <code><span>reorganize()</span></code> methods to <a href="https://docs.python.org/3.15/library/dbm.html#module-dbm.dumb" title="dbm.dumb: Portable implementation of the simple DBM interface."><code><span>dbm.dumb</span></code></a> and <a href="https://docs.python.org/3.15/library/dbm.html#module-dbm.sqlite3" title="dbm.sqlite3: SQLite backend for dbm (All)"><code><span>dbm.sqlite3</span></code></a>
which allow to recover unused free space previously occupied by deleted entries.
(Contributed by Andrea Oliveri in <a href="https://github.com/python/cpython/issues/134004">gh-134004</a>.)</p></li>
</ul>
</section>
<section id="difflib">
<h3>difflib<a href="#difflib" title="Link to this heading">¶</a></h3>
<blockquote>
</blockquote>
<ul id="whatsnew315-color-difflib">
<li><p>Introduced the optional <em>color</em> parameter to <a href="https://docs.python.org/3.15/library/difflib.html#difflib.unified_diff" title="difflib.unified_diff"><code><span>difflib.unified_diff()</span></code></a>,
enabling color output similar to <strong>git diff</strong>.
This can be controlled by <a href="https://docs.python.org/3.15/using/cmdline.html#using-on-controlling-color"><span>environment variables</span></a>.
(Contributed by Douglas Thor in <a href="https://github.com/python/cpython/issues/133725">gh-133725</a>.)</p></li>
<li><p>Improved the styling of HTML diff pages generated by the <a href="https://docs.python.org/3.15/library/difflib.html#difflib.HtmlDiff" title="difflib.HtmlDiff"><code><span>difflib.HtmlDiff</span></code></a>
class, and migrated the output to the HTML5 standard.
(Contributed by Jiahao Li in <a href="https://github.com/python/cpython/issues/134580">gh-134580</a>.)</p></li>
</ul>
</section>
<section id="functools">
<h3>functools<a href="#functools" title="Link to this heading">¶</a></h3>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/functools.html#functools.singledispatchmethod" title="functools.singledispatchmethod"><code><span>singledispatchmethod()</span></code></a> now supports non-<a href="https://docs.python.org/3.15/glossary.html#term-descriptor"><span>descriptor</span></a>
callables.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/140873">gh-140873</a>.)</p></li>
</ul>
</section>
<section id="hashlib">
<h3>hashlib<a href="#hashlib" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Ensure that hash functions guaranteed to be always <em>available</em> exist as
attributes of <a href="https://docs.python.org/3.15/library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code><span>hashlib</span></code></a> even if they will not work at runtime due to
missing backend implementations. For instance, <code><span>hashlib.md5</span></code> will no
longer raise <a href="https://docs.python.org/3.15/library/exceptions.html#AttributeError" title="AttributeError"><code><span>AttributeError</span></code></a> if OpenSSL is not available and Python
has been built without MD5 support.
(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/136929">gh-136929</a>.)</p></li>
</ul>
</section>
<section id="http-client">
<h3>http.client<a href="#http-client" title="Link to this heading">¶</a></h3>
<ul>
<li><p>A new <em>max_response_headers</em> keyword-only parameter has been added to
<a href="https://docs.python.org/3.15/library/http.client.html#http.client.HTTPConnection" title="http.client.HTTPConnection"><code><span>HTTPConnection</span></code></a> and <a href="https://docs.python.org/3.15/library/http.client.html#http.client.HTTPSConnection" title="http.client.HTTPSConnection"><code><span>HTTPSConnection</span></code></a>
constructors. This parameter overrides the default maximum number of allowed
response headers.
(Contributed by Alexander Enrique Urieles Nieto in <a href="https://github.com/python/cpython/issues/131724">gh-131724</a>.)</p></li>
</ul>
</section>
<section id="http-cookies">
<h3>http.cookies<a href="#http-cookies" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Allow ‘<code><span>&#34;</span></code>’ double quotes in cookie values.
(Contributed by Nick Burns and Senthil Kumaran in <a href="https://github.com/python/cpython/issues/92936">gh-92936</a>.)</p></li>
</ul>
</section>
<section id="inspect">
<h3>inspect<a href="#inspect" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add parameters <em>inherit_class_doc</em> and <em>fallback_to_class_doc</em>
for <a href="https://docs.python.org/3.15/library/inspect.html#inspect.getdoc" title="inspect.getdoc"><code><span>getdoc()</span></code></a>.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/132686">gh-132686</a>.)</p></li>
</ul>
</section>
<section id="locale">
<h3>locale<a href="#locale" title="Link to this heading">¶</a></h3>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/locale.html#locale.setlocale" title="locale.setlocale"><code><span>setlocale()</span></code></a> now supports language codes with <code><span>@</span></code>-modifiers.
<code><span>@</span></code>-modifiers are no longer silently removed in <a href="https://docs.python.org/3.15/library/locale.html#locale.getlocale" title="locale.getlocale"><code><span>getlocale()</span></code></a>,
but included in the language code.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/137729">gh-137729</a>.)</p></li>
</ul>
</section>
<section id="math">
<h3>math<a href="#math" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add <a href="https://docs.python.org/3.15/library/math.html#math.isnormal" title="math.isnormal"><code><span>math.isnormal()</span></code></a> and <a href="https://docs.python.org/3.15/library/math.html#math.issubnormal" title="math.issubnormal"><code><span>math.issubnormal()</span></code></a> functions.
(Contributed by Sergey B Kirpichev in <a href="https://github.com/python/cpython/issues/132908">gh-132908</a>.)</p></li>
<li><p>Add <a href="https://docs.python.org/3.15/library/math.html#math.fmax" title="math.fmax"><code><span>math.fmax()</span></code></a>, <a href="https://docs.python.org/3.15/library/math.html#math.fmin" title="math.fmin"><code><span>math.fmin()</span></code></a> and <a href="https://docs.python.org/3.15/library/math.html#math.signbit" title="math.signbit"><code><span>math.signbit()</span></code></a> functions.
(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/135853">gh-135853</a>.)</p></li>
</ul>
</section>
<section id="mimetypes">
<h3>mimetypes<a href="#mimetypes" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add <code><span>application/node</span></code> MIME type for <code><span>.cjs</span></code> extension. (Contributed by John Franey in <a href="https://github.com/python/cpython/issues/140937">gh-140937</a>.)</p></li>
<li><p>Add <code><span>application/toml</span></code>. (Contributed by Gil Forcada in <a href="https://github.com/python/cpython/issues/139959">gh-139959</a>.)</p></li>
<li><p>Rename <code><span>application/x-texinfo</span></code> to <code><span>application/texinfo</span></code>.
(Contributed by Charlie Lin in <a href="https://github.com/python/cpython/issues/140165">gh-140165</a>.)</p></li>
<li><p>Changed the MIME type for <code><span>.ai</span></code> files to <code><span>application/pdf</span></code>.
(Contributed by Stan Ulbrych in <a href="https://github.com/python/cpython/issues/141239">gh-141239</a>.)</p></li>
</ul>
</section>
<section id="mmap">
<h3>mmap<a href="#mmap" title="Link to this heading">¶</a></h3>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/mmap.html#mmap.mmap" title="mmap.mmap"><code><span>mmap.mmap</span></code></a> now has a <em>trackfd</em> parameter on Windows;
if it is <code><span>False</span></code>, the file handle corresponding to <em>fileno</em> will
not be duplicated.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/78502">gh-78502</a>.)</p></li>
<li><p>Added the <a href="https://docs.python.org/3.15/library/mmap.html#mmap.mmap.set_name" title="mmap.mmap.set_name"><code><span>mmap.mmap.set_name()</span></code></a> method
to annotate an anonymous memory mapping
if Linux kernel supports <em><a href="https://manpages.debian.org/PR_SET_VMA(2const)">PR_SET_VMA_ANON_NAME</a></em> (Linux 5.17 or newer).
(Contributed by Donghee Na in <a href="https://github.com/python/cpython/issues/142419">gh-142419</a>.)</p></li>
</ul>
</section>
<section id="os">
<h3>os<a href="#os" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add <a href="https://docs.python.org/3.15/library/os.html#os.statx" title="os.statx"><code><span>os.statx()</span></code></a> on Linux kernel versions 4.11 and later with
glibc versions 2.28 and later.
(Contributed by Jeffrey Bosboom and Victor Stinner in <a href="https://github.com/python/cpython/issues/83714">gh-83714</a>.)</p></li>
</ul>
</section>
<section id="os-path">
<h3>os.path<a href="#os-path" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add support of the all-but-last mode in <a href="https://docs.python.org/3.15/library/os.path.html#os.path.realpath" title="os.path.realpath"><code><span>realpath()</span></code></a>.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/71189">gh-71189</a>.)</p></li>
<li><p>The <em>strict</em> parameter to <a href="https://docs.python.org/3.15/library/os.path.html#os.path.realpath" title="os.path.realpath"><code><span>os.path.realpath()</span></code></a> accepts a new value,
<a href="https://docs.python.org/3.15/library/os.path.html#os.path.ALLOW_MISSING" title="os.path.ALLOW_MISSING"><code><span>os.path.ALLOW_MISSING</span></code></a>.
If used, errors other than <a href="https://docs.python.org/3.15/library/exceptions.html#FileNotFoundError" title="FileNotFoundError"><code><span>FileNotFoundError</span></code></a> will be re-raised;
the resulting path can be missing but it will be free of symlinks.
(Contributed by Petr Viktorin for <span id="index-10"></span><a href="https://www.cve.org/CVERecord?id=CVE-2025-4517"><strong>CVE 2025-4517</strong></a>.)</p></li>
</ul>
</section>
<section id="resource">
<h3>resource<a href="#resource" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add new constants: <a href="https://docs.python.org/3.15/library/resource.html#resource.RLIMIT_NTHR" title="resource.RLIMIT_NTHR"><code><span>RLIMIT_NTHR</span></code></a>,
<a href="https://docs.python.org/3.15/library/resource.html#resource.RLIMIT_UMTXP" title="resource.RLIMIT_UMTXP"><code><span>RLIMIT_UMTXP</span></code></a>, <a href="https://docs.python.org/3.15/library/resource.html#resource.RLIMIT_THREADS" title="resource.RLIMIT_THREADS"><code><span>RLIMIT_THREADS</span></code></a>,
<a href="https://docs.python.org/3.15/library/resource.html#resource.RLIM_SAVED_CUR" title="resource.RLIM_SAVED_CUR"><code><span>RLIM_SAVED_CUR</span></code></a>, and <a href="https://docs.python.org/3.15/library/resource.html#resource.RLIM_SAVED_MAX" title="resource.RLIM_SAVED_MAX"><code><span>RLIM_SAVED_MAX</span></code></a>.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/137512">gh-137512</a>.)</p></li>
</ul>
</section>
<section id="shelve">
<h3>shelve<a href="#shelve" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Added new <code><span>reorganize()</span></code> method to <a href="https://docs.python.org/3.15/library/shelve.html#module-shelve" title="shelve: Python object persistence."><code><span>shelve</span></code></a> used to recover unused free
space previously occupied by deleted entries.
(Contributed by Andrea Oliveri in <a href="https://github.com/python/cpython/issues/134004">gh-134004</a>.)</p></li>
</ul>
</section>
<section id="socket">
<h3>socket<a href="#socket" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add constants for the ISO-TP CAN protocol.
(Contributed by Patrick Menschel and Stefan Tatschner in <a href="https://github.com/python/cpython/issues/86819">gh-86819</a>.)</p></li>
</ul>
</section>
<section id="sqlite3">
<h3>sqlite3<a href="#sqlite3" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The <a href="https://docs.python.org/3.15/library/sqlite3.html#sqlite3-cli"><span>command-line interface</span></a> has several new features:</p>
<blockquote>
<div><ul>
<li><p>SQL keyword completion on &lt;tab&gt;.
(Contributed by Long Tan in <a href="https://github.com/python/cpython/issues/133393">gh-133393</a>.)</p></li>
<li><p>Prompts, error messages, and help text are now colored.
This is enabled by default, see <a href="https://docs.python.org/3.15/using/cmdline.html#using-on-controlling-color"><span>Controlling color</span></a> for
details.
(Contributed by Stan Ulbrych and Łukasz Langa in <a href="https://github.com/python/cpython/issues/133461">gh-133461</a>.)</p></li>
<li><p>Table, index, trigger, view, column, function, and schema completion on &lt;tab&gt;.
(Contributed by Long Tan in <a href="https://github.com/python/cpython/issues/136101">gh-136101</a>.)</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</section>
<section id="ssl">
<h3>ssl<a href="#ssl" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Indicate through <a href="https://docs.python.org/3.15/library/ssl.html#ssl.HAS_PSK_TLS13" title="ssl.HAS_PSK_TLS13"><code><span>ssl.HAS_PSK_TLS13</span></code></a> whether the <a href="https://docs.python.org/3.15/library/ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code><span>ssl</span></code></a> module
supports “External PSKs” in TLSv1.3, as described in RFC 9258.
(Contributed by Will Childs-Klein in <a href="https://github.com/python/cpython/issues/133624">gh-133624</a>.)</p></li>
<li><p>Added new methods for managing groups used for SSL key agreement</p>
<blockquote>
<div><ul>
<li><p><a href="https://docs.python.org/3.15/library/ssl.html#ssl.SSLContext.set_groups" title="ssl.SSLContext.set_groups"><code><span>ssl.SSLContext.set_groups()</span></code></a> sets the groups allowed for doing
key agreement, extending the previous
<a href="https://docs.python.org/3.15/library/ssl.html#ssl.SSLContext.set_ecdh_curve" title="ssl.SSLContext.set_ecdh_curve"><code><span>ssl.SSLContext.set_ecdh_curve()</span></code></a> method.
This new API provides the ability to list multiple groups and
supports fixed-field and post-quantum groups in addition to ECDH
curves. This method can also be used to control what key shares
are sent in the TLS handshake.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/ssl.html#ssl.SSLSocket.group" title="ssl.SSLSocket.group"><code><span>ssl.SSLSocket.group()</span></code></a> returns the group selected for doing key
agreement on the current connection after the TLS handshake completes.
This call requires OpenSSL 3.2 or later.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/ssl.html#ssl.SSLContext.get_groups" title="ssl.SSLContext.get_groups"><code><span>ssl.SSLContext.get_groups()</span></code></a> returns a list of all available key
agreement groups compatible with the minimum and maximum TLS versions
currently set in the context. This call requires OpenSSL 3.5 or later.</p></li>
</ul>
<p>(Contributed by Ron Frederick in <a href="https://github.com/python/cpython/issues/136306">gh-136306</a>.)</p>
</div></blockquote>
</li>
<li><p>Added a new method <a href="https://docs.python.org/3.15/library/ssl.html#ssl.SSLContext.set_ciphersuites" title="ssl.SSLContext.set_ciphersuites"><code><span>ssl.SSLContext.set_ciphersuites()</span></code></a> for setting TLS 1.3
ciphers. For TLS 1.2 or earlier, <a href="https://docs.python.org/3.15/library/ssl.html#ssl.SSLContext.set_ciphers" title="ssl.SSLContext.set_ciphers"><code><span>ssl.SSLContext.set_ciphers()</span></code></a> should
continue to be used. Both calls can be made on the same context and the
selected cipher suite will depend on the TLS version negotiated when a
connection is made.
(Contributed by Ron Frederick in <a href="https://github.com/python/cpython/issues/137197">gh-137197</a>.)</p></li>
<li><p>Added new methods for managing signature algorithms:</p>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/ssl.html#ssl.get_sigalgs" title="ssl.get_sigalgs"><code><span>ssl.get_sigalgs()</span></code></a> returns a list of all available TLS signature
algorithms. This call requires OpenSSL 3.4 or later.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/ssl.html#ssl.SSLContext.set_client_sigalgs" title="ssl.SSLContext.set_client_sigalgs"><code><span>ssl.SSLContext.set_client_sigalgs()</span></code></a> sets the signature algorithms
allowed for certificate-based client authentication.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/ssl.html#ssl.SSLContext.set_server_sigalgs" title="ssl.SSLContext.set_server_sigalgs"><code><span>ssl.SSLContext.set_server_sigalgs()</span></code></a> sets the signature algorithms
allowed for the server to complete the TLS handshake.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/ssl.html#ssl.SSLSocket.client_sigalg" title="ssl.SSLSocket.client_sigalg"><code><span>ssl.SSLSocket.client_sigalg()</span></code></a> returns the signature algorithm
selected for client authentication on the current connection. This call
requires OpenSSL 3.5 or later.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/ssl.html#ssl.SSLSocket.server_sigalg" title="ssl.SSLSocket.server_sigalg"><code><span>ssl.SSLSocket.server_sigalg()</span></code></a> returns the signature algorithm
selected for the server to complete the TLS handshake on the current
connection. This call requires OpenSSL 3.5 or later.</p></li>
</ul>
<blockquote>
<p>(Contributed by Ron Frederick in <a href="https://github.com/python/cpython/issues/138252">gh-138252</a>.)</p></blockquote>
</li>
</ul>
</section>
<section id="sys">
<h3>sys<a href="#sys" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add <a href="https://docs.python.org/3.15/library/sys.html#sys.abi_info" title="sys.abi_info"><code><span>sys.abi_info</span></code></a> namespace to improve access to ABI information.
(Contributed by Klaus Zimmermann in <a href="https://github.com/python/cpython/issues/137476">gh-137476</a>.)</p></li>
</ul>
</section>
<section id="tarfile">
<h3>tarfile<a href="#tarfile" title="Link to this heading">¶</a></h3>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/tarfile.html#tarfile.data_filter" title="tarfile.data_filter"><code><span>data_filter()</span></code></a> now normalizes symbolic link targets in order to
avoid path traversal attacks.
(Contributed by Petr Viktorin in <a href="https://github.com/python/cpython/issues/127987">gh-127987</a> and <span id="index-11"></span><a href="https://www.cve.org/CVERecord?id=CVE-2025-4138"><strong>CVE 2025-4138</strong></a>.)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/tarfile.html#tarfile.TarFile.extractall" title="tarfile.TarFile.extractall"><code><span>extractall()</span></code></a> now skips fixing up directory attributes
when a directory was removed or replaced by another kind of file.
(Contributed by Petr Viktorin in <a href="https://github.com/python/cpython/issues/127987">gh-127987</a> and <span id="index-12"></span><a href="https://www.cve.org/CVERecord?id=CVE-2024-12718"><strong>CVE 2024-12718</strong></a>.)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/tarfile.html#tarfile.TarFile.extract" title="tarfile.TarFile.extract"><code><span>extract()</span></code></a> and <a href="https://docs.python.org/3.15/library/tarfile.html#tarfile.TarFile.extractall" title="tarfile.TarFile.extractall"><code><span>extractall()</span></code></a>
now (re-)apply the extraction filter when substituting a link (hard or
symbolic) with a copy of another archive member, and when fixing up
directory attributes.
The former raises a new exception, <a href="https://docs.python.org/3.15/library/tarfile.html#tarfile.LinkFallbackError" title="tarfile.LinkFallbackError"><code><span>LinkFallbackError</span></code></a>.
(Contributed by Petr Viktorin for <span id="index-13"></span><a href="https://www.cve.org/CVERecord?id=CVE-2025-4330"><strong>CVE 2025-4330</strong></a> and <span id="index-14"></span><a href="https://www.cve.org/CVERecord?id=CVE-2024-12718"><strong>CVE 2024-12718</strong></a>.)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/tarfile.html#tarfile.TarFile.extract" title="tarfile.TarFile.extract"><code><span>extract()</span></code></a> and <a href="https://docs.python.org/3.15/library/tarfile.html#tarfile.TarFile.extractall" title="tarfile.TarFile.extractall"><code><span>extractall()</span></code></a>
no longer extract rejected members when
<a href="https://docs.python.org/3.15/library/tarfile.html#tarfile.TarFile.errorlevel" title="tarfile.TarFile.errorlevel"><code><span>errorlevel()</span></code></a> is zero.
(Contributed by Matt Prodani and Petr Viktorin in <a href="https://github.com/python/cpython/issues/112887">gh-112887</a>
and <span id="index-15"></span><a href="https://www.cve.org/CVERecord?id=CVE-2025-4435"><strong>CVE 2025-4435</strong></a>.)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/tarfile.html#tarfile.TarFile.extract" title="tarfile.TarFile.extract"><code><span>extract()</span></code></a> and <a href="https://docs.python.org/3.15/library/tarfile.html#tarfile.TarFile.extractall" title="tarfile.TarFile.extractall"><code><span>extractall()</span></code></a>
now replace slashes by backslashes in symlink targets on Windows to prevent
creation of corrupted links.
(Contributed by Christoph Walcher in <a href="https://github.com/python/cpython/issues/57911">gh-57911</a>.)</p></li>
</ul>
</section>
<section id="timeit">
<h3>timeit<a href="#timeit" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The command-line interface now colorizes error tracebacks
by default. This can be controlled with
<a href="https://docs.python.org/3.15/using/cmdline.html#using-on-controlling-color"><span>environment variables</span></a>.
(Contributed by Yi Hong in <a href="https://github.com/python/cpython/issues/139374">gh-139374</a>.)</p></li>
</ul>
</section>
<section id="tkinter">
<h3>tkinter<a href="#tkinter" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The <code><span>tkinter.Text.search()</span></code> method now supports two additional
arguments: <em>nolinestop</em> which allows the search to
continue across line boundaries;
and <em>strictlimits</em> which restricts the search to within the specified range.
(Contributed by Rihaan Meher in <a href="https://github.com/python/cpython/issues/130848">gh-130848</a>)</p></li>
<li><p>A new method <code><span>tkinter.Text.search_all()</span></code> has been introduced.
This method allows for searching for all matches of a pattern
using Tcl’s <code><span>-all</span></code> and <code><span>-overlap</span></code> options.
(Contributed by Rihaan Meher in <a href="https://github.com/python/cpython/issues/130848">gh-130848</a>)</p></li>
</ul>
</section>
<section id="types">
<h3>types<a href="#types" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Expose the write-through <a href="https://docs.python.org/3.15/library/functions.html#locals" title="locals"><code><span>locals()</span></code></a> proxy type
as <a href="https://docs.python.org/3.15/library/types.html#types.FrameLocalsProxyType" title="types.FrameLocalsProxyType"><code><span>types.FrameLocalsProxyType</span></code></a>.
This represents the type of the <a href="https://docs.python.org/3.15/reference/datamodel.html#frame.f_locals" title="frame.f_locals"><code><span>frame.f_locals</span></code></a> attribute,
as described in <span id="index-16"></span><a href="https://peps.python.org/pep-0667/"><strong>PEP 667</strong></a>.</p></li>
</ul>
</section>
<section id="unicodedata">
<h3>unicodedata<a href="#unicodedata" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The Unicode database has been updated to Unicode 17.0.0.</p></li>
<li><p>Add <a href="https://docs.python.org/3.15/library/unicodedata.html#unicodedata.isxidstart" title="unicodedata.isxidstart"><code><span>unicodedata.isxidstart()</span></code></a> and <a href="https://docs.python.org/3.15/library/unicodedata.html#unicodedata.isxidcontinue" title="unicodedata.isxidcontinue"><code><span>unicodedata.isxidcontinue()</span></code></a>
functions to check whether a character can start or continue a
<a href="https://www.unicode.org/reports/tr31/">Unicode Standard Annex #31</a> identifier.
(Contributed by Stan Ulbrych in <a href="https://github.com/python/cpython/issues/129117">gh-129117</a>.)</p></li>
</ul>
</section>
<section id="unittest">
<h3>unittest<a href="#unittest" title="Link to this heading">¶</a></h3>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/unittest.html#unittest.TestCase.assertLogs" title="unittest.TestCase.assertLogs"><code><span>unittest.TestCase.assertLogs()</span></code></a> will now accept a formatter
to control how messages are formatted.
(Contributed by Garry Cairns in <a href="https://github.com/python/cpython/issues/134567">gh-134567</a>.)</p></li>
</ul>
</section>
<section id="venv">
<h3>venv<a href="#venv" title="Link to this heading">¶</a></h3>
<ul>
<li><p>On POSIX platforms, platlib directories will be created if needed when
creating virtual environments, instead of using <code><span>lib64</span> <span>-&gt;</span> <span>lib</span></code> symlink.
This means purelib and platlib of virtual environments no longer share the
same <code><span>lib</span></code> directory on platforms where <a href="https://docs.python.org/3.15/library/sys.html#sys.platlibdir" title="sys.platlibdir"><code><span>sys.platlibdir</span></code></a> is not
equal to <code><span>lib</span></code>.
(Contributed by Rui Xi in <a href="https://github.com/python/cpython/issues/133951">gh-133951</a>.)</p></li>
</ul>
</section>
<section id="warnings">
<h3>warnings<a href="#warnings" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Improve filtering by module in <a href="https://docs.python.org/3.15/library/warnings.html#warnings.warn_explicit" title="warnings.warn_explicit"><code><span>warnings.warn_explicit()</span></code></a> if no <em>module</em>
argument is passed.
It now tests the module regular expression in the warnings filter not only
against the filename with <code><span>.py</span></code> stripped, but also against module names
constructed starting from different parent directories of the filename
(with <code><span>/__init__.py</span></code>, <code><span>.py</span></code> and, on Windows, <code><span>.pyw</span></code> stripped).
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/135801">gh-135801</a>.)</p></li>
</ul>
</section>
<section id="xml-parsers-expat">
<h3>xml.parsers.expat<a href="#xml-parsers-expat" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add <a href="https://docs.python.org/3.15/library/pyexpat.html#xml.parsers.expat.xmlparser.SetAllocTrackerActivationThreshold" title="xml.parsers.expat.xmlparser.SetAllocTrackerActivationThreshold"><code><span>SetAllocTrackerActivationThreshold()</span></code></a>
and <a href="https://docs.python.org/3.15/library/pyexpat.html#xml.parsers.expat.xmlparser.SetAllocTrackerMaximumAmplification" title="xml.parsers.expat.xmlparser.SetAllocTrackerMaximumAmplification"><code><span>SetAllocTrackerMaximumAmplification()</span></code></a>
to <a href="https://docs.python.org/3.15/library/pyexpat.html#xmlparser-objects"><span>xmlparser</span></a> objects to tune protections against
disproportional amounts of dynamic memory usage from within an Expat parser.
(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/90949">gh-90949</a>.)</p></li>
<li><p>Add <a href="https://docs.python.org/3.15/library/pyexpat.html#xml.parsers.expat.xmlparser.SetBillionLaughsAttackProtectionActivationThreshold" title="xml.parsers.expat.xmlparser.SetBillionLaughsAttackProtectionActivationThreshold"><code><span>SetBillionLaughsAttackProtectionActivationThreshold()</span></code></a>
and <a href="https://docs.python.org/3.15/library/pyexpat.html#xml.parsers.expat.xmlparser.SetBillionLaughsAttackProtectionMaximumAmplification" title="xml.parsers.expat.xmlparser.SetBillionLaughsAttackProtectionMaximumAmplification"><code><span>SetBillionLaughsAttackProtectionMaximumAmplification()</span></code></a>
to <a href="https://docs.python.org/3.15/library/pyexpat.html#xmlparser-objects"><span>xmlparser</span></a> objects to tune protections against
<a href="https://en.wikipedia.org/wiki/Billion_laughs_attack">billion laughs</a> attacks.
(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/90949">gh-90949</a>.)</p>
</li>
</ul>
</section>
<section id="zlib">
<h3>zlib<a href="#zlib" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Allow combining two Adler-32 checksums via <a href="https://docs.python.org/3.15/library/zlib.html#zlib.adler32_combine" title="zlib.adler32_combine"><code><span>adler32_combine()</span></code></a>.
(Contributed by Callum Attryde and Bénédikt Tran in <a href="https://github.com/python/cpython/issues/134635">gh-134635</a>.)</p></li>
<li><p>Allow combining two CRC-32 checksums via <a href="https://docs.python.org/3.15/library/zlib.html#zlib.crc32_combine" title="zlib.crc32_combine"><code><span>crc32_combine()</span></code></a>.
(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/134635">gh-134635</a>.)</p></li>
</ul>
</section>
</section>
<section id="optimizations">
<h2>Optimizations<a href="#optimizations" title="Link to this heading">¶</a></h2>
<section id="csv">
<h3>csv<a href="#csv" title="Link to this heading">¶</a></h3>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/csv.html#csv.Sniffer.sniff" title="csv.Sniffer.sniff"><code><span>csv.Sniffer.sniff()</span></code></a> delimiter detection is now up to 1.6x faster.
(Contributed by Maurycy Pawłowski-Wieroński in <a href="https://github.com/python/cpython/issues/137628">gh-137628</a>.)</p></li>
</ul>
</section>
</section>
<section id="upgraded-jit-compiler">
<span id="whatsnew315-jit"></span><h2>Upgraded JIT compiler<a href="#upgraded-jit-compiler" title="Link to this heading">¶</a></h2>
<p>Results from the <a href="https://github.com/python/pyperformance">pyperformance</a>
benchmark suite report
<a href="https://github.com/facebookexperimental/free-threading-benchmarking/blob/main/results/bm-20251214-3.15.0a2%2B-6cddf04-JIT/bm-20251214-vultr-x86_64-python-6cddf04344a1e8ca9df5-3.15.0a2%2B-6cddf04-vs-base.svg">3-4%</a>
geometric mean performance improvement for the JIT over the standard CPython
interpreter built with all optimizations enabled. The speedups for JIT
builds versus no JIT builds range from roughly 20% slowdown to over
100% speedup (ignoring the <code><span>unpack_sequence</span></code> microbenchmark) on
x86-64 Linux and AArch64 macOS systems.</p>
<div>
<p>Attention</p>
<p>These results are not yet final.</p>
</div>
<p>The major upgrades to the JIT are:</p>
<ul>
<li><p>LLVM 21 build-time dependency</p></li>
<li><p>New tracing frontend</p></li>
<li><p>Basic register allocation in the JIT</p></li>
<li><p>More JIT optimizations</p></li>
<li><p>Better machine code generation</p></li>
</ul>
<p>LLVM 21 build-time dependency</p>
<p>The JIT compiler now uses LLVM 21 for build-time stencil generation. As
always, LLVM is only needed when building CPython with the JIT enabled;
end users running Python do not need LLVM installed. Instructions for
installing LLVM can be found in the <a href="https://github.com/python/cpython/blob/main/Tools/jit/README.md">JIT compiler documentation</a>
for all supported platforms.</p>
<p>(Contributed by Savannah Ostrowski in <a href="https://github.com/python/cpython/issues/140973">gh-140973</a>.)</p>
<p>A new tracing frontend</p>
<p>The JIT compiler now supports significantly more bytecode operations and
control flow than in Python 3.14, enabling speedups on a wider variety of
code. For example, simple Python object creation is now understood by the
3.15 JIT compiler. Overloaded operations and generators are also partially
supported. This was made possible by an overhauled JIT tracing frontend
that records actual execution paths through code, rather than estimating
them as the previous implementation did.</p>
<p>(Contributed by Ken Jin in <a href="https://github.com/python/cpython/issues/139109">gh-139109</a>. Support for Windows added by
Mark Shannon in <a href="https://github.com/python/cpython/issues/141703">gh-141703</a>.)</p>
<p>Basic register allocation in the JIT</p>
<p>A basic form of register allocation has been added to the JIT compiler’s
optimizer. This allows the JIT compiler to avoid certain stack operations
altogether and instead operate on registers. This allows the JIT to produce
more efficient traces by avoiding reads and writes to memory.</p>
<p>(Contributed by Mark Shannon in <a href="https://github.com/python/cpython/issues/135379">gh-135379</a>.)</p>
<p>More JIT optimizations</p>
<p>More <a href="https://en.wikipedia.org/wiki/Constant_folding">constant-propagation</a>
is now performed. This means when the JIT compiler detects that certain user
code results in constants, the code can be simplified by the JIT.</p>
<p>(Contributed by Ken Jin and Savannah Ostrowski in <a href="https://github.com/python/cpython/issues/132732">gh-132732</a>.)</p>
<p>The JIT avoids <a href="https://docs.python.org/3.15/glossary.html#term-reference-count"><span>reference count</span></a>s where possible. This generally
reduces the cost of most operations in Python.</p>
<p>(Contributed by Ken Jin, Donghee Na, Zheao Li, Savannah Ostrowski,
Noam Cohen, Tomas Roun, PuQing in <a href="https://github.com/python/cpython/issues/134584">gh-134584</a>.)</p>
<p>Better machine code generation</p>
<p>The JIT compiler’s machine code generator now produces better machine code
for x86-64 and AArch64 macOS and Linux targets. In general, users should
experience lower memory usage for generated machine code and more efficient
machine code versus the old JIT.</p>
<p>(Contributed by Brandt Bucher in <a href="https://github.com/python/cpython/issues/136528">gh-136528</a> and <a href="https://github.com/python/cpython/issues/136528">gh-136528</a>.
Implementation for AArch64 contributed by Mark Shannon in <a href="https://github.com/python/cpython/issues/139855">gh-139855</a>.
Additional optimizations for AArch64 contributed by Mark Shannon and
Diego Russo in <a href="https://github.com/python/cpython/issues/140683">gh-140683</a> and <a href="https://github.com/python/cpython/issues/142305">gh-142305</a>.)</p>
</section>
<section id="removed">
<h2>Removed<a href="#removed" title="Link to this heading">¶</a></h2>
<section id="ctypes">
<h3>ctypes<a href="#ctypes" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Removed the undocumented function <code><span>ctypes.SetPointerType()</span></code>,
which has been deprecated since Python 3.13.
(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/133866">gh-133866</a>.)</p></li>
</ul>
</section>
<section id="glob">
<h3>glob<a href="#glob" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Removed the undocumented <code><span>glob.glob0()</span></code> and <code><span>glob.glob1()</span></code>
functions, which have been deprecated since Python 3.13. Use
<a href="https://docs.python.org/3.15/library/glob.html#glob.glob" title="glob.glob"><code><span>glob.glob()</span></code></a> and pass a directory to its <em>root_dir</em> argument instead.
(Contributed by Barney Gale in <a href="https://github.com/python/cpython/issues/137466">gh-137466</a>.)</p></li>
</ul>
</section>
<section id="http-server">
<h3>http.server<a href="#http-server" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Removed the <code><span>CGIHTTPRequestHandler</span></code> class
and the <code><span>--cgi</span></code> flag from the <strong>python -m http.server</strong>
command-line interface. They were deprecated in Python 3.13.
(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/133810">gh-133810</a>.)</p></li>
</ul>
</section>
<section id="importlib-resources">
<h3>importlib.resources<a href="#importlib-resources" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Removed deprecated <code><span>package</span></code> parameter
from <a href="https://docs.python.org/3.15/library/importlib.resources.html#importlib.resources.files" title="importlib.resources.files"><code><span>importlib.resources.files()</span></code></a> function.
(Contributed by Semyon Moroz in <a href="https://github.com/python/cpython/issues/138044">gh-138044</a>)</p></li>
</ul>
</section>
<section id="pathlib">
<h3>pathlib<a href="#pathlib" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Removed deprecated <code><span>pathlib.PurePath.is_reserved()</span></code>.
Use <a href="https://docs.python.org/3.15/library/os.path.html#os.path.isreserved" title="os.path.isreserved"><code><span>os.path.isreserved()</span></code></a> to detect reserved paths on Windows.
(Contributed by Nikita Sobolev in <a href="https://github.com/python/cpython/issues/133875">gh-133875</a>.)</p></li>
</ul>
</section>
<section id="platform">
<h3>platform<a href="#platform" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Removed the <code><span>platform.java_ver()</span></code> function,
which was deprecated since Python 3.13.
(Contributed by Alexey Makridenko in <a href="https://github.com/python/cpython/issues/133604">gh-133604</a>.)</p></li>
</ul>
</section>
<section id="sre">
<h3>sre_*<a href="#sre" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Removed <code><span>sre_compile</span></code>, <code><span>sre_constants</span></code> and <code><span>sre_parse</span></code> modules.
(Contributed by Stan Ulbrych in <a href="https://github.com/python/cpython/issues/135994">gh-135994</a>.)</p></li>
</ul>
</section>
<section id="sysconfig">
<h3>sysconfig<a href="#sysconfig" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Removed the <em>check_home</em> parameter of <a href="https://docs.python.org/3.15/library/sysconfig.html#sysconfig.is_python_build" title="sysconfig.is_python_build"><code><span>sysconfig.is_python_build()</span></code></a>.
(Contributed by Filipe Laíns in <a href="https://github.com/python/cpython/issues/92897">gh-92897</a>.)</p></li>
</ul>
</section>
<section id="threading">
<h3>threading<a href="#threading" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Remove support for arbitrary positional or keyword arguments in the C
implementation of <a href="https://docs.python.org/3.15/library/threading.html#threading.RLock" title="threading.RLock"><code><span>RLock</span></code></a> objects. This was deprecated
in Python 3.14.
(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/134087">gh-134087</a>.)</p></li>
</ul>
</section>
<section id="typing">
<h3>typing<a href="#typing" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The undocumented keyword argument syntax for creating
<a href="https://docs.python.org/3.15/library/typing.html#typing.NamedTuple" title="typing.NamedTuple"><code><span>NamedTuple</span></code></a> classes (for example,
<code><span>Point</span> <span>=</span> <span>NamedTuple(&#34;Point&#34;,</span> <span>x=int,</span> <span>y=int)</span></code>) is no longer supported.
Use the class-based syntax or the functional syntax instead.
(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/133817">gh-133817</a>.)</p></li>
<li><p>Using <code><span>TD</span> <span>=</span> <span>TypedDict(&#34;TD&#34;)</span></code> or <code><span>TD</span> <span>=</span> <span>TypedDict(&#34;TD&#34;,</span> <span>None)</span></code> to
construct a <a href="https://docs.python.org/3.15/library/typing.html#typing.TypedDict" title="typing.TypedDict"><code><span>TypedDict</span></code></a> type with zero fields is no
longer supported. Use <code><span>class</span> <span>TD(TypedDict):</span> <span>pass</span></code>
or <code><span>TD</span> <span>=</span> <span>TypedDict(&#34;TD&#34;,</span> <span>{})</span></code> instead.
(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/133823">gh-133823</a>.)</p></li>
<li><p>Code like <code><span>class</span> <span>ExtraTypeVars(P1[S],</span> <span>Protocol[T,</span> <span>T2]):</span> <span>...</span></code> now raises
a <a href="https://docs.python.org/3.15/library/exceptions.html#TypeError" title="TypeError"><code><span>TypeError</span></code></a>, because <code><span>S</span></code> is not listed in <code><span>Protocol</span></code> parameters.
(Contributed by Nikita Sobolev in <a href="https://github.com/python/cpython/issues/137191">gh-137191</a>.)</p></li>
<li><p>Code like <code><span>class</span> <span>B2(A[T2],</span> <span>Protocol[T1,</span> <span>T2]):</span> <span>...</span></code> now correctly handles
type parameters order: it is <code><span>(T1,</span> <span>T2)</span></code>, not <code><span>(T2,</span> <span>T1)</span></code>
as it was incorrectly inferred in runtime before.
(Contributed by Nikita Sobolev in <a href="https://github.com/python/cpython/issues/137191">gh-137191</a>.)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/typing.html#typing.ByteString" title="typing.ByteString"><code><span>typing.ByteString</span></code></a> has been removed from <code><span>typing.__all__</span></code>.
<code><span>typing.ByteString</span></code> has been deprecated since Python 3.9, and is
scheduled for removal in Python 3.17.</p></li>
<li><p>The following statements now cause <code><span>DeprecationWarning</span></code>s to be emitted at
runtime:</p>
<ul>
<li><p><code><span>from</span> <span>typing</span> <span>import</span> <span>ByteString</span></code></p></li>
<li><p><code><span>import</span> <span>typing;</span> <span>typing.ByteString</span></code>.</p></li>
</ul>
<p><code><span>DeprecationWarning</span></code>s were already emitted if <a href="https://docs.python.org/3.15/library/typing.html#typing.ByteString" title="typing.ByteString"><code><span>typing.ByteString</span></code></a>
was subclassed or used as the second argument to <a href="https://docs.python.org/3.15/library/functions.html#isinstance" title="isinstance"><code><span>isinstance()</span></code></a> or
<a href="https://docs.python.org/3.15/library/functions.html#issubclass" title="issubclass"><code><span>issubclass()</span></code></a>, but warnings were not previously emitted if it was merely
imported or accessed from the <code><span>typing</span></code> module.</p>
</li>
<li><p>Deprecated <code><span>typing.no_type_check_decorator()</span></code> has been removed.
(Contributed by Nikita Sobolev in <a href="https://github.com/python/cpython/issues/133601">gh-133601</a>.)</p></li>
</ul>
</section>
<section id="wave">
<h3>wave<a href="#wave" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Removed the <code><span>getmark()</span></code>, <code><span>setmark()</span></code> and <code><span>getmarkers()</span></code> methods
of the <a href="https://docs.python.org/3.15/library/wave.html#wave.Wave_read" title="wave.Wave_read"><code><span>Wave_read</span></code></a> and <a href="https://docs.python.org/3.15/library/wave.html#wave.Wave_write" title="wave.Wave_write"><code><span>Wave_write</span></code></a> classes,
which were deprecated since Python 3.13.
(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/133873">gh-133873</a>.)</p></li>
</ul>
</section>
<section id="zipimport">
<h3>zipimport<a href="#zipimport" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Remove deprecated <code><span>zipimport.zipimporter.load_module()</span></code>.
Use <a href="https://docs.python.org/3.15/library/zipimport.html#zipimport.zipimporter.exec_module" title="zipimport.zipimporter.exec_module"><code><span>zipimport.zipimporter.exec_module()</span></code></a> instead.
(Contributed by Jiahao Li in <a href="https://github.com/python/cpython/issues/133656">gh-133656</a>.)</p></li>
</ul>
</section>
</section>
<section id="deprecated">
<h2>Deprecated<a href="#deprecated" title="Link to this heading">¶</a></h2>
<section id="new-deprecations">
<h3>New deprecations<a href="#new-deprecations" title="Link to this heading">¶</a></h3>
<ul>
<li><p>CLI:</p>
<ul>
<li><p>Deprecate <a href="https://docs.python.org/3.15/using/cmdline.html#cmdoption-b"><code><span>-b</span></code></a> and <code><span>-bb</span></code> command-line options
and schedule them to become no-ops in Python 3.17.
These were primarily helpers for the Python 2 -&gt; 3 transition.
Starting with Python 3.17, no <a href="https://docs.python.org/3.15/library/exceptions.html#BytesWarning" title="BytesWarning"><code><span>BytesWarning</span></code></a> will be raised
for these cases; use a type checker instead.</p>
<p>(Contributed by Nikita Sobolev in <a href="https://github.com/python/cpython/issues/136355">gh-136355</a>.)</p>
</li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code><span>hashlib</span></code></a>:</p>
<ul>
<li><p>In hash function constructors such as <a href="https://docs.python.org/3.15/library/hashlib.html#hashlib.new" title="hashlib.new"><code><span>new()</span></code></a> or the
direct hash-named constructors such as <a href="https://docs.python.org/3.15/library/hashlib.html#hashlib.md5" title="hashlib.md5"><code><span>md5()</span></code></a> and
<a href="https://docs.python.org/3.15/library/hashlib.html#hashlib.sha256" title="hashlib.sha256"><code><span>sha256()</span></code></a>, the optional initial data parameter could
also be passed as a keyword argument named <code><span>data=</span></code> or <code><span>string=</span></code> in
various <a href="https://docs.python.org/3.15/library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code><span>hashlib</span></code></a> implementations.</p>
<p>Support for the <code><span>string</span></code> keyword argument name is now deprecated and
is slated for removal in Python 3.19. Prefer passing the initial data as
a positional argument for maximum backwards compatibility.</p>
<p>(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/134978">gh-134978</a>.)</p>
</li>
</ul>
</li>
<li><p><code><span>__version__</span></code></p>
<ul>
<li><p>The <code><span>__version__</span></code>, <code><span>version</span></code> and <code><span>VERSION</span></code> attributes have been
deprecated in these standard library modules and will be removed in
Python 3.20. Use <a href="https://docs.python.org/3.15/library/sys.html#sys.version_info" title="sys.version_info"><code><span>sys.version_info</span></code></a> instead.</p>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><code><span>argparse</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/csv.html#module-csv" title="csv: Write and read tabular data to and from delimited files."><code><span>csv</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python."><code><span>ctypes</span></code></a></p></li>
<li><p><code><span>ctypes.macholib</span></code></p></li>
<li><p><a href="https://docs.python.org/3.15/library/decimal.html#module-decimal" title="decimal: Implementation of the General Decimal Arithmetic Specification."><code><span>decimal</span></code></a> (use <a href="https://docs.python.org/3.15/library/decimal.html#decimal.SPEC_VERSION" title="decimal.SPEC_VERSION"><code><span>decimal.SPEC_VERSION</span></code></a> instead)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/http.server.html#module-http.server" title="http.server: HTTP server and request handlers."><code><span>http.server</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/imaplib.html#module-imaplib" title="imaplib: IMAP4 protocol client (requires sockets)."><code><span>imaplib</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code><span>ipaddress</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/json.html#module-json" title="json: Encode and decode the JSON format."><code><span>json</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code><span>logging</span></code></a> (<code><span>__date__</span></code> also deprecated)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/optparse.html#module-optparse" title="optparse: Command-line option parsing library."><code><span>optparse</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code><span>pickle</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/platform.html#module-platform" title="platform: Retrieves as much platform identifying data as possible."><code><span>platform</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/re.html#module-re" title="re: Regular expression operations."><code><span>re</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/socketserver.html#module-socketserver" title="socketserver: A framework for network servers."><code><span>socketserver</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/tabnanny.html#module-tabnanny" title="tabnanny: Tool for detecting white space related problems in Python source files in a directory tree."><code><span>tabnanny</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/tkinter.font.html#module-tkinter.font" title="tkinter.font: Tkinter font-wrapping class (Tk)"><code><span>tkinter.font</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/tkinter.ttk.html#module-tkinter.ttk" title="tkinter.ttk: Tk themed widget set"><code><span>tkinter.ttk</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/wsgiref.html#module-wsgiref.simple_server" title="wsgiref.simple_server: A simple WSGI HTTP server."><code><span>wsgiref.simple_server</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/xml.etree.elementtree.html#module-xml.etree.ElementTree" title="xml.etree.ElementTree: Implementation of the ElementTree API."><code><span>xml.etree.ElementTree</span></code></a></p></li>
<li><p><code><span>xml.sax.expatreader</span></code></p></li>
<li><p><a href="https://docs.python.org/3.15/library/xml.sax.handler.html#module-xml.sax.handler" title="xml.sax.handler: Base classes for SAX event handlers."><code><span>xml.sax.handler</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/zlib.html#module-zlib" title="zlib: Low-level interface to compression and decompression routines compatible with gzip."><code><span>zlib</span></code></a></p></li>
</ul>
<p>(Contributed by Hugo van Kemenade and Stan Ulbrych in <a href="https://github.com/python/cpython/issues/76007">gh-76007</a>.)</p>
</li>
</ul>
</li>
</ul>
</section>
<section id="pending-removal-in-python-3-16">
<h3>Pending removal in Python 3.16<a href="#pending-removal-in-python-3-16" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The import system:</p>
<ul>
<li><p>Setting <a href="https://docs.python.org/3.15/reference/datamodel.html#module.__loader__" title="module.__loader__"><code><span>__loader__</span></code></a> on a module while
failing to set <a href="https://docs.python.org/3.15/library/importlib.html#importlib.machinery.ModuleSpec.loader" title="importlib.machinery.ModuleSpec.loader"><code><span>__spec__.loader</span></code></a>
is deprecated. In Python 3.16, <code><span>__loader__</span></code> will cease to be set or
taken into consideration by the import system or the standard library.</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/array.html#module-array" title="array: Space efficient arrays of uniformly typed numeric values."><code><span>array</span></code></a>:</p>
<ul>
<li><p>The <code><span>&#39;u&#39;</span></code> format code (<code><span>wchar_t</span></code>)
has been deprecated in documentation since Python 3.3
and at runtime since Python 3.13.
Use the <code><span>&#39;w&#39;</span></code> format code (<a href="https://docs.python.org/3.15/c-api/unicode.html#c.Py_UCS4" title="Py_UCS4"><code><span>Py_UCS4</span></code></a>)
for Unicode characters instead.</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/asyncio.html#module-asyncio" title="asyncio: Asynchronous I/O."><code><span>asyncio</span></code></a>:</p>
<ul>
<li><p><code><span>asyncio.iscoroutinefunction()</span></code> is deprecated
and will be removed in Python 3.16;
use <a href="https://docs.python.org/3.15/library/inspect.html#inspect.iscoroutinefunction" title="inspect.iscoroutinefunction"><code><span>inspect.iscoroutinefunction()</span></code></a> instead.
(Contributed by Jiahao Li and Kumar Aditya in <a href="https://github.com/python/cpython/issues/122875">gh-122875</a>.)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/asyncio.html#module-asyncio" title="asyncio: Asynchronous I/O."><code><span>asyncio</span></code></a> policy system is deprecated and will be removed in Python 3.16.
In particular, the following classes and functions are deprecated:</p>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/asyncio-policy.html#asyncio.AbstractEventLoopPolicy" title="asyncio.AbstractEventLoopPolicy"><code><span>asyncio.AbstractEventLoopPolicy</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/asyncio-policy.html#asyncio.DefaultEventLoopPolicy" title="asyncio.DefaultEventLoopPolicy"><code><span>asyncio.DefaultEventLoopPolicy</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/asyncio-policy.html#asyncio.WindowsSelectorEventLoopPolicy" title="asyncio.WindowsSelectorEventLoopPolicy"><code><span>asyncio.WindowsSelectorEventLoopPolicy</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/asyncio-policy.html#asyncio.WindowsProactorEventLoopPolicy" title="asyncio.WindowsProactorEventLoopPolicy"><code><span>asyncio.WindowsProactorEventLoopPolicy</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/asyncio-policy.html#asyncio.get_event_loop_policy" title="asyncio.get_event_loop_policy"><code><span>asyncio.get_event_loop_policy()</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/asyncio-policy.html#asyncio.set_event_loop_policy" title="asyncio.set_event_loop_policy"><code><span>asyncio.set_event_loop_policy()</span></code></a></p></li>
</ul>
<p>Users should use <a href="https://docs.python.org/3.15/library/asyncio-runner.html#asyncio.run" title="asyncio.run"><code><span>asyncio.run()</span></code></a> or <a href="https://docs.python.org/3.15/library/asyncio-runner.html#asyncio.Runner" title="asyncio.Runner"><code><span>asyncio.Runner</span></code></a> with
<em>loop_factory</em> to use the desired event loop implementation.</p>
<p>For example, to use <a href="https://docs.python.org/3.15/library/asyncio-eventloop.html#asyncio.SelectorEventLoop" title="asyncio.SelectorEventLoop"><code><span>asyncio.SelectorEventLoop</span></code></a> on Windows:</p>
<div><div><pre><span></span><span>import</span><span> </span><span>asyncio</span>

<span>async</span> <span>def</span><span> </span><span>main</span><span>():</span>
    <span>...</span>

<span>asyncio</span><span>.</span><span>run</span><span>(</span><span>main</span><span>(),</span> <span>loop_factory</span><span>=</span><span>asyncio</span><span>.</span><span>SelectorEventLoop</span><span>)</span>
</pre></div>
</div>
<p>(Contributed by Kumar Aditya in <a href="https://github.com/python/cpython/issues/127949">gh-127949</a>.)</p>
</li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace."><code><span>builtins</span></code></a>:</p>
<ul>
<li><p>Bitwise inversion on boolean types, <code><span>~True</span></code> or <code><span>~False</span></code>
has been deprecated since Python 3.12,
as it produces surprising and unintuitive results (<code><span>-2</span></code> and <code><span>-1</span></code>).
Use <code><span>not</span> <span>x</span></code> instead for the logical negation of a Boolean.
In the rare case that you need the bitwise inversion of
the underlying integer, convert to <code><span>int</span></code> explicitly (<code><span>~int(x)</span></code>).</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/functools.html#module-functools" title="functools: Higher-order functions and operations on callable objects."><code><span>functools</span></code></a>:</p>
<ul>
<li><p>Calling the Python implementation of <a href="https://docs.python.org/3.15/library/functools.html#functools.reduce" title="functools.reduce"><code><span>functools.reduce()</span></code></a> with <em>function</em>
or <em>sequence</em> as keyword arguments has been deprecated since Python 3.14.</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code><span>logging</span></code></a>:</p>
<ul>
<li><p>Support for custom logging handlers with the <em>strm</em> argument is deprecated
and scheduled for removal in Python 3.16. Define handlers with the <em>stream</em>
argument instead. (Contributed by Mariusz Felisiak in <a href="https://github.com/python/cpython/issues/115032">gh-115032</a>.)</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/mimetypes.html#module-mimetypes" title="mimetypes: Mapping of filename extensions to MIME types."><code><span>mimetypes</span></code></a>:</p>
<ul>
<li><p>Valid extensions start with a ‘.’ or are empty for
<a href="https://docs.python.org/3.15/library/mimetypes.html#mimetypes.MimeTypes.add_type" title="mimetypes.MimeTypes.add_type"><code><span>mimetypes.MimeTypes.add_type()</span></code></a>.
Undotted extensions are deprecated and will
raise a <a href="https://docs.python.org/3.15/library/exceptions.html#ValueError" title="ValueError"><code><span>ValueError</span></code></a> in Python 3.16.
(Contributed by Hugo van Kemenade in <a href="https://github.com/python/cpython/issues/75223">gh-75223</a>.)</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/shutil.html#module-shutil" title="shutil: High-level file operations, including copying."><code><span>shutil</span></code></a>:</p>
<ul>
<li><p>The <code><span>ExecError</span></code> exception
has been deprecated since Python 3.14.
It has not been used by any function in <code><span>shutil</span></code> since Python 3.4,
and is now an alias of <a href="https://docs.python.org/3.15/library/exceptions.html#RuntimeError" title="RuntimeError"><code><span>RuntimeError</span></code></a>.</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/symtable.html#module-symtable" title="symtable: Interface to the compiler&#39;s internal symbol tables."><code><span>symtable</span></code></a>:</p>
<ul>
<li><p>The <a href="https://docs.python.org/3.15/library/symtable.html#symtable.Class.get_methods" title="symtable.Class.get_methods"><code><span>Class.get_methods</span></code></a> method
has been deprecated since Python 3.14.</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/sys.html#module-sys" title="sys: Access system-specific parameters and functions."><code><span>sys</span></code></a>:</p>
<ul>
<li><p>The <a href="https://docs.python.org/3.15/library/sys.html#sys._enablelegacywindowsfsencoding" title="sys._enablelegacywindowsfsencoding"><code><span>_enablelegacywindowsfsencoding()</span></code></a> function
has been deprecated since Python 3.13.
Use the <span id="index-17"></span><a href="https://docs.python.org/3.15/using/cmdline.html#envvar-PYTHONLEGACYWINDOWSFSENCODING"><code><span>PYTHONLEGACYWINDOWSFSENCODING</span></code></a> environment variable instead.</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/sysconfig.html#module-sysconfig" title="sysconfig: Python&#39;s configuration information"><code><span>sysconfig</span></code></a>:</p>
<ul>
<li><p>The <code><span>sysconfig.expand_makefile_vars()</span></code> function
has been deprecated since Python 3.14.
Use the <code><span>vars</span></code> argument of <a href="https://docs.python.org/3.15/library/sysconfig.html#sysconfig.get_paths" title="sysconfig.get_paths"><code><span>sysconfig.get_paths()</span></code></a> instead.</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/tarfile.html#module-tarfile" title="tarfile: Read and write tar-format archive files."><code><span>tarfile</span></code></a>:</p>
<ul>
<li><p>The undocumented and unused <code><span>TarFile.tarfile</span></code> attribute
has been deprecated since Python 3.13.</p></li>
</ul>
</li>
</ul>
</section>
<section id="pending-removal-in-python-3-17">
<h3>Pending removal in Python 3.17<a href="#pending-removal-in-python-3-17" title="Link to this heading">¶</a></h3>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/collections.abc.html#module-collections.abc" title="collections.abc: Abstract base classes for containers"><code><span>collections.abc</span></code></a>:</p>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/collections.abc.html#collections.abc.ByteString" title="collections.abc.ByteString"><code><span>collections.abc.ByteString</span></code></a> is scheduled for removal in Python 3.17.</p>
<p>Use <code><span>isinstance(obj,</span> <span>collections.abc.Buffer)</span></code> to test if <code><span>obj</span></code>
implements the <a href="https://docs.python.org/3.15/c-api/buffer.html#bufferobjects"><span>buffer protocol</span></a> at runtime. For use
in type annotations, either use <a href="https://docs.python.org/3.15/library/collections.abc.html#collections.abc.Buffer" title="collections.abc.Buffer"><code><span>Buffer</span></code></a> or a union
that explicitly specifies the types your code supports (e.g.,
<code><span>bytes</span> <span>|</span> <span>bytearray</span> <span>|</span> <span>memoryview</span></code>).</p>
<p><code><span>ByteString</span></code> was originally intended to be an abstract class that
would serve as a supertype of both <a href="https://docs.python.org/3.15/library/stdtypes.html#bytes" title="bytes"><code><span>bytes</span></code></a> and <a href="https://docs.python.org/3.15/library/stdtypes.html#bytearray" title="bytearray"><code><span>bytearray</span></code></a>.
However, since the ABC never had any methods, knowing that an object was an
instance of <code><span>ByteString</span></code> never actually told you anything useful
about the object. Other common buffer types such as <a href="https://docs.python.org/3.15/library/stdtypes.html#memoryview" title="memoryview"><code><span>memoryview</span></code></a>
were also never understood as subtypes of <code><span>ByteString</span></code> (either at
runtime or by static type checkers).</p>
<p>See <span id="index-18"></span><a href="https://peps.python.org/pep-0688/#current-options"><strong>PEP 688</strong></a> for more details.
(Contributed by Shantanu Jain in <a href="https://github.com/python/cpython/issues/91896">gh-91896</a>.)</p>
</li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/codecs.html#module-encodings" title="encodings: Encodings package"><code><span>encodings</span></code></a>:</p>
<ul>
<li><p>Passing non-ascii <em>encoding</em> names to <a href="https://docs.python.org/3.15/library/codecs.html#encodings.normalize_encoding" title="encodings.normalize_encoding"><code><span>encodings.normalize_encoding()</span></code></a>
is deprecated and scheduled for removal in Python 3.17.
(Contributed by Stan Ulbrych in <a href="https://github.com/python/cpython/issues/136702">gh-136702</a>)</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/typing.html#module-typing" title="typing: Support for type hints (see :pep:`484`)."><code><span>typing</span></code></a>:</p>
<ul>
<li><p>Before Python 3.14, old-style unions were implemented using the private class
<code><span>typing._UnionGenericAlias</span></code>. This class is no longer needed for the implementation,
but it has been retained for backward compatibility, with removal scheduled for Python
3.17. Users should use documented introspection helpers like <a href="https://docs.python.org/3.15/library/typing.html#typing.get_origin" title="typing.get_origin"><code><span>typing.get_origin()</span></code></a>
and <a href="https://docs.python.org/3.15/library/typing.html#typing.get_args" title="typing.get_args"><code><span>typing.get_args()</span></code></a> instead of relying on private implementation details.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/typing.html#typing.ByteString" title="typing.ByteString"><code><span>typing.ByteString</span></code></a>, deprecated since Python 3.9, is scheduled for removal in
Python 3.17.</p>
<p>Use <code><span>isinstance(obj,</span> <span>collections.abc.Buffer)</span></code> to test if <code><span>obj</span></code>
implements the <a href="https://docs.python.org/3.15/c-api/buffer.html#bufferobjects"><span>buffer protocol</span></a> at runtime. For use
in type annotations, either use <a href="https://docs.python.org/3.15/library/collections.abc.html#collections.abc.Buffer" title="collections.abc.Buffer"><code><span>Buffer</span></code></a> or a union
that explicitly specifies the types your code supports (e.g.,
<code><span>bytes</span> <span>|</span> <span>bytearray</span> <span>|</span> <span>memoryview</span></code>).</p>
<p><code><span>ByteString</span></code> was originally intended to be an abstract class that
would serve as a supertype of both <a href="https://docs.python.org/3.15/library/stdtypes.html#bytes" title="bytes"><code><span>bytes</span></code></a> and <a href="https://docs.python.org/3.15/library/stdtypes.html#bytearray" title="bytearray"><code><span>bytearray</span></code></a>.
However, since the ABC never had any methods, knowing that an object was an
instance of <code><span>ByteString</span></code> never actually told you anything useful
about the object. Other common buffer types such as <a href="https://docs.python.org/3.15/library/stdtypes.html#memoryview" title="memoryview"><code><span>memoryview</span></code></a>
were also never understood as subtypes of <code><span>ByteString</span></code> (either at
runtime or by static type checkers).</p>
<p>See <span id="index-19"></span><a href="https://peps.python.org/pep-0688/#current-options"><strong>PEP 688</strong></a> for more details.
(Contributed by Shantanu Jain in <a href="https://github.com/python/cpython/issues/91896">gh-91896</a>.)</p>
</li>
</ul>
</li>
</ul>
</section>
<section id="pending-removal-in-python-3-19">
<h3>Pending removal in Python 3.19<a href="#pending-removal-in-python-3-19" title="Link to this heading">¶</a></h3>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python."><code><span>ctypes</span></code></a>:</p>
<ul>
<li><p>Implicitly switching to the MSVC-compatible struct layout by setting
<a href="https://docs.python.org/3.15/library/ctypes.html#ctypes.Structure._pack_" title="ctypes.Structure._pack_"><code><span>_pack_</span></code></a> but not <a href="https://docs.python.org/3.15/library/ctypes.html#ctypes.Structure._layout_" title="ctypes.Structure._layout_"><code><span>_layout_</span></code></a>
on non-Windows platforms.</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/hashlib.html#module-hashlib" title="hashlib: Secure hash and message digest algorithms."><code><span>hashlib</span></code></a>:</p>
<ul>
<li><p>In hash function constructors such as <a href="https://docs.python.org/3.15/library/hashlib.html#hashlib.new" title="hashlib.new"><code><span>new()</span></code></a> or the
direct hash-named constructors such as <a href="https://docs.python.org/3.15/library/hashlib.html#hashlib.md5" title="hashlib.md5"><code><span>md5()</span></code></a> and
<a href="https://docs.python.org/3.15/library/hashlib.html#hashlib.sha256" title="hashlib.sha256"><code><span>sha256()</span></code></a>, their optional initial data parameter could
also be passed a keyword argument named <code><span>data=</span></code> or <code><span>string=</span></code> in
various <code><span>hashlib</span></code> implementations.</p>
<p>Support for the <code><span>string</span></code> keyword argument name is now deprecated
and slated for removal in Python 3.19.</p>
<p>Before Python 3.13, the <code><span>string</span></code> keyword parameter was not correctly
supported depending on the backend implementation of hash functions.
Prefer passing the initial data as a positional argument for maximum
backwards compatibility.</p>
</li>
</ul>
</li>
</ul>
</section>
<section id="pending-removal-in-python-3-20">
<h3>Pending removal in Python 3.20<a href="#pending-removal-in-python-3-20" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The <code><span>__version__</span></code>, <code><span>version</span></code> and <code><span>VERSION</span></code> attributes have been
deprecated in these standard library modules and will be removed in
Python 3.20. Use <a href="https://docs.python.org/3.15/library/sys.html#sys.version_info" title="sys.version_info"><code><span>sys.version_info</span></code></a> instead.</p>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><code><span>argparse</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/csv.html#module-csv" title="csv: Write and read tabular data to and from delimited files."><code><span>csv</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/ctypes.html#module-ctypes" title="ctypes: A foreign function library for Python."><code><span>ctypes</span></code></a></p></li>
<li><p><code><span>ctypes.macholib</span></code></p></li>
<li><p><a href="https://docs.python.org/3.15/library/decimal.html#module-decimal" title="decimal: Implementation of the General Decimal Arithmetic Specification."><code><span>decimal</span></code></a> (use <a href="https://docs.python.org/3.15/library/decimal.html#decimal.SPEC_VERSION" title="decimal.SPEC_VERSION"><code><span>decimal.SPEC_VERSION</span></code></a> instead)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/http.server.html#module-http.server" title="http.server: HTTP server and request handlers."><code><span>http.server</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/imaplib.html#module-imaplib" title="imaplib: IMAP4 protocol client (requires sockets)."><code><span>imaplib</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/ipaddress.html#module-ipaddress" title="ipaddress: IPv4/IPv6 manipulation library."><code><span>ipaddress</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/json.html#module-json" title="json: Encode and decode the JSON format."><code><span>json</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code><span>logging</span></code></a> (<code><span>__date__</span></code> also deprecated)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/optparse.html#module-optparse" title="optparse: Command-line option parsing library."><code><span>optparse</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/pickle.html#module-pickle" title="pickle: Convert Python objects to streams of bytes and back."><code><span>pickle</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/platform.html#module-platform" title="platform: Retrieves as much platform identifying data as possible."><code><span>platform</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/re.html#module-re" title="re: Regular expression operations."><code><span>re</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/socketserver.html#module-socketserver" title="socketserver: A framework for network servers."><code><span>socketserver</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/tabnanny.html#module-tabnanny" title="tabnanny: Tool for detecting white space related problems in Python source files in a directory tree."><code><span>tabnanny</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/tkinter.font.html#module-tkinter.font" title="tkinter.font: Tkinter font-wrapping class (Tk)"><code><span>tkinter.font</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/tkinter.ttk.html#module-tkinter.ttk" title="tkinter.ttk: Tk themed widget set"><code><span>tkinter.ttk</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/wsgiref.html#module-wsgiref.simple_server" title="wsgiref.simple_server: A simple WSGI HTTP server."><code><span>wsgiref.simple_server</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/xml.etree.elementtree.html#module-xml.etree.ElementTree" title="xml.etree.ElementTree: Implementation of the ElementTree API."><code><span>xml.etree.ElementTree</span></code></a></p></li>
<li><p><code><span>xml.sax.expatreader</span></code></p></li>
<li><p><a href="https://docs.python.org/3.15/library/xml.sax.handler.html#module-xml.sax.handler" title="xml.sax.handler: Base classes for SAX event handlers."><code><span>xml.sax.handler</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/library/zlib.html#module-zlib" title="zlib: Low-level interface to compression and decompression routines compatible with gzip."><code><span>zlib</span></code></a></p></li>
</ul>
<p>(Contributed by Hugo van Kemenade and Stan Ulbrych in <a href="https://github.com/python/cpython/issues/76007">gh-76007</a>.)</p>
</li>
</ul>
</section>
<section id="pending-removal-in-future-versions">
<h3>Pending removal in future versions<a href="#pending-removal-in-future-versions" title="Link to this heading">¶</a></h3>
<p>The following APIs will be removed in the future,
although there is currently no date scheduled for their removal.</p>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/argparse.html#module-argparse" title="argparse: Command-line option and argument parsing library."><code><span>argparse</span></code></a>:</p>
<ul>
<li><p>Nesting argument groups and nesting mutually exclusive
groups are deprecated.</p></li>
<li><p>Passing the undocumented keyword argument <em>prefix_chars</em> to
<a href="https://docs.python.org/3.15/library/argparse.html#argparse.ArgumentParser.add_argument_group" title="argparse.ArgumentParser.add_argument_group"><code><span>add_argument_group()</span></code></a> is now
deprecated.</p></li>
<li><p>The <a href="https://docs.python.org/3.15/library/argparse.html#argparse.FileType" title="argparse.FileType"><code><span>argparse.FileType</span></code></a> type converter is deprecated.</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace."><code><span>builtins</span></code></a>:</p>
<ul>
<li><p>Generators: <code><span>throw(type,</span> <span>exc,</span> <span>tb)</span></code> and <code><span>athrow(type,</span> <span>exc,</span> <span>tb)</span></code>
signature is deprecated: use <code><span>throw(exc)</span></code> and <code><span>athrow(exc)</span></code> instead,
the single argument signature.</p></li>
<li><p>Currently Python accepts numeric literals immediately followed by keywords,
for example <code><span>0in</span> <span>x</span></code>, <code><span>1or</span> <span>x</span></code>, <code><span>0if</span> <span>1else</span> <span>2</span></code>.  It allows confusing and
ambiguous expressions like <code><span>[0x1for</span> <span>x</span> <span>in</span> <span>y]</span></code> (which can be interpreted as
<code><span>[0x1</span> <span>for</span> <span>x</span> <span>in</span> <span>y]</span></code> or <code><span>[0x1f</span> <span>or</span> <span>x</span> <span>in</span> <span>y]</span></code>).  A syntax warning is raised
if the numeric literal is immediately followed by one of keywords
<a href="https://docs.python.org/3.15/reference/expressions.html#and"><code><span>and</span></code></a>, <a href="https://docs.python.org/3.15/reference/compound_stmts.html#else"><code><span>else</span></code></a>, <a href="https://docs.python.org/3.15/reference/compound_stmts.html#for"><code><span>for</span></code></a>, <a href="https://docs.python.org/3.15/reference/compound_stmts.html#if"><code><span>if</span></code></a>,
<a href="https://docs.python.org/3.15/reference/expressions.html#in"><code><span>in</span></code></a>, <a href="https://docs.python.org/3.15/reference/expressions.html#is"><code><span>is</span></code></a> and <a href="https://docs.python.org/3.15/reference/expressions.html#or"><code><span>or</span></code></a>.  In a future release it
will be changed to a syntax error. (<a href="https://github.com/python/cpython/issues/87999">gh-87999</a>)</p></li>
<li><p>Support for <code><span>__index__()</span></code> and <code><span>__int__()</span></code> method returning non-int type:
these methods will be required to return an instance of a strict subclass of
<a href="https://docs.python.org/3.15/library/functions.html#int" title="int"><code><span>int</span></code></a>.</p></li>
<li><p>Support for <code><span>__float__()</span></code> method returning a strict subclass of
<a href="https://docs.python.org/3.15/library/functions.html#float" title="float"><code><span>float</span></code></a>: these methods will be required to return an instance of
<a href="https://docs.python.org/3.15/library/functions.html#float" title="float"><code><span>float</span></code></a>.</p></li>
<li><p>Support for <code><span>__complex__()</span></code> method returning a strict subclass of
<a href="https://docs.python.org/3.15/library/functions.html#complex" title="complex"><code><span>complex</span></code></a>: these methods will be required to return an instance of
<a href="https://docs.python.org/3.15/library/functions.html#complex" title="complex"><code><span>complex</span></code></a>.</p></li>
<li><p>Delegation of <code><span>int()</span></code> to <code><span>__trunc__()</span></code> method.</p></li>
<li><p>Passing a complex number as the <em>real</em> or <em>imag</em> argument in the
<a href="https://docs.python.org/3.15/library/functions.html#complex" title="complex"><code><span>complex()</span></code></a> constructor is now deprecated; it should only be passed
as a single positional argument.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/109218">gh-109218</a>.)</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/calendar.html#module-calendar" title="calendar: Functions for working with calendars, including some emulation of the Unix cal program."><code><span>calendar</span></code></a>: <code><span>calendar.January</span></code> and <code><span>calendar.February</span></code> constants are
deprecated and replaced by <a href="https://docs.python.org/3.15/library/calendar.html#calendar.JANUARY" title="calendar.JANUARY"><code><span>calendar.JANUARY</span></code></a> and
<a href="https://docs.python.org/3.15/library/calendar.html#calendar.FEBRUARY" title="calendar.FEBRUARY"><code><span>calendar.FEBRUARY</span></code></a>.
(Contributed by Prince Roshan in <a href="https://github.com/python/cpython/issues/103636">gh-103636</a>.)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/codecs.html#module-codecs" title="codecs: Encode and decode data and streams."><code><span>codecs</span></code></a>: use <a href="https://docs.python.org/3.15/library/functions.html#open" title="open"><code><span>open()</span></code></a> instead of <a href="https://docs.python.org/3.15/library/codecs.html#codecs.open" title="codecs.open"><code><span>codecs.open()</span></code></a>. (<a href="https://github.com/python/cpython/issues/133038">gh-133038</a>)</p></li>
<li><p><a href="https://docs.python.org/3.15/reference/datamodel.html#codeobject.co_lnotab" title="codeobject.co_lnotab"><code><span>codeobject.co_lnotab</span></code></a>: use the <a href="https://docs.python.org/3.15/reference/datamodel.html#codeobject.co_lines" title="codeobject.co_lines"><code><span>codeobject.co_lines()</span></code></a> method
instead.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/datetime.html#module-datetime" title="datetime: Basic date and time types."><code><span>datetime</span></code></a>:</p>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/datetime.html#datetime.datetime.utcnow" title="datetime.datetime.utcnow"><code><span>utcnow()</span></code></a>:
use <code><span>datetime.datetime.now(tz=datetime.UTC)</span></code>.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/datetime.html#datetime.datetime.utcfromtimestamp" title="datetime.datetime.utcfromtimestamp"><code><span>utcfromtimestamp()</span></code></a>:
use <code><span>datetime.datetime.fromtimestamp(timestamp,</span> <span>tz=datetime.UTC)</span></code>.</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/gettext.html#module-gettext" title="gettext: Multilingual internationalization services."><code><span>gettext</span></code></a>: Plural value must be an integer.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/importlib.html#module-importlib" title="importlib: The implementation of the import machinery."><code><span>importlib</span></code></a>:</p>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/importlib.html#importlib.util.cache_from_source" title="importlib.util.cache_from_source"><code><span>cache_from_source()</span></code></a> <em>debug_override</em> parameter is
deprecated: use the <em>optimization</em> parameter instead.</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/importlib.metadata.html#module-importlib.metadata" title="importlib.metadata: Accessing package metadata"><code><span>importlib.metadata</span></code></a>:</p>
<ul>
<li><p><code><span>EntryPoints</span></code> tuple interface.</p></li>
<li><p>Implicit <code><span>None</span></code> on return values.</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/logging.html#module-logging" title="logging: Flexible event logging system for applications."><code><span>logging</span></code></a>: the <code><span>warn()</span></code> method has been deprecated
since Python 3.3, use <a href="https://docs.python.org/3.15/library/logging.html#logging.warning" title="logging.warning"><code><span>warning()</span></code></a> instead.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/mailbox.html#module-mailbox" title="mailbox: Manipulate mailboxes in various formats"><code><span>mailbox</span></code></a>: Use of StringIO input and text mode is deprecated, use
BytesIO and binary mode instead.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/os.html#module-os" title="os: Miscellaneous operating system interfaces."><code><span>os</span></code></a>: Calling <a href="https://docs.python.org/3.15/library/os.html#os.register_at_fork" title="os.register_at_fork"><code><span>os.register_at_fork()</span></code></a> in a multi-threaded process.</p></li>
<li><p><code><span>pydoc.ErrorDuringImport</span></code>: A tuple value for <em>exc_info</em> parameter is
deprecated, use an exception instance.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/re.html#module-re" title="re: Regular expression operations."><code><span>re</span></code></a>: More strict rules are now applied for numerical group references
and group names in regular expressions.  Only sequence of ASCII digits is now
accepted as a numerical reference.  The group name in bytes patterns and
replacement strings can now only contain ASCII letters and digits and
underscore.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/91760">gh-91760</a>.)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/shutil.html#module-shutil" title="shutil: High-level file operations, including copying."><code><span>shutil</span></code></a>: <a href="https://docs.python.org/3.15/library/shutil.html#shutil.rmtree" title="shutil.rmtree"><code><span>rmtree()</span></code></a>’s <em>onerror</em> parameter is deprecated in
Python 3.12; use the <em>onexc</em> parameter instead.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/ssl.html#module-ssl" title="ssl: TLS/SSL wrapper for socket objects"><code><span>ssl</span></code></a> options and protocols:</p>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code><span>ssl.SSLContext</span></code></a> without protocol argument is deprecated.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/ssl.html#ssl.SSLContext" title="ssl.SSLContext"><code><span>ssl.SSLContext</span></code></a>: <a href="https://docs.python.org/3.15/library/ssl.html#ssl.SSLContext.set_npn_protocols" title="ssl.SSLContext.set_npn_protocols"><code><span>set_npn_protocols()</span></code></a> and
<code><span>selected_npn_protocol()</span></code> are deprecated: use ALPN
instead.</p></li>
<li><p><code><span>ssl.OP_NO_SSL*</span></code> options</p></li>
<li><p><code><span>ssl.OP_NO_TLS*</span></code> options</p></li>
<li><p><code><span>ssl.PROTOCOL_SSLv3</span></code></p></li>
<li><p><code><span>ssl.PROTOCOL_TLS</span></code></p></li>
<li><p><code><span>ssl.PROTOCOL_TLSv1</span></code></p></li>
<li><p><code><span>ssl.PROTOCOL_TLSv1_1</span></code></p></li>
<li><p><code><span>ssl.PROTOCOL_TLSv1_2</span></code></p></li>
<li><p><code><span>ssl.TLSVersion.SSLv3</span></code></p></li>
<li><p><code><span>ssl.TLSVersion.TLSv1</span></code></p></li>
<li><p><code><span>ssl.TLSVersion.TLSv1_1</span></code></p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/threading.html#module-threading" title="threading: Thread-based parallelism."><code><span>threading</span></code></a> methods:</p>
<ul>
<li><p><code><span>threading.Condition.notifyAll()</span></code>: use <a href="https://docs.python.org/3.15/library/threading.html#threading.Condition.notify_all" title="threading.Condition.notify_all"><code><span>notify_all()</span></code></a>.</p></li>
<li><p><code><span>threading.Event.isSet()</span></code>: use <a href="https://docs.python.org/3.15/library/threading.html#threading.Event.is_set" title="threading.Event.is_set"><code><span>is_set()</span></code></a>.</p></li>
<li><p><code><span>threading.Thread.isDaemon()</span></code>, <a href="https://docs.python.org/3.15/library/threading.html#threading.Thread.setDaemon" title="threading.Thread.setDaemon"><code><span>threading.Thread.setDaemon()</span></code></a>:
use <a href="https://docs.python.org/3.15/library/threading.html#threading.Thread.daemon" title="threading.Thread.daemon"><code><span>threading.Thread.daemon</span></code></a> attribute.</p></li>
<li><p><code><span>threading.Thread.getName()</span></code>, <a href="https://docs.python.org/3.15/library/threading.html#threading.Thread.setName" title="threading.Thread.setName"><code><span>threading.Thread.setName()</span></code></a>:
use <a href="https://docs.python.org/3.15/library/threading.html#threading.Thread.name" title="threading.Thread.name"><code><span>threading.Thread.name</span></code></a> attribute.</p></li>
<li><p><code><span>threading.currentThread()</span></code>: use <a href="https://docs.python.org/3.15/library/threading.html#threading.current_thread" title="threading.current_thread"><code><span>threading.current_thread()</span></code></a>.</p></li>
<li><p><code><span>threading.activeCount()</span></code>: use <a href="https://docs.python.org/3.15/library/threading.html#threading.active_count" title="threading.active_count"><code><span>threading.active_count()</span></code></a>.</p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/typing.html#typing.Text" title="typing.Text"><code><span>typing.Text</span></code></a> (<a href="https://github.com/python/cpython/issues/92332">gh-92332</a>).</p></li>
<li><p>The internal class <code><span>typing._UnionGenericAlias</span></code> is no longer used to implement
<a href="https://docs.python.org/3.15/library/typing.html#typing.Union" title="typing.Union"><code><span>typing.Union</span></code></a>. To preserve compatibility with users using this private
class, a compatibility shim will be provided until at least Python 3.17. (Contributed by
Jelle Zijlstra in <a href="https://github.com/python/cpython/issues/105499">gh-105499</a>.)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/unittest.html#unittest.IsolatedAsyncioTestCase" title="unittest.IsolatedAsyncioTestCase"><code><span>unittest.IsolatedAsyncioTestCase</span></code></a>: it is deprecated to return a value
that is not <code><span>None</span></code> from a test case.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/urllib.parse.html#module-urllib.parse" title="urllib.parse: Parse URLs into or assemble them from components."><code><span>urllib.parse</span></code></a> deprecated functions: <a href="https://docs.python.org/3.15/library/urllib.parse.html#urllib.parse.urlparse" title="urllib.parse.urlparse"><code><span>urlparse()</span></code></a> instead</p>
<ul>
<li><p><code><span>splitattr()</span></code></p></li>
<li><p><code><span>splithost()</span></code></p></li>
<li><p><code><span>splitnport()</span></code></p></li>
<li><p><code><span>splitpasswd()</span></code></p></li>
<li><p><code><span>splitport()</span></code></p></li>
<li><p><code><span>splitquery()</span></code></p></li>
<li><p><code><span>splittag()</span></code></p></li>
<li><p><code><span>splittype()</span></code></p></li>
<li><p><code><span>splituser()</span></code></p></li>
<li><p><code><span>splitvalue()</span></code></p></li>
<li><p><code><span>to_bytes()</span></code></p></li>
</ul>
</li>
<li><p><a href="https://docs.python.org/3.15/library/wsgiref.html#module-wsgiref" title="wsgiref: WSGI Utilities and Reference Implementation."><code><span>wsgiref</span></code></a>: <code><span>SimpleHandler.stdout.write()</span></code> should not do partial
writes.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/xml.etree.elementtree.html#module-xml.etree.ElementTree" title="xml.etree.ElementTree: Implementation of the ElementTree API."><code><span>xml.etree.ElementTree</span></code></a>: Testing the truth value of an
<a href="https://docs.python.org/3.15/library/xml.etree.elementtree.html#xml.etree.ElementTree.Element" title="xml.etree.ElementTree.Element"><code><span>Element</span></code></a> is deprecated. In a future release it
will always return <code><span>True</span></code>. Prefer explicit <code><span>len(elem)</span></code> or
<code><span>elem</span> <span>is</span> <span>not</span> <span>None</span></code> tests instead.</p></li>
<li><p><a href="https://docs.python.org/3.15/library/sys.html#sys._clear_type_cache" title="sys._clear_type_cache"><code><span>sys._clear_type_cache()</span></code></a> is deprecated:
use <a href="https://docs.python.org/3.15/library/sys.html#sys._clear_internal_caches" title="sys._clear_internal_caches"><code><span>sys._clear_internal_caches()</span></code></a> instead.</p></li>
</ul>
</section>
</section>
<section id="c-api-changes">
<h2>C API changes<a href="#c-api-changes" title="Link to this heading">¶</a></h2>
<section id="id1">
<h3>New features<a href="#id1" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Add <a href="https://docs.python.org/3.15/c-api/sys.html#c.PySys_GetAttr" title="PySys_GetAttr"><code><span>PySys_GetAttr()</span></code></a>, <a href="https://docs.python.org/3.15/c-api/sys.html#c.PySys_GetAttrString" title="PySys_GetAttrString"><code><span>PySys_GetAttrString()</span></code></a>,
<a href="https://docs.python.org/3.15/c-api/sys.html#c.PySys_GetOptionalAttr" title="PySys_GetOptionalAttr"><code><span>PySys_GetOptionalAttr()</span></code></a>, and <a href="https://docs.python.org/3.15/c-api/sys.html#c.PySys_GetOptionalAttrString" title="PySys_GetOptionalAttrString"><code><span>PySys_GetOptionalAttrString()</span></code></a>
functions as replacements for <a href="https://docs.python.org/3.15/c-api/sys.html#c.PySys_GetObject" title="PySys_GetObject"><code><span>PySys_GetObject()</span></code></a>.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/108512">gh-108512</a>.)</p></li>
<li><p>Add <a href="https://docs.python.org/3.15/c-api/unicode.html#c.PyUnstable_Unicode_GET_CACHED_HASH" title="PyUnstable_Unicode_GET_CACHED_HASH"><code><span>PyUnstable_Unicode_GET_CACHED_HASH</span></code></a> to get the cached hash of
a string. See the documentation for caveats.
(Contributed by Petr Viktorin in <a href="https://github.com/python/cpython/issues/131510">gh-131510</a>.)</p></li>
<li><p>Add API for checking an extension module’s ABI compatibility:
<a href="https://docs.python.org/3.15/c-api/module.html#c.Py_mod_abi" title="Py_mod_abi"><code><span>Py_mod_abi</span></code></a>, <a href="https://docs.python.org/3.15/c-api/stable.html#c.PyABIInfo_Check" title="PyABIInfo_Check"><code><span>PyABIInfo_Check()</span></code></a>, <a href="https://docs.python.org/3.15/c-api/stable.html#c.PyABIInfo_VAR" title="PyABIInfo_VAR"><code><span>PyABIInfo_VAR</span></code></a>
and <a href="https://docs.python.org/3.15/c-api/module.html#c.Py_mod_abi" title="Py_mod_abi"><code><span>Py_mod_abi</span></code></a>.
(Contributed by Petr Viktorin in <a href="https://github.com/python/cpython/issues/137210">gh-137210</a>.)</p></li>
</ul>
<ul id="whatsnew315-pep782">
<li><p>Implement <span id="index-20"></span><a href="https://peps.python.org/pep-0782/"><strong>PEP 782</strong></a>, the <a href="https://docs.python.org/3.15/c-api/bytes.html#pybyteswriter"><span>PyBytesWriter API</span></a>.
Add functions:</p>
<ul>
<li><p><a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytesWriter_Create" title="PyBytesWriter_Create"><code><span>PyBytesWriter_Create()</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytesWriter_Discard" title="PyBytesWriter_Discard"><code><span>PyBytesWriter_Discard()</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytesWriter_FinishWithPointer" title="PyBytesWriter_FinishWithPointer"><code><span>PyBytesWriter_FinishWithPointer()</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytesWriter_FinishWithSize" title="PyBytesWriter_FinishWithSize"><code><span>PyBytesWriter_FinishWithSize()</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytesWriter_Finish" title="PyBytesWriter_Finish"><code><span>PyBytesWriter_Finish()</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytesWriter_Format" title="PyBytesWriter_Format"><code><span>PyBytesWriter_Format()</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytesWriter_GetData" title="PyBytesWriter_GetData"><code><span>PyBytesWriter_GetData()</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytesWriter_GetSize" title="PyBytesWriter_GetSize"><code><span>PyBytesWriter_GetSize()</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytesWriter_GrowAndUpdatePointer" title="PyBytesWriter_GrowAndUpdatePointer"><code><span>PyBytesWriter_GrowAndUpdatePointer()</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytesWriter_Grow" title="PyBytesWriter_Grow"><code><span>PyBytesWriter_Grow()</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytesWriter_Resize" title="PyBytesWriter_Resize"><code><span>PyBytesWriter_Resize()</span></code></a></p></li>
<li><p><a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytesWriter_WriteBytes" title="PyBytesWriter_WriteBytes"><code><span>PyBytesWriter_WriteBytes()</span></code></a></p></li>
</ul>
<p>(Contributed by Victor Stinner in <a href="https://github.com/python/cpython/issues/129813">gh-129813</a>.)</p>
</li>
<li><p>Add a new <a href="https://docs.python.org/3.15/c-api/import.html#c.PyImport_CreateModuleFromInitfunc" title="PyImport_CreateModuleFromInitfunc"><code><span>PyImport_CreateModuleFromInitfunc()</span></code></a> C-API for creating
a module from a <em>spec</em> and <em>initfunc</em>.
(Contributed by Itamar Oren in <a href="https://github.com/python/cpython/issues/116146">gh-116146</a>.)</p></li>
<li><p>Add <a href="https://docs.python.org/3.15/c-api/tuple.html#c.PyTuple_FromArray" title="PyTuple_FromArray"><code><span>PyTuple_FromArray()</span></code></a> to create a <a href="https://docs.python.org/3.15/library/stdtypes.html#tuple" title="tuple"><code><span>tuple</span></code></a> from an array.
(Contributed by Victor Stinner in <a href="https://github.com/python/cpython/issues/111489">gh-111489</a>.)</p></li>
<li><p>Add <a href="https://docs.python.org/3.15/c-api/object.html#c.PyUnstable_Object_Dump" title="PyUnstable_Object_Dump"><code><span>PyUnstable_Object_Dump()</span></code></a> to dump an object to <code><span>stderr</span></code>.
It should only be used for debugging.
(Contributed by Victor Stinner in <a href="https://github.com/python/cpython/issues/141070">gh-141070</a>.)</p></li>
<li><p>Add <a href="https://docs.python.org/3.15/c-api/init.html#c.PyUnstable_ThreadState_SetStackProtection" title="PyUnstable_ThreadState_SetStackProtection"><code><span>PyUnstable_ThreadState_SetStackProtection()</span></code></a> and
<a href="https://docs.python.org/3.15/c-api/init.html#c.PyUnstable_ThreadState_ResetStackProtection" title="PyUnstable_ThreadState_ResetStackProtection"><code><span>PyUnstable_ThreadState_ResetStackProtection()</span></code></a> functions to set
the stack protection base address and stack protection size of a Python
thread state.
(Contributed by Victor Stinner in <a href="https://github.com/python/cpython/issues/139653">gh-139653</a>.)</p></li>
</ul>
</section>
<section id="changed-c-apis">
<h3>Changed C APIs<a href="#changed-c-apis" title="Link to this heading">¶</a></h3>
<ul>
<li><p>If the <a href="https://docs.python.org/3.15/c-api/typeobj.html#c.Py_TPFLAGS_MANAGED_DICT" title="Py_TPFLAGS_MANAGED_DICT"><code><span>Py_TPFLAGS_MANAGED_DICT</span></code></a> or <a href="https://docs.python.org/3.15/c-api/typeobj.html#c.Py_TPFLAGS_MANAGED_WEAKREF" title="Py_TPFLAGS_MANAGED_WEAKREF"><code><span>Py_TPFLAGS_MANAGED_WEAKREF</span></code></a>
flag is set then <a href="https://docs.python.org/3.15/c-api/typeobj.html#c.Py_TPFLAGS_HAVE_GC" title="Py_TPFLAGS_HAVE_GC"><code><span>Py_TPFLAGS_HAVE_GC</span></code></a> must be set too.
(Contributed by Sergey Miryanov in <a href="https://github.com/python/cpython/issues/134786">gh-134786</a>)</p></li>
</ul>
</section>
<section id="porting-to-python-3-15">
<h3>Porting to Python 3.15<a href="#porting-to-python-3-15" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Private functions promoted to public C APIs:</p>
<p>The <a href="https://github.com/python/pythoncapi-compat">pythoncapi-compat project</a> can be used to get most of these new
functions on Python 3.14 and older.</p>
</li>
</ul>
</section>
<section id="removed-c-apis">
<h3>Removed C APIs<a href="#removed-c-apis" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Remove deprecated <code><span>PyUnicode</span></code> functions:</p>
<ul>
<li><p><code><span>PyUnicode_AsDecodedObject()</span></code>:
Use <a href="https://docs.python.org/3.15/c-api/codec.html#c.PyCodec_Decode" title="PyCodec_Decode"><code><span>PyCodec_Decode()</span></code></a> instead.</p></li>
<li><p><code><span>PyUnicode_AsDecodedUnicode()</span></code>:
Use <a href="https://docs.python.org/3.15/c-api/codec.html#c.PyCodec_Decode" title="PyCodec_Decode"><code><span>PyCodec_Decode()</span></code></a> instead; Note that some codecs (for example, “base64”)
may return a type other than <a href="https://docs.python.org/3.15/library/stdtypes.html#str" title="str"><code><span>str</span></code></a>, such as <a href="https://docs.python.org/3.15/library/stdtypes.html#bytes" title="bytes"><code><span>bytes</span></code></a>.</p></li>
<li><p><code><span>PyUnicode_AsEncodedObject()</span></code>:
Use <a href="https://docs.python.org/3.15/c-api/codec.html#c.PyCodec_Encode" title="PyCodec_Encode"><code><span>PyCodec_Encode()</span></code></a> instead.</p></li>
<li><p><code><span>PyUnicode_AsEncodedUnicode()</span></code>:
Use <a href="https://docs.python.org/3.15/c-api/codec.html#c.PyCodec_Encode" title="PyCodec_Encode"><code><span>PyCodec_Encode()</span></code></a> instead; Note that some codecs (for example, “base64”)
may return a type other than <a href="https://docs.python.org/3.15/library/stdtypes.html#bytes" title="bytes"><code><span>bytes</span></code></a>, such as <a href="https://docs.python.org/3.15/library/stdtypes.html#str" title="str"><code><span>str</span></code></a>.</p></li>
</ul>
<p>(Contributed by Stan Ulbrych in <a href="https://github.com/python/cpython/issues/133612">gh-133612</a>.)</p>
</li>
<li><p><code><span>PyImport_ImportModuleNoBlock()</span></code>: deprecated alias
of <a href="https://docs.python.org/3.15/c-api/import.html#c.PyImport_ImportModule" title="PyImport_ImportModule"><code><span>PyImport_ImportModule()</span></code></a>.
(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/133644">gh-133644</a>.)</p></li>
<li><p><code><span>PyWeakref_GetObject()</span></code> and <code><span>PyWeakref_GET_OBJECT</span></code>:
use <a href="https://docs.python.org/3.15/c-api/weakref.html#c.PyWeakref_GetRef" title="PyWeakref_GetRef"><code><span>PyWeakref_GetRef()</span></code></a> instead. The <a href="https://github.com/python/pythoncapi-compat">pythoncapi-compat project</a>
can be used to get <code><span>PyWeakref_GetRef()</span></code> on Python 3.12 and older.
(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/133644">gh-133644</a>.)</p></li>
<li><p>Remove deprecated <code><span>PySys_ResetWarnOptions()</span></code>.
Clear <a href="https://docs.python.org/3.15/library/sys.html#sys.warnoptions" title="sys.warnoptions"><code><span>sys.warnoptions</span></code></a> and <code><span>warnings.filters</span></code> instead.</p>
<p>(Contributed by Nikita Sobolev in <a href="https://github.com/python/cpython/issues/138886">gh-138886</a>.)</p>
</li>
</ul>
<p>The following functions are removed in favor of <a href="https://docs.python.org/3.15/c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code><span>PyConfig_Get()</span></code></a>.
The <a href="https://github.com/python/pythoncapi-compat">pythoncapi-compat project</a> can be used to get <code><span>PyConfig_Get()</span></code>
on Python 3.13 and older.</p>
<ul>
<li><p>Python initialization functions:</p>
<ul>
<li><p><code><span>Py_GetExecPrefix()</span></code>:
use <a href="https://docs.python.org/3.15/c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code><span>PyConfig_Get(&#34;base_exec_prefix&#34;)</span></code></a>
(<a href="https://docs.python.org/3.15/library/sys.html#sys.base_exec_prefix" title="sys.base_exec_prefix"><code><span>sys.base_exec_prefix</span></code></a>) instead.
Use <a href="https://docs.python.org/3.15/c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code><span>PyConfig_Get(&#34;exec_prefix&#34;)</span></code></a>
(<a href="https://docs.python.org/3.15/library/sys.html#sys.exec_prefix" title="sys.exec_prefix"><code><span>sys.exec_prefix</span></code></a>) if <a href="https://docs.python.org/3.15/library/venv.html#venv-def"><span>virtual environments</span></a>
need to be handled.</p></li>
<li><p><code><span>Py_GetPath()</span></code>:
use <a href="https://docs.python.org/3.15/c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code><span>PyConfig_Get(&#34;module_search_paths&#34;)</span></code></a>
(<a href="https://docs.python.org/3.15/library/sys.html#sys.path" title="sys.path"><code><span>sys.path</span></code></a>) instead.</p></li>
<li><p><code><span>Py_GetPrefix()</span></code>:
use <a href="https://docs.python.org/3.15/c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code><span>PyConfig_Get(&#34;base_prefix&#34;)</span></code></a>
(<a href="https://docs.python.org/3.15/library/sys.html#sys.base_prefix" title="sys.base_prefix"><code><span>sys.base_prefix</span></code></a>) instead.
Use <a href="https://docs.python.org/3.15/c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code><span>PyConfig_Get(&#34;prefix&#34;)</span></code></a>
(<a href="https://docs.python.org/3.15/library/sys.html#sys.prefix" title="sys.prefix"><code><span>sys.prefix</span></code></a>) if <a href="https://docs.python.org/3.15/library/venv.html#venv-def"><span>virtual environments</span></a>
need to be handled.</p></li>
<li><p><code><span>Py_GetProgramFullPath()</span></code>:
use <a href="https://docs.python.org/3.15/c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code><span>PyConfig_Get(&#34;executable&#34;)</span></code></a>
(<a href="https://docs.python.org/3.15/library/sys.html#sys.executable" title="sys.executable"><code><span>sys.executable</span></code></a>) instead.</p></li>
<li><p><code><span>Py_GetProgramName()</span></code>:
use <a href="https://docs.python.org/3.15/c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code><span>PyConfig_Get(&#34;executable&#34;)</span></code></a>
(<a href="https://docs.python.org/3.15/library/sys.html#sys.executable" title="sys.executable"><code><span>sys.executable</span></code></a>) instead.</p></li>
<li><p><code><span>Py_GetPythonHome()</span></code>:
use <a href="https://docs.python.org/3.15/c-api/init_config.html#c.PyConfig_Get" title="PyConfig_Get"><code><span>PyConfig_Get(&#34;home&#34;)</span></code></a> or the
<span id="index-21"></span><a href="https://docs.python.org/3.15/using/cmdline.html#envvar-PYTHONHOME"><code><span>PYTHONHOME</span></code></a> environment variable instead.</p></li>
</ul>
<p>(Contributed by Bénédikt Tran in <a href="https://github.com/python/cpython/issues/133644">gh-133644</a>.)</p>
</li>
</ul>
</section>
<section id="deprecated-c-apis">
<h3>Deprecated C APIs<a href="#deprecated-c-apis" title="Link to this heading">¶</a></h3>
<ul>
<li><p>For unsigned integer formats in <a href="https://docs.python.org/3.15/c-api/arg.html#c.PyArg_ParseTuple" title="PyArg_ParseTuple"><code><span>PyArg_ParseTuple()</span></code></a>,
accepting Python integers with value that is larger than the maximal value
for the C type or less than the minimal value for the corresponding
signed integer type of the same size is now deprecated.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/132629">gh-132629</a>.)</p></li>
<li><p><a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytes_FromStringAndSize" title="PyBytes_FromStringAndSize"><code><span>PyBytes_FromStringAndSize(NULL,</span> <span>len)</span></code></a>
and <a href="https://docs.python.org/3.15/c-api/bytes.html#c._PyBytes_Resize" title="_PyBytes_Resize"><code><span>_PyBytes_Resize()</span></code></a> are <a href="https://docs.python.org/3.15/glossary.html#term-soft-deprecated"><span>soft deprecated</span></a>,
use the <a href="https://docs.python.org/3.15/c-api/bytes.html#c.PyBytesWriter" title="PyBytesWriter"><code><span>PyBytesWriter</span></code></a> API instead.
(Contributed by Victor Stinner in <a href="https://github.com/python/cpython/issues/129813">gh-129813</a>.)</p></li>
<li><p><code><span>_PyObject_CallMethodId()</span></code>, <code><span>_PyObject_GetAttrId()</span></code> and
<code><span>_PyUnicode_FromId()</span></code> are deprecated since 3.15 and will be removed in
3.20. Instead, use <a href="https://docs.python.org/3.15/c-api/unicode.html#c.PyUnicode_InternFromString" title="PyUnicode_InternFromString"><code><span>PyUnicode_InternFromString()</span></code></a> and cache the result in
the module state, then call <a href="https://docs.python.org/3.15/c-api/call.html#c.PyObject_CallMethod" title="PyObject_CallMethod"><code><span>PyObject_CallMethod()</span></code></a> or
<a href="https://docs.python.org/3.15/c-api/object.html#c.PyObject_GetAttr" title="PyObject_GetAttr"><code><span>PyObject_GetAttr()</span></code></a>.
(Contributed by Victor Stinner in <a href="https://github.com/python/cpython/issues/141049">gh-141049</a>.)</p></li>
<li><p>Deprecate <a href="https://docs.python.org/3.15/c-api/complex.html#c.PyComplexObject.cval" title="PyComplexObject.cval"><code><span>cval</span></code></a> field of the
<a href="https://docs.python.org/3.15/c-api/complex.html#c.PyComplexObject" title="PyComplexObject"><code><span>PyComplexObject</span></code></a> type.
Use <a href="https://docs.python.org/3.15/c-api/complex.html#c.PyComplex_AsCComplex" title="PyComplex_AsCComplex"><code><span>PyComplex_AsCComplex()</span></code></a> and <a href="https://docs.python.org/3.15/c-api/complex.html#c.PyComplex_FromCComplex" title="PyComplex_FromCComplex"><code><span>PyComplex_FromCComplex()</span></code></a>
to convert a Python complex number to/from the C <a href="https://docs.python.org/3.15/c-api/complex.html#c.Py_complex" title="Py_complex"><code><span>Py_complex</span></code></a>
representation.
(Contributed by Sergey B Kirpichev in <a href="https://github.com/python/cpython/issues/128813">gh-128813</a>.)</p></li>
<li><p>Functions <a href="https://docs.python.org/3.15/c-api/complex.html#c._Py_c_sum" title="_Py_c_sum"><code><span>_Py_c_sum()</span></code></a>, <a href="https://docs.python.org/3.15/c-api/complex.html#c._Py_c_diff" title="_Py_c_diff"><code><span>_Py_c_diff()</span></code></a>, <a href="https://docs.python.org/3.15/c-api/complex.html#c._Py_c_neg" title="_Py_c_neg"><code><span>_Py_c_neg()</span></code></a>,
<a href="https://docs.python.org/3.15/c-api/complex.html#c._Py_c_prod" title="_Py_c_prod"><code><span>_Py_c_prod()</span></code></a>, <a href="https://docs.python.org/3.15/c-api/complex.html#c._Py_c_quot" title="_Py_c_quot"><code><span>_Py_c_quot()</span></code></a>, <a href="https://docs.python.org/3.15/c-api/complex.html#c._Py_c_pow" title="_Py_c_pow"><code><span>_Py_c_pow()</span></code></a> and
<a href="https://docs.python.org/3.15/c-api/complex.html#c._Py_c_abs" title="_Py_c_abs"><code><span>_Py_c_abs()</span></code></a> are <a href="https://docs.python.org/3.15/glossary.html#term-soft-deprecated"><span>soft deprecated</span></a>.
(Contributed by Sergey B Kirpichev in <a href="https://github.com/python/cpython/issues/128813">gh-128813</a>.)</p></li>
<li><p><a href="https://docs.python.org/3.15/c-api/init_config.html#c.PyConfig.bytes_warning" title="PyConfig.bytes_warning"><code><span>bytes_warning</span></code></a> is deprecated
since 3.15 and will be removed in 3.17.
(Contributed by Nikita Sobolev in <a href="https://github.com/python/cpython/issues/136355">gh-136355</a>.)</p></li>
<li><p><code><span>Py_INFINITY</span></code> macro is <a href="https://docs.python.org/3.15/glossary.html#term-soft-deprecated"><span>soft deprecated</span></a>,
use the C11 standard <code><span>&lt;math.h&gt;</span></code> <code><span>INFINITY</span></code> instead.
(Contributed by Sergey B Kirpichev in <a href="https://github.com/python/cpython/issues/141004">gh-141004</a>.)</p></li>
<li><p><code><span>Py_MATH_El</span></code> and <code><span>Py_MATH_PIl</span></code> are deprecated
since 3.15 and will be removed in 3.20.
(Contributed by Sergey B Kirpichev in <a href="https://github.com/python/cpython/issues/141004">gh-141004</a>.)</p></li>
</ul>
</section>
</section>
<section id="build-changes">
<h2>Build changes<a href="#build-changes" title="Link to this heading">¶</a></h2>
<ul>
<li><p>Removed implicit fallback to the bundled copy of the <code><span>libmpdec</span></code> library.
Now this should be explicitly enabled with <a href="https://docs.python.org/3.15/using/configure.html#cmdoption-with-system-libmpdec"><code><span>--with-system-libmpdec</span></code></a>
set to <code><span>no</span></code> or with <code><span>--without-system-libmpdec</span></code>.
(Contributed by Sergey B Kirpichev in <a href="https://github.com/python/cpython/issues/115119">gh-115119</a>.)</p></li>
<li><p>The new configure option <a href="https://docs.python.org/3.15/using/configure.html#cmdoption-with-missing-stdlib-config"><code><span>--with-missing-stdlib-config=FILE</span></code></a> allows
distributors to pass a <a href="https://www.json.org/json-en.html">JSON</a>
configuration file containing custom error messages for <a href="https://docs.python.org/3.15/glossary.html#term-standard-library"><span>standard library</span></a>
modules that are missing or packaged separately.
(Contributed by Stan Ulbrych and Petr Viktorin in <a href="https://github.com/python/cpython/issues/139707">gh-139707</a>.)</p></li>
<li><p>Annotating anonymous mmap usage is now supported if Linux kernel supports
<em><a href="https://manpages.debian.org/PR_SET_VMA(2const)">PR_SET_VMA_ANON_NAME</a></em> (Linux 5.17 or newer).
Annotations are visible in <code><span>/proc/&lt;pid&gt;/maps</span></code> if the kernel supports the feature
and <a href="https://docs.python.org/3.15/using/cmdline.html#cmdoption-X"><code><span>-X</span> <span>dev</span></code></a> is passed to the Python or Python is built in <a href="https://docs.python.org/3.15/using/configure.html#debug-build"><span>debug mode</span></a>.
(Contributed by Donghee Na in <a href="https://github.com/python/cpython/issues/141770">gh-141770</a>)</p></li>
</ul>
</section>
<section id="id2">
<h2>Porting to Python 3.15<a href="#id2" title="Link to this heading">¶</a></h2>
<p>This section lists previously described changes and other bugfixes
that may require changes to your code.</p>
<ul>
<li><p><a href="https://docs.python.org/3.15/library/sqlite3.html#sqlite3.Connection" title="sqlite3.Connection"><code><span>sqlite3.Connection</span></code></a> APIs have been cleaned up.</p>
<ul>
<li><p>All parameters of <a href="https://docs.python.org/3.15/library/sqlite3.html#sqlite3.connect" title="sqlite3.connect"><code><span>sqlite3.connect()</span></code></a> except <em>database</em> are now keyword-only.</p></li>
<li><p>The first three parameters of methods <a href="https://docs.python.org/3.15/library/sqlite3.html#sqlite3.Connection.create_function" title="sqlite3.Connection.create_function"><code><span>create_function()</span></code></a>
and <a href="https://docs.python.org/3.15/library/sqlite3.html#sqlite3.Connection.create_aggregate" title="sqlite3.Connection.create_aggregate"><code><span>create_aggregate()</span></code></a> are now positional-only.</p></li>
<li><p>The first parameter of methods <a href="https://docs.python.org/3.15/library/sqlite3.html#sqlite3.Connection.set_authorizer" title="sqlite3.Connection.set_authorizer"><code><span>set_authorizer()</span></code></a>,
<a href="https://docs.python.org/3.15/library/sqlite3.html#sqlite3.Connection.set_progress_handler" title="sqlite3.Connection.set_progress_handler"><code><span>set_progress_handler()</span></code></a> and
<a href="https://docs.python.org/3.15/library/sqlite3.html#sqlite3.Connection.set_trace_callback" title="sqlite3.Connection.set_trace_callback"><code><span>set_trace_callback()</span></code></a> is now positional-only.</p></li>
</ul>
<p>(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/133595">gh-133595</a>.)</p>
</li>
<li><p><a href="https://docs.python.org/3.15/library/resource.html#resource.RLIM_INFINITY" title="resource.RLIM_INFINITY"><code><span>resource.RLIM_INFINITY</span></code></a> is now always positive.
Passing a negative integer value that corresponded to its old value
(such as <code><span>-1</span></code> or <code><span>-3</span></code>, depending on platform) to
<a href="https://docs.python.org/3.15/library/resource.html#resource.setrlimit" title="resource.setrlimit"><code><span>resource.setrlimit()</span></code></a> and <a href="https://docs.python.org/3.15/library/resource.html#resource.prlimit" title="resource.prlimit"><code><span>resource.prlimit()</span></code></a> is now deprecated.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/137044">gh-137044</a>.)</p></li>
<li><p><a href="https://docs.python.org/3.15/library/mmap.html#mmap.mmap.resize" title="mmap.mmap.resize"><code><span>resize()</span></code></a> has been removed on platforms that don’t support the
underlying syscall, instead of raising a <a href="https://docs.python.org/3.15/library/exceptions.html#SystemError" title="SystemError"><code><span>SystemError</span></code></a>.</p></li>
<li><p>A resource warning is now emitted for an unclosed
<a href="https://docs.python.org/3.15/library/xml.etree.elementtree.html#xml.etree.ElementTree.iterparse" title="xml.etree.ElementTree.iterparse"><code><span>xml.etree.ElementTree.iterparse()</span></code></a> iterator if it opened a file.
Use its <code><span>close()</span></code> method or the <a href="https://docs.python.org/3.15/library/contextlib.html#contextlib.closing" title="contextlib.closing"><code><span>contextlib.closing()</span></code></a> context
manager to close it.
(Contributed by Osama Abdelkader and Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/140601">gh-140601</a>.)</p></li>
<li><p>If a short option and a single-dash long option are passed to
<a href="https://docs.python.org/3.15/library/argparse.html#argparse.ArgumentParser.add_argument" title="argparse.ArgumentParser.add_argument"><code><span>argparse.ArgumentParser.add_argument()</span></code></a>, <em>dest</em> is now inferred from
the single-dash long option. For example, in <code><span>add_argument(&#39;-f&#39;,</span> <span>&#39;-foo&#39;)</span></code>,
<em>dest</em> is now <code><span>&#39;foo&#39;</span></code> instead of <code><span>&#39;f&#39;</span></code>.
Pass an explicit <em>dest</em> argument to preserve the old behavior.
(Contributed by Serhiy Storchaka in <a href="https://github.com/python/cpython/issues/138697">gh-138697</a>.)</p></li>
</ul>
</section>
</section>


            
          </div>
        </div>
      </div>
      
      
    </div></div>
  </body>
</html>
