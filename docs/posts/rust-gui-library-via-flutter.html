<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://cjycode.com/posts/rust-ui-flutter/">Original</a>
    <h1>Show HN: Rust GUI Library via Flutter</h1>
    
    <div id="readability-page-1" class="page"><article><header><div><picture><source srcset="/posts/rust-ui-flutter/logo_hua61a7cb5dd2716f4970132bdcd3ffb5e_118466_330x0_resize_q75_h2_box_3.webp 330w,/posts/rust-ui-flutter/logo_hua61a7cb5dd2716f4970132bdcd3ffb5e_118466_660x0_resize_q75_h2_box_3.webp 660w
,/posts/rust-ui-flutter/logo_hua61a7cb5dd2716f4970132bdcd3ffb5e_118466_1024x0_resize_q75_h2_box_3.webp 1024w
,/posts/rust-ui-flutter/logo_hua61a7cb5dd2716f4970132bdcd3ffb5e_118466_1320x0_resize_q75_h2_box_3.webp 1320w" sizes="100vw" type="image/webp"/><img width="3000" height="1000" src="https://cjycode.com/posts/rust-ui-flutter/logo_hua61a7cb5dd2716f4970132bdcd3ffb5e_118466_660x0_resize_box_3.png" srcset="/posts/rust-ui-flutter/logo_hua61a7cb5dd2716f4970132bdcd3ffb5e_118466_330x0_resize_box_3.png 330w,/posts/rust-ui-flutter/logo_hua61a7cb5dd2716f4970132bdcd3ffb5e_118466_660x0_resize_box_3.png 660w
,/posts/rust-ui-flutter/logo_hua61a7cb5dd2716f4970132bdcd3ffb5e_118466_1024x0_resize_box_3.png 1024w
,/posts/rust-ui-flutter/logo_hua61a7cb5dd2716f4970132bdcd3ffb5e_118466_1320x0_resize_box_3.png 1320w" sizes="100vw"/></picture></div></header><section><div><h2 id="background">Background <span><a href="#background" aria-label="Anchor">#</a></span></h2><p>Rust has been ‚Äúthe most desired programming language‚Äù for 8 years (by StackOverflow and GitHub <a href="https://github.blog/2023-08-30-why-rust-is-the-most-admired-language-among-developers/" target="_blank" rel="noreferrer">1</a> <a href="https://survey.stackoverflow.co/2023/#section-admired-and-desired-programming-scripting-and-markup-languages" target="_blank" rel="noreferrer">2</a>), and many people want to write programs with a GUI in Rust.</p><p>Therefore, in this blog, I will share an approach by utilizing Flutter and the <a href="https://github.com/fzyzcjy/flutter_rust_bridge" target="_blank" rel="noreferrer">https://github.com/fzyzcjy/flutter_rust_bridge</a> I made.</p><p>To have a try, please visit the GitHub repo or the demo folder at the end of this article.</p><h2 id="pros-of-the-approach">Pros of the approach <span><a href="#pros-of-the-approach" aria-label="Anchor">#</a></span></h2><p>Firstly, Flutter is popular and mature. It is ‚Äúthe most popular cross-platform mobile SDK‚Äù (by StackOverflow <a href="https://stackoverflow.blog/2022/02/21/why-flutter-is-the-most-popular-cross-platform-mobile-sdk/" target="_blank" rel="noreferrer">1</a> <a href="https://survey.stackoverflow.co/2023/#technology-most-popular-technologies" target="_blank" rel="noreferrer">2</a>). In addition, many developers and well-known brands (e.g. see <a href="https://flutter.dev/showcase" target="_blank" rel="noreferrer">this long list</a>) are using it. It is a lot of work to make an engine feature-rich and mature like that.</p><p>Secondly, it also has a large ecosystem, making it easy to implement what we want. For example, even if we want to add some beautiful confetti üéâ animations, there exists a package for us. Let alone other beautiful widgets and functionalities, and its intrinsic flexibility to control every pixel.</p><p>The ‚Äúhot-reload‚Äù feature makes developing UI much faster, since it happens frequently to tweak the UI. When changing code, as is shown in the gif below, the updated UI can be seen almost instantly, without losing state or wait for a recompilation.</p><p>Flutter is also cross-platform. The same codebase can not only be run on Android and iOS, but also on Linux, MacOS, Windows and Web.</p><video controls="" preload="auto" width="100%" autoplay="" muted="" playsinline="">
<source src="/posts/rust-ui-flutter/confetti.mp4" type="video/mp4"/><span>Your browser doesn&#39;t support embedded videos, but don&#39;t worry, you can <a href="https://cjycode.com/posts/rust-ui-flutter/confetti.mp4">download it</a> and watch it with your favorite video player!</span></video><p>Hot-reload to add a confetti to UI</p><h2 id="cons-of-the-approach">Cons of the approach <span><a href="#cons-of-the-approach" aria-label="Anchor">#</a></span></h2><p>Firstly, this approach is not 100% pure Rust (e.g. Rust state/logic, Flutter UI). However, this seems in analogy to many other Rust UIs - write a custom DSL using macros, or another language like HTML/CSS/Slint. Such split also follows separation-of-concerns and is adopted (e.g. <a href="https://michel.codes/blogs/ui-as-an-afterthought" target="_blank" rel="noreferrer">link</a>). In addition, Flutter is easy to learn, especially if understanding Rust.</p><p>Secondly, honestly speaking, I heard some criticism about web platform. It seems more suitable for ‚Äúapps‚Äù on web and other platforms (real-world e.g. Google Earth, Rive‚Äôs animation editor, ‚Ä¶) than static webpages.</p><p>Last but not least, Flutter has a bunch of boilerplate/scaffold code. My humble understanding is that, for small projects, those files are usually not changed, thus similar to not existing. For large projects, modifiability is indeed customizability.</p><h2 id="whats-flutter_rust_bridge">What‚Äôs flutter_rust_bridge? <span><a href="#whats-flutter_rust_bridge" aria-label="Anchor">#</a></span></h2><p>The goal is to make a bridge between the two, seamlessly as if working in one single language. It translates many things automatically, such as arbitrary types,<code>&amp;mut</code>, async, traits, results, closure (callback), lifetimes, etc.</p><p>Therefore, it is quite general-purpose, and ‚ÄúRust GUI via Flutter‚Äù is just one of the many scenarios. Other typical usages include using arbitrary Rust libraries for Flutter, and writing code such as algorithms in Rust while others in Flutter.</p><h2 id="example-a-counter-app">Example: A counter app <span><a href="#example-a-counter-app" aria-label="Anchor">#</a></span></h2><p>Here, I demonstrate <em>one</em> of the many possible ways to integrate Rust with Flutter. Since flutter_rust_bridge is unopinionated and general-purpose, there can be many other approaches, such as a Redux-like or Elm-like one.</p><p><code>flutter_rust_bridge</code> supports quite rich Rust syntax, such as arbitrary types, results, traits, async, streams, etc. But let us keep it simple and define Rust state and logic as:</p><div><pre tabindex="0"><code data-lang="rust"><span><span><span>#[frb(ui_state)]</span><span>
</span></span></span><span><span><span></span><span>pub</span><span> </span><span>struct</span> <span>RustState</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>pub</span><span> </span><span>count</span>: <span>i32</span><span>,</span><span>
</span></span></span><span><span><span></span><span>}</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>impl</span><span> </span><span>RustState</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>	</span><span>pub</span><span> </span><span>fn</span> <span>new</span><span>()</span><span> </span>-&gt; <span>Self</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>		</span><span>Self</span><span> </span><span>{</span><span> </span><span>count</span>: <span>100</span><span> </span><span>}</span><span>
</span></span></span><span><span><span>	</span><span>}</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span>	</span><span>#[frb(ui_mutation)]</span><span>
</span></span></span><span><span><span>    </span><span>pub</span><span> </span><span>fn</span> <span>increment</span><span>(</span><span>&amp;</span><span>mut</span><span> </span><span>self</span><span>)</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>	    </span><span>self</span><span>.</span><span>count</span><span> </span><span>+=</span><span> </span><span>1</span><span>;</span><span>
</span></span></span><span><span><span>    </span><span>}</span><span>
</span></span></span><span><span><span></span><span>}</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>// Indeed flutter_rust_bridge can support something complex such as:
</span></span></span><span><span><span>// impl MyTrait for MyType {
</span></span></span><span><span><span>//     pub fn f(&amp;self, callback: impl Fn(String) -&gt; FancyEnum,
</span></span></span><span><span><span>//              stream: StreamSink&lt;Whatever&gt;) -&gt; Result&lt;(FancyStruct, Hello)&gt; { .. }
</span></span></span><span><span><span>// }
</span></span></span></code></pre></div><p>Remark: The <code>#[frb(ui_state)]</code> and <code>#[frb(ui_mutation)]</code> are very lightweight (only a dozen line of code), and there is no magic hidden.</p><p>Then, the UI is like the following. Flutter is declarative, thus we can naturally translate the sentence ‚Äúa column with padding, containing a text showing current count, and a button for increment‚Äù into:</p><div><pre tabindex="0"><code data-lang="rust"><span><span><span>Widget</span><span> </span><span>body</span><span>(</span><span>RustState</span><span> </span><span>state</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>[</span><span>
</span></span></span><span><span><span>  </span><span>Text</span><span>(</span><span>&#39;Count</span>: <span>$</span><span>{</span><span>state</span><span>.</span><span>count</span><span>}</span><span>&#39;</span><span>),</span><span>
</span></span></span><span><span><span>  </span><span>TextButton</span><span>(</span><span>onPressed</span>: <span>state</span><span>.</span><span>increment</span><span>,</span><span> </span><span>child</span>: <span>Text</span><span>(</span><span>&#39;</span><span>+</span><span>1</span><span>&#39;</span><span>)),</span><span>
</span></span></span><span><span><span></span><span>].</span><span>toColumn</span><span>().</span><span>padding</span><span>(</span><span>all</span>: <span>16</span><span>);</span><span>
</span></span></span></code></pre></div><p>Remark: Similarly, there are many ways to write a Flutter UI, but here we choose one with simplicity. For larger projects, <code>functional_widget</code> (which adds one-line annotation for widget functions) and many tunable things can be configured.</p><p>Now we can run app and play with it in a command (for full code directory, please refer to the end of article). As a bonus, we can modify the UI and see it immediately shown, thanks to hot-reload.</p><h2 id="optional-a-todo-list-app">(Optional) A todo-list app <span><a href="#optional-a-todo-list-app" aria-label="Anchor">#</a></span></h2><p>Feel free to skip this section, since it mainly serves for completeness.</p><details><p>Todo-list app seems to be quite common when it comes to examples, so let‚Äôs also make one, and again it is <em>only</em> one of the many possible approaches that flutter_rust_bridge can support.</p><p>Define the states:</p><div><pre tabindex="0"><code data-lang="rust"><span><span><span>#[frb(ui_state)]</span><span>
</span></span></span><span><span><span></span><span>pub</span><span> </span><span>struct</span> <span>RustState</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>items</span>: <span>Vec</span><span>&lt;</span><span>Item</span><span>&gt;</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>pub</span><span> </span><span>input_text</span>: <span>String</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>pub</span><span> </span><span>filter</span>: <span>Filter</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>next_id</span>: <span>i32</span><span>,</span><span>
</span></span></span><span><span><span></span><span>}</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>#[derive(Clone)]</span><span>
</span></span></span><span><span><span></span><span>pub</span><span> </span><span>struct</span> <span>Item</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>pub</span><span> </span><span>id</span>: <span>i32</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>pub</span><span> </span><span>content</span>: <span>String</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>pub</span><span> </span><span>completed</span>: <span>bool</span><span>,</span><span>
</span></span></span><span><span><span></span><span>}</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>#[derive(Clone, Copy, PartialEq, Eq)]</span><span>
</span></span></span><span><span><span></span><span>pub</span><span> </span><span>enum</span> <span>Filter</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>All</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>Active</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>Completed</span><span>,</span><span>
</span></span></span><span><span><span></span><span>}</span><span>
</span></span></span></code></pre></div><p>‚Ä¶some actions to update it:</p><div><pre tabindex="0"><code data-lang="rust"><span><span><span>#[frb(ui_mutation)]</span><span>
</span></span></span><span><span><span></span><span>impl</span><span> </span><span>RustState</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>pub</span><span> </span><span>fn</span> <span>add</span><span>(</span><span>&amp;</span><span>mut</span><span> </span><span>self</span><span>)</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>        </span><span>let</span><span> </span><span>id</span><span> </span><span>=</span><span> </span><span>self</span><span>.</span><span>next_id</span><span>;</span><span>
</span></span></span><span><span><span>        </span><span>self</span><span>.</span><span>next_id</span><span> </span><span>+=</span><span> </span><span>1</span><span>;</span><span>
</span></span></span><span><span><span>        </span><span>self</span><span>.</span><span>items</span><span>.</span><span>push</span><span>(</span><span>Item</span><span> </span><span>{</span><span> </span><span>id</span><span>,</span><span> </span><span>content</span>: <span>self</span><span>.</span><span>input_text</span><span>.</span><span>clone</span><span>(),</span><span> </span><span>completed</span>: <span>false</span><span> </span><span>});</span><span>
</span></span></span><span><span><span>        </span><span>self</span><span>.</span><span>input_text</span><span>.</span><span>clear</span><span>();</span><span>
</span></span></span><span><span><span>    </span><span>}</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span>    </span><span>pub</span><span> </span><span>fn</span> <span>remove</span><span>(</span><span>&amp;</span><span>mut</span><span> </span><span>self</span><span>,</span><span> </span><span>id</span>: <span>i32</span><span>)</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>        </span><span>self</span><span>.</span><span>items</span><span>.</span><span>retain</span><span>(</span><span>|</span><span>x</span><span>|</span><span> </span><span>x</span><span>.</span><span>id</span><span> </span><span>!=</span><span> </span><span>id</span><span>);</span><span>
</span></span></span><span><span><span>    </span><span>}</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span>    </span><span>pub</span><span> </span><span>fn</span> <span>toggle</span><span>(</span><span>&amp;</span><span>mut</span><span> </span><span>self</span><span>,</span><span> </span><span>id</span>: <span>i32</span><span>)</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>        </span><span>let</span><span> </span><span>entry</span><span> </span><span>=</span><span> </span><span>self</span><span>.</span><span>items</span><span>.</span><span>iter_mut</span><span>().</span><span>find</span><span>(</span><span>|</span><span>x</span><span>|</span><span> </span><span>x</span><span>.</span><span>id</span><span> </span><span>==</span><span> </span><span>id</span><span>).</span><span>unwrap</span><span>();</span><span>
</span></span></span><span><span><span>        </span><span>entry</span><span>.</span><span>completed</span><span> </span><span>=</span><span> </span><span>!</span><span>entry</span><span>.</span><span>completed</span><span>;</span><span>
</span></span></span><span><span><span>    </span><span>}</span><span>
</span></span></span><span><span><span></span><span>}</span><span>
</span></span></span></code></pre></div><p>‚Ä¶some more business logic:</p><div><pre tabindex="0"><code data-lang="rust"><span><span><span>impl</span><span> </span><span>RustState</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>pub</span><span> </span><span>fn</span> <span>new</span><span>()</span><span> </span>-&gt; <span>Self</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>        </span><span>Self</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>            </span><span>items</span>: <span>vec</span><span>!</span><span>[],</span><span>
</span></span></span><span><span><span>            </span><span>input_text</span>: <span>&#34;&#34;</span><span>.</span><span>to_string</span><span>(),</span><span>
</span></span></span><span><span><span>            </span><span>filter</span>: <span>Filter</span>::<span>All</span><span>,</span><span>
</span></span></span><span><span><span>            </span><span>next_id</span>: <span>0</span><span>,</span><span>
</span></span></span><span><span><span>            </span><span>base_state</span>: <span>Default</span>::<span>default</span><span>(),</span><span>
</span></span></span><span><span><span>        </span><span>}</span><span>
</span></span></span><span><span><span>    </span><span>}</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span>    </span><span>pub</span><span> </span><span>fn</span> <span>filtered_items</span><span>(</span><span>&amp;</span><span>self</span><span>)</span><span> </span>-&gt; <span>Vec</span><span>&lt;</span><span>Item</span><span>&gt;</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>        </span><span>self</span><span>.</span><span>items</span><span>.</span><span>iter</span><span>().</span><span>filter</span><span>(</span><span>|</span><span>x</span><span>|</span><span> </span><span>self</span><span>.</span><span>filter</span><span>.</span><span>check</span><span>(</span><span>x</span><span>)).</span><span>cloned</span><span>().</span><span>collect</span><span>()</span><span>
</span></span></span><span><span><span>    </span><span>}</span><span>
</span></span></span><span><span><span></span><span>}</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>impl</span><span> </span><span>Filter</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>    </span><span>fn</span> <span>check</span><span>(</span><span>&amp;</span><span>self</span><span>,</span><span> </span><span>item</span>: <span>&amp;</span><span>Item</span><span>)</span><span> </span>-&gt; <span>bool</span> <span>{</span><span>
</span></span></span><span><span><span>        </span><span>match</span><span> </span><span>self</span><span> </span><span>{</span><span>
</span></span></span><span><span><span>            </span><span>Self</span>::<span>All</span><span> </span><span>=&gt;</span><span> </span><span>true</span><span>,</span><span>
</span></span></span><span><span><span>            </span><span>Self</span>::<span>Active</span><span> </span><span>=&gt;</span><span> </span><span>!</span><span>item</span><span>.</span><span>completed</span><span>,</span><span>
</span></span></span><span><span><span>            </span><span>Self</span>::<span>Completed</span><span> </span><span>=&gt;</span><span> </span><span>item</span><span>.</span><span>completed</span><span>,</span><span>
</span></span></span><span><span><span>        </span><span>}</span><span>
</span></span></span><span><span><span>    </span><span>}</span><span>
</span></span></span><span><span><span></span><span>}</span><span>
</span></span></span></code></pre></div><p>‚Ä¶and the UI. It is a plain translation of ‚ÄúI want a column of things, the first one is a text field, second one is a list view, etc‚Äù, and looks similar to other UI DSLs:</p><div><pre tabindex="0"><code data-lang="rust"><span><span><span>Widget</span><span> </span><span>body</span><span>(</span><span>RustState</span><span> </span><span>state</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>[</span><span>
</span></span></span><span><span><span>  </span><span>SyncTextField</span><span>(</span><span>
</span></span></span><span><span><span>    </span><span>decoration</span>: <span>InputDecoration</span><span>(</span><span>hintText</span>: <span>&#39;Input</span> <span>text</span><span> </span><span>and</span><span> </span><span>enter</span><span> </span><span>to</span><span> </span><span>add</span><span> </span><span>a</span><span> </span><span>todo</span><span>&#39;</span><span>),</span><span>
</span></span></span><span><span><span>    </span><span>text</span>: <span>state</span><span>.</span><span>inputText</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>onChanged</span>: <span>(</span><span>text</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>state</span><span>.</span><span>inputText</span><span> </span><span>=</span><span> </span><span>text</span><span>,</span><span>
</span></span></span><span><span><span>    </span><span>onSubmitted</span>: <span>(</span><span>_</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>state</span><span>.</span><span>add</span><span>(),</span><span>
</span></span></span><span><span><span>  </span><span>),</span><span>
</span></span></span><span><span><span>  </span><span>ListView</span><span>(</span><span>children</span>: <span>[</span><span>
</span></span></span><span><span><span>    </span><span>for</span><span> </span><span>(</span><span>final</span><span> </span><span>item</span><span> </span><span>in</span><span> </span><span>state</span><span>.</span><span>filteredItems</span><span>())</span><span> </span><span>todoItem</span><span>(</span><span>state</span><span>,</span><span> </span><span>item</span><span>)</span><span>
</span></span></span><span><span><span>  </span><span>]).</span><span>expanded</span><span>(),</span><span>
</span></span></span><span><span><span>  </span><span>[</span><span>
</span></span></span><span><span><span>    </span><span>for</span><span> </span><span>(</span><span>final</span><span> </span><span>filter</span><span> </span><span>in</span><span> </span><span>Filter</span><span>.</span><span>values</span><span>)</span><span>
</span></span></span><span><span><span>      </span><span>TextButton</span><span>(</span><span>
</span></span></span><span><span><span>        </span><span>onPressed</span>: <span>()</span><span> </span><span>=&gt;</span><span> </span><span>state</span><span>.</span><span>filter</span><span> </span><span>=</span><span> </span><span>filter</span><span>,</span><span>
</span></span></span><span><span><span>        </span><span>child</span>: <span>Text</span><span>(</span><span>filter</span><span>.</span><span>name</span><span>).</span><span>textColor</span><span>(</span><span>state</span><span>.</span><span>filter</span><span> </span><span>==</span><span> </span><span>filter</span><span> </span><span>?</span><span> </span><span>Colors</span><span>.</span><span>blue</span><span> </span>: <span>Colors</span><span>.</span><span>black87</span><span>),</span><span>
</span></span></span><span><span><span>      </span><span>),</span><span>
</span></span></span><span><span><span>  </span><span>].</span><span>toRow</span><span>(),</span><span>
</span></span></span><span><span><span></span><span>].</span><span>toColumn</span><span>().</span><span>padding</span><span>(</span><span>all</span>: <span>16</span><span>);</span><span>
</span></span></span><span><span><span>
</span></span></span><span><span><span></span><span>Widget</span><span> </span><span>todoItem</span><span>(</span><span>RustState</span><span> </span><span>state</span><span>,</span><span> </span><span>Item</span><span> </span><span>item</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>[</span><span>
</span></span></span><span><span><span>  </span><span>Checkbox</span><span>(</span><span>value</span>: <span>item</span><span>.</span><span>completed</span><span>,</span><span> </span><span>onChanged</span>: <span>(</span><span>_</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>state</span><span>.</span><span>toggle</span><span>(</span><span>id</span>: <span>item</span><span>.</span><span>id</span><span>)),</span><span>
</span></span></span><span><span><span>  </span><span>Text</span><span>(</span><span>item</span><span>.</span><span>content</span><span>).</span><span>expanded</span><span>(),</span><span>
</span></span></span><span><span><span>  </span><span>IconButton</span><span>(</span><span>icon</span>: <span>Icon</span><span>(</span><span>Icons</span><span>.</span><span>close</span><span>),</span><span> </span><span>onPressed</span>: <span>()</span><span> </span><span>=&gt;</span><span> </span><span>state</span><span>.</span><span>remove</span><span>(</span><span>id</span>: <span>item</span><span>.</span><span>id</span><span>)),</span><span>
</span></span></span><span><span><span></span><span>].</span><span>toRow</span><span>();</span><span>
</span></span></span></code></pre></div><p>(For full code directory, please refer to the end of article.)</p></details><h2 id="conclusion">Conclusion <span><a href="#conclusion" aria-label="Anchor">#</a></span></h2><p>In summary, we see how Flutter can be used when we want to write Rust program that needs a GUI. Feel free to ping me (I check GitHub inbox most frequently) if there are any questions!</p><h2 id="appendix-full-code-and-detailed-commands">Appendix: Full code and detailed commands <span><a href="#appendix-full-code-and-detailed-commands" aria-label="Anchor">#</a></span></h2><p>Full code is in <code>frb_example/rust_ui_counter</code> and <code>frb_example/rust_ui_todo_list</code> of <a href="https://github.com/fzyzcjy/flutter_rust_bridge" target="_blank" rel="noreferrer">https://github.com/fzyzcjy/flutter_rust_bridge</a>. Most are auto-generated boilerplate files (since Flutter has a lot of features), and the interesting files are merely <code>src/app.rs</code> and <code>ui/lib/main.dart</code>. To run the demo, enter <code>ui</code> directory and execute <code>flutter_rust_bridge_codegen generate &amp;&amp; flutter run</code>.</p></div></section></article></div>
  </body>
</html>
