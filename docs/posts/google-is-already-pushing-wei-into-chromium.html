<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/chromium/chromium/commit/6f47a22906b2899412e79a2727355efa9cc8f5bd">Original</a>
    <h1>Google is already pushing WEI into Chromium</h1>
    
    <div id="readability-page-1" class="page"><div data-commit-hovercards-enabled="" data-discussion-hovercards-enabled="" data-issue-and-pr-hovercards-enabled="">
        <div itemscope="" itemtype="http://schema.org/SoftwareSourceCode">
    <main id="js-repo-pjax-container">
      
  

    
    

    






  
  

  



<turbo-frame id="repo-content-turbo-frame" target="_top" data-turbo-action="advance">
    <div id="repo-content-pjax-container">
    


    
      
<div>
  <p>
  <h2>Commit</h2>
</p>

<p><a href="http://alok.github.io/chromium/chromium/commit/6f47a22906b2899412e79a2727355efa9cc8f5bd" data-hotkey="y">Permalink</a></p>


<div>
  <p><a id="browse-at-time-link" href="http://alok.github.io/chromium/chromium/tree/6f47a22906b2899412e79a2727355efa9cc8f5bd" rel="nofollow">Browse files</a></p><tool-tip id="tooltip-c9f381fd-de16-43ba-b917-d945ddb06e35" for="browse-at-time-link" popover="manual" data-direction="ne" data-type="description" data-view-component="true">Browse the repository at this point in the history</tool-tip>
    <p>
      [wei] Ensure Origin Trial enables full feature
    </p>

    <div><pre>This CL moves the base::Feature from content_features.h to
a generated feature from runtime_enabled_features.json5.

This means that the base::Feature can be default-enabled
while the web API is controlled by the RuntimeFeature, which will
still be default-disabled.

An origin trial can enable the RuntimeFeature, which will
allow full access to the API, provided the base::Feature is also
enabled (see change to origin_trial_context.cc).

Meanwhile, the base::Feature can be disabled through Finch as a
kill-switch for the whole feature, and prevent origin trials
from turning the feature on.

Tests have been added to WebView test, as it allowed for easy
spoofing of responses on a known origin.

Bug: <a data-hovercard-type="commit" data-hovercard-url="https://github.com/chromium/chromium/commit/1439945750e581212f3cb89144e39349ac1a51d3/hovercard" href="https://github.com/chromium/chromium/commit/1439945750e581212f3cb89144e39349ac1a51d3"><tt>1439945</tt></a>
Change-Id: Ifa0f5d4f5e0a0bf882dd1b0207698dddd6f71420
Fixed: b/278701736
Reviewed-on: <a href="https://chromium-review.googlesource.com/c/chromium/src/+/4681552" rel="nofollow">https://chromium-review.googlesource.com/c/chromium/src/+/4681552</a>
Reviewed-by: Rayan Kanso &lt;rayankans@chromium.org&gt;
Commit-Queue: Peter Pakkenberg &lt;pbirk@chromium.org&gt;
Reviewed-by: Dmitry Gozman &lt;dgozman@chromium.org&gt;
Reviewed-by: Richard Coles &lt;torne@chromium.org&gt;
Reviewed-by: Kinuko Yasuda &lt;kinuko@chromium.org&gt;
Cr-Commit-Position: refs/heads/main@{#1173344}</pre></div>

  <div>
  <include-fragment src="/chromium/chromium/branch_commits/6f47a22906b2899412e79a2727355efa9cc8f5bd" id="async-branches-list">
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path>
</svg>
    <ul>
      <li>Loading branch information<span></span></li>
    </ul>
</include-fragment></div>


  
</div>


  


  <diff-layout>
    
        </diff-layout>


</div>


  </div>

</turbo-frame>


    </main>
  </div>

  </div></div>
  </body>
</html>
