<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/nteract/papermill">Original</a>
    <h1>Papermill: Parameterizing, executing, and analyzing Jupyter Notebooks</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">

<p dir="auto"><a href="https://github.com/nteract/papermill/actions/workflows/ci.yml"><img src="https://github.com/nteract/papermill/actions/workflows/ci.yml/badge.svg" alt="CI"/></a>
<a href="https://github.com/nteract/papermill/actions/workflows/ci.yml"><img src="https://github.com/nteract/papermill/actions/workflows/ci.yml/badge.svg?branch=main" alt="CI"/></a>
<a href="https://codecov.io/github/nteract/papermill?branch=main" rel="nofollow"><img src="https://camo.githubusercontent.com/951ed738608e9ce06fce298409ddb4bb146a476eebc0692f8d4d0536d3b600b5/68747470733a2f2f636f6465636f762e696f2f6769746875622f6e7465726163742f70617065726d696c6c2f636f7665726167652e7376673f6272616e63683d6d61696e" alt="image" data-canonical-src="https://codecov.io/github/nteract/papermill/coverage.svg?branch=main"/></a>
<a href="http://papermill.readthedocs.io/en/latest/?badge=latest" rel="nofollow"><img src="https://camo.githubusercontent.com/2406d4c502b12b9eb9c4729a0ce71e078795dedd76c2ce03008152308ab6157d/68747470733a2f2f72656164746865646f63732e6f72672f70726f6a656374732f70617065726d696c6c2f62616467652f3f76657273696f6e3d6c6174657374" alt="Documentation Status" data-canonical-src="https://readthedocs.org/projects/papermill/badge/?version=latest"/></a>
<a href="https://mybinder.org/v2/gh/nteract/papermill/main?filepath=binder%2Fprocess_highlight_dates.ipynb" rel="nofollow"><img src="https://camo.githubusercontent.com/3debe2f1fed20b4fa8ab515b160e8911a3a46c57fe37dc3b01f99574078b6521/68747470733a2f2f74696e7975726c2e636f6d2f7962776f76747732" alt="badge" data-canonical-src="https://tinyurl.com/ybwovtw2"/></a>
<a href="https://mybinder.org/v2/gh/nteract/papermill/main?" rel="nofollow"><img src="https://camo.githubusercontent.com/c1abfcf694cb45aa45f4866edb699208c019e5abd25fc0363f73a04f634af4a4/68747470733a2f2f74696e7975726c2e636f6d2f7937757a32656839" alt="badge" data-canonical-src="https://tinyurl.com/y7uz2eh9"/></a>
<a href="https://pypi.org/project/papermill/" rel="nofollow"><img src="https://camo.githubusercontent.com/7b105b58bf1dd0c6a0f017a8662f4e3c7dc2c5886fc0e425035a88477a698bd2/68747470733a2f2f696d672e736869656c64732e696f2f707970692f707976657273696f6e732f70617065726d696c6c" alt="PyPI - Python Version" data-canonical-src="https://img.shields.io/pypi/pyversions/papermill"/></a>
<a href="https://github.com/ambv/black"><img src="https://camo.githubusercontent.com/5bf9e9fa18966df7cb5fac7715bef6b72df15e01a6efa9d616c83f9fcb527fe2/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f636f64652532307374796c652d626c61636b2d3030303030302e737667" alt="Code style: black" data-canonical-src="https://img.shields.io/badge/code%20style-black-000000.svg"/></a>
<a href="https://snyk.io/advisor/python/papermill" rel="nofollow"><img src="https://camo.githubusercontent.com/ab9cf69992427f20d3d06481422bfba080b01f7bda616b91f30bc72d477874b5/68747470733a2f2f736e796b2e696f2f61647669736f722f707974686f6e2f70617065726d696c6c2f62616467652e737667" alt="papermill" data-canonical-src="https://snyk.io/advisor/python/papermill/badge.svg"/></a>
<a href="https://anaconda.org/conda-forge/papermill" rel="nofollow"><img src="https://camo.githubusercontent.com/1c42a6a578d710a81b38e7324909cece6fad6fd80290006ce49c2b26093c94fe/68747470733a2f2f616e61636f6e64612e6f72672f636f6e64612d666f7267652f70617065726d696c6c2f6261646765732f646f776e6c6f6164732e737667" alt="Anaconda-Server Badge" data-canonical-src="https://anaconda.org/conda-forge/papermill/badges/downloads.svg"/></a>
<a href="https://results.pre-commit.ci/latest/github/nteract/papermill/main" rel="nofollow"><img src="https://camo.githubusercontent.com/22092106fc8ef5b389bf79e5fecbc45d048acddc5296e715abfbfb5d13baa3f0/68747470733a2f2f726573756c74732e7072652d636f6d6d69742e63692f62616467652f6769746875622f6e7465726163742f70617065726d696c6c2f6d61696e2e737667" alt="pre-commit.ci status" data-canonical-src="https://results.pre-commit.ci/badge/github/nteract/papermill/main.svg"/></a></p>
<p dir="auto"><strong>papermill</strong> is a tool for parameterizing, executing, and analyzing
Jupyter Notebooks.</p>
<p dir="auto">Papermill lets you:</p>
<ul dir="auto">
<li><strong>parameterize</strong> notebooks</li>
<li><strong>execute</strong> notebooks</li>
</ul>
<p dir="auto">This opens up new opportunities for how notebooks can be used. For
example:</p>
<ul dir="auto">
<li>Perhaps you have a financial report that you wish to run with
different values on the first or last day of a month or at the
beginning or end of the year, <strong>using parameters</strong> makes this task
easier.</li>
<li>Do you want to run a notebook and depending on its results, choose a
particular notebook to run next? You can now programmatically
<strong>execute a workflow</strong> without having to copy and paste from
notebook to notebook manually.</li>
</ul>
<p dir="auto">Papermill takes an <em>opinionated</em> approach to notebook parameterization and
execution based on our experiences using notebooks at scale in data
pipelines.</p>

<p dir="auto">From the command line:</p>

<p dir="auto">For all optional io dependencies, you can specify individual bundles
like <code>s3</code>, or <code>azure</code> -- or use <code>all</code>. To use Black to format parameters you can add as an extra requires [&#39;black&#39;].</p>
<div data-snippet-clipboard-copy-content="pip install papermill[all]"><pre lang="{.sourceCode"><code>pip install papermill[all]
</code></pre></div>

<p dir="auto">This library currently supports Python 3.8+ versions. As minor Python
versions are officially sunset by the Python org papermill will similarly
drop support in the future.</p>

<div dir="auto"><h3 tabindex="-1" dir="auto">Parameterizing a Notebook</h3><a id="user-content-parameterizing-a-notebook" aria-label="Permalink: Parameterizing a Notebook" href="#parameterizing-a-notebook"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">To parameterize your notebook designate a cell with the tag <code>parameters</code>.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://gianluca.ai/nteract/papermill/blob/main/docs/img/enable_parameters.gif"><img src="https://gianluca.ai/nteract/papermill/raw/main/docs/img/enable_parameters.gif" alt="enable parameters in Jupyter" data-animated-image=""/></a></p>
<p dir="auto">Papermill looks for the <code>parameters</code> cell and treats this cell as defaults for the parameters passed in at execution time. Papermill will add a new cell tagged with <code>injected-parameters</code> with input parameters in order to overwrite the values in <code>parameters</code>. If no cell is tagged with <code>parameters</code> the injected cell will be inserted at the top of the notebook.</p>
<p dir="auto">Additionally, if you rerun notebooks through papermill and it will reuse the <code>injected-parameters</code> cell from the prior run. In this case Papermill will replace the old <code>injected-parameters</code> cell with the new run&#39;s inputs.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://gianluca.ai/nteract/papermill/blob/main/docs/img/parameters.png"><img src="https://gianluca.ai/nteract/papermill/raw/main/docs/img/parameters.png" alt="image"/></a></p>

<p dir="auto">The two ways to execute the notebook with parameters are: (1) through
the Python API and (2) through the command line interface.</p>
<div dir="auto"><h4 tabindex="-1" dir="auto">Execute via the Python API</h4><a id="user-content-execute-via-the-python-api" aria-label="Permalink: Execute via the Python API" href="#execute-via-the-python-api"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div data-snippet-clipboard-copy-content="import papermill as pm

pm.execute_notebook(
   &#39;path/to/input.ipynb&#39;,
   &#39;path/to/output.ipynb&#39;,
   parameters = dict(alpha=0.6, ratio=0.1)
)"><pre lang="{.sourceCode"><code>import papermill as pm

pm.execute_notebook(
   &#39;path/to/input.ipynb&#39;,
   &#39;path/to/output.ipynb&#39;,
   parameters = dict(alpha=0.6, ratio=0.1)
)
</code></pre></div>

<p dir="auto">Here&#39;s an example of a local notebook being executed and output to an
Amazon S3 account:</p>
<div data-snippet-clipboard-copy-content="$ papermill local/input.ipynb s3://bkt/output.ipynb -p alpha 0.6 -p l1_ratio 0.1"><pre lang="{.sourceCode"><code>$ papermill local/input.ipynb s3://bkt/output.ipynb -p alpha 0.6 -p l1_ratio 0.1
</code></pre></div>
<p dir="auto"><strong>NOTE:</strong>
If you use multiple AWS accounts, and you have <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/guide/configuration.html" rel="nofollow">properly configured your AWS  credentials</a>, then you can specify which account to use by setting the <code>AWS_PROFILE</code> environment variable at the command-line. For example:</p>
<div data-snippet-clipboard-copy-content="$ AWS_PROFILE=dev_account papermill local/input.ipynb s3://bkt/output.ipynb -p alpha 0.6 -p l1_ratio 0.1"><pre lang="{.sourceCode"><code>$ AWS_PROFILE=dev_account papermill local/input.ipynb s3://bkt/output.ipynb -p alpha 0.6 -p l1_ratio 0.1
</code></pre></div>
<p dir="auto">In the above example, two parameters are set: <code>alpha</code> and <code>l1_ratio</code> using <code>-p</code> (<code>--parameters</code> also works). Parameter values that look like booleans or numbers will be interpreted as such. Here are the different ways users may set parameters:</p>
<div data-snippet-clipboard-copy-content="$ papermill local/input.ipynb s3://bkt/output.ipynb -r version 1.0"><pre lang="{.sourceCode"><code>$ papermill local/input.ipynb s3://bkt/output.ipynb -r version 1.0
</code></pre></div>
<p dir="auto">Using <code>-r</code> or <code>--parameters_raw</code>, users can set parameters one by one. However, unlike <code>-p</code>, the parameter will remain a string, even if it may be interpreted as a number or boolean.</p>
<div data-snippet-clipboard-copy-content="$ papermill local/input.ipynb s3://bkt/output.ipynb -f parameters.yaml"><pre lang="{.sourceCode"><code>$ papermill local/input.ipynb s3://bkt/output.ipynb -f parameters.yaml
</code></pre></div>
<p dir="auto">Using <code>-f</code> or <code>--parameters_file</code>, users can provide a YAML file from which parameter values should be read.</p>
<div data-snippet-clipboard-copy-content="$ papermill local/input.ipynb s3://bkt/output.ipynb -y &#34;
alpha: 0.6
l1_ratio: 0.1&#34;"><pre lang="{.sourceCode"><code>$ papermill local/input.ipynb s3://bkt/output.ipynb -y &#34;
alpha: 0.6
l1_ratio: 0.1&#34;
</code></pre></div>
<p dir="auto">Using <code>-y</code> or <code>--parameters_yaml</code>, users can directly provide a YAML string containing parameter values.</p>
<div data-snippet-clipboard-copy-content="$ papermill local/input.ipynb s3://bkt/output.ipynb -b YWxwaGE6IDAuNgpsMV9yYXRpbzogMC4xCg=="><pre lang="{.sourceCode"><code>$ papermill local/input.ipynb s3://bkt/output.ipynb -b YWxwaGE6IDAuNgpsMV9yYXRpbzogMC4xCg==
</code></pre></div>
<p dir="auto">Using <code>-b</code> or <code>--parameters_base64</code>, users can provide a YAML string, base64-encoded, containing parameter values.</p>
<p dir="auto">When using YAML to pass arguments, through <code>-y</code>, <code>-b</code> or <code>-f</code>, parameter values can be arrays or dictionaries:</p>
<div data-snippet-clipboard-copy-content="$ papermill local/input.ipynb s3://bkt/output.ipynb -y &#34;
x:
    - 0.0
    - 1.0
    - 2.0
    - 3.0
linear_function:
    slope: 3.0
    intercept: 1.0&#34;"><pre lang="{.sourceCode"><code>$ papermill local/input.ipynb s3://bkt/output.ipynb -y &#34;
x:
    - 0.0
    - 1.0
    - 2.0
    - 3.0
linear_function:
    slope: 3.0
    intercept: 1.0&#34;
</code></pre></div>

<p dir="auto">Papermill supports the following name handlers for input and output paths during execution:</p>
<ul dir="auto">
<li>
<p dir="auto">Local file system: <code>local</code></p>
</li>
<li>
<p dir="auto">HTTP, HTTPS protocol:  <code>http://, https://</code></p>
</li>
<li>
<p dir="auto">Amazon Web Services: <a href="https://aws.amazon.com/s3/" rel="nofollow">AWS S3</a> <code>s3://</code></p>
</li>
<li>
<p dir="auto">Azure: <a href="https://docs.microsoft.com/en-us/azure/data-lake-store/data-lake-store-overview" rel="nofollow">Azure DataLake Store</a>, <a href="https://docs.microsoft.com/en-us/azure/storage/blobs/storage-blobs-overview" rel="nofollow">Azure Blob Store</a> <code>adl://, abs://</code></p>
</li>
<li>
<p dir="auto">Google Cloud: <a href="https://cloud.google.com/storage/" rel="nofollow">Google Cloud Storage</a> <code>gs://</code></p>
</li>
</ul>

<p dir="auto">Read <a href="https://gianluca.ai/nteract/papermill/blob/main/CONTRIBUTING.md">CONTRIBUTING.md</a> for guidelines on how to setup a local development environment and make code changes back to Papermill.</p>
<p dir="auto">For development guidelines look in the <a href="https://gianluca.ai/nteract/papermill/blob/main/DEVELOPMENT_GUIDE.md">DEVELOPMENT_GUIDE.md</a> file. This should inform you on how to make particular additions to the code base.</p>

<p dir="auto">We host the <a href="http://papermill.readthedocs.io" rel="nofollow">Papermill documentation</a>
on ReadTheDocs.</p>
</article></div></div>
  </body>
</html>
