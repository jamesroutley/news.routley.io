<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/dfd-tud/deda">Original</a>
    <h1>DEDA – Tracking Dots Extraction, Decoding and Anonymisation Toolkit</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">Document Colour Tracking Dots, or yellow dots, are small systematic dots which encode information about the printer and/or the printout itself. This process is integrated in almost every commercial colour laser printer. This means that almost every printout contains coded information about the source device, such as the serial number.</p>
<p dir="auto">On the one hand, this tool gives the possibility to read out and decode these forensic features and on the other hand, it allows anonymisation to prevent arbitrary tracking.</p>
<p dir="auto">If you use this software, please cite the paper:
Timo Richter, Stephan Escher, Dagmar Schönfeld, and Thorsten Strufe. 2018. Forensic Analysis and Anonymisation of Printed Documents. In Proceedings of the 6th ACM Workshop on Information Hiding and Multimedia Security (IH&amp;MMSec &#39;18). ACM, New York, NY, USA, 127-138. DOI: <a href="https://doi.org/10.1145/3206004.3206019" rel="nofollow">https://doi.org/10.1145/3206004.3206019</a></p>
<hr/>

<ul dir="auto">
<li>Install Python 3</li>
<li>Install Deda</li>
</ul>
<p dir="auto">From PyPI:
<code>$ pip3 install --user deda</code></p>
<p dir="auto">Or from current directory:
<code>$ pip3 install --user .</code></p>
<ul dir="auto">
<li>Optional requirement by deda_anonmask_apply (Unix and GNU/Linux only):
<code>$ pip3 install --user wand</code></li>
</ul>
<p dir="auto">Without Wand, pages containing white areas on images cannot be anonymised.</p>
<hr/>

<ul dir="auto">
<li>To open the GUI type:
<code>$ deda_gui</code></li>
</ul>
<hr/>


<p dir="auto">Tracking data can be read and sometimes be decoded from a scanned image. For good results the input shall use a lossless compression (e.g. png) and 300 dpi. Make sure to set a neutral contrast
<code>$ deda_parse_print INPUTFILE</code></p>
<div dir="auto"><h5 tabindex="-1" dir="auto">2. Find a divergent printer in a set of scanned documents</h5><a id="user-content-2-find-a-divergent-printer-in-a-set-of-scanned-documents" aria-label="Permalink: 2. Find a divergent printer in a set of scanned documents" href="#2-find-a-divergent-printer-in-a-set-of-scanned-documents"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><code>$ deda_compare_prints INPUT1 INPUT2 [INPUT3] ...</code></p>
<div dir="auto"><h5 tabindex="-1" dir="auto">3. Analysing an unknown tracking pattern</h5><a id="user-content-3-analysing-an-unknown-tracking-pattern" aria-label="Permalink: 3. Analysing an unknown tracking pattern" href="#3-analysing-an-unknown-tracking-pattern"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">New patterns might not be recognised by parse_print. The dots can be extracted
for further analysis.</p>
<div dir="auto"><h5 tabindex="-1" dir="auto">4. Create your own tracking dots</h5><a id="user-content-4-create-your-own-tracking-dots" aria-label="Permalink: 4. Create your own tracking dots" href="#4-create-your-own-tracking-dots"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If you want to create your own tracking dots matrix and add it to a pdf
document, pass the contents as parameters (see <code>deda_create_dots -h</code>).
<code>$ deda_create_dots PDFINPUT</code></p>
<p dir="auto">The calibration page (<code>$ deda_anonmask_create -w</code>) may be used as an input.</p>
<div dir="auto"><h5 tabindex="-1" dir="auto">5. Anonymise a scanned image</h5><a id="user-content-5-anonymise-a-scanned-image" aria-label="Permalink: 5. Anonymise a scanned image" href="#5-anonymise-a-scanned-image"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This (mostly) removes tracking data from a scan:</p>
<div dir="auto"><h5 tabindex="-1" dir="auto">6. Anonymise a document for printing</h5><a id="user-content-6-anonymise-a-document-for-printing" aria-label="Permalink: 6. Anonymise a document for printing" href="#6-anonymise-a-document-for-printing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto">Save your document as a PDF file and call it DOCUMENT.PDF.</p>
</li>
<li>
<p dir="auto">Print the testpage.pdf file created by</p>
</li>
<li>
<p dir="auto">Scan the document (300 dpi) and pass the lossless file to</p>
</li>
<li>
<p dir="auto">Now apply the anonymisation mask:</p>
</li>
</ul>
<p dir="auto">Check whether a masked page covers your printer&#39;s tracking dots by using a
microscope. The mask&#39;s dot radius, x and y offsets can be customised and
passed to <code>deda_anonmask_apply</code> as parameters.</p>
<p dir="auto">Note that if DOCUMENT.PDF contains graphics with white or light coloured parts, these can only be masked if &#34;wand&#34; is installed (see above).</p>
<hr/>

<div dir="auto"><h5 tabindex="-1" dir="auto">deda_parse_print: command not found</h5><a id="user-content-deda_parse_print-command-not-found" aria-label="Permalink: deda_parse_print: command not found" href="#deda_parse_print-command-not-found"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Possible solutions:</p>
<ul dir="auto">
<li>Install deda accordig to chapter 0</li>
<li>Execute
<code>$ export PATH=&#34;$PATH:$(python -c &#39;import site,os; print(os.path.join(site.USER_BASE, &#34;bin&#34;))&#39;)&#34;</code></li>
</ul>
<div dir="auto"><h5 tabindex="-1" dir="auto">Deda does not recognise my tracking dots</h5><a id="user-content-deda-does-not-recognise-my-tracking-dots" aria-label="Permalink: Deda does not recognise my tracking dots" href="#deda-does-not-recognise-my-tracking-dots"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Set up your scan program so that it does not eliminate the paper structure nor tracking dots by some threshold and check again. Remember that monochrome pages as well as inkjet prints might not contain tracking dots.</p>
<div dir="auto"><h5 tabindex="-1" dir="auto">My printer does not print tracking dots. Can I hide this fact?</h5><a id="user-content-my-printer-does-not-print-tracking-dots-can-i-hide-this-fact" aria-label="Permalink: My printer does not print tracking dots. Can I hide this fact?" href="#my-printer-does-not-print-tracking-dots-can-i-hide-this-fact"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">If there are really no tracking dots, you can either create your own ones (<code>deda_create_dots</code>) or print the calibration page (<code>deda_anonmask_create -w</code>) with another printer and use the mask for your own printer. You can use the anonymised version of the tracking dots or just copy them (<code>deda_anonmask_create --copy</code>). See chapters &#34;Anonymise a document for printing&#34; and &#34;Create your own tracking dots&#34;.</p>
<div dir="auto"><h5 tabindex="-1" dir="auto">Install Error: command &#39;x86_64-linux-gnu-gcc&#39; failed with exit status 1</h5><a id="user-content-install-error-command-x86_64-linux-gnu-gcc-failed-with-exit-status-1" aria-label="Permalink: Install Error: command &#39;x86_64-linux-gnu-gcc&#39; failed with exit status 1" href="#install-error-command-x86_64-linux-gnu-gcc-failed-with-exit-status-1"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This may be caused by the eel dependency which is needed for the GUI. Try
<code>$ sudo apt-get install build-essential autoconf libtool pkg-config python3.6-dev gcc &amp;&amp; pip3 install --user eel</code></p>
<div dir="auto"><h5 tabindex="-1" dir="auto">wand.exceptions.PolicyError: attempt to perform an operation not allowed by the security policy PDF&#39; @ error/constitute.c/IsCoderAuthorized/408</h5><a id="user-content-wandexceptionspolicyerror-attempt-to-perform-an-operation-not-allowed-by-the-security-policy-pdf--errorconstituteciscoderauthorized408" aria-label="Permalink: wand.exceptions.PolicyError: attempt to perform an operation not allowed by the security policy PDF&#39; @ error/constitute.c/IsCoderAuthorized/408" href="#wandexceptionspolicyerror-attempt-to-perform-an-operation-not-allowed-by-the-security-policy-pdf--errorconstituteciscoderauthorized408"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This is being caused by ImageMagick. Either remove Wand (<code>pip3 uninstall wand</code>) or add <code>&lt;policy domain=&#34;coder&#34; rights=&#34;read | write&#34; pattern=&#34;PDF&#34; /&gt;</code> just before <code>&lt;/policymap&gt;</code> in /etc/ImageMagick-*/policy.xml. See also <a href="https://stackoverflow.com/questions/52998331/imagemagick-security-policy-pdf-blocking-conversion" rel="nofollow">https://stackoverflow.com/questions/52998331/imagemagick-security-policy-pdf-blocking-conversion</a>.</p>
</article></div></div>
  </body>
</html>
