<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/matthewhague/sat-css-tool">Original</a>
    <h1>Optimize CSS with SAT Solving</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">Minimise CSS files through semantics-preserving refactoring.  E.g.</p>
<div data-snippet-clipboard-copy-content=".a { color: red }
.b { color: red }"><pre><code>.a { color: red }
.b { color: red }
</code></pre></div>
<p dir="auto">can be refactored</p>

<p dir="auto">but</p>
<div data-snippet-clipboard-copy-content=".a { color: red }
.c { color: blue }
.b { color: red }"><pre><code>.a { color: red }
.c { color: blue }
.b { color: red }
</code></pre></div>
<p dir="auto">cannot, since</p>
<div data-snippet-clipboard-copy-content=".a, .b { color: red }
.c { color: blue }"><pre><code>.a, .b { color: red }
.c { color: blue }
</code></pre></div>
<p dir="auto">changes the color of an element with class=&#34;b c&#34;.</p>
<p dir="auto">Can also be used to test whether two selectors may match the same node in some DOM.</p>
<p dir="auto">Can also be used as a tool/library for building an abstract
representation of a CSS file as a set of pairs (selector, declaration)
with an ordering (representing the order selectors must appear in the
CSS file to maintain the overriding semantics).</p>

<p dir="auto">Python 3.7 or compatible.</p>
<ul dir="auto">
<li><a href="https://pypi.python.org/pypi/cssselect" rel="nofollow">cssselect 1.2.0</a></li>
<li><a href="https://pypi.python.org/pypi/docopt" rel="nofollow">docopt 0.6.2</a></li>
<li><a href="https://pypi.python.org/pypi/lxml" rel="nofollow">lxml 4.9.2</a></li>
<li><a href="https://pypi.python.org/pypi/tinycss2" rel="nofollow">tinycss2 1.2.1</a></li>
<li><a href="https://pypi.org/project/toposort/" rel="nofollow">toposort 1.10</a></li>
<li><a href="http://research.microsoft.com/en-us/um/redmond/projects/z3/z3.html" rel="nofollow">z3-solver 4.12.2.0</a></li>
</ul>
<p dir="auto">Borrowed and modified code from</p>
<ul dir="auto">
<li><a href="https://pypi.python.org/pypi/cssselect" rel="nofollow">cssselect 0.9.1</a></li>
</ul>
<p dir="auto">The recommended build system is <a href="https://python-poetry.org/" rel="nofollow">Poetry</a>. Tested
with version 1.7.0.</p>

<p dir="auto">In the same directory as satcss/main.py, ensure that running</p>

<p dir="auto">runs the Z3 SMT solver.  For example, this can be a symlink to the
Z3 installed on your machine.</p>
<p dir="auto">The tool was last tested with Z3 v4.12.2.0.</p>

<p dir="auto">To setup and run the project with Poetry, from the root directory run</p>

<p dir="auto">Then</p>

<p dir="auto">To try a benchmark:</p>
<div data-snippet-clipboard-copy-content="poetry run satcss benchmarks/dblp-2015-07-09-stripmq.css"><pre><code>poetry run satcss benchmarks/dblp-2015-07-09-stripmq.css
</code></pre></div>
<p dir="auto">To output the file:</p>
<div data-snippet-clipboard-copy-content="poetry run satcss -o --file=blah.min.css benchmarks/dblp-2015-07-09-stripmq.css"><pre><code>poetry run satcss -o --file=blah.min.css benchmarks/dblp-2015-07-09-stripmq.css
</code></pre></div>

<p dir="auto">Two scripts <code>main.py</code> and <code>test.py</code> are provided in the root directory for
running without Poetry. First install the requirements manually. You can use
<code>requirements.txt</code>.</p>
<div data-snippet-clipboard-copy-content="pip install -r requirements.txt"><pre><code>pip install -r requirements.txt
</code></pre></div>
<p dir="auto">Then run</p>

<p dir="auto">where &#34;python&#34; is your python 3.7 or above command.</p>

<p dir="auto">The version current as of the <a href="https://github.com/matthewhague/sat-css-tool/releases/tag/TOPLAS-Release">TOPLAS paper</a> is tagged
<a href="https://github.com/matthewhague/sat-css-tool/releases/tag/TOPLAS-Release">TOPLAS-Release</a>.</p>
</article></div></div>
  </body>
</html>
