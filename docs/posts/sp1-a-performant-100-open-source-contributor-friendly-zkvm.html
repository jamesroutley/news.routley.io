<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.succinct.xyz/introducing-sp1/">Original</a>
    <h1>SP1: A performant, 100% open-source, contributor-friendly zkVM</h1>
    
    <div id="readability-page-1" class="page"><div>

    <article>

        <header>

            

            <div>
                <p><a href="https://blog.succinct.xyz/author/uma/">
                                <img src="https://blog.succinct.xyz/content/images/size/w160/2023/11/3G5RwWeR_400x400.jpg" alt="Uma Roy"/>
                            </a>
                </p>
                <div>
                    
                    <p><time datetime="2024-02-14">Feb 14, 2024</time>
                            <span><span>—</span> 6 min read</span>
                    </p>
                </div>
            </div>

                <figure>
        <img srcset="/content/images/size/w320/2024/10/blog-header-aspect-11.png 320w,
                    /content/images/size/w600/2024/10/blog-header-aspect-11.png 600w,
                    /content/images/size/w960/2024/10/blog-header-aspect-11.png 960w,
                    /content/images/size/w1200/2024/10/blog-header-aspect-11.png 1200w,
                    /content/images/size/w2000/2024/10/blog-header-aspect-11.png 2000w" sizes="(max-width: 1200px) 100vw, 1120px" src="https://blog.succinct.xyz/content/images/size/w1200/2024/10/blog-header-aspect-11.png" alt="Introducing SP1: A performant, 100% open-source, contributor-friendly zkVM."/>
    </figure>

        </header>

        <section>
            <p>We’re excited to announce Succinct Processor 1 (SP1): our first-generation zero-knowledge virtual machine (zkVM) that verifies the execution of arbitrary Rust (or any LLVM-compiled language) programs. SP1 targets an order of magnitude performance improvement vs. existing zkVMs—its alpha release is already <strong>up to 28x faster</strong> for certain programs and competitive with circuit-based approaches.</p><p>SP1 is a 100% open-source, contributor-friendly public good that takes a collaborative approach towards building the best zkVM for rollups, coprocessors, and other ZKP applications. SP1 is continuously evolving—disrupting the status quo of black-box zkVMs that are hard to customize and keep up to date with the latest proof system advances. Start <a href="https://succinctlabs.github.io/sp1/?ref=blog.succinct.xyz"><u>building</u></a> with SP1 and <a href="https://github.com/succinctlabs/sp1?ref=blog.succinct.xyz"><u>contributing</u></a> today.</p><h3 id="the-future-of-truth-is-programmable">The future of truth is programmable</h3><p>Zero-knowledge proofs (ZKPs) are a powerful primitive that will enable a new generation of more secure, scalable and innovative blockchain architectures that rely on <a href="https://blog.succinct.xyz/succinct-network/"><u>truth not trust</u></a>. But ZKP adoption has been held back because it is “moon math”, requiring specialized knowledge in obscure ZKP frameworks and hard to maintain one-off deployments. Performant, general-purpose zkVMs, like SP1, will obsolete the current paradigm of specialized teams hand rolling their own custom ZK stack and create a future where all blockchain infrastructure, including rollups, bridges, coprocessors, and more, utilize ZKPs via <strong>maintainable software</strong> written in Rust (or other LLVM-compiled languages).</p><figure><img src="https://lh7-us.googleusercontent.com/GfS5MbKeO6oKDehYLtNnzjEkCgDtxVwyyVna1i_7BneOSiSVD0WWtPkY30DLB14DX1dLuBK4QwCo6aWC7VMu_rh9ytMsE2zjjwiRhp0MFueZJ9i-ZeKqNXII9d9huChIY-Cgzhvq-YApQLvaHDuI8e0" alt="" loading="lazy" width="1600" height="900"/></figure><h3 id="state-of-the-art-performance">State-of-the-art performance</h3><p>SP1 achieves state-of-the-art performance on several real-world workloads inspired by common blockchain use-cases like bridging and verifying Merkle proofs. Our performance is a result of multiple design choices that utilize the latest proof system advances, including a cross-table lookup architecture, a customizable “precompile” system that can accelerate almost any performance bottleneck without much additional recursion overhead, and more. </p><p>For the<em> first time</em>, SP1 shows that a general-purpose zkVM can have performance competitive with circuit-based approaches, while accelerating developer productivity by orders of magnitude.</p><p><strong>SP1 outperforms existing zkVMs by up to 28x on real world workloads</strong></p><p>We benchmark SP1 on a variety of programs, showing between 4-28x improvements on performance on three realistic workloads. Our benchmarks measure end-to-end proving time on a single machine with 64 ARM-based CPUs, and 512GB of RAM. In production, latency can be significantly decreased with parallelized proving across a cluster for both approaches.</p><figure><img src="https://lh7-us.googleusercontent.com/XOU2ASIvow2nUpuqXJqkMhUGfjRE6_fVbdAnewo-_zv-QtXS3QAc_s-oBQFiUPBtlWRaYO2xUibgTDMqmZzzf0T7b0xlFmLhRpFo7yNta1ef3pDWJRJP65ZQJT3omoK9OidjSBmcRHEwa15wloj0wa4" alt="" loading="lazy" width="1600" height="900"/></figure><p>SP1’s blazing fast speed is a game-changer for real-world applications like a ZK Tendermint light client, reducing proving time from 2.2 hours to<strong> 4.6 minutes.</strong> Read more about our methodology in the appendix.</p><p><strong>SP1 is competitive with circuit-based approaches while improving developer productivity by over 100x</strong></p><p>Perhaps more interesting than SP1’s state of the art performance against existing zkVMs, is that its precompile-centric architecture allows for performance competitive with (and sometimes exceeding) that of custom hand-rolled circuits. In the cases below, we benchmark programs proven with SP1 vs. SOTA custom circuits the Succinct team has previously written for a variety of important use-cases in production. In the case of the SSZ Merkle proof verification program, the VM is actually <em>faster </em>than the circuit as the flexibility of the VM allows for conditional computation that a circuit does not allow for. </p><figure><img src="https://blog.succinct.xyz/content/images/2024/02/SP1---3--1-.png" alt="" loading="lazy" width="2000" height="1125" srcset="https://blog.succinct.xyz/content/images/size/w600/2024/02/SP1---3--1-.png 600w, https://blog.succinct.xyz/content/images/size/w1000/2024/02/SP1---3--1-.png 1000w, https://blog.succinct.xyz/content/images/size/w1600/2024/02/SP1---3--1-.png 1600w, https://blog.succinct.xyz/content/images/2024/02/SP1---3--1-.png 2000w" sizes="(min-width: 720px) 720px"/></figure><p><strong>Development time with SP1 is &gt;100x faster and more maintainable than with custom circuits, while proof generation speed/cost remains competitive.</strong></p><h3 id="built-from-day-one-to-be-customizable-and-maintained-by-a-diverse-ecosystem-of-contributors">Built from day one to be customizable and maintained by a diverse ecosystem of contributors</h3><p>Today, zkVMs are built monolithically by isolated companies, making them difficult to customize and keep updated with the latest advances. We challenge this approach. <a href="https://github.com/succinctlabs/sp1?ref=blog.succinct.xyz"><u>SP1</u></a>  is <strong>100% open-source</strong> (MIT/Apache 2.0) with no code obfuscation and built to be <strong>contributor friendly</strong>, with all development done in the open. Unlike existing zkVMs whose constraint logic is closed-source and impossible to modify, SP1 is modularly architected and designed to be customizable from day one. This customizability (unique to SP1) allows for users to add “precompiles” to the core zkVM logic that yield substantial performance gains, making SP1’s performance not only state of the art vs. existing zkVMs, but also competitive with circuits in a variety of use-cases.</p><p><strong>Embracing the Open Source </strong><a href="https://en.wikipedia.org/wiki/The_Cathedral_and_the_Bazaar?ref=blog.succinct.xyz"><strong><u>Bazaar</u></strong></a></p><p>SP1 makes use of high-quality, production-grade open-source dependencies like <a href="https://github.com/Plonky3/?ref=blog.succinct.xyz"><u>Plonky3</u></a> where possible, to compound with the exponential progress of ZK innovation and build a zkVM that is <strong>future proof</strong>. We believe that the terminal zkVM is similar to the Linux project: free, open-source software that is permissively licensed and maintained by an active community of contributors from a diverse set of companies and geographies. Already, multiple teams and individuals have merged PRs to SP1, including Succinct Labs, Sina (CEO, Witness), Aayush (ZK email), Preston (CTO, Sovereign Labs) and more. </p><p>SP1 is still a work-in-progress and there is much more left to build. We are open-sourcing today in the spirit of transparency and inviting the community to build the best zkVM together with us.</p><h3 id="build-with-sp1">Build with SP1</h3><p>The code for SP1 can be found at this repository: <a href="https://github.com/succinctlabs/sp1?ref=blog.succinct.xyz"><u>https://github.com/succinctlabs/sp1</u></a>. Note that SP1 is in alpha and not yet intended for production use. </p><p>Today, developers can write programs (including complex, large programs like a Tendermint light client) in Rust (with std support), generate proofs and verify them. SP1 already supports proving of programs of arbitrary length by sharding a long computation into smaller shards, and then generating a global proof of all shards. Start building with SP1 today: <a href="https://succinctlabs.github.io/sp1/?ref=blog.succinct.xyz"><u>https://succinctlabs.github.io/sp1/</u></a>. </p><p>Check out some of the exciting use cases that can be built on top of SP1:</p><ul><li><a href="https://github.com/succinctlabs/sp1/issues/233?ref=blog.succinct.xyz"><u>An optimized Tendermint light client</u></a></li><li><a href="https://github.com/succinctlabs/sp1/issues/229?ref=blog.succinct.xyz"><u>An optimized Ethereum light client</u></a></li><li><a href="https://github.com/succinctlabs/sp1/issues/228?ref=blog.succinct.xyz"><u>A stateless EVM coprocessor</u></a></li></ul><p><strong>Contribute to SP1: </strong>If you’re interested in contributing to SP1 itself, check out the list of <a href="https://github.com/succinctlabs/sp1/issues?ref=blog.succinct.xyz"><u>open issues</u></a> in the Github repository.</p><p><strong>Roadmap: </strong> In the coming months, we plan on getting audits of the core VM constraints and logic, optimizing SP1’s performance and also adding support for recursive onchain verification which will allow for converting SP1’s STARK proofs to groth16, for cheap onchain usage in Ethereum smart contracts.</p><h3 id="acknowledgements">Acknowledgements</h3><p>SP1 is built on the shoulders of giants in this space. We would like to thank StarkWare, for being the original pioneers of STARKs and zkVMs, the Polygon Zero Labs team for creating <a href="https://github.com/0xPolygonZero/plonky2?ref=blog.succinct.xyz"><u>Plonky2</u></a> and <a href="https://github.com/Plonky3/?ref=blog.succinct.xyz"><u>Plonky3</u></a>, foundational open-source dependencies upon which SP1 is built, Risc0 for the vision of a RISC-V zkVM, Daniel Lubarov and Max Gillet for work on Valida that pioneered the cross-table lookup architecture, Ulrich Habock for Logup, and countless other individuals in the ZK space that have inspired our work.</p><h3 id="appendix">Appendix</h3><p><strong>Performance comparison with other zkVMs:</strong></p>
<!--kg-card-begin: html-->
<table><colgroup><col width="104"/><col width="105"/><col width="144"/><col width="95"/><col width="91"/><col width="85"/></colgroup><tbody><tr><td><p dir="ltr"><span>Program</span></p></td><td><p dir="ltr"><span># of Cycles</span></p></td><td><p dir="ltr"><span>SP1 Proof Time (s)</span></p></td><td><p dir="ltr"><span>SP1 Verification Time (s)</span></p></td><td><p dir="ltr"><span>Risc0 Proof Time (s)</span></p></td><td><p dir="ltr"><span>Risc0 Verification Time (s)</span></p></td></tr><tr><td><p dir="ltr"><span>Fibonacci</span></p></td><td><p dir="ltr"><span>1.78M</span></p></td><td><p dir="ltr"><span>30 sec: </span><span>5.4x</span><span> ⚡</span></p></td><td><p dir="ltr"><span>346 ms</span></p></td><td><p dir="ltr"><span>163 sec</span></p></td><td><p dir="ltr"><span>163 ms</span></p></td></tr><tr><td><p dir="ltr"><span>SSZ Merkle Proofs Verification</span></p></td><td><p dir="ltr"><span>3.7M</span></p></td><td></td><td><p dir="ltr"><span>744 ms</span></p></td><td><p dir="ltr"><span>229 sec</span></p></td><td><p dir="ltr"><span>268 ms</span></p></td></tr><tr><td><p dir="ltr"><span>Tendermint ZK Light Client</span></p></td><td><p dir="ltr"><span>31M (SP1) /114M (Risc0)</span></p></td><td><p dir="ltr"><span>278 sec (4.6 mins): </span><span>28x ⚡</span></p></td><td><p dir="ltr"><span>4795 ms</span></p></td><td><p dir="ltr"><span>7920 sec (2.2 hours)</span></p></td><td><p dir="ltr"><span>7918 ms</span></p></td></tr></tbody></table>
<!--kg-card-end: html-->
<p><strong>Performance comparison with circuits:</strong></p>
<!--kg-card-begin: html-->
<table><colgroup><col/><col/><col/><col/><col/></colgroup><tbody><tr><td><p dir="ltr"><span>Program</span></p></td><td><p dir="ltr"><span>SP1 Proof Time</span></p></td><td><p dir="ltr"><span>Development Time with SP1</span></p></td><td><p dir="ltr"><span>Circuit Proof Time</span></p></td><td><p dir="ltr"><span>Circuit Development Time</span></p></td></tr><tr><td><p dir="ltr"><span>SSZ Merkle Proof Verification</span></p></td><td><p dir="ltr"><span>49 secs</span></p></td><td><p dir="ltr"><span>1 afternoon</span></p></td><td><p dir="ltr"><span>270 secs</span></p></td><td><p dir="ltr"><span>2 months</span></p></td></tr><tr><td><p dir="ltr"><span>Tendermint ZK Light Client</span></p></td><td><p dir="ltr"><span>278 secs</span></p></td><td><p dir="ltr"><span>1 afternoon</span></p></td><td><p dir="ltr"><span>300 secs</span></p></td><td><p dir="ltr"><span>4 months</span></p></td></tr></tbody></table>
<!--kg-card-end: html-->
<p><strong>Benchmarking Methodology</strong></p><p>The benchmarking programs can be found in the SP1 examples directory (<a href="https://github.com/succinctlabs/sp1/tree/main/examples/fibonacci?ref=blog.succinct.xyz"><u>Fibonacci</u></a>, <a href="https://github.com/succinctlabs/sp1/tree/main/examples/ssz-withdrawals?ref=blog.succinct.xyz"><u>SSZ Merkle Proofs</u></a>, <a href="https://github.com/succinctlabs/sp1/tree/main/examples/tendermint?ref=blog.succinct.xyz"><u>Tendermint ZK Light Client</u></a>). For each program, we generated a proof for both zkVMs, and patched all relevant crates (including the sha2, crypto-bigint and curve25519-dalek crates). The “# of Cycles&#39;” column is the number of RISC-V instructions executed by the program. The proof generation time is in seconds and verification time is in milliseconds. Note that the cycle count for the Tendermint program is provided as 2 numbers because it is significantly smaller in the SP1 zkVM because of SP1&#39;s first-class support for precompiles, which are difficult to add in Risc0 because constraint logic is closed-source. SP1’s architecture allows for precompiles to be added without substantially impacting recursion overhead, significantly decreasing the cycle count of complex programs and thus improving proof generation performance. For all other programs, the cycle count is relatively similar between the two zkVMs.</p><p>We chose to use the poseidon hash function for both SP1 and the Risc0 zkVM as poseidon is a standard, recursion-friendly hash used by many teams. All other settings were the default Risc0 prover settings in their repository. The benchmark was run on a AWS Linux ARM CPU machine  (r6a.16xlarge) 64 vCPUs and 512GB of RAM, with a reserved pricing of $1.64 per hour.</p><p><strong>NB: </strong>Note that due to the very complex, multi-dimensional nature of zkVM performance (including factors like hardware, single-node vs. multi-node performance, memory usage, recursion cost, hash function selection) these benchmarks only present a simplified view of performance. We tried our best to provide as fair of a comparison as possible, although it is difficult for a single benchmark to capture all nuances. Also because SP1 is still a work in progress, the performance numbers are not final and are expected to improve over time.</p>
        </section>

    </article>


</div></div>
  </body>
</html>
