<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://unixdigest.com/tutorials/tips-on-how-to-structure-your-home-directory.html">Original</a>
    <h1>Tips on how to structure your home directory (2023)</h1>
    
    <div id="readability-page-1" class="page"><article>



<p>Published on <span id="pubdate">2023-09-04</span>. Modified on <span id="moddate">2023-09-07</span>.</p>
<p><span id="description">Someone wrote me an email and asked if I could share some tips on how to structure the $HOME directory, so here we go.</span></p>

<p>Structuring or organizing directories is not much different from structuring or organizing other stuff and it really comes down to what makes the most sense to you - at least as long as you&#39;re only dealing with your own directories. As soon as you&#39;re dealing with an organization, things can very quickly get out of hand.</p>

<p>The main purpose behind any kind of organizing is efficiency. That really is the keyword. You need to be able to easily and quickly find what you&#39;re looking for and just as easily and quickly be able to store what needs to be stored.</p>

<p>Over the years I have changed my directory structure for my home directory a couple of times, but not so for about the last 10+ years because I have settled on something that works really well for me.</p>

<p>I don&#39;t like clutter and I try to keep things simple. If I need some kind of rule book in order to remember how to store my files in my home directory, then this is a clear sign that something has gone wrong.</p>

<p>In my home directory I have all the basic hidden stuff which is a part of any modern Unix operating system such as <code>.config</code>, <code>.aliases</code>, <code>.profile</code>, <code>.gnupg</code>, <code>.mozilla</code>, etc. Though I would prefer that all applications would respect the <a href="https://wiki.archlinux.org/title/XDG_Base_Directory">XDG_CONFIG_HOME</a>, which defaults to <code>$HOME/.config</code>, I don&#39;t mess with that and generally don&#39;t care too much about that.</p>

<p>In the past <a href="https://www.unixdigest.com/tutorials/keeping-your-home-in-git.html">I kept my $HOME in Git - the right way</a> ;), which is a really great way to organize dotfiles. Today I still put all my dotfiles in Git because I like to keep a history of changes, but I only leave those dotfiles in place which work identically across the different systems I use. The setup specific dotfiles is kept in a &#34;dotfiles&#34; directory and I then use symlinks (more about that in a little while).</p>

<p>Regarding normal files and directories I primarily use two methods of organizing, namely &#34;category&#34; and &#34;dates&#34;.</p>

<p>This is my basic directory structure:</p>

<pre>bin
data
edata
mnt
usr/dotfiles
</pre>

<p>Besides from the above, I just leave the <code>Desktop</code> and <code>Downloads</code> directories, which different applications seem to want to shove down the throat of everybody. In the past I &#34;fought&#34; against those, because I generally don&#39;t use them and I don&#39;t like them, but life is just too short to mess with crap like that.</p>

<p><b>Update 2023-09-04:</b> You can set directories such as <code>Desktop</code>, <code>Downloads</code> and others with the <a href="https://man.archlinux.org/man/user-dirs.dirs.5.en">user-dirs.dirs</a> - settings for XDG user dirs, which most applications should respect (thanks Hugo for pointing this out!)</p>

<p>In the <code>bin</code> directory I keep my shell scripts and personal binary executables (not stuff installed via the package manager).</p>

<p>The <code>mnt</code> directory I use for different mount points, like when I mount an SD card, a USB disk, some of the shared storage I use in my homelab.</p>

<p>It looks something like this:</p>

<pre>mnt
  \foo
  \bar
  \baz
</pre>

<p>I <strong>never</strong> auto mount, but generally use shell scripts for mounting. So if I have a USB disk I call &#34;foo&#34;, I have a shell script called <code>mfoo</code>. It doesn&#39;t matter how the &#34;foo&#34; disk gets recognized by the system, the shell script will make sure that the disk gets mounted at <code>mnt/foo</code> each time, and if the disk is encrypted, it will prompt me for the passphrase, if I don&#39;t use a key.</p>

<p>The <code>usr/dotfiles</code> directory is kept in Git together with generic dotfiles that work identically across all systems, like <code>.aliases</code>. I use symlinks to the relevant files in the <code>dotfiles</code> directory. It looks something like this:</p>

<pre>$ ls -l ~/usr/dotfiles/config/i3
freebsd-config
linux-config
</pre>

<pre>$ ls -l ~/.config/i3
config -&gt; /home/foo/usr/dotfiles/config/i3/linux-config
</pre>

<p><code>linux-config</code> is then a specific configuration file for <a href="https://i3wm.org/">i3</a> which I only use on my Linux systems. This might be because the shortcut I use to run Firefox, starts Firefox in a <a href="https://wiki.archlinux.org/title/AppArmor">AppArmor</a> controlled <a href="https://wiki.archlinux.org/title/Firejail">Firejail</a>, which doesn&#39;t exist on FreeBSD. On FreeBSD I might use <a href="https://man.freebsd.org/cgi/man.cgi?capsicum(4)">Capsicum</a> to get a similar experience. Just as an example.</p>

<p>I have a couple of other subdirectories in the <code>$HOME/usr</code> directory besides the <code>dotfiles</code> directory, but those are not really relevant to mention in detail for this article (a directory for some outdated shell scripts, some wallpapers, etc.)</p>

<p><b>NOTE:</b> Configuration files (dotfiles) can be managed in many different ways. I have changed my approach a couple of times throughout the years. My preferred method is to <a href="https://www.unixdigest.com/tutorials/keeping-your-home-in-git.html">keep my $HOME in Git</a>. If you only run a single system or similar systems I can highly recommend the method I describe in the tutorial I have linked to.</p>

<p>The <code>data</code> and <code>edata</code> directories are the two main directories where I keep all my stuff. These two directories are ZFS datasets that run on a mirrored pool of disks that are separate from my root installation. I run both FreeBSD and several different Linux distributions on my main workstation and these each run on their own set of disks.</p>

<p>All of this could be setup in other ways too, but I prefer this setup. I can easily mount both <code>data</code> and <code>edata</code> from both FreeBSD and Linux.</p>

<p>The difference between <code>data</code> and <code>edata</code> is that <code>edata</code> is a ZFS native encrypted dataset.</p>

<p>By utilizing ZFS I regularly use snapshots and ZFS send and receive for easy backup to network storage. This can be done even without decrypting the encrypted dataset.</p>

<p>You could ask what the point is of having both an encryptet dataset and an unencryptet dataset, why not just put everything into the encryptet dataset?</p>

<p>The fact is that I would rather not have anything encryptet at all. Encryption is great for privacy, but it is an absolute horrible layer of complexity to put on top of an already complex layer of a filesystem and ZFS encryption is not without its bugs, see issues <a href="https://github.com/openzfs/zfs/issues/13533">13533</a> and <a href="https://github.com/openzfs/zfs/issues/14330">14330</a>.</p>

<p><b>TIP:</b> I highly recommend that you ALWAYS backup all your important data to multiple different storage solutions and locations - it&#39;s okay to be paranoid about important data.</p>

<p>In the <code>data</code> directory I have a few subdirectories:</p>

<pre>books
notes
source
</pre>

<p>The <code>books</code> directory contains books I have written or I am working on.</p>

<p>The <code>source</code> directory contains source code for various projects I work on.</p>

<p>The <code>notes</code> directory contains a huge amount of personal notes on everything from health to politics to computer related subjects. I write everything in pure text, mainly in Markdown or just without any special markup. Everything is structured according to category or subject and it looks like this (short version):</p>

<pre>data/notes/
  astronomy
  business
  electronics
  health
  it
  language
  ...
</pre>

<p>Each main subject also has a subdirectory called <code>files</code> which I use for stuff I find online related to the subject. Files in the <code>files</code> directory can be images, text, audio and video. If I only have a few files, I just dump them all in the <code>files</code> directory, but if I have a lot, I organize them further by putting them in the relevant categories.</p>

<p>Within each category of directory I might also keep a hidden subdirectory called <code>.outdated</code>. I use this hidden directory to put stuff away that is, well, outdated, but might still come in handy.</p>

<p>It then looks something like this:</p>

<pre>$ tree
.
└── data
    └── notes
        └── it
            └── operating-systems
                ├── freebsd
                │   ├── .outdated
                │   ├── files
                │   │   ├── audio
                │   │   ├── images
                │   │   ├── text
                │   │   │   └── why-we-migrated-away-from-y-at-foo.pdf
                │   │   └── video
                │   │       └── how-we-setup-y-at-z.mp4
                │   ├── how-to-do-x.md
                │   └── how-to-setup-y.md
                ├── linux
                └── openbsd
</pre>

<p>I always keep an exported shell variable that contains the location of my notes. That way I can easily link to any other document or external file from within my notes and use Vim to open the file (if it&#39;s a text document) by pressing <code>gf</code> or use Vim&#39;s build in ability to execute a shell command from within the document. I use that to view PDF files or play a video, etc.</p>

<p>In my notes I might have a Markdown link to a PDF file which looks like this:</p>

<pre>This is the [foo document]($NOTES/it/operating-systems/freebsd/files/text/foo.pdf) relevant for information about foo.</pre>

<p>When you have setup a default application for reading PDF files, then from within Vim you can just place the cursor on the filename and then press <code>gx</code> and Vim will open up the PDF file in the relevant PDF reader. Or you can copy and paste the path to the file and then open it with your PDF reader by typing ! from within Vim (I generally use <a href="https://mupdf.com/">MuPDF</a> or <a href="https://pwmt.org/projects/zathura/">zathura</a> for reading PDF documents):</p>

<pre>:!mupdf $NOTES/it/operating-systems/freebsd/files/text/foo.pdf</pre>

<p>This works for other applications as well, such as opening video with <a href="https://mpv.io/">mpv</a> or images with something like <a href="https://feh.finalrewind.org/">feh</a>.</p>

<p><b>NOTE:</b> Hyphen vs underscore in filenames and directory names?</p>

<p>As mentioned, I also keep an encrypted directory called <code>edata</code>. I do that because I believe that it&#39;s important to encrypt private stuff in case your computer gets stolen.</p>

<p><b>TIP:</b> Remember that if you use encryption for anything which other family members might need to be able to access in case you pass away, you need to make sure that they know how to do that!</p>

<p>The <code>edata</code> directory is organized in a similar fashion with &#34;categories&#34; being the main structure.</p>

<pre>documents
  \letters
    \foo
    \bar
  \receipts
\media
  \family
    \audio
    \photos
      \2022
      \2023
    \video
      \2022
      \2023
  \foo
    \photos
      \2022
      \2023
    \video
      \2023
\projects
  \foo
    \documents
      \email
      \letters
    \media
      \photos
        \2023
  \bar
  \baz
</pre>

<p>Subdirectories within <code>documents</code> and <code>projects</code> are further subdivided by categories depending on the relevant context.</p>

<p><b>TIP:</b> I have one basic rule which I implement regarding naming files and directories. The rule is this: I need to be able to easily determine what something is just by looking at the name.</p>

<p>If you stumble upon a file that you don&#39;t know what is just by looking at the name of the file, open the file immediately and see what it is and then rename it to something that makes better sense the next time you happen to look at the filename.</p>

<p>If you keep leaving files and directories in a mess, it quickly becomes very difficult to fix later.</p>

<p>I personally use long and descriptive file names whenever it&#39;s needed to keep me from having to open the file in order to determine what the file is about.</p>

<p>I have many times seen a mess like this in someones directory (I believe we have all been there at some point LOL):</p>

<pre>document.pdf
document2.pdf
document3.pdf
Document.pdf
document-new.pdf
new-new-document.pdf
new-new-new-document.pdf
old-document.pdf
...
</pre>

<p>If you&#39;re new to working with files and directories, you will most likely change your structure and setup more than once - don&#39;t worry about it, that&#39;s normal, it means you&#39;re evolving and improving your setup :)</p>

<p>Last, but not least, I don&#39;t keep old data lying around forever. When I am sure something isn&#39;t useful any longer, I delete it.</p>

</article></div>
  </body>
</html>
