<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/sabledb-io/sabledb">Original</a>
    <h1>SableDb â€“ Fast, persistent database supporting Redis API</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><code>SableDb</code> is a key-value NoSQL database that utilizes <a href="https://rocksdb.org/" rel="nofollow"><code>RocksDb</code></a> as its storage engine and is compatible with the Redis protocol.
It aims to reduce memory costs and increase capacity compared to Redis. <code>SableDb</code> features include Redis-compatible access via
any Redis client, up to 64K databases support, asynchronous replication using transaction log tailing and TLS connectivity support.</p>
<p dir="auto">Oh, and it&#39;s written in <code>Rust</code> :)</p>

<p dir="auto"><code>SableDb</code> is supported on all major OS: <code>Linux</code>, <code>macOS</code> and <code>Windows</code></p>

<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/sabledb-io/sabledb.git
cd sabledb
cargo build --release
cargo test --release"><pre>git clone https://github.com/sabledb-io/sabledb.git
<span>cd</span> sabledb
cargo build --release
cargo <span>test</span> --release</pre></div>

<p dir="auto">On Windows, we require <code>MSYS2</code> terminal for building <code>SableDb</code>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/sabledb-io/sabledb.git
cd sabledb
CFLAGS=&#34;-D_ISOC11_SOURCE&#34; cargo build --release
cargo test --release"><pre>git clone https://github.com/sabledb-io/sabledb.git
<span>cd</span> sabledb
CFLAGS=<span><span>&#34;</span>-D_ISOC11_SOURCE<span>&#34;</span></span> cargo build --release
cargo <span>test</span> --release</pre></div>


<p dir="auto">Usage:</p>
<div dir="auto" data-snippet-clipboard-copy-content="$target/release/sabledb [sabledb.ini]"><pre><span>$target</span>/release/sabledb [sabledb.ini]</pre></div>

<ul dir="auto">
<li>Persistent data using RocksDb - use <code>SableDb</code> as a persistent storage using <code>Redis</code>&#39;s API</li>
<li>TLS connections</li>
<li>Replication using tailing of the transaction log</li>
<li>Highly configurable, but comes with sensible default values</li>
<li>Use the <code>sb</code> command line utility (<code>target/release/sb</code>) for performance testing</li>
</ul>

<p dir="auto"><code>SableDb</code> uses its own benchmarking tool named <code>sb</code> (&#34;SableDb Benchmark&#34;). <code>sb</code> supports the following commands:</p>
<ul dir="auto">
<li><code>set</code></li>
<li><code>get</code></li>
<li><code>lpush</code></li>
<li><code>lpop</code></li>
<li><code>rpush</code></li>
<li><code>rpop</code></li>
<li><code>incr</code></li>
<li><code>ping</code></li>
</ul>
<p dir="auto">Run <code>sb --help</code> to get the full help message.</p>
<p dir="auto">Below is a simple ( <code>ping</code> ) test conducted locally using WSL2 on Windows 10 (same machine is running both <code>SableDb</code> and <code>sb</code>...):</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://bytes.zone/sabledb-io/sabledb/blob/main/docs/images/sb-demo.gif"><img src="https://bytes.zone/sabledb-io/sabledb/raw/main/docs/images/sb-demo.gif" alt="sb progress demo" data-animated-image=""/></a></p>
<p dir="auto"><code>set</code> test, on the same setup (local machine, WSL2 on Windows 10):</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://bytes.zone/sabledb-io/sabledb/blob/main/docs/images/sb-demo-set.gif"><img src="https://bytes.zone/sabledb-io/sabledb/raw/main/docs/images/sb-demo-set.gif" alt="sb set progress demo" data-animated-image=""/></a></p>

<hr/>

<table>
<thead>
<tr>
<th>Command</th>
<th>Supported</th>
<th>Fully supported?</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>append</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>decr</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>decrby</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>get</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>getdel</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>getex</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>getrange</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>getset</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>incr</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>incrby</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>incrbyfloat</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>lcs</td>
<td>âœ“</td>
<td>ðŸ—™</td>
<td>Does not support: <code>IDX</code>, <code>MINMATCHLEN</code> and <code>WITHMATCHLEN</code></td>
</tr>
<tr>
<td>mget</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>mset</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>msetnx</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>psetex</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>set</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>setex</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>setnx</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>setrange</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>strlen</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>substr</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr>
<th>Command</th>
<th>Supported</th>
<th>Fully supported?</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>blmove</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>blmpop</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>blpop</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>brpop</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>brpoplpush</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>lindex</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>linsert</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>llen</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>lmove</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>lmpop</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>lpop</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>lpos</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>lpush</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>lpushx</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>lrange</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>lrem</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>lset</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>ltrim</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>rpop</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>rpoplpush</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>rpush</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>rpushx</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr>
<th>Command</th>
<th>Supported</th>
<th>Fully supported?</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>del</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>ttl</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr>
<th>Command</th>
<th>Supported</th>
<th>Fully supported?</th>
<th>Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td>info</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>client id</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>select</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
<tr>
<td>ping</td>
<td>âœ“</td>
<td>âœ“</td>
<td></td>
</tr>
</tbody>
</table>


<table>
<thead>
<tr>
<th>Payload size (bytes)</th>
<th>rps</th>
<th>p50 (ms)</th>
<th>p90 (ms)</th>
<th>p99 (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>64</td>
<td>448K</td>
<td>1.127</td>
<td>1.279</td>
<td>1.423</td>
</tr>
<tr>
<td>128</td>
<td>420K</td>
<td>1.199</td>
<td>1.375</td>
<td>1.551</td>
</tr>
<tr>
<td>256</td>
<td>363K</td>
<td>1.375</td>
<td>1.567</td>
<td>1.799</td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr>
<th>Payload size (bytes)</th>
<th>rps</th>
<th>p50 (ms)</th>
<th>p90 (ms)</th>
<th>p99 (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>64</td>
<td>950K</td>
<td>0.495</td>
<td>0.671</td>
<td>1.087</td>
</tr>
<tr>
<td>128</td>
<td>907K</td>
<td>0.511</td>
<td>0.695</td>
<td>1.111</td>
</tr>
<tr>
<td>256</td>
<td>905K</td>
<td>0.519</td>
<td>0.711</td>
<td>1.119</td>
</tr>
</tbody>
</table>

<p dir="auto">Note: Each <code>mset</code> command is equivalent of <code>10</code> <code>set</code> commands</p>
<table>
<thead>
<tr>
<th>Payload size (bytes)</th>
<th>rps</th>
<th>p50 (ms)</th>
<th>p90 (ms)</th>
<th>p99 (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>64</td>
<td>116K</td>
<td>3.8</td>
<td>4.6</td>
<td>6.3</td>
</tr>
<tr>
<td>128</td>
<td>72K</td>
<td>6.375</td>
<td>7.039</td>
<td>54.111</td>
</tr>
<tr>
<td>256</td>
<td>41.5K</td>
<td>0.432</td>
<td>7.279</td>
<td>226.943</td>
</tr>
</tbody>
</table>

<p dir="auto">The increment command is unique because it uses a &#34;read-modify-update&#34; in order to ensure the atomicity of the action which in a
multi-threaded environment causes a challenge</p>
<table>
<thead>
<tr>
<th>Payload size (bytes)</th>
<th>rps</th>
<th>p50 (ms)</th>
<th>p90 (ms)</th>
<th>p99 (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>N/A</td>
<td>443K</td>
<td>1.127</td>
<td>1.295</td>
<td>1.383</td>
</tr>
</tbody>
</table>
<div dir="auto"><h3 tabindex="-1" dir="auto">Network only (<code>ping</code> command)</h3><a id="user-content-network-only-ping-command" aria-label="Permalink: Network only (ping command)" href="#network-only-ping-command"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<table>
<thead>
<tr>
<th>Command</th>
<th>rps</th>
<th>pipeline</th>
<th>p50 (ms)</th>
<th>p90 (ms)</th>
<th>p99 (ms)</th>
</tr>
</thead>
<tbody>
<tr>
<td>ping_inline</td>
<td>1.05M</td>
<td>1</td>
<td>0.407</td>
<td>0.775</td>
<td>1.143</td>
</tr>
<tr>
<td>ping_inline</td>
<td>6.65M</td>
<td>20</td>
<td>0.855</td>
<td>1.551</td>
<td>1.815</td>
</tr>
<tr>
<td>ping_mbulk</td>
<td>1.05M</td>
<td>1</td>
<td>0.399</td>
<td>0.727</td>
<td>1.127</td>
</tr>
<tr>
<td>ping_mbulk</td>
<td>7.96M</td>
<td>20</td>
<td>0.807</td>
<td>1.471</td>
<td>1.711</td>
</tr>
</tbody>
</table>
<hr/>
<p dir="auto">Command executions can be seen <a href="https://github.com/sabledb-io/sabledb/blob/main/BENCHMARK.md">here</a></p>
</article></div></div>
  </body>
</html>
