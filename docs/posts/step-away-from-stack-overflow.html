<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://elisabethirgens.github.io/notes/2021/12/step-away/">Original</a>
    <h1>Step Away from Stack Overflow</h1>
    
    <div id="readability-page-1" class="page"><div>
      <div>
<article>
  
  <div><p>Sometimes I get lost in the programming equivalent of throwing stuff at the wall to see what sticks. After some time with no progress in figuring out what sticks, it‚Äôs time to step away from that approach. I can typically see that it boils down to not being confident in what I am searching for ‚Äî and/or ‚Äî not quite understanding the examples I find, trying to find some kind of shortcut to <em>just get my code working</em> by copy pasta-ing random bits of spagetti and crossing my fingers. Stop. There‚Äôs a better way.</p>
<p>I‚Äôm currently working on <a href="https://cs50.harvard.edu/x/2021/psets/9/finance/">the finance app for week 9 of CS50</a>. Python in Flask with SQLite. The response from my database contains stock symbols, current values in USD, long company names, and random numbers of shares I ‚Äúbought‚Äù while clicking through the UI. Great! But not helping me when focusing in on a Python thing I can‚Äôt get working.</p>
<h2>Reduce the problem to it&#39;s simplest form</h2>
<pre><code></code></pre>
<p>Looking at this distilled version of what I am trying to do, is very different from looking at the code in my application. I have limited Python chops, so let‚Äôs dig deeper on what is what.</p>
<h2>Get crystal clear on the syntax</h2>
<ul>
<li><code>mylist = []</code> is a <a href="https://realpython.com/python-data-structures/#list-mutable-dynamic-arrays">list</a> üëÄ</li>
<li><code>{&#39;thing&#39;: &#39;A&#39;, &#39;count&#39;: 10}</code> is a <a href="https://realpython.com/python-data-structures/#dict-your-go-to-dictionary">dictionary</a> üëÄ</li>
<li><code>&#39;thing&#39;</code> is a key and <code>&#39;A&#39;</code> is a value</li>
</ul>
<blockquote>
<p>dictionaries (or dicts for short) are a central data structure. Dicts store an arbitrary number of objects, each identified by a unique dictionary key.</p>
</blockquote>
<blockquote>
<p>Lists are a part of the core Python language. Despite their name, Python‚Äôs lists are implemented as dynamic arrays behind the scenes. This means a list allows elements to be added or removed, and the list will automatically adjust the backing store that holds these elements by allocating or releasing memory. Python lists can hold arbitrary elements ‚Äî everything is an object in Python.</p>
</blockquote>
<p>I could probably spend days studying this, like what is all this list comprehension I come across? A lot of the so-called elegant examples I find online, are just not readable to me yet. Let‚Äôs crack open a terminal and run <code>python3</code> to poke more at what I do understand.</p>
<h2>Play around with isolated code in a terminal</h2>
<pre><code><span>&gt;&gt;</span><span>&gt;</span> mylist <span>=</span> <span>[</span><span>{</span><span>&#39;thing&#39;</span><span>:</span> <span>&#39;A&#39;</span><span>,</span> <span>&#39;count&#39;</span><span>:</span> <span>4</span><span>}</span><span>,</span> <span>{</span><span>&#39;thing&#39;</span><span>:</span> <span>&#39;B&#39;</span><span>,</span> <span>&#39;count&#39;</span><span>:</span> <span>2</span><span>}</span><span>,</span> <span>{</span><span>&#39;thing&#39;</span><span>:</span> <span>&#39;A&#39;</span><span>,</span> <span>&#39;count&#39;</span><span>:</span> <span>6</span><span>}</span><span>]</span></code></pre>
<p>Seeing that makes me think that a previous spagetti on the wall attempt was to access keys in different dictionaries as if they were in the same dictionary. They are not. ü§î But ok, my simplest loop is looping fine and checking for a specific value:</p>
<pre><code><span>&gt;&gt;</span><span>&gt;</span> <span>for</span> item <span>in</span> mylist<span>:</span></code></pre>
<p>So far so good. But can I add up the counts?</p>
<pre><code><span>&gt;&gt;</span><span>&gt;</span> <span>for</span> item <span>in</span> mylist<span>:</span></code></pre>
<p>Right. That will double each of the values individually, not add them to each other like I want. Which is also something I was messing up inside the app code, but here in isolation it is less confusing to me.</p>
<h2>Write up specific pseudo code</h2>
<pre><code>make an empty new list
loop though each item in my list
    if the current item‚Äôs key is a first
        append item to new list
    else (if new list already has an item with this key)
        add item&#39;s value to it&#39;s matched key item&#39;s value
</code></pre>
<p>I found itemgetter. It needs to be imported, so not sure how to run this part in a terminal, but I can see in my actual app that this if-statement works nicely:</p>
<pre><code>newlist <span>=</span> <span>[</span><span>]</span></code></pre>
<p>So‚Ä¶ the <code>else</code> will handle the third time through the loop, the <code>{&#39;thing&#39;: &#39;A&#39;, &#39;count&#39;: 6}</code> should not be added to the new list, only update the count of the A already in the new list. Can I do that if I get the index of the other dictionary with thing A? üßê</p>
<h2>Take naive steps in the right direction</h2>
<pre><code><span>&gt;&gt;</span><span>&gt;</span> mylist <span>=</span> <span>[</span><span>{</span><span>&#39;thing&#39;</span><span>:</span> <span>&#39;A&#39;</span><span>,</span> <span>&#39;count&#39;</span><span>:</span> <span>4</span><span>}</span><span>,</span> <span>{</span><span>&#39;thing&#39;</span><span>:</span> <span>&#39;B&#39;</span><span>,</span> <span>&#39;count&#39;</span><span>:</span> <span>2</span><span>}</span><span>,</span> <span>{</span><span>&#39;thing&#39;</span><span>:</span> <span>&#39;A&#39;</span><span>,</span> <span>&#39;count&#39;</span><span>:</span> <span>6</span><span>}</span><span>]</span></code></pre>
<p>This builds up the new list I want. With some very silly hacky workarounds, so let‚Äôs try to loose those.</p>
<p>The <code>if index != 2</code> statement can be solved with the itemgetter I used previously. So omg the only hack left to shed is where I am using <code>newlist[0][&#39;count&#39;]</code>. How to update that count value without knowing the index of that other dictionary in the new list? Can I loop thought the new list‚Ä¶?!</p>
<pre><code></code></pre>
<pre><code>newlist <span>=</span> <span>[</span><span>]</span></code></pre>
<p>Yup. This looks awful ‚Äî and is error prone and slow and probably wins some kind of award for being unPythonic ‚Äî but it works. And I wrote it and I can read it. üí™ We can improve tomorrow.</p>
<pre><code></code></pre>
</div>
</article>
</div>
    </div></div>
  </body>
</html>
