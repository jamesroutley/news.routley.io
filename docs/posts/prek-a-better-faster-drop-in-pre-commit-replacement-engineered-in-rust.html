<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/j178/prek">Original</a>
    <h1>Prek: A better, faster, drop-in pre-commit replacement, engineered in Rust</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">

<p dir="auto"><a href="https://pre-commit.com/" rel="nofollow">pre-commit</a> is a framework to run hooks written in many languages, and it manages the
language toolchain and dependencies for running the hooks.</p>
<p dir="auto"><em>prek</em> is a reimagined version of pre-commit, built in Rust.
It is designed to be a faster, dependency-free and drop-in alternative for it,
while also providing some additional long-requested features.</p>

<div dir="auto"><p dir="auto"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p><p dir="auto">Although prek is pretty new, it‚Äôs already powering real‚Äëworld projects like <a href="https://github.com/python/cpython">CPython</a>, <a href="https://github.com/apache/airflow">Apache Airflow</a>, <a href="https://github.com/fastapi/fastapi">FastAPI</a>, and more projects are picking it up‚Äîsee <a href="#who-is-using-prek">Who is using prek?</a>. If you‚Äôre looking for an alternative to <code>pre-commit</code>, please give it a try‚Äîwe‚Äôd love your feedback!</p>
<p dir="auto">Please note that some languages are not yet supported for full drop‚Äëin parity with <code>pre-commit</code>. See <a href="https://prek.j178.dev/languages/" rel="nofollow">Language Support</a> for current status.</p>
</div>


<ul dir="auto">
<li>üöÄ A single binary with no dependencies, does not require Python or any other runtime.</li>
<li>‚ö° <a href="https://prek.j178.dev/benchmark/" rel="nofollow">Faster</a> than <code>pre-commit</code> and more efficient in disk space usage.</li>
<li>üîÑ Fully compatible with the original pre-commit configurations and hooks.</li>
<li>üèóÔ∏è Built-in support for monorepos (i.e. <a href="https://prek.j178.dev/workspace/" rel="nofollow">workspace mode</a>).</li>
<li>üêç Integration with <a href="https://github.com/astral-sh/uv"><code>uv</code></a> for managing Python virtual environments and dependencies.</li>
<li>üõ†Ô∏è Improved toolchain installations for Python, Node.js, Bun, Go, Rust and Ruby, shared between hooks.</li>
<li>üì¶ <a href="https://prek.j178.dev/builtin/" rel="nofollow">Built-in</a> Rust-native implementation of some common hooks.</li>
</ul>


<ul dir="auto">
<li><a href="#installation">Installation</a></li>
<li><a href="#quick-start">Quick start</a></li>
<li><a href="#why-prek">Why prek?</a></li>
<li><a href="#who-is-using-prek">Who is using prek?</a></li>
<li><a href="#acknowledgements">Acknowledgements</a></li>
</ul>

<details>
<summary>Standalone installer</summary>
<p dir="auto">prek provides a standalone installer script to download and install the tool,</p>
<p dir="auto">On Linux and macOS:</p>

<div dir="auto" data-snippet-clipboard-copy-content="curl --proto &#39;=https&#39; --tlsv1.2 -LsSf https://github.com/j178/prek/releases/download/v0.3.1/prek-installer.sh | sh"><pre>curl --proto <span><span>&#39;</span>=https<span>&#39;</span></span> --tlsv1.2 -LsSf https://github.com/j178/prek/releases/download/v0.3.1/prek-installer.sh <span>|</span> sh</pre></div>

<p dir="auto">On Windows:</p>

<div dir="auto" data-snippet-clipboard-copy-content="powershell -ExecutionPolicy ByPass -c &#34;irm https://github.com/j178/prek/releases/download/v0.3.1/prek-installer.ps1 | iex&#34;"><pre>powershell <span>-</span>ExecutionPolicy ByPass <span>-</span>c <span><span>&#34;</span>irm https://github.com/j178/prek/releases/download/v0.3.1/prek-installer.ps1 | iex<span>&#34;</span></span></pre></div>

</details>
<details>
<summary>PyPI</summary>

<p dir="auto">prek is published as Python binary wheel to PyPI, you can install it using <code>pip</code>, <code>uv</code> (recommended), or <code>pipx</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Using uv (recommended)
uv tool install prek

# Using uvx (install and run in one command)
uvx prek

# Adding prek to the project dev-dependencies
uv add --dev prek

# Using pip
pip install prek

# Using pipx
pipx install prek"><pre><span><span>#</span> Using uv (recommended)</span>
uv tool install prek

<span><span>#</span> Using uvx (install and run in one command)</span>
uvx prek

<span><span>#</span> Adding prek to the project dev-dependencies</span>
uv add --dev prek

<span><span>#</span> Using pip</span>
pip install prek

<span><span>#</span> Using pipx</span>
pipx install prek</pre></div>

</details>
<details>
<summary>Homebrew</summary>



</details>
<details>
<summary>mise</summary>

<p dir="auto">To use prek with <a href="https://mise.jdx.dev" rel="nofollow">mise</a> (<a href="https://github.com/jdx/mise/releases/tag/v2025.8.11">v2025.8.11</a> or later):</p>


</details>
<details>
<summary>Cargo binstall</summary>

<p dir="auto">Install pre-compiled binaries from GitHub using <a href="https://github.com/cargo-bins/cargo-binstall">cargo-binstall</a>:</p>


</details>
<details>
<summary>Cargo</summary>

<p dir="auto">Build from source using Cargo (Rust 1.89+ is required):</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo install --locked prek"><pre>cargo install --locked prek</pre></div>

</details>
<details>
<summary>npmjs</summary>

<p dir="auto">prek is published as a <a href="https://www.npmjs.com/package/@j178/prek" rel="nofollow">Node.js package</a>
and can be installed with any npm-compatible package manager:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# As a dev dependency
npm add -D @j178/prek
pnpm add -D @j178/prek
bun add -D @j178/prek

# Or install globally
npm install -g @j178/prek
pnpm add -g @j178/prek
bun install -g @j178/prek

# Or run directly without installing
npx @j178/prek --version
bunx @j178/prek --version"><pre><span><span>#</span> As a dev dependency</span>
npm add -D @j178/prek
pnpm add -D @j178/prek
bun add -D @j178/prek

<span><span>#</span> Or install globally</span>
npm install -g @j178/prek
pnpm add -g @j178/prek
bun install -g @j178/prek

<span><span>#</span> Or run directly without installing</span>
npx @j178/prek --version
bunx @j178/prek --version</pre></div>

</details>
<details>
<summary>Nix</summary>

<p dir="auto">prek is available via <a href="https://search.nixos.org/packages?channel=unstable&amp;show=prek&amp;query=prek" rel="nofollow">Nixpkgs</a>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Choose what&#39;s appropriate for your use case.
# One-off in a shell:
nix-shell -p prek

# NixOS or non-NixOS without flakes:
nix-env -iA nixos.prek

# Non-NixOS with flakes:
nix profile install nixpkgs#prek"><pre><span><span>#</span> Choose what&#39;s appropriate for your use case.</span>
<span><span>#</span> One-off in a shell:</span>
nix-shell -p prek

<span><span>#</span> NixOS or non-NixOS without flakes:</span>
nix-env -iA nixos.prek

<span><span>#</span> Non-NixOS with flakes:</span>
nix profile install nixpkgs#prek</pre></div>

</details>
<details>
<summary>Conda</summary>

<p dir="auto">prek is available as <code>prek</code> via <a href="https://anaconda.org/conda-forge/prek" rel="nofollow">conda-forge</a>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="conda install conda-forge::prek"><pre>conda install conda-forge::prek</pre></div>

</details>
<details>
<summary>Scoop (Windows)</summary>

<p dir="auto">prek is available via <a href="https://scoop.sh/#/apps?q=prek" rel="nofollow">Scoop</a>.</p>


</details>
<details>
<summary>MacPorts</summary>

<p dir="auto">prek is available via <a href="https://ports.macports.org/port/prek/" rel="nofollow">MacPorts</a>.</p>


</details>
<details>
<summary>GitHub Releases</summary>

<p dir="auto">Pre-built binaries are available for download from the <a href="https://github.com/j178/prek/releases">GitHub releases</a> page.</p>

</details>
<details>
<summary>GitHub Actions</summary>

<p dir="auto">prek can be used in GitHub Actions via the <a href="https://github.com/j178/prek-action">j178/prek-action</a> repository.</p>
<p dir="auto">Example workflow:</p>
<div dir="auto" data-snippet-clipboard-copy-content="name: Prek checks
on: [push, pull_request]

jobs:
  prek:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      - uses: j178/prek-action@v1"><pre><span>name</span>: <span>Prek checks</span>
<span>on</span>: <span>[push, pull_request]</span>

<span>jobs</span>:
  <span>prek</span>:
    <span>runs-on</span>: <span>ubuntu-latest</span>
    <span>steps</span>:
      - <span>uses</span>: <span>actions/checkout@v6</span>
      - <span>uses</span>: <span>j178/prek-action@v1</span></pre></div>
<p dir="auto">This action installs prek and runs <code>prek run --all-files</code> on your repository.</p>
<p dir="auto">prek is also available via <a href="https://github.com/taiki-e/install-action"><code>taiki-e/install-action</code></a> for installing various tools.</p>

</details>

<p dir="auto">If installed via the standalone installer, prek can update itself to the latest version:</p>



<ul dir="auto">
<li><strong>I already use pre-commit:</strong> follow the short migration checklist in the <a href="https://prek.j178.dev/quickstart/#already-using-pre-commit" rel="nofollow">quickstart guide</a> to swap in <code>prek</code> safely.</li>
<li><strong>I&#39;m new to pre-commit-style tools:</strong> learn the basics‚Äîcreating a config, running hooks, and installing git hooks‚Äîin the <a href="https://prek.j178.dev/quickstart/#new-to-pre-commit-style-workflows" rel="nofollow">beginner quickstart walkthrough</a>.</li>
</ul>



<ul dir="auto">
<li>It is <a href="https://prek.j178.dev/benchmark/" rel="nofollow">multiple times faster</a> than <code>pre-commit</code> and takes up half the disk space.</li>
<li>It redesigned how hook environments and toolchains are managed, they are all shared between hooks, which reduces the disk space usage and speeds up the installation process.</li>
<li>Repositories are cloned in parallel, and hooks are installed in parallel if their dependencies are disjoint.</li>
<li>Hooks can run in parallel by priority (hooks with the same <a href="https://prek.j178.dev/configuration/#priority" rel="nofollow"><code>priority</code></a> may run concurrently), reducing end-to-end runtime.</li>
<li>It uses <a href="https://github.com/astral-sh/uv"><code>uv</code></a> for creating Python virtualenvs and installing dependencies, which is known for its speed and efficiency.</li>
<li>It implements some common hooks in Rust, <a href="https://prek.j178.dev/builtin/" rel="nofollow">built in prek</a>, which are faster than their Python counterparts.</li>
<li>It supports <code>repo: builtin</code> for offline, zero-setup hooks, which is not available in <code>pre-commit</code>.</li>
</ul>
<div dir="auto"><h3 tabindex="-1" dir="auto">prek provides a better user experience</h3><a id="user-content-prek-provides-a-better-user-experience" aria-label="Permalink: prek provides a better user experience" href="#prek-provides-a-better-user-experience"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>No need to install Python or any other runtime, just download a single binary.</li>
<li>No hassle with your Python version or virtual environments, prek automatically installs the required Python version and creates a virtual environment for you.</li>
<li>Built-in support for <a href="https://prek.j178.dev/workspace/" rel="nofollow">workspaces</a> (or monorepos), each subproject can have its own <code>.pre-commit-config.yaml</code> file.</li>
<li><a href="https://prek.j178.dev/cli/#prek-run" rel="nofollow"><code>prek run</code></a> has some nifty improvements over <code>pre-commit run</code>, such as:
<ul dir="auto">
<li><code>prek run --directory &lt;dir&gt;</code> runs hooks for files in the specified directory, no need to use <code>git ls-files -- &lt;dir&gt; | xargs pre-commit run --files</code> anymore.</li>
<li><code>prek run --last-commit</code> runs hooks for files changed in the last commit.</li>
<li><code>prek run [HOOK] [HOOK]</code> selects and runs multiple hooks.</li>
</ul>
</li>
<li><a href="https://prek.j178.dev/cli/#prek-list" rel="nofollow"><code>prek list</code></a> command lists all available hooks, their ids, and descriptions, providing a better overview of the configured hooks.</li>
<li><a href="https://prek.j178.dev/cli/#prek-auto-update" rel="nofollow"><code>prek auto-update</code></a> supports <code>--cooldown-days</code> to mitigate open source supply chain attacks.</li>
<li>prek provides shell completions for <code>prek run &lt;hook_id&gt;</code> command, making it easier to run specific hooks without remembering their ids.</li>
</ul>
<p dir="auto">For more detailed improvements prek offers, take a look at <a href="https://prek.j178.dev/diff/" rel="nofollow">Difference from pre-commit</a>.</p>

<p dir="auto">prek is pretty new, but it is already being used or recommend by some projects and organizations:</p>
<ul dir="auto">
<li><a href="https://github.com/apache/airflow/issues/44995" data-hovercard-type="issue" data-hovercard-url="/apache/airflow/issues/44995/hovercard">apache/airflow</a></li>
<li><a href="https://github.com/python/cpython/issues/143148" data-hovercard-type="issue" data-hovercard-url="/python/cpython/issues/143148/hovercard">python/cpython</a></li>
<li><a href="https://github.com/pdm-project/pdm/pull/3593" data-hovercard-type="pull_request" data-hovercard-url="/pdm-project/pdm/pull/3593/hovercard">pdm-project/pdm</a></li>
<li><a href="https://github.com/fastapi/fastapi/pull/14572" data-hovercard-type="pull_request" data-hovercard-url="/fastapi/fastapi/pull/14572/hovercard">fastapi/fastapi</a></li>
<li><a href="https://github.com/fastapi/typer/pull/1453" data-hovercard-type="pull_request" data-hovercard-url="/fastapi/typer/pull/1453/hovercard">fastapi/typer</a></li>
<li><a href="https://github.com/fastapi/asyncer/pull/437" data-hovercard-type="pull_request" data-hovercard-url="/fastapi/asyncer/pull/437/hovercard">fastapi/asyncer</a></li>
<li><a href="https://github.com/astral-sh/ruff/pull/22505" data-hovercard-type="pull_request" data-hovercard-url="/astral-sh/ruff/pull/22505/hovercard">astral-sh/ruff</a></li>
<li><a href="https://github.com/astral-sh/ty/pull/2469" data-hovercard-type="pull_request" data-hovercard-url="/astral-sh/ty/pull/2469/hovercard">astral-sh/ty</a></li>
<li><a href="https://github.com/openclaw/openclaw/pull/1720" data-hovercard-type="pull_request" data-hovercard-url="/openclaw/openclaw/pull/1720/hovercard">openclaw/openclaw</a></li>
<li><a href="https://github.com/home-assistant/core/pull/160427" data-hovercard-type="pull_request" data-hovercard-url="/home-assistant/core/pull/160427/hovercard">home-assistant/core</a></li>
<li><a href="https://github.com/DetachHead/basedpyright/pull/1413" data-hovercard-type="pull_request" data-hovercard-url="/DetachHead/basedpyright/pull/1413/hovercard">DetachHead/basedpyright</a></li>
<li><a href="https://github.com/OpenLineage/OpenLineage/pull/3965" data-hovercard-type="pull_request" data-hovercard-url="/OpenLineage/OpenLineage/pull/3965/hovercard">OpenLineage/OpenLineage</a></li>
<li><a href="https://github.com/authlib/authlib/pull/804" data-hovercard-type="pull_request" data-hovercard-url="/authlib/authlib/pull/804/hovercard">authlib/authlib</a></li>
<li><a href="https://github.com/django/djangoproject.com/pull/2252" data-hovercard-type="pull_request" data-hovercard-url="/django/djangoproject.com/pull/2252/hovercard">django/djangoproject.com</a></li>
<li><a href="https://github.com/Future-House/paper-qa/pull/1098" data-hovercard-type="pull_request" data-hovercard-url="/Future-House/paper-qa/pull/1098/hovercard">Future-House/paper-qa</a></li>
<li><a href="https://github.com/requests-cache/requests-cache/pull/1116" data-hovercard-type="pull_request" data-hovercard-url="/requests-cache/requests-cache/pull/1116/hovercard">requests-cache/requests-cache</a></li>
<li><a href="https://github.com/Goldziher/kreuzberg/pull/142" data-hovercard-type="pull_request" data-hovercard-url="/kreuzberg-dev/kreuzberg/pull/142/hovercard">Goldziher/kreuzberg</a></li>
<li><a href="https://github.com/python-attrs/attrs/commit/c95b177682e76a63478d29d040f9cb36a8d31915">python-attrs/attrs</a></li>
<li><a href="https://github.com/jlowin/fastmcp/pull/2309" data-hovercard-type="pull_request" data-hovercard-url="/jlowin/fastmcp/pull/2309/hovercard">jlowin/fastmcp</a></li>
<li><a href="https://github.com/apache/iceberg-python/pull/2533" data-hovercard-type="pull_request" data-hovercard-url="/apache/iceberg-python/pull/2533/hovercard">apache/iceberg-python</a></li>
<li><a href="https://github.com/apache/lucene/pull/15629" data-hovercard-type="pull_request" data-hovercard-url="/apache/lucene/pull/15629/hovercard">apache/lucene</a></li>
<li><a href="https://github.com/jcrist/msgspec/pull/918" data-hovercard-type="pull_request" data-hovercard-url="/jcrist/msgspec/pull/918/hovercard">jcrist/msgspec</a></li>
<li><a href="https://github.com/python-humanize/humanize/pull/276" data-hovercard-type="pull_request" data-hovercard-url="/python-humanize/humanize/pull/276/hovercard">python-humanize/humanize</a></li>
<li><a href="https://github.com/MoonshotAI/kimi-cli/pull/535" data-hovercard-type="pull_request" data-hovercard-url="/MoonshotAI/kimi-cli/pull/535/hovercard">MoonshotAI/kimi-cli</a></li>
<li><a href="https://github.com/simple-icons/simple-icons/pull/14245" data-hovercard-type="pull_request" data-hovercard-url="/simple-icons/simple-icons/pull/14245/hovercard">simple-icons/simple-icons</a></li>
<li><a href="https://github.com/ast-grep/ast-grep.github.io/commit/e30818144b2967a7f9172c8cf2f4596bba219bf5">ast-grep/ast-grep</a></li>
<li><a href="https://github.com/commitizen-tools/commitizen">commitizen-tools/commitizen</a></li>
<li><a href="https://github.com/cocoindex-io/cocoindex/pull/1564" data-hovercard-type="pull_request" data-hovercard-url="/cocoindex-io/cocoindex/pull/1564/hovercard">cocoindex-io/cocoindex</a></li>
<li><a href="https://github.com/cachix/devenv/pull/2304" data-hovercard-type="pull_request" data-hovercard-url="/cachix/devenv/pull/2304/hovercard">cachix/devenv</a></li>
</ul>


<p dir="auto">This project is heavily inspired by the original <a href="https://pre-commit.com/" rel="nofollow">pre-commit</a> tool, and it wouldn&#39;t be possible without the hard work
of the maintainers and contributors of that project.</p>
<p dir="auto">And a special thanks to the <a href="https://github.com/astral-sh">Astral</a> team for their remarkable projects, particularly <a href="https://github.com/astral-sh/uv">uv</a>,
from which I&#39;ve learned a lot on how to write efficient and idiomatic Rust code.</p>
</article></div></div>
  </body>
</html>
