<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://herbsutter.com/2023/10/09/my-new-cppcon-talk-is-on-youtube-cooperative-c-evolution-toward-a-typescript-for-c/">Original</a>
    <h1>Toward a TypeScript for C&#43;&#43;&#34;</h1>
    
    <div id="readability-page-1" class="page"><div>
		
<p>My Thursday CppCon talk is now online.</p>



<blockquote>
<p>Note: There’s <a href="https://www.reddit.com/r/cpp/comments/171o3q9/cooperative_c_evolution_toward_a_typescript_for_c/">already a Reddit thread for it</a>, so if you want to comment on the video I suggest you use that thread instead of creating a new one.</p>
</blockquote>



<p>At CppCon 2022, I argued for why we should try to <a href="https://herbsutter.com/2022/09/19/my-cppcon-2022-talk-is-online-can-c-be-10x-simpler-safer/">make C++ 10x simpler and 50x safer</a>, and this update is an evolution of the update talk I gave at C++ Now in May, with additional news and demos.</p>



<figure><p><span><iframe width="1100" height="619" src="https://www.youtube.com/embed/8U3hl8XMm8c?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en&amp;autohide=2&amp;wmode=transparent&amp;listType=playlist&amp;list=PLHTh1InhhwT7gQEuYznhhvAYTel0qzl72" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation allow-popups-to-escape-sandbox"></iframe></span>
</p></figure>



<h2>The “Dart plan” and the “TypeScript plan”</h2>



<p>The back half of this talk clearly distinguishes between what I call the “Dart plan” and the “TypeScript plan” for aiming at a 10x improvement for an incumbent popular language. Both plans have value, but they have different priorities and therefore choose different constraints… most of all, they either embrace up-front the design constraint of <em>perfect C++ interop and ecosystem compatibility</em>, or they forgo it (forever; as I argue in the talk, it can never be achieved retroactively, except by starting over, because it’s a fundamental up-front constraint). No one else has tried the TypeScript plan for C++ yet, and I see value in trying it, and so that’s the plan I’m following for cppfront.</p>



<p>When people ask me “how is cppfront different from all the other projects trying to improve/replace C++?” my answer is “cppfront is on the TypeScript plan.” All the other past and present projects have been on the Dart plan, which again is a fine plan too, it just has different priorities and tradeoffs particularly around</p>



<ul>
<li><strong>full seamless interop compatibility</strong> with ISO Standard C++ code and libraries without any wrapping/thunking/marshaling, </li>



<li><strong>full ecosystem compatibility </strong>with all of today’s C++ compilers, IDEs, build systems, and tooling, and</li>



<li><strong>full standards evolution support </strong>with ISO C++, including not creating incompatible features (e.g., a different concepts feature than C++20’s, a different modules system than C++20’s) and bringing all major new pieces to today’s ISO C++ evolution as also incremental proposals for today’s C++.</li>
</ul>



<p>See just the <a href="https://youtu.be/8U3hl8XMm8c?si=mmUehvFs5b5uVfwj&amp;t=4973"><strong>final 10 minutes of the talk</strong></a> to see what I mean — I demo’d syntax 2 “just working” with four different IDEs’ debuggers and visualizers, but I could also have demo’d that profilers just work, build systems just work, and so on.</p>



<p>I call my experimental syntax 2 (aka Cpp2) “still 100% pure C++” not only because cppfront translates it to 100% today’s C++ syntax (aka Cpp1), but because:</p>



<ul>
<li>every syntax-2 type <em>is</em> an ordinary C++ type that ordinary existing C++ code can use, recognized by tools that know C++ types including IDE visualizers;</li>



<li>every syntax-2 function <em>is</em> an ordinary C++ function that ordinary existing C++ code can use, recognized by tools that know C++ functions including debuggers to step into them;</li>



<li>every syntax-2 object <em>is</em> an ordinary C++ object that ordinary existing C++ code can use;</li>



<li>every syntax-2 feature can be (and has been) brought as a normal ISO C++ standards proposal to evolve today’s syntax, because Cpp2 embraces and follows today’s C++ standard and guidance and evolution instead of competing with them;</li>
</ul>



<p>and that’s because I want a way to keep writing 100% pure C++, just nicer.</p>



<p>“Nicer” means: 10x simpler by having more generality and consistency, better defaults, and less ceremony; and 50x safer by having 98% fewer vulnerabilities in the four areas of initialization safety (guaranteed in Cpp2), type safety (guaranteed in Cpp2), bounds safety (on by default in Cpp2), and lifetime safety (still to be implemented in cppfront is the C++ Core Guidelines Lifetime static analysis which I designed for Cpp2).</p>



<p>Cpp2 and cppfront don’t <em>replace</em> your C++ compilers. Cpp2 and cppfront <em>work with</em> all your existing C++ compilers (and build systems, profilers, debuggers, visualizers, custom in-house tools, test harnesses, and everything else in the established C++ ecosystem, from the big commercial public C++ products to your team’s internal bespoke C++ tools). If you’re already using GCC, Clang, and/or MSVC, keep using them, they all work fine. If you’re already using CMake or build2, or lldb or the Qt Creator debugger, or your favorite profiler or test framework, keep using them, it’s all still C++ that all C++ tools can understand. There’s no new ecosystem.</p>



<p><a href="https://youtube.com/clip/Ugkxo4k6pbLcABFMmoJQs1ybAcvY26SZ5xX5?si=nRHz_EXEebDlf1iW">There are only two plans for 10x major improvement. (1-min clip)</a> This is the fundamental difference with all the other attempts at a major improvement of today’s C++ I know of, which are all on the Dart plan — and those are great projects by really smart people and I hope we all learn from each other. But for my work I want to pursue the TypeScript plan, which I think is the only major evolution plan that can legitimately call itself “still 100% C++.” That’s important to me, because <a href="https://youtube.com/clip/UgkxAZ2589d6OAa2dULANeX9askxuueZSBpu?si=ufjoIXBlLfHqvf1M">like I said at the very beginning of my talk last year (1-min clip)</a>, I want to encourage us to pursue major evolution that brings <em>C++ itself </em>forward and to double down <em>on C++</em>, not switch to something else — to aim for major C++ evolution directed to things that will make us <em>better C++ programmers</em>, not programmers of something else.</p>



<p>I’m spending time on this experiment first of all for myself, because C++ is the language that best lets me express the programs I need to write, so I want to keep writing real C++ types and real C++ functions and real C++ everything else… just nicer.</p>



<p>Thanks again to the <a href="https://herbsutter.files.wordpress.com/2023/09/image-1.png">over 120 people</a> who have contributed issues and PRs to cppfront, and the many more who have provided thoughtful comments and feedback! I appreciate your help.</p>
	</div><div>
			<div>
				<p><img alt="" src="https://0.gravatar.com/avatar/928f5830f12d8977791539452bfc25c92912322476f0725253697ee1c45ce036?s=80&amp;d=identicon&amp;r=G" srcset="https://0.gravatar.com/avatar/928f5830f12d8977791539452bfc25c92912322476f0725253697ee1c45ce036?s=80&amp;d=identicon&amp;r=G 1x, https://0.gravatar.com/avatar/928f5830f12d8977791539452bfc25c92912322476f0725253697ee1c45ce036?s=120&amp;d=identicon&amp;r=G 1.5x, https://0.gravatar.com/avatar/928f5830f12d8977791539452bfc25c92912322476f0725253697ee1c45ce036?s=160&amp;d=identicon&amp;r=G 2x, https://0.gravatar.com/avatar/928f5830f12d8977791539452bfc25c92912322476f0725253697ee1c45ce036?s=240&amp;d=identicon&amp;r=G 3x, https://0.gravatar.com/avatar/928f5830f12d8977791539452bfc25c92912322476f0725253697ee1c45ce036?s=320&amp;d=identicon&amp;r=G 4x" height="80" width="80" loading="lazy" decoding="async"/>		</p><!-- .author-avatar -->
		
		<p>
			<h2>Published by <span>Herb Sutter</span></h2>
		</p><!-- .author-heading -->

		<p>
			Herb Sutter is an author and speaker, a software architect at Microsoft, and chair of the ISO C++ standards committee.			<a href="https://herbsutter.com/author/herbsutter/" rel="author">
				View all posts by Herb Sutter			</a>
		</p><!-- .author-bio -->
	</div><!-- .entry-auhtor -->
		<p><strong>Published</strong>
			<time datetime="2023-10-09T09:09:57-08:00">2023-10-09</time><time datetime="2023-10-09T13:53:52-08:00">2023-10-09</time>		</p><!-- .site-posted-on -->
	</div></div>
  </body>
</html>
