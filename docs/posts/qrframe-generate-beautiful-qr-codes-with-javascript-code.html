<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/zhengkyl/qrframe">Original</a>
    <h1>Show HN: qrframe â€“ generate beautiful qr codes with javascript code</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><div dir="auto"><a id="user-content-qrframe" aria-label="Permalink: qrframe" href="#qrframe"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">code-based qr code generator</p>
<p dir="auto">Blatantly inspired by <a href="https://qrbtf.com" rel="nofollow">QRBTF</a> and <a href="https://qrcode.antfu.me" rel="nofollow">Anthony Fu&#39;s QR Toolkit</a>.</p>
<p dir="auto"><a href="https://kylezhe.ng/posts/crafting_qr_codes" rel="nofollow">Here&#39;s a post I wrote about crafting QR codes</a> that goes into deeper detail about how they work and ways to make them pretty.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Examples</h2><a id="user-content-examples" aria-label="Permalink: Examples" href="#examples"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">I&#39;m working on more examples.</p>
<markdown-accessiblity-table><table>
  <tbody>
    <tr>
      <th colspan="3">Creative possibilities</th>
    </tr>
    <tr>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/quantum.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/quantum.svg" width="300"/></a>
      </td>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/mondrian.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/mondrian.svg" width="300"/></a>
      </td>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/wood.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/wood.svg" width="300"/></a>
      </td>
    </tr>
    <tr>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/tile.png"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/tile.png"/></a>
      </td>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/dots.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/dots.svg" width="300"/></a>
      </td>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/layers1.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/layers1.svg" width="300"/></a>
      </td>
    </tr>
    <tr>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/neon.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/neon.svg" width="300"/></a>
      </td>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/camo.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/camo.svg" width="300"/></a>
      </td>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/matrix.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/matrix.svg" width="300"/></a>
      </td>
    </tr>
    <tr>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/glass.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/glass.svg" width="300"/></a>
      </td>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/childhood.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/childhood.svg" width="300"/></a>
      </td>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/layers2.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/layers2.svg" width="300"/></a>
      </td>
    </tr>
    <tr>
      <th colspan="3">Import external libs, fetch external files, etc </th>
    </tr>
    <tr><td>
      <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/drawing1.png"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/drawing1.png"/></a>
    </td>
    <td>
      <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/drawing2.png"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/drawing2.png"/></a>
    </td>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/halftone.png"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/halftone.png" width="300"/></a>
      </td>
    </tr><tr>
      <th colspan="3">Styles copied from <a href="https://qrbtf.com" rel="nofollow">QRBTF</a></th>
    </tr>
    <tr>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/blocks.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/blocks.svg" width="300"/></a>
      </td>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/bubbles.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/bubbles.svg" width="300"/></a>
      </td>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/alien.svg"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/alien.svg" width="300"/></a>
      </td>
    </tr><tr>
      <th colspan="3">Boring options are available</th>
    </tr>
    <tr>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/boring1.png"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/boring1.png"/></a>
      </td>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/boring2.png"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/boring2.png"/></a>
      </td>
      <td>
        <a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/boring3.png"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/boring3.png"/></a>
      </td>
    </tr>
  </tbody>
</table></markdown-accessiblity-table>
<div dir="auto"><h2 tabindex="-1" dir="auto">Features</h2><a id="user-content-features" aria-label="Permalink: Features" href="#features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<ul dir="auto">
<li>
<p dir="auto">Customize data:</p>
<ul dir="auto">
<li>encoding mode, version, error tolerance, mask pattern</li>
<li>powered by <a href="https://github.com/zhengkyl/fuqr"><code>fuqr</code></a>, my own Rust library imported as WASM. (i use windows, btw)</li>
</ul>
</li>
<li>
<p dir="auto">Customize appearance:</p>
<ul dir="auto">
<li>Choose any preset, customize or even create a new one from scratch via code editor.</li>
<li>Define arbitrary UI parameters in code</li>
<li>Supports SVG and PNG</li>
<li>All code runs <em>directly</em> in browser in a web worker with no restrictions.
<ul dir="auto">
<li>There is no sandbox, whitelist, blacklist, or anything besides a 5s timeout to stop infinite loops.</li>
<li>Generated SVGs are not sanitized. This is an impossible task and attempting it breaks perfectly fine SVGs, makes debugging harder, and adds latency to previewing changes.</li>
<li>These should be non-issues, but even if you copy-and-paste and run malware there&#39;s no secrets to leak.</li>
</ul>
</li>
</ul>
</li>
</ul>
<div dir="auto"><h3 tabindex="-1" dir="auto">Use existing presets</h3><a id="user-content-use-existing-presets" aria-label="Permalink: Use existing presets" href="#use-existing-presets"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/ui1.png"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/ui1.png" alt="style select ui"/></a></p>
<div dir="auto"><h3 tabindex="-1" dir="auto">Customizable parameters defined in code</h3><a id="user-content-customizable-parameters-defined-in-code" aria-label="Permalink: Customizable parameters defined in code" href="#customizable-parameters-defined-in-code"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://clarionsong.substack.com/zhengkyl/qrframe/blob/main/examples/ui2.png"><img src="https://clarionsong.substack.com/zhengkyl/qrframe/raw/main/examples/ui2.png" alt="code and parameter editor ui"/></a></p>
<div dir="auto"><h2 tabindex="-1" dir="auto">Creating a preset</h2><a id="user-content-creating-a-preset" aria-label="Permalink: Creating a preset" href="#creating-a-preset"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">A preset must export <code>paramsSchema</code> and either <code>renderSVG</code> or <code>renderCanvas</code></p>
<div dir="auto"><h2 tabindex="-1" dir="auto"><code>paramsSchema</code></h2><a id="user-content-paramsschema" aria-label="Permalink: paramsSchema" href="#paramsschema"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">This schema defines the UI components whose values are passed into <code>renderSVG</code> or <code>renderCanvas</code> via the <code>params</code> object.</p>
<p dir="auto">All properties besides <code>type</code> are optional, except</p>
<ul dir="auto">
<li>type <code>select</code> must have a nonempty options array</li>
<li>type <code>array</code> must have a valid <code>props</code> value.</li>
</ul>
<p dir="auto">In this example, <code>default</code> is set explicitly to the implicit default value.</p>
<div dir="auto" data-snippet-clipboard-copy-content="export const paramsSchema = {
  Example1: {
    type: &#34;number&#34;,
    min: 0,
    max: 10,
    step: 0.1,
    default: 0,
  },
  Example2: {
    type: &#34;boolean&#34;,
    default: false,
  },
  Example3: {
    type: &#34;color&#34;,
    default: &#34;#000000&#34;, // css color string (hex/rgba/hsla)
  },
  Example4: {
    type: &#34;select&#34;,
    options: [&#34;I&#39;m feeling&#34;, 22],
    default: &#34;I&#39;m feeling&#34;, // first option
  },
  Example5: {
    type: &#34;file&#34;,
    accept: &#34;.jpeg, .jpg, .png&#34;,
    default: null,
  },
  Example6: {
    type: &#34;array&#34;,
    props: {
      type: &#34;number&#34;, // any type except &#34;array&#34;
      // corresponding props
    },
    resizable: true,
    defaultLength: 5, // overridden by default
    default: [], // overrides defaultLength
  },
};"><pre><span>export</span> <span>const</span> <span>paramsSchema</span> <span>=</span> <span>{</span>
  <span>Example1</span>: <span>{</span>
    <span>type</span>: <span>&#34;number&#34;</span><span>,</span>
    <span>min</span>: <span>0</span><span>,</span>
    <span>max</span>: <span>10</span><span>,</span>
    <span>step</span>: <span>0.1</span><span>,</span>
    <span>default</span>: <span>0</span><span>,</span>
  <span>}</span><span>,</span>
  <span>Example2</span>: <span>{</span>
    <span>type</span>: <span>&#34;boolean&#34;</span><span>,</span>
    <span>default</span>: <span>false</span><span>,</span>
  <span>}</span><span>,</span>
  <span>Example3</span>: <span>{</span>
    <span>type</span>: <span>&#34;color&#34;</span><span>,</span>
    <span>default</span>: <span>&#34;#000000&#34;</span><span>,</span> <span>// css color string (hex/rgba/hsla)</span>
  <span>}</span><span>,</span>
  <span>Example4</span>: <span>{</span>
    <span>type</span>: <span>&#34;select&#34;</span><span>,</span>
    <span>options</span>: <span>[</span><span>&#34;I&#39;m feeling&#34;</span><span>,</span> <span>22</span><span>]</span><span>,</span>
    <span>default</span>: <span>&#34;I&#39;m feeling&#34;</span><span>,</span> <span>// first option</span>
  <span>}</span><span>,</span>
  <span>Example5</span>: <span>{</span>
    <span>type</span>: <span>&#34;file&#34;</span><span>,</span>
    <span>accept</span>: <span>&#34;.jpeg, .jpg, .png&#34;</span><span>,</span>
    <span>default</span>: <span>null</span><span>,</span>
  <span>}</span><span>,</span>
  <span>Example6</span>: <span>{</span>
    <span>type</span>: <span>&#34;array&#34;</span><span>,</span>
    <span>props</span>: <span>{</span>
      <span>type</span>: <span>&#34;number&#34;</span><span>,</span> <span>// any type except &#34;array&#34;</span>
      <span>// corresponding props</span>
    <span>}</span><span>,</span>
    <span>resizable</span>: <span>true</span><span>,</span>
    <span>defaultLength</span>: <span>5</span><span>,</span> <span>// overridden by default</span>
    <span>default</span>: <span>[</span><span>]</span><span>,</span> <span>// overrides defaultLength</span>
  <span>}</span><span>,</span>
<span>}</span><span>;</span></pre></div>
<div dir="auto"><h2 tabindex="-1" dir="auto"><code>renderSVG</code> and <code>renderCanvas</code></h2><a id="user-content-rendersvg-and-rendercanvas" aria-label="Permalink: renderSVG and renderCanvas" href="#rendersvg-and-rendercanvas"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<div dir="auto" data-snippet-clipboard-copy-content="type renderSVG = (qr: Qr, params: Params) =&gt; string;

type renderCanvas = (qr: Qr, params: Params, canvas: OffscreenCanvas) =&gt; void;"><pre><span>type</span> <span>renderSVG</span> <span>=</span> <span>(</span><span>qr</span>: <span>Qr</span><span>,</span> <span>params</span>: <span>Params</span><span>)</span> <span>=&gt;</span> <span>string</span><span>;</span>

<span>type</span> <span>renderCanvas</span> <span>=</span> <span>(</span><span>qr</span>: <span>Qr</span><span>,</span> <span>params</span>: <span>Params</span><span>,</span> <span>canvas</span>: <span>OffscreenCanvas</span><span>)</span> <span>=&gt;</span> <span><span>void</span></span><span>;</span></pre></div>
<p dir="auto"><code>params</code> is an object with all the keys of <code>paramsSchema</code> paired with the value from their respective input component.</p>
<p dir="auto"><code>qr</code> contains the final QR code in <code>matrix</code>. This represents a square where one side is <code>version * 4 + 17</code> wide, and modules (aka pixels) are stored from the left to right, top to bottom.</p>
<div dir="auto" data-snippet-clipboard-copy-content="type Qr = {
  matrix: Uint8Array; // see below
  version: number; // 1- 40
  mask: number; // 0 - 7,
  ecl: number; // 0 - 3, Low, Medium, Quartile, High
  mode: number; // 0 - 2, Numeric, Alphanumeric, Byte
};

// bit flags for each u8 in matrix
const Module = {
  ON: 1 &lt;&lt; 0,
  DATA: 1 &lt;&lt; 1,
  FINDER: 1 &lt;&lt; 2,
  ALIGNMENT: 1 &lt;&lt; 3,
  TIMING: 1 &lt;&lt; 4,
  FORMAT: 1 &lt;&lt; 5,
  VERSION: 1 &lt;&lt; 6,
  MODIFIER: 1 &lt;&lt; 7,
};"><pre><span>type</span> <span>Qr</span> <span>=</span> <span>{</span>
  <span>matrix</span>: <span>Uint8Array</span><span>;</span> <span>// see below</span>
  <span>version</span>: <span>number</span><span>;</span> <span>// 1- 40</span>
  <span>mask</span>: <span>number</span><span>;</span> <span>// 0 - 7,</span>
  <span>ecl</span>: <span>number</span><span>;</span> <span>// 0 - 3, Low, Medium, Quartile, High</span>
  <span>mode</span>: <span>number</span><span>;</span> <span>// 0 - 2, Numeric, Alphanumeric, Byte</span>
<span>}</span><span>;</span>

<span>// bit flags for each u8 in matrix</span>
<span>const</span> <span>Module</span> <span>=</span> <span>{</span>
  <span>ON</span>: <span>1</span> <span>&lt;&lt;</span> <span>0</span><span>,</span>
  <span>DATA</span>: <span>1</span> <span>&lt;&lt;</span> <span>1</span><span>,</span>
  <span>FINDER</span>: <span>1</span> <span>&lt;&lt;</span> <span>2</span><span>,</span>
  <span>ALIGNMENT</span>: <span>1</span> <span>&lt;&lt;</span> <span>3</span><span>,</span>
  <span>TIMING</span>: <span>1</span> <span>&lt;&lt;</span> <span>4</span><span>,</span>
  <span>FORMAT</span>: <span>1</span> <span>&lt;&lt;</span> <span>5</span><span>,</span>
  <span>VERSION</span>: <span>1</span> <span>&lt;&lt;</span> <span>6</span><span>,</span>
  <span>MODIFIER</span>: <span>1</span> <span>&lt;&lt;</span> <span>7</span><span>,</span>
<span>}</span><span>;</span></pre></div>
<p dir="auto"><code>MODIFIER</code> is set for Finder and Alignment centers, Format and Version copy.</p>
</article></div></div>
  </body>
</html>
