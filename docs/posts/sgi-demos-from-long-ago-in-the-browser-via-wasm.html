<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/sgi-demos">Original</a>
    <h1>SGI demos from long ago in the browser via WASM</h1>
    
    <div id="readability-page-1" class="page"><article itemprop="text">
<p dir="auto"><em>Old problems require modern solutions.</em></p>
<p dir="auto">This is the original SGI demo source code, compiled for the web using Emscripten and SDL2.  Rendering is done using an IRIS GL software rasterizer from the <a href="https://lkesteloot.github.io/alice/alice4/libgl.html" rel="nofollow">Alice 4 project</a>.  Event handling is done by SDL2, with events translated into GL&#39;s event system.  Each demo is a separate web page, with its own Javascript + WASM compiled by Emscripten from the original C/C++ source.  Minimal modifications have been made to the original source, in order to run in the browser and to work with compilers 35 years newer.</p>

<ul dir="auto">
<li><a href="https://sgi-demos.github.io/" rel="nofollow">Buttonfly</a></li>
<li><a href="https://sgi-demos.github.io/sgi-demos/bounce/web/bounce_full.html" rel="nofollow">Bounce</a></li>
<li><a href="https://sgi-demos.github.io/sgi-demos/ideas/web/ideas_full.html" rel="nofollow">Ideas</a></li>
<li><a href="https://sgi-demos.github.io/sgi-demos/insect/web/insect_full.html" rel="nofollow">Insect</a></li>
<li><a href="https://sgi-demos.github.io/sgi-demos/jello/web/jello_full.html" rel="nofollow">Jello</a></li>
<li><a href="https://sgi-demos.github.io/sgi-demos/logo/web/logo_full.html" rel="nofollow">Logo</a></li>
<li><a href="https://sgi-demos.github.io/sgi-demos/twilight/web/twilight_full.html" rel="nofollow">Twilight</a></li>
</ul>

<ul dir="auto">
<li><a href="https://sgi-demos.github.io/sgi-demos/flight/web/flight_full.html" rel="nofollow">Flight</a> (cockpit glitches, planes too slow in web version, night mode &#39;shimmers&#39;, no network play)</li>
<li><a href="https://sgi-demos.github.io/sgi-demos/newave/web/newave_full.html" rel="nofollow">Newave</a> (no mesh editing, no popup menus, only wireframe)</li>
<li><a href="https://sgi-demos.github.io/sgi-demos/arena/web/arena_full.html" rel="nofollow">Arena</a> (no network play)</li>
</ul>


<ol dir="auto">
<li>Install <a href="https://brew.sh/" rel="nofollow">Homebrew</a> if you don&#39;t have it, then get SDL2 and Emscripten:</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="brew install SDL2
brew install emscripten"><pre>brew install SDL2
brew install emscripten</pre></div>
<ol start="2" dir="auto">
<li>Build:</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/sgi-demos/sgi-demos.git
cd sgi-demos
make"><pre>git clone https://github.com/sgi-demos/sgi-demos.git
<span>cd</span> sgi-demos
make</pre></div>

<ol dir="auto">
<li>
<p dir="auto">Install <a href="https://learn.microsoft.com/en-us/windows/package-manager/winget/" rel="nofollow">Winget</a> if you don&#39;t have it.</p>
</li>
<li>
<p dir="auto">Install <a href="https://www.msys2.org/" rel="nofollow">MSYS2</a> from cmd.exe, in order to get the clang compiler:</p>
</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="winget install MSYS2.MSYS2
setx PATH &#34;%PATH%C:\msys64\clang64\bin&#34;"><pre>winget install MSYS2.MSYS2
setx PATH <span><span>&#34;</span>%PATH%C:\msys64\clang64\bin<span>&#34;</span></span></pre></div>
<ol start="3" dir="auto">
<li>Install clang toolchain and SDL2 in MSYS2 CLANG64 shell:</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="pacman -Syu
pacman -S base-devel mingw-w64-clang-x86_64-toolchain
pacman -S mingw-w64-clang-x86_64-SDL2"><pre>pacman -Syu
pacman -S base-devel mingw-w64-clang-x86_64-toolchain
pacman -S mingw-w64-clang-x86_64-SDL2</pre></div>
<ol start="4" dir="auto">
<li>
<p dir="auto">Clone <a href="https://emscripten.org/docs/getting_started/downloads.html" rel="nofollow">emscripten</a> from Github.  Cloning seems to work best with MSYS2 rather than using pacman.  Follow the default install directions, not the Windows directions!</p>
</li>
<li>
<p dir="auto">Add this line to the <code>~/.bashrc</code> file in MSYS2 CLANG64 shell:</p>
</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="source /path/to/emsdk/emsdk_env.sh"><pre><span>source</span> /path/to/emsdk/emsdk_env.sh</pre></div>
<ol start="6" dir="auto">
<li>Build:</li>
</ol>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/sgi-demos/sgi-demos.git
cd sgi-demos
make"><pre>git clone https://github.com/sgi-demos/sgi-demos.git
<span>cd</span> sgi-demos
make</pre></div>

<ul dir="auto">
<li>Rendering via OpenGLES/WebGL (WIP)</li>
<li>Arbitrary window size</li>
<li>Run GL demo in its own WASM worker/thread, to avoid slicing up the code for SDL&#39;s event loop</li>
<li>Popup menus, including the classic SGI menu font</li>
<li>More demos, <em>all the demos</em>.
<ul dir="auto">
<li>Electropaint, Cedit, any other IRIS GL demos I can find</li>
<li>Then OpenGL, GLUT, Inventor, Performer demos in no particular order</li>
</ul>
</li>
<li>Rudimentary context for each demo: name, author, year (as text in lower corner), code link</li>
<li>Virtual mouse and keyboard:
<ul dir="auto">
<li>Only display virtual keys and mouse functions used by the demo; use demo&#39;s qdevice() calls to determine this</li>
<li>Displayed as transparent virtual mouse and key pictures overlaid on demo</li>
<li>On always for touch devices</li>
<li>On/off for mouse/keyboard devices, as hints</li>
</ul>
</li>
<li>Description/history/context for each demo - can obtain some descriptions from .Info slide files</li>
<li>Man page live links</li>
</ul>

<ul dir="auto">
<li>Everyone who worked at <a href="https://en.wikipedia.org/wiki/Silicon_Graphics" rel="nofollow">SGI</a>, for the eye candy and the baller computers.</li>
<li>The <a href="https://lkesteloot.github.io/alice/alice4/" rel="nofollow">Alice 4 folks</a>, for the inspiration and the GL implementation.</li>
<li><a href="https://emscripten.org" rel="nofollow">Emscripten</a> and <a href="https://www.libsdl.org" rel="nofollow">SDL</a> teams, for making a web port possible.</li>
<li><a href="https://archive.org/search?query=sgi&amp;and%5B%5D=mediatype%3A%22software%22" rel="nofollow">Internet Archive</a>, <a href="https://bitsavers.org/bits/SGI/mips/cd/" rel="nofollow">Bitsavers</a>, <a href="https://winworldpc.com/search?q=irix" rel="nofollow">WinWorld</a>, <a href="https://irixnet.org/files.html" rel="nofollow">IRIXNet</a>, and others, for saving the history.</li>
</ul>
</article></div>
  </body>
</html>
