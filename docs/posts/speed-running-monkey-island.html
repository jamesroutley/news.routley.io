<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.grumpygamer.com/speed_running_mi">Original</a>
    <h1>Speed running Monkey Island</h1>
    
    <div id="readability-page-1" class="page"><div>
	 
      <main role="main"><div><hr/><h3><a href="https://www.grumpygamer.com/speed_running_mi">Speed running Monkey Island</a></h3>
		      <p>Jun 02, 2023</p><p>I recently did an interview about speed running Monkey Island (I&#39;ll post a link when it&#39;s available).</p>
<p>One of the topics was how speed runners dislike random events and the end of Monkey Island 2 has a lot of randomness around when LeChuck appears. I was asked how this worked and to be honest that was a long time ago and I don&#39;t remember every little scape of code. It is also possible that I didn&#39;t write it.  But what I do have is the SCUMM source code for Monkey Island 2 and I tracked down the code.</p>
<pre><code>lechuck-appearance-chance is 4
lechuck-appearance-interval is 300
times-lechucks-appeared-recently += 1
foo = (3 - times-lechucks-appeared-recently)
foo = (random foo)
if (!foo) {     ; after he&#39;s popped up a couple times he&#39;s likely to disappear for a while
    times-lechucks-appeared-recently = 0
    lechuck-appearance-chance is 10 ; that is, 1 in 10
    lechuck-appearance-interval is 500
}
if (magic-doll) {   ; speed him way up after you make the doll
    if (owner-of needle is selected-actor) {    ; and have the needle
        lechuck-appearance-chance is 2
        lechuck-appearance-interval is 120
    }
}</code></pre>
<p>There are some other random conditions about what item you picked up last, etc, but this is the core of it.</p>
<p>P.S. If you&#39;re wondering my SCUMM uses <code>-</code> in variable names, it&#39;s because it started out as a variant of LISP.</p>
<p>P.P.S. It&#39;s also worth noting that this is for the original MI2, The special editions and SCUMMVM might have changed how this works.</p></div>      
    </main></div></div>
  </body>
</html>
