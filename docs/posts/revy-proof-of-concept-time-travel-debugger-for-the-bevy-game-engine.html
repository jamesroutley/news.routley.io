<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/rerun-io/revy">Original</a>
    <h1>Revy ‚Äì proof-of-concept time-travel debugger for the Bevy game engine</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a href="https://crates.io/crates/revy" rel="nofollow"><img src="https://camo.githubusercontent.com/101765999786b9dc34863677264838cb2c824818660c4c7ec6d39454f370e1b3/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f726576792e737667" alt="Latest version" data-canonical-src="https://img.shields.io/crates/v/revy.svg"/></a>
<a href="https://docs.rs/revy" rel="nofollow"><img src="https://camo.githubusercontent.com/530af3a9f1571641fa72e2cac95d5bc4ced3e803b17743a2efc0cff65586ad0f/68747470733a2f2f646f63732e72732f726576792f62616467652e737667" alt="Documentation" data-canonical-src="https://docs.rs/revy/badge.svg"/></a>
<a href="https://github.com/rerun-io/revy/blob/master/LICENSE-MIT"><img src="https://camo.githubusercontent.com/2bb6ac78e5a9f4f688a6a066cc71b62012101802fcdb478e6e4c6b6ec75dc694/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4d49542d626c75652e737667" alt="MIT" data-canonical-src="https://img.shields.io/badge/license-MIT-blue.svg"/></a>
<a href="https://github.com/rerun-io/revy/blob/master/LICENSE-APACHE"><img src="https://camo.githubusercontent.com/d7addb0c76e1634e2335a071640043bf515d94b5c9d88b604fbe77c26920cfb0/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d4170616368652d626c75652e737667" alt="Apache" data-canonical-src="https://img.shields.io/badge/license-Apache-blue.svg"/></a></p>
<p dir="auto">Revy is a proof-of-concept time-travel debugger for the <a href="https://github.com/bevyengine/bevy">Bevy</a> game engine, built using <a href="https://github.com/rerun-io/rerun">Rerun</a>.</p>
<p dir="auto">The general idea is that one would use Revy to investigate gameplay/physics/general-behavior-ish kinds of bugs.</p>
<p dir="auto">Revy works by snapshotting diffs of the Bevy database every frame that are then logged into the Rerun database.</p>
<details open="">
  <summary>
    <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" data-view-component="true">
    <path d="M16 3.75v8.5a.75.75 0 0 1-1.136.643L11 10.575v.675A1.75 1.75 0 0 1 9.25 13h-7.5A1.75 1.75 0 0 1 0 11.25v-6.5C0 3.784.784 3 1.75 3h7.5c.966 0 1.75.784 1.75 1.75v.675l3.864-2.318A.75.75 0 0 1 16 3.75Zm-6.5 1a.25.25 0 0 0-.25-.25h-7.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-6.5ZM11 8.825l3.5 2.1v-5.85l-3.5 2.1Z"></path>
</svg>
    <span aria-label="Video description revy.mp4">revy.mp4</span>
    <span></span>
  </summary>

  <video src="https://private-user-images.githubusercontent.com/2910679/309282832-cd096cbe-5e68-4acf-8010-e6c32c5568dc.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDk2MDg4MTEsIm5iZiI6MTcwOTYwODUxMSwicGF0aCI6Ii8yOTEwNjc5LzMwOTI4MjgzMi1jZDA5NmNiZS01ZTY4LTRhY2YtODAxMC1lNmMzMmM1NTY4ZGMubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDMwNSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDAzMDVUMDMxNTExWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZmNmYTMwNmVjODgwMzkzYWRjNjU0MTYwMmIyODc5NDk2MmU3YWNiMmExMjQ4Mzc4MDI2OGU3OGU4NDFkN2RmNCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.WLofescfpdfqRxQYsp9LWzRVVhM9EAhvGAEsn1Ecxfc" data-canonical-src="https://private-user-images.githubusercontent.com/2910679/309282832-cd096cbe-5e68-4acf-8010-e6c32c5568dc.mp4?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MDk2MDg4MTEsIm5iZiI6MTcwOTYwODUxMSwicGF0aCI6Ii8yOTEwNjc5LzMwOTI4MjgzMi1jZDA5NmNiZS01ZTY4LTRhY2YtODAxMC1lNmMzMmM1NTY4ZGMubXA0P1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MDMwNSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDAzMDVUMDMxNTExWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZmNmYTMwNmVjODgwMzkzYWRjNjU0MTYwMmIyODc5NDk2MmU3YWNiMmExMjQ4Mzc4MDI2OGU3OGU4NDFkN2RmNCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QmYWN0b3JfaWQ9MCZrZXlfaWQ9MCZyZXBvX2lkPTAifQ.WLofescfpdfqRxQYsp9LWzRVVhM9EAhvGAEsn1Ecxfc" controls="controls" muted="muted">

  </video>
</details>


<table>
<thead>
<tr>
<th><a href="https://github.com/bevyengine/bevy/blob/v0.13.0/examples/games/breakout.rs">Breakout</a></th>
<th><a href="https://github.com/bevyengine/bevy/blob/v0.13.0/examples/3d/3d_shapes.rs">3D shapes</a></th>
<th><a href="https://github.com/bevyengine/bevy/blob/v0.13.0/examples/games/alien_cake_addict.rs">Alien Cake Addict</a></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://app.rerun.io/version/0.14.1/index.html?url=https://storage.googleapis.com/rerun-example-datasets/revy/breakout_014_001.rrd" rel="nofollow"><em>Live demo</em></a></td>
<td><a href="https://app.rerun.io/version/0.14.1/index.html?url=https://storage.googleapis.com/rerun-example-datasets/revy/3d_shapes_014_001.rrd" rel="nofollow"><em>Live demo</em></a></td>
<td><a href="https://app.rerun.io/version/0.14.1/index.html?url=https://storage.googleapis.com/rerun-example-datasets/revy/alien_014_001.rrd" rel="nofollow"><em>Live demo</em></a></td>
</tr>
<tr>
<td><themed-picture data-catalyst-inline="true"><picture> <img src="https://camo.githubusercontent.com/91b1f899a1ec3edcc3d3ca1871f616126b9b6db00973caa2b3507dd4f23a2d36/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f627265616b6f75745f7469746c652f613835336166343131313535303532313232393638313361306265663233373362313035373537622f66756c6c2e706e67" alt="" data-canonical-src="https://static.rerun.io/revy_breakout_title/a853af41115505212296813a0bef2373b105757b/full.png"/> <source media="(max-width: 480px)" srcset="https://camo.githubusercontent.com/84f003e39e3c05464f594f690bc6df08468fed3eb09f41d7fb667a1a0302c9f0/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f627265616b6f75745f7469746c652f613835336166343131313535303532313232393638313361306265663233373362313035373537622f343830772e706e67" data-canonical-src="https://static.rerun.io/revy_breakout_title/a853af41115505212296813a0bef2373b105757b/480w.png"/> <source media="(max-width: 768px)" srcset="https://camo.githubusercontent.com/3cea92e0867d3c7351607018f860c128ca772283960d63b023fd075e341adb86/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f627265616b6f75745f7469746c652f613835336166343131313535303532313232393638313361306265663233373362313035373537622f373638772e706e67" data-canonical-src="https://static.rerun.io/revy_breakout_title/a853af41115505212296813a0bef2373b105757b/768w.png"/> <source media="(max-width: 1024px)" srcset="https://camo.githubusercontent.com/b0502f8295778a7d853fbba377a74f57fb7fb6e73831ab84ca55bcdaf9a45ca9/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f627265616b6f75745f7469746c652f613835336166343131313535303532313232393638313361306265663233373362313035373537622f31303234772e706e67" data-canonical-src="https://static.rerun.io/revy_breakout_title/a853af41115505212296813a0bef2373b105757b/1024w.png"/> <source media="(max-width: 1200px)" srcset="https://camo.githubusercontent.com/416993737f8b1c1dcb6d7de172502086d7b859aa90332b10faf562377d9042e7/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f627265616b6f75745f7469746c652f613835336166343131313535303532313232393638313361306265663233373362313035373537622f31323030772e706e67" data-canonical-src="https://static.rerun.io/revy_breakout_title/a853af41115505212296813a0bef2373b105757b/1200w.png"/> </picture></themed-picture></td>
<td><themed-picture data-catalyst-inline="true"><picture> <img src="https://camo.githubusercontent.com/e120baa0383135833c32a850b3ed5b6bba4e2ed61ddd9b483f408f942a6af2c9/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f33647368617065735f7469746c652f393634343436643033663137393262363065333934653863343935653666653136323733393339612f66756c6c2e706e67" alt="" data-canonical-src="https://static.rerun.io/revy_3dshapes_title/964446d03f1792b60e394e8c495e6fe16273939a/full.png"/> <source media="(max-width: 480px)" srcset="https://camo.githubusercontent.com/31a9d6ba5a419cb5dcb95dede00acf4028daca140c885d15763bccc47c51123e/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f33647368617065735f7469746c652f393634343436643033663137393262363065333934653863343935653666653136323733393339612f343830772e706e67" data-canonical-src="https://static.rerun.io/revy_3dshapes_title/964446d03f1792b60e394e8c495e6fe16273939a/480w.png"/> <source media="(max-width: 768px)" srcset="https://camo.githubusercontent.com/06871f08bf0efbac7c3dc53330665c518de8c7d8e53ab5a8cac49a82a18962a0/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f33647368617065735f7469746c652f393634343436643033663137393262363065333934653863343935653666653136323733393339612f373638772e706e67" data-canonical-src="https://static.rerun.io/revy_3dshapes_title/964446d03f1792b60e394e8c495e6fe16273939a/768w.png"/> <source media="(max-width: 1024px)" srcset="https://camo.githubusercontent.com/66dcb8626f98cd1a08fbfab13cab21459f0efe0b4bab5f30c8290d2a06d599eb/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f33647368617065735f7469746c652f393634343436643033663137393262363065333934653863343935653666653136323733393339612f31303234772e706e67" data-canonical-src="https://static.rerun.io/revy_3dshapes_title/964446d03f1792b60e394e8c495e6fe16273939a/1024w.png"/> <source media="(max-width: 1200px)" srcset="https://camo.githubusercontent.com/48cf939f775a4f8b1ce48280d0b1180b57c7dec2005a067be96a60d918d59a55/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f33647368617065735f7469746c652f393634343436643033663137393262363065333934653863343935653666653136323733393339612f31323030772e706e67" data-canonical-src="https://static.rerun.io/revy_3dshapes_title/964446d03f1792b60e394e8c495e6fe16273939a/1200w.png"/> </picture></themed-picture></td>
<td><themed-picture data-catalyst-inline="true"><picture> <img src="https://camo.githubusercontent.com/f46f07bf67b1564509383f622537936ab2e110ead2895b26b83e2e0b60f8dd3a/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f616c69656e5f7469746c652f336534626134663363666237323839343265636233386261336536313366333439386464613365322f66756c6c2e706e67" alt="" data-canonical-src="https://static.rerun.io/revy_alien_title/3e4ba4f3cfb728942ecb38ba3e613f3498dda3e2/full.png"/> <source media="(max-width: 480px)" srcset="https://camo.githubusercontent.com/5e09df5e266052fe2319edcfcc1e1542779e115a449fd2fce23f683d27d71b50/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f616c69656e5f7469746c652f336534626134663363666237323839343265636233386261336536313366333439386464613365322f343830772e706e67" data-canonical-src="https://static.rerun.io/revy_alien_title/3e4ba4f3cfb728942ecb38ba3e613f3498dda3e2/480w.png"/> <source media="(max-width: 768px)" srcset="https://camo.githubusercontent.com/74dbc24bb07035b7cc277eddeb190c3d0a107e07115a0d5434286940654ed97c/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f616c69656e5f7469746c652f336534626134663363666237323839343265636233386261336536313366333439386464613365322f373638772e706e67" data-canonical-src="https://static.rerun.io/revy_alien_title/3e4ba4f3cfb728942ecb38ba3e613f3498dda3e2/768w.png"/> <source media="(max-width: 1024px)" srcset="https://camo.githubusercontent.com/cd8ce776093a33428a168c92d9aad9787a2005b36bba8e9378bd5bad522815df/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f616c69656e5f7469746c652f336534626134663363666237323839343265636233386261336536313366333439386464613365322f31303234772e706e67" data-canonical-src="https://static.rerun.io/revy_alien_title/3e4ba4f3cfb728942ecb38ba3e613f3498dda3e2/1024w.png"/> <source media="(max-width: 1200px)" srcset="https://camo.githubusercontent.com/a86494e8c020c33426e082418afd2d0302bf89b97c17adb4adb9c3238196a6ca/68747470733a2f2f7374617469632e726572756e2e696f2f726576795f616c69656e5f7469746c652f336534626134663363666237323839343265636233386261336536313366333439386464613365322f31323030772e706e67" data-canonical-src="https://static.rerun.io/revy_alien_title/3e4ba4f3cfb728942ecb38ba3e613f3498dda3e2/1200w.png"/> </picture></themed-picture></td>
</tr>
</tbody>
</table>
<hr/>
<p dir="auto"><g-emoji alias="warning">‚ö†Ô∏è</g-emoji> <em>This is not an official Rerun project. This is a side-experiment meant to explore the possibilities that a tool like Rerun could open when it comes to gamedev. It is not a full-fledged, properly maintained thing -- nor does it aim to be. It&#39;s also probably buggy and slow in many ways, and it certainly is full of code abominations üôÉ.</em></p>

<ol dir="auto">
<li>
<p dir="auto"><a href="https://www.rerun.io/docs/getting-started/installing-viewer" rel="nofollow">Install the Rerun Viewer</a> (<code>0.14</code>).</p>
</li>
<li>
<p dir="auto">Add <code>revy</code> to your dependencies:</p>
<div dir="auto" data-snippet-clipboard-copy-content="revy = &#34;0.14&#34;  # always matches the rerun version"><pre><span>revy</span> = <span><span>&#34;</span>0.14<span>&#34;</span></span>  <span><span>#</span> always matches the rerun version</span></pre></div>
</li>
<li>
<p dir="auto">Initialize the <code>rerun</code> plugin:</p>
<div dir="auto" data-snippet-clipboard-copy-content=".add_plugins({
    let rec = revy::RecordingStreamBuilder::new(&#34;&lt;your_app_name&gt;&#34;).spawn().unwrap();
    revy::RerunPlugin { rec }
})"><pre><span>.</span><span>add_plugins</span><span>(</span><span>{</span>
    <span>let</span> rec = revy<span>::</span><span>RecordingStreamBuilder</span><span>::</span><span>new</span><span>(</span><span>&#34;&lt;your_app_name&gt;&#34;</span><span>)</span><span>.</span><span>spawn</span><span>(</span><span>)</span><span>.</span><span>unwrap</span><span>(</span><span>)</span><span>;</span>
    revy<span>::</span><span>RerunPlugin</span> <span>{</span> rec <span>}</span>
<span>}</span><span>)</span><span></span></pre></div>
<p dir="auto">This will start a Rerun Viewer in the background and stream the recording data to it.</p>
</li>
</ol>

<p dir="auto">Revy will record every components of every single entity (), either using one of the builtin <a href="https://github.com/rerun-io/revy/blob/main/src/default_loggers.rs">dedicated loggers</a>, or using the generic reflection-based logger.</p>
<p dir="auto">You can also register your own custom loggers by inserting a <code>RerunComponentLoggers</code> resource:</p>
<div dir="auto" data-snippet-clipboard-copy-content=".insert_resource(revy::RerunComponentLoggers::new([
    (
        &#34;bevy_render::view::visibility::ViewVisibility&#34;.into(),
        Some(revy::RerunLogger::new(
            |_world, _all_entities, entity, _component| {
                let suffix = None;

                use revy::external::rerun;
                let data = entity
                    .get::&lt;ViewVisibility&gt;()
                    .map(|vviz| {
                        revy::Aliased::&lt;rerun::components::Text&gt;::new(
                            &#34;ViewVisibility&#34;,
                            rerun::components::Text(
                                if vviz.get() { &#34;:)))&#34; } else { &#34;:&#39;(&#34; }.into(),
                            ),
                        )
                    })
                    .map(|data| Box::new(data) as _);

                (suffix, data)
            },
        )),
    ),
]))"><pre><span>.</span><span>insert_resource</span><span>(</span>revy<span>::</span><span>RerunComponentLoggers</span><span>::</span><span>new</span><span>(</span><span>[</span>
    <span>(</span>
        <span>&#34;bevy_render::view::visibility::ViewVisibility&#34;</span><span>.</span><span>into</span><span>(</span><span>)</span><span>,</span>
        <span>Some</span><span>(</span>revy<span>::</span><span>RerunLogger</span><span>::</span><span>new</span><span>(</span>
            |_world<span>,</span> _all_entities<span>,</span> entity<span>,</span> _component| <span>{</span>
                <span>let</span> suffix = <span>None</span><span>;</span>

                <span>use</span> revy<span>::</span>external<span>::</span>rerun<span>;</span>
                <span>let</span> data = entity
                    <span>.</span><span>get</span><span>::</span><span>&lt;</span><span>ViewVisibility</span><span>&gt;</span><span>(</span><span>)</span>
                    <span>.</span><span>map</span><span>(</span>|vviz| <span>{</span>
                        revy<span>::</span><span>Aliased</span><span>::</span><span>&lt;</span>rerun<span>::</span>components<span>::</span><span>Text</span><span>&gt;</span><span>::</span><span>new</span><span>(</span>
                            <span>&#34;ViewVisibility&#34;</span><span>,</span>
                            rerun<span>::</span>components<span>::</span><span>Text</span><span>(</span>
                                <span>if</span> vviz<span>.</span><span>get</span><span>(</span><span>)</span> <span>{</span> <span>&#34;:)))&#34;</span> <span>}</span> <span>else</span> <span>{</span> <span>&#34;:&#39;(&#34;</span> <span>}</span><span>.</span><span>into</span><span>(</span><span>)</span><span>,</span>
                            <span>)</span><span>,</span>
                        <span>)</span>
                    <span>}</span><span>)</span>
                    <span>.</span><span>map</span><span>(</span>|data| <span>Box</span><span>::</span><span>new</span><span>(</span>data<span>)</span> <span>as</span> <span>_</span><span>)</span><span>;</span>

                <span>(</span>suffix<span>,</span> data<span>)</span>
            <span>}</span><span>,</span>
        <span>)</span><span>)</span><span>,</span>
    <span>)</span><span>,</span>
<span>]</span><span>)</span><span>)</span><span></span></pre></div>

<table>
<thead>
<tr>
<th>Bevy</th>
<th>Revy</th>
<th>Rerun</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/bevyengine/bevy/releases/tag/v0.13.0">0.13</a></td>
<td><a href="https://github.com/rerun-io/revy/releases/tag/0.14.0">0.14</a></td>
<td><a href="https://github.com/rerun-io/rerun/releases/tag/0.14.0">0.14</a></td>
</tr>
</tbody>
</table>
</article></div></div>
  </body>
</html>
