<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/hunar4321/particle-life">Original</a>
    <h1>Particle Life</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/5b4b0debcb0d9c2163d693e012d37b09579165d32bd0ae3da61469c4cfedb2e0/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f7265706f2d73697a652f68756e6172343332312f6c6966655f636f6465"><img src="https://camo.githubusercontent.com/5b4b0debcb0d9c2163d693e012d37b09579165d32bd0ae3da61469c4cfedb2e0/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f7265706f2d73697a652f68756e6172343332312f6c6966655f636f6465" alt="GitHub repo size" data-canonical-src="https://img.shields.io/github/repo-size/hunar4321/life_code"/></a>
<a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/4e03dd23fafed67aa3d318110b88abf0f576a74002478ba755d6de0b5b63ba80/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f68756e6172343332312f6c6966655f636f6465"><img src="https://camo.githubusercontent.com/4e03dd23fafed67aa3d318110b88abf0f576a74002478ba755d6de0b5b63ba80/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f6c6963656e73652f68756e6172343332312f6c6966655f636f6465" alt="GitHub" data-canonical-src="https://img.shields.io/github/license/hunar4321/life_code"/></a></p>

<p dir="auto">A simple program to simulate primitive Artificial Life using simple rules of attraction or repulsion among atom-like particles, producing complex self-organzing life-like patterns. Excluding the GUI elements, the code is less than a page. The video tutorial and walkthrough are available below.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-learn-more-here-youtube-video-tutorial" aria-hidden="true" tabindex="-1" href="#learn-more-here-youtube-video-tutorial"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Learn More Here (YouTube video tutorial):</h2>
<p dir="auto"><a href="https://youtu.be/0Kx4Y9TVMGg" rel="nofollow">https://youtu.be/0Kx4Y9TVMGg</a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-online-demo-javascript-version" aria-hidden="true" tabindex="-1" href="#online-demo-javascript-version"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Online Demo (JavaScript version):</h2>
<p dir="auto">Click here for a live demo (JavaScript):</p>
<ul dir="auto">
<li>2d - <a href="https://hunar4321.github.io/particle-life/particle_life.html" rel="nofollow">https://hunar4321.github.io/particle-life/particle_life.html</a></li>
<li>3d - <a href="https://hunar4321.github.io/particle-life/particle_life_3d.html" rel="nofollow">https://hunar4321.github.io/particle-life/particle_life_3d.html</a></li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-interface-c-version" aria-hidden="true" tabindex="-1" href="#interface-c-version"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Interface (C++ version)</h2>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/hunar4321/particle-life/blob/main/images/interface.jpg"><img src="https://github.com/hunar4321/particle-life/raw/main/images/interface.jpg" alt=""/></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-example-results" aria-hidden="true" tabindex="-1" href="#example-results"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Example Results</h2>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/hunar4321/particle-life/blob/main/images/big_pic.jpg"><img src="https://github.com/hunar4321/particle-life/raw/main/images/big_pic.jpg" alt=""/></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-some-interesting-patterns-to-reproduce" aria-hidden="true" tabindex="-1" href="#some-interesting-patterns-to-reproduce"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Some Interesting Patterns to Reproduce:</h2>
<p dir="auto">You do not need to be exact with the parameters to reproduce these patterns. The best way to get interesting patterns is to first try random parameter explorations, once you find an interesting pattern, try fine-tuning it gradually. To avoid becoming stuck at a local maximum, you can make some occasional big parameter jumps. In this way interesting and different patterns shall keep poping up.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/hunar4321/particle-life/blob/main/images/some_patterns.jpg"><img src="https://github.com/hunar4321/particle-life/raw/main/images/some_patterns.jpg" alt=""/></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-to-use" aria-hidden="true" tabindex="-1" href="#to-use"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>To use:</h2>
<p dir="auto">Download this repo. unzip the file then go to /particle_life/bin/ folder and click on particle_life.exe</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-code" aria-hidden="true" tabindex="-1" href="#code"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Code:</h2>
<p dir="auto">The source code is available in C++, JavaScript, and Python.
Watch this YouTube video for a walkthrough tutorial: <a href="https://youtu.be/0Kx4Y9TVMGg" rel="nofollow">https://youtu.be/0Kx4Y9TVMGg</a></p>
<p dir="auto">If you would like to contribute to the C++ program, the core algorithm is the first 100 lines of code at:  &#34;/particle_life/src/ofApp.cpp&#34;. The rest are GUI components and rendering controls which are provided by the openFrameworks library an opensource and easy-to-use image rendering library.</p>
<p dir="auto">To start, download this repository then download openFrameworks library from here: <a href="https://openframeworks.cc/" rel="nofollow">https://openframeworks.cc/</a>. Use openFramework&#39;s projectGenerator and import /particle_life/ folder to the project.</p>
<p dir="auto">Alternatively, generate a new openFramework project and add ofxGui. Once the project files are generated replace the /src/ folder with the one provided here.</p>
<p dir="auto">You can now compile the C++ code on your machine.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-other-ports" aria-hidden="true" tabindex="-1" href="#other-ports"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Other Ports:</h2>
<ul dir="auto">
<li><a href="https://github.com/NiclasEriksen/game-of-leif">Godot</a></li>
<li><a href="https://github.com/ChevyRay/smarticles">Rust</a></li>
<li><a href="https://github.com/sikora507/go-artificial-life">Go-1</a>, <a href="https://github.com/fglo/particles-rules-of-attraction">Go-2</a>, <a href="https://github.com/youssefboulmalf/Particle-Life-Go">Go-3</a></li>
<li><a href="https://github.com/gianfa/pyrticleslife">Python</a></li>
<li><a href="https://github.com/ravener/love-life">Lua</a></li>
<li><a href="https://github.com/a740g/Particle-Life">QB64-PE</a></li>
<li><a href="https://github.com/CapsAdmin/webgl-particles">Webgl</a></li>
<li><a href="https://github.com/helloimalemur/ParticleSimulation">Java</a></li>
<li><a href="https://github.com/BlinkSun/ParticleLifeSimulation">C# Winforms</a></li>
<li><a href="https://www.freebasic.net/forum/viewtopic.php?p=294331#p294331" rel="nofollow">FreeBasic</a></li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-the-javascript-code-is-as-simple-as-this" aria-hidden="true" tabindex="-1" href="#the-javascript-code-is-as-simple-as-this"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>The JavaScript code is as simple as this:</h2>
<p dir="auto">Also, look at the particle_life.html file for a more optimized version - thanks to those who have contributed.</p>
<div dir="auto" data-snippet-clipboard-copy-content="&lt;canvas id=&#34;life&#34; width=&#34;500&#34; height=&#34;500&#34;&gt;&lt;/canvas&gt;
&lt;script&gt;
  //Hunar Ahmad @ brainxyz
  m = document.getElementById(&#34;life&#34;).getContext(&#34;2d&#34;);
  draw = (x, y, c, s) =&gt; {
    m.fillStyle = c;
    m.fillRect(x, y, s, s);
  };
  atoms = [];
  atom = (x, y, c) =&gt; {
    return { x: x, y: y, vx: 0, vy: 0, color: c };
  };
  random = () =&gt; {
    return Math.random() * 400 + 50;
  };
  create = (number, color) =&gt; {
    group = [];
    for (let i = 0; i &lt; number; i++) {
      group.push(atom(random(), random(), color));
      atoms.push(group[i]);
    }
    return group;
  };
  rule = (atoms1, atoms2, g) =&gt; {
    for (let i = 0; i &lt; atoms1.length; i++) {
      fx = 0;
      fy = 0;
      for (let j = 0; j &lt; atoms2.length; j++) {
        a = atoms1[i];
        b = atoms2[j];
        dx = a.x - b.x;
        dy = a.y - b.y;
        d = Math.sqrt(dx * dx + dy * dy);
        if (d &gt; 0 &amp;&amp; d &lt; 80) {
          F = (g * 1) / d;
          fx += F * dx;
          fy += F * dy;
        }
      }
      a.vx = (a.vx + fx) * 0.5;
      a.vy = (a.vy + fy) * 0.5;
      a.x += a.vx;
      a.y += a.vy;
      if (a.x &lt;= 0 || a.x &gt;= 500) { a.vx *= -1; }
      if (a.y &lt;= 0 || a.y &gt;= 500) { a.vy *= -1; }
    }
  };
  yellow = create(200, &#34;yellow&#34;);
  red = create(200, &#34;red&#34;);
  green = create(200, &#34;green&#34;);
  update = () =&gt; {
    rule(green, green, -0.32);
    rule(green, red, -0.17);
    rule(green, yellow, 0.34);
    rule(red, red, -0.1);
    rule(red, green, -0.34);
    rule(yellow, yellow, 0.15);
    rule(yellow, green, -0.2);
    m.clearRect(0, 0, 500, 500);
    draw(0, 0, &#34;black&#34;, 500);
    for (i = 0; i &lt; atoms.length; i++) {
      draw(atoms[i].x, atoms[i].y, atoms[i].color, 5);
    }
    requestAnimationFrame(update);
  };
  update();
&lt;/script&gt;"><pre><span>&lt;</span><span>canvas</span> <span>id</span>=&#34;<span>life</span>&#34; <span>width</span>=&#34;<span>500</span>&#34; <span>height</span>=&#34;<span>500</span>&#34;<span>&gt;</span><span>&lt;/</span><span>canvas</span><span>&gt;</span>
<span>&lt;</span><span>script</span><span>&gt;</span>
  <span>//Hunar Ahmad @ brainxyz</span>
  <span>m</span> <span>=</span> <span>document</span><span>.</span><span>getElementById</span><span>(</span><span>&#34;life&#34;</span><span>)</span><span>.</span><span>getContext</span><span>(</span><span>&#34;2d&#34;</span><span>)</span><span>;</span>
  <span>draw</span> <span>=</span> <span>(</span><span>x</span><span>,</span> <span>y</span><span>,</span> <span>c</span><span>,</span> <span>s</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>m</span><span>.</span><span>fillStyle</span> <span>=</span> <span>c</span><span>;</span>
    <span>m</span><span>.</span><span>fillRect</span><span>(</span><span>x</span><span>,</span> <span>y</span><span>,</span> <span>s</span><span>,</span> <span>s</span><span>)</span><span>;</span>
  <span>}</span><span>;</span>
  <span>atoms</span> <span>=</span> <span>[</span><span>]</span><span>;</span>
  <span>atom</span> <span>=</span> <span>(</span><span>x</span><span>,</span> <span>y</span><span>,</span> <span>c</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>return</span> <span>{</span> <span>x</span>: <span>x</span><span>,</span> <span>y</span>: <span>y</span><span>,</span> <span>vx</span>: <span>0</span><span>,</span> <span>vy</span>: <span>0</span><span>,</span> <span>color</span>: <span>c</span> <span>}</span><span>;</span>
  <span>}</span><span>;</span>
  <span>random</span> <span>=</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>return</span> <span>Math</span><span>.</span><span>random</span><span>(</span><span>)</span> <span>*</span> <span>400</span> <span>+</span> <span>50</span><span>;</span>
  <span>}</span><span>;</span>
  <span>create</span> <span>=</span> <span>(</span><span>number</span><span>,</span> <span>color</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>group</span> <span>=</span> <span>[</span><span>]</span><span>;</span>
    <span>for</span> <span>(</span><span>let</span> <span>i</span> <span>=</span> <span>0</span><span>;</span> <span>i</span> <span>&lt;</span> <span>number</span><span>;</span> <span>i</span><span>++</span><span>)</span> <span>{</span>
      <span>group</span><span>.</span><span>push</span><span>(</span><span>atom</span><span>(</span><span>random</span><span>(</span><span>)</span><span>,</span> <span>random</span><span>(</span><span>)</span><span>,</span> <span>color</span><span>)</span><span>)</span><span>;</span>
      <span>atoms</span><span>.</span><span>push</span><span>(</span><span>group</span><span>[</span><span>i</span><span>]</span><span>)</span><span>;</span>
    <span>}</span>
    <span>return</span> <span>group</span><span>;</span>
  <span>}</span><span>;</span>
  <span>rule</span> <span>=</span> <span>(</span><span>atoms1</span><span>,</span> <span>atoms2</span><span>,</span> <span>g</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>for</span> <span>(</span><span>let</span> <span>i</span> <span>=</span> <span>0</span><span>;</span> <span>i</span> <span>&lt;</span> <span>atoms1</span><span>.</span><span>length</span><span>;</span> <span>i</span><span>++</span><span>)</span> <span>{</span>
      <span>fx</span> <span>=</span> <span>0</span><span>;</span>
      <span>fy</span> <span>=</span> <span>0</span><span>;</span>
      <span>for</span> <span>(</span><span>let</span> <span>j</span> <span>=</span> <span>0</span><span>;</span> <span>j</span> <span>&lt;</span> <span>atoms2</span><span>.</span><span>length</span><span>;</span> <span>j</span><span>++</span><span>)</span> <span>{</span>
        <span>a</span> <span>=</span> <span>atoms1</span><span>[</span><span>i</span><span>]</span><span>;</span>
        <span>b</span> <span>=</span> <span>atoms2</span><span>[</span><span>j</span><span>]</span><span>;</span>
        <span>dx</span> <span>=</span> <span>a</span><span>.</span><span>x</span> <span>-</span> <span>b</span><span>.</span><span>x</span><span>;</span>
        <span>dy</span> <span>=</span> <span>a</span><span>.</span><span>y</span> <span>-</span> <span>b</span><span>.</span><span>y</span><span>;</span>
        <span>d</span> <span>=</span> <span>Math</span><span>.</span><span>sqrt</span><span>(</span><span>dx</span> <span>*</span> <span>dx</span> <span>+</span> <span>dy</span> <span>*</span> <span>dy</span><span>)</span><span>;</span>
        <span>if</span> <span>(</span><span>d</span> <span>&gt;</span> <span>0</span> <span>&amp;&amp;</span> <span>d</span> <span>&lt;</span> <span>80</span><span>)</span> <span>{</span>
          <span>F</span> <span>=</span> <span>(</span><span>g</span> <span>*</span> <span>1</span><span>)</span> <span>/</span> <span>d</span><span>;</span>
          <span>fx</span> <span>+=</span> <span>F</span> <span>*</span> <span>dx</span><span>;</span>
          <span>fy</span> <span>+=</span> <span>F</span> <span>*</span> <span>dy</span><span>;</span>
        <span>}</span>
      <span>}</span>
      <span>a</span><span>.</span><span>vx</span> <span>=</span> <span>(</span><span>a</span><span>.</span><span>vx</span> <span>+</span> <span>fx</span><span>)</span> <span>*</span> <span>0.5</span><span>;</span>
      <span>a</span><span>.</span><span>vy</span> <span>=</span> <span>(</span><span>a</span><span>.</span><span>vy</span> <span>+</span> <span>fy</span><span>)</span> <span>*</span> <span>0.5</span><span>;</span>
      <span>a</span><span>.</span><span>x</span> <span>+=</span> <span>a</span><span>.</span><span>vx</span><span>;</span>
      <span>a</span><span>.</span><span>y</span> <span>+=</span> <span>a</span><span>.</span><span>vy</span><span>;</span>
      <span>if</span> <span>(</span><span>a</span><span>.</span><span>x</span> <span>&lt;=</span> <span>0</span> <span>||</span> <span>a</span><span>.</span><span>x</span> <span>&gt;=</span> <span>500</span><span>)</span> <span>{</span> <span>a</span><span>.</span><span>vx</span> <span>*=</span> <span>-</span><span>1</span><span>;</span> <span>}</span>
      <span>if</span> <span>(</span><span>a</span><span>.</span><span>y</span> <span>&lt;=</span> <span>0</span> <span>||</span> <span>a</span><span>.</span><span>y</span> <span>&gt;=</span> <span>500</span><span>)</span> <span>{</span> <span>a</span><span>.</span><span>vy</span> <span>*=</span> <span>-</span><span>1</span><span>;</span> <span>}</span>
    <span>}</span>
  <span>}</span><span>;</span>
  <span>yellow</span> <span>=</span> <span>create</span><span>(</span><span>200</span><span>,</span> <span>&#34;yellow&#34;</span><span>)</span><span>;</span>
  <span>red</span> <span>=</span> <span>create</span><span>(</span><span>200</span><span>,</span> <span>&#34;red&#34;</span><span>)</span><span>;</span>
  <span>green</span> <span>=</span> <span>create</span><span>(</span><span>200</span><span>,</span> <span>&#34;green&#34;</span><span>)</span><span>;</span>
  <span>update</span> <span>=</span> <span>(</span><span>)</span> <span>=&gt;</span> <span>{</span>
    <span>rule</span><span>(</span><span>green</span><span>,</span> <span>green</span><span>,</span> <span>-</span><span>0.32</span><span>)</span><span>;</span>
    <span>rule</span><span>(</span><span>green</span><span>,</span> <span>red</span><span>,</span> <span>-</span><span>0.17</span><span>)</span><span>;</span>
    <span>rule</span><span>(</span><span>green</span><span>,</span> <span>yellow</span><span>,</span> <span>0.34</span><span>)</span><span>;</span>
    <span>rule</span><span>(</span><span>red</span><span>,</span> <span>red</span><span>,</span> <span>-</span><span>0.1</span><span>)</span><span>;</span>
    <span>rule</span><span>(</span><span>red</span><span>,</span> <span>green</span><span>,</span> <span>-</span><span>0.34</span><span>)</span><span>;</span>
    <span>rule</span><span>(</span><span>yellow</span><span>,</span> <span>yellow</span><span>,</span> <span>0.15</span><span>)</span><span>;</span>
    <span>rule</span><span>(</span><span>yellow</span><span>,</span> <span>green</span><span>,</span> <span>-</span><span>0.2</span><span>)</span><span>;</span>
    <span>m</span><span>.</span><span>clearRect</span><span>(</span><span>0</span><span>,</span> <span>0</span><span>,</span> <span>500</span><span>,</span> <span>500</span><span>)</span><span>;</span>
    <span>draw</span><span>(</span><span>0</span><span>,</span> <span>0</span><span>,</span> <span>&#34;black&#34;</span><span>,</span> <span>500</span><span>)</span><span>;</span>
    <span>for</span> <span>(</span><span>i</span> <span>=</span> <span>0</span><span>;</span> <span>i</span> <span>&lt;</span> <span>atoms</span><span>.</span><span>length</span><span>;</span> <span>i</span><span>++</span><span>)</span> <span>{</span>
      <span>draw</span><span>(</span><span>atoms</span><span>[</span><span>i</span><span>]</span><span>.</span><span>x</span><span>,</span> <span>atoms</span><span>[</span><span>i</span><span>]</span><span>.</span><span>y</span><span>,</span> <span>atoms</span><span>[</span><span>i</span><span>]</span><span>.</span><span>color</span><span>,</span> <span>5</span><span>)</span><span>;</span>
    <span>}</span>
    <span>requestAnimationFrame</span><span>(</span><span>update</span><span>)</span><span>;</span>
  <span>}</span><span>;</span>
  <span>update</span><span>(</span><span>)</span><span>;</span>
<span>&lt;/</span><span>script</span><span>&gt;</span></pre></div>
</article>
          </div></div>
  </body>
</html>
