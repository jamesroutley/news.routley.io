<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://twitter.com/kelseyhightower/status/1624081136073994240">Original</a>
    <h1>Databases on Kubernetes is fundamentally same as a database on a VM</h1>
    
    <div id="readability-page-1" class="page"><div role="main"><div><div><div><div data-testid="primaryColumn"><div aria-label="Home timeline" tabindex="0"><div itemscope="" itemtype="https://schema.org/Collection"><meta content="Tweet with replies" itemprop="name"/><section aria-labelledby="accessible-list-47386" role="region"><div aria-label="Timeline: Conversation"><div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1624081136073994240" itemprop="identifier"/><meta content="1" itemprop="position"/><meta content="33" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2023-02-10T16:21:31.000Z" itemprop="dateCreated"/><meta content="2023-02-10T16:21:31.000Z" itemprop="datePublished"/><meta content="https://twitter.com/kelseyhightower/status/1624081136073994240" itemprop="url"/><meta content="https://twitter.com/kelseyhightower/status/1624081136073994240" itemprop="mainEntityOfPage"/><meta content="https://twitter.com/thesobercoder/status/1624078573979197440" itemprop="isBasedOn"/><div><article aria-labelledby="id__7l0i61amtiu id__o2yk6dqzo2a id__4za9pjxd246 id__dkc41md7jsl id__j783y94yfrh id__0x3g1lr1s8wb id__4ks966g9w1 id__j4dnfty61 id__vep8pmzo1l id__ftolb37yjml id__y835b1ok12 id__17w47ora3u id__7q2u26wxrtj id__or73zmimo6p id__1bvekog031o id__huboc0cbbn id__2lmclngo62z id__a0t8xc1rmu id__tdp755qxfvo" role="article" tabindex="-1" data-testid="tweet"><div><div><div><div><div><div data-testid="Tweet-User-Avatar"><div><div><div data-testid="UserAvatar-Container-kelseyhightower"><div><div><div><div><a href="https://twitter.com/kelseyhightower" aria-hidden="true" role="link" tabindex="-1"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1204077305271705606/j5XjhPAt_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody" data-testid="tweetTextAnnotations"><div><p><span>You can run databases on Kubernetes because it&#39;s fundamentally the same as running a database on a VM. The biggest challenge is understanding that rubbing Kubernetes on Postgres won&#39;t turn it into Cloud SQL. </span><span>ðŸ§µ</span></p></div></div></div><div><div aria-labelledby="id__ygakdsxk6kh id__g1tmsh18074" id="id__7q2u26wxrtj"><div id="id__ygakdsxk6kh"><p><span>Quote Tweet</span></p><div tabindex="0"><div><div><p><span><span dir="ltr">@kelseyhightower</span></span><span> Bust a myth for us please - running any sort of database on a Kubernetes instance is bad idea. I&#39;ve heard this enough times to actually start believing it. </span><span><span dir="ltr">#kubernetes</span></span><span> </span><span><span dir="ltr">#mythbuster</span></span></p></div></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1624083483374280705" itemprop="identifier"/><meta content="2" itemprop="position"/><meta content="9" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2023-02-10T16:30:51.000Z" itemprop="dateCreated"/><meta content="2023-02-10T16:30:51.000Z" itemprop="datePublished"/><meta content="https://twitter.com/kelseyhightower/status/1624083483374280705" itemprop="url"/><meta content="https://twitter.com/kelseyhightower/status/1624081136073994240" itemprop="isPartOf"/><div><article aria-labelledby="id__8r053vuy3r4 id__70r32sbw25b id__htw0w6p0y8n id__tn5tepj1ho id__r0oois0gsgm id__es4q9rdx8gi id__h4mau792eoi id__7xpngilfva5 id__tsor79pklmk id__t690qc3sjd id__yh7v2843ah id__2r3o91uqbld id__lcdg1a7rccf id__4vuuxspnkqy id__igniilt3xp id__4n4j1tts998 id__7pbnzqp0rzc id__e4kac3j2kyw id__9tk33cfc0mo" role="article" tabindex="-1" data-testid="tweet"><div><div><div><div><div><div data-testid="Tweet-User-Avatar"><div><div><div data-testid="UserAvatar-Container-kelseyhightower"><div><div><div><div><a href="https://twitter.com/kelseyhightower" aria-hidden="true" role="link" tabindex="-1"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1204077305271705606/j5XjhPAt_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody" data-testid="tweetTextAnnotations"><div><p><span>First, the fundamentals. Kubernetes will schedule a database just like any other application. If you use a deployment, Kubernetes will schedule your database on a random node in the cluster, and if you add a volume, Kubernetes will mount it. That&#39;s it. The rest in on you.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1624084830043648001" itemprop="identifier"/><meta content="3" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2023-02-10T16:36:12.000Z" itemprop="dateCreated"/><meta content="2023-02-10T16:36:12.000Z" itemprop="datePublished"/><meta content="https://twitter.com/kelseyhightower/status/1624084830043648001" itemprop="url"/><meta content="https://twitter.com/kelseyhightower/status/1624083483374280705" itemprop="isPartOf"/><div><article aria-labelledby="id__f4ftrbruhme id__5yqrjjzj724 id__2lclw2agez7 id__5isv5s7505b id__8h1kowjuva9 id__5howqwcxedd id__z9u4dkiwkik id__bnwn7unyt5w id__5gdtw19yi8t id__jeqtqghnc6 id__biohymvi8ul id__h81pslxinku id__h45kf5j3yf5 id__1gxw7jhsgi3 id__i7vvg2bf6ak id__rvut3qolh5b id__0tsffs4130q id__qydd25rre7k id__crvh5m036xq" role="article" tabindex="-1" data-testid="tweet"><div><div><div><div><div><div data-testid="Tweet-User-Avatar"><div><div><div data-testid="UserAvatar-Container-kelseyhightower"><div><div><div><div><a href="https://twitter.com/kelseyhightower" aria-hidden="true" role="link" tabindex="-1"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1204077305271705606/j5XjhPAt_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody" data-testid="tweetTextAnnotations"><div><p><span>You can even pin your database on a specific machine in the cluster to ensure the database lands on the same node, with the same IP, with the same data volume, kinda like you would do today on VMs.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1624086743812288512" itemprop="identifier"/><meta content="4" itemprop="position"/><meta content="3" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2023-02-10T16:43:48.000Z" itemprop="dateCreated"/><meta content="2023-02-10T16:43:48.000Z" itemprop="datePublished"/><meta content="https://twitter.com/kelseyhightower/status/1624086743812288512" itemprop="url"/><meta content="https://twitter.com/kelseyhightower/status/1624084830043648001" itemprop="isPartOf"/><div><article aria-labelledby="id__5nqg9j2kwpi id__5tt3u98lxzl id__uqji3uqfyf id__7f185x6y5j3 id__z55rgzp30of id__8583w9d71py id__rg08py9lbt id__38mmu0cysb5 id__ncv0dnr4pok id__x5fan9zd2rr id__wf59a4vamjg id__s5n80hvsayr id__yiwi129or id__a8djir9rbm id__ub3axmxt0o8 id__yzapt4adqt id__tx769bew5m id__o9g1zboscmj id__ifgmgpjqunq" role="article" tabindex="-1" data-testid="tweet"><div><div><div><div><div><div data-testid="Tweet-User-Avatar"><div><div><div data-testid="UserAvatar-Container-kelseyhightower"><div><div><div><div><a href="https://twitter.com/kelseyhightower" aria-hidden="true" role="link" tabindex="-1"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1204077305271705606/j5XjhPAt_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody" data-testid="tweetTextAnnotations"><div><p><span>Is deploying a database binary and mounting a volume on a VM really the hard part? Out of the box that&#39;s what Kubernetes brings to the table. The database application must meet Kubernetes half way and handle things like data replication, backups, etc. All the day 2 and 3 stuff.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1624086938977456128" itemprop="identifier"/><meta content="5" itemprop="position"/><meta content="6" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2023-02-10T16:44:34.000Z" itemprop="dateCreated"/><meta content="2023-02-10T16:44:34.000Z" itemprop="datePublished"/><meta content="https://twitter.com/kelseyhightower/status/1624086938977456128" itemprop="url"/><meta content="https://twitter.com/kelseyhightower/status/1624086743812288512" itemprop="isPartOf"/><div><article aria-labelledby="id__vks545z705a id__z9v01yhl3c id__tjm9ewwdl5 id__9pxfh7mcr9p id__enwfa16verv id__m957kqriyd id__z6k05zyflfh id__mk0une69r3 id__a30tj7tsm7v id__vpczyf5aaai id__kdxwxsf8oee id__c2tk3y8febo id__a13chq8eaa id__38axsyed24y id__9zv1q2m529q id__q7kdb5ypeue id__8cwtgz7eub4 id__jf1bruybzw id__qxc22pqolxm" role="article" tabindex="-1" data-testid="tweet"><div><div><div><div><div><div data-testid="Tweet-User-Avatar"><div><div><div data-testid="UserAvatar-Container-kelseyhightower"><div><div><div><div><a href="https://twitter.com/kelseyhightower" aria-hidden="true" role="link" tabindex="-1"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1204077305271705606/j5XjhPAt_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody" data-testid="tweetTextAnnotations"><div><p><span>That&#39;s where Kubernetes operators come in, but I&#39;ll save that discussion for another time.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1624175144745697281" itemprop="identifier"/><meta content="6" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2023-02-10T22:35:04.000Z" itemprop="dateCreated"/><meta content="2023-02-10T22:35:04.000Z" itemprop="datePublished"/><meta content="https://twitter.com/nearyd/status/1624175144745697281" itemprop="url"/><meta content="https://twitter.com/kelseyhightower/status/1624081136073994240" itemprop="isPartOf"/><div><article aria-labelledby="id__abv17e3fpak id__aryib1fs6dp id__1mb758egaum id__ha4n20j0qvi id__8q5nhrc16q id__xwzxoivpxuf id__z5loi40r32 id__8n05j4sfttn id__6jnuv8tg99v id__tieh3x814ma id__w77w59rt21b id__2c03o41sldx id__yvhp9rdj6y id__mfollaxnoj id__3ct0osit1kf id__uq8fyzf972e id__gv9a40a46qc id__dqmslob2nk7 id__u0r009vuvs9" role="article" tabindex="-1" data-testid="tweet"><div><div><div><div><div><div data-testid="Tweet-User-Avatar"><div><div><div data-testid="UserAvatar-Container-nearyd"><div><div><div><div><a href="https://twitter.com/nearyd" aria-hidden="true" role="link" tabindex="-1"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1402959533874548745/_ehbXNU4_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody" data-testid="tweetTextAnnotations"><div><p><span>Do you have particular advice for running a resilient and highly available SQL database on Kubernetes? Do you trust to redundancy of the storage layer when you allocate a block volume? Or maintain r/o replicas?</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1624176351396896769" itemprop="identifier"/><meta content="7" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2023-02-10T22:39:52.000Z" itemprop="dateCreated"/><meta content="2023-02-10T22:39:52.000Z" itemprop="datePublished"/><meta content="https://twitter.com/kelseyhightower/status/1624176351396896769" itemprop="url"/><meta content="https://twitter.com/nearyd/status/1624175144745697281" itemprop="isPartOf"/><div><article aria-labelledby="id__lb1zd6yi5xr id__4m82jqccsb id__m5mcejw9pt id__ezom5zgio2l id__5oxtk7023o9 id__ad9qzmjc75d id__cvm2v8xoq6g id__jziiejqvx3a id__57k8drqoag3 id__d0z93rl14h id__qpj27pgtl39 id__esulmxk8fnq id__b8rwpmd9j08 id__a58o6jy59a9 id__vumzimxk4b id__jgai9geob2 id__o45tiv8bpq id__avnhvby5hcf id__f3moo8xjxac" role="article" tabindex="-1" data-testid="tweet"><div><div><div><div><div><div data-testid="Tweet-User-Avatar"><div><div><div data-testid="UserAvatar-Container-kelseyhightower"><div><div><div><div><a href="https://twitter.com/kelseyhightower" aria-hidden="true" role="link" tabindex="-1"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1204077305271705606/j5XjhPAt_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody" data-testid="tweetTextAnnotations"><div><div dir="auto" lang="en" id="id__qpj27pgtl39" data-testid="tweetText"><p><span>Yes, see </span></p><p><span>, they have figured this out. 

I think it helps to have redundancy at all the layers including networking, storage, compute, **and** the database layer -- which should own cluster membership, leader election, data replication across multiple zones orâ€¦</span><a href="https://twitter.com/kelseyhightower/status/1624176351396896769" role="link" data-testid="tweet-text-show-more-link-1624176351396896769"><span>Â </span><span>Show more</span></a></p></div></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1624085468462870528" itemprop="identifier"/><meta content="8" itemprop="position"/><meta content="1" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2023-02-10T16:38:44.000Z" itemprop="dateCreated"/><meta content="2023-02-10T16:38:44.000Z" itemprop="datePublished"/><meta content="https://twitter.com/JK_Dynamic_D/status/1624085468462870528" itemprop="url"/><meta content="https://twitter.com/kelseyhightower/status/1624081136073994240" itemprop="isPartOf"/><div><article aria-labelledby="id__xab3jy8wf1 id__mgouo68f0da id__hrth1z2oa2 id__sajiz1tjzx id__gx2dwvb7u6 id__q5zy1hmgi6 id__1kvoalbv55v id__rzjouckrsv id__nltd7bn09v id__epy4ntjhexg id__e4p2ipmv1rr id__mcikbowhzc id__2zxmqwgw69y id__okjjyshu747 id__lvujh8y56z id__fdhduojm35m id__tyjn7iciiyo id__oz587jwrutj id__8406r6mwwcd" role="article" tabindex="-1" data-testid="tweet"><div><div><div><div><div><div data-testid="Tweet-User-Avatar"><div><div><div data-testid="UserAvatar-Container-JK_Dynamic_D"><div><div><div><div><a href="https://twitter.com/JK_Dynamic_D" aria-hidden="true" role="link" tabindex="-1"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/587419614906167296/4ufsN756_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody" data-testid="tweetTextAnnotations"><div><p><span>I&#39;m going to have to disagree here.  It requires additional knowledge of statefulsets in most cases, and very domain specific understanding of how k8s handles storage.  It&#39;s a big footgun.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1624093176276602880" itemprop="identifier"/><meta content="9" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2023-02-10T17:09:22.000Z" itemprop="dateCreated"/><meta content="2023-02-10T17:09:22.000Z" itemprop="datePublished"/><meta content="https://twitter.com/AndyNemmity/status/1624093176276602880" itemprop="url"/><meta content="https://twitter.com/JK_Dynamic_D/status/1624085468462870528" itemprop="isPartOf"/><div><article aria-labelledby="id__cd90z0iakh6 id__qutjetxd3m id__edeat55y1yd id__bfue7kf1rne id__rslvi1tn9ds id__ebb4pn56vmh id__okxf7fejwc id__yms6h86s8l id__r5d9r7nkc2s id__nbax3d3wfps id__qnlqy4lr6g id__0fyq58gvr76 id__1zfaf4dvwu7 id__sjtz9dai8b id__yeccshqsyli id__140nc07b738 id__kay2b1pqik8 id__zduhkkf56ci id__q9ogsoq5ms" role="article" tabindex="-1" data-testid="tweet"><div><div><div><div><div><div data-testid="Tweet-User-Avatar"><div><div><div data-testid="UserAvatar-Container-AndyNemmity"><div><div><div><div><a href="https://twitter.com/AndyNemmity" aria-hidden="true" role="link" tabindex="-1"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1559388679956750336/hHXkCJQ2_400x400.png"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody" data-testid="tweetTextAnnotations"><div><p><span>Itâ€™s not hard at all though. I guess doing it for years, I just donâ€™t see the problem.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1624092992905822210" itemprop="identifier"/><meta content="10" itemprop="position"/><meta content="0" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2023-02-10T17:08:38.000Z" itemprop="dateCreated"/><meta content="2023-02-10T17:08:38.000Z" itemprop="datePublished"/><meta content="https://twitter.com/AndyNemmity/status/1624092992905822210" itemprop="url"/><meta content="https://twitter.com/kelseyhightower/status/1624081136073994240" itemprop="isPartOf"/><div><article aria-labelledby="id__g0c5gm8mbik id__ngf0u70cpu id__x934v3l6f1 id__yb55g6nljfh id__7xn5scp0jin id__tktyxfm8u7 id__bu3ndr1u2tv id__wqyasqufirh id__sxdpvjfmiv id__u8m8nw2gg8 id__evgsuo507h id__fxjejw2k139 id__5015f72g1gc id__fdtxgat4a95 id__lke5alurlxr id__5up5sls5ars id__0g2ihqaer6nm id__2cqsg95hw63 id__tns3ca6o74" role="article" tabindex="-1" data-testid="tweet"><div><div><div><div><div><div data-testid="Tweet-User-Avatar"><div><div><div data-testid="UserAvatar-Container-AndyNemmity"><div><div><div><div><a href="https://twitter.com/AndyNemmity" aria-hidden="true" role="link" tabindex="-1"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1559388679956750336/hHXkCJQ2_400x400.png"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody" data-testid="tweetTextAnnotations"><div><p><span>We run a lot of databases on kubernetes. As long as your storage isnâ€™t a disaster itâ€™s a great time. Super reasonable for years.</span></p></div></div></div></div></div></div></div></div></article></div></div></div><div><div itemprop="hasPart" itemscope="" itemtype="https://schema.org/SocialMediaPosting"><meta content="1624136643828670465" itemprop="identifier"/><meta content="11" itemprop="position"/><meta content="2" itemprop="commentCount"/><meta content="" itemprop="contentRating"/><meta content="2023-02-10T20:02:05.000Z" itemprop="dateCreated"/><meta content="2023-02-10T20:02:05.000Z" itemprop="datePublished"/><meta content="https://twitter.com/ovaistariq/status/1624136643828670465" itemprop="url"/><meta content="https://twitter.com/kelseyhightower/status/1624081136073994240" itemprop="isPartOf"/><div><article aria-labelledby="id__pph8ew4l7ql id__j3exo165fql id__dn9en3gxrgg id__253d2fgg0s5 id__ttxn3xugci id__s7qsj9kr7lb id__poblozjybue id__9fsvfrq7mwl id__oxh2o8u12d id__95i34p8otgp id__ztz79p920mk id__gkf4n4tzi44 id__oeiffgu7yzg id__galhc9d9p1n id__kzlvzzipwi id__wvrdyhw8g7h id__er835cyuuku id__tb2q2rtflke id__l8eyxd8gvo9" role="article" tabindex="-1" data-testid="tweet"><div><div><div><div><div><div data-testid="Tweet-User-Avatar"><div><div><div data-testid="UserAvatar-Container-ovaistariq"><div><div><div><div><a href="https://twitter.com/ovaistariq" aria-hidden="true" role="link" tabindex="-1"><div><div><div><div aria-label=""><p><img alt="" draggable="true" src="https://pbs.twimg.com/profile_images/1519085803883798528/4Iwiw-dZ_400x400.jpg"/></p></div></div></div></div></a></div></div></div></div></div></div></div></div></div><div><div><div itemprop="articleBody" data-testid="tweetTextAnnotations"><div><p><span>Kubernetes works really well for databases and stateful workloads if one understands how to run in a dynamic environment. The challenge generally is with traditional databases that were built with the assumption that machines will never fail.</span></p></div></div></div></div></div></div></div></div></article></div></div></div></div></div></section></div></div></div></div></div></div></div></div>
  </body>
</html>
