<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://elijer.github.io/garden/devnotes/LeetCode-Journal/29%29-Min-Stack">Original</a>
    <h1>29) Min Stack</h1>
    
    <div id="readability-page-1" class="page"><div id="quartz-body"><div><article><p>time to completion: <code>5:21</code>, first try! (But with chatGPT and google syntax questions)</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="ts" data-theme="github-light github-dark"><code data-language="ts" data-theme="github-light github-dark"><span data-line=""><span>class</span><span> MinStack</span><span> {</span></span>
<span data-line=""><span>    stack</span><span>:</span><span> number</span><span>[]</span></span>
<span data-line=""> </span>
<span data-line=""><span>    constructor</span><span>() {</span></span>
<span data-line=""><span>        this</span><span>.stack </span><span>=</span><span> []</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    push</span><span>(</span><span>val</span><span>:</span><span> number</span><span>)</span><span>:</span><span> void</span><span> {</span></span>
<span data-line=""><span>        this</span><span>.stack.</span><span>push</span><span>(val)</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    pop</span><span>()</span><span>:</span><span> void</span><span> {</span></span>
<span data-line=""><span>        this</span><span>.stack.</span><span>pop</span><span>()</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    top</span><span>()</span><span>:</span><span> number</span><span> {</span></span>
<span data-line=""><span>        const</span><span> lastEl</span><span> =</span><span> this</span><span>.stack.</span><span>length</span><span> -</span><span> 1</span></span>
<span data-line=""><span>        return</span><span> this</span><span>.stack[lastEl]</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    getMin</span><span>()</span><span>:</span><span> number</span><span> {</span></span>
<span data-line=""><span>        return</span><span> Math.</span><span>min</span><span>(</span><span>...</span><span>this</span><span>.stack)</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""><span>}</span></span>
<span data-line=""> </span>
<span data-line=""><span>/**</span></span>
<span data-line=""><span> * Your MinStack object will be instantiated and called as such:</span></span>
<span data-line=""><span> * var obj = new MinStack()</span></span>
<span data-line=""><span> * obj.push(val)</span></span>
<span data-line=""><span> * obj.pop()</span></span>
<span data-line=""><span> * var param_3 = obj.top()</span></span>
<span data-line=""><span> * var param_4 = obj.getMin()</span></span>
<span data-line=""><span> */</span></span></code></pre></figure>
<p>This was fun to write. I am starting to the like the class-with-method problems. I learned and/or was reminded of a few things from this exercise:</p>
<ul>
<li>The spread operator can be used for arguments in a function, specifically <code>Math.min(...someValues)</code></li>
<li>There is really no negative indexing in TS like there is in python which is unfortunate</li>
</ul>
<p><strong>Attempt 2:</strong>
This was a bit of a mess, but the idea is essentially just this:
Instead of finding the min value when your popMin, calculate the min value as you go.
But the best way to do this is sort of weird.</p>
<p>Originally, I thought I would just check any inputs from push <code>Math.min()</code> them to replace the <code>this.min</code> of the class as I went. But this doesn’t survive <code>pop()</code>, which may or may not be deleting that value.</p>
<p>So then I changed <code>min</code> to an array, and for <code>getMin</code> always returned the last element. But I found this <em>still</em> didn’t work very well with <code>pop()</code>.</p>
<p>ChatGPT had a good approach that wasn’t intuitive to me at all, which was to continually stack the <code>this.min</code>, but just to add to it <em>every</em> <code>pop</code> operation, even when we were keeping <code>min</code> the same. This way, we could rewind the <code>min</code> whenever we wanted, easily.</p>
<p>I still feel like there might be a way to <em>only</em> write data when a new min is found, but it’s certainly more complex to handle this with the <code>pop</code> class when that last min may or may not be the value that’s being popped. So this is what I got:</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="ts" data-theme="github-light github-dark"><code data-language="ts" data-theme="github-light github-dark"><span data-line=""><span>class</span><span> MinStack</span><span> {</span></span>
<span data-line=""><span>    stack</span><span>:</span><span> number</span><span>[]</span></span>
<span data-line=""><span>    min</span><span>:</span><span> number</span><span>[]</span></span>
<span data-line=""> </span>
<span data-line=""><span>    constructor</span><span>() {</span></span>
<span data-line=""><span>        this</span><span>.stack </span><span>=</span><span> []</span></span>
<span data-line=""><span>        this</span><span>.min </span><span>=</span><span> []</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    getLastMinVal</span><span>(){</span></span>
<span data-line=""><span>        return</span><span> this</span><span>.min[</span><span>this</span><span>.min.</span><span>length</span><span>-</span><span>1</span><span>]</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    push</span><span>(</span><span>val</span><span>:</span><span> number</span><span>)</span><span>:</span><span> void</span><span> {</span></span>
<span data-line=""><span>        this</span><span>.stack.</span><span>push</span><span>(val)</span></span>
<span data-line=""><span>        if</span><span> (</span><span>this</span><span>.min.</span><span>length</span><span> ===</span><span> 0</span><span>){</span></span>
<span data-line=""><span>            this</span><span>.min.</span><span>push</span><span>(val)</span></span>
<span data-line=""><span>        } </span><span>else</span><span> {</span></span>
<span data-line=""><span>            this</span><span>.min.</span><span>push</span><span>(Math.</span><span>min</span><span>(val, </span><span>this</span><span>.</span><span>getLastMinVal</span><span>()))</span></span>
<span data-line=""><span>        }</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    pop</span><span>()</span><span>:</span><span> void</span><span> {</span></span>
<span data-line=""><span>        this</span><span>.min.</span><span>pop</span><span>()</span></span>
<span data-line=""><span>        this</span><span>.stack.</span><span>pop</span><span>()</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    top</span><span>()</span><span>:</span><span> number</span><span> {</span></span>
<span data-line=""><span>        const</span><span> lastEl</span><span> =</span><span> this</span><span>.stack.</span><span>length</span><span> -</span><span> 1</span></span>
<span data-line=""><span>        return</span><span> this</span><span>.stack[lastEl]</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    getMin</span><span>()</span><span>:</span><span> number</span><span> {</span></span>
<span data-line=""><span>        return</span><span> this</span><span>.</span><span>getLastMinVal</span><span>()</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""><span>}</span></span>
<span data-line=""> </span>
<span data-line=""><span>/**</span></span>
<span data-line=""><span> * Your MinStack object will be instantiated and called as such:</span></span>
<span data-line=""><span> * var obj = new MinStack()</span></span>
<span data-line=""><span> * obj.push(val)</span></span>
<span data-line=""><span> * obj.pop()</span></span>
<span data-line=""><span> * var param_3 = obj.top()</span></span>
<span data-line=""><span> * var param_4 = obj.getMin()</span></span>
<span data-line=""><span> */</span></span></code></pre></figure>
<p>It’s more performative at <code>92</code>ms versus <code>237</code>ms.</p>
<p><strong>Attempt 3</strong>
Bleh, was on a roll and then got a spam call halfway through but otherwise it went well and I tightened things up a bit.
Time to completion: <code>323</code>ms</p>
<p>Code:</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="ts" data-theme="github-light github-dark"><code data-language="ts" data-theme="github-light github-dark"><span data-line=""><span>class</span><span> MinStack</span><span> {</span></span>
<span data-line=""><span>    stack</span><span>:</span><span> number</span><span>[]</span></span>
<span data-line=""><span>    minStack</span><span>:</span><span> number</span><span>[]</span></span>
<span data-line=""> </span>
<span data-line=""><span>    constructor</span><span>() {</span></span>
<span data-line=""><span>        this</span><span>.stack </span><span>=</span><span> []</span></span>
<span data-line=""><span>        this</span><span>.minStack </span><span>=</span><span> []</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    push</span><span>(</span><span>val</span><span>:</span><span> number</span><span>)</span><span>:</span><span> void</span><span> {</span></span>
<span data-line=""><span>        this</span><span>.stack.</span><span>push</span><span>(val)</span></span>
<span data-line=""><span>        if</span><span> (</span><span>!</span><span>this</span><span>.minStack.</span><span>length</span><span>){</span></span>
<span data-line=""><span>            this</span><span>.minStack.</span><span>push</span><span>(val)</span></span>
<span data-line=""><span>        } </span><span>else</span><span> {</span></span>
<span data-line=""><span>            this</span><span>.minStack.</span><span>push</span><span>(Math.</span><span>min</span><span>(val, </span><span>this</span><span>.</span><span>getMin</span><span>()))</span></span>
<span data-line=""><span>        }</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    pop</span><span>()</span><span>:</span><span> void</span><span> {</span></span>
<span data-line=""><span>        this</span><span>.stack.</span><span>pop</span><span>()</span></span>
<span data-line=""><span>        this</span><span>.minStack.</span><span>pop</span><span>()</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    top</span><span>()</span><span>:</span><span> number</span><span> {</span></span>
<span data-line=""><span>        return</span><span> this</span><span>.stack[</span><span>this</span><span>.stack.</span><span>length</span><span>-</span><span>1</span><span>]</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    getMin</span><span>()</span><span>:</span><span> number</span><span> {</span></span>
<span data-line=""><span>        return</span><span> this</span><span>.minStack[</span><span>this</span><span>.minStack.</span><span>length</span><span>-</span><span>1</span><span>]</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""><span>}</span></span>
<span data-line=""> </span>
<span data-line=""><span>/**</span></span>
<span data-line=""><span> * Your MinStack object will be instantiated and called as such:</span></span>
<span data-line=""><span> * var obj = new MinStack()</span></span>
<span data-line=""><span> * obj.push(val)</span></span>
<span data-line=""><span> * obj.pop()</span></span>
<span data-line=""><span> * var param_3 = obj.top()</span></span>
<span data-line=""><span> * var param_4 = obj.getMin()</span></span>
<span data-line=""><span> */</span></span></code></pre></figure>
<p>Overall, I think this particular strategy of <code>compute-as-you-go</code> in this <code>action-log</code> style way of working is new to me, and I think it will be helpful in the future.</p>
<p><strong>Attempt 4</strong>
Time to completion: <code>2:38</code>
All of these attempts are same day. We’ll see how I do after some time passes.</p></article><hr/></div></div></div>
  </body>
</html>
