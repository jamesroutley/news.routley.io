<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.pausly.app/blog/accessible-hamburger-buttons-without-javascript">Original</a>
    <h1>Accessible hamburger buttons without JavaScript</h1>
    
    <div id="readability-page-1" class="page"><div><div>

        <div><!-- HTML_TAG_START --><p>Over the last few decades hamburger buttons have become the de facto standard to expand larger menus on smaller devices. They are so ubiquitous that every user immediately knows what they are when seen in the top left or right corner, which makes them a good user interface element choice. They are also very easy to implement with JavaScript: listen to the <code>onclick</code> event of the button and add or remove a class so you can style the menu with CSS accordingly.</p><p>So, if it’s that easy to do, why bother with a HTML and CSS only solution? Well, there are two reasons. Firstly, <a href="https://adamsilver.io/blog/javascript-isnt-always-available-and-its-not-the-users-fault/" custom="[object Object]" target="_self" linktype="url">people can’t load or execute the JavaScript on your page more often than you think</a> (<a href="https://www.kryogenix.org/code/browser/everyonehasjs.html" custom="[object Object]" linktype="url">everyone has JavaScript, right?</a>). But more importantly, it is very likely that your user sees a SSR (server side rendered) page served as pure HTML initially, before the JavaScript is loaded.</p><blockquote><p>On SSR pages you want your navigation to work immediately – before any JavaScript is loaded.</p></blockquote><p>I’m sure you’ve experienced it before. You navigated to a site, it seems to have fully loaded, and you press the hamburger button... but nothing happens. You do that again and again until finally the JavaScript finishes loading in the background and the menu opens.</p><p>Even if you don’t care about the few people that sometimes aren’t able to execute the JavaScript on your site (which... you probably should) there is good reason to create a hamburger button without JavaScript anyway and remove that frustration.</p><blockquote><p>The hamburger button on this site is built with the exact same technique described in this article. Make sure your browser window is small enough so you can see it, and try it!</p></blockquote><p>We will be adding some additional elements later on to make sure the site remains accessible for people using screen readers, but the core concept to create a pure HTML &amp; CSS hamburger button is quite easy. It consists of these elements:</p><ul><li><p>An (invisible) checkbox above the HTML of our menu with the <code>menustate</code> id</p></li><li><p>A <code>&lt;label&gt;</code> element that acts as the hamburger button and toggles the checkbox by using the <code>for=&#34;menustate&#34;</code> attribute </p></li><li><p>CSS to show or hide the menu depending on whether the checkbox is checked by using the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/General_sibling_combinator" custom="[object Object]" linktype="url">general sibling combinator</a></p></li></ul><p>A very basic example looks like this:</p><pre><code>&lt;input aria-hidden=&#34;true&#34; type=&#34;checkbox&#34; id=&#34;menustate&#34; /&gt;
&lt;nav&gt;
  &lt;label for=&#34;menustate&#34;&gt;
    &lt;span class=&#34;open&#34;&gt;≡&lt;/span&gt;
    &lt;span class=&#34;close&#34;&gt;×&lt;/span&gt;
  &lt;/label&gt;
  &lt;ul&gt; &lt;li&gt;Home&lt;/li&gt; &lt;li&gt;Contact&lt;/li&gt; &lt;li&gt;About&lt;/li&gt; &lt;/ul&gt;
&lt;/nav&gt;

&lt;style&gt;
  #menustate,
  nav ul,
  nav .close {
    /* Hide the checkbox, menu and close button by default */
    display: none;
  }
  #menustate:checked ~ nav :is(ul, .close) {
    /*
      Show the menu and close button when the menu is open
      (when the #menustate input field is checked)
    */
    display: block;
  }
  #menustate:checked ~ nav .open {
    /* Hide the open button when the menu is open */
    display: none;
  }
&lt;/style&gt;</code></pre><p>You can see it in action on <a href="https://codepen.io/enyo/pen/eYjVqzm" custom="[object Object]" linktype="url">codepen</a> (there is another link to a full implementation in the conclusion).</p><p>(Animating the hamburger to transform into the X shape is not in the scope of this article, but here is a short summary: add an svg with the hamburger icon. Instead of showing or hiding one icon or the other, translate and rotate the lines with CSS when the menu is open, so the lines form an “X”. Use the CSS transition property to animate the lines. Inspect the source of the hamburger button on this site to see how it’s done exactly.)</p><p>This already got us 90% of the way, but it has a glaring issue: it is not accessible.</p><p>We should always strive to make our websites as accessible as possible to make sure that <i>everyone</i> has the best experience possible.</p><blockquote><p>Put yourself in the shoes of a visually impaired person and think how frustrating it must be to get on a page that doesn’t allow you to open the main menu!</p></blockquote><p>But even if accessibility is not required in your particular case (you might be building an internal site where there are no visually impaired people) you want people to be able to navigate your page with the <i>keyboard</i>.</p><p>So how do we get there?</p><h2>Open and Close Buttons</h2><p>The most accessible way is to use two separate anchor elements (<code>&lt;a&gt;</code>)  that will serve as the open and close buttons for the menu.</p><p>We’ll employ a similar but slightly different technique than with the label. Instead of the buttons toggling the checked property of our input field, the <i>open</i> link will have a <code>href=&#34;#menustate”</code> which means that our input field will become the <b><i>target</i></b><i>.</i> Elements that have the same ID as the URL fragment can be selected in CSS with the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:target" custom="[object Object]" target="_self" linktype="url">target pseudo class</a>. The <i>close</i> link on the other hand will have a <code>href=&#34;#”</code> and thus remove the target.</p><p>We can then change our CSS selector so it will not only target the input field when it’s <code>:checked</code> but also when it’s the <code>:target</code>:</p><pre><code>:is(#menustate:checked, #menustate:target) ~ nav :is(ul, .close) {
  /*
    Select either a &lt;ul&gt; or .close element inside the nav when it’s preceded
    by the #menustate:checked or #menustate:target.
  */
}</code></pre><p>Make sure you hide the close or open anchor element when the menu is closed or opened (respectively) with <code>display: none</code>. This makes sure screen readers won’t announce them and they won’t be accessible with the keyboard.</p><p>These two links are not meant to be clicked or pressed though (they only serve as targets for the keyboard or screen readers). That’s why they are placed in the exact same spot as our hamburger button (the <code>&lt;label&gt;</code> element) but <i>behind</i> it.</p><p><img alt="A visualisation of how the hamburger button and the accessibility links are placed." src="https://a.storyblok.com/f/183195/878x144/d6ae115091/hamburger-button.png" title="The hamburger button with the “invisible” accessibility links."/></p><p>To make sure screen readers can properly announce what these elements are for, we assign <code>role=&#34;button&#34;</code> to both and add <code>&lt;span&gt;</code> elements that are <a href="https://webaim.org/techniques/css/invisiblecontent/" custom="[object Object]" linktype="url">only visible to screen readers</a> inside both links that serve as descriptive texts.</p><p>(To test it, you can temporarily remove the label from your page an click the links. Everything should behave the same, with the only difference, that now you get <code>#menustate</code> and <code>#</code> appended to the URL whenever they are pressed.)</p><p>We could call it a day here. We have a label that toggles the checkbox when pressed and serves as our hamburger button. And then we have open and close buttons that make the checkbox a <code>:target</code> for accessibility.</p><p>There is just one minor improvement that will make this perfect. The anchor links work great, but they have two downsides:</p><ol><li><p>They will force the page to scroll back to the top (depending on your use case that might be desirable but this will not always be what you want)</p></li><li><p>They add the <code>#menustate</code> and <code>#</code> fragments to your URL when pressed which just isn’t pretty.</p></li></ol><p>In order to fix both issues, we will do some progressive enhancement with JavaScript!</p><blockquote><p>In this case it’s fine to use JavaScript because it’s only an enhancement. The hamburger button works fine without it.</p></blockquote><p>Depending on the framework you&#39;re using the actual code for this will look different, but in any case it’s very simple to implement: you add a click event listener to your links, make sure the browser doesn’t actually use the <code>href</code> by using <code>event.preventDefault()</code> and toggle the checked value of the input field instead.</p><p>For the open button the code could look like this:</p><pre><code>const clickHandler = (event) =&gt; {
  event.preventDefault()
  document.querySelector(‘#menustate’).checked = true;
}</code></pre><p>There is a bit of work involved in implementing this properly, but given that this is the <b>main navigation</b> of your website it is well worth it. It’s likely that the hamburger button is the first thing your visitors try to press and if that fails they’ll become frustrated.</p><p>You can find the full implementation of the button in <a href="https://codepen.io/enyo/pen/yLqjrOR" custom="[object Object]" linktype="url">this codepen</a>. You can copy the code and adapt the styling to your site.</p><p>Feel free to inspect the code on this page as well, to see how the HTML and CSS is implemented for the animation.</p><p>And don’t forget to <a href="https://www.pausly.app/session/create" custom="[object Object]" linktype="url">take a short break</a>. Stay healthy!</p><!-- HTML_TAG_END --></div>

        </div></div></div>
  </body>
</html>
