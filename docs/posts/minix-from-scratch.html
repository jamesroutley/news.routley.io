<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/o-oconnell/minixfromscratch">Original</a>
    <h1>MINIX from Scratch</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<h2 tabindex="-1" dir="auto"><a id="user-content-why-minix" aria-hidden="true" href="#why-minix"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Why MINIX?</h2>
<p dir="auto">I believe that learning MINIX is probably the best way to learn about operating systems. Until now, I have not been able to find a MINIX 3 project that allows you to compile the code that is referenced in the book <em>Operating Systems: Design and Implementation (3e)</em> (v3.1.0). It was tricky to get a reasonable development setup to make it possible for newbies like myself to learn from the book. This is an attempt to fix that and make it easy to browse, edit, recompile, and execute the code.</p>
<p dir="auto">Why should you learn MINIX instead of Linux? Or rather than another teaching OS such as xv6, NachOS, or Xinu?</p>
<p dir="auto">Unlike most of these systems, MINIX:</p>
<ul dir="auto">
<li>Is heavily commented.</li>
<li>Comes with three highly detailed books as its primary form of documentation.</li>
<li>Has a much smaller and easier-to-understand kernel (it helps that it&#39;s a microkernel).</li>
<li>Runs quite well on an emulator without melting your CPU (at least since the 2nd edition).</li>
</ul>
<p dir="auto">Although xv6 and these other systems have been valuable tools for me (and may have extra features, like threads and NAT), I have found that the MINIX documentation is the most extensive.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-screenshots" aria-hidden="true" href="#screenshots"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Screenshots</h2>
<p dir="auto">The login screen:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/o-oconnell/minixfromscratch/blob/master/screenshots/minixlogin.png"><img src="https://github.com/o-oconnell/minixfromscratch/raw/master/screenshots/minixlogin.png" alt="login"/></a></p>
<p dir="auto">Using the built-in partition editor, <code>part</code>:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/o-oconnell/minixfromscratch/blob/master/screenshots/part.png"><img src="https://github.com/o-oconnell/minixfromscratch/raw/master/screenshots/part.png" alt="part"/></a></p>
<p dir="auto">Editing code from the hard disk image mounted with <code>mountminix3.sh</code>:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/o-oconnell/minixfromscratch/blob/master/screenshots/editingminix3.png"><img src="https://github.com/o-oconnell/minixfromscratch/raw/master/screenshots/editingminix3.png" alt="src"/></a></p>
<p dir="auto">Navigating the code in /usr/src:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/o-oconnell/minixfromscratch/blob/master/screenshots/src.png"><img src="https://github.com/o-oconnell/minixfromscratch/raw/master/screenshots/src.png" alt="src"/></a></p>
<p dir="auto">Recompiling the system:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/o-oconnell/minixfromscratch/blob/master/screenshots/minixcompile.png"><img src="https://github.com/o-oconnell/minixfromscratch/raw/master/screenshots/minixcompile.png" alt="recompile"/></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-minimal-working-example" aria-hidden="true" href="#minimal-working-example"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Minimal working example</h2>
<p dir="auto">Assuming you have QEMU installed, run <code>./qemuminix3.sh</code>. After it boots, you can log in with username &#34;root&#34; and no password. To edit the code and recompile:</p>
<ul dir="auto">
<li>Exit MINIX with CTRL+ALT+DEL (if you do not, you may lose files that were not synced to the hard disk). You&#39;ll then need to close QEMU manually (MINIX doesn&#39;t know how).</li>
<li>Mount the root, usr, and home partitions with <code>./mountminix3</code>. Linux requires superuser permissions to mount a file system.</li>
<li>Make your edits to the code (for a start, maybe try modifying the <a href="https://github.com/o-oconnell/minixfromscratch/blob/master/minix-3.1.0/kernel/main.c#L175">boot message</a>).</li>
<li>Unmount the filesystems using <code>./umountminix3.sh</code> (also requires sudo).</li>
<li>Start the system again with <code>./qemuminix3.sh</code></li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-why-learn-minix-before-linux" aria-hidden="true" href="#why-learn-minix-before-linux"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Why learn MINIX before Linux</h2>
<p dir="auto">Relevant quote from Andy Tanenbaum:</p>
<p dir="auto">For people who thought little of MS-DOS , the existence of MINIX (with source code) as an alternative was even a reason to finally go out and buy a PC. One of these people was a Finnish student named Linus Torvalds. Torvalds installed MINIX on his new PC and studied the source code carefully...By Aug. 1991 he had produced a primitive kernel. On Aug. 25, 1991, he announced it on comp.os.minix...Thus was Linux born (OSDI, 3e, p.19).</p>
<p dir="auto">MINIX is a great tool for learning about Linux. MINIX is like a small and simplified version of Linux - Linus took heavy inspiration from it, and his legendary <a href="https://www.cs.cmu.edu/~awb/linux.history.html" rel="nofollow">&#34;nothing big&#34;</a> post announcing Linux was first posted on the comp.os.minix news board. Within MINIX you will find many familiar Unix/Linux tools and features, including:</p>
<ul dir="auto">
<li>A similar directory structure: files such as /etc/utmp, /etc/passwd, /dev are where you expect them to be.</li>
<li>A Bash interpreter (ash) with source code.</li>
<li>Similar filesystem conventions: just as in Linux, you can mount filesystems directly onto the root filesystem with <code>mount</code>.</li>
<li>A similar system administration structure, with familiar utilities like <code>chmod</code>, <code>mkfs</code>, <code>mkisofs</code> (<code>genisoimage</code>), <code>part</code> (similar to <code>fdisk</code> or <code>parted</code>) an Emacs clone (elle), and a Vim clone (evil).</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-minix-is-useful-for-learning-about" aria-hidden="true" href="#minix-is-useful-for-learning-about"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>MINIX is useful for learning about</h2>
<ul dir="auto">
<li>Operating systems</li>
<li>Cybersecurity</li>
<li>Networking</li>
<li>System administration</li>
<li>Computer architecture</li>
<li>Compilers (MINIX ships with its own miniature C compiler, ACKPACK)</li>
<li>Filesystems and disk partitioning</li>
<li>Hardware</li>
<li>Bash scripting</li>
<li>Data structures and algorithms</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-making-your-own-hard-disk-image" aria-hidden="true" href="#making-your-own-hard-disk-image"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Making your own hard disk image</h2>
<p dir="auto">To make a bootable and editable hard disk image, you&#39;ll need to install it from the official MINIX CD. You can find it at <a href="https://github.com/o-oconnell/minixfromscratch/blob/master/minix3.org">minix3.org</a>. MINIX 3 comes with a <code>setup.sh</code> utility, which will install to the hard disk that you specify with your desired network card, partitions, etc.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-references" aria-hidden="true" href="#references"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>References</h2>
<ul dir="auto">
<li><a href="https://www.amazon.com/Operating-Systems-Design-Implementation-3rd/dp/0131429388" rel="nofollow">Operating Systems: Design and Implementation (3e)</a></li>
<li><a href="https://github.com/o-oconnell/minixfromscratch/blob/master/minix1.woodhull.com">Albert Woodhull&#39;s site</a></li>
<li><a href="https://github.com/o-oconnell/minixfromscratch/blob/master/minix3.org">The official MINIX site</a>. Installation images can be downloaded from here.</li>
<li><a href="https://github.com/davidgiven/minix2">Minix QD</a> (has Minix 1 and 2).</li>
<li>The <a href="https://github.com/o-oconnell/minixfromscratch/blob/master/groups.google.com/g/minix3">MINIX mailing list</a></li>
</ul>
</article>
          </div></div>
  </body>
</html>
