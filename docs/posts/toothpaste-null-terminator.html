<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://dunkels.com/adam/sentinel-toothpaste/">Original</a>
    <h1>Toothpaste Null-Terminator</h1>
    
    <div id="readability-page-1" class="page"><article>                
			<p>Here’s one programming technique that I found very useful in daily life: the <a href="https://en.wikipedia.org/wiki/Sentinel_value">sentinel value</a>. I use it pretty much every day – to manage toothpaste.</p>

<p>In programming, a sentinel value is a simple way to keep track of the end of a list of items. Lets say you have a list of items. You make the last item in that list a special one. That way you easily know that you have found the end of the list: when your item is that special one, that’s the end of your list.</p>

<p>Here is a visual repressentation using emojis:</p>

<table>
  <tbody>
    <tr>
      <td>😀</td>
      <td>🥰</td>
      <td>😎</td>
      <td>🤗</td>
      <td>🙄</td>
      <td>😜</td>
      <td>😮‍💨</td>
      <td>🐈</td>
    </tr>
  </tbody>
</table>

<p>The cat is not a smiley face, so we can use the presence of the cat to know that we have reached the end of the list.</p>

<p>One typical usecase for this programming pattern is null-terminated text strings, where the null character <code>\0</code> is used to mark the end of the characters in the string. To compute the length of the string, we just need to go through the string until we find a null character. That null character is the sentinel value.</p>

<p>Here is the string <code>String</code>, with the final <code>\0</code> character being the sentinal value:</p>



<p>Another usecase is a <code>null</code> pointer value in a linked list. If each member of the list is a non-null pointer, we can use the presence of a null pointer to indicate the end of that list.</p>

<p>I have found this programming technique extremely useful in daily life, to manage toothpaste tubes.</p>

<p>It isn’t fun to run out of toothpaste when you need it the most. You don’t want to find out that you’re out of toothpaste just when you need to brush your teeth before leaving the house.</p>

<p>So when I buy toothpaste, I buy a bunch of them, and always make sure to get one tube of toothpaste that is different from the others – the sentinel toothpaste:</p>

<p><img src="https://github.com/saulshanabrook/saulshanabrook/assets/images/sentinel-toothpaste/sentinel-toothpaste.jpg" alt="The sentinel toothpaste is that last tube, which is different from the others"/></p>

<p>When I find that the only tube of toothpaste left is that special, sentinel toothpaste, then I know it is time to buy more toothpaste. And then I have ample time to do so.</p>

<p>I first learned of the sentinel object technique in a programming lecture by <a href="https://cs.lth.se/lennart-andersson/">Lennart Andersson</a>, who was one of my first lecturers in computer science and programming and a great computer scientist and teacher. I learned a bunch of extremely useful programming techniques from Lennart, which I have had a lot of use in my professional life, but this is the only one I found useful in life outside of computer science and programming.</p>

<p>Here are a few of the useful things I learned from Lennart:</p>

<ul>
  <li>
    <p>How to efficiently write parsers for <a href="https://en.wikipedia.org/wiki/Formal_language">formal languages</a>, such as mathematical expressions and programming languages.</p>
  </li>
  <li>
    <p>How satisfyingly compact <a href="https://en.wikipedia.org/wiki/Functional_programming">functional programming</a> techniques can be, particularly with <code>map</code>, <code>reduce</code>, and <code>filter</code> operations, even in imperative languages.</p>
  </li>
  <li>
    <p>That (some) printers weren’t just dumb devices that would print bitmaps, but that they were running a fully-fledged language called <a href="https://en.wikipedia.org/wiki/PostScript">PostScript</a>. So you could manually write a piece of code that you could send to the printer, which would run it and generate output – on the paper. What a realization!</p>
  </li>
  <li>
    <p>How to avoid comparing floating point values directly with each other – instead, subtract them from each other and check that the difference is small. That is, instead of checking <code>a == b</code>, check <code>abs(a - b) &lt; 0.0001</code> (or some other small quantity). This is a nifty way to protect against small <a href="https://en.wikipedia.org/wiki/Floating-point_error_mitigation">numerical errors in floating point repressentation</a>.</p>
  </li>
  <li>
    <p>The importance of external vs internal repressentation of data structures: we were given a lab assignment to write a small Excel/VisiCalc clone. We were free to do it in any way we wanted, with one exception – we were not allowed to use a two-dimensional array to repressent the contents of the sheet. The purpose was to teach us that the externally visible repressentation (a two-dimensional sheet of cells) was in no way related to the best way to repressent the same data internally, inside our program. This has stuck with me ever since.</p>
  </li>
</ul>
                
			</article></div>
  </body>
</html>
