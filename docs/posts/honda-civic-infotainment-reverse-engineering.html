<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/librick/ic1101">Original</a>
    <h1>Show HN: Honda Civic Infotainment Reverse-Engineering</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">An open research project into my 2021 Honda Civic infotainment system</p>
<p dir="auto"><strong>Assuming you have root access on your headunit, I highly recommend enabling adb <em>and</em> switching the USB port(s) to device mode. See docs/adb.md for more info. Do this before doing anything else, it may save you from bricking your device.</strong></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-legal-notice" aria-hidden="true" href="#legal-notice"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Legal Notice</h2>
<p dir="auto"><g-emoji alias="warning" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png">⚠️</g-emoji> I&#39;m not affiliated with Honda Motor Co., Ltd. I&#39;m not affiliated with Mitsubishi. Honda and Honda Civic are registered trademarks. This is for personal use only. I can&#39;t condone software piracy. <g-emoji alias="warning" fallback-src="https://github.githubassets.com/images/icons/emoji/unicode/26a0.png">⚠️</g-emoji></p>
<p dir="auto">I take no responsibility for bricked/damaged cars, headunits, etc.</p>
<p dir="auto">All information in this repo <em>should</em> already be in the public domain or otherwise be publicly discoverable. I&#39;ve intentionally avoided directly including <code>.apk</code>/<code>.odex</code> files or other &#34;confidential&#34;/proprietary information.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-technical-overview" aria-hidden="true" href="#technical-overview"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Technical Overview</h2>
<p dir="auto">Infotainment SoC: NVIDIA Tegra 3, c. 2012</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-emmc-and-flash" aria-hidden="true" href="#emmc-and-flash"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>eMMC and Flash</h2>
<ul dir="auto">
<li>There are three <code>mmc&lt;n&gt;</code> devices under <code>/sys/class/mmc_host</code>:
<ul dir="auto">
<li><code>mmc0</code></li>
<li><code>mmc1</code></li>
<li><code>mmc2</code></li>
</ul>
</li>
<li><code>cat /sys/class/mmc_host/mmc0/mmc0:0001/name</code> gives the string <code>R1J55A</code></li>
<li>The eMMC interface is used for <strong>flash storage</strong> and for <strong>Wi-Fi and Bluetooth</strong></li>
</ul>
<h3 tabindex="-1" dir="auto"><a id="user-content-flash-storage" aria-hidden="true" href="#flash-storage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Flash Storage</h3>
<ul dir="auto">
<li>The infotainment unit uses a Micron 8GB eMMC flash chip for storage</li>
<li>Its CID is R1J55A, confirmed via the sysfs interface</li>
<li>The flash is available via the sysfs interface at <code>/sys/class/mmc_host/mmc0/mmc:0001</code></li>
<li>It is exposed via sysfs at <code>/sys/class/mmc_host/mmc0/</code></li>
</ul>
<p dir="auto">I haven&#39;t validated that the ordering of <code>mmc_host</code> devices within sysfs is constant.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-wi-fi-and-bluetooth" aria-hidden="true" href="#wi-fi-and-bluetooth"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Wi-Fi and Bluetooth</h3>
<ul dir="auto">
<li>Wi-Fi and Bluetooth are provided by a shared TI WiLink 8 chip</li>
<li>The TI WiLink 8 chip is connected via eMMC (similar to a Raspberry Pi)</li>
<li>It uses the <code>wl18xx</code> kernel module</li>
<li>It is exposed via sysfs at <code>/sys/class/mmc_host/mmc1/</code></li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-spi" aria-hidden="true" href="#spi"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>SPI</h2>
<ul dir="auto">
<li>The A3G4250D chip is connected via SPI</li>
<li>The product page for A3G4250D describes it as a</li>
</ul>
<blockquote>
<p dir="auto">3-axis digital gyroscope for automotive telematics, navigation applications, AEC-Q100 qualified ...
The A3G4250D is a low-power 3-axis angular rate sensor able to provide unprecedented stability at zero rate level and sensitivity over temperature and time. It includes a sensing element and an IC interface capable of providing the measured angular rate to the external world through a standard SPI digital interface. An I2C-compatible interface is also available.</p>
</blockquote>
<ul dir="auto">
<li><code>a3g4250d_temp</code> is registered as an input at <code>/devices/platform/spi_tegra.4/spi4.2/input/input2</code></li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-gpio" aria-hidden="true" href="#gpio"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>GPIO</h2>
<ul dir="auto">
<li>The infotainment unit makes use of several GPIO pins</li>
<li>Many apks and native libraries hard-code specific GPIO numbers</li>
<li>They can be accessed and enumerated via a (deprecated) sysfs interface: <code>/sys/class/gpio</code></li>
<li>The <code>earlyrvc</code> reverse camera uses <code>gpio205</code>, <code>gpio227</code> and <code>gpio228</code></li>
<li><code>gpio205</code> is an input; it was observed to have the value <code>0</code> when the car is in park, <code>1</code> when the car is in reverse</li>
<li>There are also inputs under <code>/sys/devices/platform/gpio-keys/</code>, in which GPIO keys are mapped as keyboard inputs</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-whats-with-the-repo-name" aria-hidden="true" href="#whats-with-the-repo-name"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>What&#39;s with the repo name?</h2>
<p dir="auto">The Mitsubishi headunit UI appears to be codenamed &#34;Andromeda&#34;.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/librick/ic1101/blob/main/ic1101.jpg"><img src="https://github.com/librick/ic1101/raw/main/ic1101.jpg" alt="June 1995 image of IC 1101 taken by the Hubble Space Telescope"/></a></p>
<h2 tabindex="-1" dir="auto"><a id="user-content-glossary" aria-hidden="true" href="#glossary"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Glossary</h2>
<p dir="auto">The source code contains a lot of acronyms. I&#39;ve documented some here.</p>
<ul dir="auto">
<li>ERC - Early Reverse Camera
<ul dir="auto">
<li>This refers to the application/process that runs early in the Android boot process</li>
<li>You can find it at <code>/sbin/earlyrvc</code> in the recovery image</li>
</ul>
</li>
<li>RVC - Reverse Camera</li>
<li>HFL - Hands Free Link</li>
<li>LVDS - Low Voltage Differential Signalling
<ul dir="auto">
<li>This is used in the context of an LVDS serializer</li>
<li>I think this is what the infotainment system uses to interface with CAN</li>
</ul>
</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-contributors-and-thanks" aria-hidden="true" href="#contributors-and-thanks"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Contributors and Thanks</h2>
<p dir="auto">Thanks to <a href="https://github.com/Tunas1337">@Tunas1337</a> for all his help and late-night hacking sessions.
Much of this work is his in one form or another, particularly as it relates to more esoteric (but useful) knowledge of Android internals. Thanks :)</p>
</article>
          </div></div>
  </body>
</html>
