<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://gianluca.ai/2024-42/">Original</a>
    <h1>Cargo build and SpaceX-inspired graphics | Weeknotes</h1>
    
    <div id="readability-page-1" class="page"><div><p>Find previous weeknotes <a href="https://quansight.com/tags/weeknotes/">here</a>.</p><hr/><h2 id="one-small-commit-for-open-source">One small commit for open source</h2><p>In a lovely small win, I had <a href="https://github.com/vladkens/macmon/pull/8">my first ever contribution to an open source Rust project</a> merged this week. I previously wrote about <a href="https://github.com/vladkens/macmon/">macmon</a> — a terminal-based performance monitor for Apple Silicon — as a project I discovered after setting out to build the same thing myself.</p><p>When I did a Brew update recently, I <a href="https://github.com/vladkens/macmon/issues/7">noticed that something was off</a> with the RAM plots. Thanks to my newfound Rust skill set, Vlad’s clean code, and the healthy state of Rust tooling, I was able to Git bisect my way to the issue, fix it, and <a href="https://github.com/vladkens/macmon/pull/8">push the PR</a> in about 30 minutes. Vlad reviewed, merged, and re-released the next day and I’ve been happily running the new binary since. This is how small open source projects are supposed to work! Not <a href="https://github.com/simonw/llm/pull/571">like this</a>.</p><h2 id="specular-highlights">Specular highlights</h2><p>It was a week of graphics exploration for me.</p><blockquote><p>There is no discipline more dominated by “clever” than graphics.
The field is driven toward, even defined by, the “good enough.”
As such, there is no better way to teach clever programming or a solid appreciation of optimizing effort than graphics and simulation. Over half of the coding hacks I’ve learned came from my study of graphics.</p></blockquote><p>— Matt Might, <a href="https://matt.might.net/articles/what-cs-majors-should-know/">What every CS major should know</a></p><p>Digging into shaders and 3D graphics tooling was a key goal of mine for my time at Recurse and I’ve been doing <a href="https://quansight.com/tags/graphics/">a fair bit of that</a> over the <a href="https://quansight.com/tags/weeknotes/">recent weeks</a>. But I really went hard in the paint in week 10.</p><p>I decided to speedrun <a href="https://www.youtube.com/watch?v=KM64t3pA4fs">a 7-hour Three.js course from ZTM</a> and used the <a href="https://github.com/enderh3art/ztm-threejs-bootcamp">code examples</a> to build my own bespoke <a href="https://github.com/gianlucatruda/playground/commit/c4279b85b6e201453f07004d59e505e541e06ced">Three.js template project</a> that I can use to quickly spin up future projects.</p><p><img loading="lazy" src="https://quansight.com/post/my-numpy-year-creating-a-dtype-for-the-next-generation-of-scientific-computing/images/torus-3d-scene.png" alt="3D Project template in three.js"/></p><p>I immediately put that to use in the weekly Creative Coding, where the prompt was “switching trains.” I wanted to go down a whole game dev route inspired by Dostoyevsky’s <em>Notes from the Underground</em> — a meditation on free will where the player is a non-human machine who explores the limits of their agency and choices whilst managing the locomotives of a 19th-Century Russian train station. What I ended up doing was spending an hour fighting with model and texture formats to get a basic train model loaded into Three.js and applied to a PBR material. Try it <a href="https://switching-trains.vercel.app/">in your browser</a> or <a href="https://github.com/gianlucatruda/switching-trains">view the code</a>.</p><p>Ahead of our RC Graphics hangout, I did a speedrun of The Book of Shaders to get an impression of the topics. Having spent a dozen hours playing with WebGL/GLSL shaders at this point, it was a great filling out of my mental map — connecting many tacit concepts to concrete ones. I also discovered several useful and tools and cool demos:</p><ul><li>Cool radar shader: <a href="https://www.shadertoy.com/view/4s2SRt">Shader - Shadertoy BETA</a></li><li><a href="https://easings.net/">Easing Functions Cheat Sheet</a></li><li><a href="https://graphtoy.com/">Graphtoy</a></li><li><a href="https://editor.thebookofshaders.com/">The Book of Shaders Editor</a></li><li><a href="https://github.com/patriciogonzalezvivo/glslCanvas">GitHub - patriciogonzalezvivo/glslCanvas: Simple tool to load GLSL shaders on HTML Canvas using WebGL</a></li></ul><p>One of the major challenges with writing fragment shaders is that you’re spawning millions of stateless threads to run in parallel on the GPU, which makes standard debugging tools and techniques impossible. You can’t step through the code or use print debugging, so you have to engineer debugging out of visualisations in the pixel space (or build your own separate tools). This is part of the fun, I think.</p><p>The other major graphics undertaking was beginning work on a solar system orbital simulator in Three.js. This was partly inspired by an example from The Zero To Mastery tutorial that I immediately wanted to fix the glaring orbital mechanics errors in. But it’s mainly inspired by the fact that I’m a space nerd and recovering KSP player who’s <a href="https://quansight.com/books">currently reading</a> <em>2001: A Space Odyssey</em> and just saw <a href="https://x.com/SpaceX/status/1845442658397049011">SpaceX literally catch a rocket</a> this past week (and then <a href="https://www.youtube.com/watch?v=QYieX09IgXw">yeet a NASA probe to Europa via a Mars gravity assist</a> <em>the very next day</em>)!</p><p>Ideally I’d like to turn it into an orbital mechanics puzzle game / simulator during week 11’s game jam. I’m currently digging into the woods of breaking the physics calculations out into a Rust library that I compile to WebAssembly and then bind with the JavaScript frontend.</p><p><img loading="lazy" src="https://quansight.com/post/my-numpy-year-creating-a-dtype-for-the-next-generation-of-scientific-computing/images/solar-system-screenshot.png" alt="Early demo of solar system simulation with three.js"/></p><h2 id="all-is-fair-in-pair-programming-and-vim">All is fair in pair programming and Vim</h2><p>It was also a busy week of interacting with the Recurse community:</p><ul><li>ML Papers Cuts, discussing the “Stable Diffusion” paper</li><li>Graphics study group discussions and then a few hours mobbing and pairing on Liam’s Rasteriser in Rust.</li><li>Operating Systems group: Geoffrey taught us about dynamic vs static linking and the trade-offs (esp. with regard to Python and glibc)</li><li>Non-programming talks and presentations</li><li>Some pairing / discussion on tabular/structured data ML with Yael.</li><li>Game Dev hangout. Shared projects and discussed the upcoming game jam.</li></ul><p>But one of my highlights was the Neovim show and tell. It was so fun to geek out on plugins and workflows with other vim enjoyers. It really is the one tool that you can use for 8+ hours every day for years and still discover absolute fundamentals every day. And Lucy, the lone Emacs double agent, was (as usual) one of the most knowledgeable on core Vim functionality and blew our minds with breathtaking marks, <code>norm:</code>, and digraph moves.</p><p>I then went down a whole rabbit hole of <a href="https://github.com/gianlucatruda/dotfiles/pull/2">re-writing my neovim configs</a>.</p><h2 id="ideas-you-need-to-hear">Ideas you need to hear</h2><ul><li>All the most fun things in life are either the ones you’re explicitly told not to try at home, or the ones you’re only supposed to try at home.</li></ul><blockquote><p>I can say with confidence: Watching <a href="https://x.com/cb_doge/status/1845459929752023050">a skyscraper falling from the sky</a> is one of the most surreal things I have ever seen. Noticing my daughter still fixated on the cloud, I redirected her attention to the falling rocket. Near the ground, with a new streak of fire shooting out of its engines, it slowly hovered its way over to the tower and into the gentle embrace of the robot arms. The crowd roared. My wife, who gives one percent as much of a shit as I do about space, was in tears.</p><p>It’s hard to wrap your head around SpaceX’s mission. If they actually succeed in putting a single human on Mars, let alone their goal of a million people, it will be one of the major milestones in not just human history but <em>life</em> history—on par with the moment animals first began to walk on land. Whether or not they end up pulling it off, space is officially exciting again.</p><p>But the reason rocket launches make people emotional isn’t about that. It’s the feeling of swelling pride that comes from being in awe of your own species. It’s the feeling of hope that comes from being reminded of our insane potential when thousands of people work together toward a goal.</p></blockquote><p>– Tim Urban in <a href="https://waitbutwhy.com/2024/10/spacex-toddler.html">Why I Lugged My 27-Pound Toddler to a Rocket Launch</a></p><p>Your <em>Enterprise delenda est</em> reading for the week: <a href="https://ludic.mataroa.blog/blog/get-me-out-of-data-hell/">Get me out of Data Hell</a></p><blockquote><p>The Pain Zone, coated in grass which rends those who tread upon it like a legion of upraised spears, is an enterprise data warehouse platform. At the small scale we operate at, with little loss of detail, a data warehouse platform simply means that we copy a bunch of text files from different systems into a single place every morning.</p><p>The word enterprise means that we do this in a way that makes people say “Dear God, why would anyone ever design it that way?”, “But that doesn’t even help with security” and “Everyone involved should be fired for the sake of all that is holy and pure.”
At two of the four businesses I’ve worked at, the most highly-performing engineers have resorted to something that I think of as Pain Zone navigation. It’s the practice of never working unless pair programming simply to have someone next to you, bolstering your resolve, so that you can gaze upon the horrors of the Pain Zone without immediately losing your mind.</p></blockquote><p>Two sets of sage wisdom from Thorsten Ball:</p><p>(1) <a href="https://registerspill.thorstenball.com/p/use-data-that-looks-like-data">Use Data That Looks Like Data</a></p><blockquote><p>When debugging or testing your program, do not use data that sounds like a variable or type name. Do not use data that sounds like a label or a column name or something your operating system has tons of. Do not use data that sounds like it’s part of the program.</p></blockquote><p>(2) <a href="https://registerspill.thorstenball.com/p/how-i-use-git">How I Use Git</a> (Gianluca note: I’m satisfied to notice that this is pretty much also how I use git).</p><blockquote><p>Everything is in git, all the time. Every side-project, large or small, finished or abandoned, is in a git repository. Running git init is the first thing I do in a new folder.</p></blockquote><blockquote><p>What I commit and how often I commit is guided by what ends up on the main branch of the repository I’m working in. Is it a commit? A squash commit? Or a series of commits? That’s what I optimize for.</p></blockquote><h2 id="your-weekly-dose-of-fun-and-prosperous-links">Your weekly dose of fun and prosperous links</h2><ul><li><a href="https://github.com/yacineMTB/dingllm.nvim">yacineMTB/dingllm.nvim</a>: Yacine’s LLM nvim scripts that I’ve been tinkering with in my daily work/coding workflows. And <a href="https://yacine.ca/practice.mp4">his advice</a> for how to get really good.</li><li><a href="https://overcast.fm/+AAhrS5QokUY">The Uncertain Art of Accelerating ML Models with Sylvain Gugger</a> — Signals and Threads podcast</li><li>It turns out that everything you thought you new about Italian cuisine <a href="https://overcast.fm/+ABClHgqXEs8">is a lie</a>?</li><li><a href="https://www.youtube.com/watch?v=Zr09I5OlOjs">An excellent overview</a> of the details of ARM (“RISC”) vs x86 (CISC) by Casey Muratori. He also introduced me to <a href="https://godbolt.org/">Godbolt compiler explorer</a> which is the kind of magical tool I aspire to building.</li><li>Boomers told us not to trust Wikipedia only to <a href="https://x.com/FacebookAIslop/status/1841937328375234804">fall for this</a>. Also, <a href="https://x.com/notengoprisa/status/1842550658102079556">Google está muerto</a>.</li><li>If you’re a boomer who doesn’t want to fall for it, <a href="https://www.youtube.com/watch?v=NsM7nqvDNJI">these VFX artists teach you how</a> (the good stuff is in the second half of the video).</li><li>If nobody will hire you, just <a href="https://www.youtube.com/watch?v=LBbVEqTPlzI">make a game from scratch</a>.</li><li>The musical phenomenon that is <a href="https://www.youtube.com/watch?v=fJf8MhLQz-8">The Truck Driver Gear Shift key change</a></li></ul><h2 id="this-week-i-learned">This week I learned</h2><p>(Copy-pasted from my <code>#TIL</code>-tagged notes in Obsidian from the past week.)</p><ul><li>#TIL <a href="https://wiki.ubuntu.com/Kernel/Reference/stress-ng">stress-ng</a> (available on most Unixy systems) is handy for doing all kinds of advanced stress tests on memory, processor, io, etc. Like <code>yes</code>, but for all kinds of stressors.</li><li>#TIL Vim supports handy <a href="https://vim-jp.org/vimdoc-en/digraph.html">digraphs</a> (via Lucy from RC)</li></ul><hr/><p>Thanks for reading!</p></div></div>
  </body>
</html>
