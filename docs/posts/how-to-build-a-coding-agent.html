<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ghuntley.com/agent/">Original</a>
    <h1>How to build a coding agent</h1>
    
    <div id="readability-page-1" class="page"><div>
            <div><p>üòé</p><p>The following was developed last month and has already been delivered at two conferences. If you would like for me to run a workshop similar to this at your employer, please <a href="https://ghuntley.com/workshops/" rel="noreferrer">get in contact</a>.</p></div><figure><a href="https://github.com/ghuntley/how-to-build-a-coding-agent?ref=ghuntley.com"><div><p>GitHub - ghuntley/how-to-build-a-coding-agent: A workshop that teaches you how to build your own coding agent. Similar to Roo code, Cline, Amp, Cursor, Windsurf or OpenCode.</p><p>A workshop that teaches you how to build your own coding agent. Similar to Roo code, Cline, Amp, Cursor, Windsurf or OpenCode. - ghuntley/how-to-build-a-coding-agent</p><p><img src="https://ghuntley.com/content/images/icon/pinned-octocat-093da3e6fa40-23.svg" alt=""/><span>ghuntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/how-to-build-a-coding-agent-2" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a><figcaption><p><span>workshop materials and source code for the workshop can be found here</span></p></figcaption></figure><p>Hey everyone, I&#39;m here today to teach you how to build a coding agent.  By this stage of the conference, you may be tired of hearing the word &#34;agent&#34;. </p><p>You hear the word frequently. However, it appears that everyone is using this term loosely without a clear understanding of what it means or how these coding agents operate internally. It&#39;s time to pull back the hood and show that there is no moat.</p><p>Learning how to build a coding agent is one of the best things you can do for your personal development in 2025, as it teaches you the fundamentals. Once you understand these fundamentals, you&#39;ll move from being a consumer of AI to a producer of AI who can automate things with AI.</p><p>Let me open with the following facts:</p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.002.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.002.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.002.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.002.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.002.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>it&#39;s not that hard</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.003.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.003.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.003.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.003.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.003.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>to build a coding agent</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.004.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.004.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.004.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.004.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.004.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>it&#39;s 300 lines of code</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.005.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.005.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.005.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.005.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.005.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>running in a loop</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.006.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.006.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.006.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.006.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.006.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>With LLM tokens, that&#39;s all it is. </p><p>300 lines of code running in a loop with LLM tokens. You just keep throwing tokens at the loop, and then you&#39;ve got yourself an agent.</p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.007.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.007.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.007.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.007.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.007.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>Today, we&#39;re going to build one. We&#39;re going to do it live, and I&#39;ll explain the fundamentals of how it all works. As we are now in 2025, it has become the norm to work concurrently with AI assistance. So, what better way to demonstrate the point of this talk than to have an agent build me an agent whilst I deliver this talk? </p><figure data-kg-thumbnail="https://ghuntley.com/content/media/2025/08/Let-s-build-an-agent-AFK_thumb.jpg" data-kg-custom-thumbnail="https://ghuntley.com/content/images/2025/08/Screenshot-2025-08-24-125648.png">
            <div>
                <video src="https://ghuntley.com/content/media/2025/08/Let-s-build-an-agent-AFK.mp4" poster="https://img.spacergif.org/v1/1920x1080/0a/spacer.png" width="1920" height="1080" playsinline="" preload="metadata"></video>
                
                <div>
                    <div>
                        <p>
                        
                        <span>0:00</span></p><p>
                            /<span>0:22</span>
                        </p>
                        </div>
                </div>
            </div>
            
        </figure><p>Cool. We&#39;re now building an agent. This is one of the things that&#39;s changing in our industry, because work can be done concurrently and whilst you are away from your computer. </p><p>The days of spending a week or a couple of days on a research spike are now over because you can turn an idea into execution just by speaking to your computer. </p><p>The next time you&#39;re on a Zoom call, consider that you could&#39;ve had an agent building the work that you&#39;re planning to do during that Zoom call. If that&#39;s not the norm for you, and it is for your coworkers, then you&#39;re naturally not going to get ahead.</p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.009.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.009.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.009.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.009.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.009.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>please build your own</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.010.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.010.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.010.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.010.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.010.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>as the knowledge</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.011.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.011.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.011.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.011.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.011.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>will transform you</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.012.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.012.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.012.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.012.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.012.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>from being a consumer</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.013.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.013.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.013.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.013.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.013.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>to a producer that can</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.014.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.014.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.014.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.014.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.014.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>automate things</span></figcaption></figure><p>The tech industry is almost like a conveyor belt - we always need to be learning new things. </p><p>If I were to ask you what a primary key is, you should know what a primary key is. That&#39;s been the norm for a long time.  </p><p>In 2024, it is essential to understand what a primary key is. </p><p>In 2025, you should be familiar with what a primary key is and how to create an agent, as knowing what this loop is and how to build an agent is now fundamental knowledge that employers are looking for in candidates before they&#39;ll let you in the door.</p><figure><a href="https://www.canva.dev/blog/engineering/yes-you-can-use-ai-in-our-interviews/?ref=ghuntley.com"><div><p>Yes, You Can Use AI in Our Interviews. In fact, we insist - Canva Engineering Blog</p><p>How We Redesigned Technical Interviews for the AI Era</p><p><img src="https://ghuntley.com/content/images/icon/apple-touch-180x180.b6aae4a9-3.webp" alt=""/><span>canva.dev</span><span>Simon Newton</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/thumbnail.1c7590f6-3.png" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a></figure><p>As this knowledge will transform you from being a consumer of AI to being a producer of AI that can orchestrate your job function. Employers are now seeking individuals who can automate tasks within their organisation.</p><p>If you&#39;re joining me later this afternoon for the conference closing (see below), I&#39;ll delve a bit deeper into the above. </p><figure><a href="https://ghuntley.com/six-month-recap/"><div><p>the six-month recap: closing talk on AI at Web Directions, Melbourne, June 2025</p><p>Welcome back to our final session at WebDirections. We‚Äôre definitely on the glide path‚Äîthough I‚Äôm not sure if we‚Äôre smoothly landing, about to hit turbulence, or perhaps facing a go-around. We‚Äôll see how it unfolds. Today, I‚Äôm excited to introduce Geoffrey Huntley. I discovered Geoff earlier this year through</p><p><img src="https://ghuntley.com/content/images/icon/7V0ak3am_400x400-1-42.jpg" alt=""/><span>Geoffrey Huntley</span><span>Geoffrey Huntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/the-future-belongs-to-people-who-do-things.001-2.png" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a><figcaption><p><span>the conference closing talk</span></p></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.015.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.015.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.015.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.015.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.015.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>Right now, you&#39;ll be somewhere on the journey above. </p><p>On the top left, we&#39;ve got &#39;prove it to me, it&#39;s not real,&#39; &#39;prove it to me, show me outcomes&#39;, &#39;prove it to me that it&#39;s not hype&#39;, and a bunch of &#39;it&#39;s not good enough&#39; folks who get stuck up there on that left side of the cliff, completely ignoring that there are people on the other side of the cliff, completely automating their job function.</p><blockquote>In my opinion, any disruption or job loss related to AI is not a result of AI itself, but rather a consequence of a lack of personal development and self-investment. If your coworkers are hopping between multiple agents, chewing on ideas, and running in the background during meetings, and you&#39;re not in on that action, then naturally you&#39;re just going to fall behind.</blockquote><figure><a href="https://ghuntley.com/ngmi/"><div><p>What do I mean by some software devs are ‚Äúngmi‚Äù?</p><p>At ‚Äúan oh fuck moment in time‚Äù, I closed off the post with the following quote. N period on from now, software engineers who haven‚Äôt adopted or started exploring software assistants, are frankly not gonna make it. Engineering organizations right now are split between employees who have had that ‚Äúoh</p><p><img src="https://ghuntley.com/content/images/icon/7V0ak3am_400x400-1-45.jpg" alt=""/><span>Geoffrey Huntley</span><span>Geoffrey Huntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/fruits-2.png" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a><figcaption><p><span>don&#39;t be the person on the left side of the cliff.</span></p></figcaption></figure><p>The tech industry&#39;s conveyor belt continues to move forward. If you&#39;re a DevOps engineer in 2025 and you don&#39;t have any experience with AWS or GCP, then you&#39;re going to find it pretty tough in the employment market. </p><p>What&#39;s surprising to software and data engineers is just how fast this is elapsing. It has been eight months since the release of the first coding agent, and most people are still unaware of how straightforward it is to build one, how powerful this loop is, and its disruptive implications for our profession.</p><p>So, my name&#39;s Geoffrey Huntley. I was the tech lead for developer productivity at Canva, but as of a couple of months ago, I&#39;m one of the engineers at Sourcegraph building <a href="https://ampcode.com/?ref=ghuntley.com" rel="noreferrer">Amp</a>. It&#39;s a small core team of about six people. We build AI with AI.</p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.016.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.016.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.016.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.016.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.016.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>ampcode.com</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.017.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.017.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.017.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.017.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.017.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>cursor</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.018.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.018.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.018.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.018.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.018.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>windsurf</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.019.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.019.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.019.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.019.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.019.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>claude code</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.020.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.020.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.020.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.020.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.020.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>github co-pilot</span></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.022.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.022.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.022.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.022.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.022.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>are lines of code running in a loop with LLM tokens</span></figcaption></figure><p>Cursor, Windsurf, Claude Code, GitHub Copilot, and Amp are just a small number of lines of code running in a loop of LLM tokens. I can&#39;t stress that enough. The model does all the heavy lifting here, folks. It&#39;s the model that does it all. </p><p>You are probably five vendors deep in product evaluation, right now, trying to compare all these agents to one another. But really, you&#39;re just chasing your tail. </p><p>It&#39;s so easy to build your own...</p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.023.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.023.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.023.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.023.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.023.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>There are just a few key concepts you need to be aware of.</p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.024.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.024.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.024.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.024.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.024.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>Not all LLMs are agentic. </p><p>The same way that you have different types of cars, like you&#39;ve got a <a href="https://en.wikipedia.org/wiki/Toyota_Land_Cruiser_(J40)?ref=ghuntley.com">40 series</a> if you want to go off-road, and then you&#39;ve also got people movers, which exist for transporting people. </p><p>The same principle applies to LLMs, and I&#39;ve been able to map their behaviours into a quadrant. </p><blockquote>A model is either high safety, low safety, an oracle, or agentic. It&#39;s never both or all.</blockquote><p>If I were to ask you to do some security research, which model would you use? </p><p>That&#39;d be Grok. That&#39;s a low safety model.</p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.025.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.025.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.025.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.025.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.025.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>If you want something that&#39;s &#34;ethics-aligned&#34;, it&#39;s Anthropic or OpenAI. So that&#39;s high safety. Similarly, you have oracles. Oracles are on the polar opposite of agentic. Oracles are suitable for summarisation tasks or require a high level of thinking. </p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.026.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.026.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.026.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.026.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.026.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>Meanwhile, you have providers like Anthropic, and their Claude Sonnet is a digital squirrel (see below). </p><figure><a href="https://ghuntley.com/cars/"><div><p>Claude Sonnet is a small-brained mechanical squirrel of &lt;T&gt;</p><p><img src="https://ghuntley.com/content/images/icon/7V0ak3am_400x400-1-43.jpg" alt=""/><span>Geoffrey Huntley</span><span>Geoffrey Huntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/Traditional-tattoo-style-print.--Low-angle--dramatic-scene-a-mechanical-pump-amidst-a-stormy-sky--pumping-generic-tools.-Vivid-electric-colors--complex-ornamental-designs--retro-feel--white-background.jpg" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a><figcaption><p><span>The first robot used to chase tennis balls. The first digital robot chases tool calls.</span></p></figcaption></figure><p>Sonnet is a robotic squirrel that just wants to do tool calls. It doesn&#39;t spend too much time thinking; it biases towards action, which is what makes it agentic. Sonnet focuses on incrementally obtaining success instead of pondering for minutes per turn before taking action.</p><p>It seems like every day, a new model is introduced to the market, and they&#39;re all competing with one another. But truth be told, they have their specialisations and have carved out their niches. </p><p>The problem is that, unless you&#39;re working with these models at an intimate level, you may not have this level of awareness of the specialisations of the models, which results in consumers just comparing the models on two basic primitives:</p><ol><li>The size of the context window</li><li>The cost</li></ol><p>It&#39;s kind of like looking at a car, whether it has two doors or three doors, whilst ignoring the fact that some vehicles are designed for off-roading, while others are designed for passenger transport. </p><p>To build an agent, the first step is to choose a highly agentic model. That is currently Claude Sonnet, or Kimi K2. </p><p>Now, you might be wondering, &#34;What if you want a higher level of reasoning and checking of work that the incremental squirrel does?&#34;. Ah, that&#39;s simple. You can wire other LLMs in as tools into an existing agentic LLM. This is what we do at Amp.</p><p>We call it the Oracle. The Oracle is just GPT wired in as a tool that Claude Sonnet can function call for guidance, to check work progress, and to conduct research/planning.</p><figure><a href="https://ampcode.com/news/oracle?ref=ghuntley.com"><div><p>Oracle</p><p><img src="https://ghuntley.com/content/images/icon/amp-mark-color-9.svg" alt=""/><span>Amp</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/oracle.jpg" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a><figcaption><p><span>Amp&#39;s oracle is just another LLM registered in as a tool to an agentic LLM that it can function call</span></p></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.027.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.027.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.027.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.027.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.027.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>The next important thing to learn is that you should only use the context window for one activity. When you&#39;re using Cursor or any one of these tools, it&#39;s essential to clear the context window after each activity (see below).</p><figure><a href="https://ghuntley.com/gutter/"><div><p>autoregressive queens of failure</p><p>Have you ever had your AI coding assistant suggest something so off-base that you wonder if it‚Äôs trolling you? Welcome to the world of autoregressive failure. LLMs, the brains behind these assistants, are great at predicting the next word‚Äîor line of code‚Äîbased on what‚Äôs been fed into</p><p><img src="https://ghuntley.com/content/images/icon/7V0ak3am_400x400-1-44.jpg" alt=""/><span>Geoffrey Huntley</span><span>Geoffrey Huntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/A-traditional-tattoo-style-print-of-a-bowling-ball-split-in-the-gutter--rendered-in-vibrant-colors-with-bold-lines-and-diffused-shadows.--The-image-features-a-retro-flair-and-complex-ornamental-details-against-a-white-background-2.jpg" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a><figcaption><p><span>LLM outcomtes are a needle in a haystack of what you&#39;ve allocated into the haystack.</span></p></figcaption></figure><p>If you start an AI-assisted session to build a backend API controller, then reuse that session to research facts about meerkats. Then it should be no surprise when you tell it to redesign the website in the active session; the website might end up with facts about your API or meerkats, or both.</p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.028.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.028.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.028.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.028.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.028.png 1920w" sizes="(min-width: 720px) 720px"/><figcaption><span>nb. the context window for Sonnet since delivering this workshop has increased to 1m</span></figcaption></figure><p>Context windows are very, very small. It&#39;s best to think of them as a Commodore 64, and as such, you should be treating it as a computer with a limited amount of memory. The more you allocate, the worse your outcome and performance will be.</p><p>The advertised context window for Sonnet is 200k. However, you don&#39;t get to use all of that because the model needs to allocate memory for the system-level prompt. Then the harness (Cursor, Windsurf, Claude Code, Amp) also needs to allocate some additional memory, which means you end up with approximately 176k tokens usable.</p><p>You probably heard a lot about the Model Context Protocols (MCPs). They are the current hot thing, and the easiest way to think about them is as a function with a description allocated to the context window that tells it how to invoke that function.</p><p>A common failure scenario I observe is people installing an excessive number of MCP servers or failing to consider the number of tools exposed by a single MCP tool or the aggregate context window allocation of all tools.</p><p>There is a cardinal rule that is not as well understood as it should be. The more you allocate to a context window, the worse the performance of the context window will be, and your outcomes will deteriorate.</p><p>Avoid excessively allocating to the context window with your agent or through MCP tool consumption. It&#39;s very easy to fall into a trap of allocating an additional 76K of tokens just for MCP tools, which means you only have 100K usable. </p><blockquote>Less is more, folks. Less is more. </blockquote><p>I recommend dropping by and reading the blog post below if you want to understand when to use MCP and when not to.</p><figure><a href="https://ghuntley.com/allocations/"><div><p>too many model context protocol servers and LLM allocations on the dance floor</p><p>This blog post intends to be a definitive guide to context engineering fundamentals from the perspective of an engineer who builds commercial coding assistants and harnesses for a living. Just two weeks ago, I was back over in San Francisco, and there was a big event on Model Context Protocol</p><p><img src="https://ghuntley.com/content/images/icon/7V0ak3am_400x400-1-52.jpg" alt=""/><span>Geoffrey Huntley</span><span>Geoffrey Huntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/Depict-AI-robots-dancing-on-a-rose-patterned-dance-floor-in-a-traditional-tattoo-art-style.-The-print-uses-a-vibrant-color-scheme--soft-lighting--and-diffused-shadows--creating-a-calming-atmosphere.-Complex-orna.jpg" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a><figcaption><p><span>When you should use MCP, when you should not use MCP, and how allocations work in the context window.</span></p></figcaption></figure><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.029.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.029.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.029.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.029.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.029.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>Let&#39;s head back and check on our agent that&#39;s being built in the background. If you look at it closely enough, you can see the loop and how it&#39;s invoking other tools. </p><p>Essentially, how this all works is outlined in the loop below.</p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.030.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.030.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.030.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.030.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.030.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>For every piece of input from the user or result of a tool call that gets allocated to the response, and that response is sent off for inferencing:</p><figure><img src="https://ghuntley.com/content/images/2025/08/Untitled-diagram-_-Mermaid-Chart-2025-08-24-015242.png" alt="" loading="lazy" width="2000" height="382" srcset="https://ghuntley.com/content/images/size/w600/2025/08/Untitled-diagram-_-Mermaid-Chart-2025-08-24-015242.png 600w, https://ghuntley.com/content/images/size/w1000/2025/08/Untitled-diagram-_-Mermaid-Chart-2025-08-24-015242.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/08/Untitled-diagram-_-Mermaid-Chart-2025-08-24-015242.png 1600w, https://ghuntley.com/content/images/size/w2400/2025/08/Untitled-diagram-_-Mermaid-Chart-2025-08-24-015242.png 2400w" sizes="(min-width: 720px) 720px"/><figcaption><span>The inferencing loop (minus tool registrations)</span></figcaption></figure><figure><a href="https://github.com/ghuntley/how-to-build-a-coding-agent?ref=ghuntley.com"><div><p>GitHub - ghuntley/how-to-build-a-coding-agent</p><p>Contribute to ghuntley/how-to-build-a-coding-agent development by creating an account on GitHub.</p><p><img src="https://ghuntley.com/content/images/icon/pinned-octocat-093da3e6fa40-19.svg" alt=""/><span>GitHub</span><span>ghuntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/how-to-build-a-coding-agent" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a></figure><p>Let&#39;s open up our workshop materials (above) and run the basic chat application via:</p><pre><code>go run chat.go</code></pre><blockquote><strong>You:</strong> You are a weather expert. When I ask you about the weather in a given location, I want you to reply with <code>get_weather(&lt;location_name&gt;)</code>. I will then tell you what the weather in that location is. Understood?</blockquote><p>So, let&#39;s ask what the weather is today here in Melbourne, Australia?</p><blockquote><strong>You:</strong> What&#39;s the weather like today in Melbourne, Australia?</blockquote><p>boom! There we go! </p><p>We&#39;ve registered our first tool into the model, and any time that we tickle the latent space with a query about the weather, it&#39;s going to function call our new tool. </p><p>It&#39;s a stub tool currently, but you can see it; we have a method, and the LLM is passing the parameters into the method from our query.</p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.031.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.031.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.031.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.031.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.031.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>When we talk about agentic, we&#39;re referring to something that&#39;s tool-calling, something that has been trained on its reward function to call a tool. There are models where they&#39;ve been explicitly trained; all they want to do is chase nuts, much like a squirrel (see below). It&#39;s not nuts, it&#39;s tools.</p><figure><a href="https://ghuntley.com/cars/"><div><p>Claude Sonnet is a small-brained mechanical squirrel of &lt;T&gt;</p><p><img src="https://ghuntley.com/content/images/icon/7V0ak3am_400x400-1-46.jpg" alt=""/><span>Geoffrey Huntley</span><span>Geoffrey Huntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/Traditional-tattoo-style-print.--Low-angle--dramatic-scene-a-mechanical-pump-amidst-a-stormy-sky--pumping-generic-tools.-Vivid-electric-colors--complex-ornamental-designs--retro-feel--white-background-1.jpg" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a><figcaption><p><span>Whilst visiting the Computer History Museum in San Francisco, I stumbled upon the first robotic squirrel, and it got me thinking: &#34;Wait a sec, is Sonnet our first digital squirrel?&#34;</span></p></figcaption></figure><p>In the simplest way to explain what MCP is or a tool, it&#39;s just a function with a billboard on top that nudges the LLM&#39;s latent space to invoke that function. It is that simple. You register the tool, you describe how to invoke it, and then it just works.</p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.032.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.032.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.032.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.032.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.032.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>Let&#39;s start the short journey towards making this a real coding agent. We have a mock function and a mock tool, but <code>get_weather(Melbourne, Australia)</code> currently does nothing, so let&#39;s fix that.</p><p>What we need to do is create a tool and then adjust our inferencing loop to check whether it wants to execute the tool (see line 5 above). If it does, execute the tool (see line 6 above) and then allocate the outcome of that tool back (see line 7 above) to the loop for more inferencing.</p><p>Here&#39;s what our updated sequence diagram looks like when tools have been registered.</p><figure><img src="https://ghuntley.com/content/images/2025/08/Untitled-diagram-_-Mermaid-Chart-2025-08-24-015409.png" alt="" loading="lazy" width="1714" height="3840" srcset="https://ghuntley.com/content/images/size/w600/2025/08/Untitled-diagram-_-Mermaid-Chart-2025-08-24-015409.png 600w, https://ghuntley.com/content/images/size/w1000/2025/08/Untitled-diagram-_-Mermaid-Chart-2025-08-24-015409.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/08/Untitled-diagram-_-Mermaid-Chart-2025-08-24-015409.png 1600w, https://ghuntley.com/content/images/2025/08/Untitled-diagram-_-Mermaid-Chart-2025-08-24-015409.png 1714w" sizes="(min-width: 720px) 720px"/><figcaption><span>this is what a coding agent is in it&#39;s purest form without any UI</span></figcaption></figure><p>As we&#39;re not making a weather application today, let&#39;s switch gears to build the first primitive of a coding agent.</p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.034.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.034.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.034.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.034.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.034.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>The first primitive behind any coding agent is a read tool. All coding agents have a read tool that reads a file into the context window, either the whole file or, in the case of a larger file, in chunks.</p><pre><code>var ReadFileDefinition = ToolDefinition{
	Name:        &#34;read_file&#34;,
	Description: &#34;Read the contents of a given relative file path. Use this when you want to see what&#39;s inside a file. Do not use this with directory names.&#34;,
	InputSchema: ReadFileInputSchema,
	Function:    ReadFile,
}</code></pre><figure><a href="https://github.com/ghuntley/how-to-build-a-coding-agent?ref=ghuntley.com"><div><p>GitHub - ghuntley/how-to-build-a-coding-agent</p><p>Contribute to ghuntley/how-to-build-a-coding-agent development by creating an account on GitHub.</p><p><img src="https://ghuntley.com/content/images/icon/pinned-octocat-093da3e6fa40-20.svg" alt=""/><span>GitHub</span><span>ghuntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/how-to-build-a-coding-agent-1" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a></figure><p>Let&#39;s open up our workshop materials once again (above) and create a file:</p><pre><code>cat &lt;&lt; EOF
I have a mane but I&#39;m not a lion,
I have four legs but I&#39;m not a table,
I can gallop but I&#39;m not running,
People say I&#39;m disagreeable because I always say &#34;neigh.&#34;
What am I?
EOF &gt; riddle.txt</code></pre><p>Then let&#39;s run the read file tool:</p><pre><code>go run read.go</code></pre><blockquote><strong>You:</strong> Claude, mate. What&#39;s the answer to this riddle in <code>riddle.txt</code>?</blockquote><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.033.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.033.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.033.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.033.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.033.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>The second primitive behind any coding agent is a list tool. All coding agents have a list files tool, which lists all the files and directories in a given path.</p><pre><code>var ListFilesDefinition = ToolDefinition{
	Name:        &#34;list_files&#34;,
	Description: &#34;List files and directories at a given path. If no path is provided, lists files in the current directory.&#34;,
	InputSchema: ListFilesInputSchema,
	Function:    ListFiles,
}</code></pre><figure><a href="https://github.com/ghuntley/how-to-build-a-coding-agent?ref=ghuntley.com"><div><p>GitHub - ghuntley/how-to-build-a-coding-agent</p><p>Contribute to ghuntley/how-to-build-a-coding-agent development by creating an account on GitHub.</p><p><img src="https://ghuntley.com/content/images/icon/pinned-octocat-093da3e6fa40-20.svg" alt=""/><span>GitHub</span><span>ghuntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/how-to-build-a-coding-agent-1" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a></figure><p>Let&#39;s open up our workshop materials once again (above) and run the basic chat application via:</p><pre><code>go run list_files.go</code></pre><blockquote><strong>You:</strong> Claude, mate. Is there  a <code>README.md</code> in this folder? Also what is the contents of <code>riddle.txt</code>?</blockquote><p>Boom! We now have a read file tool and a list files tool, and you can see that their functions are called and chained together from our original prompt.</p><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.035.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.035.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.035.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.035.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.035.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>The third primitive behind any coding harness is a bash tool, which does precisely what its name implies. It enables the LLM to execute commands on your computer.</p><pre><code>var BashDefinition = ToolDefinition{
	Name:        &#34;bash&#34;,
	Description: &#34;Execute a bash command and return its output. Use this to run shell commands.&#34;,
	InputSchema: BashInputSchema,
	Function:    Bash,
}</code></pre><figure><a href="https://github.com/ghuntley/how-to-build-a-coding-agent?ref=ghuntley.com"><div><p>GitHub - ghuntley/how-to-build-a-coding-agent</p><p>Contribute to ghuntley/how-to-build-a-coding-agent development by creating an account on GitHub.</p><p><img src="https://ghuntley.com/content/images/icon/pinned-octocat-093da3e6fa40-20.svg" alt=""/><span>GitHub</span><span>ghuntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/how-to-build-a-coding-agent-1" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a></figure><p>Let&#39;s open up our workshop materials once again (above) and run the bash tool:</p><pre><code>go run bash_tool.go</code></pre><blockquote><strong>You:</strong> Hey Claude, provide a summary of all the processes running on this computer.</blockquote><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.036.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.036.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.036.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.036.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.036.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>The fourth primitive behind any coding harness is the edit tool.  The edit tool also does precisely as the name implies. It takes the results back from inference and applies edits to the file.</p><figure><a href="https://github.com/ghuntley/how-to-build-a-coding-agent?ref=ghuntley.com"><div><p>GitHub - ghuntley/how-to-build-a-coding-agent</p><p>Contribute to ghuntley/how-to-build-a-coding-agent development by creating an account on GitHub.</p><p><img src="https://ghuntley.com/content/images/icon/pinned-octocat-093da3e6fa40-20.svg" alt=""/><span>GitHub</span><span>ghuntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/how-to-build-a-coding-agent-1" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a></figure><p>Let&#39;s open up our workshop materials once again (above) and run edit tool:</p><pre><code>go run edit_file.go</code></pre><blockquote><strong>You:</strong> Claude, mate. Create <code>fizzbuzz.js</code> with nodejs that does fizzbuzz up to 20 and execute it to ensure it works</blockquote><figure><img src="https://ghuntley.com/content/images/2025/08/fizzbuzz.js--1--1.png" alt="" loading="lazy" width="2000" height="1331" srcset="https://ghuntley.com/content/images/size/w600/2025/08/fizzbuzz.js--1--1.png 600w, https://ghuntley.com/content/images/size/w1000/2025/08/fizzbuzz.js--1--1.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/08/fizzbuzz.js--1--1.png 1600w, https://ghuntley.com/content/images/2025/08/fizzbuzz.js--1--1.png 2080w" sizes="(min-width: 720px) 720px"/></figure><blockquote><strong>Claude:</strong> Now I&#39;ll execute the script to make sure it works correctly:</blockquote><p>And voila, we now have a coding agent. Is it this point that we could throw some other prompts in and say, &#34;Hey, let&#39;s do FizzBuzz to 100, and it will just work.&#34;</p><figure><img src="https://ghuntley.com/content/images/2025/08/how-to-build-a-agent.039.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/08/how-to-build-a-agent.039.png 600w, https://ghuntley.com/content/images/size/w1000/2025/08/how-to-build-a-agent.039.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/08/how-to-build-a-agent.039.png 1600w, https://ghuntley.com/content/images/2025/08/how-to-build-a-agent.039.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>The fifth and final primitive behind any coding harness is a search tool. What if I were to tell you that there is no magic for indexing source code or any intelligence? </p><pre><code>var CodeSearchDefinition = ToolDefinition{
	Name: &#34;code_search&#34;,
	Description: `Search for code patterns using ripgrep (rg).

Use this to find code patterns, function definitions, variable usage, or any text in the codebase.
You can search by pattern, file type, or directory.`,
	InputSchema: CodeSearchInputSchema,
	Function:    CodeSearch,
}</code></pre><p>Nearly every coding tool currently available uses the open source <code>ripgrep</code> binary under the hood. See the two blog posts below if you want more proof:</p><figure><a href="https://ghuntley.com/amazon-kiro-source-code/"><div><p>source code analysis of Amazon Kiro</p><p>It‚Äôs an uncertain time for our profession, but one thing is certain‚Äîthings will change. Drafting used to require a room of engineers, but then CAD came along‚Ä¶</p><p><img src="https://ghuntley.com/content/images/icon/7V0ak3am_400x400-1-53.jpg" alt=""/><span>Geoffrey Huntley</span><span>Geoffrey Huntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/Tattoo-art-print-depicting-reverse-engineered-Amazon-systems--warm-autumn-colors--white-background--intricate-lines-and-vibrant-colors--retro-flair--complex-ornamental-details--charming-and-cute-style.jpg" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a></figure><figure><a href="https://ghuntley.com/overton/"><div><p>from Luddites to AI: the Overton Window of disruption</p><p>I‚Äôve been thinking about Overton Windows lately, but not of the political variety. You see, the Overton window can be adapted to model disruptive innovation by framing the acceptance of novel technologies, business models, or ideas within a market or society. So I‚Äôve been pondering about where, when and how</p><p><img src="https://ghuntley.com/content/images/icon/7V0ak3am_400x400-1-51.jpg" alt=""/><span>Geoffrey Huntley</span><span>Geoffrey Huntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/download-3.jpeg" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a></figure><p>Let&#39;s open up our workshop materials once again and run the code search tool:</p><pre><code>go run code_search_tool.go</code></pre><blockquote><strong>You:</strong> Claude, mate. Search the source code for a riddle</blockquote><figure><img src="https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.037.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/07/how-to-build-a-agent.037.png 600w, https://ghuntley.com/content/images/size/w1000/2025/07/how-to-build-a-agent.037.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/07/how-to-build-a-agent.037.png 1600w, https://ghuntley.com/content/images/2025/07/how-to-build-a-agent.037.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>Everything from this point forward is just a matter of tuning your prompts. Due to time constraints, we didn&#39;t delve into the notion of the harness prompt. The harness prompt is where your tool registrations go. It contains information such as the operating system you&#39;re running, so it knows whether to use PowerShell (Windows) or bash (Linux or macOS). </p><p>It also contains instructions on how the agent should operate. I say should is because LLMs are non-deterministic. You can include the guidance, and it&#39;s just guidance. However, through prompt evaluation, tuning, and spending time playing with the models to understand how they behave, you can develop effective prompts.</p><p>Drop by the blog post below if you want to see an example of a fully fledged coding agent:</p><figure><a href="https://ghuntley.com/amazon-kiro-source-code/"><div><p>source code analysis of Amazon Kiro</p><p>It‚Äôs an uncertain time for our profession, but one thing is certain‚Äîthings will change. Drafting used to require a room of engineers, but then CAD came along‚Ä¶</p><p><img src="https://ghuntley.com/content/images/icon/7V0ak3am_400x400-1-55.jpg" alt=""/><span>Geoffrey Huntley</span><span>Geoffrey Huntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/Tattoo-art-print-depicting-reverse-engineered-Amazon-systems--warm-autumn-colors--white-background--intricate-lines-and-vibrant-colors--retro-flair--complex-ornamental-details--charming-and-cute-style-1.jpg" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a></figure><p>There are plenty of open-source coding agents already, such as SST Open Code</p><figure><a href="https://github.com/sst/opencode?ref=ghuntley.com"><div><p>GitHub - sst/opencode: AI coding agent, built for the terminal.</p><p>AI coding agent, built for the terminal. Contribute to sst/opencode development by creating an account on GitHub.</p><p><img src="https://ghuntley.com/content/images/icon/pinned-octocat-093da3e6fa40-21.svg" alt=""/><span>GitHub</span><span>sst</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/6aa80c72-cede-4e0d-b724-d3ed79320a7e" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a></figure><p>Or this 100-line agent, which scored really high on the SWE Bench.</p><figure><a href="https://github.com/SWE-agent/mini-swe-agent?ref=ghuntley.com"><div><p>GitHub - SWE-agent/mini-swe-agent: The 100 line AI agent that solves GitHub issues or helps you in your command line. Radically simple, no huge configs, no giant monorepo‚Äîbut scores 68% on SWE-bench verified!</p><p>The 100 line AI agent that solves GitHub issues or helps you in your command line. Radically simple, no huge configs, no giant monorepo‚Äîbut scores 68% on SWE-bench verified! - SWE-agent/mini-swe-agent</p><p><img src="https://ghuntley.com/content/images/icon/pinned-octocat-093da3e6fa40-24.svg" alt=""/><span>GitHub</span><span>SWE-agent</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/mini-swe-agent" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a></figure><p>And if you want some inspiration, there are many repositories on GitHub with leaked developer tooling harness and tool prompts.</p><figure><a href="https://github.com/x1xhlol/system-prompts-and-models-of-ai-tools?ref=ghuntley.com"><div><p>GitHub - x1xhlol/system-prompts-and-models-of-ai-tools: FULL v0, Cursor, Manus, Augment Code, Same.dev, Lovable, Devin, Replit Agent, Windsurf Agent, VSCode Agent, Dia Browser, Xcode, Trae AI, Cluely &amp; Orchids.app (And other Open Sourced) System Prompts, Tools &amp; AI Models.</p><p>FULL v0, Cursor, Manus, Augment Code, Same.dev, Lovable, Devin, Replit Agent, Windsurf Agent, VSCode Agent, Dia Browser, Xcode, Trae AI, Cluely &amp;amp; Orchids.app (And other Open Sourced) System Pro‚Ä¶</p><p><img src="https://ghuntley.com/content/images/icon/pinned-octocat-093da3e6fa40-22.svg" alt=""/><span>GitHub</span><span>x1xhlol</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/system-prompts-and-models-of-ai-tools" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a></figure><figure><img src="https://ghuntley.com/content/images/2025/08/how-to-build-a-agent.041.png" alt="" loading="lazy" width="1920" height="1080" srcset="https://ghuntley.com/content/images/size/w600/2025/08/how-to-build-a-agent.041.png 600w, https://ghuntley.com/content/images/size/w1000/2025/08/how-to-build-a-agent.041.png 1000w, https://ghuntley.com/content/images/size/w1600/2025/08/how-to-build-a-agent.041.png 1600w, https://ghuntley.com/content/images/2025/08/how-to-build-a-agent.041.png 1920w" sizes="(min-width: 720px) 720px"/></figure><p>In recap. What you just built was a coding agent. Perhaps you don&#39;t want to create a coding agent. What if you&#39;re in the data engineering profession? What would that look like? Think about all of the activities that you do day-to-day, where having the capability to automate using these primitives could be handy or valuable to your employer.</p><p>Your current workers are going to take your job, not AI. </p><p>If you&#39;re concerned about AI, the answer is straightforward: just invest in yourself. It really is that simple. This year is a particularly challenging time to be asleep at the wheel when it comes to personal development.  </p><figure><a href="https://ghuntley.com/six-month-recap/"><div><p>the six-month recap: closing talk on AI at Web Directions, Melbourne, June 2025</p><p>Welcome back to our final session at WebDirections. We‚Äôre definitely on the glide path‚Äîthough I‚Äôm not sure if we‚Äôre smoothly landing, about to hit turbulence, or perhaps facing a go-around. We‚Äôll see how it unfolds. Today, I‚Äôm excited to introduce Geoffrey Huntley. I discovered Geoff earlier this year through</p><p><img src="https://ghuntley.com/content/images/icon/7V0ak3am_400x400-1-54.jpg" alt=""/><span>Geoffrey Huntley</span><span>Geoffrey Huntley</span></p></div><p><img src="https://ghuntley.com/content/images/thumbnail/the-future-belongs-to-people-who-do-things.001-3.png" alt="" onerror="this.style.display = &#39;none&#39;"/></p></a><figcaption><p><span>conference lock-note</span></p></figcaption></figure><p>I hope to see you later this afternoon for the conference for the locknote (see above). </p><blockquote>Go forward and build.</blockquote><p>ps. socials</p><ul><li>X - <a href="https://x.com/GeoffreyHuntley/status/1959453609240007052?ref=ghuntley.com">https://x.com/GeoffreyHuntley/status/1959453609240007052</a></li><li>Linkedin : <a href="https://www.linkedin.com/posts/geoffreyhuntley_how-to-build-an-agent-activity-7365220712707485697-EiJO?utm_source=share&amp;utm_medium=member_desktop&amp;rcm=ACoAAABQKuUB2AJ059keUcRUVLbtmoa6miLVlTI">https://www.linkedin.com/posts/geoffreyhuntley_how-to-build-an-agent-activity-7365220712707485697-EiJO</a></li><li>Bluesky: <a href="https://bsky.app/profile/ghuntley.com/post/3lx4jmqsclk2q?ref=ghuntley.com">https://bsky.app/profile/ghuntley.com/post/3lx4jmqsclk2q</a></li></ul>
        </div></div>
  </body>
</html>
