<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://vinayak.io/2024/12/15/trmnl-running/">Original</a>
    <h1>Running goals on my TRMNL</h1>
    
    <div id="readability-page-1" class="page"><div><div>
  
  <!-- TODO: fix the if -->
  <p><span>15 December 2024 · trmnl
    · running</span></p><!-- https://help.twitter.com/en/using-twitter/add-twitter-share-button -->
  <p>Last month, I saw <a href="https://x.com/0xferruccio">Ferruccio</a> with a <a href="https://usetrmnl.com/">TRMNL</a> and it picqued my interest because I&#39;d been thinking about putting some things that I always wanted top of mind right in front of me. For example, my running goals that I track using the Strava widget on my phone.</p>
<div>
    <figure>
        <img src="https://vinayak.io/files/strava-goals.jpg"/>
    </figure>
</div>

<p>After some initial skepticism about the inability to &#34;remix&#34; existing plugins and the device not being future proof (in case they shut it down), I decided to get one when I looked at their <a href="https://docs.usetrmnl.com/">docs</a> and saw that I could point it to my own server if need be.</p>
<p>I&#39;ve had it for a week now and I really like it! It&#39;s nice to have it refresh with things that matter to me, and to be able to glance at them every now and then.</p>
<p>After setting up some of the default plugins, I realized that I was missing my running goals. So I asked about it in the chat and they told me that a Strava plugin was on their roadmap. But since I didn&#39;t want to wait, I built a custom plugin for myself!</p>
<p>I reused some code that I use to update my <a href="https://vinayak.io/now/">now page</a> with my last run from Strava. I just needed to update it to only get activities from the current week so that I could add up the kilometres and get my weekly progress. The yearly progress was neatly available as a <code>ytd_run_totals</code> field returned by the <code>client.get_athlete_stats()</code> method provided by the <a href="https://github.com/stravalib/stravalib"><code>stravalib</code></a> library.</p>
<p>After getting the progress numbers, the only thing left to do was to display them nicely on the TRMNL using their <a href="https://usetrmnl.com/framework">design system</a>. It&#39;s very tailwind <em>-esque</em> and really nice to work with.</p>
<p>Since they don&#39;t have a native progress bar component yet, I had to create some progress bar divs and update their percentage with some plain old javascript.</p>
<p>Et voila !</p>
<div>
    <figure>
        <img src="https://vinayak.io/files/trmnl-strava-goals.jpeg"/>
    </figure>
</div>

<p>I&#39;ve detailed the steps to set up running goals as a custom plugin on the TRMNL in this <a href="https://github.com/vinayak-mehta/trmnl-strava-goals">GitHub repo</a> in case you&#39;re interested.</p>
<p>As you can see from the image, I didn&#39;t manage to hit my running goals this year, but next year will be better ✨</p>
</div>

 
 </div></div>
  </body>
</html>
