<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/lvkv/whenfs">Original</a>
    <h1>WhenFS: Calender Is Now a File System</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/lvkv/whenfs/blob/master/images/wordart-3.png"><img src="https://github.com/lvkv/whenfs/raw/master/images/wordart-3.png" alt="whenfs your calendar is now a filesystem"/></a></p>
<p dir="auto">WhenFS turns your Google Calendar into a FUSE filesystem. It whimsically supports the following features:</p>
<ul dir="auto">
<li>Create a filesystem out of existing Google Calendars, or create a new one from scratch</li>
<li>Read and write files, directories and... well, just files and directories</li>
<li>Mount your friends&#39; WhenFS calendar file systems to share files in the silliest way possible</li>
</ul>
<p dir="auto">This is what the Mona Lisa looks like when uploaded to Google Calendar:</p>

<p dir="auto">
  ⬇️
</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/lvkv/whenfs/blob/master/images/calendar_screenshot.png"><img src="https://github.com/lvkv/whenfs/raw/master/images/calendar_screenshot.png" alt="calendar screenshot"/></a></p>
<p dir="auto">The image above contains all the image&#39;s data split up across hundreds of tiny calendar event descriptions.
The entire filesystem—files, directories, reads, writes and more—is all based on manipulating these Google Calendar events.</p>
<p dir="auto">WhenFS is an example of a <a href="http://tom7.org/harder/" rel="nofollow">harder drive</a>—a hard drive we didn&#39;t want or need.</p>
<div dir="auto"><h2 tabindex="-1" dir="auto">(Demo) Mount a Friend&#39;s File System</h2><a id="user-content-demo-mount-a-friends-file-system" aria-label="Permalink: (Demo) Mount a Friend&#39;s File System" href="#demo-mount-a-friends-file-system"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">WhenFS can mount existing WhenFS-ed Google Calendars when given the calendar&#39;s ID and ID of the file system recovery calendar event:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/lvkv/whenfs/blob/master/images/demo_cat.gif"><img src="https://github.com/lvkv/whenfs/raw/master/images/demo_cat.gif" alt="demo" data-animated-image=""/></a></p>
<div dir="auto"><h2 tabindex="-1" dir="auto">(Demo) Transfer Files to Google Calendar</h2><a id="user-content-demo-transfer-files-to-google-calendar" aria-label="Permalink: (Demo) Transfer Files to Google Calendar" href="#demo-transfer-files-to-google-calendar"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">WhenFS can transfer a 3 KiB file to Google Calendar in just over 7 seconds—a blistering upload speed of 400 bytes per second:</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/lvkv/whenfs/blob/master/images/demo.gif"><img src="https://github.com/lvkv/whenfs/raw/master/images/demo.gif" alt="demo" data-animated-image=""/></a></p>

<p dir="auto">WhenFS operations start at the FUSE file system layer, facilitated by <a href="https://github.com/cberner/fuser">fuser</a>. The filesystem sits on top of a write-through object cache, which itself sits on top of an abstract data storage interface with swappable calendar API backends.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://github.com/lvkv/whenfs/blob/master/images/flow.png"><img src="https://github.com/lvkv/whenfs/raw/master/images/flow.png" alt="flow"/></a></p>
<p dir="auto">If you poke around enough, you&#39;ll likely run into bugs, edge cases, and completely unimplemented features. There are no plans to fix these.</p>

<p dir="auto">I used this project as an opportunity to learn about Rust and FUSE file systems. I also think it&#39;s hilarious.</p>
<p dir="auto">Visitors interested in the code should note that this is an irredeemably messy codebase—it&#39;s full of hacks, unidiomatic code, and wildly poor design decisions.</p>
<p dir="auto">However, visitors should also note that that&#39;s okay. The best way to learn something new is to try it out for yourself—and creating a mess is a vital part of that process. The page you&#39;re on right now is my mess. Now go create yours!</p>

<p dir="auto">The diagram above took too long to create, so I no longer have the energy to write up a tutorial.</p>
<p dir="auto">If you figure out how to use this, let me know.</p>

<p dir="auto">Contributions are more than welcome.
Note that contributors are subject to a contributor license agreement (&#34;CLA&#34;), which requires that all
contributions be accompanied by a lighthearted meme that makes the author chuckle slightly, but not too much.</p>
</article></div></div>
  </body>
</html>
