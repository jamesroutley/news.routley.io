<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://0xda.de/blog/2025/04/hiding-elements-that-require-javascript-without-javascript/">Original</a>
    <h1>Hiding elements that require JavaScript without JavaScript</h1>
    
    <div id="readability-page-1" class="page"><div>
                <p>I’ve tried my best to make sure that this site works great (or at least reasonably well) even without JavaScript, but when JavaScript isn’t available, it can be a little clunky to hide things that do require it. With a mere 7 lines (or a one-liner if you’re nasty), you can easily hide elements that require JavaScript so that you don’t end up with broken functionality visible to users who have JavaScript off.</p>
<p>For context, I’m working on a small share button that I can add to my posts that makes it easy to share my posts however you’d prefer. So here’s an example of what that looks like right now without JavaScript:</p>
<p>















  
  
    
    
    
    
    
    
    
    
  <picture>
    <source srcset="https://0xda.de/blog/2025/04/hiding-elements-that-require-javascript-without-javascript/js-required-button_hu_59f013948ff69a5b.webp" type="image/webp"/>
  <img src="https://0xda.de/blog/2025/04/hiding-elements-that-require-javascript-without-javascript/js-required-button.5dbba86bfdb33883d6d4783f8af61f16.PNG" alt="Screenshot snippet showing a share SVG icon next to the permalink for the post" loading="lazy" height="273" width="783"/>
</picture>
</p>
<p>While it doesn’t look <em>hideous</em>, the link isn’t necessary when JavaScript is enabled, and the SVG isn’t necessary when JavaScript is disabled. I wanted to just show the SVG as a button you can press when JavaScript is enabled, and just show the link to make it easy to copy/paste when JavaScript is disabled.</p>
<p>If you’re not already familiar, the latter part is easy with the <code>&lt;noscript&gt;</code> HTML tag. This tag tells browsers to render its contents only when JavaScript is disabled. So making the link only show up when JavaScript is disabled is as easy as wrapping it in a <code>&lt;noscript&gt;</code> tag.</p>
<p>But if you want to make an element only appear when JavaScript is enabled, it’s a little less clear cut. There’s not an <code>&lt;onlyscript&gt;</code> tag, and the <code>&lt;script&gt;</code> tag has a very different meaning than the <code>&lt;noscript&gt;</code> tag.</p>
<h2 id="using-javascript-to-indicate-javascript-is-enabled">Using JavaScript to indicate JavaScript is enabled</h2>
<p>In my first approach with this, I thought maybe I could just add a line of JavaScript in the <code>&lt;head&gt;</code> tag that, if JavaScript is enabled, would run and add <code>js-enabled</code> to the class list on the <code>&lt;html&gt;</code> element.</p>
<p>This would work fine, then I could style things in a special way if JavaScript is enabled, by creating styles like this:</p>
<div><pre tabindex="0"><code data-lang="css"><span><span>.<span>share-button</span> {
</span></span><span><span>    <span>display</span>: <span>none</span>;
</span></span><span><span>}
</span></span><span><span>.<span>js-enabled</span> .<span>share-button</span> {
</span></span><span><span>    <span>display</span>: <span>block</span>;
</span></span><span><span>}
</span></span></code></pre></div><p>But this felt clunky. It results in needing to create two CSS rules for each element, and for my goal of just hiding things when JavaScript isn’t enabled, that seems heavy handed.</p>
<p>This might be a useful solution if you needed to do significantly more elaborate styling only when JavaScript is enabled, but for my purpose, it wasn’t simple enough.</p>
<h2 id="using-noscript-to-override-specific-elements">Using noscript to override specific elements</h2>
<p>The next solution I came to was to combine the use of the <code>&lt;noscript&gt;</code> tag with a <code>&lt;style&gt;</code> tag in the head of my site. Then I could just list out elements that I don’t want to show, and mark them explicitly as <code>display:none;</code>. They would still be present in the markup, but that’s fine, they shouldn’t get in anybody’s way.</p>
<p>In your site’s header, you can simply link all of your CSS as you normally would, and then add the following snippet to override the fields that you want to not show when JavaScript is disabled. In my example, I was hiding the <code>.theme-toggle</code> and the <code>.menu-trigger</code> classes. These are related to features that only work if JavaScript is enabled – the three way theme switcher and the hamburger menu dropdown on mobile.</p>
<div><pre tabindex="0"><code data-lang="html"><span><span>&lt;<span>noscript</span>&gt;
</span></span><span><span>    &lt;<span>style</span>&gt;
</span></span><span><span>        .<span>theme-toggle</span> {
</span></span><span><span>            <span>display</span>: <span>none</span>;
</span></span><span><span>        }
</span></span><span><span>        .<span>menu-trigger</span> {
</span></span><span><span>            <span>display</span>:<span>none</span>;
</span></span><span><span>        }
</span></span><span><span>    &lt;/<span>style</span>&gt;
</span></span><span><span>&lt;/<span>noscript</span>&gt;
</span></span></code></pre></div><p>This is alright. It’s explicit. It relies on existing browser behaviors to do selective style overrides when JavaScript isn’t available, so you don’t have to style both the JS-enabled and JS-disabled cases explicitly. But as I was developing new progressive enhancement features, I didn’t really like this pattern anymore. The more enhanced the website becomes, the longer this list of overrides becomes, and you have to make sure you always keep it up to date if you change class names.</p>
<h2 id="star-using-noscript-and-a-d-js-required-class">⭐ Using noscript and a d-js-required class.</h2>
<p>Since we can append any number of classes to an element, I realized that it makes much more sense to make this noscript-style as simple as possible. We’ll simply create a single class, <code>d-js-required</code> to indicate that JavaScript needs to be enabled for us to display this element. We can update our <code>&lt;noscript&gt;&lt;style&gt;</code> block with just a single class, and then update our existing elements to also use this class.</p>
<div><pre tabindex="0"><code data-lang="html"><span><span>&lt;<span>noscript</span>&gt;
</span></span><span><span>    &lt;<span>style</span>&gt;
</span></span><span><span>        .<span>d-js-required</span> {
</span></span><span><span>            <span>display</span>: <span>none</span>;
</span></span><span><span>        }
</span></span><span><span>    &lt;/<span>style</span>&gt;
</span></span><span><span>&lt;/<span>noscript</span>&gt;
</span></span></code></pre></div><p>So now we can have any number of simple elements that only get displayed when JavaScript is enabled, without writing another line of JavaScript, and without needing to maintain an ever-growing list of CSS overrides.</p>
<p>I hope this has given you some inspiration for creative solutions to solve progressive-enhancement problems. If you have JavaScript enabled, you can click the share button below to share this page! And if not, you can just copy the link down below to share this page!</p>

            </div></div>
  </body>
</html>
