<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://borncity.com/win/2022/01/02/microsoft-besttigt-exchange-year-2022-problem-fip-fs-scan-engine-failed-to-load-1-jan-2022/">Original</a>
    <h1>Microsoft confirms Exchange Year 2022 problem</h1>
    
    <div id="readability-page-1" class="page"><div>
						<p><img loading="lazy" src="https://www.borncity.com/blog/wp-content/uploads/2012/07/Office1.jpg" width="55" height="60"/>[<a href="https://www.borncity.com/blog/?p=261091" target="_blank" rel="noopener">German</a>]Exchange servers (on-premises) have had woldwide a Year 2022 problem since January 1 (00:00 UTC), because mails are no longer transported due to a &#34;date error&#34;. Meanwhile, Microsoft has confirmed this issue in a separate blog post. The developers are working on a fix, which should be rolled out soon. <strong>Addendum:</strong> A fix ist available.</p>


<h2>The Exchange Year 2022 Problem</h2>
<p><img loading="lazy" src="https://vg09.met.vgwort.de/na/1a7c572e2ca44decb05f2ef62fc04fa6" alt="" width="1" height="1"/>The year 2022 started for administrators of Exchange servers (on-premises) with a fat Year 2022 problem, because mails can no longer be transported due to a &#34;date error&#34;. The Microsoft Scan Engine FIP-FS cannot be loaded – and in the logs the event can be found:</p>
<blockquote><p>The FIP-FS &#34;Microsoft&#34; Scan Engine failed to load. PID: 39268, Error Code: 0x80004005. Error Description: Can&#39;t convert &#34;2201010003&#34; to long. / Event ID 5300</p></blockquote>
<p>The background is presumably that a date value encoded in a signed long integer with 2022 generates an overflow, which then causes the above error abort. The workaround is to temporarily suspend the malware scan or malware filtering. I had published the article <a href="https://borncity.com/win/2022/01/01/exchange-fip-fs-scan-engine-failed-to-load-cant-convert-2201010001-to-long-1-1-2022/">Exchange Year 2022 Problem: FIP-FS Scan Engine failed to load – Can&#39;t Convert &#34;2201010001&#34; to long (2022/01/01 00:00 UTC)</a> with additional explanations.</p>
<h2>What&#39;s with Exchange Emergency Mitigation Service?</h2>
<p>There was also <a href="https://twitter.com/johnckirk/status/1477338734093819906" target="_blank" rel="noopener">discussion</a> on Twitter that the new Microsoft Exchange Emergency Mitigation Service introduced in 2021 (see <a href="https://borncity.com/win/2021/09/27/exchange-server-september-2021-cu-kommt-zum-28-9-2021-mit-microsoft-exchange-emergency-mitigation-service/">Exchange Server September 2021 CU comes Sept. 28 with Microsoft Exchange Emergency Mitigation Service</a>) was supposed to allow automatic remediation by Microsoft.</p>
<p><a href="https://twitter.com/johnckirk/status/1477338734093819906" target="_blank" rel="noopener"><img title="Exchange Year 2022 Bug and EEMS" src="https://i.imgur.com/EZCVXzM.png" alt="Exchange Year 2022 Bug and EEMS"/></a></p>
<p>However, the deployment of such a solution takes time, as explained by Microsoft below.</p>

<h2>Microsoft confirms the bug</h2>
<p>German blog reader DW points out in <a href="https://www.borncity.com/blog/2022/01/01/exchange-fip-fs-scan-engine-failed-to-load-cant-convert-2201010001-to-long-1-1-2022/#comment-119517" target="_blank" rel="noopener">this comment</a> (thanks for that) the Techcommunity post <a href="https://techcommunity.microsoft.com/t5/exchange-team-blog/email-stuck-in-transport-queues/ba-p/3049447" target="_blank" rel="noopener">Email Stuck in Transport Queues</a> that Microsoft has since published. It says there that Microsoft is aware of an issue that causes messages to get stuck in Exchange Server 2016 and Exchange Server 2019 transport queues. There is no mention of the fact that, according to my information, this also affects Exchange Sever 2013.</p>
<p>The issue relates to a bug in the year-end date check, not a bug in the AV engine itself. It is not a malware scanning or malware engine issue, and it is not a security-related issue. The signature file version check causes the malware engine to crash, which causes messages to get stuck in transport queues. So that&#39;s what I described a few hours ago in the blog post linked above.</p>
<p>Microsoft is working on a fix for this problem. They expect to release details on how to resolve this issue later today (at the time of writing, this was not yet the case).</p>
<p>In the meantime, Microsoft suggests running malware scans on messages outside of the on-premises Exchange server (e.g., by forwarding email through Exchange Online or using a third-party message hygiene solution), or disabling malware scans on affected Exchange servers and clearing transport queues. However, Microsoft writes that one of these workarounds should only be used if administrators are using a different email malware scanner than the engine in Exchange Server. For more information on disabling or bypassing malware scans, see the following articles:</p>
<ul>
<li><a href="https://docs.microsoft.com/en-us/Exchange/antispam-and-antimalware/antimalware-protection/antimalware-protection?view=exchserver-2019" target="_blank" rel="noopener">Antimalware protection in Exchange Server | Microsoft Docs</a></li>
<li><a href="https://docs.microsoft.com/en-us/exchange/antispam-and-antimalware/antimalware-protection/antimalware-procedures?view=exchserver-2019" target="_blank" rel="noopener">Procedures for antimalware protection in Exchange Server | Microsoft Docs</a></li>
</ul>
<p>Regarding the <em>Microsoft Exchange Emergency Mitigation Service</em> mentioned above, I read the following from the Microsoft article: Their engineers were indeed working on a solution that would eliminate the need for customer intervention. But it was determined that any change that did not require customer intervention would take several days to develop and deploy.</p>
<p>So at this time, they are saying, &#34;We are currently working on another update that is in the final testing phase. The update will require customer intervention, but it will provide the fastest solution. So it&#39;s wait and see when this solution will come.</p>
<h2>Microsoft&#39;s fix</h2>
<p><span><b>Addendum</b></span>: The Microsoft Techcommunity article <a href="https://techcommunity.microsoft.com/t5/exchange-team-blog/email-stuck-in-transport-queues/ba-p/3049447" target="_blank" rel="noopener external noreferrer" data-wpel-link="external">Email Stuck in Transport Queues</a> hast been updated. Microsoft Providers a Script and instructions to fix the issue.D etails May bei read within the article.</p>
<p><strong>Similar articles:<br/>
</strong><a href="https://borncity.com/win/2021/07/14/sicherheitsupdates-fr-exchange-server-juli-2021/">Security updates for Exchange Server (July 2021)</a></p>

<!-- AI CONTENT END 1 -->
											</div><div><p>
							This entry was posted in <a href="https://borncity.com/win/category/issue/" rel="category tag">issue</a>, <a href="https://borncity.com/win/category/software/" rel="category tag">Software</a> and tagged <a href="https://borncity.com/win/tag/exchange/" rel="tag">Exchange</a>, <a href="https://borncity.com/win/tag/issue/" rel="tag">issue</a>. Bookmark the <a href="https://borncity.com/win/2022/01/02/microsoft-besttigt-exchange-year-2022-problem-fip-fs-scan-engine-failed-to-load-1-jan-2022/" title="Permalink to Microsoft confirms Exchange Year 2022 problem that FIP-FS Scan Engine failed to load (Jan. 1, 2022)" rel="bookmark">permalink</a>.													</p></div></div>
  </body>
</html>
