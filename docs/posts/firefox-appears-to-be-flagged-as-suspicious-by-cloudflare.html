<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://lwthiker.com/opensource/2022/05/21/firefox-flagged-suspicious.html">Original</a>
    <h1>Firefox appears to be flagged as suspicious by Cloudflare</h1>
    
    <div id="readability-page-1" class="page"><div aria-label="Content">
      <div>
        <article itemscope="" itemtype="http://schema.org/BlogPosting">

  

  <div itemprop="articleBody">
    <p>It appears that Firefox is now flagged as “suspicious” by Cloudflare’s anti-bot protection. When you browse to certain websites hosted on Cloudflare’s CDN and using this service, Firefox is served back a Javascript challenge. This is how it looks like:</p>

<p><img src="https://lwthiker.com/assets/img/checking_your_browser.png" alt="Checking your browser"/></p>

<p>You can test it yourself: Browse to <a href="https://www.g2.com">https://www.g2.com</a>, which is a software reviews website. If you use Chrome or Edge, you will get the site’s content. However, use Firefox and you’ll most likely be served the challenge instead (make sure to clear cookies before). This basically means you must have JS enabled to access the site and you will incur a 2-3 seconds delay before the content is served.</p>

<p>This is not a good prospect for the open-source browser. If this behavior gets adapted on more sites, we can expect even more users leaving Firefox, as every web access will take a few more seconds.</p>

<p>From a technical standpoint it doesn’t make sense either. I don’t see any reason to “suspect” Firefox is a bot. If anything, Chrome is probably being used for web scraping at a much higher rate through projects like <a href="https://github.com/puppeteer/puppeteer">Puppeteer</a>.</p>

<p>To be clear, I don’t believe this behavior is intentional on Cloudflare’s side. They way they identify which browser you are using is through a combination of <a href="https://httptoolkit.tech/blog/tls-fingerprinting-node-js/">TLS fingerprinting</a> and HTTP fingerprinting (on which I might write an extended explanation later on). What I believe to be happening is that Cloudflare whitelists the signatures of browsers with large-enough market share, and Firefox happens to fall below that threshold. Even if that is the case, I do expect Cloudflare to actively whitelist Firefox. Open-source browsers are an important part of the web and should not be treated differently than their closed-source counterparts.</p>

  </div>
</article>

      </div>
    </div></div>
  </body>
</html>
