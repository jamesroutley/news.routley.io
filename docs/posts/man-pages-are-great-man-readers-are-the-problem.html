<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://whynothugo.nl/journal/2025/04/09/man-pages-are-great-man-readers-are-the-problem/">Original</a>
    <h1>Man pages are great, man readers are the problem</h1>
    
    <div id="readability-page-1" class="page"><header><small><span><a href="https://whynothugo.nl/">‹ back home</a></span></small><small><span>2025-04-09</span>
<span><a href="https://whynothugo.nl/tags/documentation">#documentation</a>
<a href="https://whynothugo.nl/tags/man">#man</a>
<a href="https://whynothugo.nl/tags/unix">#unix</a></span></small></header><article><p><em>TLDR: man pages support links, but man page readers neither display nor allow
allow following them.</em></p><p>Frequent criticisms of man pages are “they don’t have links to each other” and
“they don’t re-flow if I make the window narrower”. These are perfectly valid
complains, but the reality is that man page do support these features: it’s the
programs that we use to read man pages that don’t implement them.</p><p>Man pages are stored in the <a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a> format and in the legacy <a href="https://man.openbsd.org/man.7">man(7)</a>
format<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup>. The actual format for these files isn’t the easiest to read in
the world, but it’s definitely not worse than XML or JSON. mdoc has purely
semantic markup. A portion of an mdoc man page looks something like the
following<sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup>:</p><div><pre tabindex="0"><code data-lang="txt"><span><span>.Sh NAME
</span></span><span><span>.Nm openrc
</span></span><span><span>.Nd stops and starts services for the specified runlevel
</span></span><span><span>.Sh SYNOPSIS
</span></span></code></pre></div><p>In this case <code>.Sh</code>, <code>.Nm</code> and <code>.Nd</code> are macros which mark the following text as
“section header”, “document name” and “document description” respectively. If
you try to manually read or edit these files you’ll need the to consult the
<a href="https://man.openbsd.org/mdoc.7#MACRO_OVERVIEW">macro overview</a>.</p><p>Two macros are of particular interest:</p><ul><li><a href="https://man.openbsd.org/mdoc.7#Xr"><code>.Xr</code></a>: “Cross reference”: link to another manual page.</li><li><a href="https://man.openbsd.org/mdoc.7#Sx"><code>.Sx</code></a>: Reference to another section in the same manual page.</li></ul><p>Both of these can be rendered as links. In fact, when <a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a> pages are
converted into HTML, both of these macros are converted into actual links. Both
of the above linked manual pages include examples of this. The <code>.Sh</code> (section
header) macro renders as an anchor, so links can point to it directly.</p><p>Ironically, the documentation for <a href="https://man.openbsd.org/mdoc.7">mdoc(7)</a> renders links when displayed as HTML
on a browser, but not when displayed in a terminal via the <a href="https://man.openbsd.org/man.1">man(1)</a> command.</p><p>We need better man page readers. Ones that let us follow references as links.</p><p>Currently <a href="https://man.openbsd.org/man.1">man(1)</a> formats a man pages and pipes it to <a href="https://man.openbsd.org/less.1">less(1)</a>. We can’t
easily add supports for links here: we need a pager which understands man pages
natively.</p><p>While we’re at it, we could also re-flow text when the terminal window is made
narrower.</p></article><p>Have comments or want to discuss this topic?</p><p>— § —</p></div>
  </body>
</html>
