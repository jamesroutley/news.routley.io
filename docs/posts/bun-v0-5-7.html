<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bun.sh/blog/bun-v0.5.7">Original</a>
    <h1>Bun v0.5.7</h1>
    
    <div id="readability-page-1" class="page"><div><header><a href="https://blog.plover.com/" aria-label="home"><img src="data:image/svg+xml;base64, PHN2ZyBpZD0iQnVuIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA4MCA3MCI+PHRpdGxlPkJ1biBMb2dvPC90aXRsZT48cGF0aCBpZD0iU2hhZG93IiBkPSJNNzEuMDksMjAuNzRjLS4xNi0uMTctLjMzLS4zNC0uNS0uNXMtLjMzLS4zNC0uNS0uNS0uMzMtLjM0LS41LS41LS4zMy0uMzQtLjUtLjUtLjMzLS4zNC0uNS0uNS0uMzMtLjM0LS41LS41LS4zMy0uMzQtLjUtLjVBMjYuNDYsMjYuNDYsMCwwLDEsNzUuNSwzNS43YzAsMTYuNTctMTYuODIsMzAuMDUtMzcuNSwzMC4wNS0xMS41OCwwLTIxLjk0LTQuMjMtMjguODMtMTAuODZsLjUuNS41LjUuNS41LjUuNS41LjUuNS41LjUuNUMxOS41NSw2NS4zLDMwLjE0LDY5Ljc1LDQyLDY5Ljc1YzIwLjY4LDAsMzcuNS0xMy40OCwzNy41LTMwQzc5LjUsMzIuNjksNzYuNDYsMjYsNzEuMDksMjAuNzRaIi8+PGcgaWQ9IkJvZHkiPjxwYXRoIGlkPSJCYWNrZ3JvdW5kIiBkPSJNNzMsMzUuN2MwLDE1LjIxLTE1LjY3LDI3LjU0LTM1LDI3LjU0UzMsNTAuOTEsMywzNS43QzMsMjYuMjcsOSwxNy45NCwxOC4yMiwxM1MzMy4xOCwzLDM4LDNzOC45NCw0LjEzLDE5Ljc4LDEwQzY3LDE3Ljk0LDczLDI2LjI3LDczLDM1LjdaIiBzdHlsZT0iZmlsbDojZmJmMGRmIi8+PHBhdGggaWQ9IkJvdHRvbV9TaGFkb3ciIGRhdGEtbmFtZT0iQm90dG9tIFNoYWRvdyIgZD0iTTczLDM1LjdhMjEuNjcsMjEuNjcsMCwwLDAtLjgtNS43OGMtMi43MywzMy4zLTQzLjM1LDM0LjktNTkuMzIsMjQuOTRBNDAsNDAsMCwwLDAsMzgsNjMuMjRDNTcuMyw2My4yNCw3Myw1MC44OSw3MywzNS43WiIgc3R5bGU9ImZpbGw6I2Y2ZGVjZSIvPjxwYXRoIGlkPSJMaWdodF9TaGluZSIgZGF0YS1uYW1lPSJMaWdodCBTaGluZSIgZD0iTTI0LjUzLDExLjE3QzI5LDguNDksMzQuOTQsMy40Niw0MC43OCwzLjQ1QTkuMjksOS4yOSwwLDAsMCwzOCwzYy0yLjQyLDAtNSwxLjI1LTguMjUsMy4xMy0xLjEzLjY2LTIuMywxLjM5LTMuNTQsMi4xNS0yLjMzLDEuNDQtNSwzLjA3LTgsNC43QzguNjksMTguMTMsMywyNi42MiwzLDM1LjdjMCwuNCwwLC44LDAsMS4xOUM5LjA2LDE1LjQ4LDIwLjA3LDEzLjg1LDI0LjUzLDExLjE3WiIgc3R5bGU9ImZpbGw6I2ZmZmVmYyIvPjxwYXRoIGlkPSJUb3AiIGQ9Ik0zNS4xMiw1LjUzQTE2LjQxLDE2LjQxLDAsMCwxLDI5LjQ5LDE4Yy0uMjguMjUtLjA2LjczLjMuNTksMy4zNy0xLjMxLDcuOTItNS4yMyw2LTEzLjE0QzM1LjcxLDUsMzUuMTIsNS4xMiwzNS4xMiw1LjUzWm0yLjI3LDBBMTYuMjQsMTYuMjQsMCwwLDEsMzksMTljLS4xMi4zNS4zMS42NS41NS4zNkM0MS43NCwxNi41Niw0My42NSwxMSwzNy45Myw1LDM3LjY0LDQuNzQsMzcuMTksNS4xNCwzNy4zOSw1LjQ5Wm0yLjc2LS4xN0ExNi40MiwxNi40MiwwLDAsMSw0NywxNy4xMmEuMzMuMzMsMCwwLDAsLjY1LjExYy45Mi0zLjQ5LjQtOS40NC03LjE3LTEyLjUzQzQwLjA4LDQuNTQsMzkuODIsNS4wOCw0MC4xNSw1LjMyWk0yMS42OSwxNS43NmExNi45NCwxNi45NCwwLDAsMCwxMC40Ny05Yy4xOC0uMzYuNzUtLjIyLjY2LjE4LTEuNzMsOC03LjUyLDkuNjctMTEuMTIsOS40NUMyMS4zMiwxNi40LDIxLjMzLDE1Ljg3LDIxLjY5LDE1Ljc2WiIgc3R5bGU9ImZpbGw6I2NjYmVhNztmaWxsLXJ1bGU6ZXZlbm9kZCIvPjxwYXRoIGlkPSJPdXRsaW5lIiBkPSJNMzgsNjUuNzVDMTcuMzIsNjUuNzUuNSw1Mi4yNy41LDM1LjdjMC0xMCw2LjE4LTE5LjMzLDE2LjUzLTI0LjkyLDMtMS42LDUuNTctMy4yMSw3Ljg2LTQuNjIsMS4yNi0uNzgsMi40NS0xLjUxLDMuNi0yLjE5QzMyLDEuODksMzUsLjUsMzgsLjVzNS42MiwxLjIsOC45LDMuMTRjMSwuNTcsMiwxLjE5LDMuMDcsMS44NywyLjQ5LDEuNTQsNS4zLDMuMjgsOSw1LjI3QzY5LjMyLDE2LjM3LDc1LjUsMjUuNjksNzUuNSwzNS43LDc1LjUsNTIuMjcsNTguNjgsNjUuNzUsMzgsNjUuNzVaTTM4LDNjLTIuNDIsMC01LDEuMjUtOC4yNSwzLjEzLTEuMTMuNjYtMi4zLDEuMzktMy41NCwyLjE1LTIuMzMsMS40NC01LDMuMDctOCw0LjdDOC42OSwxOC4xMywzLDI2LjYyLDMsMzUuNywzLDUwLjg5LDE4LjcsNjMuMjUsMzgsNjMuMjVTNzMsNTAuODksNzMsMzUuN0M3MywyNi42Miw2Ny4zMSwxOC4xMyw1Ny43OCwxMyw1NCwxMSw1MS4wNSw5LjEyLDQ4LjY2LDcuNjRjLTEuMDktLjY3LTIuMDktMS4yOS0zLTEuODRDNDIuNjMsNCw0MC40MiwzLDM4LDNaIi8+PC9nPjxnIGlkPSJNb3V0aCI+PGcgaWQ9IkJhY2tncm91bmQtMiIgZGF0YS1uYW1lPSJCYWNrZ3JvdW5kIj48cGF0aCBkPSJNNDUuMDUsNDNhOC45Myw4LjkzLDAsMCwxLTIuOTIsNC43MSw2LjgxLDYuODEsMCwwLDEtNCwxLjg4QTYuODQsNi44NCwwLDAsMSwzNCw0Ny43MSw4LjkzLDguOTMsMCwwLDEsMzEuMTIsNDNhLjcyLjcyLDAsMCwxLC44LS44MUg0NC4yNkEuNzIuNzIsMCwwLDEsNDUuMDUsNDNaIiBzdHlsZT0iZmlsbDojYjcxNDIyIi8+PC9nPjxnIGlkPSJUb25ndWUiPjxwYXRoIGlkPSJCYWNrZ3JvdW5kLTMiIGRhdGEtbmFtZT0iQmFja2dyb3VuZCIgZD0iTTM0LDQ3Ljc5YTYuOTEsNi45MSwwLDAsMCw0LjEyLDEuOSw2LjkxLDYuOTEsMCwwLDAsNC4xMS0xLjksMTAuNjMsMTAuNjMsMCwwLDAsMS0xLjA3LDYuODMsNi44MywwLDAsMC00LjktMi4zMSw2LjE1LDYuMTUsMCwwLDAtNSwyLjc4QzMzLjU2LDQ3LjQsMzMuNzYsNDcuNiwzNCw0Ny43OVoiIHN0eWxlPSJmaWxsOiNmZjYxNjQiLz48cGF0aCBpZD0iT3V0bGluZS0yIiBkYXRhLW5hbWU9Ik91dGxpbmUiIGQ9Ik0zNC4xNiw0N2E1LjM2LDUuMzYsMCwwLDEsNC4xOS0yLjA4LDYsNiwwLDAsMSw0LDEuNjljLjIzLS4yNS40NS0uNTEuNjYtLjc3YTcsNywwLDAsMC00LjcxLTEuOTMsNi4zNiw2LjM2LDAsMCwwLTQuODksMi4zNkE5LjUzLDkuNTMsMCwwLDAsMzQuMTYsNDdaIi8+PC9nPjxwYXRoIGlkPSJPdXRsaW5lLTMiIGRhdGEtbmFtZT0iT3V0bGluZSIgZD0iTTM4LjA5LDUwLjE5YTcuNDIsNy40MiwwLDAsMS00LjQ1LTIsOS41Miw5LjUyLDAsMCwxLTMuMTEtNS4wNSwxLjIsMS4yLDAsMCwxLC4yNi0xLDEuNDEsMS40MSwwLDAsMSwxLjEzLS41MUg0NC4yNmExLjQ0LDEuNDQsMCwwLDEsMS4xMy41MSwxLjE5LDEuMTksMCwwLDEsLjI1LDFoMGE5LjUyLDkuNTIsMCwwLDEtMy4xMSw1LjA1QTcuNDIsNy40MiwwLDAsMSwzOC4wOSw1MC4xOVptLTYuMTctNy40Yy0uMTYsMC0uMi4wNy0uMjEuMDlhOC4yOSw4LjI5LDAsMCwwLDIuNzMsNC4zN0E2LjIzLDYuMjMsMCwwLDAsMzguMDksNDlhNi4yOCw2LjI4LDAsMCwwLDMuNjUtMS43Myw4LjMsOC4zLDAsMCwwLDIuNzItNC4zNy4yMS4yMSwwLDAsMC0uMi0uMDlaIi8+PC9nPjxnIGlkPSJGYWNlIj48ZWxsaXBzZSBpZD0iUmlnaHRfQmx1c2giIGRhdGEtbmFtZT0iUmlnaHQgQmx1c2giIGN4PSI1My4yMiIgY3k9IjQwLjE4IiByeD0iNS44NSIgcnk9IjMuNDQiIHN0eWxlPSJmaWxsOiNmZWJiZDAiLz48ZWxsaXBzZSBpZD0iTGVmdF9CbHVjaCIgZGF0YS1uYW1lPSJMZWZ0IEJsdWNoIiBjeD0iMjIuOTUiIGN5PSI0MC4xOCIgcng9IjUuODUiIHJ5PSIzLjQ0IiBzdHlsZT0iZmlsbDojZmViYmQwIi8+PHBhdGggaWQ9IkV5ZXMiIGQ9Ik0yNS43LDM4LjhhNS41MSw1LjUxLDAsMSwwLTUuNS01LjUxQTUuNTEsNS41MSwwLDAsMCwyNS43LDM4LjhabTI0Ljc3LDBBNS41MSw1LjUxLDAsMSwwLDQ1LDMzLjI5LDUuNSw1LjUsMCwwLDAsNTAuNDcsMzguOFoiIHN0eWxlPSJmaWxsLXJ1bGU6ZXZlbm9kZCIvPjxwYXRoIGlkPSJJcmlzIiBkPSJNMjQsMzMuNjRhMi4wNywyLjA3LDAsMSwwLTIuMDYtMi4wN0EyLjA3LDIuMDcsMCwwLDAsMjQsMzMuNjRabTI0Ljc3LDBhMi4wNywyLjA3LDAsMSwwLTIuMDYtMi4wN0EyLjA3LDIuMDcsMCwwLDAsNDguNzUsMzMuNjRaIiBzdHlsZT0iZmlsbDojZmZmO2ZpbGwtcnVsZTpldmVub2RkIi8+PC9nPjwvc3ZnPg==" alt="Bun logo" id="logo"/><img alt="Bun" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAHgAAAAoCAYAAAA16j4lAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAXHSURBVHgB7ZzhVeM4EMdHcvbTkuCr4LwVwFVwoQJCBZtUAFRwoYJdKlio4KCCy1ZwoYL1dWAS+ASW7j+OnHVM4tiKY7yJf+/xktiybGuk0cxoBFHDTiPSB1zX9fiDwvBYCeFG37X+3RT2ZlcJLy6vtfYo6wZC+PgIUDDQQozx/T8p5SgIgjE1bB3hfvx4rKQ8hyCOjbBcqgYffyPpOLcQ9ogatoLodDo3GF2f6R2BZhgJxxlA0D41lIqkGqCJuioMf6Cz/UUNpSKFmV9rgdbDRsjlUosRvMBMyBfUUArisN3+h1Uk1YsAxtcnzMnBspOw9GfWfWzVL8fnelbVsQrjRVBG3X4eW2Hujbw1WgPzXH6OOrpKqVPx1vhlj+TBeCOjrDrqKmCelwfT6fQmeazdbvdgkH2jYpY+d5Y/1jWoRd3BZDr9LX3wsNP5F97IcY7r2bi8e5xOz9LHWbBaqW/rXFCDj7a6SrdVTIs2JPJzteab+NFv02s37TTstqWPOahXFXfjcpW3qHtp2bzCjcouaSO2QWBwDik/HndMDNRT44ksaCxbAd9IrW+p1RpnqFFPvb72ISk7oylf7/3V4dnGi7ULtEifbRCyAJ2lR0p5qO8kKROZjErlBappEDw9jbLmN37oydPTEB3hhCxArzyk/WA+4qXtYDCw9sCcvVDH1q1o7ggcyKCCxCq/ziQMMmsgEI8/efTqMrSW1hfuwUE3/lmJmwSL7zsVBAIufM17YyVwrY/4A5byOZUE2nteV/38YIPjOCPaA9iYjDrGEqPSFjbejCtZjYChoovFurW+2pe4NKtluER/U7m4YRj2+MvWBcxmf5G5BT16zMYZ7Q9uEdcqLxhUf/Lnxn7wKiJnPQxZuN2817BwhZRWVvevDhuimDvvZRiOogNSelC157bxhDiOYCVgRGt+ZJ2HUF0468UCElpfI6qTGYNW7NJpTTuHUpePz89fU0c5IeKuc3AwtIklxFrBSsC6xCBEtBaMFwyen/czw0OIr5O3wp3D0xUG1GebNmfjrQ5WdKAch62+Lu0hENzD2jJEt2SHazcHC3G1tgj8OzN/ZKrqKMSmdQ8qnTrtdmbgvHa8vnpUQUAGnWAsyArPSsCTyWSYp5yJR19QwvFe90AcOIflfYR7XKZPIuzpK9oOdZ7fERMY8wAoClwld6sq2sSjLwqHKhFug5C/UHlUlUhYO6oKdBSfQ1IxVSacLZbb4NE2aLVsn6cyqjGyHMcnC5SUvYVqlPLJAgT0Sw8kGBoBM9YNrPXpwu8PH+waFIH8ODabUaY+yYclUpWKtl0p8ZI/THzaRsgceFk5p5tMzj7tIFZWdDILYR1sLJUZGOH0IMuVlz7csC6uvZZSclDFhWY5Qufr6x3OHmlFDVbQCOEk9cN2+47XeU1j+WQyGI0q9NB4XR65mzSemO1lWkTK72QfnGdX6EvS5djBwOcC1osNyQBFDEYIldl47OAvOTbaQOUvhTtSxfuyKqO2C/5MlNiXwiQClGq9YgXrzGiynaO2AuacYc7nSh+PEv2EsI3Nvr0PRm9kT0i5Nia8hMZNssQXjnO56iTmfV59KaVxFZYpzdfCq1nprNI6ZqGwgOvWCwOp1FlWY0XnlFq74JEDP17Y0LuqomEJP1J98CHckzxrw2YNdSNVjTl+EH/ngD7tIPVR0VCV0R6iAgv/k+mUdwJckwW89yk5x28QRKk1Er34jg0aep+XC6LAg+N84lWnojsBGb4OvXSQd8WKy/FuixVrzvdLfe90HUL4ps2W1k8525LrcXJODea58rZPENe9sI7M/6+Dk70UR4oQm43+6QrWSUtN0cGN2ZeFUO6hF0c2Ql1FlF8chl1+frOxnf3aQM860gMntOXVEIktqgsUMaSi53l5cWn2z2xYSwUmnh5s8t7zBPtZwsGMVsv/+Yg/686dKBC98MuLN39Ys6dJrd/bFEh+MaXGeDm/TIE2rOd/FyXQ6dP/kRUAAAAASUVORK5CYII="/><img alt="Bun" src="data:image/png;base64, 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"/></a><nav><a href="https://blog.plover.com/docs">Docs</a><a href="https://blog.plover.com/blog">Blog</a><a href="https://bun.sh/discord"><img src="data:image/svg+xml;base64, PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0iY3VycmVudENvbG9yIiBjbGFzcz0iYmkgYmktZGlzY29yZCIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBkPSJNMTMuNTQ1IDIuOTA3YTEzLjIyNyAxMy4yMjcgMCAwIDAtMy4yNTctMS4wMTEuMDUuMDUgMCAwIDAtLjA1Mi4wMjVjLS4xNDEuMjUtLjI5Ny41NzctLjQwNi44MzNhMTIuMTkgMTIuMTkgMCAwIDAtMy42NTggMCA4LjI1OCA4LjI1OCAwIDAgMC0uNDEyLS44MzMuMDUxLjA1MSAwIDAgMC0uMDUyLS4wMjVjLTEuMTI1LjE5NC0yLjIyLjUzNC0zLjI1NyAxLjAxMWEuMDQxLjA0MSAwIDAgMC0uMDIxLjAxOEMuMzU2IDYuMDI0LS4yMTMgOS4wNDcuMDY2IDEyLjAzMmMuMDAxLjAxNC4wMS4wMjguMDIxLjAzN2ExMy4yNzYgMTMuMjc2IDAgMCAwIDMuOTk1IDIuMDIuMDUuMDUgMCAwIDAgLjA1Ni0uMDE5Yy4zMDgtLjQyLjU4Mi0uODYzLjgxOC0xLjMyOWEuMDUuMDUgMCAwIDAtLjAxLS4wNTkuMDUxLjA1MSAwIDAgMC0uMDE4LS4wMTEgOC44NzUgOC44NzUgMCAwIDEtMS4yNDgtLjU5NS4wNS4wNSAwIDAgMS0uMDItLjA2Ni4wNTEuMDUxIDAgMCAxIC4wMTUtLjAxOWMuMDg0LS4wNjMuMTY4LS4xMjkuMjQ4LS4xOTVhLjA1LjA1IDAgMCAxIC4wNTEtLjAwN2MyLjYxOSAxLjE5NiA1LjQ1NCAxLjE5NiA4LjA0MSAwYS4wNTIuMDUyIDAgMCAxIC4wNTMuMDA3Yy4wOC4wNjYuMTY0LjEzMi4yNDguMTk1YS4wNTEuMDUxIDAgMCAxLS4wMDQuMDg1IDguMjU0IDguMjU0IDAgMCAxLTEuMjQ5LjU5NC4wNS4wNSAwIDAgMC0uMDMuMDMuMDUyLjA1MiAwIDAgMCAuMDAzLjA0MWMuMjQuNDY1LjUxNS45MDkuODE3IDEuMzI5YS4wNS4wNSAwIDAgMCAuMDU2LjAxOSAxMy4yMzUgMTMuMjM1IDAgMCAwIDQuMDAxLTIuMDIuMDQ5LjA0OSAwIDAgMCAuMDIxLS4wMzdjLjMzNC0zLjQ1MS0uNTU5LTYuNDQ5LTIuMzY2LTkuMTA2YS4wMzQuMDM0IDAgMCAwLS4wMi0uMDE5Wm0tOC4xOTggNy4zMDdjLS43ODkgMC0xLjQzOC0uNzI0LTEuNDM4LTEuNjEyIDAtLjg4OS42MzctMS42MTMgMS40MzgtMS42MTMuODA3IDAgMS40NS43MyAxLjQzOCAxLjYxMyAwIC44ODgtLjYzNyAxLjYxMi0xLjQzOCAxLjYxMlptNS4zMTYgMGMtLjc4OCAwLTEuNDM4LS43MjQtMS40MzgtMS42MTIgMC0uODg5LjYzNy0xLjYxMyAxLjQzOC0xLjYxMy44MDcgMCAxLjQ1MS43MyAxLjQzOCAxLjYxMyAwIC44ODgtLjYzMSAxLjYxMi0xLjQzOCAxLjYxMloiLz4KPC9zdmc+" alt="Discord logo"/><img src="data:image/svg+xml;base64, PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0id2hpdGUiIGNsYXNzPSJiaSBiaS1kaXNjb3JkIiB2aWV3Qm94PSIwIDAgMTYgMTYiPgogIDxwYXRoIGQ9Ik0xMy41NDUgMi45MDdhMTMuMjI3IDEzLjIyNyAwIDAgMC0zLjI1Ny0xLjAxMS4wNS4wNSAwIDAgMC0uMDUyLjAyNWMtLjE0MS4yNS0uMjk3LjU3Ny0uNDA2LjgzM2ExMi4xOSAxMi4xOSAwIDAgMC0zLjY1OCAwIDguMjU4IDguMjU4IDAgMCAwLS40MTItLjgzMy4wNTEuMDUxIDAgMCAwLS4wNTItLjAyNWMtMS4xMjUuMTk0LTIuMjIuNTM0LTMuMjU3IDEuMDExYS4wNDEuMDQxIDAgMCAwLS4wMjEuMDE4Qy4zNTYgNi4wMjQtLjIxMyA5LjA0Ny4wNjYgMTIuMDMyYy4wMDEuMDE0LjAxLjAyOC4wMjEuMDM3YTEzLjI3NiAxMy4yNzYgMCAwIDAgMy45OTUgMi4wMi4wNS4wNSAwIDAgMCAuMDU2LS4wMTljLjMwOC0uNDIuNTgyLS44NjMuODE4LTEuMzI5YS4wNS4wNSAwIDAgMC0uMDEtLjA1OS4wNTEuMDUxIDAgMCAwLS4wMTgtLjAxMSA4Ljg3NSA4Ljg3NSAwIDAgMS0xLjI0OC0uNTk1LjA1LjA1IDAgMCAxLS4wMi0uMDY2LjA1MS4wNTEgMCAwIDEgLjAxNS0uMDE5Yy4wODQtLjA2My4xNjgtLjEyOS4yNDgtLjE5NWEuMDUuMDUgMCAwIDEgLjA1MS0uMDA3YzIuNjE5IDEuMTk2IDUuNDU0IDEuMTk2IDguMDQxIDBhLjA1Mi4wNTIgMCAwIDEgLjA1My4wMDdjLjA4LjA2Ni4xNjQuMTMyLjI0OC4xOTVhLjA1MS4wNTEgMCAwIDEtLjAwNC4wODUgOC4yNTQgOC4yNTQgMCAwIDEtMS4yNDkuNTk0LjA1LjA1IDAgMCAwLS4wMy4wMy4wNTIuMDUyIDAgMCAwIC4wMDMuMDQxYy4yNC40NjUuNTE1LjkwOS44MTcgMS4zMjlhLjA1LjA1IDAgMCAwIC4wNTYuMDE5IDEzLjIzNSAxMy4yMzUgMCAwIDAgNC4wMDEtMi4wMi4wNDkuMDQ5IDAgMCAwIC4wMjEtLjAzN2MuMzM0LTMuNDUxLS41NTktNi40NDktMi4zNjYtOS4xMDZhLjAzNC4wMzQgMCAwIDAtLjAyLS4wMTlabS04LjE5OCA3LjMwN2MtLjc4OSAwLTEuNDM4LS43MjQtMS40MzgtMS42MTIgMC0uODg5LjYzNy0xLjYxMyAxLjQzOC0xLjYxMy44MDcgMCAxLjQ1LjczIDEuNDM4IDEuNjEzIDAgLjg4OC0uNjM3IDEuNjEyLTEuNDM4IDEuNjEyWm01LjMxNiAwYy0uNzg4IDAtMS40MzgtLjcyNC0xLjQzOC0xLjYxMiAwLS44ODkuNjM3LTEuNjEzIDEuNDM4LTEuNjEzLjgwNyAwIDEuNDUxLjczIDEuNDM4IDEuNjEzIDAgLjg4OC0uNjMxIDEuNjEyLTEuNDM4IDEuNjEyWiIvPgo8L3N2Zz4=" alt="Discord logo"/></a><a href="https://github.com/oven-sh/bun"><img src="data:image/svg+xml;base64, PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOEMwIDExLjU0IDIuMjkgMTQuNTMgNS40NyAxNS41OUM1Ljg3IDE1LjY2IDYuMDIgMTUuNDIgNi4wMiAxNS4yMUM2LjAyIDE1LjAyIDYuMDEgMTQuMzkgNi4wMSAxMy43MkM0IDE0LjA5IDMuNDggMTMuMjMgMy4zMiAxMi43OEMzLjIzIDEyLjU1IDIuODQgMTEuODQgMi41IDExLjY1QzIuMjIgMTEuNSAxLjgyIDExLjEzIDIuNDkgMTEuMTJDMy4xMiAxMS4xMSAzLjU3IDExLjcgMy43MiAxMS45NEM0LjQ0IDEzLjE1IDUuNTkgMTIuODEgNi4wNSAxMi42QzYuMTIgMTIuMDggNi4zMyAxMS43MyA2LjU2IDExLjUzQzQuNzggMTEuMzMgMi45MiAxMC42NCAyLjkyIDcuNThDMi45MiA2LjcxIDMuMjMgNS45OSAzLjc0IDUuNDNDMy42NiA1LjIzIDMuMzggNC40MSAzLjgyIDMuMzFDMy44MiAzLjMxIDQuNDkgMy4xIDYuMDIgNC4xM0M2LjY2IDMuOTUgNy4zNCAzLjg2IDguMDIgMy44NkM4LjcgMy44NiA5LjM4IDMuOTUgMTAuMDIgNC4xM0MxMS41NSAzLjA5IDEyLjIyIDMuMzEgMTIuMjIgMy4zMUMxMi42NiA0LjQxIDEyLjM4IDUuMjMgMTIuMyA1LjQzQzEyLjgxIDUuOTkgMTMuMTIgNi43IDEzLjEyIDcuNThDMTMuMTIgMTAuNjUgMTEuMjUgMTEuMzMgOS40NyAxMS41M0M5Ljc2IDExLjc4IDEwLjAxIDEyLjI2IDEwLjAxIDEzLjAxQzEwLjAxIDE0LjA4IDEwIDE0Ljk0IDEwIDE1LjIxQzEwIDE1LjQyIDEwLjE1IDE1LjY3IDEwLjU1IDE1LjU5QzEzLjcxIDE0LjUzIDE2IDExLjUzIDE2IDhDMTYgMy41OCAxMi40MiAwIDggMFoiIHRyYW5zZm9ybT0ic2NhbGUoNjQpIiBmaWxsPSIjMUIxRjIzIi8+Cjwvc3ZnPgo=" alt="GitHub logo"/><img src="data:image/svg+xml;base64, PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOEMwIDExLjU0IDIuMjkgMTQuNTMgNS40NyAxNS41OUM1Ljg3IDE1LjY2IDYuMDIgMTUuNDIgNi4wMiAxNS4yMUM2LjAyIDE1LjAyIDYuMDEgMTQuMzkgNi4wMSAxMy43MkM0IDE0LjA5IDMuNDggMTMuMjMgMy4zMiAxMi43OEMzLjIzIDEyLjU1IDIuODQgMTEuODQgMi41IDExLjY1QzIuMjIgMTEuNSAxLjgyIDExLjEzIDIuNDkgMTEuMTJDMy4xMiAxMS4xMSAzLjU3IDExLjcgMy43MiAxMS45NEM0LjQ0IDEzLjE1IDUuNTkgMTIuODEgNi4wNSAxMi42QzYuMTIgMTIuMDggNi4zMyAxMS43MyA2LjU2IDExLjUzQzQuNzggMTEuMzMgMi45MiAxMC42NCAyLjkyIDcuNThDMi45MiA2LjcxIDMuMjMgNS45OSAzLjc0IDUuNDNDMy42NiA1LjIzIDMuMzggNC40MSAzLjgyIDMuMzFDMy44MiAzLjMxIDQuNDkgMy4xIDYuMDIgNC4xM0M2LjY2IDMuOTUgNy4zNCAzLjg2IDguMDIgMy44NkM4LjcgMy44NiA5LjM4IDMuOTUgMTAuMDIgNC4xM0MxMS41NSAzLjA5IDEyLjIyIDMuMzEgMTIuMjIgMy4zMUMxMi42NiA0LjQxIDEyLjM4IDUuMjMgMTIuMyA1LjQzQzEyLjgxIDUuOTkgMTMuMTIgNi43IDEzLjEyIDcuNThDMTMuMTIgMTAuNjUgMTEuMjUgMTEuMzMgOS40NyAxMS41M0M5Ljc2IDExLjc4IDEwLjAxIDEyLjI2IDEwLjAxIDEzLjAxQzEwLjAxIDE0LjA4IDEwIDE0Ljk0IDEwIDE1LjIxQzEwIDE1LjQyIDEwLjE1IDE1LjY3IDEwLjU1IDE1LjU5QzEzLjcxIDE0LjUzIDE2IDExLjUzIDE2IDhDMTYgMy41OCAxMi40MiAwIDggMFoiIHRyYW5zZm9ybT0ic2NhbGUoNjQpIiBmaWxsPSJ3aGl0ZSIvPgo8L3N2Zz4K" alt="GitHub logo"/></a></nav></header></div><section><div><p><a href="https://twitter.com/ashconpartovi">Ashcon Partovi</a><span> · <!-- -->February 24, 2023</span></p><article><p>Bun v0.5.7 introduces <code>FormData</code> support, <code>git</code> dependencies, and <code>AbortSignal</code> with <code>fetch()</code>, <code>setTimeout()</code> is now more compatible with Node.js, <code>bun wiptest</code> is now <code>bun test</code> — with pretty-printed diffs! — and improved support on AWS Lambda and GitHub Actions.</p><div><div><div><pre><code><span><span># Install using curl</span></span>
<span><span>curl -fsSL https://bun.sh/install </span><span>|</span><span> bash</span></span>
<span></span>
<span><span># Install using npm</span></span>
<span><span># npm install -g bun</span></span>
<span></span>
<span><span># Upgrade</span></span>
<span><span>bun upgrade</span></span>
<span></span></code></pre></div></div></div><h2 level="2" anchor-id="formdata-support"><a id="formdata-support"></a><a href="#formdata-support"><code>FormData</code> support</a></h2><p>Bun now supports <a href="https://developer.mozilla.org/en-US/docs/Web/API/FormData"><code>FormData</code></a>, a standard Web API for working with form fields and files in multipart uploads. You can add a <code>string</code> as a field or a <code>Blob</code> as a file.</p><div><div><div><pre><code><span><span>const</span><span> formData </span><span>=</span><span> </span><span>new</span><span> </span><span>FormData</span><span>();</span></span>
<span><span>formData.</span><span>set</span><span>(</span><span>&#34;</span><span>attachment-id</span><span>&#34;</span><span>, crypto.</span><span>randomUUID</span><span>());</span></span>
<span><span>formData.</span><span>set</span><span>(</span><span>&#34;</span><span>attachment</span><span>&#34;</span><span>, Bun.</span><span>file</span><span>(</span><span>&#34;</span><span>./package.json</span><span>&#34;</span><span>));</span></span>
<span><span>const</span><span> response </span><span>=</span><span> </span><span>await</span><span> </span><span>fetch</span><span>(</span><span>&#34;</span><span>https://example.com/upload</span><span>&#34;</span><span>, {</span></span>
<span><span>  method</span><span>:</span><span> </span><span>&#34;</span><span>POST</span><span>&#34;</span><span>,</span></span>
<span><span>  body</span><span>:</span><span> formData,</span></span>
<span><span>});</span></span>
<span></span></code></pre></div></div></div><p>You can also parse <code>FormData</code> from a <code>Request</code> or <code>Response</code>.</p><div><div><div><pre><code><span><span>export</span><span> </span><span>default</span><span> {</span></span>
<span><span>  </span><span>async</span><span> </span><span>fetch</span><span>(</span><span>request</span><span>:</span><span> </span><span>Request</span><span>)</span><span>:</span><span> </span><span>Promise</span><span>&lt;</span><span>Response</span><span>&gt; {</span></span>
<span><span>    </span><span>const</span><span> formData </span><span>=</span><span> </span><span>await</span><span> request.</span><span>formData</span><span>();</span></span>
<span><span>    </span><span>const</span><span> file </span><span>=</span><span> formData.</span><span>get</span><span>(</span><span>&#34;</span><span>attachment</span><span>&#34;</span><span>);</span></span>
<span><span>    </span><span>// ...</span></span>
<span><span>    </span><span>return</span><span> </span><span>new</span><span> </span><span>Response</span><span>(file);</span></span>
<span><span>  },</span></span>
<span><span>};</span></span>
<span></span></code></pre></div></div></div><p>In Bun, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Response/formData"><code>response.formData()</code></a> runs:</p><ul><li><strong>25x</strong> faster than Node v19.6.0</li><li><strong>4x</strong> faster than Deno v1.30.3</li></ul><figure><a href="https://user-images.githubusercontent.com/709451/220815500-39575f67-c3a6-4217-87e9-e74217103e64.png"><img src="https://user-images.githubusercontent.com/709451/220815500-39575f67-c3a6-4217-87e9-e74217103e64.png" alt="image" width="100%"/></a></figure><p><a href="https://github.com/oven-sh/bun/blob/24d624b176df241936d4ec82b2d6f93861de6229/bench/snippets/form-data.mjs#L1">View benchmark</a></p><h2 level="2" anchor-id="git-dependencies"><a id="git-dependencies"></a><a href="#git-dependencies">Git dependencies</a></h2><p>Bun now supports <code>git</code> dependencies in <code>package.json</code>. Bun accepts a variety of git dependency formats, including <a href="https://docs.npmjs.com/cli/v9/configuring-npm/package-json#github-urls"><code>github</code></a>, <a href="https://docs.npmjs.com/cli/v9/configuring-npm/package-json#git-urls-as-dependencies"><code>git</code></a>, <code>git+ssh</code>, <code>git+https</code>, and many more.</p><div><div><div><pre><code><span><span>{</span></span>
<span><span>  </span><span>&#34;</span><span>dependencies</span><span>&#34;</span><span>:</span><span> {</span></span>
<span><span>    </span><span>&#34;</span><span>zod</span><span>&#34;</span><span>:</span><span> </span><span>&#34;</span><span>github:colinhacks/zod</span><span>&#34;</span><span>,</span></span>
<span><span>    </span><span>&#34;</span><span>lodash</span><span>&#34;</span><span>:</span><span> </span><span>&#34;</span><span>git@github.com:lodash/lodash.git#4.17.21</span><span>&#34;</span></span>
<span><span>  }</span></span>
<span><span>}</span></span>
<span></span></code></pre></div></div></div><p>You can also add a <code>git</code> dependency using <code>bun install</code>.</p><div><div><div><pre><code><span><span>bun install git@github.com:moment/moment.git</span></span>
<span></span></code></pre></div></div></div><h2 level="2" anchor-id="changes-to-settimeout"><a id="changes-to-settimeout"></a><a href="#changes-to-settimeout">Changes to <code>setTimeout()</code></a></h2><p>The Web standard <a href="https://developer.mozilla.org/en-US/docs/Web/API/setTimeout"><code>setTimeout()</code></a> returns a <code>number</code>, which represents a timeout ID. The Node.js implementation of <a href="https://nodejs.org/api/timers.html#cleartimeouttimeout"><code>setTimeout()</code></a> returns a <code>Timeout</code> object, which has methods like <code>ref()</code> and <code>unref()</code>, but is coercable to a <code>number</code>.</p><p>We (reluctantly) decided to change Bun&#39;s implementation to match Node.js because there are many <code>npm</code> packages that depend on this legacy behaviour.</p><div><div><div><pre><code><span><span>const</span><span> timeout </span><span>=</span><span> </span><span>setTimeout</span><span>(() </span><span>=&gt;</span><span> {</span></span>
<span><span>  process.</span><span>abort</span><span>(); </span><span>// this is not called, see `unref()` below</span></span>
<span><span>}, </span><span>1000</span><span>);</span></span>
<span></span>
<span><span>timeout.</span><span>unref</span><span>();</span></span>
<span></span>
<span><span>// For compatibility, it still works as a number</span></span>
<span><span>const</span><span> timeoutId </span><span>=</span><span> </span><span>+</span><span>timeout; </span><span>// 1</span></span>
<span></span></code></pre></div></div></div><p>We also improved the <code>console.log()</code> formatting of the <code>Timeout</code> object.</p><figure><a href="https://user-images.githubusercontent.com/709451/220816678-03ce091d-2e5b-47a8-8d0f-9bb15b561d3b.png"><img src="https://user-images.githubusercontent.com/709451/220816678-03ce091d-2e5b-47a8-8d0f-9bb15b561d3b.png" alt="image" width="456"/></a></figure><h2 level="2" anchor-id="abortsignal-with-fetch"><a id="abortsignal-with-fetch"></a><a href="#abortsignal-with-fetch"><code>AbortSignal</code> with <code>fetch()</code></a></h2><p>You can now cancel a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch"><code>fetch()</code></a> request using an <a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal"><code>AbortSignal</code></a>. This is useful for timeouts or when you need to cancel a request before a response is received.</p><div><div><div><pre><code><span><span>await</span><span> </span><span>fetch</span><span>(</span><span>&#34;</span><span>https://example.com</span><span>&#34;</span><span>, {</span></span>
<span><span>  </span><span>// Abort if the response is not received after 1 second</span></span>
<span><span>  signal</span><span>:</span><span> AbortSignal.</span><span>timeout</span><span>(</span><span>1000</span><span>),</span></span>
<span><span>});</span></span>
<span></span></code></pre></div></div></div><p>You can also use an <code>AbortSignal</code> when receiving a <code>Request</code> from the HTTP server.</p><div><div><div><pre><code><span><span>export</span><span> </span><span>default</span><span> {</span></span>
<span><span>  </span><span>async</span><span> </span><span>fetch</span><span>(</span><span>request</span><span>:</span><span> </span><span>Request</span><span>)</span><span>:</span><span> </span><span>Promise</span><span>&lt;</span><span>Response</span><span>&gt; {</span></span>
<span><span>    request.signal.</span><span>addEventListener</span><span>(</span><span>&#34;</span><span>abort</span><span>&#34;</span><span>, () </span><span>=&gt;</span><span> {</span></span>
<span><span>      console.</span><span>log</span><span>(</span><span>&#34;</span><span>Client aborted the request</span><span>&#34;</span><span>);</span></span>
<span><span>    });</span></span>
<span><span>    </span><span>// ...</span></span>
<span><span>    </span><span>return</span><span> </span><span>new</span><span> </span><span>Response</span><span>();</span></span>
<span><span>  },</span></span>
<span><span>};</span></span>
<span></span></code></pre></div></div></div><h2 level="2" anchor-id="bun-wiptest-is-now-bun-test"><a id="bun-wiptest-is-now-bun-test"></a><a href="#bun-wiptest-is-now-bun-test"><code>bun wiptest</code> is now <code>bun test</code></a></h2><p>It&#39;s time for <code>bun wiptest</code> to graduate to <code>bun test</code>.</p><h3 level="3" anchor-id="pretty-printed-diffs"><a id="pretty-printed-diffs"></a><a href="#pretty-printed-diffs">Pretty-printed diffs</a></h3><p><code>bun test</code> now supports pretty-printed diffs, thanks to <a href="https://github.com/dylan-conway">@dylan-conway</a> for implementing and <a href="https://github.com/SuperAuguste">@SuperAuguste</a> for porting the <a href="https://github.com/google/diff-match-patch">diff-match-patch</a> algorithm to Zig.</p><p><strong>Now:</strong></p><div><div><div><pre><code><span><span>error: </span><span>expect</span><span>(received).</span><span>toEqual</span><span>(expected)</span></span>
<span></span>
<span><span>  {</span></span>
<span><span>    abc: </span><span>123</span><span>,</span></span>
<span><span>+</span><span>   def: </span><span>456</span></span>
<span><span>-</span><span>   def: </span><span>789</span></span>
<span><span>  }</span></span>
<span></span>
<span><span>-</span><span> Expected  </span><span>-</span><span> </span><span>1</span></span>
<span><span>+</span><span> Received  </span><span>+</span><span> </span><span>1</span></span>
<span></span></code></pre></div></div></div><p><strong>Before:</strong></p><div><div><div><pre><code><span><span>error: Expected values to be equal:</span></span>
<span><span>	Expected: {</span></span>
<span><span>  abc: </span><span>123</span><span>,</span></span>
<span><span>  def: </span><span>789</span></span>
<span><span>}</span></span>
<span><span>	Received: {</span></span>
<span><span>  abc: </span><span>123</span><span>,</span></span>
<span><span>  def: </span><span>456</span></span>
<span><span>}</span></span>
<span></span></code></pre></div></div></div><h3 level="3" anchor-id="auto-import-for-jest-globals"><a id="auto-import-for-jest-globals"></a><a href="#auto-import-for-jest-globals">Auto-import for <code>jest</code> globals</a></h3><p><code>bun test</code> now automatically imports <a href="https://jestjs.io/docs/api#testname-fn-timeout"><code>test()</code></a> and <a href="https://jestjs.io/docs/expect#expectvalue"><code>expect()</code></a>. This also works for the other Jest globals, including: <code>describe</code>, <code>beforeAll</code>, <code>afterAll</code>, and more.</p><div><div><div><pre><code><span><span>// import { test, expect } from &#34;bun:test&#34;;</span></span>
<span></span>
<span><span>test</span><span>(</span><span>&#34;</span><span>that it auto-imports expect()</span><span>&#34;</span><span>, () </span><span>=&gt;</span><span> {</span></span>
<span><span>  </span><span>expect</span><span>({</span></span>
<span><span>    abc</span><span>:</span><span> </span><span>123</span><span>,</span></span>
<span><span>    def</span><span>:</span><span> </span><span>456</span><span>,</span></span>
<span><span>  }).</span><span>toEqual</span><span>({</span></span>
<span><span>    abc</span><span>:</span><span> </span><span>123</span><span>,</span></span>
<span><span>    def</span><span>:</span><span> </span><span>789</span><span>,</span></span>
<span><span>  });</span></span>
<span><span>});</span></span>
<span></span></code></pre></div></div></div><p>We still recommended that you import from <code>bun:test</code>, but if you have existing tests using Jest, you probably rely on its globals.</p><h2 level="2" anchor-id="new-methods-on-set"><a id="new-methods-on-set"></a><a href="#new-methods-on-set">New methods on <code>Set</code></a></h2><p>The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set"><code>Set</code></a> class now has <a href="https://github.com/tc39/proposal-set-methods">more built-in</a> methods, thanks to <a href="https://github.com/kmiller68">@kmiller68</a> at WebKit.</p><div><div><div><pre><code><span><span>const</span><span> a </span><span>=</span><span> </span><span>new</span><span> </span><span>Set</span><span>([</span><span>1</span><span>, </span><span>2</span><span>, </span><span>3</span><span>]);</span></span>
<span><span>const</span><span> b </span><span>=</span><span> </span><span>new</span><span> </span><span>Set</span><span>([</span><span>1</span><span>, </span><span>3</span><span>, </span><span>4</span><span>, </span><span>5</span><span>]);</span></span>
<span><span>const</span><span> c </span><span>=</span><span> </span><span>new</span><span> </span><span>Set</span><span>([</span><span>1</span><span>, </span><span>3</span><span>]);</span></span>
<span></span>
<span><span>console.</span><span>log</span><span>(a.</span><span>union</span><span>(b)); </span><span>// [1, 2, 3, 4, 5]</span></span>
<span><span>console.</span><span>log</span><span>(a.</span><span>intersection</span><span>(b)); </span><span>// [1, 3]</span></span>
<span><span>console.</span><span>log</span><span>(a.</span><span>difference</span><span>(b)); </span><span>// [2]</span></span>
<span><span>console.</span><span>log</span><span>(a.</span><span>symmetricDifference</span><span>(b)); </span><span>// [2, 4, 5]</span></span>
<span></span></code></pre></div></div></div><h2 level="2" anchor-id="aws-lambda-support"><a id="aws-lambda-support"></a><a href="#aws-lambda-support">AWS Lambda support</a></h2><p>Bun can now run AWS Lambda using a <a href="https://github.com/oven-sh/bun/tree/main/packages/bun-lambda#bun-lambda">custom layer.</a></p><p>The layer will detect when an event is an HTTP request and transform it into a standard <a href="https://developer.mozilla.org/en-US/docs/Web/API/Request"><code>Request</code></a>. This means you can test your Lambda locally using <code>bun run</code>, without any code changes.</p><div><div><div><pre><code><span><span>export</span><span> </span><span>default</span><span> {</span></span>
<span><span>  </span><span>async</span><span> </span><span>fetch</span><span>(</span><span>request</span><span>:</span><span> </span><span>Request</span><span>)</span><span>:</span><span> </span><span>Promise</span><span>&lt;</span><span>Response</span><span>&gt; {</span></span>
<span><span>    console.</span><span>log</span><span>(request.headers.</span><span>get</span><span>(</span><span>&#34;</span><span>x-amzn-function-arn</span><span>&#34;</span><span>));</span></span>
<span><span>    </span><span>// ...</span></span>
<span><span>    </span><span>return</span><span> </span><span>new</span><span> </span><span>Response</span><span>(</span><span>&#34;</span><span>Hello from Lambda!</span><span>&#34;</span><span>, {</span></span>
<span><span>      status</span><span>:</span><span> </span><span>200</span><span>,</span></span>
<span><span>      headers</span><span>:</span><span> {</span></span>
<span><span>        </span><span>&#34;</span><span>Content-Type</span><span>&#34;</span><span>:</span><span> </span><span>&#34;</span><span>text/plain</span><span>&#34;</span><span>,</span></span>
<span><span>      },</span></span>
<span><span>    });</span></span>
<span><span>  },</span></span>
<span><span>};</span></span>
<span></span></code></pre></div></div></div><p>For events that are not HTTP requests, like a S3 or SQS trigger, the event will be in the body of the <code>Request</code>.</p><div><div><div><pre><code><span><span>export</span><span> </span><span>default</span><span> {</span></span>
<span><span>  </span><span>async</span><span> </span><span>fetch</span><span>(</span><span>request</span><span>:</span><span> </span><span>Request</span><span>)</span><span>:</span><span> </span><span>Promise</span><span>&lt;</span><span>Response</span><span>&gt; {</span></span>
<span><span>    </span><span>const</span><span> event </span><span>=</span><span> </span><span>await</span><span> request.</span><span>json</span><span>();</span></span>
<span><span>    </span><span>// ...</span></span>
<span><span>    </span><span>return</span><span> </span><span>new</span><span> </span><span>Response</span><span>();</span></span>
<span><span>  },</span></span>
<span><span>};</span></span>
<span></span></code></pre></div></div></div><h2 level="2" anchor-id="github-action-support"><a id="github-action-support"></a><a href="#github-action-support">GitHub Action support</a></h2><p>There is a new release of the <a href="https://github.com/oven-sh/setup-bun"><code>setup-bun</code></a> GitHub Action, which you can also <a href="https://github.com/marketplace/actions/setup-bun">find</a> on the GitHub Marketplace. Thanks to <a href="https://github.com/xHyroM">@xHyroM</a> for maintaining the initial version of it.</p><div><div><div><pre><code><span><span>-</span><span> </span><span>uses</span><span>:</span><span> </span><span>oven-sh/setup-bun@v1</span></span>
<span><span>  </span><span>with</span><span>:</span></span>
<span><span>    </span><span>bun-version</span><span>:</span><span> </span><span>latest</span></span>
<span></span></code></pre></div></div></div><div><div><div><pre><code><span><span>-</span><span> </span><span>uses</span><span>:</span><span> </span><span>oven-sh/setup-bun@v1</span></span>
<span><span>  </span><span>with</span><span>:</span></span>
<span><span>    </span><span>bun-version</span><span>:</span><span> </span><span>&#34;</span><span>0.5.7</span><span>&#34;</span></span>
<span></span></code></pre></div></div></div><p>Now, with the newly added support for <code>git</code> dependencies, we encourage you to try this out in your GitHub CI and see much time you can save with <code>bun install</code>.</p><div><div><div><pre><code><span><span>steps:</span></span>
<span><span>  - uses: actions/checkout@v3</span></span>
<span><span>  - uses: actions/setup-node@v3</span></span>
<span><span>    with:</span></span>
<span><span>      node-version: 16</span></span>
<span><span>+ - uses: oven-sh/setup-bun@v1</span></span>
<span><span>+   with:</span></span>
<span><span>+     bun-version: latest</span></span>
<span><span>+  - run: bun install</span></span>
<span><span>-  - run: npm install</span></span>
<span></span></code></pre></div></div></div><h2 level="2" anchor-id="changelog"><a id="changelog"></a><a href="#changelog">Changelog</a></h2><div><table><thead></thead><tbody><tr><td><a href="https://github.com/oven-sh/bun/commit/523b112945d20f7aa59ad3de327348cc77353a1f"><code>523b112</code></a></td><td>Added auto-import for <code>jest</code> globals in <code>bun test</code> by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2029"><code>#2029</code></a></td><td>Fixed <code>fs.createWriteStream()</code> from exiting early by <a href="https://github.com/alexlamsl">@alexlamsl</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/995880a7effe692b5482f04d908f07f1227c8f68"><code>995880a</code></a></td><td>Enabled more <code>Set</code> methods by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2039"><code>#2039</code></a></td><td>Fixed &#34;Duplicate dependency&#34; error for <code>peerDependencies</code> by <a href="https://github.com/alexlamsl">@alexlamsl</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2044"><code>#2044</code></a></td><td>Fixed incorrect build instructions for macOS by <a href="https://github.com/ekzhang">@ekzhang</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2041"><code>#2041</code></a></td><td>Fixed syntax error when regex was present in <code>package.json</code> by <a href="https://github.com/jwhear">@jwhear</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/675529bd0cc7f7753b1d33cf0f14d945bd850654"><code>675529b</code></a></td><td>Fixed a bug where Buffer was not assignable by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2054"><code>#2054</code></a></td><td>Implemented <code>napi_fatal_exception</code> by <a href="https://github.com/ThatOneBro">@ThatOneBro</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2045"><code>#2045</code></a></td><td>Fixed <code>bun install</code> crash during non-install script execution by <a href="https://github.com/alexlamsl">@alexlamsl</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/83473c60df3b7ff4c2326573aa8532b636de4b4e"><code>83473c6</code></a></td><td>Defined a fallback for <code>globalPaths</code> in <code>require(&#34;module&#34;)</code> by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2057"><code>#2057</code></a></td><td>Fixed a bug where <code>server.listen()</code> did not return the server by <a href="https://github.com/michalwarda">@michalwarda</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/bb2aaa36fb9e673b23f60345fbba39b5ccc3d3f0"><code>bb2aaa3</code></a></td><td>Enabled release signing by <a href="https://github.com/Electroid">@Electroid</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2059"><code>#2059</code></a></td><td>Implemented <code>git://github.com</code> dependencies by <a href="https://github.com/alexlamsl">@alexlamsl</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2051"><code>#2051</code></a></td><td>Implemented <code>FormData</code> by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/0db8cdf4e9e79214410454f9225b14f2765bc3c5"><code>0db8cdf</code></a></td><td>Fixed <code>fetch()</code> not sending a default <code>Content-Type</code> header by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2061"><code>#2061</code></a></td><td>Implemented <code>napi_get_value_bigint_words</code> by <a href="https://github.com/ThatOneBro">@ThatOneBro</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2062"><code>#2062</code></a></td><td>Allowed <code>{ port: 0 }</code> in <code>Bun.serve()</code> to use a random port by <a href="https://github.com/michalwarda">@michalwarda</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/37186f4b0a6b97ffb3ac1ec65ddc2146126b4545"><code>37186f4</code></a></td><td>Improved <code>console.log()</code> output for <code>FormData</code> by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2047"><code>#2047</code></a></td><td>Disallowed bodies when <code>fetch()</code> method is GET, HEAD, or OPTIONS by <a href="https://github.com/ekzhang">@ekzhang</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1798"><code>#1798</code></a></td><td>Exported <code>fs.ReadStream</code> and <code>fs.WriteStream</code> by <a href="https://github.com/ThatOneBro">@ThatOneBro</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2074"><code>#2074</code></a></td><td>Improved validation of <code>package.json</code> by <a href="https://github.com/alexlamsl">@alexlamsl</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/4dc6bf1b099a2a7425a5ff313cff9a9c828f6cd3"><code>4dc6bf1</code></a></td><td>Added workarounds for <code>node:tls</code> and <code>node:worker_threads</code> by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2076"><code>#2076</code></a></td><td>Fixed a bug where network-delayed <code>.bin</code> scripts were not installed by <a href="https://github.com/alexlamsl">@alexlamsl</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/f19e3d66cb82f3e4cbf740a5a1e5fe50c3fd48f3"><code>f19e3d6</code></a></td><td>Added a workaround for <code>node:async_hooks</code> by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1971"><code>#1971</code></a></td><td>Implemented ED25519 for <code>WebCrypto</code> by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a> with thanks to <a href="https://github.com/panva">@panva</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/0d7cea69c253d22fc6ee2ccd7c437290fe9e043c"><code>0d7cea6</code></a></td><td>Added a workaround for <code>eval(&#34;__dirname&#34;)</code> by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/1125728097e7ccb1891e790299e31d26ef2f7450"><code>1125728</code></a></td><td>Fixed bugs with <code>napi_create_threadsafe_function</code> by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2087"><code>#2087</code></a></td><td>Improved documentation to build on macOS by <a href="https://github.com/controversial">@controversial</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2089"><code>#2089</code></a></td><td>Fixed <code>writeFileSync({ flag: undefined })</code> from not working by <a href="https://github.com/jwhear">@jwhear</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2088"><code>#2088</code></a></td><td>Implemented <code>os.machine()</code> for Linux by <a href="https://github.com/jwhear">@jwhear</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2086"><code>#2086</code></a></td><td>Supported <code>yarn</code>-like workspaces by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/56b75dbac32233b49b33c12ce25a07c9e9083dee"><code>56b75db</code></a></td><td>Implemented faster <code>Buffer.byteLength(&#34;latin1&#34;)</code> by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2095"><code>#2095</code></a></td><td>Fixed <code>bun add</code> of packages with capital letters by <a href="https://github.com/alexlamsl">@alexlamsl</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2096"><code>#2096</code></a></td><td>Fixed <code>String.replace()</code> with non-ASCII characters by <a href="https://github.com/jwhear">@jwhear</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2094"><code>#2094</code></a></td><td>Supported <code>git</code> dependencies by <a href="https://github.com/alexlamsl">@alexlamsl</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2066"><code>#2066</code></a></td><td>Fixed a crash with invalid encoding in <code>fetch()</code> headers by <a href="https://github.com/jwhear">@jwhear</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/1106c8e2f26ec5f521e33b132594b0741e9caaa3"><code>1106c8e</code></a></td><td>Fixed parsing of <code>fs</code> flags by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/1378"><code>#1378</code></a></td><td>Implemented <code>os.machine()</code> for macOS by <a href="https://github.com/sno2">@sno2</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2104"><code>#2104</code></a></td><td>Fixed a change in how URLs are printed by <a href="https://github.com/MichaReiser">@MichaReiser</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/c006a7f054fdf19bad5b0783af3305e36f9e3740"><code>c006a7f</code></a></td><td>Load <code>.env.production</code> when NODE_ENV=production by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2122"><code>#2122</code></a></td><td>Added a pretty string differ to <code>bun test</code> by <a href="https://github.com/dylan-conway">@dylan-conway</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2124"><code>#2124</code></a></td><td>Supported <code>git</code> dependencies by <a href="https://github.com/alexlamsl">@alexlamsl</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2009"><code>#2009</code></a></td><td>Implemented a runtime layer for Bun on AWS Lambda by <a href="https://github.com/Electroid">@Electroid</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2128"><code>#2128</code></a></td><td>Fixed output in <code>child_process.exec()</code> by <a href="https://github.com/ThatOneBro">@ThatOneBro</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2131"><code>#2131</code></a></td><td>Renamed <code>bun wiptest</code> to <code>bun test</code> by <a href="https://github.com/dylan-conway">@dylan-conway</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2126"><code>#2126</code></a></td><td>Fixed <code>glibc</code> error in alpine Docker image by <a href="https://github.com/WebReflection">@WebReflection</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2135"><code>#2135</code></a></td><td>Improved various types for <code>bun-types</code> by <a href="https://github.com/colinhacks">@colinhacks</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/commit/2a1558e4d6fc2e7abbb9a6f4abc3cc4bb2d49c59"><code>2a1558e</code></a></td><td>Supported Node.js-style <code>setTimeout()</code> by <a href="https://github.com/Jarred-Sumner">@Jarred-Sumner</a></td></tr><tr><td><a href="https://github.com/oven-sh/bun/pull/2097"><code>#2097</code></a></td><td>Supported <code>AbortSignal</code> in <code>fetch()</code> by <a href="https://github.com/cirospaciari">@cirospaciari</a></td></tr></tbody></table></div></article></div></section>

</div>
  </body>
</html>
