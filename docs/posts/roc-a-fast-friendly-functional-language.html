<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.roc-lang.org/">Original</a>
    <h1>Roc – A fast, friendly, functional language</h1>
    
    <div id="readability-page-1" class="page"><div><div role="presentation" id="homepage-intro-outer">
<div role="presentation" id="homepage-intro-box">

<svg id="homepage-logo" aria-labelledby="logo-svg-title logo-svg-desc" width="240" height="240" viewBox="0 0 51 53" fill="none" xmlns="http://www.w3.org/2000/svg"><title id="logo-svg-title">The Roc logo</title><desc id="logo-svg-desc">A purple origami bird made of six triangles</desc><path d="M23.6751 22.7086L17.655 53L27.4527 45.2132L26.4673 39.3424L23.6751 22.7086Z"></path><path d="M37.2438 19.0101L44.0315 26.3689L45 22L45.9665 16.6324L37.2438 19.0101Z"></path><path d="M23.8834 3.21052L0 0L23.6751 22.7086L23.8834 3.21052Z"></path><path d="M44.0315 26.3689L23.6751 22.7086L26.4673 39.3424L44.0315 26.3689Z"></path><path d="M50.5 22L45.9665 16.6324L45 22H50.5Z"></path><path d="M23.6751 22.7086L44.0315 26.3689L37.2438 19.0101L23.8834 3.21052L23.6751 22.7086Z"></path>
</svg>
<p id="homepage-tagline">A fast, friendly, functional language.</p>
<pre id="first-code-sample"><samp>list <span>=</span> List<span>.</span>map songs <span>\</span>song <span>-&gt;</span>
    <span>&#34;Artist: </span><span>\(</span>song<span>.</span>artist<span>)</span><span>&#34;</span></samp></pre>
</div>
</div>
<section aria-label="Roc&#39;s Design: Fast, Friendly, Functional">
    
    
    
</section>
<section id="try-roc">
<h2><a href="#try-roc">Try Roc</a></h2>
<div id="homepage-repl-container" role="presentation">
    <div id="repl-description" role="presentation">
        <p>You can try Roc using this read-eval-print loop (<a href="https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop">REPL</a>), which is running in your browser in <a href="https://webassembly.org">WebAssembly</a>.</p>
        <p><code>Shift-Enter</code> adds a newline.</p>
        <p>Try entering <code>0.1 + 0.2</code>
        <svg id="repl-arrow" role="presentation" width="100" height="50" viewBox="0 0 100 50" xmlns="http://www.w3.org/2000/svg">
          <polygon points="70,20 30,20 30,15 0,25 30,35 30,30 70,30"></polygon>
        </svg>
        </p>
    </div>
    <div id="repl" role="presentation">
        <p><code>
          <p>Enter an expression to evaluate, or a definition (like <span>x = 1</span>) to use later.</p>
          
        </code></p><p>»</p>
        </div>
</div>

</section>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<p>Roc is a young language. It doesn&#39;t even have a numbered release yet, just nightly builds!</p>
<p>However, it can already be used for several things if you&#39;re up for being an early adopter—</p>
<p>Here are some examples of how it can be used today.</p>
<div role="presentation">
    <div role="presentation">
        <h3>Command-Line Interfaces</h3>
    <pre><samp>main <span>=</span>
    Stdout<span>.</span>line <span>&#34;Hello!&#34;</span></samp></pre>
        <p>You can use Roc to create scripts and command-line interfaces (CLIs). The compiler produces binary executables, so Roc programs can run on devices that don&#39;t have Roc itself installed.</p>
        <p>As an example, the HTML for this website is generated using a simple Roc script. You can see <a href="https://github.com/roc-lang/roc/blob/main/www/main.roc">the code for it</a> in the main Roc code repository.</p>
        <p>If you’re looking for a starting point for building a command-line program in Roc, <a href="https://github.com/roc-lang/basic-cli">basic-cli</a> is a popular <a href="https://www.roc-lang.org/platforms">platform</a> to check out.</p>
    </div>
    <div role="presentation">
        <h3>Web Servers</h3>
<pre><samp>handleReq <span>=</span> <span>\</span>request <span>-&gt;</span>
    Task<span>.</span>ok <span>{</span> body:  <span>}</span></samp></pre>
        <p>You can also build web servers in Roc. <a href="https://github.com/roc-lang/basic-webserver">basic-webserver</a> is a <a href="https://www.roc-lang.org/platforms">platform</a> with
        a simple interface: you write a function which takes a <code>Request</code>, does some I/O, and returns a <code>Response</code>.</p>
        <p>Behind the scenes, it uses Rust&#39;s high-performance <a href="https://docs.rs/hyper/latest/hyper/">hyper</a> and <a href="https://tokio.rs/">tokio</a> libraries to execute your Roc function on incoming requests.</p>
        <p>For database access, <a href="https://github.com/agu-z/roc-pg">roc-pg</a> lets you access a <a href="https://www.postgresql.org/">PostgreSQL</a> database—with your Roc types checked against the types in your database&#39;s schema.</p>
    </div>
    <div role="presentation">
        <h3>Embedding</h3>
        <pre><samp>fn <span>=</span> require(<span>&#34;foo.roc&#34;</span>)<span>;</span>
log(<span>`Roc says </span><span>${</span>fn()<span>}</span><span>`</span>)<span>;</span></samp></pre>
        <p>You can call Roc functions from other languages. There are several <a href="https://github.com/roc-lang/roc/tree/main/examples">basic examples</a> of how to call Roc functions from Python, Node.js, Swift, WebAssembly, and JVM languages.</p>
        <p>Any language that supports C interop can call Roc functions, using similar techniques to the ones found in these examples.</p>
        <p>Most of those are minimal proofs of concept, but <a href="https://github.com/vendrinc/roc-esbuild">roc-esbuild</a> is a work in progress that&#39;s used at <a href="https://www.vendr.com/careers">Vendr</a> to call Roc functions from Node.js.</p>
    </div>
</div>
<h3 id="other-examples"><a href="#other-examples">Other Examples</a></h3>
<p>You can find more use cases and examples on the <a href="https://www.roc-lang.org/examples">examples page</a>!</p>

<h2 id="code-sample"><a href="#code-sample">Code Sample with Explanations</a></h2>
<p>Here&#39;s a code sample that shows a few different aspects of Roc:</p>
<ul>
<li>File I/O and HTTP requests</li>
<li>Pattern matching for error handling</li>
<li>JSON deserialization via type inference</li>
<li>Common syntax sugar: string interpolation, pipelines, and backpassing</li>
</ul>
<p>The <a href="https://www.roc-lang.org/tutorial">tutorial</a> introduces these gradually and in more depth, but this gives a brief overview.</p>
<div role="presentation"><pre><samp><label for="r0" title="Tap to learn about this syntax"></label><span role="presentation"><p><a href="https://www.roc-lang.org/tutorial#comments">Comments</a> in Roc begin with a <code>#</code> and go to the end of the line.</p></span>
<label for="r1" title="Tap to learn about this syntax"><span>main</span> <span>=</span></label><span role="presentation"><p>This defines <code>main</code>, which is where our program will begin.</p><p>In Roc, <a href="https://www.roc-lang.org/tutorial#https://www.roc-lang.org/tutorial%23naming-things">all definitions are constant</a>, so writing <code>main =</code> again in the same scope would give an error.</p></span>
    <label for="r2" title="Tap to learn about this syntax"><span>Path</span><span>.</span><span>fromStr</span> <span>&#34;url.txt&#34;</span></label><span role="presentation"><p>This converts the string <code>&#34;url.txt&#34;</code> into a <code>Path</code> by passing it to <code>Path.fromStr</code>.</p><p>Function arguments are separated with whitespace. Parentheses are only needed in <a href="https://www.roc-lang.org/tutorial#calling-functions">nested function calls</a>.</p></span>
    <label for="r3" title="Tap to learn about this syntax"><span>|&gt;</span> <span>storeEmail</span></label><span role="presentation"><p>The <a href="https://www.roc-lang.org/tutorial#the-pipe-operator">pipe operator</a> (<code>|&gt;</code>) is syntax sugar for passing the previous value to the next function in the &#34;pipeline.&#34;</p><p>This line takes the value that <code>Path.fromStr &#34;url.txt&#34;</code> returns and passes it to <code>storeEmail</code>.</p><p>The next <code>|&gt;</code> continues the pipeline.</p></span>
    <label for="r4" title="Tap to learn about this syntax"><span>|&gt;</span> <span>Task</span><span>.</span><span>onErr</span> <span>handleErr</span></label><span role="presentation"><p>If the task returned by the previous step in the pipeline fails, pass its error to <code>handleErr</code>.</p><p>The pipeline essentially does this:</p><pre><code>a = Path.fromStr &#34;url.txt&#34;
b = storeEmail a

Task.onErr b handleErr</code></pre><p>It creates a <code>Path</code> from a string, stores an email based on that path, and then does error handling.</p></span>

<label for="r5" title="Tap to learn about this syntax"><span>storeEmail</span> <span>=</span> <span>\</span><span>path</span><span> -&gt;</span></label><span role="presentation"><p>This <a href="https://www.roc-lang.org/tutorial#defining-functions">defines a function</a> named <code>storeEmail</code>. It takes one argument, named <code>path</code>.</p><p>In Roc, functions are ordinary values, so we assign names to them using <code>=</code> like with any other value.</p><p>The <code>\arg1, arg2 -&gt;</code> syntax begins a function, and the part after <code>-&gt;</code> is the function&#39;s body.</p></span>
    <label for="r6" title="Tap to learn about this syntax"><span>url</span> <span>&lt;-</span> <span>File</span><span>.</span><span>readUtf8</span> <span>path</span> <span>|&gt;</span> <span>Task</span><span>.</span><span>await</span></label><span role="presentation"><p>This reads the contents of the file (as a <a href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a> string) into <code>url</code>.</p><p>The <code>&lt;-</code> does <a href="https://www.roc-lang.org/tutorial#backpassing">backpassing</a>, which is syntax sugar for defining a function. This line desugars to:</p><pre><code>Task.await
    (File.readUtf8 path)
    \url -&gt;</code></pre><p>The lines after this one form the body of the <code>\url -&gt;</code> <a href="https://en.wikipedia.org/wiki/Callback_(computer_programming)">callback</a>, which runs if the file read succeeds.</p></span>
    <label for="r7" title="Tap to learn about this syntax"><span>user</span> <span>&lt;-</span> <span>Http</span><span>.</span><span>get</span> <span>url</span> <span>Json</span><span>.</span><span>codec</span> <span>|&gt;</span> <span>Task</span><span>.</span><span>await</span></label><span role="presentation"><p>This fetches the contents of the URL and decodes them as <a href="https://www.json.org">JSON</a>.</p><p>If the shape of the JSON isn&#39;t compatible with the type of <code>user</code> (based on type inference), this will give a decoding error immediately.</p><p>As with all the other lines ending in <code>|&gt; Task.await</code>, if there&#39;s an error, nothing else in <code>storeEmail</code> will be run, and <code>handleErr</code> will end up handling the error.</p></span>
    <label for="r8" title="Tap to learn about this syntax"><span>dest</span> <span>=</span> <span>Path</span><span>.</span><span>fromStr</span> <span>&#34;</span><span>\(</span><span>user</span><span>.</span><span>name</span><span>)</span><span>.txt&#34;</span></label><span role="presentation"><p>The <code>\(user.name)</code> in this string literal will be replaced with the value in <code>name</code>. This is <a href="https://www.roc-lang.org/tutorial#string-interpolation">string interpolation</a>.</p><p>Note that this line doesn&#39;t end with <code>|&gt; Task.await</code>. Earlier lines needed that because they were I/O <a href="https://www.roc-lang.org/tutorial#tasks">tasks</a>, but this is a plain old <a href="https://www.roc-lang.org/tutorial#defs">definition</a>, so there&#39;s no task to await.</p></span>
    <label for="r9" title="Tap to learn about this syntax"><span>_</span> <span>&lt;-</span> <span>File</span><span>.</span><span>writeUtf8</span> <span>dest</span> <span>user</span><span>.</span><span>email</span> <span>|&gt;</span> <span>Task</span><span>.</span><span>await</span></label><span role="presentation"><p>This writes <code>user.email</code> to the file, encoded as <a href="https://en.wikipedia.org/wiki/UTF-8">UTF-8</a>.</p><p>We won&#39;t be using the output of <code>writeUtf8</code>, so we name it <code>_</code>. The special name <code>_</code> is for when you don&#39;t want to use something.</p><p>You can name as many things as you like <code>_</code>, but you can never reference anything named <code>_</code>. So it&#39;s only useful for when you don&#39;t want to choose a name.</p></span>
    <label for="r10" title="Tap to learn about this syntax"><span>Stdout</span><span>.</span><span>line</span> <span>&#34;Wrote email to </span><span>\(</span><span>Path</span><span>.</span><span>display dest</span><span>)</span><span>&#34;</span></label><span role="presentation"><p>This prints what we did to <a href="https://en.wikipedia.org/wiki/Standard_streams#Standard_output_(stdout)">stdout</a>.</p><p>Note that this line doesn&#39;t end with <code>|&gt; Task.await</code>. That&#39;s because, although <code>Stdout.line</code> returns a <a href="https://www.roc-lang.org/tutorial#tasks">task</a>, we don&#39;t need to await it because nothing happens after it.</p></span>

<label for="r11" title="Tap to learn about this syntax"><span>handleErr</span> <span>=</span> <span>\</span><span>err</span><span> -&gt;</span></label><span role="presentation"><p>Like <code>storeEmail</code>, <code>handleErr</code> is also a function.</p><p>Although type annotations are optional everywhere in Roc—because the language has 100% type inference—you could add type annotations to <code>main</code>, <code>storeEmail</code>, and <code>handleErr</code> if you wanted to.</p></span>
    <label for="r12" title="Tap to learn about this syntax"><span>when</span> <span>err</span> <span>is</span></label><span role="presentation"><p>This will run one of the following lines depending on what value the <code>err</code> argument has.</p><p>Each line does a <a href="https://www.roc-lang.org/tutorial#tags-with-payloads">pattern match</a> on the shape of the error to decide whether to run, or to move on and try the next line&#39;s pattern.</p><p>Roc will do compile-time <a href="https://www.roc-lang.org/tutorial#exhaustiveness">exhaustiveness checking</a> and tell you if you forgot to handle any error cases here that could have occurred, based on the tasks that were run in <code>storeEmail</code>.</p></span>
        <label for="r13" title="Tap to learn about this syntax"><span>HttpErr</span> <span>url</span> <span>_</span> <span>-&gt;</span> <span>Stderr</span><span>.</span><span>line</span> <span>&#34;Error fetching URL </span><span>\(</span><span>url</span><span>)</span><span>&#34;</span></label><span role="presentation"><p>This line will run if the <code>Http.get</code> request from earlier encountered an HTTP error.</p><p>It handles the error by printing an error message to <a href="https://en.wikipedia.org/wiki/Standard_streams#Standard_error_(stderr)">stderr</a>.</p><p>The <code>_</code> is where more information about the error is stored in the <code>HttpErr</code>. If we wanted to print more detail about what the error was, we&#39;d name that something other than <code>_</code> and actually use it.</p></span>
        <label for="r14" title="Tap to learn about this syntax"><span>FileReadErr</span> <span>path</span> <span>_</span> <span>-&gt;</span> <span>Stderr</span><span>.</span><span>line</span> <span>&#34;Error reading from </span><span>\(</span><span>Path</span><span>.</span><span>display path</span><span>)</span><span>&#34;</span></label><span role="presentation"><p>This line will run if the <code>File.readUtf8</code> from earlier encountered a file I/O error.</p><p>It handles the error by printing an error message to <a href="https://en.wikipedia.org/wiki/Standard_streams#Standard_error_(stderr)">stderr</a>.</p><p>The <code>_</code> is where more information about the error is stored in the <code>FileReadErr</code>. If we wanted to print more detail about what the error was, we&#39;d name that something other than <code>_</code> and actually use it.</p></span>
        <label for="r15" title="Tap to learn about this syntax"><span>FileWriteErr</span> <span>path</span> <span>_</span> <span>-&gt;</span> <span>Stderr</span><span>.</span><span>line</span> <span>&#34;Error writing to </span><span>\(</span><span>Path</span><span>.</span><span>display path</span><span>)</span><span>&#34;</span></label><span role="presentation"><p>This line will run if the <code>File.writeUtf8</code> from earlier encountered a file I/O error.</p><p>It handles the error by printing an error message to <a href="https://en.wikipedia.org/wiki/Standard_streams#Standard_error_(stderr)">stderr</a>.</p><p>The <code>_</code> is where more information about the error is stored in the <code>FileWriteErr</code>. If we wanted to print more detail about what the error was, we&#39;d name that something other than <code>_</code> and actually use it.</p></span></samp></pre><p>To get started with the language, try the <a href="https://www.roc-lang.org/tutorial">tutorial</a>!</p><p id="final-tutorial-link"><a href="https://www.roc-lang.org/tutorial">Start Tutorial</a></p></div>
<h2>Sponsors</h2>
<p>We are very grateful for our corporate sponsors <a href="https://www.vendr.com/">Vendr</a>, <a href="https://www.rwx.com">RWX</a>, and <a href="https://tweedegolf.nl/en">Tweede golf</a>:</p>

<p>If you would like your organization to become an official sponsor of Roc&#39;s development, please <a href="https://roc.zulipchat.com/#narrow/pm-with/281383-user281383">DM Richard Feldman on Zulip</a>!</p>
<p>We&#39;d also like to express our gratitude to our generous <a href="https://github.com/sponsors/roc-lang/">individual sponsors</a>! A special thanks to those sponsoring $25/month or more:</p>

<p>Thank you all for your contributions! Roc would not be what it is without your generosity. 💜</p>
<p>We are currently trying to raise $4,000 USD/month in donations to fund one longtime Roc contributor to continue his work on Roc full-time. We are a small group trying to do big things, and every donation helps! You can donate using:</p>
<ul>
<li><a href="https://github.com/sponsors/roc-lang">GitHub Sponsors</a></li>
<li><a href="https://liberapay.com/roc_lang">Liberapay</a></li>
</ul>
<p>All donations go through the <a href="https://foundation.roc-lang.org/">Roc Programming Language Foundation</a>, a registered <a href="https://en.wikipedia.org/wiki/501(c)(3)_organization">US <span>501(c)(3)</span> nonprofit organization</a>, which means these donations are tax-exempt in the US.</p>
</div></div>
  </body>
</html>
