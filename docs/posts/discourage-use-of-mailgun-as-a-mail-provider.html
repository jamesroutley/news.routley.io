<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://secure.phabricator.com/T13669">Original</a>
    <h1>Discourage use of Mailgun as a mail provider</h1>
    
    <div id="readability-page-1" class="page"><div><div><div><div><p>Currently, <tt>secure</tt> uses Postmark as a primary route with Mailgun as a backup route (and has for quite a long time), while Phacility production uses Mailgun. I&#39;d like to switch everything to Postmark exclusively.</p>

<p>As part of this, I am going to update Phabricator&#39;s documentation to discourage use of Mailgun. This task explains my reasoning.</p>

<hr/>

<p><strong>Summary</strong>: Mailgun has a good technical track record, but has lost my confidence as a trustworthy custodian of customer data.</p>

<p>I&#39;ve had a couple of slightly rocky experiences with Mailgun. Two older ones with a bit of supporting documentation are:</p>

<ul>
<li>(<a href="https://secure.phabricator.com/D17831" data-sigil="hovercard" data-meta="0_2"><span><span>D17831</span></span></a>, May 2017) Mailgun made an unannounced breaking API change in the middle of the day, but this was kind of our fault so it&#39;s not <em>really</em> a mark against them. Customer support had this to say: &#34;Currently there isnt a public notice for API changes. We apologize for any inconvenience.&#34;</li>
<li>(<a href="https://secure.phabricator.com/T13037" data-sigil="hovercard" data-meta="0_0"><span><span>T13037</span></span></a>, January 2018) An attacker gained access to a Mailgun staff account. I was reassured on a call with Josh Odom (Mailgun&#39;s CTO), that this did not reflect a failure of internal culture.</li>
</ul>

<p>This was nowhere near as bad as my experience with SES so I remained fairly comfortable with Mailgun, but I recevied a bizarre unprompted sales-outreach interaction in June 2020 that soured me on Mailgun. Here&#39;s a lightly edited version of the exchange, with identifying information redacted and emphasis added:</p>

<blockquote><p><strong>From:</strong> Joe Mailgun Employee</p>

<p>Hi Evan,</p>

<p>I noticed Phacility is consistently sending [a specific large number of] emails or more over the last few months. Iâ€™d like to hear about your sending strategy and see how Mailgun can help you see continued success on our platform.</p>

<p>How does Wednesday sound?</p>

<p>Best,</p></blockquote>



<blockquote><p><strong>From:</strong> Evan Priestley</p>

<p>Sorry, I don&#39;t take meetings with no agenda.</p>

<p>If you have specific concerns or items in mind, please describe exactly what you&#39;d like to discuss. I&#39;m happy to set up a meeting if we can&#39;t settle things via email.</p>

<p>This request is so vague and nonspecific (&#34;Let&#39;s take a look&#34;?) that it feels kind of like a low-effort template sales email. If it is, and your primary goal in sending me this email is to get me to purchase more Mailgun services, please do not send me any more emails like this.</p>

<p>Thanks,</p></blockquote>



<blockquote><p><strong>From:</strong> Joe Mailgun Employee</p>

<p>Evan,</p>

<p><strong>First, you&#39;re right, it is a low effort sales template. It does work.</strong></p>

<p>There wasn&#39;t an agenda included, but, the purpose of the proposed call is a real one (albeit not <strong>(sic)</strong></p>

<p>Is there a strategy with the transactional emails being sent? There&#39;s a delivery rate of only 80%. There are over 30K suppressions still being sent emails.</p>

<p>Is your team familiar with how to remove and ensure the sending volume is clean?</p>

<p>Why doesn&#39;t your team use a dedicated IP? At this volume [specific volume number] it would make sense.</p>

<p>I think it would make sense to talk about these things.</p>

<p>How about yourself?</p>

<p>My schedule: [Link to book a meeting]</p>

<p>Joe</p></blockquote>



<blockquote><p><strong>From:</strong> Evan Priestley</p>

<blockquote><p>Is there a strategy with the transactional emails being sent?</p></blockquote>

<p>Why would there be a strategy with transactional email?</p>

<blockquote><p>There&#39;s a delivery rate of only 80%.</p></blockquote>

<p>The web console shows a delivery rate of almost 96%. Is the web console wrong? See attached screenshot (&#34;delivery.png&#34;).</p>

<blockquote><p>There are over 30K suppressions still being sent emails. Is your team familiar with how to remove and ensure the sending volume is clean?</p></blockquote>

<p>See <a href="https://secure.phabricator.com/T13115" target="_blank" rel="noreferrer">https://secure.phabricator.com/T13115</a>. My understanding is that there is no reason to prioritize this since Mailgun is already managing a suppression list.</p>

<blockquote><p>Why doesn&#39;t your team use a dedicated IP? At this volume [specific volume number] it would make sense.</p></blockquote>

<p>The web console shows a dedicated IP (see screenshot &#34;dedicated.png&#34;).</p>

<p>Mailgun Support confirmed provisioning of a dedicated IP in ticket #299395 on July 4, 2016. The support agent was [specific Mailgun support agent name].</p>

<p>I have been billed for a dedicated IP every month for four years. See attached screenshot of a June 1, 2020 invoice (&#34;invoice.jpg&#34;) billing me for a dedicated IP.</p>

<p>Are the web interface, support history, and invoice incorrect? Has Mailgun charged me for a dedicated IP for 4 years without actually giving me a dedicated IP?</p>

<p>(Mail headers show the dedicated IP is functioning correctly, see &#34;headers.png&#34;, where the outbound route matches the dedicated IP in the web interface.)</p>

<p>Thanks,</p>

<p>[Various screenshots substantiating my claims]</p></blockquote>



<blockquote><p><strong>From:</strong> Joe Mailgun Employee</p>

<p>Evan,</p>

<p>Here&#39;s where I&#39;m seeing that delivery rate:</p>

<p>[Screenshot of some other interface showing an 80% delivery rate]</p>

<p>What are the date parameters that you&#39;re using?</p>

<p>After the IP request, it doesn&#39;t look like it was ever used or followed up on. From that time on, it definitely appears you&#39;ve been billed since.</p>

<p>Yes, transactional emails can have a strategy. Although it does depend on how critical it is for your users to receive them. Think about password resets, account confirmations, route updates, order updates etc...</p>

<p>Suppression management is always going to stop emails from being delivered. HOwever, if they are not taken out of rotation of the overall sending it&#39;ll go to the overall email volume, because they&#39;re accepted just not delivered.</p>

<p>Joe</p></blockquote>

<p>I did not reply.</p>

<p>Based on this exchange, I am concerned that:</p>

<ul>
<li>Despite the incident in 2018, Mailgun appears to be giving an excessive level of access to customer data to employees who do not need it in 2020: Joe had access to specific customer domain information, <em>and didn&#39;t hesitate to use it purely to try to sell me something</em>. From this, I infer that it is likely routine that sales staff examine customer data without any kind of control or approval. I don&#39;t think this is acceptable.</li>
<li>Mailgun&#39;s hiring or training process for sales employees doesn&#39;t seem to be very good: Joe didn&#39;t seem to understand the Mailgun system. Beyond not needing it, I also don&#39;t think it is acceptable for staff who can not consistently demonstrate a high level of competence to have access to customer data.</li>
<li>I found this whole interaction quite disrespectful, and no longer believe I can trust that the assurances I received from the CTO hold any weight if this sort of interaction is acceptable to Mailgun: if Mailgun is training Joe to waste my time with this deceptive sales nonsense, why should I believe the CTO is above being deceptive when running damage control on a security incident?</li>
</ul>

<p>In a perfect world, I would have immediately moved away from Mailgun in response to this interaction (that is, 18 months ago in June 2020). In <a href="https://secure.phabricator.com/T13037" data-sigil="hovercard" data-meta="0_1"><span><span>T13037</span></span></a>, I said:</p>

<blockquote><p>I&#39;m satisfied that we aren&#39;t violating our commitment to our customers by continuing to use Mailgun as a service provider...</p></blockquote>

<p>This interaction was so negative to me that it I no longer believe this is true. However, I&#39;ve had to do a lot of picking my battles over the last couple years and am only getting to fighting this one now.</p>

<hr/>

<p>To counterbalance this with the barest hint of self-awareness, <em>everyone</em> in the non-technical world seems to use this general &#34;let&#39;s schedule a mysterious meeting with no agenda, since I&#39;m absolutely sure your time has no value&#34; template -- from shady scammers using addresses like <tt>legit.github.customer.list327@gmail.com</tt> all the way up to top-tier venture capital (I got one from Andreessen Horowitz back in 2017). Why is this considered acceptable? In what world does some guy I&#39;ve never heard of from AWS cold-calling me on the account&#39;s technical contact number while I&#39;m grocery shopping lead to a sale?</p></div></div></div></div></div>
  </body>
</html>
