<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://labs.ripe.net/author/franz/pollution-in-18/">Original</a>
    <h1>Pollution in 1/8 (2010)</h1>
    
    <div id="readability-page-1" class="page"><p>The recent allocation of the 1.0.0.0/8 and 27.0.0.0/8 not only triggered  a  lot  of  media  attention  due to IPv4 exhaustion exceeding the 90% mark, it also sparked the curiosity of many technical folks.</p><section>
        <div>
<p>The recent allocation of the 1.0.0.0/8 and 27.0.0.0/8 not only triggered <a href="http://www.telegraph.co.uk/technology/news/7020917/Grave-consequences-if-web-community-doesnt-switch-to-new-address-protocol.html"> a </a> <a href="http://www.theinquirer.net/inquirer/news/1587662/under-cent-ipv4-addresses-left"> lot </a> <a href="http://news.zdnet.co.uk/communications/0,1000000085,39994507,00.htm"> of </a> <a href="http://arstechnica.com/tech-policy/news/2010/01/90-of-ipv4-address-space-used-ipv6-move-looking-messy.ars"> media </a> <a href="http://www.computerworld.com.au/article/333162/apnic_ipv6_adoption_delay_could_create_costs/?fp=2&amp;fpid=1"> attention </a> due to IPv4 exhaustion exceeding the 90% mark, it also sparked the curiosity of many technical folks. Specifically the NANOG mailing list triggered quite a lively discussion about the allocation of 1.0.0.0/8 ( <a href="http://mailman.nanog.org/pipermail/nanog/2010-January/017402.html"> http://mailman.nanog.org/pipermail/nanog/2010-January/017402.html </a> ).</p>
<h3>  </h3>
<p>1.0.0.0/8 (1/8) was reserved by IANA since 1981. Since then is has been used unofficially as example addresses, default configuration parameters or pseudo-private address space.</p>
<p>The most prominent unauthorised use of 1/8 is anoNet. anoNet is a decentralised peer-to-peer network that allows users to anonymously share content. It uses 1/8 in order to hide the real IP address of its users. Up until 22 January 2010 an article about anoNet on Wikipedia stated: </p>
<h3>  </h3>
<p>As part of APNIC&#39;s <a href="http://ris.ripe.net/debogon/"> debogonising effort </a> , carried out by the RIPE NCC upon their request, a number of prefixes out of the 1/8 range were announced from one of the RIS Remote Route Collectors (rrc03.ripe.net):</p>
<ul>
<li>1.255.0.0/16</li>
<li>1.50.0.0/22</li>
<li>1.2.3.0/24</li>
<li>1.1.1.0/24 </li>
</ul>
<p>Of course 1/8 was never expected to be a &#34;clean&#34; prefix. In fact various prefixes out of 1/8 have been announced in the past 3 months, as seen by the <a href="http://www.ris.ripe.net/dashboard/1.0.0.0/8"> RIPE NCC RIS tools </a> . For instance, 1.1.1.0/24 was withdrawn just a few days before the RIS announced it as part of the debogonising effort. </p>
<p><picture><source srcset="/media/images/userfiles-ams-ix1.width-640.png 640w,/media/images/userfiles-ams-ix1.width-768.png 768w,/media/images/userfiles-ams-ix1.width-1280.png 1280w,/media/images/userfiles-ams-ix1.width-1536.png 1536w"/><img src="https://labs.ripe.net/media/images/userfiles-ams-ix1.width-640.png" alt="userfiles-ams-ix1.png"/></picture> </p>
<p>The RIS RRC from which we announced 1.1.1.0/24 has connections to <a href="http://www.ams-ix.net/"> AMS-IX </a> , <a href="http://www.nl-ix.net/"> NL-IX </a> and <a href="http://www.gn-ix.net/content/splashscreen/"> GN-IX </a> . The above image shows the incoming traffic on the AMS-IX port (10 MBit), which was instantly maxed out, mostly by traffic coming towards 1.1.1.1. The AMS-IX sflow graphs suggested that all together our peers were trying to send us more than 50 MBit/s of traffic. Most of this traffic was dropped due to the 10 MBit limit of our AMS-IX port:  </p>
<pre>  # ping 1.1.1.1
PING 1.1.1.1 (1.1.1.1): 56 data bytes
Request timeout for icmp_seq 0
Request timeout for icmp_seq 1
Request timeout for icmp_seq 2
64 bytes from 1.1.1.1: icmp_seq=3 ttl=62 time=19.267 ms
Request timeout for icmp_seq 4
64 bytes from 1.1.1.1: icmp_seq=5 ttl=62 time=20.503 ms
Request timeout for icmp_seq 6
 </pre>
<pre> </pre>
<p>(Note: We are not announcing 1.1.1.0/24 anymore. Therfore 1.1.1.1 is not pingable at the moment!) </p>
<p><picture><source srcset="/media/images/userfiles-ncc.width-640.png 640w,/media/images/userfiles-ncc.width-768.png 768w,/media/images/userfiles-ncc.width-1280.png 1280w,/media/images/userfiles-ncc.width-1536.png 1536w"/><img src="https://labs.ripe.net/media/images/userfiles-ncc.width-640.png" alt="userfiles-ncc.png"/></picture> </p>
<p>The network run on the RRC is designed to collect BGP routing data rather than actually route any traffic. Therefore these numbers are just an indication of what might happen when these prefixes are announced in a high capacity network with multiple transit providers. </p>
<h3>The Traffic</h3>
<p>Although the AMS-IX port of the RRC was already maxed out by announcing 1.1.1.0/24, we still decided to do some traffic analysis. These measurements have to be taken with a grain of salt since we had no way of telling what kind of traffic was dropped before it could reach the RRC. For that reason we also decided not to include transfer rates in these measurements. We can however present a good indication of what kind of traffic is generated in the 1/8 space. </p>
<p><picture><source srcset="/media/images/userfiles-overTime.width-640.png 640w,/media/images/userfiles-overTime.width-768.png 768w,/media/images/userfiles-overTime.width-1280.png 1280w,/media/images/userfiles-overTime.width-1536.png 1536w"/><img src="https://labs.ripe.net/media/images/userfiles-overTime.width-640.png" alt="userfiles-overTime.png"/></picture> </p>
<p>Furthermore we analysed a sample of 100,000 packets collected at 10:00 on 28. January 2010 in more detail. </p>
<p><picture><source srcset="/media/images/userfiles-destaddresses.width-640.png 640w,/media/images/userfiles-destaddresses.width-768.png 768w,/media/images/userfiles-destaddresses.width-1280.png 1280w,/media/images/userfiles-destaddresses.width-1536.png 1536w"/><img src="https://labs.ripe.net/media/images/userfiles-destaddresses.width-640.png" alt="userfiles-destaddresses.png"/></picture> </p>
<p>Almost 90% of the packets that we analysed were sent towards 1.1.1.1. Approximately 4% was sent towards 1.2.3.4. Other addresses out of 1.1.1.0/24 are following. </p>
<p><picture><source srcset="/media/images/userfiles-trafficTypes.width-640.png 640w,/media/images/userfiles-trafficTypes.width-768.png 768w,/media/images/userfiles-trafficTypes.width-1280.png 1280w,/media/images/userfiles-trafficTypes.width-1536.png 1536w"/><img src="https://labs.ripe.net/media/images/userfiles-trafficTypes.width-640.png" alt="userfiles-trafficTypes.png"/></picture> </p>
<p>We found that almost 60% of the UDP packets are sent towards the IP address 1.1.1.1 on port 15206 which makes up the largest amount of packets seen by our RRC. Most of these packets start their data section with 0x80, continue with seemingly random data and are padded to 172 bytes with an (again seemingly random) 2 byte value. Some sources ( <a href="http://www.proxyblind.org/trojan.shtml"> http://www.proxyblind.org/trojan.shtml </a> ) list the port as being used by a <a href="http://en.wikipedia.org/wiki/Trojan_horse_%28computing%29"> trojan </a> called &#34;KiLo&#34;, however information about it seem sparse. </p>
<h3>  </h3>
<p>Since the traffic patterns seemed to be stable we decided to withdraw the announcement of 1.1.1.0/24 and 1.2.3.0/24 on 2 February 2010. This was necessary in order to keep the <a href="http://ris.ripe.net/debogon"> debogon addresses </a> pingable and to ensure overall smooth operation of the RRC. Shortly after withdrawing the announcements the traffic at our AMS-IX port dropped to the regular 2 Mbit again. </p>
<p><picture><source srcset="/media/images/userfiles-ams-ix2.width-640.png 640w,/media/images/userfiles-ams-ix2.width-768.png 768w,/media/images/userfiles-ams-ix2.width-1280.png 1280w,/media/images/userfiles-ams-ix2.width-1536.png 1536w"/><img src="https://labs.ripe.net/media/images/userfiles-ams-ix2.width-640.png" alt="userfiles-ams-ix2.png"/></picture></p>
<h3>   </h3>
<p>We can certainly conclude from this that specific blocks in 1/8 such as 1.1.1.0/24 and 1.2.3.0/24 are extremely polluted. Unless the traffic sent towards those blocks is significantly reduced they might be unusable in a production environment.</p>
<p>Although the limited capacity in our setup did not allow us to record accurate real-world numbers in terms of transfer rates and traffic-types, we were able to get a good indication of where the largest problems lie.</p>
<p>In order to collect real-world data the experiment would have to be repeated on a high-capacity network that more accurately resembles real-world scenarios in terms of transit providers and peering agreements.</p>
<p>We would like to hear your opinion on this subject: Do you have any experience with this kind of traffic? What should be done to reduce it? Would further research on this subject be useful? Please leave a comment after the break!</p>
</div>
      </section></div>
  </body>
</html>
