<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/dotnet/runtime/issues/117233">Original</a>
    <h1>Math.Pow(-1, 2) == -1 in Windows 11 Insider build</h1>
    
    <div id="readability-page-1" class="page"><div id="issue-body-viewer"><div data-testid="markdown-body" data-team-hovercards-enabled="true" data-turbolinks="false"><div><h3 dir="auto">Description</h3>
<p dir="auto">The following is copied with extra bits from <a href="https://aka.ms/AAwwjwl" rel="nofollow">https://aka.ms/AAwwjwl</a> (Feedback Hub) to raise awareness of this issue:</p>
<p dir="auto">Hello, I&#39;m a contributor to osu! (<a href="https://github.com/ppy/osu">https://github.com/ppy/osu</a>). A user reported a really weird problem with our game that only happens in the current version of Canary (27881.1000) in <a data-error-text="Failed to load title" data-id="3186448403" data-permission-text="Title is private" data-url="https://github.com/ppy/osu/issues/33948" data-hovercard-type="issue" data-hovercard-url="/ppy/osu/issues/33948/hovercard" href="https://github.com/ppy/osu/issues/33948">ppy/osu#33948</a>. I&#39;ve narrowed it down to <a data-error-text="Failed to load title" data-id="3186448403" data-permission-text="Title is private" data-url="https://github.com/ppy/osu/issues/33948" data-hovercard-type="issue" data-hovercard-url="/ppy/osu/issues/33948/hovercard?comment_id=3026432343&amp;comment_type=issue_comment" href="https://github.com/ppy/osu/issues/33948#issuecomment-3026432343">ppy/osu#33948 (comment)</a>, which is <code>Math.Pow(-1, 2)</code> returning -1 instead of 1 for some odd reason.</p>
<p dir="auto">Used VSCode for C# installation of .NET 8 (what osu! uses). I&#39;ve also tried the same math function in Python, but the value was correct (1). C++&#39;s <code>std::pow(-1,2)</code> seems to also output -1, so it may be a bigger issue in Windows.</p>
<p dir="auto">If you need to contact us better, joining the osu! Discord server would be best (<a href="https://discord.gg/ppy" rel="nofollow">https://discord.gg/ppy</a>).</p>
<h3 dir="auto">Reproduction Steps</h3>
<div dir="auto" data-snippet-clipboard-copy-content="Console.WriteLine(Math.Pow(-1, 2));"><pre><span>Console</span><span>.</span><span>WriteLine</span><span>(</span><span>Math</span><span>.</span><span>Pow</span><span>(</span><span>-</span><span>1</span><span>,</span> <span>2</span><span>)</span><span>)</span><span>;</span></pre></div>
<p dir="auto">or</p>
<div dir="auto" data-snippet-clipboard-copy-content="std::cout &lt;&lt; std::pow(-1, 2) &lt;&lt; std::endl;"><pre>std::cout &lt;&lt; std::pow(-<span>1</span>, <span>2</span>) &lt;&lt; std::endl;</pre></div>
<h3 dir="auto">Expected behavior</h3>
<p dir="auto">It should output 1.</p>
<h3 dir="auto">Actual behavior</h3>
<p dir="auto">It outputs -1 on Windows 11 Insider Preview, Canary channel (27881.1000).</p>
<h3 dir="auto">Regression?</h3>
<p dir="auto"><em>No response</em></p>
<h3 dir="auto">Known Workarounds</h3>
<p dir="auto"><em>No response</em></p>
<h3 dir="auto">Configuration</h3>
<ul dir="auto">
<li>.NET SDK 8.0.411</li>
<li>Windows 11 Insider Preview, Canary channel (27881.1000)</li>
</ul>
<h3 dir="auto">Other information</h3>
<p dir="auto"><em>No response</em></p></div></div><div><!--$--><p><span data-direction="ne" role="tooltip" aria-hidden="true" id=":R4tqklmb:">timangus, hez2010, PaulusParssinen, dlindenkreuz, tajnymag and 36 more</span><span data-direction="ne" role="tooltip" aria-hidden="true" id=":R65qklmb:">DrMelon, lynn, dClauzel, PaulusParssinen, jozefizso and 17 more</span></p><!--/$--></div></div></div>
  </body>
</html>
