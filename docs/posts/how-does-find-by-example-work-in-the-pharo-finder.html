<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://chicoary.wordpress.com/2020/05/23/how-does-find-by-example-work-in-the-pharo-finder-englished/">Original</a>
    <h1>How does find by example work in the Pharo Finder</h1>
    
    <div id="readability-page-1" class="page"><div id="page">

			<!-- #masthead -->

			<div id="content">

	<section id="primary">
		<main id="main" role="main">

		
			<article id="post-29353">
	
	
		

	<div>
		
<pre>Veja o post original em português em <a rel="noreferrer noopener" href="https://chicoary.wordpress.com/2019/09/02/how-does-find-by-example-work-in-the-pharo-finder/" target="_blank">How does find by example work in the Pharo Finder</a>.</pre>







<p>One of the things that looks like magic is the search for methods through examples. But we will see that there is no black magic in this if we take into account the fantastic reflection capacity of <em>Pharo </em><em>Smalltalk</em> . The tool is available from <em>Squeak</em> , from which <em>Pharo</em> descends.</p>



<p>Let’s do an experiment with the <em>Finder</em> . We are going to provide a <em>shuffled </em><em>array</em> and the same ordered <em>array</em> . See <a href="https://trello.com/c/PWVypjjl/22-como-encontrar-m%C3%A9todos-com-base-em-exemplos">How to find methods based on examples</a> in the <a href="https://trello.com/b/78n97U3l/tutorial-de-pharo">Pharo Tutorial</a> .</p>



<h2>Using the Finder</h2>



<p>Open the Finder.</p>



<figure><img data-attachment-id="27565" data-permalink="https://chicoary.wordpress.com/world-tools-finder/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/world-tools-finder.png" data-orig-size="373,422" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="world-tools-finder" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/world-tools-finder.png?w=265" data-large-file="https://chicoary.files.wordpress.com/2019/09/world-tools-finder.png?w=373" src="https://chicoary.files.wordpress.com/2019/09/world-tools-finder.png?w=373" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/world-tools-finder.png 373w, https://chicoary.files.wordpress.com/2019/09/world-tools-finder.png?w=133 133w, https://chicoary.files.wordpress.com/2019/09/world-tools-finder.png?w=265 265w" sizes="(max-width: 373px) 100vw, 373px"/></figure>



<p>Provide the <em>arrays</em> .</p>



<figure><img data-attachment-id="27566" data-permalink="https://chicoary.wordpress.com/finder-search-by-example/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/finder-search-by-example.png" data-orig-size="700,503" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="finder-search-by-example" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/finder-search-by-example.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/finder-search-by-example.png?w=700" src="https://chicoary.files.wordpress.com/2019/09/finder-search-by-example.png?w=700" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/finder-search-by-example.png 700w, https://chicoary.files.wordpress.com/2019/09/finder-search-by-example.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/finder-search-by-example.png?w=300 300w" sizes="(max-width: 700px) 100vw, 700px"/></figure>



<p>See the results.</p>



<figure><img data-attachment-id="27568" data-permalink="https://chicoary.wordpress.com/finder-by-example-results/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/finder-by-example-results.png" data-orig-size="701,505" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="finder-by-example-results" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/finder-by-example-results.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/finder-by-example-results.png?w=701" src="https://chicoary.files.wordpress.com/2019/09/finder-by-example-results.png?w=701" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/finder-by-example-results.png 701w, https://chicoary.files.wordpress.com/2019/09/finder-by-example-results.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/finder-by-example-results.png?w=300 300w" sizes="(max-width: 701px) 100vw, 701px"/></figure>



<h2>Finder Script</h2>



<p>Now we want to create a <em>script</em> to do the same, roughly.</p>



<p>We will avoid creating new classes and methods using <em>block closures</em> .</p>



<p>We will develop the <em>script</em> gradually. Initially we will check the partial results of the computation.</p>



<p>We start by obtaining the example parameters and the class hierarchy that can contain the methods sought.</p>



<figure><img data-attachment-id="27583" data-permalink="https://chicoary.wordpress.com/class-hierarchy-2/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/class-hierarchy-2.png" data-orig-size="810,427" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="class-hierarchy-2" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/class-hierarchy-2.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/class-hierarchy-2.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/class-hierarchy-2.png?w=810" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/class-hierarchy-2.png 810w, https://chicoary.files.wordpress.com/2019/09/class-hierarchy-2.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/class-hierarchy-2.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/class-hierarchy-2.png?w=768 768w" sizes="(max-width: 810px) 100vw, 810px"/></figure>



<p>The example is passed as an <em>array</em> . The first element is the recipient of the message. The last is the returned value. The intermediate values ​​are the arguments of the message.</p>



<p>The internal <em>hierarchy </em><em>closure</em> recursively navigates up the class hierarchy.<em></em></p>



<p>In our case, 4 classes are obtained. We excluded the Object classes and superclasses from it.</p>



<figure><img data-attachment-id="27584" data-permalink="https://chicoary.wordpress.com/class-hierarchy-result/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/class-hierarchy-result.png" data-orig-size="812,431" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="class-hierarchy-result" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/class-hierarchy-result.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/class-hierarchy-result.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/class-hierarchy-result.png?w=812" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/class-hierarchy-result.png 812w, https://chicoary.files.wordpress.com/2019/09/class-hierarchy-result.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/class-hierarchy-result.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/class-hierarchy-result.png?w=768 768w" sizes="(max-width: 812px) 100vw, 812px"/></figure>



<p>Let’s get all the methods in the class hierarchy.</p>



<figure><img data-attachment-id="27585" data-permalink="https://chicoary.wordpress.com/all-methods-on-hierarchy-1/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-1.png" data-orig-size="814,428" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="all-methods-on-hierarchy-1" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-1.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-1.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-1.png?w=814" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-1.png 814w, https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-1.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-1.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-1.png?w=768 768w" sizes="(max-width: 814px) 100vw, 814px"/></figure>



<p>We use <em>flatCollect</em> : instead of <em>collect</em> : to get the <em>flatten</em> of the <em>array</em> of <em>arrays</em> . Each class would return an <em>array</em> with their methods within another <em>array</em> if we used the <em>collect</em> :.</p>



<figure><img data-attachment-id="27586" data-permalink="https://chicoary.wordpress.com/all-methods-on-hierarchy-result/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-result.png" data-orig-size="817,428" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="all-methods-on-hierarchy-result" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-result.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-result.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-result.png?w=817" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-result.png 817w, https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-result.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-result.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/all-methods-on-hierarchy-result.png?w=768 768w" sizes="(max-width: 817px) 100vw, 817px"/></figure>



<p>We see that we have obtained many methods that are not of interest since our example is an <em>array</em> with two elements. From this <em>array</em> we get the receiver and the result of the method. There are no arguments. Soon the message is unary, with no argument. So let’s filter the methods further.</p>



<p>We will initially filter the number of arguments.</p>



<figure><img data-attachment-id="27587" data-permalink="https://chicoary.wordpress.com/filtering-by-arrguments-size-2/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-2.png" data-orig-size="857,463" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="filtering-by-arrguments-size-2" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-2.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-2.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-2.png?w=857" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-2.png 857w, https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-2.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-2.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-2.png?w=768 768w" sizes="(max-width: 857px) 100vw, 857px"/></figure>



<p>Now we only have unary methods on the list.</p>



<figure><img data-attachment-id="27588" data-permalink="https://chicoary.wordpress.com/filtering-by-arrguments-size-result/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-result.png" data-orig-size="861,467" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="filtering-by-arrguments-size-result" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-result.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-result.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-result.png?w=861" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-result.png 861w, https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-result.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-result.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/filtering-by-arrguments-size-result.png?w=768 768w" sizes="(max-width: 861px) 100vw, 861px"/></figure>



<p>And finally we will add the filter for the methods that return the result of the example.</p>



<figure><img data-attachment-id="27590" data-permalink="https://chicoary.wordpress.com/final-version-of-find-by-example-closure/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure.png" data-orig-size="897,579" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="final-version-of-find-by-example-closure" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure.png?w=897" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure.png 897w, https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure.png?w=768 768w" sizes="(max-width: 897px) 100vw, 897px"/></figure>



<p>We take care to predict the possibility of an error in the method. In this case it is excluded from the list.</p>



<figure><img data-attachment-id="27592" data-permalink="https://chicoary.wordpress.com/final-version-of-find-by-example-closure-result/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure-result.png" data-orig-size="906,581" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="final-version-of-find-by-example-closure-result" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure-result.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure-result.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure-result.png?w=906" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure-result.png 906w, https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure-result.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure-result.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/final-version-of-find-by-example-closure-result.png?w=768 768w" sizes="(max-width: 906px) 100vw, 906px"/></figure>



<p>Below the <em>script</em> code :</p>


<div><pre title="">findMethodByExample := [ :example | | receiver arguments result class hierarchy |
	
	receiver := example first.
	arguments := example allButFirst allButLast.
	result := example last.
	class := receiver class.
	
	hierarchy := [ :clazz | 
		clazz = Object ifTrue: [ {  } ] ifFalse: [  
			{ clazz }, (hierarchy value: clazz superclass)
		].
	].

	((hierarchy value: class) flatCollect: [ :aClass | aClass methods ]) 
		select: [ :method | 
			method numArgs = arguments size 
			and: [ 
				[((Message selector: method selector arguments: arguments) sendTo: receiver deepCopy) = result] 
				on: Error do: [ false ] ]
		].
	
].

findMethodByExample value: { #(1 2 3 4 5 6 7 8 9) shuffled. #(1 2 3 4 5 6 7 8 9) }.
</pre></div>


<h2>Combining results</h2>



<p>We will now try to combine the results of several simultaneous examples to reduce the size of the possibilities.</p>



<p>Let’s imagine that we are trying to get the name of the method to round a number.</p>



<p>Our example below shows several methods not related to rounding.</p>



<pre>Our example is a little artificial but will serve to illustrate the idea.</pre>



<figure><img data-attachment-id="27595" data-permalink="https://chicoary.wordpress.com/truncated-integerpart-etc-found/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/truncated-integerpart-etc-found.png" data-orig-size="905,669" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="truncated-integerpart-etc-found" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/truncated-integerpart-etc-found.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/truncated-integerpart-etc-found.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/truncated-integerpart-etc-found.png?w=905" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/truncated-integerpart-etc-found.png 905w, https://chicoary.files.wordpress.com/2019/09/truncated-integerpart-etc-found.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/truncated-integerpart-etc-found.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/truncated-integerpart-etc-found.png?w=768 768w" sizes="(max-width: 905px) 100vw, 905px"/></figure>



<p>We then try another example. And it gets better.</p>



<figure><img data-attachment-id="27594" data-permalink="https://chicoary.wordpress.com/rounded-and-ceiling-found/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/rounded-and-ceiling-found.png" data-orig-size="904,671" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="rounded-and-ceiling-found" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/rounded-and-ceiling-found.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/rounded-and-ceiling-found.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/rounded-and-ceiling-found.png?w=904" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/rounded-and-ceiling-found.png 904w, https://chicoary.files.wordpress.com/2019/09/rounded-and-ceiling-found.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/rounded-and-ceiling-found.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/rounded-and-ceiling-found.png?w=768 768w" sizes="(max-width: 904px) 100vw, 904px"/></figure>



<p>We then decided to combine the two examples and the result is narrower.</p>



<figure><img data-attachment-id="27597" data-permalink="https://chicoary.wordpress.com/finder-by-two-examples/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/finder-by-two-examples.png" data-orig-size="894,708" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="finder-by-two-examples" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/finder-by-two-examples.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/finder-by-two-examples.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/finder-by-two-examples.png?w=894" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/finder-by-two-examples.png 894w, https://chicoary.files.wordpress.com/2019/09/finder-by-two-examples.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/finder-by-two-examples.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/finder-by-two-examples.png?w=768 768w" sizes="(max-width: 894px) 100vw, 894px"/></figure>



<h2>Combining results with the Finder</h2>



<p>Can we do the same with the Finder? Perhaps…</p>



<p>Question <a href="https://stackoverflow.com/questions/30177559/how-does-find-by-example-work-in-the-pharo-finder">How does find-by-example work in the Pharo Finder?</a> on the <em>Stack Overflow</em> website suggests that we investigate the <em>MethodFinder</em> class.</p>



<figure><img data-attachment-id="27603" data-permalink="https://chicoary.wordpress.com/methodfinder-class/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-class.png" data-orig-size="857,653" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="methodfinder-class" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-class.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-class.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/methodfinder-class.png?w=857" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/methodfinder-class.png 857w, https://chicoary.files.wordpress.com/2019/09/methodfinder-class.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/methodfinder-class.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/methodfinder-class.png?w=768 768w" sizes="(max-width: 857px) 100vw, 857px"/></figure>



<p>There are two methods:</p>



<pre>findMethodsByExampleInput:andExpectedResult: e
possibleSolutionsForInput:
</pre>



<p>The first invokes the second and has arguments compatible with what we need.</p>



<p>We <em>repeated</em> with <em>MethodFinder</em> the examples <em>{2.4. 2}</em> and <em>{2.5. 3}</em> .</p>



<figure><img data-attachment-id="27605" data-permalink="https://chicoary.wordpress.com/methodfinder-2-4-2/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-2.4.-2-.png" data-orig-size="904,435" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="methodfinder-2.4.-2-" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-2.4.-2-.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-2.4.-2-.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/methodfinder-2.4.-2-.png?w=904" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/methodfinder-2.4.-2-.png 904w, https://chicoary.files.wordpress.com/2019/09/methodfinder-2.4.-2-.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/methodfinder-2.4.-2-.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/methodfinder-2.4.-2-.png?w=768 768w" sizes="(max-width: 904px) 100vw, 904px"/></figure>



<figure><img data-attachment-id="27602" data-permalink="https://chicoary.wordpress.com/methodfinder-2-5-3/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-2.5.-3-.png" data-orig-size="899,435" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="methodfinder-2.5.-3-" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-2.5.-3-.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-2.5.-3-.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/methodfinder-2.5.-3-.png?w=899" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/methodfinder-2.5.-3-.png 899w, https://chicoary.files.wordpress.com/2019/09/methodfinder-2.5.-3-.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/methodfinder-2.5.-3-.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/methodfinder-2.5.-3-.png?w=768 768w" sizes="(max-width: 899px) 100vw, 899px"/></figure>



<p>We can naively try to get the combination of the examples and get nothing!</p>



<figure><img data-attachment-id="27607" data-permalink="https://chicoary.wordpress.com/methodfinder-naive-intersection/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-naive-intersection.png" data-orig-size="904,431" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="methodfinder-naive-intersection" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-naive-intersection.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-naive-intersection.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/methodfinder-naive-intersection.png?w=904" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/methodfinder-naive-intersection.png 904w, https://chicoary.files.wordpress.com/2019/09/methodfinder-naive-intersection.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/methodfinder-naive-intersection.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/methodfinder-naive-intersection.png?w=768 768w" sizes="(max-width: 904px) 100vw, 904px"/></figure>



<p>The reason for the failure is due to the fact that <em>MethodFinder &gt;&gt; findMethodsByExampleInput: andExpectedResult:</em> returns a collection of instances of the <em>MethodFinderSend</em> class .</p>



<figure><img data-attachment-id="27609" data-permalink="https://chicoary.wordpress.com/methodfindersend-collection/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/methodfindersend-collection.png" data-orig-size="900,433" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="methodfindersend-collection" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/methodfindersend-collection.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/methodfindersend-collection.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/methodfindersend-collection.png?w=900" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/methodfindersend-collection.png 900w, https://chicoary.files.wordpress.com/2019/09/methodfindersend-collection.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/methodfindersend-collection.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/methodfindersend-collection.png?w=768 768w" sizes="(max-width: 900px) 100vw, 900px"/></figure>



<p>We noticed that there is the <em>Met</em> hodFinderSend &gt;&gt; <em>selector</em> method that we can use to correct the problem.</p>



<figure><img data-attachment-id="27611" data-permalink="https://chicoary.wordpress.com/methodfindersend-selector/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/methodfindersend-selector.png" data-orig-size="906,431" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="methodfindersend-selector" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/methodfindersend-selector.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/methodfindersend-selector.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/methodfindersend-selector.png?w=906" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/methodfindersend-selector.png 906w, https://chicoary.files.wordpress.com/2019/09/methodfindersend-selector.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/methodfindersend-selector.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/methodfindersend-selector.png?w=768 768w" sizes="(max-width: 906px) 100vw, 906px"/></figure>



<p>Now we have obtained the list, with a single element for this case, of method selectors.</p>



<figure><img data-attachment-id="27613" data-permalink="https://chicoary.wordpress.com/methodfinder-intersection/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-intersection.png" data-orig-size="904,435" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="methodfinder-intersection" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-intersection.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/methodfinder-intersection.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/methodfinder-intersection.png?w=904" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/methodfinder-intersection.png 904w, https://chicoary.files.wordpress.com/2019/09/methodfinder-intersection.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/methodfinder-intersection.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/methodfinder-intersection.png?w=768 768w" sizes="(max-width: 904px) 100vw, 904px"/></figure>



<p>If you click on the list you will get more information about the methods that implement the message represented by the selector.</p>



<figure><img data-attachment-id="27615" data-permalink="https://chicoary.wordpress.com/message-selector-implementations/" data-orig-file="https://chicoary.files.wordpress.com/2019/09/message-selector-implementations.png" data-orig-size="902,710" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="message-selector-implementations" data-image-description="" data-image-caption="" data-medium-file="https://chicoary.files.wordpress.com/2019/09/message-selector-implementations.png?w=300" data-large-file="https://chicoary.files.wordpress.com/2019/09/message-selector-implementations.png?w=723" src="https://chicoary.files.wordpress.com/2019/09/message-selector-implementations.png?w=902" alt="" srcset="https://chicoary.files.wordpress.com/2019/09/message-selector-implementations.png 902w, https://chicoary.files.wordpress.com/2019/09/message-selector-implementations.png?w=150 150w, https://chicoary.files.wordpress.com/2019/09/message-selector-implementations.png?w=300 300w, https://chicoary.files.wordpress.com/2019/09/message-selector-implementations.png?w=768 768w" sizes="(max-width: 902px) 100vw, 902px"/></figure>



<figure><img src="https://seesouthernstars.files.wordpress.com/2015/06/porkey.jpg" alt=""/></figure>
			
			
						</div><!-- .entry-content -->

	<!-- .entry-footer -->

</article><!-- #post-## -->

			
<!-- #comments -->

		
		</main><!-- #main -->
	</section><!-- #primary -->

	<!-- #secondary -->

	</div><!-- #content -->

	<!-- #colophon -->
</div></div>
  </body>
</html>
