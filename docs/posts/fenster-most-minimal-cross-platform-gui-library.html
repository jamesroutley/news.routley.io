<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/zserge/fenster">Original</a>
    <h1>Fenster: Most minimal cross-platform GUI library</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">Fenster /ˈfɛnstɐ/ -- a German word for &#34;window&#34;.</p>
<p dir="auto">This library provides the most minimal and highly opinionated way to display a cross-platform 2D canvas. If you remember Borland BGI or drawing things in QBASIC or <code>INT 10h</code>- you know what I mean. As a nice bonus you also get cross-platform keyboard/mouse input and audio playback in only a few lines of code.</p>

<ul dir="auto">
<li>Single application window of given size with a title.</li>
<li>Application lifecycle and system events are all handled automatically.</li>
<li>Minimal 24-bit RGB framebuffer.</li>
<li>Cross-platform keyboard events (keycodes).</li>
<li>Cross-platform mouse events (X/Y + mouse click).</li>
<li>Cross-platform timers to have a stable FPS rate.</li>
<li>Cross-platform audio playback (WinMM, CoreAudio, ALSA).</li>
<li>Simple polling API without a need for callbacks or multithreading (like Arduino/Processing).</li>
<li>One C99 header of ~300LOC, easy to understand and extend.</li>
<li>Go bindings (<code>import &#34;github.com/zserge/fenster&#34;</code>, see <a href="https://pkg.go.dev/github.com/zserge/fenster" rel="nofollow">godoc</a>)</li>
<li>Zig bindings (see <a href="http://tinylogger.com/zserge/fenster/blob/main/examples/minimal-zig">examples/minimal-zig</a>)</li>
<li>Lua bindings (see <a href="https://github.com/jonasgeiler/lua-fenster">https://github.com/jonasgeiler/lua-fenster</a>)</li>
<li>And, yes, <a href="http://tinylogger.com/zserge/fenster/blob/main/examples/doom-c">it can run Doom</a>!</li>
</ul>

<p dir="auto">Here&#39;s how to draw white noise:</p>
<div dir="auto" data-snippet-clipboard-copy-content="// main.c
#include &#34;fenster.h&#34;
#define W 320
#define H 240
int main() {
  uint32_t buf[W * H];
  struct fenster f = { .title = &#34;hello&#34;, .width = W, .height = H, .buf = buf };
  fenster_open(&amp;f);
  while (fenster_loop(&amp;f) == 0) {
    for (int i = 0; i &lt; W; i++) {
      for (int j = 0; j &lt; H; j++) {
        fenster_pixel(&amp;f, i, j) = rand();
      }
    }
  }
  fenster_close(&amp;f);
  return 0;
}"><pre><span>// main.c</span>
<span>#include</span> <span>&#34;fenster.h&#34;</span>
<span>#define</span> <span>W</span> 320
<span>#define</span> <span>H</span> 240
<span>int</span> <span>main</span>() {
  <span>uint32_t</span> <span>buf</span>[<span>W</span> <span>*</span> <span>H</span>];
  <span>struct</span> <span>fenster</span> <span>f</span> <span>=</span> { .<span>title</span> <span>=</span> <span>&#34;hello&#34;</span>, .<span>width</span> <span>=</span> <span>W</span>, .<span>height</span> <span>=</span> <span>H</span>, .<span>buf</span> <span>=</span> <span>buf</span> };
  <span>fenster_open</span>(<span>&amp;</span><span>f</span>);
  <span>while</span> (<span>fenster_loop</span>(<span>&amp;</span><span>f</span>) <span>==</span> <span>0</span>) {
    <span>for</span> (<span>int</span> <span>i</span> <span>=</span> <span>0</span>; <span>i</span> <span>&lt;</span> <span>W</span>; <span>i</span><span>++</span>) {
      <span>for</span> (<span>int</span> <span>j</span> <span>=</span> <span>0</span>; <span>j</span> <span>&lt;</span> <span>H</span>; <span>j</span><span>++</span>) {
        <span>fenster_pixel</span>(<span>&amp;</span><span>f</span>, <span>i</span>, <span>j</span>) <span>=</span> <span>rand</span>();
      }
    }
  }
  <span>fenster_close</span>(<span>&amp;</span><span>f</span>);
  <span>return</span> <span>0</span>;
}</pre></div>
<p dir="auto">Compile it and run:</p>
<div data-snippet-clipboard-copy-content="# Linux
cc main.c -lX11 -lasound -o main &amp;&amp; ./main
# macOS
cc main.c -framework Cocoa -framework AudioToolbox -o main &amp;&amp; ./main
# windows
cc main.c -lgdi32 -lwinmm -o main.exe &amp;&amp; main.exe"><pre><code># Linux
cc main.c -lX11 -lasound -o main &amp;&amp; ./main
# macOS
cc main.c -framework Cocoa -framework AudioToolbox -o main &amp;&amp; ./main
# windows
cc main.c -lgdi32 -lwinmm -o main.exe &amp;&amp; main.exe
</code></pre></div>
<p dir="auto">That&#39;s it.</p>

<p dir="auto">API is designed to be a polling loop, where on every iteration the framebuffer get updated and the user input (mouse/keyboard) can be polled.</p>
<div dir="auto" data-snippet-clipboard-copy-content="struct fenster {
  const char *title; /* window title */
  const int width; /* window width */
  const int height; /* window height */
  uint32_t *buf; /* window pixels, 24-bit RGB, row by row, pixel by pixel */
  int keys[256]; /* keys are mostly ASCII, but arrows are 17..20 */
  int mod;       /* mod is 4 bits mask, ctrl=1, shift=2, alt=4, meta=8 */
  int x;         /* mouse X coordinate */
  int y;         /* mouse Y coordinate */
  int mouse;     /* 0 = no buttons pressed, 1 = left button pressed */
};"><pre><span>struct</span> <span>fenster</span> {
  <span>const</span> <span>char</span> <span>*</span><span>title</span>; <span>/* window title */</span>
  <span>const</span> <span>int</span> <span>width</span>; <span>/* window width */</span>
  <span>const</span> <span>int</span> <span>height</span>; <span>/* window height */</span>
  <span>uint32_t</span> <span>*</span><span>buf</span>; <span>/* window pixels, 24-bit RGB, row by row, pixel by pixel */</span>
  <span>int</span> <span>keys</span>[<span>256</span>]; <span>/* keys are mostly ASCII, but arrows are 17..20 */</span>
  <span>int</span> <span>mod</span>;       <span>/* mod is 4 bits mask, ctrl=1, shift=2, alt=4, meta=8 */</span>
  <span>int</span> <span>x</span>;         <span>/* mouse X coordinate */</span>
  <span>int</span> <span>y</span>;         <span>/* mouse Y coordinate */</span>
  <span>int</span> <span>mouse</span>;     <span>/* 0 = no buttons pressed, 1 = left button pressed */</span>
};</pre></div>
<ul dir="auto">
<li><code>int fenster_open(struct fenster *f)</code> - opens a new app window.</li>
<li><code>int fenster_loop(struct fenster *f)</code> - handles system events and refreshes the canvas. Returns negative values when app window is closed.</li>
<li><code>void fenster_close(struct fenster *f)</code> - closes the window and exists the graphical app.</li>
<li><code>void fenster_sleep(int ms)</code> - pauses for <code>ms</code> milliseconds.</li>
<li><code>int64_t fenster_time()</code> - returns current time in milliseconds.</li>
<li><code>fenster_pixel(f, x, y) = 0xRRGGBB</code> - set pixel color.</li>
<li><code>uint32_t px = fenster_pixel(f, x, y);</code> - get pixel color.</li>
</ul>
<p dir="auto">See <a href="http://tinylogger.com/zserge/fenster/blob/main/examples/drawing-c">examples/drawing-c</a> for more old-school drawing primitives, but also feel free to experiment with your own graphical algorithms!</p>

<p dir="auto">Code is distributed under MIT license, feel free to use it in your proprietary projects as well.</p>
</article></div></div>
  </body>
</html>
