<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/rogerkeays/fluent">Original</a>
    <h1>Fluent: Static Extension Methods for Java</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto"><em>Fluent</em> allows you to call static Java methods as if they were object methods. For example, instead of writing:</p>
<div data-snippet-clipboard-copy-content="assertNotEmpty(getHttpContent(createUrl(website, &#34;styles.css&#34;)));"><pre><code>assertNotEmpty(getHttpContent(createUrl(website, &#34;styles.css&#34;)));
</code></pre></div>
<p dir="auto">you would write:</p>
<div data-snippet-clipboard-copy-content="website.createUrl(&#34;styles.css&#34;).getHttpContent().assertNotEmpty();"><pre><code>website.createUrl(&#34;styles.css&#34;).getHttpContent().assertNotEmpty();
</code></pre></div>
<p dir="auto"><em>Fluent</em> works by transforming the abstract syntax tree during compilation. If a method can&#39;t be resolved using Java&#39;s normal rules, <em>Fluent</em> will rewrite it as such:</p>
<div data-snippet-clipboard-copy-content="object.method(params...) -&gt; method(object, params...)"><pre><code>object.method(params...) -&gt; method(object, params...)
</code></pre></div>
<p dir="auto">and then give it back to the compiler. Now, the compiler will look for a static method taking the object as it&#39;s first parameter. Any static methods that are in scope can be used. i.e, those you&#39;ve written or imported. If you are importing them from another class, you will need to use <code>import static</code> so they can be resolved. No annotations are required, and you can add extension methods to primitive types.</p>
<p dir="auto">In the above example, the extension method signatures would be:</p>
<div data-snippet-clipboard-copy-content="public static URL createUrl(Website website, String path) {}
public static String getHttpContent(URL url) {}
public static void assertNotEmpty(String string) {}"><pre><code>public static URL createUrl(Website website, String path) {}
public static String getHttpContent(URL url) {}
public static void assertNotEmpty(String string) {}
</code></pre></div>
<p dir="auto">Extension methods are useful when you can&#39;t (or don&#39;t want to) add methods to a class or subclass, or you are working with an interface. Commonly, such methods are called &#34;utility methods&#34;, but in most other programming languages, you would just call them &#34;functions&#34;.</p>
<p dir="auto"><em>Fluent</em> is implemented as a <code>javac</code> compiler plugin and has no runtime dependencies. The resulting class files are identical to code written with regular static method calls.</p>
<p dir="auto"><em>Fluent</em> supports JDK 9 and above.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-quick-start" aria-hidden="true" href="#quick-start"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Quick Start</h2>
<p dir="auto">Download the jar, place it on your classpath, and run <code>javac</code> using <code>-Xplugin:fluent</code>:</p>
<div data-snippet-clipboard-copy-content="wget https://github.com/rogerkeays/fluent/raw/main/fluent.jar
javac -cp fluent.jar -Xplugin:fluent File.java"><pre><code>wget https://github.com/rogerkeays/fluent/raw/main/fluent.jar
javac -cp fluent.jar -Xplugin:fluent File.java
</code></pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-install-using-maven" aria-hidden="true" href="#install-using-maven"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Install Using Maven</h2>
<p dir="auto"><em>Fluent</em> is not yet available on Maven Central, however you can install it locally like this:</p>
<div data-snippet-clipboard-copy-content="wget https://github.com/rogerkeays/fluent/raw/main/fluent.jar
mvn install:install-file -DgroupId=jamaica -DartifactId=fluent -Dversion=0.1.0 -Dpackaging=jar -Dfile=fluent.jar"><pre><code>wget https://github.com/rogerkeays/fluent/raw/main/fluent.jar
mvn install:install-file -DgroupId=jamaica -DartifactId=fluent -Dversion=0.1.0 -Dpackaging=jar -Dfile=fluent.jar
</code></pre></div>
<p dir="auto">Next, add the dependency to your <code>pom.xml</code>:</p>
<div data-snippet-clipboard-copy-content="&lt;dependency&gt;
  &lt;groupId&gt;jamaica&lt;/groupId&gt;
  &lt;artifactId&gt;fluent&lt;/artifactId&gt;
  &lt;version&gt;0.1.0&lt;/version&gt;
  &lt;scope&gt;compile&lt;/scope&gt;
&lt;/dependency&gt;"><pre><code>&lt;dependency&gt;
  &lt;groupId&gt;jamaica&lt;/groupId&gt;
  &lt;artifactId&gt;fluent&lt;/artifactId&gt;
  &lt;version&gt;0.1.0&lt;/version&gt;
  &lt;scope&gt;compile&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre></div>
<p dir="auto">And configure the compiler plugin:</p>
<div data-snippet-clipboard-copy-content="&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
      &lt;version&gt;3.11.0&lt;/version&gt;
      &lt;configuration&gt;
        &lt;compilerArgs&gt;
          &lt;arg&gt;-Xplugin:fluent&lt;/arg&gt;
        &lt;/compilerArg&gt;
        ...
      &lt;/configuration&gt;
    &lt;/plugin&gt;"><pre><code>&lt;build&gt;
  &lt;plugins&gt;
    &lt;plugin&gt;
      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
      &lt;version&gt;3.11.0&lt;/version&gt;
      &lt;configuration&gt;
        &lt;compilerArgs&gt;
          &lt;arg&gt;-Xplugin:fluent&lt;/arg&gt;
        &lt;/compilerArg&gt;
        ...
      &lt;/configuration&gt;
    &lt;/plugin&gt;
</code></pre></div>
<p dir="auto">Note, older versions of the compiler plugin use a different syntax. Refer to the <a href="https://maven.apache.org/plugins/maven-compiler-plugin/compile-mojo.html" rel="nofollow">Maven Compiler Plugin docs</a> for more details.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-build-it-yourself" aria-hidden="true" href="#build-it-yourself"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Build It Yourself</h2>
<p dir="auto"><em>Fluent</em> is built using a POSIX shell script:</p>
<div data-snippet-clipboard-copy-content="git clone https://github.com/rogerkeays/fluent.git
cd fluent
./build.sh"><pre><code>git clone https://github.com/rogerkeays/fluent.git
cd fluent
./build.sh
</code></pre></div>
<p dir="auto">If your operating system doesn&#39;t include <code>sh</code> it shouldn&#39;t be too hard to convert to whatever shell you are using. I mean, we&#39;re talking about one java file and a text file here.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-jdk-support" aria-hidden="true" href="#jdk-support"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>JDK Support</h2>
<p dir="auto"><em>Fluent</em> is tested with the following JDKs:</p>
<ul dir="auto">
<li>jdk-09.0.4</li>
<li>jdk-10.0.2</li>
<li>jdk-11.0.8</li>
<li>jdk-12.0.2</li>
<li>jdk-13.0.2</li>
<li>jdk-14.0.2</li>
<li>jdk-15.0.2</li>
<li>jdk-16.0.2</li>
<li>jdk-17.0.2</li>
<li>jdk-18.0.2.1</li>
<li>jdk-19.0.2</li>
<li>jdk-20.0.1</li>
<li>jdk-21 (early access)</li>
<li>jdk-22 (early access)</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-ide-support" aria-hidden="true" href="#ide-support"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>IDE Support</h2>
<p dir="auto">There is currently no IDE support for <em>Fluent</em>. Contributions are welcome. It may be possible to get your IDE to load the <em>Fluent</em> plugin into it&#39;s compiler. If you get it working, please <a href="https://github.com/rogerkeays/fluent/issues">post something to github</a> so we can all benefit.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-known-issues" aria-hidden="true" href="#known-issues"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Known Issues</h2>
<ul dir="auto">
<li>you must use parentheses around numeric primitives when calling an extension method: e.g. <code>(0).inc()</code></li>
<li><em>Fluent</em> may not be compatible with other <code>javac</code> plugins, though so far it seems to play nice with Lombok, at least.</li>
<li><em>Fluent</em> will make you a more productive programmer, which may go against corporate policy.</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-discussions" aria-hidden="true" href="#discussions"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Discussions</h2>
<p dir="auto">Language design can be a divisive topic. Some interesting threads around extension methods can be found here:</p>
<ul dir="auto">
<li><a href="https://news.ycombinator.com/item?id=36569411" rel="nofollow">Fluent post on hackernews</a></li>
<li><a href="https://www.reddit.com/r/java/comments/14ole9l/fluent_static_extension_methods_for_java/" rel="nofollow">Fluent post on reddit</a></li>
<li><a href="https://en.wikipedia.org/wiki/Extension_method" rel="nofollow">Extension Methods on Wikipedia</a></li>
<li><a href="https://tour.dlang.org/tour/en/gems/uniform-function-call-syntax-ufcs" rel="nofollow">Uniform Function Call Syntax in D</a></li>
<li><a href="https://stackoverflow.com/questions/29466427/what-was-the-design-consideration-of-not-allowing-use-site-injection-of-extensio/29494337#29494337" rel="nofollow">Brian Geotz on stackoverflow</a></li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-related-resources" aria-hidden="true" href="#related-resources"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Related Resources</h2>
<ul dir="auto">
<li><a href="https://kotlinlang.org" rel="nofollow">kotlin</a>: a JVM language which supports extension methods out of the box.</li>
<li><a href="https://github.com/projectlombok/lombok">Lombok</a>: the grand-daddy of <code>javac</code> hacks, with experimental support for extension methods.</li>
<li><a href="https://manifold.systems" rel="nofollow">Manifold</a>: a <code>javac</code> plugin with many features, including extension methods.</li>
<li><a href="https://github.com/rogerkeays/racket-fluent">racket-fluent</a>: fluent syntax for Racket.</li>
<li><a href="https://github.com/rogerkeays/unchecked">unchecked</a>: evade the checked exceptions mafia in Java.</li>
<li><a href="https://rogerkeays.com" rel="nofollow">more stuff you never knew you wanted</a></li>
</ul>
</article>
          </div></div>
  </body>
</html>
