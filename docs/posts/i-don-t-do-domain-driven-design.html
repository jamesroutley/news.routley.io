<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.tonymarston.net/php-mysql/dont-do-domain-driven-design.html">Original</a>
    <h1>I don&#39;t do Domain Driven Design</h1>
    
    <div id="readability-page-1" class="page">

  <!-- header -->

 <!-- navigation -->





<dl id="index">
<dt><a href="#introduction">Introduction</a></dt>

<dt><a href="#standard.design.process">A standard design process</a></dt>

<dt><a href="#my.personal.approach">Features of my personal approach</a></dt>


<dt><a href="#advice.which.i.ignore">DDD &#34;advice&#34; which I ignore</a></dt>


<dt><a href="#implementing.the.different">My implementation - Dealing with the differences</a></dt>


<dt><a href="#implementing.the.similar">My implementation - Dealing with the similarities</a></dt>


<dt><a href="#conclusion">Conclusion</a></dt>
<dt><a href="#references">References</a></dt>
<dt><a href="#history">Amendment History</a></dt>
<dt><a href="#comments">Comments</a></dt>
</dl>

<h2><a name="introduction">Introduction</a></h2>

<p>What is Domain Driven Design (DDD)? If you read <a href="https://en.wikipedia.org/wiki/Domain-driven_design">this Wikipedia article</a>, which is based on the contents of <a href="https://www.domainlanguage.com/wp-content/uploads/2016/05/DDD_Reference_2015-03.pdf">Domain-Driven Design Reference (PDF)</a> which was written by Eric Evans, you will see that it talks about DDD consisting of a number of high-level concepts and practices such as those which I have itemised in <a href="#table1">Table 1</a> below:</p>

<a name="table1"></a>
<table summary="features of Domain Driven Design">
<caption>Table 1: Features of Domain Driven Design</caption>
<colgroup>
  <col width="10px"/>
	<col width="*"/>
	<col width="300px"/>
</colgroup>
<tbody><tr>
	<th></th>
	<th>Feature</th>
	<th>My implementation</th>
</tr>

<tr>
	<td>1</td>
	<td>DDD is against the idea of having a single unified model; instead it divides a large system into <a href="#bounded-context.definition">bounded contexts</a>, each of which have their own model.</td>
	<td>Refer to <a href="#subsystems">A system of subsystems</a></td>
</tr>
<tr>
	<td>2</td>
	<td>The structure and language of software code (class names, class methods, class variables) should match the business <a href="#domain.definition">domain</a>. For example: if software processes loan applications, it might have classes like &#34;loan application&#34;, &#34;customers&#34;, and methods such as &#34;accept offer&#34; and &#34;withdraw&#34;.</td>
	<td>Refer to <a href="#class.names">Class names</a>
	</td>
</tr>

<tr>
	<td>3</td>
	<td>Domain-driven design is based on the following goals:
	<ul>
	<li>placing the project&#39;s primary focus on the core domain and domain logic layer</li>
	<li>basing complex designs on a model of the domain</li>
	<li>initiating a creative collaboration between technical and domain experts to iteratively refine a conceptual model that addresses particular domain problems</li>
	</ul>
	</td>
	<td>Refer to <a href="#one.class.per.table">A separate class for each table</a></td>
</tr>

<tr>
	<td>4</td>
	<td>Of primary importance is a <i>domain</i> of the software, the subject area to which the user applies a program. Software&#39;s developers build a domain model: a system of abstractions that describes selected aspects of a domain and can be used to solve problems related to that domain.
<p>These aspects of domain-driven design aim to foster a <i>common language</i> shared by domain experts, users, and developers - the<i> ubiquitous language</i>. The <i>ubiquitous language</i> is used in the domain model and for describing system requirements. </p>
<p><i>Ubiquitous language</i> is one of the pillars of DDD together with <i>strategic design</i> and <i>tactical design</i>.</p></td>
	<td>Refer to <a href="#domain.definition">domain</a>
	</td>
</tr>

<tr>
	<td>5</td>
	<td>In domain-driven design, the Domain layer is one of the common layers in an object-oriented multi-layered architecture.</td>
	<td>Refer to <a href="#layered.architecture">A layered architecture</a></td>
</tr>

<tr>
	<td>6</td>
	<td>Domain-driven design recognizes multiple kinds of models:
	<ul>
	<li>An <b>entity</b> is an object defined not by its attributes, but its identity.</li>
	<li>A <b>value object</b> is an immutable object that contains attributes but has no conceptual identity.</li>
	</ul>
	</td>
	<td>Refer to <a href="#object.classification">Object classification</a></td>
</tr>

<tr>
	<td>7</td>
	<td>Models can also define <i>events</i> (something that happened in the past). A domain event is an event that domain experts care about.  Models can be bound together by a root entity to become an aggregate. Objects outside the aggregate are allowed to hold references to the root but not to any other object of the aggregate. The aggregate root checks the consistency of changes in the aggregate. Drivers do not have to individually control each wheel of a car, for instance: they simply drive the car. In this context, a car is an aggregate of several other objects (the engine, the brakes, the headlights, etc.).</td>
	<td>Refer to <a href="#domain.events">Domain events</a>
	</td>
</tr>

<tr>
	<td>8</td>
	<td>In domain-driven design, an object&#39;s creation is often separated from the object itself.
	<ul>
	<li>A <a href="https://en.wikipedia.org/wiki/Information_repository">repository</a>, for instance, is an object with methods for retrieving domain objects from a data store (e.g. a database).</li>
	<li>A <a href="https://en.wikipedia.org/wiki/Factory_(object-oriented_programming)">factory</a> is an object with methods for directly creating domain objects.</li>
	<li>When part of a program&#39;s functionality does not conceptually belong to any object, it is typically expressed as a <a href="https://en.wikipedia.org/wiki/Service_(systems_architecture)">service</a>.</li>
	</ul></td>
	<td>Refer to <a href="#ignore.repositories">Repositories</a>
	</td>
</tr>

<tr>
	<td>9</td>
	<td>A bounded context is analogous to a <a href="https://en.wikipedia.org/wiki/Microservices">microservice</a>. In software engineering, a microservice architecture is an architectural pattern that arranges an application as a collection of loosely coupled, fine-grained services, communicating through lightweight protocols. One of its goals is to enable teams to develop and deploy their services independently. This is achieved by creating components which exhibit <a href="https://en.wikipedia.org/wiki/Loose_coupling">loose coupling</a> instead of <a href="https://en.wikipedia.org/wiki/Coupling_(computer_programming)#Disadvantages_of_tight_coupling">tight coupling</a>.</td>
	<td>Refer to <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#coupling">Coupling</a>
	</td>
</tr>

<tr>
	<td>10</td>
	<td>Although domain-driven design is not inherently tied to object-oriented approaches, in practice, it exploits the advantages of such techniques. These include entities/aggregate roots as receivers of commands/method invocations, the encapsulation of state within foremost aggregate roots, and on a higher architectural level, bounded contexts.
<p>As a result, domain-driven design is often associated with <a href="https://en.wikipedia.org/wiki/Plain_old_Java_object">Plain Old Java Objects</a> and <a href="https://en.wikipedia.org/wiki/Plain_old_CLR_object">Plain Old CLR Objects</a>, which are technically technical implementation details, specific to Java and the .NET Framework respectively. These terms reflect a growing view that domain objects should be defined purely by the business behavior of the domain, rather than by a more specific technology framework.</p>
<p>Similarly, the <a href="https://en.wikipedia.org/wiki/Naked_objects">naked objects</a> pattern holds that the user interface can simply be a reflection of a good enough domain model. Requiring the user interface to be a direct reflection of the domain model will force the design of a better domain model.</p>
  </td>
	<td>Refer to <a href="#one.class.per.table">A separate class for each table</a>
	</td>
</tr>

<tr>
	<td>11</td>
	<td>While domain-driven design is compatible with <a href="https://en.wikipedia.org/wiki/Model-driven_engineering">model-driven engineering</a> and <a href="https://en.wikipedia.org/wiki/Model-driven_architecture">model-driven architecture</a>, the intent behind the two concepts is different. Model-driven architecture is more concerned with translating a model into code for different technology platforms than defining better domain models.
<p>However, the techniques provided by model-driven engineering (to model domains, to create domain-specific languages to facilitate the communication between domain experts and developers,...) facilitate domain-driven design in practice and help practitioners get more out of their models. Thanks to model-driven engineering&#39;s model transformation and code generation techniques, the domain model can be used to generate the actual software system that will manage it.</p></td>
	<td>Refer to <a href="#standard.design.process">A standard design process</a></td>
</tr>

<tr>
	<td>12</td>
	<td><a href="https://en.wikipedia.org/wiki/Command_Query_Responsibility_Segregation">Command Query Responsibility Segregation (CQRS)</a> is an architectural pattern for separating reading data (a &#39;query&#39;) from writing to data (a &#39;command&#39;).
<p>Commands mutate state and are approximately equivalent to method invocation on aggregate roots or entities. Queries read state but do not mutate it.</p>
<p>While CQRS does not require domain-driven design, it makes the distinction between commands and queries explicit with the concept of an aggregate root. The idea is that a given aggregate root has a method that corresponds to a command and a command handler invokes the method on the aggregate root.</p>
<p>The aggregate root is responsible for performing the logic of the operation and either yielding a failure response or just mutating its own state that can be written to a data store. The command handler pulls in infrastructure concerns related to saving the aggregate root&#39;s state and creating needed contexts (e.g., transactions).</p></td>
	<td>Refer to <a href="#ignore.cqrs">CQRS</a></td>
</tr>

<tr>
	<td>13</td>
	<td>Event sourcing is an architectural pattern in which entities track their internal state not by means of direct serialization or object-relational mapping, but by reading and committing events to an <a href="https://en.wikipedia.org/wiki/Event_store">event store</a>.
<p>When event sourcing is combined with <a href="https://en.wikipedia.org/wiki/Command_Query_Responsibility_Segregation">CQRS</a> and domain-driven design, aggregate roots are responsible for validating and applying commands (often by having their instance methods invoked from a Command Handler), and then publishing events. This is also the foundation upon which the aggregate roots base their logic for dealing with method invocations. Hence, the input is a command and the output is one or many events which are saved to an event store, and then often published on a message broker for those interested (such as an application&#39;s view).</p>
<p>Modeling aggregate roots to output events can isolate internal state even further than when projecting read-data from entities, as in standard n-tier data-passing architectures. One significant benefit is that axiomatic theorem provers are easier to apply, as the aggregate root comprehensively hides its internal state. Events are often persisted based on the version of the aggregate root instance, which yields a domain model that synchronizes in distributed systems through <a href="https://en.wikipedia.org/wiki/Optimistic_concurrency_control">optimistic concurrency</a>.</p></td>
	<td>Refer to <a href="https://www.tonymarston.net/php-mysql/object-relational-mappers-are-evil.html">Object Relational Mappers</a>
	</td>
</tr>
</tbody></table>

<p>Although domain-driven design does not depend on any particular tool or framework, there are various open source frameworks available which can help design the data model and possibly offer code generation abilities. <a href="https://radicore.org">RADICORE</a> is an open source framework specifically designed to help build and then run web-based database applications for the enterprise which are also known as <a href="https://en.wikipedia.org/wiki/Enterprise_software">Enterprise Applications</a>.</p>

<hr/>
<h3><a name="definitions">DDD Definitions</a></h3>

<dl>
<dt><a name="domain.definition">domain</a></dt>
<dd>A sphere of knowledge, influence, or activity. The subject area to which the user applies a program is the domain of the software.
<p>A more detailed definition can be found on <a href="https://en.wikipedia.org/wiki/Domain_(software_engineering)">this wikipedia page</a>.</p>
<p>In a large system which is comprised of a number of small subsystems, is the system a single domain, or is each subsystem a separate domain?</p>
</dd>

<dt><a name="model.definition">model</a></dt>
<dd>A system of abstractions that describes selected aspects of a domain and can be used to solve problems related to that domain.</dd>

<dt><a name="ubiquitous-language.definition">ubiquitous language</a></dt>
<dd>A language structured around the domain model and used by all team members within a bounded context to connect all the activities of the team with the software.
<p>If each <a href="#bounded-context.definition">bounded context</a> is a separate subsystem it means that the users of each subsystem may use terminology or jargon which is unknown to users of other subsystems. While this may be important in the design phase to help ensure that it meets the requirements of its users it should have no effect on the implementation as software engineers have their own jargon.</p>
</dd>

<dt><a name="context.definition">context</a></dt>
<dd>The setting in which a word or statement appears that determines its meaning. <i>Statements about a model can only be understood in a context</i>.</dd>

<dt><a name="bounded-context.definition">bounded context</a></dt>
<dd>A description of a boundary (typically a <a href="#subsystems">subsystem</a>, or the work of a particular team) within which a particular model is defined and applicable.
<p>According to the <a href="https://en.wikipedia.org/wiki/Domain-driven_design#Relationship_to_other_ideas">wikipedia page </a>a bounded context is analogous to a <a href="#microservice.definition">microservice</a>.</p>
</dd>

<dt><a name="microservice.definition">microservice</a></dt>
<dd>A <a href="https://en.wikipedia.org/wiki/Microservices">microservice</a> is defined as follows:
<blockquote>
In software engineering, a microservice architecture is an architectural pattern that arranges an application as a collection of loosely coupled, fine-grained services, communicating through lightweight protocols. One of its goals is to enable teams to develop and deploy their services independently. This is achieved by reducing several dependencies in the codebase, allowing developers to evolve their services with limited restrictions, and hiding additional complexity from users. Consequently, organizations can develop software with rapid growth and scalability, as well as use off-the-shelf services more easily.
<p>Services in a microservice architecture are often processes that communicate over a network to fulfill a goal using technology-agnostic protocols such as HTTP.</p>
<p>A microservice is not a layer within a monolithic application (for example, the web controller or the backend-for-frontend). Rather, it is a self-contained piece of business functionality with clear interfaces, and may, through its own internal components, implement a layered architecture.</p>
</blockquote>
</dd>

<dt><a name="abstraction.definition">abstraction</a></dt>
<dd>Abstraction is the act of separating the abstract from the concrete, the similar from the different.
<p>As explained in <a href="http://www.laputan.org/drc/drc.html">Designing Reusable Classes</a> this leads to a style of programming known as <i>programming-by-difference</i> in which you define the <i>similar</i> in some sort of reusable module and the <i>different</i> in a unique module which has some sort of communication with the <i>similar</i> module. For example, if you have several <a href="#entity.definition">entities</a> which share the same protocols (methods) you can define those methods in an abstract class which can then be inherited by every concrete class.</p>
<p>This topic is explained in more detail in <a href="https://www.tonymarston.net/php-mysql/abstraction.html">The meaning of &#34;abstraction&#34;</a>.</p>
</dd>

</dl> <!-- end list -->

<hr/>
<h2><a name="standard.design.process">A standard design process</a></h2>

<p>While working for various software houses where our job was to design and build bespoke systems for our clients I became very familiar with the steps needed to convert a set of requirements into a working system. Regardless of the business area involved - order processing, invoicing, stock control, shipments, timesheets, etc - these steps were always the same.</p>

<ul>
<li><a name="gather.requirements"></a><b>Gather Requirements</b> - This is always the trickiest part as some clients have only a vague idea of what they want and may assume that what they want is quite common and can be satisfied with standard software. It is only when you show them a system written for a different organisation that they can say &#34;We don&#39;t do it like <i>that</i>, we do it like <i>this</i>&#34;. They are often quite surprised at the level of detail which is required, but they have to understand that we, as software builders, can only write software that does what we were asked to make it do. If we are asked to build a system that does A, B and C and that is what we deliver, then when somebody complains that it doesn&#39;t do X, Y and Z our only response can be &#34;X, Y and Z were not on the list of requirements&#34;. This is why the <a href="https://en.wikipedia.org/wiki/Software_requirements_specification">Software Requirements Specification (SRS)</a> or Specification of Requirements (SOR) as supplied by the client has to be reworked in order to flesh out the outline requirements with those ever-so-important little details. It is quite common for the SOR to highlight only the common/usual scenarios and either gloss over, or omit entirely, the uncommon/unusual scenarios or <a href="https://en.wikipedia.org/wiki/Edge_case">edge cases</a>. If the designers are not told about these then how can they possibly provide a system that deals with them?
</li>

<li><a name="analyse.requirements"></a><b>Analyse Requirements</b> - This means going through all the requirements one by one to ensure that the terminology used by the client is understood by the designer(s), that anything assumed by the customer is stated explicitly. This sometimes means asking probing questions to ensure that not only are the normal situations covered, but also the exceptions. The number of different events is also important, as is their complexity and frequency.
</li>

<li><a name="logical.design"></a><b>Logical Design</b> - This may only exist on paper as a <a href="https://en.wikipedia.org/wiki/Website_wireframe">wireframe</a> or a <a href="https://en.wikipedia.org/wiki/Paper_prototyping">paper prototype</a> which gives some indication of what the eventual system will look like and how it will operate. Better than that would be a <a href="https://en.wikipedia.org/wiki/Software_prototyping">software prototype</a> which can act as a visual aid which provides a better level of interactivity, but which does not process any business rules. It can be constructed and modified very quickly using a prototyping tool, but it cannot be extended to produce the final system. It also helps to identify the logical database design, which can be expressed in an <a href="https://www.tonymarston.net/php-mysql/database-design.html#erd">Entity Relationship Diagram (ERD)</a>, and all the inputs and outputs to deal with that data. It is also essential to ensure that the design of the database is properly <a href="https://www.tonymarston.net/php-mysql/database-design.html#normalisation">normalised</a> in order to identify where a single conceptual &#34;object&#34; will actually require a group of tables in a hierarchy of relationships. Each of these tables should be regarded as a separate entity with its own structure and its own rules, and each parent-child relationship should be handled separately. The client is given a walk-through of this Logical Design in order to verify that it meets all his requirements.
</li>

<li><a name="gather-analyse-design"></a>The <b>Gather-Analyse-Design</b> cycle is usually an iterative process which is repeated several times until the client is sure that they have stated everything they require, that the designer(s) have fully understood each of those requirements, and that the logical design identifies to the client how those requirements will be met. It is very important that the users of the system play a part in this process. If only their managers identify the requirements they may only give a vague idea of the common situations and gloss over the exceptions. This is where the managers ask for a system that does A, B and C whereas the users want a system that does X, Y and Z. If the users who actually perform the day-to-day tasks are not given a system that helps them deal adequately with the exceptions as well as the normal then they may regard the system as being unusable and fight against its adoption.
<p>One the design has been signed off by the customer, meaning that they are satisfied that it will meet their requirements, the designers can produce an implementation schedule which shows the projected start and end dates for each piece of work. Resources for each piece can also be identified and costed. As each piece of work is completed, the actual dates can be compared with the planned dates to see if the project is on schedule, ahead of schedule or, more often than not, behind schedule.</p>
</li>

<li><a name="physical.design"></a><b>Physical Design</b> - This can only be produced after the logical design has been signed off by the client. It identifies what hardware will be needed, what software tools will be needed (such as the DBMS, programming language, framework and libraries), what programming resources will be needed, in what order the software components will be built, and the Test Plan. This is also the stage at which detailed program specifications can be written so the the programmers know precisely what they are supposed to build. The logical database design is then turned into a physical database using the chosen DBMS.</li>

<li><a name="implementation"></a><b>Implementation</b> - This is where the program specifications are turned into working code so that they can be assembled into the final product. The chosen framework may provide a certain number of reusable components, so the more it provides the less will have to be developed separately. This is where the classes and their methods which will exist in the Business layer are built, the business rules are coded, and the individual events/tasks are built and tested. Testing usually has several phases:
	<ul>
	<li>Unit Testing - where the analyst who wrote the program specification checks that what the developer wrote matches the specification.</li>
	<li>Integration Testing - where multiple parts of a system are tested as a group.</li>
	<li><a href="https://en.wikipedia.org/wiki/Acceptance_testing#User_acceptance_testing">User Acceptance Testing (UAT)</a> - where the users verify that the system meets their needs.</li>
	</ul>
</li>
</ul>

<p>The <a href="#gather-analyse-design">gather-analyse-design</a> cycle is undertaken without reference to what structure the software will finally take as that is nothing more than an implementation detail. It is vitally important that the designer(s) know <i>what</i> needs to be done before they start defining <i>how</i> it can or will be done. The design of the database is far more important than the design of the software, or, as Eric S. Raymond wrote in his book <a href="https://en.wikipedia.org/wiki/The_Cathedral_and_the_Bazaar">The Cathedral and the Bazaar</a>:</p>

<blockquote>
Smart data structures and dumb code works a lot better than the other way around.
</blockquote>

<p>The objective of the <a href="#gather-analyse-design">gather-analyse-design</a> cycle is to avoid the situation depicted in the following cartoon:</p>



<p>This is why it is vitally important that the customer provides detailed and exact descriptions of their needs. Anything which is assumed or implied must be converted into an exact, precise and unambiguous statement so that if an issue arises as a later date it can be traced backwards through UAT, the design phase, all the way up to the SRS/SOR.</p>

<p>Those developers who are taught OO theory before they have any experience in working with databases can very easily fall into the trap of assuming these OO theories were carved in stone by some god-like beings and brought down from the mountain top. I have examined lots of these theories, and I can see very little evidence that the authors have ever worked on an enterprise application with large numbers of database tables and input/output screens, so I take everything they say with a pinch of salt (and sometimes a bucket of disinfectant and a scrubbing brush). Refer to <a href="#advice.which.i.ignore">Advice which I ignore</a> for details.</p>

<hr/>
<h2><a name="my.personal.approach">Features of my personal approach</a></h2>

<p>I have been designing and building enterprise applications for four decades, with the last two being dedicated to web-based enterprise applications using an object oriented language, and I do not follow the &#34;advice&#34; given in <a href="https://en.wikipedia.org/wiki/Domain-driven_design">Domain Driven Design</a>. I say &#34;advice&#34; because I cannot accept them as &#34;rules which must be obeyed&#34;.</p>

<hr/>
<h3><a name="layered.architecture">A layered architecture</a></h3>

<p>When I started programming with COBOL it was standard practice to use the monolithic <a href="https://www.tonymarston.net/php-mysql/3-tier-architecture.html#1-tier">1-Tier architecture</a>, then when I switched to UNIFACE I was exposed to first the <a href="https://www.tonymarston.net/php-mysql/3-tier-architecture.html#2-tier">2-Tier</a> and then the <a href="https://www.tonymarston.net/php-mysql/3-tier-architecture.html#3-tier">3-Tier Architecture</a> which has the following layers:</p>

<ul>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#presentation.layer">Presentation layer</a> - User Interface, displaying data to the user, accepting input from the user</li>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#business.layer">Business layer</a> - Business Rules, handles data validation and task-specific behaviour</li>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#data.access.layer">Data Access layer</a> -  Database Communication, constructing SQL queries and executing them via the relevant API</li>
</ul>

<p>When I switched to PHP I decided to keep using the 3-Tier Architecture, but because I separated out the construction of all HTML documents into a separate component in the Presentation layer I discovered that I had also implemented the <a href="https://www.tonymarston.net/php-mysql/model-view-controller.html">Model-View-Controller (MVC)</a> design pattern, but this was by accident, not by design (pun intended). This has the following components:</p>

<ul>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller">Controller</a> - receives requests and converts them into calls on one or more Models, after which it calls the View</li>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#model">Model</a> - handles the validation and business rules for each entity within the application</li>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#view">View</a> - converts data from the Model into the format required by the user (HTML, CSV or PDF)</li>
</ul>

<p>The combined architecture is shown in <a href="#figure1">Figure 1</a> below:</p>



<hr/>
<h3><a name="object.classification">Object classification</a></h3>

<p>Objects in the RADICORE framework fall into one of the following categories:</p>

<ul>
<li><a name="entity.definition"></a><b>Entities</b> (also known as <b>Domain Objects</b>)
<p>An Entity&#39;s job is also mainly holding state and associated behavior. Examples of Entities could be Account or User. In a database application each table is a separate entity in the database, with its own business rules, so its methods and properties should be encapsulated in its own class. That class will typically have several public methods which allow the state to be loaded, updated and queried.</p>
<p>Entities will exist as objects in the Business layer shown in <a href="#figure1">Figure 1</a> above.</p>
</li>

<li><a name="service.definition"></a><b>Services</b>
<p>A Service performs an operation. It encapsulates an activity but has no encapsulated state (that is, it is stateless). It usually performs its operation on data obtained from an entity. Examples of Services could include a parser, an authenticator, a validator and a transformer. The class for a service will typically have a single public method so that it will produce a single output from a single input.</p>
<p>Services will exist as objects in the Presentation and Data Access layers shown in <a href="#figure1">Figure 1</a> above, but there may also be some in the Business layer.</p>
</li>
</ul>

<p>While <b>Value Objects</b> may exist in other languages they do not exist in PHP. Instead all <a href="https://en.wikipedia.org/wiki/Variable_(computer_science)">variables/properties</a> are held as <a href="https://en.wikipedia.org/wiki/Primitive_data_type">primitive data types</a> (aka <a href="https://en.wikipedia.org/wiki/Scalar_processor#Scalar_data_type">scalars</a>).</p>

<p>The components in the RADICORE framework fall into the following categories:</p>

<ul>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#model">Models</a> are <b>Entities</b>, with a separate class for each table in the application database</li>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#view">Views</a> are <b>Services</b>, with a separate component for HTML, PDF and CSV output.</li>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller">Controllers</a> are <b>Services</b>, with a separate component for each <a href="https://www.tonymarston.net/php-mysql/dialog-types.html">Transaction Pattern</a>.</li>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#dml.class">Data Access Objects (DAO)</a> are <b>Services</b>, with a separate class for each supported DBMS engine (MySQL, PostgreSQL, Oracle and SQL Server).</li>
</ul>

<p>It should also be noted that:</p>

<ul>
<li><b>Services</b> are supplied within the framework and do not have to be created or modified by the developer. Services are also application-agnostic in that they do not contain any knowledge of any part of any application, they do not contain any business rules.</li>

<li><b>Entities</b> are generated by the application developer, one for each database table, using functions within the <a href="https://www.tonymarston.net/php-mysql/data-dictionary.html">Data Dictionary</a>, and are the only components which contain information regarding the application. Each <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#table.class">concrete table class</a> inherits standard code from an <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#generic.table.class">abstract table class</a>, table metadata from a <a href="https://www.tonymarston.net/php-mysql/data-dictionary.html#table.dict.inc">table structure file</a>, but uses <a href="https://www.tonymarston.net/php-mysql/radicore-hooks.html">&#34;hook&#34; methods</a> to define application-specific business rules.</li>
</ul>

<hr/>
<h3><a name="one.class.per.table">A separate class for each table</a></h3>

<p>When I started to use PHP with its OO capabilities it was obvious to me that I would need to use a <a href="#layered.architecture">layered architecture</a> and that I would need a separate class/object in the Business layer for every entity that was of interest to the business. By the time the <a href="#implementation">implementation</a> stage is reached all these entities have been identified as tables in the database. This is why I create a separate class for each table. This simple practice leads to the following:</p>

<ul>
<li>Each table is subject to exactly the same <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> operations in the database, so these can be converted into a set of methods which can be implemented in every table class.</li>
<li>These common methods/operations/protocols can then be defined in an <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#generic.table.class">abstract table class</a> so that they can be shared by every concrete class using <a href="#inheritance">inheritance</a>.</li>
<li>The use of an abstract class enables the use of the <a href="https://en.wikipedia.org/wiki/Template_method_pattern">Template Method Pattern</a> which allows the abstract class to contain the fixed/invariant methods while each <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#table.class">concrete subclass</a> can interrupt the processing with custom code in any of the <a href="https://www.tonymarston.net/php-mysql/radicore-hooks.html">&#34;hook&#34; methods</a>.</li>
<li>The fact that each table (Model) class shares the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">same set of methods</a> it means that any <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller.script">Controller</a> which calls those methods can work with any Model.</li>
<li>As each table class follows a <a href="#class.constructor">standard template</a> it is then possible to have them generated by the framework instead of having to be created manually.</li>
</ul>

<p>Note that while some programmers regard <a href="#ignore.aggregates">aggregates</a> or <a href="#ignore.compositions">compositions</a>, which deal with several tables in a hierarchy, as being a single entity and therefore requiring its own class, I do not. I regard a single object being responsible for more than one table as being a violation of the <a href="https://www.tonymarston.net/php-mysql/not-so-solid-oo-principles.html#srp">Single Responsibility Principle (SRP)</a>.</p>

<hr/>
<h3><a name="subsystems">A system of subsystems</a></h3>

<p>A large system, such as an <a href="https://en.wikipedia.org/wiki/Enterprise_resource_planning">Enterprise Resource Planning (ERP)</a> system is often comprised of a number of interconnected subsystems. If they are built using the same framework or toolset then a user will be able to move through one subsystem to another without noticing the difference.</p>

<p>The RADICORE framework itself is comprised of four subsystems:</p>

<a name="multiple.domains"></a>
<ol>
<li><a href="https://www.tonymarston.net/php-mysql/role-based-access-control.html">Role Based Access Control</a> - users, events/tasks, permissions, menus.</li>
<li><a href="https://www.tonymarston.net/php-mysql/auditlog.html">Audit</a> - logs all database changes.</li>
<li><a href="https://www.tonymarston.net/php-mysql/workflow.html">Workflow</a> - activity based workflows.</li>
<li><a href="https://www.tonymarston.net/php-mysql/data-dictionary.html">Data Dictionary</a> - class generation and task generation.</li>
</ol>

<p>Each subsystem has its own database, its own directory in the file system for all its files, and its own entries in the <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html">MENU database</a>.</p>

<p>A single logon screen gives access to all these subsystems which makes them appear as one unified system.</p>

<a name="application.subsystems"></a>
<p>Additional application subsystems can be developed as add-ins whenever the need arises. For example, the <a href="https://geoprise.com/content/gm-x-application-suite">GM-X Application Suite</a> contains the following subsystems:</p>

<ol start="5">
<li><a href="https://geoprise.com/content/gm-x-party-subsystem">Party</a> - people and organisations, customers and suppliers.</li>
<li><a href="https://geoprise.com/content/gm-x-product-subsystem">Product</a> - products, components, features, prices.</li>
<li><a href="https://geoprise.com/content/gm-x-order-subsystem">Order</a> - sales orders, purchase orders, transfer orders.</li>
<li><a href="https://geoprise.com/content/gm-x-invoice-subsystem">Invoice</a> - sales invoices, purchase invoices, debit notes and credit notes.</li>
<li><a href="https://geoprise.com/content/gm-x-inventory-subsystem">Inventory</a> - products in inventory, issuances, receipts, facilities, containers, lots.</li>
<li><a href="https://geoprise.com/content/gm-x-shipment-subsystem">Shipment</a> - outbound shipments, inbound shipments, customer shipments, supplier shipments.</li>
<li><a href="https://geoprise.com/content/gm-x-request-subsystem">Request</a> - requirements, requests and quotations.</li>
<li><a href="https://geoprise.com/content/gm-x-survey-subsystem">Survey</a> - surveys and questionnaires.</li>
<li><a href="https://geoprise.com/content/gm-x-content-subsystem">Content</a> - miscellaneous content.</li>
<li><a href="https://geoprise.com/content/gm-x-work-effort-subsystem">Work Effort</a> - timesheets and expenses.</li>
<li><a href="https://geoprise.com/content/gm-x-alert-subsystem">Alert</a> - document management and entity-based workflow</li>
<li><a href="https://geoprise.com/content/gm-x-blockchain">Blockchain</a> - administers the exchange of data with cooperating organisations.</li>
<li><a href="https://geoprise.com/content/gm-x-strategic-hr-subsystem">Personnel</a> - strategic HR, performance reviews.</li>
<li><a href="https://geoprise.com/content/gm-x-project-subsystem">Project</a> - project management</li>
<li>Finance - <a href="https://geoprise.com/content/gm-x-general-ledger-subsystem">general ledger</a></li>
<li>Finance - <a href="https://geoprise.com/content/gm-x-accounts-receivable-subsystem">accounts receivable</a></li>
<li>Finance - <a href="https://geoprise.com/content/gm-x-accounts-payable-subsystem">accounts payable</a></li>
<li>Finance - <a href="https://geoprise.com/content/gm-x-fixed-assets-subsystem">fixed assets</a></li>
</ol>

<p>Each of theses subsystems is optional so that client organisations need only pay licence fees for those subsystems they actually need. They are also customisable as the RADICORE framework has built-in facilities which allow different screen and report layouts to be supplied at runtime, and even different versions of the business logic for individual table classes.</p>

<hr/>
<h3><a name="what.is.a.domain">What is a &#34;domain&#34;?</a></h3>

<p>If the definition of a <a href="#domain.definition">domain</a> is <q>A sphere of knowledge and activity around which the application logic revolves</q> does it mean that in a large system which is comprised of a collection of <a href="#subsystems">smaller subsystems</a> that the system is the domain, or is each subsystem a separate domain? If each subsystem is a separate domain then this would imply that each would require its own separate and unique design process. In this I would have to disagree. While each of the <a href="#subsystems">subsystems</a> mentioned previously has its <a href="#domain.differences">differences</a> there are also a large number of <a href="#domain.similarities">similarities</a>.</p>

<h4><a name="domain.differences">Domains - the differences</a></h4>

<p>When a novice looks at the requirements for different subsystems/domains he/she should immediately notice that there are significant differences, such as the following:</p>

<ul>
<li>Each has its own database with its own set of tables and columns.</li>
<li>Each has its own set of inputs.</li>
<li>Each has its own set of outputs.</li>
<li>Each has its own set of business rules.</li>
<li>Each has its own set of user transactions (use cases).</li>
</ul>

<h4><a name="domain.similarities">Domains - the similarities</a></h4>

<p>While those differences appear to be significant an experienced developer will be be able to spot areas in the eventual implementation which are similar enough to be satisfied by reusable modules. Among these similarities are the following:</p>

<ul>
<li>Each table in the database, being an <a href="#entity.definition">entity</a>, will require its own class/object in the <a href="#layered.architecture">Business layer</a>. While each table has its <a href="#entity.differences">differences</a>, there are a number of <a href="#entity.similarities">similarities</a>.</li>
<li>Regardless of the different structure of each table the rules for <a href="#sql.similarities">generating SQL queries</a> are exactly the same.</li>
<li>Regardless of the <a href="#html.differences">different data</a> which may be displayed on an HTML form there are a significant number of <a href="#html.similarities">similarities</a>.</li>
<li>Each table in the database will have its own set of business and validation rules, some of which will be <a href="#validation.similarities">similar</a> while others will be <a href="#validation.differences">different</a>.</li>
<li>Each table in the database will have its own collection user transactions (use cases) to handle the different operations which can be performed on it, but while each will have its own unique <a href="#transaction.differences">differences</a> there will be some <a href="#transaction.similarities">similarities</a>.</li>
</ul>

<p>There are also some similarities which are common to each domain which can be supplied from a single central source, commonly known as a <a href="https://www.tonymarston.net/php-mysql/what-is-a-framework.html">framework</a>, such as:</p>

<ul>
<li>A <a href="https://www.tonymarston.net/php-mysql/menuguide/mnu_logon.html">LOGON</a> screen through which all users must pass before they can access the system.</li>
<li>A central system of <a href="https://www.tonymarston.net/php-mysql/menuguide/appendixa.html">MENUS</a> which informs the user what actions are available to him/her.</li>
<li>A central system of identifying which actions are <a href="https://www.tonymarston.net/php-mysql/menuguide/appendixb.html">available</a> to which user.</li>
<li>A central system of <a href="https://www.tonymarston.net/php-mysql/auditlog.html">logging</a> and viewing all database changes.</li>
<li>A central activity-based <a href="https://www.tonymarston.net/php-mysql/workflow.html">Workflow</a> system.</li>
</ul>

<hr/>
<h3><a name="domain.events">Domain events</a></h3>

<p>An event is something that happened which caused an entity to change its state. An event is triggered by a user by activating a task (<b>user transaction</b> or<b> use case</b>) which changes the state of one or more entities.</p>

<p>Eric Evan&#39;s article <a href="https://www.domainlanguage.com/wp-content/uploads/2016/05/DDD_Reference_2015-03.pdf">Domain-Driven Design
Reference</a> has this to say on the subject:</p>

<blockquote>
An entity is responsible for tracking its state and the rules regulating its lifecycle. But if you need to know the actual causes of the state changes, this is typically not explicit, and it may be difficult to explain how the system got the way it is. Audit trails can allow tracing, but are not usually suited to being used for the logic of the program itself.
</blockquote>

<p>The RADICORE framework deals with this &#34;requirement&#34; in the following ways:</p>

<ul>
<li>Every database update is logged to the standard <a href="https://www.tonymarston.net/php-mysql/auditlog.html">AUDIT</a> database which has a standard set of viewing screens.</li>
<li>Every database table that I design contains the columns <b>created_date</b>, <b>created_user</b>, <b>revised_date</b> and <b>revised_user</b> which are set automatically by the framework.</li>
<li>In the case of an aggregate, such as an Order or an Invoice, which is actually comprised of several database tables in a hierarchy, significant changes in state result in a change to that object&#39;s <b>status</b> column, which is maintained on the table which is the aggregate root. Changes to this value are also recorded in a separate &lt;root&gt;_STATUS_HISTORY table so that it can easily be determined who changed the status and when. </li>
</ul>

<p>Note also that there may be business rules which identify which status changes are valid and which are not, or that certain status changes can only be performed by users with the appropriate level of security (which are known as <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html#role">ROLES</a> in the framework).</p>

<hr/>
<h3><a name="class.names">Class names</a></h3>

<p>My standard practice is to create a separate Model class for each entity in the <a href="#layered.architecture">Business/Domain layer</a>, which equates to a separate class for each table in the database. I do not play around with <a href="#ignore.aggregates">object aggregations</a> or <a href="#ignore.compositions">object compositions</a>.</p>

<p>Once the logical design has been completed and the database has been designed, with all its tables and columns, I then proceed to use my <a href="https://www.tonymarston.net/php-mysql/data-dictionary.html">Data Dictionary </a>to build the subsystem&#39;s class files to mirror the database structure. I <a href="https://www.tonymarston.net/php-mysql/menuguide/dict_table(add4)import.html">import</a> each table&#39;s structure into the Data Dictionary, adjust the details if necessary, then <a href="https://www.tonymarston.net/php-mysql/menuguide/dict_table(upd4)export.html">export</a> them into the file system. This function will produce the following files in the <b>&lt;document_root&gt;/&lt;subsystem&gt;/classes</b> directory:</p>

<ul>
<li><a href="https://www.tonymarston.net/php-mysql/data-dictionary.html#table.class.inc">&lt;tablename&gt;.class.inc</a> - the class file, which inherits all its <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">standard methods</a> from the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#generic.table.class">abstract table class</a>.</li>
<li><a href="https://www.tonymarston.net/php-mysql/data-dictionary.html#table.dict.inc">&lt;tablename&gt;.dict.inc</a> - the table&#39;s structure file, whose details are loaded into the table&#39;s <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.properties">standard properties</a> when the class is instantiated into an object.</li>
</ul>

<p>This technique makes it very easy, should the need arise, to change the structure of a table, then redo the import/export process to recreate the <b>&lt;tablename&gt;.dict.inc</b> file. The <b>&lt;tablename&gt;.class.inc</b> file is never overwritten as it may have been amended to include some <a href="https://www.tonymarston.net/php-mysql/radicore-hooks.html">&#34;hook&#34; methods</a>. Because no table names or columns names are built into any APIs there is no ripple effect by such a change.</p>

<hr/>
<h3><a name="method.names">Method names</a></h3>

<p>This is in contrast to <a href="#ignore.method.names">suggestions which I ignore</a>.</p>

<p>As each entity in the <a href="#layered.architecture">business/domain layer</a> exists in the outside world as a database table, and each table, regardless of its contents, is subject to exactly the same set of <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> operations, it made sense to me to translate each of there operations into equivalent methods which are as follows:</p>

<ul>
<li><a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#insertrecord">$object-&gt;insertRecord($_POST)</a> - add a record to a database table.</li>
<li><a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#getdata">$object-&gt;getData($where)</a> - read records from the database. May return zero or more rows depending on the contents of the <b>$where</b> argument and the contents of the database.</li>
<li><a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#updaterecord">$object-&gt;updateRecord($_POST)</a> - update a record in a database table.</li>
<li><a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#deleterecord">$object-&gt;deleteRecord($_POST)</a> - delete a record from a database table.</li>
</ul>

<p>These are documented in <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">common table methods</a>. Note that for each of these operations the identity of the database table in question will be obtained from the <a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#notes.$tablename">$tablename</a> property within that table&#39;s object.</p>

<p>Because each table class has exactly the same method signatures this provides a significant amount of <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#polymorphism">polymorphism</a> which I can utilise using that mechanism known as <a href="https://www.tonymarston.net/php-mysql/dependency-injection-is-evil.html#where.i.do.use.di">dependency injection</a>. This is why I ignore DDD&#39;s &#34;suggestions&#34; for <a href="#ignore.method.names">method names</a> as they destroy any hope of polymorphism and the reusability which it provides.</p>


<hr/>
<h3><a name="class.variables">Class variables</a></h3>

<p>These are also known as <i>properties</i>, and in a database application there is usually one for each column in the database. It is usual practice to give each of these properties the same name as its column as to do otherwise would lead to confusion.</p>

<p>These properties can be accessed either directly or using getters and setters (also known as <a href="https://en.wikipedia.org/wiki/Mutator_method">accessors and mutators</a>):</p>

<table summary="" widt="100%">
<colgroup>
	<col width="150px"/>
	<col width="300px"/>
	<col width="300px"/>
</colgroup>
<tbody><tr>
	<th>Access</th>
	<th>Directly</th>
	<th>Indirectly</th>
</tr>
<tr>
	<td>Writing</td>
	<td>$object-&gt;foo = &#39;bar&#39;;</td>
	<td>$object-&gt;setFoo(&#39;bar&#39;);</td>
</tr>
<tr>
	<td>Reading</td>
	<td>$foo = $object-&gt;foo;</td>
	<td>$foo = $object-&gt;getFoo();</td>
</tr>
</tbody></table>

<p>Note that is also possible to specify these properties as arguments on a method/function call.</p>

<p>For reasons explained in <a href="#ignore.getters.setters">Getters and Setters</a> I do not have a separate property for each column as that produces <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#tight.coupling">tight coupling</a>. I prefer to pass all column data around as a single <a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#notes.$fieldarray">$fieldarray</a> argument as that produces <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#loose.coupling">loose coupling</a> which in turn produces components which are more reusable.</p>

<hr/>
<h3><a name="inheritance">Inheritance</a></h3>

<p><a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#inheritance">Inheritance</a> is a method of sharing code whereby a subclass can share the methods and properties of a superclass. The subclass may override (modify) any of the inherited methods, it may add new methods of its own, but it cannot remove or &#34;un-inherit&#34; any of those methods. A superclass may be inherited by any number of subclasses.</p>

<p>While building a small <a href="https://www.tonymarston.net/php-mysql/sample-application.html">sample application</a> as a prototype before building the RADICORE framework I had decided to create a separate class for each database table. After creating another class for a second table I noticed a great deal of duplicated code, so I decided to move this code to an <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#generic.table.class">abstract table class</a> so that it could be inherited by every <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#table.class">concrete table class</a>. I ended up with lots of code in the abstract class, namely a set of <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">common table methods</a> and a set of <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.properties">common table properties</a>, and nothing in each concrete class except for the <a href="#class.constructor">constructor</a>. Notice that unlike some developers who employ separate methods such as <code>load()</code>, <code>validate()</code> and <code>store()</code> I learned back in by COBOL days that when a group of functions always had to be called in a specific sequence that it was more efficient to put that group into separate function which could act as a <a href="https://en.wikipedia.org/wiki/Wrapper_function">wrapper</a>, thus replacing several functions calls with a single call.</p>

<p>While the abstract class could provide all the standard code required by each concrete class, even the <a href="https://www.tonymarston.net/php-mysql/infrastructure-faq.html#faq12">primary validation</a>, it quickly became obvious that I sometimes needed to inject some non-standard code into the processing sequence for certain user transactions. My knowledge of inheritance told me that I could add some calls to some dummy methods within the existing wrapper methods in the abstract class which I could then override in any concrete subclass. These dummy methods were defined in the abstract class but did nothing, but if they were redefined in a subclass then they could be programmed to do whatever was necessary in that subclass. I discovered later that I had actually implemented the <a href="https://en.wikipedia.org/wiki/Template_method_pattern">Template Method Pattern</a> and that my dummy methods were called <a href="https://www.tonymarston.net/php-mysql/radicore-hooks.html">&#34;hook&#34; methods.</a></p>

<p>When I was later informed that I should be using <a href="https://en.wikipedia.org/wiki/Composition_over_inheritance">composition instead of inheritance</a> I thought it was a joke as nobody could explain why inheritance was bad and why &#34;object composition&#34;, whatever it was, was supposed to be better. Nobody could supply me with any examples which demonstrated that what I had achieved with inheritance could be better achieved with &#34;object composition&#34;. I later discovered that the so-called &#34;problems&#34; with inheritance were caused by inheriting from one concrete class to create a different concrete class which meant that some of the inherited methods could be completely inappropriate for the subclass. As I never encountered any of these &#34;problems&#34; I saw no reason to stop using inheritance. I later read in the <a href="https://en.wikipedia.org/wiki/Design_Patterns">Gang of Four (GoF)</a> book on design patterns that the recommended way to avoid problems was to only ever inherit from an abstract class. This meant that what I had been doing all along was correct and that it was everybody else that was wrong.</p>

<p>My principle of creating a separate class for each database table was a step in the right direction as it enabled me to share the common methods and properties by inheriting them from an abstract class. As I now have a single set of methods which are shared by hundreds of subclasses this produces a large amount of <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#polymorphism">polymorphism</a> which I can utilise using <a href="https://www.tonymarston.net/php-mysql/dependency-injection-is-evil.html#where.i.do.use.di">dependency injection</a> in my library of reusable <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller.script">Controller scripts</a>. The abstract class has also enabled me to use the <a href="https://en.wikipedia.org/wiki/Template_method_pattern">Template Method Pattern</a> so that I can easily inject custom code into any table subclass.</p>

<p>As far as I am concerned inheritance has provided me with zero problems and bucket loads of benefits.</p>

<hr/>
<h3><a name="subclassing">Subclassing</a></h3>

<p>It is quite possible that it some circumstances you may wish to perform some processing in a particular <a href="https://www.tonymarston.net/php-mysql/radicore-hooks.html">hook method</a> for a particular task that is totally different from the code used in the same method for a different task. In this situation I use a standard OO technique called <a href="https://en.wikipedia.org/wiki/Inheritance_(object-oriented_programming)#Subclasses_and_superclasses">subclassing</a>. I create a subclass of the table class with a name such as <code>&lt;table&gt;_sNN</code> where &#34;s&#34; denotes a subclass and &#34;NN&#34; is an incrementing number. This automatically inherits all the methods in the superclass but allows me to override any of those methods with a different implementation. Note that the subclass deals with the same table as the superclass, it just provides different business rules for that table. I then change that task&#39;s <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#component.script">component script</a> to point to this subclass. You can see working examples of this in the Data Dictionary subsystem of the framework where you will find the following class files:</p>

<ul>
<li>dict_table.class.inc - for standard processing</li>
<li>dict_table_s01.class.inc - to import table names into the Data Dictionary database.</li>
<li>dict_table_s02.class.inc - to export table data to a PHP script.</li>
<li>dict_table_s03.class.inc - to display list of <a href="https://www.tonymarston.net/php-mysql/dialog-types.html">Transaction Patterns</a>.</li>
<li>dict_table_s04.class.inc - to generate the scripts and update the MENU database for the selected Pattern.</li>
</ul>

<hr/>
<h3><a name="separate.controllers">Separate Controllers for each use case</a></h3>

<p>In my early days as a developer when I was working with <a href="https://www.tonymarston.net/cobol">COBOL</a> it was common practice to create a program called &#34;Maintain XXX&#34; where &#34;XXX&#34; was a particular entity (table) which was of interest to the business. This could handle all the <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> operations which could be performed on that entity, so it needed a mechanism to switch from one operation to another. A typical set of operations was List, Create/Add, Read/Enquire, Update and Delete where each had its own screen and its own business logic. The difference between &#34;List&#34; and &#34;Read&#34; is that &#34;List&#34; can display multiple rows on the screen whereas &#34;Read&#34; (and all the others) can only deal with one row at a time. We called each of there operations a &#34;mode&#34; and had function keys (with labels) on the each screen so the user could switch from one mode to another. The program would always start in &#34;List&#34; mode, and the functions for the other modes were always available.</p>

<p>This practice was continued until the mid-1980s when a customer came up with the requirement for access to individual modes to be denied to certain users, and for the function labels to disappear when access was denied. This had be configurable on the database rather than in code so that it could be modified more easily. Creating a new database table, then modifying the code to act upon the contents of this table proved to be rather tricky, so after a while I decided that the best solution would be to break apart each multi-mode/multi-screen program and create a separate sub-program for each mode. This meant that instead of a large complex program I ended up with a collection of smaller but simpler subprograms each of which dealt with a single mode and a single screen. This resulted in the structure shown in <a href="#figure2">Figure 2</a> below:</p>



<p>In this collection, which I now call a &#34;family&#34; because of the parent-child relationships, The <a href="https://www.tonymarston.net/php-mysql/dialog-types.html#list1">LIST1</a> form is usually activated from a <a href="https://www.tonymarston.net/php-mysql/dialog-types.html#menu-bar">menu button</a>, although the <a href="https://www.tonymarston.net/php-mysql/dialog-types.html#list2">LIST2</a> variant is usually activated from a <a href="https://www.tonymarston.net/php-mysql/dialog-types.html#navigation-bar">navigation button</a>. All the child forms are activated from <a href="https://www.tonymarston.net/php-mysql/dialog-types.html#navigation-bar">navigation buttons</a>. This means that the user has to go through the parent form in order to get to a child form. The advantage of having all the members of this family being separate tasks (user transactions) with their own entries on the <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html#task">TASK</a> table is that their positions in any <a href="https://www.tonymarston.net/php-mysql/dialog-types.html#menu-bar">menu bar</a> or <a href="https://www.tonymarston.net/php-mysql/dialog-types.html#navigation-bar">navigation bar</a> is not hard-coded, it is completely dynamic. The features of the <a href="https://www.tonymarston.net/php-mysql/role-based-access-control.html#current-design">Role Based Access Control (RBAC)</a> system which is built into the framework means that access to individual members of the form family can be turned ON or OFF at will without the need for any code changes.</p>

<p>An additional advantage of having a separate component for each member of the forms family, coupled with the fact that each <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#table.class">Model (table)</a> class shares the same set of <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">common table methods</a>, thus providing <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#polymorphism">polymorphism</a>, is that once a <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller.script">Controller</a> has been built to perform a series of method calls on its table class(es) it can be made to call exactly the same methods on a different table class through that mechanism known as <a href="https://www.tonymarston.net/php-mysql/dependency-injection-is-evil.html#where.i.do.use.di">dependency injection</a>. This mechanism means that each <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller.script">Controller script</a> can be used with any <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#table.class">table class</a>.</p>

<p>It should also be noted that in <a href="https://www.tonymarston.net/php-mysql/object-associations-are-evil.html#object.composition">aggregate compositions</a> I do not have a single class for the aggregate to handle all the use cases for that aggregate. No matter how many tables are in that aggregate all I see are a number of pairs of tables which are joined in a parent-child relationship, and each pair is dealt with using its own family of forms.</p>

<p>Please also refer to <a href="#transaction.similarities">Transaction (use case) similarities</a> and <a href="#transaction.differences">Transaction (use case) differences</a>.</p>

<hr/>
<h3><a name="reusability.productivity">More Reusability = Higher Productivity</a></h3>

<p>Before I started using the OO capabilities of PHP I asked myself &#34;why I should bother? What&#39;s so great about OOP?&#34; I found the answer in the following statement:</p>

<blockquote>
Object Oriented Programming involves programming which is oriented around objects, thus taking advantage of <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#encapsulation">Encapsulation</a>, <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#inheritance">Inheritance</a> and <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#polymorphism">Polymorphism</a> to increase code reuse and decrease code maintenance. 
</blockquote>

<p>This rang a bell with me as the frameworks which I had developed in my two previous languages had helped increase the productivity of the whole development team by replacing the need to write chunks of identical or similar code with pre-written and reusable code. The less code you have to write to get the job done then the less time it takes to get the job done and the more productive you can be. I therefore set out to use these features of PHP to increase as much as possible the amount of reusable code I could have at my disposal.</p>

<p>While using a <a href="#layered.architecture">layered architecture</a> is a step in the right direction, it is how you construct each of the different components in that architecture which indicates if you are taking proper advantage of the features which OOP has to offer. By following my own version of &#34;best practices&#34;, and ignoring those which have a dubious pedigree, I have been able to provide the following amounts of reusability which help reduce development times and increase my rate of productivity:</p>

<table summary="">
<colgroup>
	<col width="125px"/>
	<col width="*"/>
</colgroup>
<tbody><tr>
	<td><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#model">Models</a></td>
	<td>Each <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#table.class">table class</a> inherits all its standard code from a single <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#generic.table.class">abstract table class</a> while any non-standard code can be inserted into the available <a href="https://www.tonymarston.net/php-mysql/radicore-hooks.html">&#34;hook&#34; methods</a>.</td>
</tr>
<tr>
	<td><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#view">Views</a></td>
	<td>There is a single reusable component for each type of View:
  	<ul>
  	<li>The HTML View component works by transferring all data from the Model(s) into an XML file, then performs an <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#xsl.transformation">XSL Transformation</a> using an XSL stylesheet. I have just 12 <a href="https://www.tonymarston.net/xml-xsl/reusable-xsl.html">reusable XSL Stylesheets</a> where the differences are supplied in separate <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#screen.structure">screen structure files</a>.</li>
  	<li>The PDF view component works by reading the raw data one row at a time and placing it in the document using instructions in a <a href="https://www.tonymarston.net/php-mysql/output-to-pdf.html#report.structure.file">report structure file</a>.</li>
		<li>The CSV view component works by reading the raw data one row at a time and writing it to the output file. The first row in the output file contains the column names as labels while all subsequent rows contain the column values.</li>
  	</ul>
	</td>
</tr>
<tr>
	<td><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller">Controllers</a></td>
	<td>Each of the reusable Controllers calls a predetermined series of methods on an unknown Model (or Models) where the identity of those Model(s) is passed down at run time from a <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#component.script">component script</a>. There is a separate version of this script for each user transaction (use case). Each Controller is paired with no more than one View, as documented in <a href="https://www.tonymarston.net/php-mysql/dialog-types.html">Transaction Patterns</a>, but there are some which have no View at all.</td>
</tr>
<tr>
	<td><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#data.access.layer">DAOs</a></td>
	<td>Each of the reusable <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#dml.class">Data Access Objects</a> generates the queries for the common <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> operations for a particular DBMS. Each method will build its query based on the information passed to it by the Model, then call the API which is specific to that DBMS.</td>
</tr>
</tbody></table>

<p>You should notice here that every Model class supports the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">same set of methods</a> as every other Model class, and every Controller communicates with its Model(s) using those methods. This is a prime example of <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#polymorphism">polymorphism</a>, and it allows any Model to be used with any Controller.</p>

<p>You should also notice that as much standard code (often referred to as <a href="https://en.wikipedia.org/wiki/Boilerplate_code">boilerplate code</a>) as possible is supplied by the framework, which means that the bulk of the developer&#39;s time can be spent on the important code which deals with the business rules.</p>

<hr/>
<h2><a name="advice.which.i.ignore">DDD &#34;advice&#34; which I ignore</a></h2>

<p>While DDD contains many principles and practices, I regard these as &#34;suggestions&#34; and not &#34;rules&#34;, which means that I am free to either follow them, in whole or in part, or ignore them altogether. Where I find a simpler way to achieve an objective then I will follow the <a href="https://simple.wikipedia.org/wiki/KISS_principle">KISS principle</a> and ignore the <a href="https://www.tonymarston.net/php-mysql/kick-principle.html">KICK</a> alternative.</p>

<p>While some of these topics are not explicitly mentioned as being part of DDD I have included them because they are part of the OO family of practices and therefore may be implied.</p>

<h3><a name="ignore.associations">Associations</a></h3>

<p>When I first encountered the term <a href="https://en.wikipedia.org/wiki/Association_(object-oriented_programming)">association</a> in various newsgroup postings all I saw was a complicated way of dealing with relationships. It does not matter to me how many tables are linked together in a hierarchy, that hierarchy is nothing more than a collections of tables where different pairs of tables are linked together in a parent-child relationship, and each relationship can be dealt with by standard code in the framework and not custom code in any table class.</p>

<p>You can read more of my thoughts on this topic in <a href="https://www.tonymarston.net/php-mysql/object-associations-are-evil.html">Object Associations are EVIL</a>.</p>

<hr/>
<h3><a name="ignore.aggregates">Aggregates</a></h3>

<p>OO afficionados like to use the &#34;<a href="https://en.wikipedia.org/wiki/Has-a">HAS-A</a>&#34; test to help them recognise things called &#34;object compositions&#34;. The wikipedia article contains the following description:</p>

<blockquote>
Has-a is a composition relationship where one object (often called the constituted object, or part/constituent/member object) &#34;belongs to&#34; (is part or member of) another object (called the composite type), and behaves according to the rules of ownership. In simple words, has-a relationship in an object is called a member field of an object. Multiple has-a relationships will combine to form a possessive hierarchy.
</blockquote>

<p>An <b>Aggregation</b> implies that the contained class can exist independently of the container. If the container is destroyed, the child is not destroyed as it can exist independently of the parent.</p>

<p>It does not matter to me how many objects are linked together in some sort of hierarchy, at the end of the day it is just a collection of tables which are arranged in a number of one-to-many/parent-child relations, and in the RADICORE framework there are standard patterns for dealing with parent-child relationships which do not require any custom code in any table class.</p>

<p>I have written more on this topic in <a href="https://www.tonymarston.net/php-mysql/object-associations-are-evil.html#object.aggregation">Object Associations - Aggregations</a> and <a href="https://www.tonymarston.net/php-mysql/object-associations-are-evil.html#single.class.aggregation">A single class for an Aggregation is a mistake</a>.</p>

<hr/>
<h3><a name="ignore.compositions">Compositions</a></h3>

<p>A <b>Composition</b> is a type of <a href="#ignore.aggregates">aggregation</a> in which the contained class cannot exist independently of the container. If the container is destroyed, the child is also destroyed.</p>

<p>I have written more on this topic in <a href="https://www.tonymarston.net/php-mysql/object-associations-are-evil.html#object.composition">Object Associations - Compositions</a>.</p>

<p>There is a different type of composition which is supposed to be an alternative to <a href="https://en.wikipedia.org/wiki/Composition_over_inheritance">inheritance</a> which I have written about in <a href="https://www.tonymarston.net/php-mysql/composition-is-a-procedural-technique-for-code-reuse.html">Composition is a Procedural Technique for Code Reuse</a>.</p>

<hr/>
<h3><a name="ignore.class.hierarchies">Class hierarchies</a></h3>

<p>I have seen where more than a few developers use the &#34;<a href="https://en.wikipedia.org/wiki/Is-a">IS-A</a>&#34; test to identify the existence of class hierarchies. They make statements such as &#34;a CAR is-a VEHICLE&#34;, &#34;a BEAGLE is-a DOG&#34; and &#34;a CUSTOMER is-a PERSON&#34;, and this causes some developers to ask the question:</p>

<blockquote>
If object &#39;B&#39; <b>is a</b> type of object &#39;A&#39;, then surely &#39;B&#39; must be a subclass of &#39;A&#39;?
</blockquote>

<p>This can lead to statements such as: <q>A Car and a Train and a Truck can all inherit behavior from a Vehicle object, adding their subtle differences. A Firetruck can inherit from the Truck object, and so on.</q> which would produce hierarchies of classes which are multiple levels deep.</p>

<p>This is not how it is handled in a database, so it is not how it should be handled in the code.</p>

<p>Expanding on the &#34;a BEAGLE is-a DOG&#34; statement from above someone who has been trained to think in the &#34;object oriented way&#34; would identify <b>dog_type</b> as the differentiator and create a separate subclass for each possible value, as shown in <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#is-a.relationships">Using &#34;IS-A&#34; to identify class hierarchies</a>.</p>

<p>If <b>dog_type</b> is identified as the differentiator then it should become a column on the DOG table which can be used as the foreign key to an entry on the DOG_TYPE table. In this way it is possible to introduce as many different types of dog that you can think of without having to create a separate class for each.</p>

<p>In database applications every entity in the <a href="#layered.architecture">Business/Domain layer</a> IS-A database table, and because every table shares the same <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> operations every <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#table.class">table class</a> shares the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">same table methods</a> which are inherited from the same <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#generic.table.class">abstract table class</a>. This means that I do not have any deep inheritance hierarchies, with the only exception being when I need <a href="#subclassing">subclasses</a> to deal with different implementations for the standard <a href="https://www.tonymarston.net/php-mysql/radicore-hooks.html">&#34;hook&#34; methods</a>.</p>

<hr/>
<h3><a name="ignore.cqrs">CQRS</a></h3>

<p>This is what it says in the <a href="https://en.wikipedia.org/wiki/Domain-driven_design#Command_Query_Responsibility_Segregation">wikipedia page</a>:</p>

<blockquote>
<a href="https://en.wikipedia.org/wiki/Command_Query_Responsibility_Segregation">Command Query Responsibility Segregation (CQRS)</a> is an architectural pattern for separating reading data (a &#39;query&#39;) from writing to data (a &#39;command&#39;). CQRS derives from Command and Query Separation (CQS), coined by Bertrand Meyer.
<p>Commands mutate state and are approximately equivalent to method invocation on aggregate roots or entities. Queries read state but do not mutate it.</p>
</blockquote>

<p>This is the description for <a href="https://en.wikipedia.org/wiki/Command_Query_Responsibility_Segregation">Command Query Responsibility Segregation (CQRS)</a>:</p>

<blockquote>
In information technology, <b>Command Query Responsibility Segregation (CQRS)</b> is a system architecture that extends the idea behind command-query separation to the level of services. Such a system will have separate interfaces to send queries and to send commands. As in CQS, fulfilling a query request will only retrieve data and will not modify the state of the system (with some exceptions like logging access), while fulfilling a command request will modify the state of the system.
<p>Many systems push the segregation to the data models used by the system. The models used to process queries are usually called <i>read models</i> and the models used to process commands <i>write models</i>.</p>
</blockquote>

<p>The idea that I should have one model for reading and another Model for writing is unacceptable to me. As far as I am concerned this violates the principle of <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#encapsulation">encapsulation</a> which states that ALL the methods and ALL the properties for an entity should be maintained in the SAME class. This means that you do not split those methods and properties across multiple classes, nor do you put methods and properties for multiple entities in the same class.</p>

<p>In a database application each entity in the <a href="#layered.architecture">Business layer</a> IS-A database table, and the only operations which can be performed on a database table are <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">Create, Read, Update and Delete (CRUD)</a>. This is why I created a <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">set of methods</a> to perform these operations, and because they are common to every table I make them available in every table class by <a href="#inheritance">inheriting</a> them from an <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#generic.table.class">abstract class</a>. </p>



<hr/>
<h3><a name="ignore.factories">Factories</a></h3>

<p>In this paper <a href="https://www.domainlanguage.com/wp-content/uploads/2016/05/DDD_Reference_2015-03.pdf">Domain-Driven Design Reference</a> Eric Evans wrote the following:</p>

<blockquote>
When creation of an entire, internally consistent aggregate, or a large value object, becomes complicated or reveals too much of the internal structure, factories provide encapsulation.
</blockquote>

<p>I do not use <a href="#ignore.aggregates">object aggregations</a>, therefore I do not need any factories.</p>

<p>I do not need a method of creating objects with different configurations as each of my table objects has only one possible configuration, and that is dealt with in the <a href="#class.constructor">class constructor</a>.</p>

<hr/>
<h3><a name="ignore.getters.setters">Getters and Setters</a></h3>

<p>While learning how PHP worked I saw that it was common practice to create classes with separate properties for each table column, and to access them using separate getters and setters. I did not like this idea as it would mean that each table (Model) class would require its own set of properties with their getters and setters and that each of these classes would then require its own Controller with the necessary code to access these unique properties. This would therefore make each Controller <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#tight.coupling">tightly coupled</a> to a particular Model and throw out of the window any opportunity of having reusable code. I had already noticed that data being sent in from an HTML form was presented in an associative array, and that data read from the database was also presented in an associative array (actually an indexed array of associative arrays), so I decided not to unpick this array into its components parts but to pass it around in its array form as a single argument on every method call. This is shown in the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">common table methods</a> as the <a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#notes.$fieldarray">$fieldarray</a> argument. This simple idea provided several benefits:</p>

<ul>
<li>As neither the Model nor the Controller required individual table columns to be defined it meant less code to write.</li>
<li>As the Controller did not have to contain any references to any columns in its Model it then made them <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#loose.coupling">loosely coupled</a> which meant that any Controller could use any Model.</li>
<li>Because none of the method calls between the Controller and the Model reference any column names it meant that I could change the columns on any table without having to change any method signatures, thus avoiding the ripple effect.</li>
</ul>

<p>Note that each table class &#34;knows&#34; what columns belong in its table as they are list in the <a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#notes.$fieldspec">$fieldspec</a> array.</p>

<hr/>
<h3><a name="ignore.interfaces">Interfaces</a></h3>

<p>By &#34;interfaces&#34; I mean <a href="https://www.php.net/manual/en/language.oop5.interfaces.php">object interfaces</a> which require the use of those keywords <b>interface</b> and <b>implements</b>. These did not exist in PHP4 so I could not use them. They were introduced in PHP5, but after reading their description in the manual I decided that as I was already using an abstract class to great affect I had no need for them.</p>

<p>I later discovered that they were added to other languages to provide a way of allowing <a href="http://accelerateddevelopment.blogspot.com/2012/06/polymorphism-and-inheritance-are.html">polymorphism without inheritance</a> in certain strictly typed languages. They were added to PHP just because some not-so-bright programmers said <q>Other OO languages support interfaces, so PHP should support them as well.</q> This is a ridiculous argument as PHP is not strictly typed, nor does it require any mechanism to support polymorphism other than several classes containing the same method signatures. This means that they are totally redundant in PHP and a complete waste of time as they serve no useful purpose.</p>

<p>This topic is covered in more detail in <a href="https://www.tonymarston.net/php-mysql/object-interfaces-are-evil.html">Object Interfaces are EVIL</a>.</p>

<hr/>
<h3><a name="ignore.method.names">Method names</a></h3>

<p>I have seen many examples where method names are constructed to reflect an action which has been identified in the design process, such as &#34;createCustomer&#34;, &#34;SignUpForMagazineSubscription&#34;, &#34;accept offer&#34; and &#34;withdraw&#34;, but I never followed this practice. My aim of switching to an OO language was to use the facilities offered by <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#encapsulation">encapsulation</a>, <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#inheritance">inheritance</a> and <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#polymorphism">polymorphism</a> to create as much reusable code as possible. I therefore creating <a href="#method.names">my own convention for naming methods</a>.</p>

<p>I also knew two things from my previous experience:</p>

<ul>
<li>The only operations which can be performed on a table are <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">Create, Read, Update and Delete (CRUD)</a>, which is why I have <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">methods which support these operations</a> in every <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#table.class">table class</a> which are inherited from an <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#generic.table.class">abstract table class</a>.</li>
<li>Regardless of the different effect that each user transaction (use case) will have, it achieves that effect by following the same pattern - it calls one or more of the CRUD operations on one or more tables, and these operations may be interspersed with the processing of business rules.</li>
</ul>

<p>This means that names such as &#34;createCustomer&#34;, &#34;SignUpForMagazineSubscription&#34;, &#34;accept offer&#34; and &#34;withdraw&#34; I consider to be nothing more than labels which may be beneficial to the user but which are irrelevant details in the software. By stripping away the irrelevant and concentrating on the essential I make it easy for the developer to quickly understand the effects of each user transaction and to identify the components that will produce that effect. The labels made available to users are nothing more than names held on the <a href="https://www.tonymarston.net/php-mysql/menuguide/mnu_task(upd1).html">TASK table</a> in the <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html">MENU database</a>.</p>

<table summary="">
<colgroup>
	<col width="15%"/>
	<col width="35%"/>
	<col width="50%"/>
</colgroup>
<tbody><tr>
	<th>OO purists</th>
  <th>effect on the database</th>
	<th>the Tony Marston way</th>
</tr>

<tr>
	<td>createProduct($_POST)</td>
	<td>insert a record into the PRODUCT table</td>
	<td>
<pre><span>$table_id</span> = <span>&#39;product&#39;</span>;
....
require <span>&#34;classes/<span>$table_id</span>.class.inc&#34;</span>;
<span>$dbobject</span> = new <span>$table_id</span>;
<span>$result</span> = <span>$dbobject</span>-&gt;insertRecord(<span>$_POST</span>);
</pre>
	</td>
</tr>

<tr>
	<td>createCustomer($_POST)</td>
	<td>insert a record into the CUSTOMER table</td>
	<td>
<pre><span>$table_id</span> = <span>&#39;customer&#39;</span>;
....
require <span>&#34;classes/<span>$table_id</span>.class.inc&#34;</span>;
<span>$dbobject</span> = new <span>$table_id</span>;
<span>$result</span> = <span>$dbobject</span>-&gt;insertRecord(<span>$_POST</span>);
</pre>
  </td>
</tr>

<tr>
	<td>createInvoice($_POST)</td>
	<td>insert a record into the INVOICE table</td>
	<td>
<pre><span>$table_id</span> = <span>&#39;invoice&#39;</span>;
....
require <span>&#34;classes/<span>$table_id</span>.class.inc&#34;</span>;
<span>$dbobject</span> = new <span>$table_id</span>;
<span>$result</span> = <span>$dbobject</span>-&gt;insertRecord(<span>$_POST</span>);
</pre>
	</td>
</tr>

<tr>
	<td>payInvoice($_POST)</td>
	<td>insert a record into the PAYMENT table</td>
	<td>
<pre><span>$table_id</span> = <span>&#39;payment&#39;</span>;
....
require <span>&#34;classes/<span>$table_id</span>.class.inc&#34;</span>;
<span>$dbobject</span> = new <span>$table_id</span>;
<span>$result</span> = <span>$dbobject</span>-&gt;insertRecord(<span>$_POST</span>);
</pre>
	</td>
</tr>

</tbody></table>

<p>In my method the value for <b>$table_id</b> is provided in a <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#component.script">component script</a> and this is instantiated into an object in the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller.script">controller script</a>.</p>

<p>The use of an abstract class also provides the means to have methods for standard processing interspersed with methods for custom business rules. This is called the <a href="https://en.wikipedia.org/wiki/Template_method_pattern">Template Method Pattern</a> and involves a mixture of invariant/fixed methods and variable/customisable or <a href="https://www.tonymarston.net/php-mysql/radicore-hooks.html">&#34;hook&#34; methods</a> which can have different implementations in different concrete classes. Every public method in the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#generic.table.class">abstract table class</a> is an example of a Template Method.</p>

<hr/>
<h3><a name="ignore.repositories">Repositories</a></h3>

<p>In this paper <a href="https://www.domainlanguage.com/wp-content/uploads/2016/05/DDD_Reference_2015-03.pdf">Domain-Driven Design Reference</a> Eric Evans wrote the following:</p>

<blockquote>
Query access to aggregates expressed in the ubiquitous language. Proliferation of traversable associations used only for finding things muddles the model. In mature models, queries often express domain concepts. Yet queries can cause problems. The sheer technical complexity of applying most database access infrastructure quickly swamps the client code, which leads developers to dumb-down the domain layer, which makes the model irrelevant.
</blockquote>

<p>I do not deal with <a href="#ignore.aggregates">aggregates</a> in the DDD way.</p>


<hr/>
<h2><a name="implementing.the.different">My implementation - Dealing with the differences</a></h2>

<p>Abstraction is a process whereby you separate the abstract from the concrete, the similar from the different, with the aim of putting the similar into a reusable object and the different into unique objects. This section identifies what I recognise as &#34;different&#34; and how I have isolated them from the &#34;similar&#34;.</p>

<h3><a name="entity.differences">Entity/Table differences</a></h3>

<p>While each database can contain any number of tables each one will have its differences which can be categorised under the following headings:</p>

<ul>
<li>Database name.</li>
<li>Table name, which must be unique within the database.</li>
<li>A list of columns, where each has:
	<ul>
	<li>A name which must be unique within that table.</li>
	<li>A data type (character, integer, float, date, time, etc.</li>
	<li>An optional size.</li>
	</ul>
</li>
<li>A primary key, which may contain one or more columns.</li>
<li>Zero or more candidate keys, where each may contain one or more columns.</li>
<li>A list of one-to-many/parent-child relationships with other tables:
	<ul>
	<li>A list of child relationships where this table is the parent.</li>
	<li>A list of parent relationships where this table is the child.</li>
	</ul>
</li>
<li>Column values which can vary depending on the table and the operation being performed. Instead of having a separately named class property for each column I prefer to use a single array variable as it promotes <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#loose.coupling">loose coupling</a> which is better than <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#tight.coupling">tight coupling</a>.</li>
</ul>

<p>These have been implemented as a set of <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.properties">common table properties</a> which are inherited from an <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#generic.table.class">abstract table class</a>. Each of these properties will be loaded in when the class file is instantiated into an object.</p>

<hr/>
<h3><a name="html.differences">HTML differences</a></h3>

<p>Having abstracted out all the <a href="#html.similarities">similarities</a> in every <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#html.output">HTML document</a> I am left with the differences. While the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#xsl.stylesheet">XSL Stylesheet</a> contains the necessary instructions to construct all the standard elements on the HTML page I am left with the one variable which is the zone which handles the application data. This is where I have to identify which piece of table data goes where in that zone. Because I have to copy all the necessary framework and application data to an <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#xml.file">XML document</a> I discovered, after a bit of experimentation, that I could also include a description of this application zone in this XML. This meant that instead of having a separate version of an XSL stylesheet for each different screen I could use a standard stylesheet and load data from an external <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#screen.structure">screen structure file</a> like the one shown below:</p>

<pre>&lt;?php

<span>$structure</span>[&#39;<span>xsl_file</span>&#39;] = &#39;<span>std.detail1.xsl</span>&#39;;


<span>$structure</span>[&#39;<span>tables</span>&#39;][&#39;<span>main</span>&#39;] = &#39;<span>person</span>&#39;;


<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>columns</span>&#39;][] = array(&#39;<span>width</span>&#39; =&gt; <span>150</span>);
<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>columns</span>&#39;][] = array(&#39;<span>width</span>&#39; =&gt; &#39;<span>*</span>&#39;);


<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>columns</span>&#39;][] = array(&#39;<span>class</span>&#39; =&gt; &#39;<span>classname</span>&#39;);


<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>fields</span>&#39;][] = array(&#39;<span>person_id</span>&#39; =&gt; &#39;<span>ID</span>&#39;);
<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>fields</span>&#39;][] = array(&#39;<span>first_name</span>&#39; =&gt; &#39;<span>First Name</span>&#39;);
<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>fields</span>&#39;][] = array(&#39;<span>last_name</span>&#39; =&gt; &#39;<span>Last Name</span>&#39;);
<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>fields</span>&#39;][] = array(&#39;<span>initials</span>&#39; =&gt; &#39;<span>Initials</span>&#39;);
<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>fields</span>&#39;][] = array(&#39;<span>nat_ins_no</span>&#39; =&gt; &#39;<span>Nat. Ins. No.</span>&#39;);
<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>fields</span>&#39;][] = array(&#39;<span>pers_type_id</span>&#39; =&gt; &#39;<span>Person Type</span>&#39;);
<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>fields</span>&#39;][] = array(&#39;<span>star_sign</span>&#39; =&gt; &#39;<span>Star Sign</span>&#39;);
<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>fields</span>&#39;][] = array(&#39;<span>email_addr</span>&#39; =&gt; &#39;<span>E-mail</span>&#39;);
<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>fields</span>&#39;][] = array(&#39;<span>value1</span>&#39; =&gt; &#39;<span>Value 1</span>&#39;);
<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>fields</span>&#39;][] = array(&#39;<span>value2</span>&#39; =&gt; &#39;<span>Value 2</span>&#39;);
<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>fields</span>&#39;][] = array(&#39;<span>start_date</span>&#39; =&gt; &#39;<span>Start Date</span>&#39;);
<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>fields</span>&#39;][] = array(&#39;<span>end_date</span>&#39; =&gt; &#39;<span>End Date</span>&#39;);
<span>$structure</span>[&#39;<span>main</span>&#39;][&#39;<span>fields</span>&#39;][] = array(&#39;<span>selected</span>&#39; =&gt; &#39;<span>Selected</span>&#39;);
?&gt;
</pre>

<p>Note that for input and update screens I will need to include for each application column the identity of the HTML control (textbox, radiogroup, dropdown, checkbox, etc) which should be used. This information is obtained from the <a href="https://www.tonymarston.net/php-mysql/data-dictionary.html#$fieldspec">$fieldspec</a> array which has been loaded into the object&#39;s memory from the <a href="https://www.tonymarston.net/php-mysql/data-dictionary.html#table.dict.inc">table structure file</a>.</p>

<hr/>
<h3><a name="transaction.differences">Transaction (use case) differences</a></h3>

<p>As explained in <a href="#transaction.similarities">Transaction (use case) similarities</a> each user transaction (use case) will require a <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#model">Model</a>, a <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#view">View</a> and a <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller">Controller</a> to act in unison to carry out the task required by the user.</p>

<p>While each subsystem will require its own set of user transactions (use cases) these can be generated by the framework by linking a table class with any of the <a href="https://www.tonymarston.net/php-mysql/transaction-patterns.html">Transaction Patterns</a> which are supplied by the framework. Each user transaction which then have its own <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#component.script">component script</a> in the file system which looks like the following:</p>

<pre>&lt;?php
<span>$table_id</span> = <span>&#34;person&#34;</span>;                      
<span>$screen</span>   = <span>&#39;person.detail.screen.inc&#39;</span>;    
require <span>&#39;std.enquire1.inc&#39;</span>;                
?&gt;
</pre>

<p>As you can see this is a simple script whose purpose is to identify the following:</p>

<ol>
<li><code>$table_id</code> identifies the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#model">Model</a> part of <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#mvc">MVC</a>. This is one of the generated <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#table.class">database table classes</a>.</li>
<li><code>$screen</code> identifies the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#view">View</a> part of <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#mvc">MVC</a>. This is one of the generated <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#screen.structure">screen structure scripts</a> which identifies the <a href="#html.differences">HTML differences</a>.</li>
<li><code>include</code> identifies the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller">Controller</a> part of <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#mvc">MVC</a>. This is one of the pre-written <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller.script">controller scripts</a>.</li>
</ol>

<p>Each Controller is designed to work with only a single View, but a small number of Controllers do not have a View at all. For a complete list of the available Controllers and the Views which they support please refer to <a href="https://www.tonymarston.net/php-mysql/dialog-types.html">Transaction Patterns for web applications</a>.</p>

<p>Note that each <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller.script">Controller</a> can work with any Model, but it does not know which one until it is given a value for <code>$table_id</code> at run-time. It also means that each Model can work with any Controller.</p>

<p>Use these links for the <a href="#validation.similarities">validation similarities</a> and <a href="#validation.differences">validation differences</a>.</p>

<hr/>
<h3><a name="validation.differences">Validation differences</a></h3>

<p>While the <a href="#validation.similarities">similarities</a> can be handled by a standard component within the framework it is often necessary for a particular operation on a particular table to be interrupted at a particular point in order to execute some custom code, either for some non-standard data validation or to apply a particular business rule. This can be done in the RADICORE framework by locating the relevant <a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#customisable.methods">customisable method</a> which has been been into the processing flow for that operation, then copying that empty method into the subclass so that it can be filled with the necessary code. Various methods are available, such as:</p>

<ul>
<li><a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#notes._cm_commonvalidation">_cm_commonValidation()</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#notes._cm_validateinsert">_cm_validateInsert()</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#notes._cm_validateupdate">_cm_validateUpdate()</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#notes.validatedelete">_cm_validateDelete()</a></li>
</ul>

<p>There are also other customisable methods with names such as the following:</p>

<ul>
<li><code>_cm_pre_&lt;operation&gt;()</code> - for processing &#34;before&#34; the operation, such as <a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#notes._cm_pre_insertrecord">_cm_pre_insertRecord()</a>.</li>
<li><code>_cm_post_&lt;operation&gt;()</code> - for processing &#34;after&#34; the operation, such as <a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#notes._cm_post_insertrecord">_cm_post_insertRecord()</a>.</li>
</ul>

<p>Note that these customisable methods are available because of my implementation of the <a href="https://www.tonymarston.net/php-mysql/template-method-pattern-as-a-framework.html">Template Method Pattern</a> which was made possible because of my decision for all <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#table.class">concrete table classes</a> to inherit from an <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#generic.table.class">abstract table class</a>.</p>

<hr/>
<h2><a name="implementing.the.similar">My implementation - Dealing with the similarities</a></h2>

<p>Abstraction is a process whereby you separate the abstract from the concrete, the similar from the different, with the aim of putting the similar into a reusable object and the different into unique objects. This section identifies what I recognise as &#34;similar&#34; and how I have turned them into reusable components.</p>

<h3><a name="entity.similarities">Entity/Table similarities</a></h3>

<p>Although each database table holds different data they are all subject to exactly the same set of operations which are <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">Create, Read, Update and Delete (CRUD)</a>. These have been implemented as a set of <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">common table methods</a> which are inherited from an <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#generic.table.class">abstract table class</a>. Instead of having separate methods for <code>load()</code>, <code>validate()</code> and <code>store()</code> I have grouped them together into wrapper methods as they always have to be called in the same sequence, and it is more efficient to write a single call to a wrapper method instead of a number of calls to the low-level methods. It also makes it easier to modify the contents of a wrapper method without having to modify any code which calls that method.</p>

<p>The advantage of being able to inherit these methods from an abstract class is that they do not have to be defined in each concrete class as they are automatically there when the class is instantiated into an object. This is why each table class file can be <a href="https://www.tonymarston.net/php-mysql/menuguide/dict_table(upd4)export.html">generated</a> from the same template, as shown below:</p>

<a name="class.constructor"></a>
<pre><span>&lt;?php</span>
<span>require_once</span> <span>&#39;std.table.class.inc&#39;</span>;
<span>class</span> #tablename# extends Default_Table
{
    
    <span>function</span> __construct ()
    {
        
        <span>$this-&gt;</span>dirname   = dirname(<span>__file__</span>);
        
        <span>$this-&gt;</span>dbname    = <span>&#39;#dbname#&#39;</span>;
        <span>$this-&gt;</span>tablename = <span>&#39;#tablename#&#39;</span>;
        
        
        <span>$this-&gt;</span>fieldspec = <span>$this-&gt;</span>loadFieldSpec();
        
    } 
    

} 

<span>?&gt;</span>
</pre>

<p>The <a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#notes.loadfieldspec">loadFieldSpec()</a> method is responsible for transferring the contents of the <a href="https://www.tonymarston.net/php-mysql/data-dictionary.html#table.dict.inc">table structure file</a> into the object&#39;s <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.properties">common table properties</a> which configures the object with all the knowledge it requires so that it can deal effectively with that particular table.</p>

<p>Note that the table class file, when it is first created, does not contain any methods other than the constructor as all the standard processing is performed by the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">common table methods</a> which are inherited from the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#generic.table.class">abstract table class</a>. The use of an abstract class enables the <a href="https://en.wikipedia.org/wiki/Template_method_pattern">Template Method Pattern</a> to be implemented. This involves the use of invariant/fixed methods to be defined in the superclass which can be interspersed with variable/customisable <a href="https://www.tonymarston.net/php-mysql/radicore-hooks.html">&#34;hook&#34; methods</a> which can be overridden within each subclass to provide custom behaviour.</p>

<hr/>
<h3><a name="sql.similarities">SQL query similarities</a></h3>

<p>Communicating with a relational database is very straightforward. It is a simple matter of constructing an <a href="https://en.wikipedia.org/wiki/SQL">SQL</a> query, which is a string of text, and sending to the database using the relevant <code>&lt;dbms&gt;_query()</code> function. There are only four basic methods for manipulating data, part of the <a href="https://en.wikipedia.org/wiki/Data_manipulation_language">Data Manipulation Language (DML)</a>, and they are:</p>

<ul>
<li><a href="https://en.wikipedia.org/wiki/Insert_(SQL)">CREATE/INSERT</a></li>
<li><a href="https://en.wikipedia.org/wiki/Select_(SQL)">READ/SELECT</a></li>
<li><a href="https://en.wikipedia.org/wiki/Update_(SQL)">UPDATE</a></li>
<li><a href="https://en.wikipedia.org/wiki/Delete_(SQL)">DELETE</a></li>
</ul>

<p>The query string which is constructed for each of these operations/methods follows the same pattern regardless of what data is being processed.</p>

<a name="common.sql.protocols"></a>
<table summary="">
<caption>Common SQL protocols</caption>
<colgroup>
  <col width="100px"/>
	<col width="*"/>
</colgroup>
<tbody><tr>
	<th>Operation</th>
	<th>Code</th>
</tr>
<tr>
	<td>Create</td>
	<td><pre>INSERT INTO &lt;tablename&gt; (column1, column2, column3) VALUES (&#39;value1&#39;, &#39;value2&#39;, &#39;value3&#39;);
</pre>
	</td>
</tr>
<tr>
	<td>Read</td>
	<td><pre><b>simple:</b>
SELECT * FROM &lt;tablename&gt; [WHERE &lt;condition&gt;]

<b>advanced:</b>
SELECT &lt;select list&gt;
FROM &lt;tablename&gt;
[JOIN &lt;tablename2&gt; ON (...)]
[WHERE &lt;condition&gt;]
[GROUP BY ...]
[HAVING ...]
[ORDER BY ...]
[LIMIT ... OFFSET ...]
</pre>
  </td>
</tr>
<tr>
	<td>Update</td>
	<td><pre>UPDATE &lt;tablename&gt; SET column1=&#39;value1&#39;, column2=&#39;value2&#39;, column3=&#39;value3&#39; WHERE &lt;condition&gt;
</pre>
	</td>
</tr>
<tr>
	<td>Delete</td>
	<td><pre>DELETE FROM &lt;tablename&gt; WHERE &lt;condition&gt;
</pre>
	</td>
</tr>
</tbody></table>

<p>Note that the <code>Create</code>, <code>Update</code> and <code>Delete</code> operations function on only one table at a time whereas the <code>Read</code> operation can obtain data from several tables.</p>

<p>As you should see the table names, column names and column values are nothing more than pieces of text which appear in the query string along with various keywords, so none of these names have to be specified in separate arguments on the function call to the DBMS. As PHP has excellent string handling functions I found it very easy to create a single <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#dml.class">Data Access Object (DAO)</a> which can handle the generation and execution of any query for any table in any database. Each of the four methods - one for each of the above operations - is fairly basic as it responds to the instruction &#34;take <i>this</i> data and construct and execute an SQL query for the DBMS&#34;. All I have is a separate DAO class for each supported DBMS (MySQL, PostgreSQL, Oracle and SQL Server) as the query strings may be similar but the function calls are not.</p>

<p>I have seen other people&#39;s implementations where they have a separate DAO for each table, but my method is far easier as I can add, remove or modify tables at will without having to add, remove or modify any DAOs.</p>

<hr/>
<h3><a name="html.similarities">HTML similarities</a></h3>

<p>Unlike in my previous languages where each screen had to be built using a special tool and then compiled, I knew that each web page was nothing more than a text file, with a mixture of tags and values, that had to be constructed from scratch before it could be sent to the client device. I also knew that I did not want to follow the examples I encountered in various books and online tutorials and build each HTML document by spitting out little fragments one piece at a time during the execution of each script.</p>

<p>Because in my previous languages I had built hundreds of different screens for dozens of different applications I had already begun to spot a number of similarities between them. While each screen had different values they each had a structure that was common to other screens, so I looked for a way to hold each different structure in some sort of template so that at run time all I needed to do was fill that template with values. I did not bother searching for templating systems as I had already encountered XML and XSL Transformations in UNIFACE. I played with these on my home computer and discovered that I could easily transform XML into HTML, so after confirming that PHP had the ability to <a href="https://www.tonymarston.net/php-mysql/domxml.html">create XML documents from SQL data</a> and perform <a href="https://www.tonymarston.net/php-mysql/sablotron.html">XSL Transformations</a>, I decided to build all my web pages in this way.</p>

<p>For this I built a standard service object which took as its input one or more entities from the Business/Domain layer and the identity of an XSL stylesheet. Its function was to copy each entity&#39;s data into the XML document, add various framework data into that document, load the nominated XSL stylesheet into memory, then perform the XSL transformation. The output from this process was then sent to the client device. In my initial version, which is described in <a href="https://www.tonymarston.net/xml-xsl/xml-and-xsl.html">Generating dynamic web pages using XSL and XML</a>, I had a separate XSL stylesheet for each screen as I had to specify which piece of data went where. After some experimentation and refactoring I found a way to replace these custom-built XSL stylesheets with a smaller collection of <a href="https://www.tonymarston.net/xml-xsl/reusable-xsl.html">Reusable XSL Stylesheets and Templates</a> which make use of a separate <a href="#html.differences">screen structure file</a> to identify which piece of application data goes where.</p>

<p>The areas of each web page which area common and can be supplied by the framework without any intervention by the developer are as follows:</p>

<ul>
  <li><a href="https://www.tonymarston.net/php-mysql/dialog-types.html#menu-bar">Menu Bar</a></li>
  <li><a href="https://www.tonymarston.net/php-mysql/dialog-types.html#title-bar">Title &amp; QuickSearch Bar</a></li>
  <li><a href="https://www.tonymarston.net/php-mysql/dialog-types.html#navigation-bar">Navigation Bar</a></li>
  <li><a href="https://www.tonymarston.net/php-mysql/dialog-types.html#column-headings">Column Headings</a> (for data areas containing <a href="https://www.tonymarston.net/php-mysql/dialog-types.html#data-area.multiple">multiple rows</a>)</li>
  <li><a href="https://www.tonymarston.net/php-mysql/dialog-types.html#message-area">Message Area</a></li>
  <li><a href="https://www.tonymarston.net/php-mysql/dialog-types.html#pagination">Pagination Area</a> (for data areas containing <a href="https://www.tonymarston.net/php-mysql/dialog-types.html#data-area.multiple">multiple rows</a>)</li>
  <li><a href="https://www.tonymarston.net/php-mysql/dialog-types.html#scrolling">Scrolling Area</a> for data areas containing <a href="https://www.tonymarston.net/php-mysql/dialog-types.html#data-area.single">single rows</a></li>
  <li><a href="https://www.tonymarston.net/php-mysql/dialog-types.html#action-bar">Action Bar</a></li>
</ul>

<p>Each screen has its own <a href="https://www.tonymarston.net/php-mysql/dialog-types.html#data-area">Data area</a> which is supplied by each table class.</p>

<p>I had observed earlier that after building a user transaction which did <i>something</i> to a particular database table that I often needed to produce another transaction which did the <i>same thing</i> to a different table. On closer examination I was able to split each transaction into three categories - <a href="https://www.tonymarston.net/php-mysql/transaction-patterns.html#transaction.pattern">structure, behaviour and content</a> - where the structure and behaviour were the same with just the content being different. I first documented this idea from my experience with <a href="https://www.tonymarston.net/uniface/componenttemplates.html">Component Templates</a> in UNIFACE which, for my PHP implementation, I later updated to <a href="https://www.tonymarston.net/php-mysql/transaction-patterns.html">What are Transaction Patterns?</a> This collection of patterns works as follows:</p>

<ul>
<li>the <b>structure</b> is provided by the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#xsl.stylesheet">XSL stylesheet</a></li>
<li>the <b>behaviour</b> is provided  the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller.script">Controller script</a></li>
<li>the <b>content</b> is provided by the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#table.class">Model/Table</a></li>
</ul>

<p>Note that each screen structure is documented in the RADICORE library of <a href="https://www.tonymarston.net/php-mysql/dialog-types.html">Transaction Patterns for web applications</a> where it is coupled with a reusable <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller.script">Controller script</a> to provide a standard pattern for user transactions (use cases). Note that any Controller script can be used with any <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#table.class">Model (table) class</a> as they all use the same set of <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">common table methods</a>. This provides vast amounts of <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#polymorphism">polymorphism</a> which is a vital ingredient of <a href="https://www.tonymarston.net/php-mysql/dependency-injection-is-evil.html#where.i.do.use.di">Dependency Injection</a>.</p>

<hr/>
<h3><a name="transaction.similarities">Transaction (use case) similarities</a></h3>

<p>Note that when I use the word &#34;transaction&#34; I mean &#34;user transaction&#34; or &#34;business transaction&#34; (to differentiate from a <a href="https://en.wikipedia.org/wiki/Database_transaction">database transaction</a>) which is also known as <a href="https://en.wikipedia.org/wiki/Use_case">use case</a> or <a href="https://en.wikipedia.org/wiki/Unit_of_work">unit of work</a>. In the RADICORE framework I also use the name &#34;task&#34; (because it&#39;s nice and short) as details of each task are stored in the framework&#39;s <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html#task">TASK</a> table.</p>

<p>Using the structure shown in <a href="#figure1">Figure 1</a> it follows that every task in the system will need one component from each of those component types, and each of these components will be provided from different sources as follows:</p>

<ul>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#model">Model</a> - a <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#table.class">table class file</a> for that subsystem which was <a href="https://www.tonymarston.net/php-mysql/menuguide/dict_table(upd4)export.html">generated</a> from the <a href="https://www.tonymarston.net/php-mysql/data-dictionary.html">Data Dictionary</a>.</li>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#view">View</a> - one of the HTML, CSV or PDF components supplied by the framework. Note that some Controllers do not use a View.</li>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller">Controller</a> - one of the <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller.script">Controller scripts</a> supplied by the framework.</li>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html#dml.class">DAO</a> - one of the DBMS drivers supplied by the framework. This is identified in the applications CONFIG file.</li>
</ul>

<p>Note that it does not matter how much data is submitted on the HTML form or what the column/field names are, it is all made available in the <a href="https://www.php.net/manual/en/reserved.variables.post">$_POST</a> variable which is an associative array. In order to remove the need for code to deconstruct this array and feed in the data one piece at a time, which would automatically produce <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#tight.coupling">tight coupling</a>, I leave this array intact as pass it around as a standard <code>$fieldarray</code> argument on all method calls, as shown in <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#common.table.methods">common table methods</a>.</p>

<p>Note that a particular <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#controller.script">Controller scripts</a> and a particular <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#view">View</a> are paired together to form a <a href="https://www.tonymarston.net/php-mysql/dialog-types.html">Transaction Pattern</a>.</p>

<p>The identity of each of these components is documented in the <a href="#transaction.differences">Transaction (use case) differences</a>.</p>

<p>Each of these user transactions (tasks) will require entries in the framework&#39;s <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html">MENU database</a> as follows:</p>

<ul>
<li>An entry on the <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html#task">TASK</a> table to provide a user-friendly title and other settings.</li>
<li>An entry on the <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html#menu">MENU</a> table if it is to appear in the <a href="https://www.tonymarston.net/php-mysql/menuguide/section03.html#menu-bar">Menu bar</a>.</li>
<li>An entry on the <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html#menu">NAVIGATION_BUTTON</a> table if it is to appear in the <a href="https://www.tonymarston.net/php-mysql/menuguide/section03.html#navigation-bar">Navigation bar</a> for a parent task.</li>
<li>An entry on the <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html#role-task">ROLE_TASK</a> table to grant access to this task to user with this <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html#role">ROLE</a>.</li>
</ul>

<p>Each user of the system will require the following entries in the framework&#39;s <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html">MENU database</a>:</p>

<ul>
<li>An entry on the <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html#user">USER</a> table to identity each person who is authorised to access the system.</li>
<li>One or more entries on the <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html#user-role">USER_ROLE</a> table to identify the different <a href="https://www.tonymarston.net/php-mysql/menuguide/section04.html#role">ROLES</a> that the user may have.</li>
</ul>

<p>It is only necessary to construct one set of <a href="https://www.tonymarston.net/php-mysql/menuguide/appendixa.html">Menus</a> and Navigation buttons as it is a function of the <a href="https://www.tonymarston.net/php-mysql/role-based-access-control.html#current-design">Role Based Access Control (RBAC)</a> software which is built into the framework to filter out any task to which the user does not have access. If the user cannot see a button to activate the task then it cannot be activated.</p>

<p>Use these links for the <a href="#validation.similarities">similarities</a> and <a href="#validation.differences">differences</a> in the validation and business rules.</p>

<hr/>
<h3><a name="validation.similarities">Validation similarities</a></h3>

<p>There is one universal rule that every developer SHOULD follow when writing software which takes input from a user and adds it to the database and that is to check that each piece of data is compatible with its column specifications BEFORE it is sent to the database otherwise the query will not execute and the software will come to a grinding halt. The correct behaviour is to check each column&#39;s value against its specifications, and if this check fails in any way it should be sent back to the user with a suitable error message so that the mistake can be corrected so that the operation can be tried again.</p>

<p>Because this is a universal requirement it should be possible to perform this checking in a standard component. This can be done within the RADICORE framework because of two simple design decisions:</p>

<ul>
<li>I do not have a separate class property for each column&#39;s data. Instead I pass all the data into and out of each table&#39;s object as an associative array. This is to take advantage of the fact that data sent in from an HTML form is presented in the <a href="https://www.php.net/manual/en/reserved.variables.post">$_POST</a> array, and data retrieved from the database using the <a href="https://www.php.net/manual/en/mysqli-result.fetch-assoc.php">&lt;dbms&gt;_fetch_assoc()</a> method will also be returned as an associative array.</li>
<li>Each column&#39;s specifications are available in the <a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html#notes.$fieldspec">$fieldspec</a> array.</li>
</ul>

<p>Note that the use of separate class properties for each column leads to <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#tight.coupling">tight coupling</a> (which is bad) whereas a single array property leads to <a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html#loose.coupling">loose coupling</a> (which is good)</p>

<p>The existence of these two arrays then makes it a simple process to write a <a href="https://www.tonymarston.net/php-mysql/infrastructure.html#validation.class">standard validation object</a> which can compare the contents of the two arrays to verify that each column&#39;s value matches its specifications.</p>

<hr/>
<h2><a name="conclusion">Conclusion</a></h2>

<p>I have designed and built numerous enterprise applications from scratch using totally different languages over several decades, so I have more than a passing knowledge of the steps which are required to undertake such a task. The iterative <a href="#gather-analyse-design">Gather-Analyse-Design</a> cycle is always the same, it is only the results of those iterations, the database design, the business rules, and the tasks required to maintain the contents of that database which are different. The deciding factors for a successful implementation are always the same - the accuracy of the design closely followed by the ability of the development team to implement this design using the tools at their disposal. These tools will include the programming language, the DBMS, the code editor, the debugger, and the framework. If any of these is not up to par - either the design, the developers or the development tools - then the result will also not be up to par.</p>

<p>An experienced developer should realise that, despite the differences in the databases, every table is subject to exactly the same operations and can therefore be handled in the same way. Despite the differences in the business rules they can all be handled in the same way. Because these differences can be handled in similar ways it should be possible to reduce these patterns of similarities into reusable code.</p>

<p>I have encountered numerous formalised design methodologies over the years, but neither I nor my fellow developers could ever be persuaded to commit ourselves 100% to a single methodology. We have always chosen the <a href="https://www.ldoceonline.com/dictionary/pick-and-mix">pick-and-mix</a> approach whereby we picked the parts that we liked, ignored the parts that we didn&#39;t like, and mixed them together in a way that suited us. I particularly dislike those parts of DDD which are biased towards the way that OO thinkers are taught to build their solutions, such as <a href="#ignore.associations">associations</a>, <a href="#ignore.aggregates">aggregations</a>, <a href="#ignore.compositions">compositions</a>, <a href="#ignore.factories">factories</a> and <a href="#ignore.repositories">repositories</a>. Those are <i>implementation details</i> and should have no effect on the design process.</p>

<p>A large <a href="https://en.wikipedia.org/wiki/Enterprise_software">Enterprise Application</a> often has to cover a collection of different business areas, but it would be wrong to think of each of these areas as a separate <a href="#what.is.a.domain">domain</a> as they have their <a href="#domain.similarities">similarities</a> as well as their <a href="#domain.differences">differences</a>. It is precisely because of the volume of similarities that I think of this collection of business areas to be a complete system while each member of this collection is just a <a href="#subsystems">subsystem</a>. The domain/system is therefore a database application while each subdomain/subsystem is just an implementation of that domain which deals with its particular <a href="#domain.differences">differences</a>.</p>

<p>I designed and built the RADICORE framework specifically to deal with the domain of database application, which means that it has standard ways of dealing with database tables and their relationships, and each subsystem/subdomain can deal with its own set of tables and relationships using these standard ways. The framework also has standard ways of generating HTML pages, CSV files and PDF reports. Once the database has been designed and built the framework&#39;s <a href="https://www.tonymarston.net/php-mysql/data-dictionary.html">Data Dictionary</a> can be used to generate both the table classes and, using its library of <a href="https://www.tonymarston.net/php-mysql/dialog-types.html">Transaction Patterns</a>, the user transactions necessary to maintain the contents of those tables. While each of these transactions can be run immediately from the framework&#39;s system of menus they do not contain any business rules, but the developer can add these later by inserting the necessary code into the <a href="https://www.tonymarston.net/php-mysql/radicore-hooks.html">&#34;hook&#34; methods</a> which are available in every table&#39;s class. Each subsystem is therefore generated by the framework as an add-on and run from the framework as just another part of an integrated system.</p>

<p>The current <a href="https://radicore.org">RADICORE</a> framework is actually the third iteration of a framework which I first developed in the mid-1980s in <a href="https://www.tonymarston.net/cobol">COBOL</a> and in the 1990s in <a href="https://www.tonymarston.net/uniface">UNIFACE</a>, and each iteration has improved my levels of productivity. For example, the time taken to implement <a href="#figure2">this family of forms</a> for a single database table has been reduced as follows:</p>

<ul>
<li>In COBOL it would take 5 (five) days.</li>
<li>In UNIFACE it would take 1 (one) day.</li>
<li>In PHP it takes 5 (five) minutes. (yes, I did write MINUTES and not DAYS).</li>
</ul>

<p>No matter what the OO afficionados say I ALWAYS start writing code AFTER I have designed and constructed a properly <a href="https://www.tonymarston.net/php-mysql/database-design.html#normalisation">normalised</a> database, then I use RADICORE&#39;s code generation facilities to construct the basic components which I then season to taste. When I came to build the <a href="http://web.archive.org/web/20140105143230/http://transitionengineering.com/">TRANSIX</a> application in 2007, my first ERP package I started with some comprehensive database designs which I found in Len Silverston&#39;s <a href="https://www.amazon.com/Data-Model-Resource-Book-Vol/dp/0471380237">Data Model Resource Book</a>. These database were PARTY, PRODUCT, ORDER, INVOICE, INVENTORY and SHIPMENTS. I built the components, added the business rules, and demonstrated the first working version to a customer after just 6 man-months. That is an average of one man-month per database. If I were to change my methods and follow the &#34;advice&#34; given by these pseudo-experts and their so-called &#34;best practices&#34; then my levels of productivity would plummet like a lead balloon, so excuse me if I don&#39;t follow the crowd and become a <a href="https://en.wikipedia.org/wiki/Cargo_cult_programming">Cargo Cult Programmer</a> like so many others in the programming community.</p>

<p>Here endeth the lesson. Don&#39;t applaud, just throw money.</p>

<hr/>
<h2><a name="references">References</a></h2>

<ul>
<li><a href="https://en.wikipedia.org/wiki/Domain-driven_design">Domain-Driven Design</a> from wikipedia</li>
<li><a href="https://www.domainlanguage.com/wp-content/uploads/2016/05/DDD_Reference_2015-03.pdf">Domain-Driven Design Reference (PDF)</a> by Eric Evans</li>
<li><a href="https://martinfowler.com/bliki/DomainDrivenDesign.html">Domain-Driven Design</a> by Martin Fowler</li>
<li><a href="http://web.archive.org/web/20191224181536/https://techbeacon.com/app-dev-testing/get-your-feet-wet-domain-driven-design-3-guiding-principles">Get your feet wet with domain-driven design: 3 guiding principles</a> from techbeacon.com</li>
<li><a href="https://www.geeksforgeeks.org/domain-driven-design-ddd/">Domain-Driven Design (DDD)</a> from GeeksforGeeks</li>
<li><a href="https://medium.com/microtica/the-concept-of-domain-driven-design-explained-3184c0fd7c3f">The Concept of Domain-Driven Design Explained</a> from medium.com</li>
</ul>

<p>The following articles describe aspects of my framework:</p>

<ul>
<li><a href="https://www.tonymarston.net/php-mysql/menuguide/index.html">User Guide to the Menu and Security (RBAC) System</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/menuguide/appendixl.html">User Guide to the Audit Logging System</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/menuguide/appendixm.html">User Guide to the Workflow System</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/menuguide/appendixn.html">User Guide to the Data Dictionary</a></li>
</ul>

<ul>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure.html">RADICORE - A Development Infrastructure for PHP</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/dialog-types.html">Transaction Patterns for Web Applications</a></li>
<li><a href="https://www.tonymarston.net/xml-xsl/reusable-xsl.html">Reusable XSL Stylesheets and Templates</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/model-view-controller.html">The Model-View-Controller (MVC) Design Pattern for PHP</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/role-based-access-control.html">A Role-Based Access Control (RBAC) system for PHP</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/infrastructure-faq.html">FAQ on the Radicore Development Infrastructure</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/auditlog.html">Creating an Audit Log with an online viewing facility</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/workflow.html">An activity based Workflow Engine for PHP</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/uml-diagrams.html">UML diagrams for the Radicore Development Infrastructure</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/data-dictionary.html">A Data Dictionary for PHP Applications</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/internationalisation.html">Internationalisation and the Radicore Development Infrastructure (Part 1)</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/internationalisation2.html">Internationalisation and the Radicore Development Infrastructure (Part 2)</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/functions-and-variables.html">RADICORE for PHP - Functions, Methods and Variables</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/radicore-security.html">The RADICORE Security Model</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/output-to-pdf.html">RADICORE for PHP - creating PDF output</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/what-is-a-framework.html">What is a framework?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/3-tier-architecture.html">What is the 3-Tier Architecture?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/blockchain-for-blockheads.html">Blockchain for Blockheads</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/anatomy-of-an-enterprise-application.html">Anatomy of an Enterprise Application</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/template-method-pattern-as-a-framework.html">The Template Method Pattern as a Framework</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/radicore-hooks.html">How Radicore&#39;s Hook System Works</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/evolution-of-the-radicore-framework.html">Evolution of the RADICORE framework</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/road-to-rad.html">The Road to Rapid Application Development (RAD)</a></li>
</ul>

<p>The following articles express my heretical views on the topic of OOP:</p>

<ul>
<li><a href="https://www.tonymarston.net/php-mysql/design-patterns.html">Design Patterns - a personal perspective</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/oop-for-heretics.html">Object-Oriented Programming for Heretics</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/standards.html">Development Standards - Limitation or Inspiration?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/design-patterns-are-dead.html">Design Patterns are dead! Long live Transaction Patterns!</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/what-is-oop.html">What is Object Oriented Programming (OOP)?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/not-the-three-greatest-paragraphs-ever-written-on-encapsulation.html">Not the three greatest paragraphs ever written on encapsulation</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/table-oriented-programming.html">Table Oriented Programming (TOP)</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/minimalist-approach-to-oop-with-php.html">A minimalist approach to Object Oriented Programming with PHP</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/using-object-composition-for-has-a-relationships.html">Using object composition for &#34;has-a&#34; relationships is not such a good idea</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/oo-design-is-incompatible-with-db-design.html">OO Design is incompatible with Database Design</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/how-not-to-validate-data.html">How NOT to Validate Data</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/object-oriented-database-programming.html">Object Oriented Database Programming</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/lets-make-it-more-complicated-than-it-really-is.html">Let&#39;s Make It More Complicated Than It Really Is Just To Prove How Clever We Are</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/difference-between-procedural-and-oo-programming.html">What is the difference between Procedural and OO programming?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/interface-and-abstract-class.html">The difference between an interface and an abstract class</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/separate-class-for-each-table-is-good-oo.html">Having a separate class for each database table *IS* good OO</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/concept-is-ok-but-implementation-is-not.html">The concept is OK but your implementation is not</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/objects-should-be-constructed-in-one-go.html">Re: Objects should be constructed in one go</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/whats-so-great-about-oop.html">Re: What&#39;s so great about OOP?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/to-there-and-back-but-still-in-the-wrong-place.html">To There and Back - but still in the wrong place</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/exceptions-and-talking-back-to-the-user.html">Re: Exceptions and talking back to the user</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/are-you-achieving-the-aims-of-oop.html">Are you achieving the aims of OOP?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/improving-PHPs-object-ergonomics.html">RE: Improving PHP&#39;s Object Ergonomics</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/pop-quiz-on-oop.html">Pop Quiz on OOP</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/the-purpose-of-inheritance-is-code-reuse.html">RE: The purpose of inheritance is code reuse</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/fat-model-skinny-controller.html">Fat Model, Skinny Controller</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/decouple-business-logic.html">How to decouple business logic from UI logic</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/from-oop-to-poop.html">From Oop to Poop, from Excellent to Excrement</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/db-is-not-just-an-implementation-detail.html">The database is NOT just an implementation detail</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/abstraction.html">The meaning of &#34;abstraction&#34;</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/active-record-getting-it-right.html">Active Record: Getting it Right</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/active-record-rich-domain-model.html">How to Produce a Rich Domain Model with Active Record</a></li>
</ul>

<p>These are reasons why I consider some ideas on how to do OOP &#34;properly&#34; to be complete rubbish:</p>

<ul>
<li><a href="https://www.tonymarston.net/php-mysql/case-sensitive-software-is-evil.html">Case Sensitive Software is EVIL</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/software-patents-are-evil.html">Software Patents are EVIL</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/stored-procedures-are-evil.html">Stored Procedures are EVIL</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/object-relational-mappers-are-evil.html">Object Relational Mappers are EVIL</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/dependency-injection-is-evil.html">Dependency Injection is EVIL</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/not-so-solid-oo-principles.html">Not-so-SOLID OO Principles</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/fail-to-grasp-these-principles.html">I fail to GRASP these principles</a>
</li><li><a href="https://www.tonymarston.net/php-mysql/singletons-are-not-evil.html">Singletons are NOT evil</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/getters-and-setters-are-evil.html">Getters and Setters are EVIL</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/object-interfaces-are-evil.html">Object Interfaces are EVIL</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/object-associations-are-evil.html">Object Associations are EVIL</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/inheritance-is-not-evil.html">Inheritance is NOT evil</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/namespaces-are-for-numpties.html">Namespaces are for numpties</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/against-static-typing-in-php.html">The case against static typing in PHP</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/against-overloading-in-php.html">The case against overloading in PHP</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/attributes-are-atrocious.html">Attributes are atrocious</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/autoloaders-are-abominations.html">Autoloaders are abominations</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/composition-is-a-procedural-technique-for-code-reuse.html">Composition is a procedural technique for code reuse</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/decoupling-is-delusional.html">Decoupling is delusional</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/strict-typing-is-for-stick-in-the-muds.html">Strict typing is for stick-in-the-muds</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/value-objects-are-worthless.html">Value objects are worthless</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/programmer-productivity-takes-precedence-over-paradigm-purity.html">Programmer Productivity takes Precedence over Paradigm Purity</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/the-fallacy-of-reuse.html">The Fallacy Of ReUse</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/three-or-four-oop-pillars.html">RE: Back to Basics - Three or Four OOP Pillars?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/dtos-are-diabolical.html">DTOs are Diabolical</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/true-purpose-of-dependency-injection.html">The true purpose of Dependency Injection</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/oo-practices-which-save-time.html">OOP practices which save time</a></li>
</ul>

<p>Here are my views on changes to the PHP language and Backwards Compatibility:</p>

<ul>
<li><a href="https://www.tonymarston.net/php-mysql/breaking-bc-is-evil.html">Breaking Backwards Compatibility is EVIL</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/please-do-not-break-our-language.html">Please do not break our language</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/bc-break-in-7.2.html">BC break in 7.2 caused by undocumented and unauthorised change</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/changing-fundamental-language-behaviors.html">Changing fundamental language behaviors</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/is-php-too-verbose.html">Is PHP too verbose?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/improving-PHPs-object-ergonomics.html">RE: Improving PHP&#39;s Object Ergonomics</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/core-developers-are-idiots.html">The PHP core developers are lazy, incompetent idiots</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/namespaces-in-php-core.html">Is there a case for adding namespaces to PHP core?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/against-static-typing-in-php.html">The case against static typing in PHP</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/against-overloading-in-php.html">The case against function overloading in PHP</a></li>
</ul>

<p>The following are responses to criticisms of my methods:</p>

<ul>
<li><a href="https://www.tonymarston.net/php-mysql/good-bad-oop.html">What is/is not considered to be good OO programming</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/hero-or-heretic.html">In the world of OOP am I Hero or Heretic?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/your-code-is-crap.html">Your code is crap!</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/not-using-the-right-standards.html">On not using the &#34;right&#34; standards</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/your-rules-are-rubbish.html">Your rules are RUBBISH!
</a></li><li><a href="https://www.tonymarston.net/php-mysql/attack-on-reddit.com.html">Response to personal attack on reddit.com</a></li>
</ul>

<p>Here are some miscellaneous articles:</p>

<ul>
<li><a href="https://www.tonymarston.net/uniface/largevssmall.html">Component Design - Large and Complex vs. Small and Simple</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/many-to-many.html">How to handle a Many-to-Many relationship with PHP and MySQL</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/dateclass.html">A class for validating and formatting dates</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/errorhandler.html">Customising the PHP error handler</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/technicalkeys.html">Technical Keys - Their Uses and Abuses</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/pagination.html">Pagination - what it is and how to do it</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/database-design.html">The Relational Data Model, Normalisation and effective Database Design</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/standards.html">Development Standards - Limitation or Inspiration?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/session-handler.html">Saving PHP&#39;s Session data to a database</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/code-monkey.html">Are you a Code Monkey?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/singleton.html">The Singleton Design Pattern for PHP</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/stateless-protocol.html">Working with a stateless protocol</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/control-data.html">A flexible method of storing control data</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/web-site-vs-web-application.html">Web Site vs Web Application</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/radicore-front-end.html">Using Radicore components in a front-end website</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/an-end-to-end-ecommerce-solution-requires-more-than-a-fancy-website.html">An end-to-end eCommerce solution requires more than a fancy website</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/database-design-ru-novice-ninja-or-nincompoop.html">Database Design - are you Novice, Ninja or Nincompoop?</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/back-to-front.html">Why you should build your web application back-to-front</a></li>
<li><a href="https://www.tonymarston.net/php-mysql/php-is-not-suitable-for-enterprise-applications.html">Why PHP is not suitable for enterprise grade web applications</a></li>
</ul>

<hr/>
<h2><a name="history">Amendment History</a></h2>



<hr/>
<a name="comments"></a>






<p><img src="https://www.tonymarston.net/counter.php?noshow&amp;page=/php-mysql/dont-do-domain-driven-design.html" alt="counter"/></p>



</div>
  </body>
</html>
