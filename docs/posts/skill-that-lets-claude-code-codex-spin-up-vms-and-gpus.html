<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://cloudrouter.dev/">Original</a>
    <h1>Show HN: Skill that lets Claude Code/Codex spin up VMs and GPUs</h1>
    
    <div id="readability-page-1" class="page"><div><hr/><section id="install"><h2>Install</h2><p>Install cloudrouter as a skill for Claude Code, Codex, or other coding agents.</p><div><div><pre tabindex="0"><code><span><span>npx</span><span> skills</span><span> add</span><span> manaflow-ai/cloudrouter</span></span></code></pre></div></div></section><hr/><section id="manual-install"><h2>Manual installation</h2><p>You can also install cloudrouter as a standalone CLI.</p><div><div><pre tabindex="0"><code><span><span>npm</span><span> install</span><span> -g</span><span> @manaflow-ai/cloudrouter</span></span></code></pre></div></div><p>Then authenticate:</p><div><div><div><pre tabindex="0"><code><span><span>cloudrouter</span><span> login</span></span></code></pre></div></div></div><p>Both <code>cloudrouter</code> and <code>cr</code> work as aliases.</p></section><hr/><section id="providers"><h2>Providers</h2><p>cloudrouter connects to sandbox providers that provision the actual VMs and GPUs. After authenticating with <code>cloudrouter login</code>, you can create sandboxes on any supported provider.</p><h3>Currently supported</h3><div><table><thead><tr><th>Provider</th><th>Flag</th><th>Notes</th></tr></thead><tbody><tr><td>E2B</td><td>-p e2b</td><td>Default provider. Supports Docker.</td></tr><tr><td>Modal</td><td>-p modal</td><td>Alternative provider with GPU support.</td></tr></tbody></table></div><p>We are actively working to support <span>all major sandbox providers</span> including Vercel, Daytona, Morph, Freestyle, and others. If you have a preferred provider,<!-- --> <a href="mailto:founders@manaflow.ai">contact us</a>.</p></section><hr/><section><h2>Quick start</h2><div><div><pre tabindex="0"><code><span><span># Create a sandbox from the current directory</span></span>
<span><span>cloudrouter</span><span> start</span><span> .</span></span>
<span></span>
<span><span># Open VS Code in the browser</span></span>
<span><span>cloudrouter</span><span> code</span><span> cr_abc123</span></span>
<span></span>
<span><span># Or get a terminal</span></span>
<span><span>cloudrouter</span><span> pty</span><span> cr_abc123</span></span>
<span></span>
<span><span># Run a command</span></span>
<span><span>cloudrouter</span><span> ssh</span><span> cr_abc123</span><span> &#34;npm install &amp;&amp; npm run dev&#34;</span></span>
<span></span>
<span><span># Open VNC desktop</span></span>
<span><span>cloudrouter</span><span> vnc</span><span> cr_abc123</span></span></code></pre></div></div></section><hr/><section><h2>Browser automation</h2><p>Every sandbox includes Chrome CDP integration. Navigate, interact with elements using accessibility tree refs, take screenshots, and scrape data.</p><div><div><pre tabindex="0"><code><span><span># Open a URL in the sandbox browser</span></span>
<span><span>cloudrouter</span><span> browser</span><span> open</span><span> cr_abc123</span><span> &#34;https://example.com&#34;</span></span>
<span></span>
<span><span># Get the accessibility tree with element refs</span></span>
<span><span>cloudrouter</span><span> browser</span><span> snapshot</span><span> cr_abc123</span></span>
<span><span># → @e1 [input] Email  @e2 [input] Password  @e3 [button] Sign In</span></span>
<span></span>
<span><span># Interact with elements</span></span>
<span><span>cloudrouter</span><span> browser</span><span> fill</span><span> cr_abc123</span><span> @e1</span><span> &#34;user@example.com&#34;</span></span>
<span><span>cloudrouter</span><span> browser</span><span> fill</span><span> cr_abc123</span><span> @e2</span><span> &#34;password123&#34;</span></span>
<span><span>cloudrouter</span><span> browser</span><span> click</span><span> cr_abc123</span><span> @e3</span></span>
<span></span>
<span><span># Take a screenshot</span></span>
<span><span>cloudrouter</span><span> browser</span><span> screenshot</span><span> cr_abc123</span><span> result.png</span></span></code></pre></div></div></section><hr/><section id="features"><h2>Features</h2><div><div><h3>Instant cloud sandboxes</h3><p>Spin up a remote VM from a local directory, git repo, or template. Built-in Docker support and automatic file syncing.</p></div><div><h3>AI agent skill</h3><p>Install as a skill for Claude Code, Cursor, and other agents. Give them the power to create sandboxes, run code, and automate browsers.</p></div><div><h3>Browser automation</h3><p>Full Chrome CDP integration. Navigate, click, type, take screenshots, and read accessibility trees — all from the CLI.</p></div><div><h3>Multiple access methods</h3><p>VS Code in browser, VNC desktop, interactive terminal, or one-off command execution. Pick what fits your workflow.</p></div><div><h3>File transfer</h3><p>Upload and download files between local and sandbox. Watch mode for auto re-upload on changes with exclude patterns.</p></div><div><h3>Open source</h3><p>MIT licensed. Built in Go, distributed as npm packages for macOS, Linux, and Windows.</p></div></div></section><hr/><section id="instances"><h2>Instances</h2><p>Standard sandboxes are available instantly. GPU instances can be added with<!-- --> <code>--gpu</code>. Multi-GPU supported via <code>--gpu H100:2</code>.</p><div><table><thead><tr><th>GPU</th><th>VRAM</th><th>Best for</th></tr></thead><tbody><tr><td>T4</td><td>16 GB</td><td>Inference, fine-tuning small models</td></tr><tr><td>L4</td><td>24 GB</td><td>Inference, image generation</td></tr><tr><td>A10G</td><td>24 GB</td><td>Training medium models</td></tr><tr><td>L40S</td><td>48 GB</td><td>Inference, video generation</td></tr><tr><td>A100</td><td>40 GB</td><td>Training large models (7B–70B)</td></tr><tr><td>A100-80GB</td><td>80 GB</td><td>Very large models</td></tr><tr><td>H100</td><td>80 GB</td><td>Fast training, research</td></tr><tr><td>H200</td><td>141 GB</td><td>Maximum memory capacity</td></tr><tr><td>B200</td><td>192 GB</td><td>Latest gen, frontier models</td></tr></tbody></table></div></section><hr/><section><h2>File transfer</h2><div><div><pre tabindex="0"><code><span><span># Upload files to sandbox</span></span>
<span><span>cloudrouter</span><span> upload</span><span> cr_abc123</span><span> ./src</span></span>
<span></span>
<span><span># Upload to a specific remote path</span></span>
<span><span>cloudrouter</span><span> upload</span><span> cr_abc123</span><span> ./src</span><span> -r</span><span> /home/user/project/src</span></span>
<span></span>
<span><span># Download from sandbox</span></span>
<span><span>cloudrouter</span><span> download</span><span> cr_abc123</span><span> ./dist</span></span>
<span></span>
<span><span># Watch mode — auto re-upload on changes</span></span>
<span><span>cloudrouter</span><span> upload</span><span> cr_abc123</span><span> ./src</span><span> --watch</span></span></code></pre></div></div></section><hr/><section><h2>Sandbox management</h2><div><div><pre tabindex="0"><code><span><span># List running sandboxes</span></span>
<span><span>cloudrouter</span><span> ls</span></span>
<span></span>
<span><span># Check status</span></span>
<span><span>cloudrouter</span><span> status</span><span> cr_abc123</span></span>
<span></span>
<span><span># Stop a sandbox</span></span>
<span><span>cloudrouter</span><span> stop</span><span> cr_abc123</span></span>
<span></span>
<span><span># Delete a sandbox</span></span>
<span><span>cloudrouter</span><span> delete</span><span> cr_abc123</span></span></code></pre></div></div></section><hr/><section><h2>Full skill reference</h2><p>Copy this skill file directly into your coding agent.</p><div><div><div><pre tabindex="0"><code><span></span>
<span><span># cloudrouter - Cloud Sandboxes for Development</span></span>
<span></span>
<span><span>cloudrouter manages cloud sandboxes for development. Use these commands to create, manage, and access remote development environments with GPU support and browser automation.</span></span>
<span></span>
<span><span>## When this skill is invoked</span></span>
<span></span>
<span><span>When the user invokes </span><span>`/cloudrouter`</span><span> or </span><span>`/cr`</span><span> without a specific task, present the available modes:</span></span>
<span></span>
<span><span>```</span></span>
<span><span>cloudrouter - Cloud Development Sandboxes</span></span>
<span></span>
<span><span>  Modes:</span></span>
<span><span>    cloudrouter start .                    Sync current directory to a cloud sandbox</span></span>
<span><span>    cloudrouter start --size small .       Smaller sandbox (2 vCPU, 8 GB)</span></span>
<span><span>    cloudrouter start --gpu T4 .           Sandbox with T4 GPU (16GB VRAM)</span></span>
<span><span>    cloudrouter start --gpu A100 .         Sandbox with A100 GPU (40GB VRAM)</span></span>
<span><span>    cloudrouter start --gpu H100 .         Sandbox with H100 GPU (80GB VRAM)</span></span>
<span></span>
<span><span>  Manage:</span></span>
<span><span>    cloudrouter ls                         List all sandboxes</span></span>
<span><span>    cloudrouter code &lt;id&gt;                  Open VS Code in browser</span></span>
<span><span>    cloudrouter jupyter &lt;id&gt;               Open Jupyter Lab in browser</span></span>
<span><span>    cloudrouter pty &lt;id&gt;                   Open terminal session</span></span>
<span><span>    cloudrouter vnc &lt;id&gt;                   Open VNC desktop</span></span>
<span><span>    cloudrouter stop &lt;id&gt;                  Pause sandbox</span></span>
<span><span>    cloudrouter resume &lt;id&gt;                Resume paused sandbox</span></span>
<span></span>
<span><span>  Browser automation:</span></span>
<span><span>    cloudrouter browser snapshot -i &lt;id&gt;       Get interactive elements</span></span>
<span><span>    cloudrouter browser open &lt;id&gt; &lt;url&gt;        Navigate to URL</span></span>
<span><span>    cloudrouter browser screenshot &lt;id&gt;        Take screenshot</span></span>
<span></span>
<span><span>  Run &#34;cloudrouter start --help&#34; for all options.</span></span>
<span><span>```</span></span>
<span></span>
<span><span>## Setup</span></span>
<span></span>
<span><span>**Before doing anything else, always run this command at the start of any cloudrouter task.**</span><span> Do not ask the user — just run it automatically:</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>npm</span><span> install</span><span> -g</span><span> @manaflow-ai/cloudrouter</span><span>   # Install/update CLI</span></span>
<span><span>```</span></span>
<span></span>
<span><span>This is idempotent — safe to run even if already up to date. This ensures the agent always has the latest CLI.</span></span>
<span></span>
<span><span>This installs both </span><span>`cloudrouter`</span><span> and </span><span>`cr`</span><span> (shorthand) as CLI commands.</span></span>
<span></span>
<span><span>Then authenticate:</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> login</span></span>
<span><span>```</span></span>
<span></span>
<span><span>If the user hasn&#39;t logged in yet, prompt them to run </span><span>`cloudrouter login`</span><span> first before using any other commands.</span></span>
<span></span>
<span><span>## Quick Start</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> login</span><span>                        # Authenticate (opens browser)</span></span>
<span><span>cloudrouter</span><span> start</span><span> .</span><span>                      # Create sandbox from current directory</span></span>
<span><span>cloudrouter</span><span> start</span><span> --gpu</span><span> T4</span><span> .</span><span>             # Create sandbox with GPU</span></span>
<span><span>cloudrouter</span><span> start</span><span> --size</span><span> small</span><span> .</span><span>         # Create smaller sandbox</span></span>
<span><span>cloudrouter</span><span> code</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                    # Open VS Code</span></span>
<span><span>cloudrouter</span><span> jupyter</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                 # Open Jupyter Lab</span></span>
<span><span>cloudrouter</span><span> pty</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                     # Open terminal session</span></span>
<span><span>cloudrouter</span><span> ls</span><span>                           # List all sandboxes</span></span>
<span><span>```</span></span>
<span></span>
<span><span>&gt; </span><span>**Preferred:**</span><span> Always use </span><span>`cloudrouter start .`</span><span> or </span><span>`cloudrouter start &lt;local-path&gt;`</span><span> to sync your local directory to a cloud sandbox. This is the recommended workflow over cloning from a git repo.</span></span>
<span></span>
<span><span>## Commands</span></span>
<span></span>
<span><span>### Authentication</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> login</span><span>               # Login (opens browser)</span></span>
<span><span>cloudrouter</span><span> logout</span><span>              # Logout and clear credentials</span></span>
<span><span>cloudrouter</span><span> whoami</span><span>              # Show current user and team</span></span>
<span><span>```</span></span>
<span></span>
<span><span>### Creating Sandboxes</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span># Standard sandbox (syncs local directory) — DO NOT pass --size, default is large (8 vCPU, 32 GB)</span></span>
<span><span>cloudrouter</span><span> start</span><span> .</span><span>                        # Create from current directory (recommended)</span></span>
<span><span>cloudrouter</span><span> start</span><span> ./my-project</span><span>             # Create from a specific local directory</span></span>
<span><span>cloudrouter</span><span> start</span><span> -o</span><span> .</span><span>                     # Create and open VS Code immediately</span></span>
<span><span>cloudrouter</span><span> start</span><span> -n</span><span> my-sandbox</span><span> .</span><span>          # Create with a custom name</span></span>
<span></span>
<span><span># Size presets — only use if the user specifically requests a different size</span></span>
<span><span>cloudrouter</span><span> start</span><span> --size</span><span> small</span><span> .</span><span>           # 2 vCPU, 8 GB RAM, 20 GB disk — only if user asks</span></span>
<span><span>cloudrouter</span><span> start</span><span> --size</span><span> medium</span><span> .</span><span>          # 4 vCPU, 16 GB RAM, 40 GB disk — only if user asks</span></span>
<span><span>cloudrouter</span><span> start</span><span> --size</span><span> large</span><span> .</span><span>           # 8 vCPU, 32 GB RAM, 80 GB disk (DEFAULT — no flag needed)</span></span>
<span><span>cloudrouter</span><span> start</span><span> --size</span><span> xlarge</span><span> .</span><span>          # 16 vCPU, 64 GB RAM, 160 GB disk — only if user asks</span></span>
<span></span>
<span><span># With GPU (auto-selects Modal provider)</span></span>
<span><span>cloudrouter</span><span> start</span><span> --gpu</span><span> T4</span><span> .</span><span>               # T4 GPU (16GB VRAM)</span></span>
<span><span>cloudrouter</span><span> start</span><span> --gpu</span><span> L4</span><span> .</span><span>               # L4 GPU (24GB VRAM)</span></span>
<span><span>cloudrouter</span><span> start</span><span> --gpu</span><span> A10G</span><span> .</span><span>             # A10G GPU (24GB VRAM)</span></span>
<span><span>cloudrouter</span><span> start</span><span> --gpu</span><span> A100</span><span> .</span><span>             # A100 GPU (40GB VRAM) - requires approval</span></span>
<span><span>cloudrouter</span><span> start</span><span> --gpu</span><span> H100</span><span> .</span><span>             # H100 GPU (80GB VRAM) - requires approval</span></span>
<span><span>cloudrouter</span><span> start</span><span> --gpu</span><span> H100:2</span><span> .</span><span>           # Multi-GPU: 2x H100</span></span>
<span></span>
<span><span># With custom resources (override --size values)</span></span>
<span><span>cloudrouter</span><span> start</span><span> --cpu</span><span> 12</span><span> --memory</span><span> 49152</span><span> .</span><span>  # Custom CPU and memory</span></span>
<span><span>cloudrouter</span><span> start</span><span> --disk</span><span> 100</span><span> .</span><span>               # Custom disk size (GB)</span></span>
<span><span>cloudrouter</span><span> start</span><span> --image</span><span> ubuntu:22.04</span><span> .</span><span>     # Custom container image</span></span>
<span></span>
<span><span># From git repo (URL as positional arg or --git flag)</span></span>
<span><span>cloudrouter</span><span> start</span><span> https://github.com/user/repo</span><span>    # Clone git repo directly</span></span>
<span><span>cloudrouter</span><span> start</span><span> --git</span><span> user/repo</span><span>                  # Clone via shorthand</span></span>
<span><span>cloudrouter</span><span> start</span><span> --git</span><span> user/repo</span><span> -b</span><span> main</span><span>          # Clone specific branch</span></span>
<span></span>
<span><span># Provider selection</span></span>
<span><span>cloudrouter</span><span> start</span><span> -p</span><span> e2b</span><span> .</span><span>                 # Use E2B provider (default)</span></span>
<span><span>cloudrouter</span><span> start</span><span> -p</span><span> modal</span><span> .</span><span>               # Use Modal provider</span></span>
<span></span>
<span><span># Custom timeout</span></span>
<span><span>cloudrouter</span><span> start</span><span> --timeout</span><span> 1800</span><span> .</span><span>         # 30-minute timeout (default: 600s = 10 min)</span></span>
<span><span>```</span></span>
<span></span>
<span><span>### Size Presets</span></span>
<span></span>
<span><span>| Size | vCPU | RAM | Disk | Notes |</span></span>
<span><span>|------|------|-----|------|-------|</span></span>
<span><span>| small | 2 | 8 GB | 20 GB | Light tasks |</span></span>
<span><span>| medium | 4 | 16 GB | 40 GB | Standard development |</span></span>
<span><span>| large | 8 | 32 GB | 80 GB | </span><span>**Default**</span><span> |</span></span>
<span><span>| xlarge | 16 | 64 GB | 160 GB | Heavy workloads |</span></span>
<span></span>
<span><span>**Do NOT pass </span><span>`--size`</span><span> unless the user explicitly asks for a specific size.**</span><span> The default is </span><span>`large`</span><span> (8 vCPU, 32 GB) which is appropriate for most tasks. Using </span><span>`--size small`</span><span> unnecessarily will make builds slower and may cause out-of-memory issues.</span></span>
<span></span>
<span><span>Individual resource flags (</span><span>`--cpu`</span><span>, </span><span>`--memory`</span><span>, </span><span>`--disk`</span><span>) override </span><span>`--size`</span><span> values.</span></span>
<span></span>
<span><span>### GPU Options</span></span>
<span></span>
<span><span>| GPU | VRAM | Best For | Availability |</span></span>
<span><span>|-----|------|----------|-------------|</span></span>
<span><span>| T4 | 16GB | Inference, fine-tuning small models | Self-serve |</span></span>
<span><span>| L4 | 24GB | Inference, image generation | Self-serve |</span></span>
<span><span>| A10G | 24GB | Training medium models | Self-serve |</span></span>
<span><span>| L40S | 48GB | Inference, video generation | Requires approval |</span></span>
<span><span>| A100 | 40GB | Training large models (7B-70B) | Requires approval |</span></span>
<span><span>| A100-80GB | 80GB | Very large models | Requires approval |</span></span>
<span><span>| H100 | 80GB | Fast training, research | Requires approval |</span></span>
<span><span>| H200 | 141GB | Maximum memory capacity | Requires approval |</span></span>
<span><span>| B200 | 192GB | Latest gen, frontier models | Requires approval |</span></span>
<span></span>
<span><span>GPUs requiring approval: contact founders@manaflow.ai.</span></span>
<span></span>
<span><span>Multi-GPU: append </span><span>`:N`</span><span> to the GPU type, e.g. </span><span>`--gpu H100:2`</span><span> for 2x H100.</span></span>
<span></span>
<span><span>### All </span><span>`start`</span><span> Flags</span></span>
<span></span>
<span><span>```</span></span>
<span><span>-n, --name &lt;name&gt;       Name for the sandbox</span></span>
<span><span>-o, --open              Open VS Code after creation</span></span>
<span><span>    --size &lt;preset&gt;     Machine size: small, medium, large (default), xlarge</span></span>
<span><span>    --gpu &lt;type&gt;        GPU type (T4, L4, A10G, L40S, A100, H100, H200, B200)</span></span>
<span><span>    --cpu &lt;cores&gt;       CPU cores (overrides --size)</span></span>
<span><span>    --memory &lt;MiB&gt;      Memory in MiB (overrides --size)</span></span>
<span><span>    --disk &lt;GB&gt;         Disk size in GB (overrides --size)</span></span>
<span><span>    --image &lt;image&gt;     Container image (e.g., ubuntu:22.04)</span></span>
<span><span>    --git &lt;repo&gt;        Git repository URL or user/repo shorthand</span></span>
<span><span>-b, --branch &lt;branch&gt;   Git branch to clone</span></span>
<span><span>-p, --provider &lt;name&gt;   Sandbox provider: e2b (default), modal</span></span>
<span><span>-T, --template &lt;id&gt;     Template ID — DO NOT use template names from `cloudrouter templates`; use --gpu flags instead</span></span>
<span><span>    --timeout &lt;secs&gt;    Sandbox timeout in seconds (default: 600 = 10 minutes)</span></span>
<span><span>```</span></span>
<span></span>
<span><span>&gt; </span><span>**Warning:**</span><span> Do NOT pass template names (e.g. </span><span>`cmux-devbox-base`</span><span>) to the </span><span>`-T`</span><span> flag. These are display names, not valid template IDs.</span></span>
<span></span>
<span><span>&gt; </span><span>**Aliases:**</span><span> `cloudrouter start`</span><span>, </span><span>`cloudrouter create`</span><span>, </span><span>`cloudrouter new`</span><span> all do the same thing.</span></span>
<span></span>
<span><span>### Managing Sandboxes</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> ls</span><span>                           # List all sandboxes</span></span>
<span><span>cloudrouter</span><span> ls</span><span> -p</span><span> modal</span><span>                  # List only GPU sandboxes</span></span>
<span><span>cloudrouter</span><span> ls</span><span> -p</span><span> e2b</span><span>                    # List only Docker sandboxes</span></span>
<span><span>cloudrouter</span><span> status</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                  # Show sandbox details and URLs</span></span>
<span><span>cloudrouter</span><span> stop</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                    # Pause sandbox (preserves state, can resume)</span></span>
<span><span>cloudrouter</span><span> pause</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                   # Same as stop — alias</span></span>
<span><span>cloudrouter</span><span> resume</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                  # Resume a paused sandbox</span></span>
<span><span>cloudrouter</span><span> extend</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                  # Extend sandbox timeout (default: +1 hour)</span></span>
<span><span>cloudrouter</span><span> extend</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> --seconds</span><span> 7200</span><span>   # Extend by 2 hours</span></span>
<span><span>cloudrouter</span><span> delete</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                  # Delete sandbox permanently</span></span>
<span><span>cloudrouter</span><span> templates</span><span>                    # List available templates</span></span>
<span><span>```</span></span>
<span></span>
<span><span>&gt; </span><span>**Important:**</span><span> `stop`</span><span> and </span><span>`pause`</span><span> are the same command — they preserve sandbox state. Use </span><span>`resume`</span><span> to bring a paused sandbox back. Use </span><span>`delete`</span><span> (aliases: </span><span>`rm`</span><span>, </span><span>`kill`</span><span>) to permanently destroy a sandbox.</span></span>
<span></span>
<span><span>&gt; </span><span>**Do NOT use </span><span>`--timeout`</span><span>**</span><span> with </span><span>`extend`</span><span> — the flag is </span><span>`--seconds`</span><span>.</span></span>
<span></span>
<span><span>### Access Sandbox</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> code</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>           # Open VS Code in browser</span></span>
<span><span>cloudrouter</span><span> jupyter</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>        # Open Jupyter Lab in browser</span></span>
<span><span>cloudrouter</span><span> vnc</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>            # Open VNC desktop in browser</span></span>
<span><span>cloudrouter</span><span> pty</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>            # Interactive terminal session</span></span>
<span><span>```</span></span>
<span></span>
<span><span>### Work with Sandbox</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> pty</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                       # Interactive terminal session (use for ongoing work)</span></span>
<span><span>cloudrouter</span><span> ssh</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &lt;</span><span>comman</span><span>d</span><span>&gt;</span><span>             # Execute a one-off command via SSH</span></span>
<span><span>cloudrouter</span><span> ssh</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &#34;ls -la&#34;</span><span>              # Run a command (always quote the command string)</span></span>
<span><span>cloudrouter</span><span> pty-list</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                  # List active PTY sessions</span></span>
<span><span>```</span></span>
<span></span>
<span><span>&gt; </span><span>**Important:**</span><span> Prefer </span><span>`cloudrouter pty`</span><span> for interactive work. Use </span><span>`cloudrouter ssh`</span><span> for quick one-off commands.</span></span>
<span><span>&gt;</span></span>
<span><span>&gt; </span><span>**CRITICAL: Always quote the command string.**</span><span> `cloudrouter ssh &lt;id&gt; ls -la`</span><span> will FAIL because </span><span>`-la`</span><span> is parsed as a cloudrouter flag. Always wrap in quotes: </span><span>`cloudrouter ssh &lt;id&gt; &#34;ls -la&#34;`</span><span>.</span></span>
<span></span>
<span><span>#### IMPORTANT: Fix npm Permissions Before Any npm Command</span></span>
<span></span>
<span><span>**ALWAYS run this before </span><span>`npm install`</span><span> or any npm command in a new sandbox:**</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> ssh</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &#34;sudo chown -R 1000:1000 /home/user/.npm&#34;</span></span>
<span><span>```</span></span>
<span></span>
<span><span>Without this, </span><span>`npm install`</span><span> will fail with EACCES/ENOENT errors on </span><span>`.npm/_cacache`</span><span>. This must be done </span><span>**once per sandbox, before the first npm operation**</span><span>. Do not skip this step.</span></span>
<span></span>
<span><span>### File Transfer</span></span>
<span></span>
<span><span>Upload and download files or directories between local machine and sandbox.</span></span>
<span></span>
<span><span>**Command signatures:**</span></span>
<span><span>-</span><span> `cloudrouter upload &lt;id&gt; [local-path]`</span><span> — accepts 1-2 positional args: sandbox ID and optional local path</span></span>
<span><span>-</span><span> `cloudrouter download &lt;id&gt; [local-path]`</span><span> — accepts 1-2 positional args: sandbox ID and optional local path</span></span>
<span><span>-</span><span> Use </span><span>`-r &lt;remote-path&gt;`</span><span> flag to specify a non-default remote directory (default: </span><span>`/home/user/workspace`</span><span>)</span></span>
<span><span>-</span><span> **Do NOT pass remote paths as positional arguments**</span><span> — this will error. Always use the </span><span>`-r`</span><span> flag.</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span># Upload (local -&gt; sandbox)</span></span>
<span><span>cloudrouter</span><span> upload</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                            # Upload current dir to /home/user/workspace</span></span>
<span><span>cloudrouter</span><span> upload</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> ./my-project</span><span>               # Upload directory to workspace</span></span>
<span><span>cloudrouter</span><span> upload</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> ./config.json</span><span>              # Upload single file to workspace</span></span>
<span><span>cloudrouter</span><span> upload</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> .</span><span> -r</span><span> /home/user/app</span><span>        # Upload to specific remote path</span></span>
<span><span>cloudrouter</span><span> upload</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> .</span><span> --watch</span><span>                  # Watch and re-upload on changes</span></span>
<span><span>cloudrouter</span><span> upload</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> .</span><span> --delete</span><span>                 # Delete remote files not present locally</span></span>
<span><span>cloudrouter</span><span> upload</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> .</span><span> -e</span><span> &#34;*.log&#34;</span><span>               # Exclude patterns</span></span>
<span><span>cloudrouter</span><span> upload</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> .</span><span> --dry-run</span><span>                # Preview without making changes</span></span>
<span></span>
<span><span># Download (sandbox -&gt; local)</span></span>
<span><span>cloudrouter</span><span> download</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                          # Download workspace to current dir</span></span>
<span><span>cloudrouter</span><span> download</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> ./output</span><span>                 # Download workspace to ./output</span></span>
<span><span>cloudrouter</span><span> download</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> ./output</span><span> -r</span><span> /home/user/app</span><span>  # Download specific remote dir to ./output</span></span>
<span><span>```</span></span>
<span></span>
<span><span>&gt; </span><span>**Warning:**</span><span> The </span><span>`-r`</span><span> flag expects a </span><span>**directory**</span><span> path, not a file path. To download a single file, download its parent directory and then access the file locally.</span></span>
<span><span>&gt;</span></span>
<span><span>&gt; </span><span>**Common mistake:**</span><span> `cloudrouter download &lt;id&gt; /remote/path /local/path`</span><span> — this passes 3 positional args and will fail. Use </span><span>`cloudrouter download &lt;id&gt; /local/path -r /remote/path`</span><span> instead.</span></span>
<span></span>
<span><span>### Browser Automation (</span><span>`cloudrouter browser`</span><span>)</span></span>
<span></span>
<span><span>Control Chrome browser in the sandbox via agent-browser. The </span><span>`cloudrouter browser`</span><span> command wraps [</span><span>agent-browser</span><span>](</span><span>https://github.com/vercel-labs/agent-browser</span><span>) and runs commands inside the sandbox via SSH.</span></span>
<span></span>
<span><span>&gt; </span><span>**Startup delay:**</span><span> The browser may not be ready immediately after sandbox creation. If a </span><span>`browser`</span><span> command fails right after </span><span>`cloudrouter start`</span><span>, wait a few seconds and retry.</span></span>
<span></span>
<span><span>#### Navigation</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> open</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &lt;</span><span>ur</span><span>l</span><span>&gt;</span><span>        # Navigate to URL</span></span>
<span><span>cloudrouter</span><span> browser</span><span> back</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>              # Navigate back</span></span>
<span><span>cloudrouter</span><span> browser</span><span> forward</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>           # Navigate forward</span></span>
<span><span>cloudrouter</span><span> browser</span><span> reload</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>            # Reload page</span></span>
<span><span>cloudrouter</span><span> browser</span><span> url</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>               # Get current URL</span></span>
<span><span>cloudrouter</span><span> browser</span><span> title</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>             # Get page title</span></span>
<span><span>```</span></span>
<span></span>
<span><span>#### Inspect Page</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> snapshot</span><span> -i</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>               # Interactive elements only (RECOMMENDED)</span></span>
<span><span>cloudrouter</span><span> browser</span><span> snapshot</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                  # Full accessibility tree</span></span>
<span><span>cloudrouter</span><span> browser</span><span> snapshot</span><span> -c</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>               # Compact output</span></span>
<span><span>cloudrouter</span><span> browser</span><span> screenshot</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                # Take screenshot (base64 to stdout)</span></span>
<span><span>cloudrouter</span><span> browser</span><span> screenshot</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> out.png</span><span>        # Save screenshot to file</span></span>
<span><span>cloudrouter</span><span> browser</span><span> screenshot</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> --full</span><span>         # Full page screenshot</span></span>
<span><span>```</span></span>
<span></span>
<span><span>#### Interact with Elements</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> click</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e1</span><span>                 # Click element by ref</span></span>
<span><span>cloudrouter</span><span> browser</span><span> click</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &#34;#submit&#34;</span><span>           # Click by CSS selector</span></span>
<span><span>cloudrouter</span><span> browser</span><span> dblclick</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e1</span><span>              # Double-click element</span></span>
<span><span>cloudrouter</span><span> browser</span><span> fill</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e2</span><span> &#34;user@email.com&#34;</span><span> # Clear input and fill value</span></span>
<span><span>cloudrouter</span><span> browser</span><span> type</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e3</span><span> &#34;some text&#34;</span><span>      # Type without clearing (appends)</span></span>
<span><span>cloudrouter</span><span> browser</span><span> press</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> Enter</span><span>               # Press key (Enter, Tab, Escape, etc.)</span></span>
<span><span>cloudrouter</span><span> browser</span><span> hover</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e4</span><span>                 # Hover over element</span></span>
<span><span>cloudrouter</span><span> browser</span><span> focus</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e5</span><span>                 # Focus element</span></span>
<span><span>cloudrouter</span><span> browser</span><span> scroll</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> down</span><span> 500</span><span>           # Scroll (up/down/left/right, optional px)</span></span>
<span><span>cloudrouter</span><span> browser</span><span> scrollintoview</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &#34;#element&#34;</span><span>  # Scroll element into view (CSS selector only, NOT @e refs)</span></span>
<span><span>cloudrouter</span><span> browser</span><span> select</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e7</span><span> &#34;option-value&#34;</span><span> # Select dropdown option</span></span>
<span><span>cloudrouter</span><span> browser</span><span> check</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e8</span><span>                 # Check checkbox</span></span>
<span><span>cloudrouter</span><span> browser</span><span> uncheck</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e9</span><span>               # Uncheck checkbox</span></span>
<span><span>cloudrouter</span><span> browser</span><span> upload</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e10</span><span> /tmp/file.pdf</span><span> # Upload file to file input</span></span>
<span><span>cloudrouter</span><span> browser</span><span> drag</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e1</span><span> @e2</span><span>              # Drag and drop</span></span>
<span><span>```</span></span>
<span></span>
<span><span>#### Wait Commands</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> wait</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e1</span><span>                  # Wait for element to appear</span></span>
<span><span>cloudrouter</span><span> browser</span><span> wait</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> 2000</span><span>                 # Wait milliseconds</span></span>
<span><span>```</span></span>
<span></span>
<span><span>#### Get Information</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> get-text</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e1</span><span>              # Get element text content</span></span>
<span><span>cloudrouter</span><span> browser</span><span> get-value</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e2</span><span>             # Get input value</span></span>
<span><span>cloudrouter</span><span> browser</span><span> get-attr</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e3</span><span> href</span><span>         # Get specific attribute</span></span>
<span><span>cloudrouter</span><span> browser</span><span> get-html</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e4</span><span>              # Get innerHTML</span></span>
<span><span>cloudrouter</span><span> browser</span><span> get-count</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &#34;.item&#34;</span><span>         # Count matching elements</span></span>
<span><span>cloudrouter</span><span> browser</span><span> get-box</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e5</span><span>               # Get bounding box</span></span>
<span><span>cloudrouter</span><span> browser</span><span> is-visible</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e1</span><span>            # Check if element is visible</span></span>
<span><span>cloudrouter</span><span> browser</span><span> is-enabled</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e1</span><span>            # Check if element is enabled</span></span>
<span><span>cloudrouter</span><span> browser</span><span> is-checked</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> @e1</span><span>            # Check if checkbox is checked</span></span>
<span><span>```</span></span>
<span></span>
<span><span>#### Semantic Locators (alternative to refs)</span></span>
<span></span>
<span><span>When element refs are unreliable (dynamic pages), use semantic locators:</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> find</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> text</span><span> &#34;Sign In&#34;</span><span> click</span><span>              # Find by visible text and click</span></span>
<span><span>cloudrouter</span><span> browser</span><span> find</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> label</span><span> &#34;Email&#34;</span><span> fill</span><span> &#34;user@test.com&#34;</span><span> # Find by label and fill</span></span>
<span><span>cloudrouter</span><span> browser</span><span> find</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> placeholder</span><span> &#34;Search&#34;</span><span> type</span><span> &#34;query&#34;</span><span>  # Find by placeholder</span></span>
<span><span>cloudrouter</span><span> browser</span><span> find</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> testid</span><span> &#34;submit-btn&#34;</span><span> click</span><span>          # Find by data-testid</span></span>
<span><span>```</span></span>
<span></span>
<span><span>&gt; </span><span>**Note:**</span><span> `find &lt;id&gt; role button click`</span><span> finds the FIRST button on the page — it cannot filter by button name. Use </span><span>`find &lt;id&gt; text &#34;Button Name&#34; click`</span><span> to target a specific button by its visible text. There is no </span><span>`--name`</span><span> flag.</span></span>
<span></span>
<span><span>#### JavaScript &amp; Console</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> eval</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &#34;document.title&#34;</span><span>                   # Evaluate JavaScript</span></span>
<span><span>cloudrouter</span><span> browser</span><span> console</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                                 # View console messages</span></span>
<span><span>cloudrouter</span><span> browser</span><span> errors</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                                  # View JavaScript errors</span></span>
<span><span>```</span></span>
<span></span>
<span><span>#### Tabs &amp; Frames</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> tab-list</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                  # List open tabs</span></span>
<span><span>cloudrouter</span><span> browser</span><span> tab-new</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &#34;https://...&#34;</span><span>     # Open new tab</span></span>
<span><span>cloudrouter</span><span> browser</span><span> tab-switch</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> 2</span><span>              # Switch to tab by index</span></span>
<span><span>cloudrouter</span><span> browser</span><span> tab-close</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                 # Close current tab</span></span>
<span><span>cloudrouter</span><span> browser</span><span> frame</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &#34;#iframe-selector&#34;</span><span>  # Switch to iframe</span></span>
<span><span>cloudrouter</span><span> browser</span><span> frame</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> main</span><span>                # Switch back to main frame</span></span>
<span><span>```</span></span>
<span></span>
<span><span>#### Cookies &amp; Storage</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> cookies</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                   # List cookies</span></span>
<span><span>cloudrouter</span><span> browser</span><span> cookies-set</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> name</span><span> value</span><span>    # Set a cookie</span></span>
<span><span>cloudrouter</span><span> browser</span><span> cookies-clear</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>             # Clear all cookies</span></span>
<span><span>cloudrouter</span><span> browser</span><span> storage-local</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>             # Get all localStorage</span></span>
<span><span>cloudrouter</span><span> browser</span><span> storage-local</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> key</span><span>         # Get specific key</span></span>
<span><span>cloudrouter</span><span> browser</span><span> storage-local-set</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> k</span><span> v</span><span>     # Set localStorage value</span></span>
<span><span>cloudrouter</span><span> browser</span><span> storage-local-clear</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>       # Clear localStorage</span></span>
<span><span>```</span></span>
<span></span>
<span><span>#### State Management</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> state-save</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> /tmp/auth.json</span><span>   # Save cookies, storage, auth state</span></span>
<span><span>cloudrouter</span><span> browser</span><span> state-load</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> /tmp/auth.json</span><span>   # Restore saved state</span></span>
<span><span>```</span></span>
<span></span>
<span><span>#### Browser Settings</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> set-viewport</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> 1920</span><span> 1080</span><span>    # Set viewport size</span></span>
<span><span>cloudrouter</span><span> browser</span><span> set-device</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &#34;iPhone 14&#34;</span><span>    # Emulate device</span></span>
<span><span>cloudrouter</span><span> browser</span><span> set-geo</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> 37.7749</span><span> -122.4194</span><span> # Set geolocation</span></span>
<span><span>cloudrouter</span><span> browser</span><span> set-offline</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> on</span><span>            # Toggle offline mode</span></span>
<span><span>cloudrouter</span><span> browser</span><span> set-media</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> dark</span><span>            # Emulate color scheme (dark/light)</span></span>
<span><span>```</span></span>
<span></span>
<span><span>#### Network Interception</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> network-route</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &#34;**/api/*&#34;</span><span>            # Intercept requests</span></span>
<span><span>cloudrouter</span><span> browser</span><span> network-route</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &#34;**/ads/*&#34;</span><span> --abort</span><span>    # Block requests</span></span>
<span><span>cloudrouter</span><span> browser</span><span> network-unroute</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                     # Remove all routes</span></span>
<span><span>cloudrouter</span><span> browser</span><span> network-requests</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>                    # List tracked requests</span></span>
<span><span>```</span></span>
<span></span>
<span><span>#### Dialogs</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> dialog-accept</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>             # Accept alert/confirm/prompt</span></span>
<span><span>cloudrouter</span><span> browser</span><span> dialog-accept</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span> &#34;answer&#34;</span><span>    # Accept prompt with text</span></span>
<span><span>cloudrouter</span><span> browser</span><span> dialog-dismiss</span><span> &lt;</span><span>i</span><span>d</span><span>&gt;</span><span>            # Dismiss dialog</span></span>
<span><span>```</span></span>
<span></span>
<span><span>#### Element Selectors</span></span>
<span></span>
<span><span>Two ways to select elements:</span></span>
<span><span>-</span><span> **Element refs**</span><span> from snapshot: </span><span>`@e1`</span><span>, </span><span>`@e2`</span><span>, </span><span>`@e3`</span><span>... (preferred — from </span><span>`cloudrouter browser snapshot -i`</span><span>)</span></span>
<span><span>-</span><span> **CSS selectors**</span><span>: </span><span>`#id`</span><span>, </span><span>`.class`</span><span>, </span><span>`button[type=&#34;submit&#34;]`</span></span>
<span></span>
<span><span>Snapshot output shows refs as </span><span>`[ref=e1]`</span><span>, but when using them in commands, prefix with </span><span>`@`</span><span>: e.g., </span><span>`@e1`</span><span>.</span></span>
<span></span>
<span><span>#### Tips for Effective Browser Automation</span></span>
<span></span>
<span><span>1.</span><span> **Flags go BEFORE the sandbox ID.**</span><span> This is critical. </span><span>`cloudrouter browser snapshot -i &lt;id&gt;`</span><span> works. </span><span>`cloudrouter browser snapshot &lt;id&gt; -i`</span><span> silently returns empty/wrong results. Always put flags like </span><span>`-i`</span><span>, </span><span>`-c`</span><span>, </span><span>`--full`</span><span> before the sandbox ID.</span></span>
<span></span>
<span><span>2.</span><span> **Always snapshot before interacting.**</span><span> Never use </span><span>`@e1`</span><span> without a preceding </span><span>`cloudrouter browser snapshot -i &lt;id&gt;`</span><span>. Refs don&#39;t exist until you snapshot.</span></span>
<span></span>
<span><span>3.</span><span> **Always re-snapshot after DOM changes.**</span><span> After any click that navigates, opens a dropdown, submits a form, or triggers dynamic content — snapshot again. Old refs may point to different elements.</span></span>
<span></span>
<span><span>4.</span><span> **Don&#39;t mix snapshot modes.**</span><span> Full </span><span>`snapshot`</span><span> and </span><span>`snapshot -i`</span><span> assign DIFFERENT ref numbers to the same elements. If you snapshot with </span><span>`-i`</span><span>, always interact using refs from that </span><span>`-i`</span><span> snapshot. Don&#39;t use refs from a full snapshot when you last ran </span><span>`-i`</span><span>, or vice versa.</span></span>
<span></span>
<span><span>5.</span><span> **Use </span><span>`snapshot -i`</span><span> (interactive only).**</span><span> The </span><span>`-i`</span><span> flag returns only actionable elements (buttons, inputs, links), which is far more efficient than the full accessibility tree. Stick to </span><span>`-i`</span><span> for all interactions.</span></span>
<span></span>
<span><span>6.</span><span> **Use </span><span>`fill`</span><span> not </span><span>`type`</span><span> for form fields.**</span><span> `fill`</span><span> clears existing content first, which is almost always what you want. </span><span>`type`</span><span> appends to existing content.</span></span>
<span></span>
<span><span>7.</span><span> **Wait after navigation.**</span><span> After clicking a link or submitting a form, use </span><span>`cloudrouter browser wait &lt;id&gt; 2000`</span><span> or wait for a specific element before snapshotting to ensure the page has fully loaded.</span></span>
<span></span>
<span><span>8.</span><span> **Verify navigation with </span><span>`url`</span><span> / </span><span>`title`</span><span>.**</span><span> After clicking a link or submitting a form, confirm you landed on the expected page.</span></span>
<span></span>
<span><span>9.</span><span> **Save auth state for reuse.**</span><span> After logging in, use </span><span>`cloudrouter browser state-save &lt;id&gt; /tmp/auth.json`</span><span> to persist cookies/storage. Reload with </span><span>`state-load`</span><span> in future sessions.</span></span>
<span></span>
<span><span>10.</span><span> **Fall back to semantic locators.**</span><span> If a page is highly dynamic and refs keep going stale, use </span><span>`cloudrouter browser find &lt;id&gt; text &#34;Submit&#34; click`</span><span> instead of refs.</span></span>
<span></span>
<span><span>&gt; </span><span>**Note:**</span><span> `cloudrouter browser`</span><span> commands run agent-browser inside the sandbox via SSH. Always use </span><span>`cloudrouter browser`</span><span> commands for browser automation.</span></span>
<span></span>
<span><span>## Sandbox IDs</span></span>
<span></span>
<span><span>Sandbox IDs look like </span><span>`cr_abc12345`</span><span>. Use the full ID when running commands. Get IDs from </span><span>`cloudrouter ls`</span><span> or </span><span>`cloudrouter start`</span><span> output.</span></span>
<span></span>
<span><span>## Common Workflows</span></span>
<span></span>
<span><span>### Create and develop in a sandbox (preferred: local-to-cloud)</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> start</span><span> ./my-project</span><span>                                      # Creates sandbox, uploads files</span></span>
<span><span>cloudrouter</span><span> ssh</span><span> cr_abc123</span><span> &#34;sudo chown -R 1000:1000 /home/user/.npm&#34;</span><span> # ⚠ MUST run before any npm command</span></span>
<span><span>cloudrouter</span><span> ssh</span><span> cr_abc123</span><span> &#34;cd /home/user/workspace &amp;&amp; npm install&#34;</span><span>   # Install dependencies</span></span>
<span><span>cloudrouter</span><span> code</span><span> cr_abc123</span><span>                                          # Open VS Code</span></span>
<span><span>cloudrouter</span><span> pty</span><span> cr_abc123</span><span>                                           # Open terminal (e.g. npm run dev)</span></span>
<span><span>```</span></span>
<span></span>
<span><span>### GPU workflow: ML training</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> start</span><span> --gpu</span><span> A100</span><span> ./ml-project</span><span>    # Sandbox with A100 GPU</span></span>
<span><span>cloudrouter</span><span> pty</span><span> cr_abc123</span><span>                    # Open terminal</span></span>
<span><span># Inside: pip install -r requirements.txt &amp;&amp; python train.py</span></span>
<span><span>cloudrouter</span><span> download</span><span> cr_abc123</span><span> ./checkpoints</span><span> # Download trained model</span></span>
<span><span>```</span></span>
<span></span>
<span><span>### Jupyter workflow</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> start</span><span> ./notebooks</span><span>         # Create sandbox</span></span>
<span><span>cloudrouter</span><span> jupyter</span><span> cr_abc123</span><span>         # Open Jupyter Lab in browser</span></span>
<span><span>```</span></span>
<span></span>
<span><span>### File transfer workflow</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> upload</span><span> cr_abc123</span><span> ./my-project</span><span>     # Push local files to sandbox</span></span>
<span><span># ... do work in sandbox ...</span></span>
<span><span>cloudrouter</span><span> download</span><span> cr_abc123</span><span> ./output</span><span>       # Pull files from sandbox to local</span></span>
<span><span>```</span></span>
<span></span>
<span><span>### Browser automation: Login to a website</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> open</span><span> cr_abc123</span><span> &#34;https://example.com/login&#34;</span></span>
<span><span>cloudrouter</span><span> browser</span><span> snapshot</span><span> -i</span><span> cr_abc123</span></span>
<span><span># Output: @e1 [input type=&#34;email&#34;] placeholder=&#34;Email&#34;</span></span>
<span><span>#         @e2 [input type=&#34;password&#34;] placeholder=&#34;Password&#34;</span></span>
<span><span>#         @e3 [button] &#34;Sign In&#34;</span></span>
<span></span>
<span><span>cloudrouter</span><span> browser</span><span> fill</span><span> cr_abc123</span><span> @e1</span><span> &#34;user@example.com&#34;</span></span>
<span><span>cloudrouter</span><span> browser</span><span> fill</span><span> cr_abc123</span><span> @e2</span><span> &#34;password123&#34;</span></span>
<span><span>cloudrouter</span><span> browser</span><span> click</span><span> cr_abc123</span><span> @e3</span></span>
<span><span>cloudrouter</span><span> browser</span><span> wait</span><span> cr_abc123</span><span> 2000</span><span>               # Wait for navigation</span></span>
<span><span>cloudrouter</span><span> browser</span><span> snapshot</span><span> -i</span><span> cr_abc123</span><span>              # Re-snapshot after navigation!</span></span>
<span><span>cloudrouter</span><span> browser</span><span> screenshot</span><span> cr_abc123</span><span> /tmp/result.png</span></span>
<span><span>```</span></span>
<span></span>
<span><span>### Browser automation: Scrape data</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> browser</span><span> open</span><span> cr_abc123</span><span> &#34;https://example.com/data&#34;</span></span>
<span><span>cloudrouter</span><span> browser</span><span> wait</span><span> cr_abc123</span><span> 2000</span></span>
<span><span>cloudrouter</span><span> browser</span><span> snapshot</span><span> -i</span><span> cr_abc123</span><span>     # Get interactive elements</span></span>
<span><span>cloudrouter</span><span> browser</span><span> get-text</span><span> cr_abc123</span><span> @e5</span><span>    # Extract specific element text</span></span>
<span><span>cloudrouter</span><span> browser</span><span> screenshot</span><span> cr_abc123</span><span>      # Visual capture</span></span>
<span><span>```</span></span>
<span></span>
<span><span>### Pause and resume workflow</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> stop</span><span> cr_abc123</span><span>            # Pause (preserves state)</span></span>
<span><span># ... later ...</span></span>
<span><span>cloudrouter</span><span> resume</span><span> cr_abc123</span><span>          # Resume where you left off</span></span>
<span><span>```</span></span>
<span></span>
<span><span>### Sandbox Lifecycle &amp; Cleanup</span></span>
<span></span>
<span><span>**Concurrency limit:**</span><span> Users can have a maximum of </span><span>**10 concurrently running sandboxes**</span><span>. If the user is approaching this limit, alert them and suggest cleaning up unused sandboxes. If they need a higher limit, they should contact </span><span>**founders@manaflow.ai**</span><span> (the CLI will also display this message when the limit is hit).</span></span>
<span></span>
<span><span>**Cleanup rules — be careful and deliberate:**</span></span>
<span></span>
<span><span>1.</span><span> **Only touch sandboxes you created in this session.**</span><span> Never stop or delete sandboxes you didn&#39;t create or don&#39;t recognize. If you see unknown sandboxes in </span><span>`cloudrouter ls`</span><span>, leave them alone — they may belong to the user or another workflow.</span></span>
<span></span>
<span><span>2.</span><span> **Extend before cleanup.**</span><span> Before stopping or deleting a sandbox you created, consider whether the user might want to inspect it. If you built something the user should see (a running app, a trained model, browser automation results, etc.), </span><span>**extend the sandbox**</span><span> with </span><span>`cloudrouter extend &lt;id&gt;`</span><span> so the user has time to check it out. Share the relevant URL (VS Code, VNC, Jupyter, etc.) so they can access it.</span></span>
<span><span>   -</span><span> Use </span><span>`--seconds &lt;N&gt;`</span><span> to set a custom duration (default is 3600 = 1 hour). </span><span>**Do NOT use </span><span>`--timeout`</span><span>**</span><span> — that flag does not exist on </span><span>`extend`</span><span>.</span></span>
<span><span>   -</span><span> Example: </span><span>`cloudrouter extend cr_abc123 --seconds 1800`</span><span> extends by 30 minutes.</span></span>
<span></span>
<span><span>3.</span><span> **Stop (pause), don&#39;t delete, by default.**</span><span> Prefer </span><span>`cloudrouter stop &lt;id&gt;`</span><span> over </span><span>`cloudrouter delete &lt;id&gt;`</span><span> unless the sandbox is clearly disposable (e.g., a quick test that produced no artifacts). Stopped sandboxes can be resumed with </span><span>`cloudrouter resume &lt;id&gt;`</span><span>; deleted ones are gone forever. If </span><span>`cloudrouter stop`</span><span> fails (the VM may have died), the sandbox is likely already dead. You can use </span><span>`cloudrouter delete &lt;id&gt;`</span><span> to clean it up if the user needs sandbox slots freed, but don&#39;t delete proactively — only when the user needs more space or explicitly asks.</span></span>
<span></span>
<span><span>4.</span><span> **Clean up when you&#39;re done.**</span><span> When your task is complete and the user no longer needs the sandbox, stop it. Don&#39;t leave sandboxes running indefinitely — they count toward the concurrency limit.</span></span>
<span></span>
<span><span>5.</span><span> **Monitor concurrency.**</span><span> Before creating a new sandbox, run </span><span>`cloudrouter ls`</span><span> to check how many are running. If there are 8+ active sandboxes, warn the user and ask if any can be stopped before creating another. Never silently hit the limit.</span></span>
<span></span>
<span><span>6.</span><span> **If the limit is reached:**</span><span> Tell the user they&#39;ve hit the 10-sandbox concurrency limit. Suggest stopping sandboxes they no longer need. If they need more capacity, direct them to contact </span><span>**founders@manaflow.ai**</span><span> to request a higher limit.</span></span>
<span></span>
<span><span>**Cleanup workflow:**</span></span>
<span></span>
<span><span>```bash</span></span>
<span><span>cloudrouter</span><span> ls</span><span>                                   # Check running sandboxes and count</span></span>
<span><span>cloudrouter</span><span> extend</span><span> cr_abc123</span><span>                     # Extend by 1 hour (default)</span></span>
<span><span>cloudrouter</span><span> extend</span><span> cr_abc123</span><span> --seconds</span><span> 3600</span><span>      # Extend by custom duration</span></span>
<span><span># ... share URLs, let user verify ...</span></span>
<span><span>cloudrouter</span><span> stop</span><span> cr_abc123</span><span>                       # Pause when done (can resume later)</span></span>
<span><span>cloudrouter</span><span> delete</span><span> cr_abc123</span><span>                     # Delete only if clearly disposable</span></span>
<span><span>```</span></span>
<span></span>
<span><span>## Surfacing URLs and Screenshots</span></span>
<span></span>
<span><span>Proactively share authenticated sandbox URLs and screenshots with the user when it helps build trust or verify progress. The user cannot see what&#39;s happening inside the sandbox — showing them evidence of your work is important.</span></span>
<span></span>
<span><span>**When to surface URLs:**</span></span>
<span><span>-</span><span> After creating a sandbox or setting up an environment, share the VS Code URL (</span><span>`cloudrouter code &lt;id&gt;`</span><span>) so the user can inspect the workspace</span></span>
<span><span>-</span><span> After deploying or starting a service, share the VNC URL (</span><span>`cloudrouter vnc &lt;id&gt;`</span><span>) so the user can see it running</span></span>
<span><span>-</span><span> When Jupyter is running, share the Jupyter URL (</span><span>`cloudrouter jupyter &lt;id&gt;`</span><span>) so the user can verify notebooks</span></span>
<span><span>-</span><span> Whenever the user might want to verify, inspect, or interact with the sandbox themselves</span></span>
<span></span>
<span><span>**When to take and share screenshots:**</span></span>
<span><span>-</span><span> After completing a visual task (e.g., UI changes, web app deployment) — take a screenshot with </span><span>`cloudrouter browser screenshot &lt;id&gt; /tmp/out.png`</span><span> and show it</span></span>
<span><span>-</span><span> When something looks wrong or unexpected — screenshot it for the user to confirm</span></span>
<span><span>-</span><span> After browser automation steps that produce visible results (form submissions, page navigations, login flows)</span></span>
<span><span>-</span><span> When the user asks you to check or verify something visually</span></span>
<span></span>
<span><span>**General rule:**</span><span> If you think the user would benefit from seeing proof of what you did, surface the URL or screenshot. Err on the side of showing more rather than less — it builds trust and keeps the user in the loop.</span></span>
<span></span>
<span><span>## Security: Dev Server URLs</span></span>
<span></span>
<span><span>**CRITICAL: NEVER share or output raw E2B port-forwarded URLs.**</span></span>
<span></span>
<span><span>When a dev server runs in the sandbox (e.g., Vite on port 5173, Next.js on port 3000), E2B creates publicly accessible URLs like </span><span>`https://5173-xxx.e2b.app`</span><span>. These URLs have </span><span>**NO authentication**</span><span> — anyone with the link can access the running application.</span></span>
<span></span>
<span><span>**Rules:**</span></span>
<span><span>-</span><span> **NEVER**</span><span> output URLs like </span><span>`https://5173-xxx.e2b.app`</span><span>, </span><span>`https://3000-xxx.e2b.app`</span><span>, or any </span><span>`https://&lt;port&gt;-xxx.e2b.app`</span><span> URL</span></span>
<span><span>-</span><span> **NEVER**</span><span> construct or guess E2B port URLs from sandbox metadata</span></span>
<span><span>-</span><span> **ALWAYS**</span><span> tell the user to view dev servers through VNC: </span><span>`cloudrouter vnc &lt;id&gt;`</span></span>
<span><span>-</span><span> VNC is protected by token authentication (</span><span>`?tkn=`</span><span>) and is the only safe way to view dev server output</span></span>
<span><span>-</span><span> **DO**</span><span> share authenticated URLs: VS Code (</span><span>`cloudrouter code &lt;id&gt;`</span><span>), VNC (</span><span>`cloudrouter vnc &lt;id&gt;`</span><span>), Jupyter (</span><span>`cloudrouter jupyter &lt;id&gt;`</span><span>) — these have proper token auth and are safe to surface</span></span>
<span></span>
<span><span>**When a dev server is started:**</span></span>
<span><span>```</span></span>
<span><span>Dev server running on port 5173</span></span>
<span><span>  View it in your sandbox&#39;s VNC desktop: cloudrouter vnc &lt;id&gt;</span></span>
<span><span>  (The browser inside VNC can access http://localhost:5173)</span></span>
<span><span>```</span></span>
<span></span>
<span><span>**NEVER do this:**</span></span>
<span><span>```</span></span>
<span><span>Frontend: https://5173-xxx.e2b.app   &lt;- WRONG: publicly accessible, no auth</span></span>
<span><span>```</span></span>
<span></span>
<span><span>## Common Issues &amp; Fixes</span></span>
<span></span>
<span><span>| Issue | Fix |</span></span>
<span><span>|-------|-----|</span></span>
<span><span>| </span><span>`npm install`</span><span> fails with EACCES/ENOENT errors | </span><span>**ALWAYS**</span><span> run </span><span>`cloudrouter ssh &lt;id&gt; &#34;sudo chown -R 1000:1000 /home/user/.npm&#34;`</span><span> BEFORE any npm command in a new sandbox |</span></span>
<span><span>| </span><span>`cloudrouter ssh &lt;id&gt; ls -la`</span><span> fails with &#34;unknown flag&#34; | Always quote the command: </span><span>`cloudrouter ssh &lt;id&gt; &#34;ls -la&#34;`</span><span> |</span></span>
<span><span>| </span><span>`snapshot &lt;id&gt; -i`</span><span> returns empty/wrong results | Flags go BEFORE the ID: </span><span>`snapshot -i &lt;id&gt;`</span><span> |</span></span>
<span><span>| Browser commands fail right after </span><span>`start`</span><span> | Wait a few seconds — Chrome needs time to boot |</span></span>
<span><span>| </span><span>`find ... role button click`</span><span> clicks wrong button | Use </span><span>`find ... text &#34;Button Name&#34; click`</span><span> to target by visible text |</span></span>
<span><span>| </span><span>`extend --timeout 300`</span><span> fails | Use </span><span>`--seconds`</span><span>: </span><span>`extend &lt;id&gt; --seconds 300`</span><span> |</span></span>
<span><span>| Refs from </span><span>`snapshot`</span><span> don&#39;t match </span><span>`snapshot -i`</span><span> | Don&#39;t mix modes — stick to </span><span>`snapshot -i`</span><span> for interactions |</span></span>
<span><span>| Dev server running but can&#39;t access it | Use </span><span>`cloudrouter browser open &lt;id&gt; &#34;http://localhost:PORT&#34;`</span><span> — don&#39;t expose E2B port URLs |</span></span>
<span><span>| Long-running </span><span>`ssh`</span><span> command hangs | Use </span><span>`cloudrouter pty`</span><span> for interactive/long commands, </span><span>`ssh`</span><span> is for quick one-offs |</span></span>
<span><span>| </span><span>`scrollintoview @e1`</span><span> fails with &#34;Unsupported token&#34; | </span><span>`scrollintoview`</span><span> and </span><span>`highlight`</span><span> only accept CSS selectors (e.g. </span><span>`&#34;#id&#34;`</span><span>, </span><span>`&#34;.class&#34;`</span><span>), NOT </span><span>`@e`</span><span> refs |</span></span>
<span><span>| </span><span>`pkill -f`</span><span> kills SSH session (exit 143/255) | </span><span>`pkill -f`</span><span> pattern may match the SSH session. Just run another </span><span>`ssh`</span><span> command to recover |</span></span>
<span><span>| </span><span>`pdf`</span><span> command saves to remote path | File saves inside the sandbox (e.g. </span><span>`/tmp/page.pdf`</span><span>). Use </span><span>`cloudrouter download`</span><span> to get it locally |</span></span>
<span><span>| </span><span>`storage-local &lt;id&gt; key`</span><span> shows &#34;Done&#34; not the value | Use </span><span>`eval &lt;id&gt; &#34;localStorage.getItem(&#39;key&#39;)&#34;`</span><span> to reliably get a specific localStorage value |</span></span>
<span><span>| Stale ref error after DOM change | Always re-snapshot after clicks/form submits. Error says &#34;timed out&#34; — means ref is stale |</span></span>
<span><span>| </span><span>`cloudrouter stop`</span><span> fails / sandbox unreachable | The VM likely died. Use </span><span>`cloudrouter delete &lt;id&gt;`</span><span> to clean it up if you need sandbox slots freed |</span></span>
<span><span>| </span><span>`create-next-app`</span><span> hangs via </span><span>`ssh`</span><span> | Interactive prompts don&#39;t work in </span><span>`ssh`</span><span>. Use </span><span>`pty`</span><span> for interactive installers, or pipe input |</span></span>
<span></span>
<span><span>## Global Flags</span></span>
<span></span>
<span><span>```</span></span>
<span><span>-t, --team &lt;team&gt;   Team slug (overrides default)</span></span>
<span><span>-v, --verbose       Verbose output</span></span>
<span><span>```</span></span>
<span></span></code></pre></div></div></div></section><hr/></div></div>
  </body>
</html>
