<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.ctrl.blog/entry/cloudflare-ip-blockade.html">Original</a>
    <h1>You don’t want to be on Cloudflare’s naughty list</h1>
    
    <div id="readability-page-1" class="page"><div itemprop="https://schema.org/articleBody">
        <p>I don’t know what I did wrong, but I’ve angered one of the titans of the internet! For the last six days, my home internet connection has been partially broken. Some apps and many websites either load slowly, partially, or not at all. Everywhere I go, I’m greeted by the same blockade message from Cloudflare.</p>
        
        <p>Cloudflare is the market leader in shielding public websites from targeted traffic-saturation attacks, page load time acceleration, and Content Delivery Network (<abbr>CDN</abbr>) services. The company plays a massive role in delivering everyday internet services. Roughly one in three of the top one-million websites is shielded and accelerated through Cloudflare’s massive global data centers, according to data from analytics firm BuiltWith.</p>
        <p>Among other methods, Cloudflare uses a browser-challenge page to detect and thwart malicious and unauthorized bots. The page tests the capabilities of your web browser and tries to figure out whether you’re human. The page can be fully automated and only slows down your browsing. However, sometimes it includes a <abbr title="Completely Automated Public Turing test to tell Computers and Humans Apart">CAPTCHA</abbr> challenge that prompts you to identify letters and numbers, or images.</p>
        <p>For whatever reason, I must have done something that angered Cloudflare. Just about every website I visited from my home internet connection would result in a challenge page. The blockade lasted six days! My partner and I got uncomfortably acquainted with Cloudflare’s market dominance.</p>
        <p>We luckily weren’t pestered by too many <abbr title="Completely Automated Public Turing test to tell Computers and Humans Apart">CAPTCHA</abbr>s. However, the average webpage load time fell from the normal ≤ 4 seconds to 20–80 seconds. It felt like we’d been transported back to an earlier era with unbearably slow internet.</p>
        <p>I’m unsure if my <abbr title="Internet Protocol">IP</abbr> reputation was classified with a high bot score (likely automated requests) or given a high threat score (likely malicious request). Cloudflare doesn’t offer end-users any way to dispute or even check their <abbr title="Internet Protocol">IP</abbr> reputation scores. The company doesn’t offer end-users any support at all. Everything is automated.</p>
        <p>Unfortunately, not every web request can run the Cloudflare challenge page. Many websites only use Cloudflare with a secondary domain name that is only used to serve images, stylesheets, scripts, and other assets. So, while I could quickly load the main webpage, it often wouldn’t work properly because it couldn’t load critical assets.</p>
        
        <p>Websites don’t just serve webpages and their assets, though. Roughly half my podcasts refused to update in my podcast app. The app didn’t know what to do when presented with a browser-challenge page instead of the podcast syndication feed files it expected. It just gave up and threw up error messages.</p>
        <p>Plenty of other apps stopped working too. My partner still uses the <a href="https://www.ctrl.blog/entry/bitwarden-3m-update.html" title="“Update after 3 months with Bitwarden”">Bitwarden password manager</a>. It wouldn’t let them log in to their account to access their password vault because the login process was interrupted by a Cloudflare challenge page.</p>
        <p>I’m using an offline password vault app called <a href="https://www.ctrl.blog/entry/keepass-vs-bitwarden-server.html" title="“Why KeePass instead of self-hosting Bitwarden”">KeePassXC</a>. I must admit that I was a bit gleeful when the effort I’ve put into not having to trust and rely on a hosted password manager finally paid off!</p>
        <p>To be fair to Cloudflare, apps and podcasts aren’t allowed on its free product tier. Website administrators can configure exceptions in their Cloudflare accounts. They can mark certain web addresses as asset addresses and have them always bypass the challenge page. This option isn’t available to customers on the free tier, however.</p>
        <p>Well into the second day of Cloudflare’s blockade of my home internet connection, Google Search also began blocking requests. It required me to resolve a <abbr title="Completely Automated Public Turing test to tell Computers and Humans Apart">CAPTCHA</abbr> challenge for every other search. This luckily only lasted a day.</p>
        <p>Cloudflare shares <abbr title="Internet Protocol">IP</abbr> reputation data with partners like Google, coordinated through a program called the Bandwidth Alliance. So, my original offense might not even have been against Cloudflare. It might have received the reputation data from a partner, and it just propagated through the Bandwidth Alliance network.</p>
        
        <p>It might not even have been a problem that originated from my <abbr title="Internet Protocol">IP</abbr> address! One of my <abbr title="Internet Protocol">IP</abbr> neighbors might have done something stupid and negatively affected the whole network neighborhood for a couple of days!</p>
        <p>I had a terrible experience online for almost a week before everything cleared up. Automated decisions and backroom data-sharing had tossed a wrench into my entertainment, productivity, and online life.</p>
        <p>Section 4 of the General Data Protection Regulation (<abbr>GDPR</abbr>) grants Europeans the <q cite="https://eur-lex.europa.eu/legal-content/EN/TXT/HTML/?uri=CELEX:32016R0679&amp;from=EN">right to object to automated individual decision-making, including profiling</q>. There’s one paragraph from the regulation in particular that bears repeating:</p>
        <figure>
          <blockquote cite="https://eur-lex.europa.eu/legal-content/EN/TXT/HTML/?uri=CELEX:32016R0679&amp;from=EN">
            <p>[Europeans] shall have the right not to be subject to a decision based solely on automated processing, including profiling, which produces legal effects concerning [them] or similarly significantly affects [them].</p>
          </blockquote>
          <figcaption>
            <p><cite><abbr title="General Data Protection Regulation">GDPR</abbr></cite>, Article 4, Paragraph 1</p>
          </figcaption>
        </figure>
        <p>I’d say my experiences fit that description head-on. Cloudflare or one of its partner’s systems made an entirely automated decision that significantly negatively affected my online life. Come to think of it, an <abbr title="Internet Protocol">IP</abbr> address is considered as a potentially personally identifying identifier. I’ve never agreed to data-sharing with the Bandwidth Alliance!</p>
        <p>Unfortunately — and probably for the best — the <abbr title="General Data Protection Regulation">GDPR</abbr> also makes exceptions for data-sharing, processing, and — although I couldn’t find the verbatim — automated-decision making <q cite="https://eur-lex.europa.eu/legal-content/EN/TXT/HTML/?uri=CELEX:32016R0679&amp;from=EN">for the purposes of ensuring network and information security</q>.</p>
        <p>I’m no lawyer, but I probably don’t have a right to object to being misclassified as a bot by a security system. Even though it ruined my internet experience.</p>
        <p>I don’t know what eventually cleared my <abbr title="Internet Protocol">IP</abbr> reputation, but Cloudflare stopped blocking requests from my <abbr title="Internet Protocol">IP</abbr> after six days. On day three, I install Cloudflare’s <a href="https://privacypass.github.io/" rel="external">Privacy Pass browser extension</a> on all my desktop devices.<span></span> <small role="note">The browser extension uses the same protocol as Apple and Cloudflare are working on integrating into MacOS and iOS.</small></p>
        
        <p>The extension provides, what Cloudflare claims, is a privacy-preserving alternative to resolving <abbr title="Completely Automated Public Turing test to tell Computers and Humans Apart">CAPTCHA</abbr>s on its challenge pages. This might have affected the situation, but again, I have no insight into Cloudflare’s automated decision-making.</p>
        <p>My run-in against Cloudflare’s “security” blockade was an incredibly frustrating experience. I felt truly powerless against an unknowable algorithm that sat somewhere out there and decided to block my free movement on the web.</p>
        <p>I can only imagine how painful it must be to try and develop a web crawling bot these days. It doesn’t matter if your intentions are good and your bot polite. It’ll probably be blocked everywhere sooner rather than later.</p>
      </div></div>
  </body>
</html>
