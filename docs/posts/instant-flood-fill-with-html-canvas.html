<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://shaneosullivan.wordpress.com/2023/05/23/instant-colour-fill-with-html-canvas/">Original</a>
    <h1>Instant flood fill with HTML Canvas</h1>
    
    <div id="readability-page-1" class="page"><div>
		
<p><strong>TLDR</strong>: Demo is at <a href="https://shaneosullivan.github.io/example-canvas-fill">https://shaneosullivan.github.io/example-canvas-fill</a>/ , code is at <a href="https://github.com/shaneosullivan/example-canvas-fill">https://github.com/shaneosullivan/example-canvas-fill</a> .</p>



<h2>The Problem</h2>



<p>When building a website or app using HTML Canvas, it’s often a requirement to support a flood fill. That is, when the user chooses a colour and clicks on a pixel, fill all the surrounding pixels that match the colour of the clicked pixel with the user’s chosen colour.</p>



<p>To do so you can write a fairly simple algorithm to step through the pixels one at a time, compare them to the clicked pixel and either change their colour or not.  If you redraw the canvas while doing this, so as to provide the user with visual feedback, it can look like this.</p>



<figure><a href="https://shaneosullivan.files.wordpress.com/2023/05/slowfill_small.gif"><img loading="lazy" data-attachment-id="985" data-permalink="https://shaneosullivan.wordpress.com/2023/05/23/instant-colour-fill-with-html-canvas/slowfill_small/" data-orig-file="https://shaneosullivan.files.wordpress.com/2023/05/slowfill_small.gif" data-orig-size="288,217" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="slowfill_small" data-image-description="" data-image-caption="" data-medium-file="https://shaneosullivan.files.wordpress.com/2023/05/slowfill_small.gif?w=288" data-large-file="https://shaneosullivan.files.wordpress.com/2023/05/slowfill_small.gif?w=288" src="https://shaneosullivan.files.wordpress.com/2023/05/slowfill_small.gif?w=288" alt="" width="461" height="347"/></a></figure>



<p>This works but is slow and ugly. It’s possible to greatly speed this up, so that it is essentially instant, and looks like this</p>



<figure><a href="https://shaneosullivan.files.wordpress.com/2023/05/fastfill.gif"><img loading="lazy" data-attachment-id="989" data-permalink="https://shaneosullivan.wordpress.com/2023/05/23/instant-colour-fill-with-html-canvas/fastfill/" data-orig-file="https://shaneosullivan.files.wordpress.com/2023/05/fastfill.gif" data-orig-size="336,253" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="fastfill" data-image-description="" data-image-caption="" data-medium-file="https://shaneosullivan.files.wordpress.com/2023/05/fastfill.gif?w=300" data-large-file="https://shaneosullivan.files.wordpress.com/2023/05/fastfill.gif?w=336" src="https://shaneosullivan.files.wordpress.com/2023/05/fastfill.gif?w=336" alt="" width="464" height="349"/></a></figure>



<p>To achieve this we pre-process the source image and use the output to instantly apply a coloured mask to the HTML Canvas.</p>







<h2>Why did I work on this?</h2>



<p>I’ve built a web based app called <a href="https://kidzfun.art">Kidz Fun Art</a> for my two young daughters, optimised for use on a tablet.  The idea was to build something fun that never shows adverts to them or tricks them into sneaky purchases by “accident”.  I saw them get irritated by the slow fill algorithm I first wrote, so my personal pride forced me to go solve this problem!  Here’s what the final implementation of the solution to this problem looks like on the app.</p>



<figure><p><span><iframe width="1100" height="619" src="https://www.youtube.com/embed/rYN3yXL3b48?version=3&amp;rel=1&amp;showsearch=0&amp;showinfo=1&amp;iv_load_policy=1&amp;fs=1&amp;hl=en&amp;autohide=2&amp;wmode=transparent" allowfullscreen="true" sandbox="allow-scripts allow-same-origin allow-popups allow-presentation"></iframe></span>
</p></figure>



<h2>The Solution</h2>



<p>Start with an image that has a number of enclosed areas, each with a uniform colour inside those areas.  In this example, we’ll use an image with four enclosed areas, numbered 1 through 4.</p>



<figure><a href="https://shaneosullivan.files.wordpress.com/2023/05/1.-source-image-with-four-areas.png"><img data-attachment-id="990" data-permalink="https://shaneosullivan.wordpress.com/2023/05/23/instant-colour-fill-with-html-canvas/1-source-image-with-four-areas/" data-orig-file="https://shaneosullivan.files.wordpress.com/2023/05/1.-source-image-with-four-areas.png" data-orig-size="1722,1444" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="1.-source-image-with-four-areas" data-image-description="" data-image-caption="" data-medium-file="https://shaneosullivan.files.wordpress.com/2023/05/1.-source-image-with-four-areas.png?w=300" data-large-file="https://shaneosullivan.files.wordpress.com/2023/05/1.-source-image-with-four-areas.png?w=1024" src="https://shaneosullivan.files.wordpress.com/2023/05/1.-source-image-with-four-areas.png?w=1024" alt="" srcset="https://shaneosullivan.files.wordpress.com/2023/05/1.-source-image-with-four-areas.png?w=1024 1024w, https://shaneosullivan.files.wordpress.com/2023/05/1.-source-image-with-four-areas.png?w=150 150w, https://shaneosullivan.files.wordpress.com/2023/05/1.-source-image-with-four-areas.png?w=300 300w, https://shaneosullivan.files.wordpress.com/2023/05/1.-source-image-with-four-areas.png?w=768 768w, https://shaneosullivan.files.wordpress.com/2023/05/1.-source-image-with-four-areas.png 1722w" sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>



<p>Now create a web worker, which is JavaScript that runs on a separate thread to the browser thread, so it does not lock up the user interface when processing a lot of data.</p>



<pre><code>let worker = new Worker(&#34;./src/worker.js&#34;);</code></pre>



<p>The <code>worker.js</code> file contains the code to execute the fill algorithm.  In the browser UI code, send the image pixels to the worker by drawing the image to a Canvas element and calling the <code>getImageData</code> function.  Note that you send an ImageBuffer object to the worker, not the ImageData itself</p>



<pre><code><code role="textbox" aria-multiline="true" aria-label="Code">
const canvas = document.getElementById(&#39;mycanvas&#39;);</code>const context = canvas.getContext(&#39;2d&#39;);

const dimensions = { height: canvas.height, width: canvas.width };

const img = new Image();
img.onload = () =&gt; {
  context.drawImage(img, 0, 0);
  
  const imageData = 
    canvas.getImageData(0, 0, dimensions.width, dimensions.height);

  worker.postMessage({
      action: &#34;process&#34;,
      dimensions,
      buffer: imageData.data.buffer,
    }, 
    [imageData.data.buffer]
  );
};
</code></pre>



<figure><a href="https://shaneosullivan.files.wordpress.com/2023/05/2.-preprocess-image-1.png"><img data-attachment-id="1013" data-permalink="https://shaneosullivan.wordpress.com/2023/05/23/instant-colour-fill-with-html-canvas/2-preprocess-image-1/" data-orig-file="https://shaneosullivan.files.wordpress.com/2023/05/2.-preprocess-image-1.png" data-orig-size="1710,1766" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="2.-preprocess-image-1" data-image-description="" data-image-caption="" data-medium-file="https://shaneosullivan.files.wordpress.com/2023/05/2.-preprocess-image-1.png?w=290" data-large-file="https://shaneosullivan.files.wordpress.com/2023/05/2.-preprocess-image-1.png?w=992" src="https://shaneosullivan.files.wordpress.com/2023/05/2.-preprocess-image-1.png?w=992" alt="" srcset="https://shaneosullivan.files.wordpress.com/2023/05/2.-preprocess-image-1.png?w=992 992w, https://shaneosullivan.files.wordpress.com/2023/05/2.-preprocess-image-1.png?w=145 145w, https://shaneosullivan.files.wordpress.com/2023/05/2.-preprocess-image-1.png?w=290 290w, https://shaneosullivan.files.wordpress.com/2023/05/2.-preprocess-image-1.png?w=768 768w, https://shaneosullivan.files.wordpress.com/2023/05/2.-preprocess-image-1.png 1710w" sizes="(max-width: 992px) 100vw, 992px"/></a></figure>



<p>The worker script then asynchronously inspects every pixel in the image.  It starts by setting the alpha (transparency) value of each pixel to zero, which marks the pixel as unprocessed.  When it finds a pixel with a zero alpha value, it executes a FILL operation from that pixel, where every surrounding pixel is given an incremental alpha value.  That is, the first time a fill is executed, all surrounding pixels are given an alpha version of 1, the second time an alpha value of 2 is assigned, and so on.</p>



<p>Each time a FILL completes, the worker stores an standalone image of just the area used by the FILL (stored as an array of numbers).  When it has inspected all pixels in the source image, it will send back to the UI thread all the individual image ‘masks’ it has calculated, as well as a single image with all of the alpha values set numbers between 1 and 255.  This means that using this methodology, we can support a maximum of 255 distinct areas to instant-fill, which should be fine, as we can fall back to a slow fill if a given pixel has not been pre-processed.  </p>







<figure><a href="https://shaneosullivan.files.wordpress.com/2023/05/4.-fully-processed-image.png"><img data-attachment-id="1015" data-permalink="https://shaneosullivan.wordpress.com/2023/05/23/instant-colour-fill-with-html-canvas/4-fully-processed-image/" data-orig-file="https://shaneosullivan.files.wordpress.com/2023/05/4.-fully-processed-image.png" data-orig-size="2658,2088" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="4.-fully-processed-image" data-image-description="" data-image-caption="" data-medium-file="https://shaneosullivan.files.wordpress.com/2023/05/4.-fully-processed-image.png?w=300" data-large-file="https://shaneosullivan.files.wordpress.com/2023/05/4.-fully-processed-image.png?w=1024" src="https://shaneosullivan.files.wordpress.com/2023/05/4.-fully-processed-image.png?w=1024" alt="" srcset="https://shaneosullivan.files.wordpress.com/2023/05/4.-fully-processed-image.png?w=1024 1024w, https://shaneosullivan.files.wordpress.com/2023/05/4.-fully-processed-image.png?w=2048 2048w, https://shaneosullivan.files.wordpress.com/2023/05/4.-fully-processed-image.png?w=150 150w, https://shaneosullivan.files.wordpress.com/2023/05/4.-fully-processed-image.png?w=300 300w, https://shaneosullivan.files.wordpress.com/2023/05/4.-fully-processed-image.png?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>



<p>You see in the fully processed image above that all pixels in the source image are assigned an alpha value.  The numeric value corresponds to one of the masks, as shown below.</p>



<figure><a href="https://shaneosullivan.files.wordpress.com/2023/05/3.-four-mask-images.png"><img data-attachment-id="997" data-permalink="https://shaneosullivan.wordpress.com/2023/05/23/instant-colour-fill-with-html-canvas/3-four-mask-images/" data-orig-file="https://shaneosullivan.files.wordpress.com/2023/05/3.-four-mask-images.png" data-orig-size="2304,1564" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="3.-four-mask-images" data-image-description="" data-image-caption="" data-medium-file="https://shaneosullivan.files.wordpress.com/2023/05/3.-four-mask-images.png?w=300" data-large-file="https://shaneosullivan.files.wordpress.com/2023/05/3.-four-mask-images.png?w=1024" src="https://shaneosullivan.files.wordpress.com/2023/05/3.-four-mask-images.png?w=1024" alt="" srcset="https://shaneosullivan.files.wordpress.com/2023/05/3.-four-mask-images.png?w=1024 1024w, https://shaneosullivan.files.wordpress.com/2023/05/3.-four-mask-images.png?w=2048 2048w, https://shaneosullivan.files.wordpress.com/2023/05/3.-four-mask-images.png?w=150 150w, https://shaneosullivan.files.wordpress.com/2023/05/3.-four-mask-images.png?w=300 300w, https://shaneosullivan.files.wordpress.com/2023/05/3.-four-mask-images.png?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>



<p>For this image, it would generate four masks as in the image above. The red areas are the pixels with non-zero alpha values, and the white are the pixels with alpha values of zero.</p>



<figure><a href="https://shaneosullivan.files.wordpress.com/2023/05/5.-pixel-values.png"><img data-attachment-id="1014" data-permalink="https://shaneosullivan.wordpress.com/2023/05/23/instant-colour-fill-with-html-canvas/5-pixel-values/" data-orig-file="https://shaneosullivan.files.wordpress.com/2023/05/5.-pixel-values.png" data-orig-size="2288,1538" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="5.-pixel-values" data-image-description="" data-image-caption="" data-medium-file="https://shaneosullivan.files.wordpress.com/2023/05/5.-pixel-values.png?w=300" data-large-file="https://shaneosullivan.files.wordpress.com/2023/05/5.-pixel-values.png?w=1024" src="https://shaneosullivan.files.wordpress.com/2023/05/5.-pixel-values.png?w=1024" alt="" srcset="https://shaneosullivan.files.wordpress.com/2023/05/5.-pixel-values.png?w=1024 1024w, https://shaneosullivan.files.wordpress.com/2023/05/5.-pixel-values.png?w=2048 2048w, https://shaneosullivan.files.wordpress.com/2023/05/5.-pixel-values.png?w=150 150w, https://shaneosullivan.files.wordpress.com/2023/05/5.-pixel-values.png?w=300 300w, https://shaneosullivan.files.wordpress.com/2023/05/5.-pixel-values.png?w=768 768w" sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>



<p>When the user clicks on a pixel of the HTML Canvas node, the UI code checks the alpha value in the image returned from the worker.  If the value is 2, it selects the second item in the array of masks it received.</p>







<figure><a href="https://shaneosullivan.files.wordpress.com/2023/05/5.-user-click-mapping.png"><img data-attachment-id="1002" data-permalink="https://shaneosullivan.wordpress.com/2023/05/23/instant-colour-fill-with-html-canvas/5-user-click-mapping/" data-orig-file="https://shaneosullivan.files.wordpress.com/2023/05/5.-user-click-mapping.png" data-orig-size="1908,1994" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="5.-user-click-mapping" data-image-description="" data-image-caption="" data-medium-file="https://shaneosullivan.files.wordpress.com/2023/05/5.-user-click-mapping.png?w=287" data-large-file="https://shaneosullivan.files.wordpress.com/2023/05/5.-user-click-mapping.png?w=980" src="https://shaneosullivan.files.wordpress.com/2023/05/5.-user-click-mapping.png?w=980" alt="" srcset="https://shaneosullivan.files.wordpress.com/2023/05/5.-user-click-mapping.png?w=980 980w, https://shaneosullivan.files.wordpress.com/2023/05/5.-user-click-mapping.png?w=144 144w, https://shaneosullivan.files.wordpress.com/2023/05/5.-user-click-mapping.png?w=287 287w, https://shaneosullivan.files.wordpress.com/2023/05/5.-user-click-mapping.png?w=768 768w, https://shaneosullivan.files.wordpress.com/2023/05/5.-user-click-mapping.png 1908w" sizes="(max-width: 980px) 100vw, 980px"/></a></figure>



<p>Now it is time to use some HTML Canvas magic, by way of the <code><a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Compositing#globalcompositeoperation">globalCompositeOperation</a></code> property.  This property enables all sorts of fun and interesting operations to be performed with Canvas, but for our purposes we are interested in the <code>source-in</code> value.  This makes it so that calling <code>fillRect()</code> on the Canvas context will only fill the non-transparent pixels, and leave the others unchanged.  </p>



<pre><code>const pixelMaskContext = pixelMaskCanvasNode.getContext(&#39;2d&#39;);
const pixelMaskImageData = new ImageData(
  pixelMaskInfo.width,
  pixelMaskInfo.height
);

pixelMaskImageData.data.set(
  new Uint8ClampedArray(pixelMaskInfo.pixels)
);

pixelMaskContext.putImageData(pixelMaskImageData, 0, 0);

// Here&#39;s the canvas magic that makes it just draw the non
// transparent pixels onto our main canvas
pixelMaskContext.globalCompositeOperation = &#34;source-in&#34;;
pixelMaskContext.fillStyle = colour;

pixelMaskContext.fillRect(
  0, 0, pixelMaskInfo.width, pixelMaskInfo.height
);</code></pre>







<p>Now you’ve filled the mask with a colour, in this example purple, then you just have to draw that onto the canvas visible to the user at the top left location of the mask, and you’re done!</p>



<pre><code>context.drawImage(
  pixelMaskCanvasNode,
  pixelMaskInfo.x,
  pixelMaskInfo.y
);</code></pre>



<p>It should look like the image below when done</p>



<figure><a href="https://shaneosullivan.files.wordpress.com/2023/05/6.-final-image-1.png"><img data-attachment-id="1006" data-permalink="https://shaneosullivan.wordpress.com/2023/05/23/instant-colour-fill-with-html-canvas/6-final-image-1/" data-orig-file="https://shaneosullivan.files.wordpress.com/2023/05/6.-final-image-1.png" data-orig-size="1754,1482" data-comments-opened="1" data-image-meta="{&#34;aperture&#34;:&#34;0&#34;,&#34;credit&#34;:&#34;&#34;,&#34;camera&#34;:&#34;&#34;,&#34;caption&#34;:&#34;&#34;,&#34;created_timestamp&#34;:&#34;0&#34;,&#34;copyright&#34;:&#34;&#34;,&#34;focal_length&#34;:&#34;0&#34;,&#34;iso&#34;:&#34;0&#34;,&#34;shutter_speed&#34;:&#34;0&#34;,&#34;title&#34;:&#34;&#34;,&#34;orientation&#34;:&#34;0&#34;}" data-image-title="6.-final-image-1" data-image-description="" data-image-caption="" data-medium-file="https://shaneosullivan.files.wordpress.com/2023/05/6.-final-image-1.png?w=300" data-large-file="https://shaneosullivan.files.wordpress.com/2023/05/6.-final-image-1.png?w=1024" src="https://shaneosullivan.files.wordpress.com/2023/05/6.-final-image-1.png?w=1024" alt="" srcset="https://shaneosullivan.files.wordpress.com/2023/05/6.-final-image-1.png?w=1024 1024w, https://shaneosullivan.files.wordpress.com/2023/05/6.-final-image-1.png?w=150 150w, https://shaneosullivan.files.wordpress.com/2023/05/6.-final-image-1.png?w=300 300w, https://shaneosullivan.files.wordpress.com/2023/05/6.-final-image-1.png?w=768 768w, https://shaneosullivan.files.wordpress.com/2023/05/6.-final-image-1.png 1754w" sizes="(max-width: 1024px) 100vw, 1024px"/></a></figure>







<p>All the code for this is available on Github at <a href="https://github.com/shaneosullivan/example-canvas-fill">https://github.com/shaneosullivan/example-canvas-fill</a> </p>



<p>You can see the demo running at <a href="https://shaneosullivan.github.io/example-canvas-fill">https://shaneosullivan.github.io/example-canvas-fill</a>/</p>



<p>One caveat is that if you try this code on your local computer by just opening the <code>index.html</code> file, it will not work as browser security will not let the Worker be registered.  You need run a localhost server and run it from there. </p>



<h2>P.S.</h2>



<p>Thanks to the <a href="http://Excalidraw.com">Excalidraw</a> team for making it so easy to create these diagrams, what a fantastic app! </p>
			
			
				</div><div>
			<div>
				<p><img alt="" src="https://1.gravatar.com/avatar/abaeb4f7149a11600f472c23652ae7db?s=80&amp;d=identicon&amp;r=G" height="80" width="80"/>		</p><!-- .author-avatar -->
		
		<p>
			<h2>Published by <span>Shane O&#39;Sullivan</span></h2>
		</p><!-- .author-heading -->

		<p>
			I am a software engineer and manager from Ireland.  I spent 7 years working in Ireland from 2003 – 2010, then ten years in Silicon Valley from 2010 to 2020.

In California I spent about 6.5 years at Facebook Engineering, the last three of which I was an engineering manager in the Ads organisation focusing on customer facing products for creating and managing ads.

At Stripe I built the Developer Productivity organisation, with teams that were responsible for the use of the Ruby language, testing infrastructure, documentation, developer tooling (e.g. IDE integrations) and more.

At Promise, I was Head of Engineering from 2018 – 2020, responsible for building the first few iterations of our products, hiring for all product roles, meeting with clients and investors, and anything else needed to get a tiny startup bootstrapped and successful.

Now I’m back in Ireland, working on my next company. Coming soon (as of early 2023!).

This blog contains my various musings on all things technical/interesting on the interweb and beyond.			<a href="https://shaneosullivan.wordpress.com/author/shaneosullivan/" rel="author">
				View all posts by Shane O&#39;Sullivan			</a>
		</p><!-- .author-bio -->
	</div><!-- .entry-auhtor -->
		<p><strong>Published</strong>
			<time datetime="2023-05-23T17:30:00+00:00">May 23, 2023</time><time datetime="2023-05-22T20:59:38+00:00">May 22, 2023</time>		</p><!-- .site-posted-on -->
	</div></div>
  </body>
</html>
