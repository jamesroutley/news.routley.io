<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://fasterthanli.me/articles/just-paying-figma-15-dollars">Original</a>
    <h1>Just paying Figma because nothing else works</h1>
    
    <div id="readability-page-1" class="page"><div>
  

  
    
      
    
  

  <p>My family wasn&#39;t poor by any stretch of the imagination, but I was raised to
avoid spending money whenever possible.</p>
<p>I was also taught &#34;it&#39;s a poor craftsman that blames their tools&#34;, which
apparently means &#34;take responsibility for your fuckups&#34;, but, to young-me,
definitely sounded more like &#34;you don&#39;t deserve nice things&#34;.</p>
<p>I was also taught from an early age that I was born a sinner, incapable of doing
good by myself, and that all the earthly things were temptations, sent by the
devil to corrupt me (further I guess?) but also temporary, and that I shouldn&#39;t
attach myself.</p>
<p>I&#39;m better now — thanks for asking.</p>
<p>But I&#39;m sure you can see why &#34;protestant ethics&#34; primed me for head-first into
the pit of unpaid labor and burnout that is &#34;F/OSS at large&#34; (free and open
source software, for the kids in the back).</p>
<p>It&#39;s perfect: much like in the religious environment I grew up in, everyone is
<em>this close</em> to permanently losing it, and there&#39;s an infinite supply of
thankless work to be done, which means, and this is crucial: nothing you do
will ever be good enough.</p>
<p>In either place, there is no redeeming yourself.</p>
<p>And sure, okay, the <em>other</em> thing that attracted me to F/OSS was, of course, the
good parts: that you can look at how it&#39;s made, fix it up for yourself
and others, etc.</p>
<p>As someone most definitely somewhere on the spectrum, being able to stare at the
inner workings of complex systems unperturbed, was just... I liked it, You
know?</p>
<p>Things have changed since, to some extent.</p>
<p>The Early Unix Crowd lament having to think about languages other than C. We in
the DevOps mines would pay good money never to have to speak YAML again.</p>
<p>I get it: GCC 2.95 was an easier time.</p>
<p>But, like Andrew Morton famously said:</p>
<blockquote>
<p>It&#39;s time to give up on it and just drink more coffee or play more tetris or
something, I&#39;m afraid.</p>
<p>Source: LWN, <a href="https://lwn.net/Articles/163881/">The end of gcc 2.95 support</a></p>
</blockquote>
<p>Today still, if you try, if you <em>really</em> try, you <em>can</em> go in and try and
modify your favorite software.</p>
<p>But, and I wish 19-year-old me would&#39;ve heeded that piece of advice, you always
need to keep in mind that you&#39;re either spending time or spending money.</p>
<p>Let me IMMEDIATELY add caveats there, because your gut reaction may be what mine
was back then: &#34;Oh! you&#39;re one of <em>those</em>. The ones who put a number on everything,
and make decisions based on those numbers&#34;.</p>
<p>Of course not! There&#39;s no poetry in accounting. And little point in counting if
you&#39;re having a good time.</p>
<p>Besides, when you <em>are</em> 19 / still a student / unemployed, time is all you have
to spend, so the choice is made for you.</p>
<p>And of course, it&#39;s really hard to qualify all the second-order effects &#34;spending
time performing unpaid labor for various F/OSS projects&#34; has had on my career
(for the best), my health (for the worst), etc.</p>
<p>I&#39;m not saying that to cause more anxiety over picking <em>which</em> thing to spend
your time on: I think of it more like a good reason to spend your time on a lot
of different things, and people, and ideas, because whether they go terribly
right or terribly wrong, there&#39;s a lesson to be learned.</p>
<p>And friend, do I have a lesson to share with you today.</p>

                        <h2>
                            <a id="draw-io-the-good" href="#draw-io-the-good">
                                draw.io - the good
                            </a>
                        </h2>
                        
<p>I started writing sometime around 2019.</p>
<p>Well. I&#39;ve been blogging for a decade, which makes me part of The Old People In
The Room at conferences now. The 60-year-olds and me, we have a good time.</p>
<p>But I started doing serious, <a href="https://fasterthanli.me/donate">please-give-me-money</a> technical writing
around 2019. On a Lenovo X200, for street creds (and affordability) reasons.</p>
<p>I needed to make diagrams, so I compared a few options and quickly settled on
&#34;draw.io&#34;, which has been semi-rebranded to &#34;diagrams.net&#34; the way Twitter has
been semi-rebranded to X?</p>
<p>The <a href="https://github.com/jgraph/drawio-desktop">desktop app</a> still calls itself
draw.io, the file format is still <code>.drawio</code>, etc.</p>

            <picture>
                <source type="image/avif" srcset="/content/articles/just-paying-figma-15-dollars/assets/drawio-desktop.ce71222512e52b17.avif"/>
                <source type="image/webp" srcset="/content/articles/just-paying-figma-15-dollars/assets/drawio-desktop.4c2e562394ea99dc.webp"/>
                <img loading="lazy" src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/drawio-desktop.2ad7566955cbaec8.jpg" title="The draw.io desktop app" alt="The draw.io desktop app"/>
            </picture>
            
<p>It&#39;s an Electron app, unmistakably:</p>

            <picture>
                <source type="image/avif" srcset="/content/articles/just-paying-figma-15-dollars/assets/electron-app.d13f8f5961098403.avif"/>
                <source type="image/webp" srcset="/content/articles/just-paying-figma-15-dollars/assets/electron-app.460121a8ddda26af.webp"/>
                <img loading="lazy" src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/electron-app.e16d7c4ecb9f6171.jpg" title="Files in the draw.io desktop distribution, LICENSES.chromium.html is highlighted" alt="Files in the draw.io desktop distribution, LICENSES.chromium.html is highlighted"/>
            </picture>
            
<p>...but it&#39;s not in-your-face about it. It&#39;s rather consistent across Linux (GNU
or not), macOS, Windows, and, now the most important shell of all: &#34;the
browser&#34;.</p>
<p>And it&#39;s really good at diagrams. Nowadays you&#39;d probably use something
source-defined like <a href="https://mermaid.js.org/">Mermaid</a> or one of the cool kids
like <a href="https://excalidraw.com/">Excalidraw</a>, but draw.io is burnt into the memory
of The Old Ones.</p>
<p>Why? Because, like all good products, it started out with &#34;solving a hard
problem&#34; better than anyone else. The hard bit was &#34;making a graph editor that
could render to SVG and display in non-SVG browsers&#34;, and if that sounds weird,
that&#39;s because this happened forever ago:</p>
<blockquote>
<p>We created mxGraph in 2005 as a commercial project and it ran through to 2016
that way. Our USP was the support for non-SVG browsers, when that advantage
expired we moved onto commercial activity around draw.io.</p>
<p>Source: mxgraph README, <a href="https://github.com/jgraph/mxgraph#history">History</a></p>
</blockquote>
<p>And I think this spirit, of &#34;taking the problem seriously&#34;, permeated throughout
almost the entire product and is one of the reasons draw.io felt so nice to use
compared to, well, anything else at the time.</p>
<p>What else was I supposed to use? <a href="https://en.wikipedia.org/wiki/Dia_%28software%29">Dia</a>?</p>

            <picture>
                <source type="image/avif" srcset="/content/articles/just-paying-figma-15-dollars/assets/dia.1f2c6b99590070e9.avif"/>
                <source type="image/webp" srcset="/content/articles/just-paying-figma-15-dollars/assets/dia.28902e575f70c25b.webp"/>
                <img loading="lazy" src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/dia.e39ec038ec9ac01d.jpg" title="Gnome Dia running on WSL2" alt="Gnome Dia running on WSL2"/>
            </picture>
            
<p>Dia&#39;s <a href="https://wiki.gnome.org/Apps/Dia/Download">download page</a> offers
binaries for Solaris 9 Sparc, and Irix 6.5.</p>
<p>A German site, last updated 2014, offers Windows and macOS downloads:</p>

            <picture>
                <source type="image/avif" srcset="/content/articles/just-paying-figma-15-dollars/assets/dia-installer.874025f25866687f.avif"/>
                <source type="image/webp" srcset="/content/articles/just-paying-figma-15-dollars/assets/dia-installer.bab168d7da1f51e1.webp"/>
                <img loading="lazy" src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/dia-installer.37ffc17b691be511.jpg" title="The dia-installer.de website, with a large download button and a screenshot of Dia running on an outdated version of Windows" alt="The dia-installer.de website, with a large download button and a screenshot of Dia running on an outdated version of Windows"/>
            </picture>
            
<p>It&#39;s hard to describe the feelings conjured by looking at this Vista-ass
screenshot, this large rounded download button with a best-effort glass effect,
the subtle mix of serif and sans-serif fonts.</p>
<p>The stock photo of a woman drawing a diagram on a whiteboard.</p>
<p>The &#34;Donate via PayPal&#34; button.</p>
<p>Heck, while we&#39;re hurting ourselves with nostalgia, here&#39;s the last release on
SourceForge:</p>

            <picture>
                <source type="image/avif" srcset="/content/articles/just-paying-figma-15-dollars/assets/sourceforge.79362a17dfa76f6d.avif"/>
                <source type="image/webp" srcset="/content/articles/just-paying-figma-15-dollars/assets/sourceforge.9c0496d0f29f97c1.webp"/>
                <img loading="lazy" src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/sourceforge.e9a30e6026f9117e.jpg" title="Screenshot of dia 0.97.2&#39;s release on SourceForge" alt="Screenshot of dia 0.97.2&#39;s release on SourceForge"/>
            </picture>
            
<p>That&#39;s not what SourceForge looked like when I got my start, but the smell is
the same.</p>
<p>Just look at those two lovingly hand-crafted .dmg files. No
<a href="https://en.wikipedia.org/wiki/Continuous_integration">CI/CD</a> there, just vibes.</p>
<p>Remember Pidgin? Adium? I can do this all day.</p>
<p>GitHub didn&#39;t just usher in a new era of collaboration, of new heroes and new
villains, it also sent to the grave SourceForge, and an entire aesthetic with
it.</p>
<p>Personally, I don&#39;t miss it.</p>

                        <h2>
                            <a id="draw-io-the-bad" href="#draw-io-the-bad">
                                draw.io - the bad
                            </a>
                        </h2>
                        
<p>But all good things must come to an end at some point, and for draw.io (and the
rest of the world, for slightly different reasons), that was 2016.</p>
<p>As the history section I quoted earlier covers: &#34;when that advantage expired (in
2016), we (jgraph) moved onto commercial activity around draw.io&#34;.</p>
<p>Now, it&#39;s more subtle than that. draw.io is <em>still good</em>, and the dealbreaker
I&#39;m about to cover pre-existed jgraph&#39;s shift to &#34;commercial activity around
draw.io&#34;.</p>
<p>In fact, it&#39;s really important that there be a revenue source to fund continued
maintenance of draw.io, so, as long as it doesn&#39;t mess with the main product too
much, I&#39;m happy!</p>
<p>But that&#39;s when, for me at least, draw.io stopped investing in &#34;their own
engine&#34; and fully committed to doing &#34;whatever the browser does&#34;. The browser
being, need I say it,
<a href="https://github.com/jgraph/docker-drawio/blob/2d6f60db48561758d7749aa79357ccbbde789abd/image-export/Dockerfile#L9">Chrome</a>.</p>
<div>

<p>Of course, you could probably get Gecko to do it instead, but why go all the
trouble to end up with a result that looks different from what you get in the
Electron-based desktop app?</p>
</div>
<p>At least the docs, and I would expect no less from jgraph, whom I respect,
correctly describe draw.io&#39;s ability to do &#34;rich text formatting&#34; as simply
&#34;being able to use HTML to style nodes&#34;:</p>
<blockquote>
<h3>Style part of a text label</h3>
<p>Text labels in shapes and on connectors can be formatted with HTML, so you can
apply a style to part of a text label. For example, you can apply bold,
italicise, colour, or a link to just one word.</p>
<p>Source: <a href="https://www.drawio.com/doc/faq/text-styles#style-part-of-a-text-label">draw.io FAQ</a></p>
</blockquote>
<p>Why does this matter? Because once you let HTML into your product, a product
that, by nature, cares about the precise layout of things, you&#39;re fucked.</p>
<p>You&#39;re fucked because, although I don&#39;t believe it&#39;s <em>literally impossible</em> to
make your own browser (<a href="https://drewdevault.com/2020/03/18/Reckless-limitless-scope">CW: Drew
DeVault</a>), it is
several orders of magnitude harder than the hard problem mxGraph solves in the
first place.</p>
<p>Which is why I keep defending Electron as &#34;not that bad, actually, when you
really think about it&#34; in a <a href="https://www.youtube.com/watch?v=hnaGZHe8wws">very old video I&#39;m quite embarrassed
about</a>, and which thesis is
essentially: there&#39;s more to it than you probably think (but you&#39;re very welcome
to try).</p>
<p>Of course, in another universe, draw.io didn&#39;t take the shortcut and didn&#39;t just
say &#34;you can just put HTML int here&#34;. In another universe, they only allowed
bold, italic, underline, font-size and font-family... and line spacing, and
letter spacing, and text alignment, and superscript and subscript and...</p>
<p>...okay you see my point about there being more to it than it seems now, but
point is: they could&#39;ve picked a limited feature set and just written their own
text rendering engine.</p>
<p>And then you wouldn&#39;t need Chrome&#39;s DOM, its layout engine and the <a href="https://skia.org/docs/user/sample/pdf/">PDF backend
of its renderer</a> to do a &#34;proper export&#34;
from draw.io.</p>
<p>But they didn&#39;t! And you do.</p>
<p>Worse: <em>I</em> do, and the thing I <em>actually</em> do for this blog, because I&#39;ve stopped
&#34;just grabbing rectangular screenshots and pasting them onto my blog&#34; a long
time ago (I blame HiDPI displays), is:</p>
<ul>
<li>Have a handwritten Rust app that..</li>
<li>..launches headless chrome</li>
<li>..loads draw.io in it (from a <a href="https://lib.rs/crates/hyper">hyper HTTP server</a>)</li>
<li>..asks draw.io to load the .drawio file (also over HTTP)</li>
<li>..asks chrome to print to PDF (this uses Skia&#39;s PDF backend)</li>
<li>..opens that PDF using <a href="https://poppler.freedesktop.org/">poppler</a></li>
<li>..exports it using <a href="https://www.cairographics.org/">cairo</a>&#39;s SVG backend</li>
<li>..optimizes it using <a href="https://lib.rs/crates/svgcleaner">svgcleaner</a> (which is unmaintained and will soon stop compiling)</li>
</ul>
<p>And then you get one of these, which looks crisp at any resolution and can be
printed even if you don&#39;t have Iosevka installed on your computer:</p>
<p><img src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/adding-memory.b5d392e666fa3f42.svg" title="A pretty boring diagram, the top section has RAM stick 1, an arrow leads us down with the caption &#39;adding memory&#39;, and the bottom section has two ram sticks, the second being empty" alt="A pretty boring diagram, the top section has RAM stick 1, an arrow leads us down with the caption &#39;adding memory&#39;, and the bottom section has two ram sticks, the second being empty" loading="lazy"/></p><p>(Also, the workflow for me is great, I can just &#34;hit CtrlOrCtrl+S in draw.io&#34;
and my <code>ftl.localhost:1111</code> browser tab reloads with the new SVG asset).</p>
<p>And because apparently &#34;putting all this together&#34; wasn&#39;t enough for me, I
<a href="https://fasterthanli.me/series/dont-shell-out">documented the whole thing</a>.</p>
<p>Like it was a normal or desirable thing to do.</p>
<p>And the whole internet went YKINMKBYKIOK.</p>
<p>Which, fair.</p>

                        <h2>
                            <a id="figma" href="#figma">
                                Figma
                            </a>
                        </h2>
                        
<p>But I started looking into alternatives, for a few reasons.</p>
<p>One is that this whole contraption is, overall, pretty painful to maintain.</p>
<p>My <a href="https://fasterthanli.me/series/dont-shell-out">Don&#39;t Shell Out</a> spends several chapters describing
how I&#39;ve managed to get the &#34;glib cinematic universe&#34; (&#34;gee lib&#34;, not
&#34;slippery&#34;) to link statically on Windows, but I have since resigned myself to
only run it on macOS or Linux, where nix is available and solves just about as
many problems as it causes.</p>
<p>Here&#39;s the flake I&#39;m currently using if you&#39;re curious:</p>
<div translate="no"><p>nix</p><pre data-lang="nix"><i>{</i>
  <i><i>inputs</i></i> <i>=</i> <i>{</i>
    <i># base nix packages</i>
    <i><i>nixpkgs</i><i>.</i><i>url</i></i> <i>=</i> <i>&#34;github:NixOS/nixpkgs/nixos-unstable&#34;</i><i>;</i>
    <i># this lets you build cargo projects inside nix</i>
    <i><i>crane</i></i> <i>=</i> <i>{</i>
      <i><i>url</i></i> <i>=</i> <i>&#34;github:ipetkov/crane&#34;</i><i>;</i>
      <i># all those &#34;follows&#34; things essentially make sure you only depend</i>
      <i># on one version of package x, even if several other packages depend on x</i>
      <i><i>inputs</i><i>.</i><i>nixpkgs</i><i>.</i><i>follows</i></i> <i>=</i> <i>&#34;nixpkgs&#34;</i><i>;</i>
      <i><i>inputs</i><i>.</i><i>rust-overlay</i><i>.</i><i>follows</i></i> <i>=</i> <i>&#34;rust-overlay&#34;</i><i>;</i>
    <i>}</i><i>;</i>
    <i><i>flake-utils</i><i>.</i><i>url</i></i> <i>=</i> <i>&#34;github:numtide/flake-utils&#34;</i><i>;</i>
    <i><i>rust-overlay</i></i> <i>=</i> <i>{</i>
      <i><i>url</i></i> <i>=</i> <i>&#34;github:oxalica/rust-overlay&#34;</i><i>;</i>
      <i><i>inputs</i></i> <i>=</i> <i>{</i>
        <i><i>nixpkgs</i><i>.</i><i>follows</i></i> <i>=</i> <i>&#34;nixpkgs&#34;</i><i>;</i>
        <i><i>flake-utils</i><i>.</i><i>follows</i></i> <i>=</i> <i>&#34;flake-utils&#34;</i><i>;</i>
      <i>}</i><i>;</i>
    <i>}</i><i>;</i>
  <i>}</i><i>;</i>

  <i><i>outputs</i></i> <i>=</i> <i>{</i> <i>self</i><i>,</i> <i>nixpkgs</i><i>,</i> <i>crane</i><i>,</i> <i>flake-utils</i><i>,</i> <i>rust-overlay</i> <i>}</i>:
    <i>flake-utils</i><i>.</i><i><i>lib</i><i>.</i><i>eachDefaultSystem</i></i> <i>(</i><i>system</i>:
      <i>let</i>
        <i><i>version</i></i> <i>=</i> <i>&#34;1.6.0&#34;</i><i>;</i>
        <i><i>pkgs</i></i> <i>=</i> <i><i>import</i></i> <i>nixpkgs</i> <i>{</i>
          <i><i>system</i></i> <i>=</i> <i>system</i><i>;</i>
          <i><i>overlays</i></i> <i>=</i> <i>[</i> <i>(</i><i><i>import</i></i> <i>rust-overlay</i><i>)</i> <i>]</i><i>;</i>
        <i>}</i><i>;</i>

        <i># I use Rust nightly for a bunch of thisbecause I can&#39;t be bothered to</i>
        <i># wait for features to stabilize. This keeps it DRY, I only have to</i>
        <i># specify &#34;which nightly&#34; in one place.</i>
        <i># This is only available because we pulled in rust-overlay, afaict.</i>
        <i><i>rustToolchain</i></i> <i>=</i> <i>pkgs</i><i>.</i><i><i>pkgsBuildHost</i><i>.</i><i>rust-bin</i><i>.</i><i>fromRustupToolchainFile</i></i>
          <i>./rust-toolchain.toml</i><i>;</i>
        <i><i>craneLib</i></i> <i>=</i> <i>crane</i><i>.</i><i><i>lib</i><i>.</i><i>${</i><i>system</i><i>}</i><i>.</i><i>overrideToolchain</i></i> <i>rustToolchain</i><i>;</i>

        <i># You can&#39;t clone this, but I can, and that&#39;s where my &#34;private&#34; crates</i>
        <i># live. If you break in, it&#39;s no big deal: they&#39;re not secrets, just</i>
        <i># &#34;don&#39;t ask me questions about them&#34; crates.</i>
        <i><i>craneLibWithRegistry</i></i> <i>=</i> <i>craneLib</i><i>.</i><i><i>appendCrateRegistries</i></i> <i>[</i>
          <i>(</i><i>craneLib</i><i>.</i><i><i>registryFromGitIndex</i></i> <i>{</i>
            <i><i>indexUrl</i></i> <i>=</i> <i>&#34;https://code.bearcove.cloud/bearcove/_cargo-index.git&#34;</i><i>;</i>
            <i><i>rev</i></i> <i>=</i> <i>&#34;7d22392df559a762b5b87597aad2e5a55847bd41&#34;</i><i>;</i>
          <i>}</i><i>)</i>
        <i>]</i><i>;</i>

        <i># Because we run draw.io as part of the asset pipeline, we need to pull</i>
        <i># in _all the draw.io sources_ (the HTML/JS/CSS part that runs in the</i>
        <i># browser) as build inputs.</i>
        <i># This was fun to figure out.</i>
        <i><i>src</i></i> <i>=</i>
          <i>let</i>
            <i><i>drawioFilter</i></i> <i>=</i> <i>path</i>: <i>type</i>: <i>builtins</i><i>.</i><i><i>match</i></i> <i>&#34;.*drawio-assets.*&#34;</i> <i>path</i> <i>!=</i> <i>null</i><i>;</i>
            <i><i>drawioOrCargo</i></i> <i>=</i> <i>path</i>: <i>type</i>:
              <i>(</i><i><i>drawioFilter</i></i> <i>path</i> <i>type</i><i>)</i> <i>||</i> <i>(</i><i>craneLib</i><i>.</i><i><i>filterCargoSources</i></i> <i>path</i> <i>type</i><i>)</i><i>;</i>
          <i>in</i>
          <i>pkgs</i><i>.</i><i><i>lib</i><i>.</i><i>cleanSourceWith</i></i> <i>{</i>
            <i><i>src</i></i> <i>=</i> <i>craneLib</i><i>.</i><i><i>path</i></i> <i>./.</i><i>;</i>
            <i><i>filter</i></i> <i>=</i> <i>drawioOrCargo</i><i>;</i>
          <i>}</i><i>;</i>
        <i><i>buildInputs</i></i> <i>=</i> <i>with</i> <i>pkgs</i><i>;</i> <i>[</i> <i>poppler</i> <i>]</i><i>;</i>
        <i><i>nativeBuildInputs</i></i> <i>=</i> <i>with</i> <i>pkgs</i><i>;</i> <i>[</i>
          <i># for poppler, cairo etc.</i>
          <i>pkg-config</i>
          <i># to invoke mold (that became unnecessary at some point on some platforms, shrug)</i>
          <i>clang_14</i>
          <i># to link faster</i>
          <i>mold</i>
          <i># needed for cairo iirc</i>
          <i>nasm</i>
          <i># you can do your own research re: autoPatchelfHook and</i>
          <i># get amazed+angry about it on your own time.</i>
        <i>]</i> <i>++</i> <i>lib</i><i>.</i><i><i>optionals</i></i> <i>pkgs</i><i>.</i><i><i>stdenv</i><i>.</i><i>isLinux</i></i> <i>[</i> <i>autoPatchelfHook</i> <i>]</i>
        <i>++</i> <i>lib</i><i>.</i><i><i>optionals</i></i> <i>pkgs</i><i>.</i><i><i>stdenv</i><i>.</i><i>isDarwin</i></i>
          <i>(</i><i>with</i> <i>pkgs</i><i>.</i><i><i>darwin</i><i>.</i><i>apple_sdk</i><i>.</i><i>frameworks</i></i><i>;</i> <i>[</i>
            <i># why aren&#39;t these pulled in automatically? fuck if I know</i>
            <i>CoreFoundation</i>
            <i>SystemConfiguration</i>
            <i>Security</i>
          <i>]</i><i>)</i><i>;</i>

        <i><i>cargoArtifacts</i></i> <i>=</i>
          <i>craneLibWithRegistry</i><i>.</i><i><i>buildDepsOnly</i></i>
            <i>{</i>
              <i>inherit</i> <i>src</i> <i>buildInputs</i> <i>nativeBuildInputs</i><i>;</i>
            <i>}</i><i>;</i>

        <i><i>bin</i></i> <i>=</i> <i>craneLibWithRegistry</i><i>.</i><i><i>buildPackage</i></i> <i>{</i>
          <i>inherit</i> <i>src</i> <i>buildInputs</i> <i>nativeBuildInputs</i><i>;</i>
        <i>}</i><i>;</i>

        <i># on Linux, we pull in chromium, but on macOS we rely on Google Chrome</i>
        <i># being under `/Applications`: GUI apps are annoying to programmatically</i>
        <i># install under macOS in a way CLI stuff simply isn&#39;t (see homebrew</i>
        <i># formulas vs casks, gatekeeper, etc.)</i>
        <i><i>chromiumDep</i></i> <i>=</i> <i>if</i> <i>pkgs</i><i>.</i><i><i>stdenv</i><i>.</i><i>hostPlatform</i><i>.</i><i>system</i></i> <i>==</i> <i>&#34;x86_64-linux&#34;</i> <i>then</i> <i>with</i> <i>pkgs</i><i>;</i> <i>[</i> <i>chromium</i> <i>]</i> <i>else</i> <i>[</i> <i>]</i><i>;</i>

        <i><i>wrapped</i></i> <i>=</i> <i>pkgs</i><i>.</i><i><i>symlinkJoin</i></i> <i>{</i>
          <i><i>name</i></i> <i>=</i> <i>&#34;salvage-wrapped&#34;</i><i>;</i>
          <i><i>paths</i></i> <i>=</i> <i>[</i> <i>bin</i> <i>]</i><i>;</i>
          <i><i>buildInputs</i></i> <i>=</i> <i>with</i> <i>pkgs</i><i>;</i> <i>[</i> <i>makeWrapper</i> <i>]</i> <i>++</i> <i>chromiumDep</i><i>;</i>
          <i># we need chromium to be in PATH, so, we make a wrapper script.</i>
          <i><i>postBuild</i></i> <i>=</i> <i>with</i> <i>pkgs</i><i>;</i> <i>&#39;&#39;
            wrapProgram $out/bin/salvage \
              --set PATH <i>${</i><i>nixpkgs</i><i>.</i><i><i>lib</i><i>.</i><i>makeBinPath</i></i> <i>chromiumDep</i><i>}</i>
          &#39;&#39;</i><i>;</i>
        <i>}</i><i>;</i>

      <i>in</i>
      <i>{</i>
        <i><i>packages</i></i> <i>=</i> <i>{</i>
          <i><i>bin</i></i> <i>=</i> <i>bin</i><i>;</i>
          <i><i>wrapped</i></i> <i>=</i> <i>wrapped</i><i>;</i>
          <i><i>default</i></i> <i>=</i> <i>wrapped</i><i>;</i>
        <i>}</i><i>;</i>
        <i><i>devShells</i><i>.</i><i>default</i></i> <i>=</i> <i>pkgs</i><i>.</i><i><i>mkShell</i></i> <i>{</i>
          <i><i>inputsFrom</i></i> <i>=</i> <i>[</i> <i>bin</i> <i>]</i><i>;</i>
          <i><i>nativeBuildInputs</i></i> <i>=</i> <i>[</i> <i>]</i><i>;</i>
          <i><i>packages</i></i> <i>=</i> <i>[</i> <i>pkgs</i><i>.</i><i><i>just</i></i> <i>]</i><i>;</i>
        <i>}</i><i>;</i>
      <i>}</i><i>)</i><i>;</i>
<i>}</i>
</pre></div>
<p>This works today, but I would sleep better if Chromium was no longer part of my
asset pipeline, because at some point I want to deploy this to servers instead
of running it locally (thus lowering the barrier to entry for other people to
collaborate with me).</p>
<p>The <em>other</em> reason I started looking into alternatives is because alternatives
started looking at me.</p>
<p>In 2023, I was contracted to do some very interested work related to Figma, none
of which I can talk about because I stupidly signed a very paranoidly-worded
contract, which I will never do again unless I am literally on the verge of
losing my home.</p>
<p>But! It forced me to, you know, actually learn Figma. And, it&#39;s a weird and
unfair comparison, of course, because draw.io is a diagramming tool and Figma is
an interface design tool, but this thing is just built different.</p>
<p>The first time I actually heard of Figma (this is how sheltered us software
engineers are) was when someone asked me how I felt about them compiling Rust
and C++ code to WebAssembly for a product that, fundamentally, feels like it
shouldn&#39;t really require more than a buttload of JavaScript (maybe even
TypeScript at that scale) and DOM crimes. Or perhaps canvas, if you <em>really</em>
do care about pixel perfection and you&#39;re hell-bent on re-inventing the wheel.</p>
<p>But care they did, and they didn&#39;t just reinvent the wheel: they changed the
game.</p>
<p><a href="https://madebyevan.com/">Evan Wallace</a> has fantastic write-ups about some of
the &#34;casual genius&#34; ideas he simply willed into existence during <a href="https://madebyevan.com/figma/">his tenure as
Figma co-founder</a>.</p>
<p>Things like <a href="https://madebyevan.com/figma/introducing-vector-networks/">vector
networks</a>, which
immediately impose themselves as clearly superior to the classical &#34;vector path&#34;
model <em>literally everyone else is using</em>.</p>
<p>Or like successfully <a href="https://madebyevan.com/figma/rust-in-production-at-figma/">migrating the server-side portion of their product from
TypeScript to Rust</a>,
resulting in 3.8x smaller memory usage, 6x smaller CPU usage, 10x faster file
serve time and 16.4x faster worst-case save time.</p>
<p>The Figma team didn&#39;t solve one hard problem, they solved dozens. All while
maintaining best-of-class UX and gaining the favor of designers everywhere.</p>
<p>It&#39;s <em>really</em> hard not to like them. <a href="https://en.wikipedia.org/wiki/Figma_(software)#Proposed_acquisition_by_Adobe">Even Adobe agrees</a>.</p>

                        <h2>
                            <a id="the-worst-possible-business-strategy-protestant-ethics" href="#the-worst-possible-business-strategy-protestant-ethics">
                                The worst possible business strategy: protestant ethics
                            </a>
                        </h2>
                        
<p>But! It costs money. You get 3 files for free to fully explore the product: 
beyond that, you need to shell out for Figma Professional, which will cost you
$15/seat/month, unless you&#39;re comfortable with year-long commitments (I&#39;m not),
at which point it falls to $12/seat/month.</p>
<p>And, I don&#39;t know if you remember from the intro but: I was raised on frugality.</p>
<p>You don&#39;t understand. I&#39;m talking about an entire community for which couponing
qualifies as foreplay. I&#39;m <em>barely</em> exaggerating.</p>
<p>And I had big plans!</p>
<p>In 2023 I announced I was building a team, so that I could &#34;produce more
content&#34;: everyone hates this way of putting it, and the &#34;content creator&#34;
moniker, but &#34;teacher&#34; is a protected class and I haven&#39;t fully internalized the
&#34;clown&#34; label yet, so it&#39;s a happy middle ground.</p>
<p>And I did, for a bit! I paid two people for a few months, to help both with the
&#34;content&#34; part itself (helping with research, triage ideas, follow up on drafts
etc.) and on the &#34;platform&#34; part, because, part of the fun of &#34;working here&#34; is
that everything is custom-made and wonky (as evidenced by the draw.io asset
pipeline described above).</p>
<p>At any other company, this would be a nightmare (and whew, have I been there),
but here it&#39;s endearing and a feature: doing &#34;as much as possible&#34; yourself
means having a lot to write about: the machine feeds itself.</p>
<p>And I hate, <em>hate</em> per-seat per-month pricing, because everyone is trying to get
in on it, and for small business, it adds up. To a point where one might be
forgiven for asking themselves: &#34;if I just bite the bullet and learn Kubernetes,
could I self-host all that and eventually save up money?&#34;.</p>
<p>This seems like hard work to get worse things. In other words: this is <em>exactly</em>
how I was raised.</p>
<p>Being a sinner from birth, I of course do not deserve nice things. Nor should I
desire them. I will use whatever&#39;s in front of me, and I will be glad about it.</p>
<p>If it&#39;s not suffering, it&#39;s not work.</p>
<p>And if it&#39;s not work, it&#39;s probably &#34;of the devil&#34;.</p>
<p>Which brings us to Penpot.</p>

                        <h2>
                            <a id="penpot" href="#penpot">
                                Penpot
                            </a>
                        </h2>
                        
<p>Penpot is not just a product, it&#39;s an idea.</p>
<p>The headline, which takes up 10% of the viewport height on my browser, is:</p>
<blockquote>
<p>Bring Design Freedom to your Product Team</p>
<p>Source: <a href="https://penpot.app/">https://penpot.app/</a> at the time of this writing</p>
</blockquote>
<p>Followed by &#34;Sign up, it&#39;s free!&#34; and &#34;Self-host install&#34; calls to action.</p>
<p>The next line is &#34;Penpot is the Open-Source Design &amp; Prototyping Tool for
Product Teams&#34;.</p>
<p>And at this point, you&#39;ve used the labels &#34;free&#34; twice, and &#34;open-source&#34; once,
to market your thing, and, uh, let&#39;s say charitably: &#34;I&#39;ve been warned&#34;.</p>
<p>This is not <em>just</em> me being an asshole, by the way. There&#39;s a rich history of a
vocal minority going &#34;you can&#39;t excuse everything by saying it&#39;s free software&#34;
and being met with &#34;PRs welcome kthxbye&#34;.</p>
<p>This is <em>tradition</em> at this point. Perhaps even sport.</p>
<p>Anyway: I was told a lot of good about Penpot. &#34;Of the free alternatives to
Figma&#34;, I was told (and this is key), &#34;it is by far the best&#34;.</p>
<p>But after spending a few hours trying to get anything done with it, my
assessment is that, if this is true, then it&#39;s really not worth checking out any
of the other alternatives.</p>
<p>And I will describe my user story, but only after you and I agree that you could
fix each individual issue I&#39;ll talk about, one by one, and it still wouldn&#39;t
detract from my core argument.</p>
<p>Deal? Deal.</p>
<p>So! The Penpot homepage talks about its desktop app: makes sense, draw.io
(although in a slightly different category, as I&#39;ve already said) has one, Figma
has one, the Penpot userbase certainly would like one, and so <a href="https://sudovanilla.com/code/Korbs/Penpot-Desktop">somebody made
one</a>.</p>
<p>I hope this link still loads by the time you read this, because it is a
<a href="https://forgejo.org/">forgejo</a> instance which I can only assume runs on a
Raspberry Pi on someone&#39;s desk.</p>
<div>

<p>Just kidding, it&#39;s running on a Raspberry Pi <em>behind Cloudflare</em>. I guess
only client-side software is evil or something.</p>
</div>
<p>Anyway, the desktop app isn&#39;t official or officially supported (although to
their credit, Penpot, or I guess Kaleidos, sponsors sudovanilla. I have no idea
for how much).</p>
<p>The way you should run Penpot is to... well you should just pay for a seat on
their cloud offering but that&#39;s what we&#39;re trying <em>not</em> to do, so you&#39;re
supposed to self-host it.</p>
<p>The self-host page first suggests <a href="https://help.penpot.app/technical-guide/getting-started/#install-with-elestio">paying someone else to run it for
you</a>,
a completely valid answer to that question (many people do that with Mastodon),
but since I&#39;ve never heard of Elestio and I&#39;m already going the road less
traveled... might as well go all the way.</p>
<p>Again the self-host page hammers what is essentially their only selling point:
it no cost money:</p>
<blockquote>
<p>For too long, a critical piece of the software development pipeline has been
available solely via pricey proprietary SaaS subscriptions or Mac-only desktop
apps.</p>
<p>Penpot brings <strong>total freedom</strong> for teams by encouraging self-hosted deployments
so you can <strong>take advantage of your security and backup policies</strong>, as well as
<strong>extending and customizing</strong> your Penpot server the way you need.</p>
</blockquote>
<p>(Emphasis theirs, annoyingly).</p>
<p>I&#39;m not copywriting professional, but even I can recognize a piece of art when I
see one.</p>
<p>Anyway, option 2 is &#34;install with Docker&#34;, which gives you a <a href="https://raw.githubusercontent.com/penpot/penpot/main/docker/images/docker-compose.yaml">docker-compose
file</a>,
good enough to run it on your MacBookPro for sure, but, and let me emphasize
this: <strong>absolutely nobody should be running anything in production using a
docker-compose file</strong>.</p>
<p>What you&#39;re meant to do is, of course, run it on Kubernetes, which is largely
the same (it&#39;s containers all the way down) except it&#39;s configured differently,
you can now think about scaling out (on several nodes), you have actual
health/liveness checks and policies for rolling out new versions, restarting,
etc.</p>
<p>It&#39;s k8s! We all love to hate it, but at least the industry has sorta
standardized around it, so that makes commiserating easier.</p>
<p>And because penpot is made up of three services (backend, exporter, frontend —
not counting postgres and redis), although you <em>could</em> technically deploy all
three of them separately, the idiomatic and era-appropriate thing to do at the
time of this writing is to use a helm chart, which lets you deploy several
resources at once.</p>
<p>Nobody told me, but there is one place generally accepted as &#34;the helm chart
search engine&#34;, and it&#39;s <a href="https://artifacthub.io/">ArtifactHub</a>.</p>
<p>Searching for &#34;penpot&#34; will turn up two options: one by CodeChem (last updated 9
months ago), and one by TrueCharts (last updated 6 months ago).</p>
<p>I chose the former, not realizing it was pointing at the <code>1.16.0-beta</code> tag for
all three penpot images.</p>
<p>After much trial and error, I came up with the following <a href="">k3s manifest</a>:</p>
<div translate="no"><p>YAML</p><pre data-lang="yml">---
<i>apiVersion</i>: <i>helm.cattle.io/v1</i>
<i>kind</i>: <i>HelmChart</i>
<i>metadata</i>:
  <i>name</i>: <i>penpot</i>
  <i>namespace</i>: <i>default</i>
<i>spec</i>:
  <i>repo</i>: <i>https://charts.codechem.com</i>
  <i>chart</i>: <i>penpot</i>
  <i>valuesContent</i>: <i><i>|</i>
    global:
      # the plan was to eventually move this postgres DB to a proper postgres
      # operator like I do with the _other_ stuff I self-host, but I&#39;ve stopped
      # caring in the meantime
      postgresqlEnabled: true
      postgresql:
        auth:
          postgresPassword: REDACTED
      redisEnabled: true
    config:
      publicURI: https://penpot.example.org
      flags: &#34;enable-registration enable-login disable-demo-users disable-demo-warning enable-smtp&#34;
      registrationDomainWhitelist: example.org
      smtp:
        enabled: true
        defaultFrom: penpot &lt;penpot@example.org&gt;
        defaultReplyTo: penpot &lt;penpot@example.org&gt;
        host: smtp.sendgrid.net
        port: 587
        username: &#34;apikey&#34;
        password: &#34;REDACTED&#34;
        tls: true
      postgresql:
        host: penpot-postgresql.default.svc.cluster.local
        username: postgres
        password: REDACTED
      redis:
        host: penpot-redis-headless.default.svc.cluster.local
    # this is a recent addition, that overrides the version of the penpot
    # images being used.
    backend:
      image:
        tag: 1.19.3
    exporter:
      image:
        tag: 1.19.3
    frontend:
      image:
        tag: 1.19.3</i>

---
<i>apiVersion</i>: <i>cert-manager.io/v1</i>
<i>kind</i>: <i>Certificate</i>
<i>metadata</i>:
  <i>name</i>: <i>penpot.example.org-cert</i>
<i>spec</i>:
  <i>secretName</i>: <i>penpot.example.org-secret</i>
  <i>issuerRef</i>:
    <i>name</i>: <i>letsencrypt-prod</i>
    <i>kind</i>: <i>ClusterIssuer</i>
  <i>dnsNames</i>:
    - penpot.example.org
---
<i>apiVersion</i>: <i>traefik.io/v1alpha1</i>
<i>kind</i>: <i>IngressRoute</i>
<i>metadata</i>:
  <i>name</i>: <i>penpot</i>
<i>spec</i>:
  <i>entryPoints</i>:
    - web
    - websecure
  <i>routes</i>:
    - <i>match</i>: <i>Host(`penpot.example.org`)</i>
      <i>kind</i>: <i>Rule</i>
      <i>services</i>:
        - <i>name</i>: <i>penpot</i>
          <i>port</i>: <i>80</i>
  <i>tls</i>:
    <i>secretName</i>: <i>penpot.example.org-secret</i>
</pre></div>
<p>And, well, it works!</p>

            <picture>
                <source type="image/avif" srcset="/content/articles/just-paying-figma-15-dollars/assets/penpot-self-hosted.1cead2507954b2e8.avif"/>
                <source type="image/webp" srcset="/content/articles/just-paying-figma-15-dollars/assets/penpot-self-hosted.7988e5cfb180ae87.webp"/>
                <img loading="lazy" src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/penpot-self-hosted.c5598d26beccc342.jpg" title="A screenshot of penpot running on my own infra. The sidebar has projects, drafts, libraries, and fonts. The main section lists projects, then drafts, which has a single file, named wsl2-kernel. There&#39;s a bottom section called Libraries &amp; Templates" alt="A screenshot of penpot running on my own infra. The sidebar has projects, drafts, libraries, and fonts. The main section lists projects, then drafts, which has a single file, named wsl2-kernel. There&#39;s a bottom section called Libraries &amp; Templates"/>
            </picture>
            
<p>So it&#39;s got that going for it.</p>
<p>I&#39;m not sure why the preview for the &#34;wsl2-kernel&#34; file is missing (the URL just
returns a 404): presumably one of the pieces is misconfigured in the helm chart,
because the cloud offering gets it right:</p>

            <picture>
                <source type="image/avif" srcset="/content/articles/just-paying-figma-15-dollars/assets/penpot-hosted.c4dfa660e30a079c.avif"/>
                <source type="image/webp" srcset="/content/articles/just-paying-figma-15-dollars/assets/penpot-hosted.927e4dabcb05d627.webp"/>
                <img loading="lazy" src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/penpot-hosted.88e81cd0b1fcb2f2.jpg" title="Same screenshot but the preview works" alt="Same screenshot but the preview works"/>
            </picture>
            
<p>Recreating my boring old draw.io diagram in penpot felt like it took forever,
but I chalked it up to &#34;being unfamiliar with the tool&#34;.</p>

            <picture>
                <source type="image/avif" srcset="/content/articles/just-paying-figma-15-dollars/assets/penpot-diagram.8b0e41a1118ade23.avif"/>
                <source type="image/webp" srcset="/content/articles/just-paying-figma-15-dollars/assets/penpot-diagram.1369017711865633.webp"/>
                <img loading="lazy" src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/penpot-diagram.521a3347ee03ad12.jpg" title="The diagram recreated in penpot" alt="The diagram recreated in penpot"/>
            </picture>
            
<p>At first, exporting didn&#39;t work <em>at all</em> (it would just time out), but upgrading
to the non-beta 1.19.3 seems to have fixed some of it.</p>
<p>I can, for example, export to SVG now. It takes <em>several seconds</em>, and we end up
with this:</p>

            <picture>
                <source type="image/avif" srcset="/content/articles/just-paying-figma-15-dollars/assets/penpot-svg-export.148dd5c96dcce2a0.avif"/>
                <source type="image/webp" srcset="/content/articles/just-paying-figma-15-dollars/assets/penpot-svg-export.45d04b456379338b.webp"/>
                <img loading="lazy" src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/penpot-svg-export.7e5ef4bcea6ebb90.jpg" title="A browser window showing the SVG of the diagram open" alt="A browser window showing the SVG of the diagram open"/>
            </picture>
            
<p>Looks fine! What&#39;s in there? For example, what SVG node type is it using for
&#34;RAM stick #1&#34;?</p>
<div translate="no"><p>XML</p><pre data-lang="xml"><i>&lt;</i><i>text</i> <i>xmlns</i>=&#34;<i>http://www.w3.org/2000/svg</i>&#34; <i>x</i>=&#34;<i>20.00000000000007</i>&#34; <i>y</i>=&#34;<i>29.601562499999858</i>&#34; <i>dominant-baseline</i>=&#34;<i>ideographic</i>&#34; <i>textLength</i>=&#34;<i>72</i>&#34; <i>lengthAdjust</i>=&#34;<i>spacingAndGlyphs</i>&#34; <i>style</i>=&#34;<i>text-transform: none; font-family: Iosevka; letter-spacing: normal; font-style: normal; font-weight: 100; white-space: pre; font-size: 12px; text-decoration: none solid rgb(0, 0, 0); direction: ltr; fill: rgb(0, 0, 0); fill-opacity: 1;</i>&#34;<i>&gt;</i>RAM stick #1<i>&lt;/</i><i>text</i><i>&gt;</i>
</pre></div>
<p>Right. Just a text node. This means you need to have the &#34;Iosevka&#34; font
installed, which doesn&#39;t work for me: I want my SVG diagrams to be displayed
exactly the same everywhere, so I want them to be paths.</p>
<p>What if we use the same trick as with draw.io, and export to PDF first, then
use cairo to convert that to SVG?</p>

            <picture>
                <source type="image/avif" srcset="/content/articles/just-paying-figma-15-dollars/assets/penpot-pdf-export.002e6d63f2a7e546.avif"/>
                <source type="image/webp" srcset="/content/articles/just-paying-figma-15-dollars/assets/penpot-pdf-export.4a10d4388ecd4c85.webp"/>
                <img loading="lazy" src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/penpot-pdf-export.963c6575f4e9504a.jpg" title="A browser window showing the PDF of the diagram open" alt="A browser window showing the PDF of the diagram open"/>
            </picture>
            
<p>It doesn&#39;t fucking work! We get &#34;generic serif font&#34; instead of Iosevka.</p>
<p>You wanna know why?</p>
<p>Well, it takes several seconds because what the penpot exporter is doing is,
that&#39;s right, spawning a chromium
instance and <a href="https://github.com/penpot/penpot/blob/a49bc07259aa9def304a44e90b3d34f97508c413/exporter/src/app/browser.cljs#L73-L82">printing to PDF</a>.</p>
<p>(But hey, <a href="https://clojurescript.org/">ClojureScript</a>!)</p>
<p>And I guess the thing that&#39;s supposed to give chromium access to the document&#39;s
&#34;custom fonts&#34; is broken in some way. Because they didn&#39;t <em>completely</em> fumble
this one: Penpot does have a proper &#34;Custom Fonts&#34; feature:</p>

            <picture>
                <source type="image/avif" srcset="/content/articles/just-paying-figma-15-dollars/assets/penpot-custom-fonts.bb0b89adfb09077a.avif"/>
                <source type="image/webp" srcset="/content/articles/just-paying-figma-15-dollars/assets/penpot-custom-fonts.7d3a13c39a13dfd6.webp"/>
                <img loading="lazy" src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/penpot-custom-fonts.88c6a33005983c91.jpg" title="Penpot&#39;s custom fonts dialog" alt="Penpot&#39;s custom fonts dialog"/>
            </picture>
            
<p>It even detects mismatched vertical metrics and points you at <a href="https://vertical-metrics.netlify.app/">this
service</a> to see for yourself, and
<a href="https://transfonter.org/">Transfonter</a> to fix it.</p>
<p>I mean, it&#39;s not Figma&#39;s &#34;just <a href="https://help.figma.com/hc/en-us/articles/360039956894-Access-local-fonts-on-your-computer">install this native
app</a>
and you can use all your fonts, even from a browser&#34;, but: someone, somewhere, cared about this!</p>
<p>However, it&#39;s also terrible, terrible news.</p>
<p>Even if it <em>did</em> work properly, we&#39;re back to just &#34;doing whatever the browser
does&#34; (the browser being, at least for now, universally, chromium) in terms of
text layout and rendering.</p>
<p>Which means export is <em>always</em> going to be slow, and if, like me, you&#39;re using
the platform-appropriate browser in your operating system (Firefox everywhere if
your fetish is Google-funded antitrust mitigations, and Edge on Windows + Safari
on macOS otherwise), it&#39;s not going to match exactly what you see in the editor.</p>
<p>I&#39;ve also recreated the diagram in Figma, which was a <em>much</em> nicer experience,
and not just because Figma is the original and Penpot is the copy, but also
because... it works? Snapping works, and when 80% of your interaction with the
software is &#34;moving/resizing things&#34;, that matters a lot.</p>
<p>Figma lets you adjust advanced stroke settings, so I can <em>actually</em> match
the draw.io default:</p>

            <picture>
                <source type="image/avif" srcset="/content/articles/just-paying-figma-15-dollars/assets/figma-editor.7ba4bc5ba83c9465.avif"/>
                <source type="image/webp" srcset="/content/articles/just-paying-figma-15-dollars/assets/figma-editor.753657b1c2aa5474.webp"/>
                <img loading="lazy" src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/figma-editor.734f23d472cde143.jpg" title="Figma opened in Microsoft Edge, showing the same diagram, again" alt="Figma opened in Microsoft Edge, showing the same diagram, again"/>
            </picture>
            
<p>Exporting the frame to SVG is instant (it&#39;s all happening client-side) and
should look the same for everyone:</p>
<p><img src="https://fasterthanli.me/content/articles/just-paying-figma-15-dollars/assets/adding-memory-figma.d4657ea8902cc3b5.svg" title="" alt="" loading="lazy"/></p><p>Because it&#39;s not using the SVG text node anywhere: it&#39;s using paths.</p>
<p>The &#34;RAM stick #1&#34; string is just this (extremely long, cut for your
convenience) SVG path:</p>
<div translate="no"><p>XML</p><pre data-lang="xml"><i>&lt;</i><i>path</i> <i>d</i>=&#34;<i>M20.896 34V23.71H23.584C23.836 23.71 24.0833 (cut) 23.71H101.466V34H100.374Z</i>&#34; <i>fill</i>=&#34;<i>black</i>&#34;/&gt;
</pre></div>
<p>And that happens to be exactly what I want, because, much like Figma, I care
about <em>precise</em> design (them, because it pays. me, because I can). Even if my
diagrams and figures are bad, I want them to look the same everywhere.</p>
<p>Penpot didn&#39;t solve that hard problem. It&#39;s several <em>huge</em> engineering efforts
away from solving that problem. In fact, I know they&#39;re <em>never</em> going to solve
that problem, because they turned it into a selling point.</p>
<p>See, Penpot isn&#39;t only bashing no &#34;pricey SaaS subscriptions and macOS-only
apps&#34; (which is don&#39;t-sue-me speech for Figma and
<a href="https://www.sketch.com/">Sketch</a>), it&#39;s saying how it&#39;s great that their
flexbox model exactly matches the CSS one, saving valuable time when developers
have to implement the designers&#39;.. designs, as HTML and CSS.</p>
<p>Well, no shit! It <em>is</em> the CSS model, since they don&#39;t have a layout engine.</p>
<p>Figma is just from a different time, I guess.</p>
<p>A time when you could afford to have &#34;design&#34; and &#34;implementation&#34; be separate
jobs with separate expertise.</p>
<p>When you could design for things other than the web.</p>
<p>And when you could <a href="https://en.wikipedia.org/wiki/Dylan_Field#Starting_Figma_(2012)">get paid $100K to quit
school</a> and
focus full-time on tools like Figma, instead of whatever AI/ML slop everyone is
being served now.</p>
<p>Now that, I miss.</p>

                        <h2>
                            <a id="closing-words" href="#closing-words">
                                Closing words
                            </a>
                        </h2>
                        
<p>I&#39;ll leave you with the synthetic version of this article, which motivated me
to actually write it out for real:</p>
<blockquote>
<p>If I had a dollar every time I saw an &#34;open source&#34; project vaguely recreate a
handful of surface-level features of some commercial solution then go &#34;there you
have it folks, YOU&#39;RE FREE&#34; while Nothing Actually Works, I would be able to,
like, pay rent with it.</p>
<p>Source: me, <a href="https://hachyderm.io/@fasterthanlime/111261652296165843">Mastodon</a> and unfortunately, <a href="https://twitter.com/fasterthanlime/status/1714980045960159341">Twitter</a></p>
</blockquote>
<p>If <a href="https://www.bloomberg.com/news/articles/2023-10-12/adobe-deal-for-figma-in-limbo-with-new-focus-on-ai">the Adobe acquisition
closes</a>,
then I shall mourn that, too.</p>
<p>In the meantime: Figma&#39;s earned my $15 a month. </p>

</div></div>
  </body>
</html>
