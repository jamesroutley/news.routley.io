<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843">Original</a>
    <h1>Linux: Ext4 data corruption in 6.1.64-1</h1>
    
    <div id="readability-page-1" class="page">

<p><a href="https://bugs.debian.org/cgi-bin/version.cgi?fixed=linux%2F6.1.66-1;collapse=1;found=linux%2F6.1.64-1;package=src%3Alinux;info=1;absolute=0"><img alt="version graph" src="https://bugs.debian.org/cgi-bin/version.cgi?height=2;fixed=linux%2F6.1.66-1;collapse=1;package=src%3Alinux;width=2;found=linux%2F6.1.64-1;absolute=0"/></a></p>




<p><a href="mailto:1057843@bugs.debian.org">Reply</a> or <a href="mailto:1057843-subscribe@bugs.debian.org">subscribe</a> to this bug.</p>
<p>Toggle useless messages</p>

<div><hr/><p>
<a name="1"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, debian-release@lists.debian.org, carnil@debian.org, adsb@debian.org, Debian Kernel Team <debian-kernel@lists.debian.org> -->
<!-- time:1702130943 -->
<strong>Report forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, debian-release@lists.debian.org, carnil@debian.org, adsb@debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:</p></div>

<div><hr/><p>
<a name="3"></a>
<!-- request_addr: Salvatore Bonaccorso <carnil@debian.org> -->
<!-- time:1702130943 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:</p></div>

<hr/><p><a name="5"></a><a name="msg5"></a><a href="#5">Message #5</a> received at submit@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=5">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=5">mbox</a>, <a href="mailto:1057843@bugs.debian.org?References=%3C170213085751.880636.15744973723197230632.reportbug%40eldamar.lan%3E&amp;body=On%20Sat%2C%2009%20Dec%202023%2015%3A07%3A37%20%2B0100%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20linux%0A%3E%20Version%3A%206.1.64-1%0A%3E%20Severity%3A%20grave%0A%3E%20Tags%3A%20upstream%0A%3E%20Justification%3A%20causes%20non-serious%20data%20loss%0A%3E%20X-Debbugs-Cc%3A%20debian-release%40lists.debian.org%2C%20carnil%40debian.org%2C%20adsb%40debian.org%0A%3E%20%0A%3E%20Hi%0A%3E%20%0A%3E%20I%27m%20filling%20this%20for%20visibility.%0A%3E%20%0A%3E%20There%20might%20be%20a%20ext4%20data%20corruption%20issue%20with%20the%20kernel%20released%0A%3E%20in%20the%2012.3%20bookworm%20point%20release%20%28which%20is%20addressed%20in%206.1.66%0A%3E%20upstream%20already%29.%0A%3E%20%0A%3E%20The%20report%20about%20the%20regression%20and%20some%20details%3A%0A%3E%20%0A%3E%20https%3A%2F%2Flore.kernel.org%2Fstable%2F20231205122122.dfhhoaswsfscuhc3%40quack3%2F%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20Salvatore%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20linux%3A%20ext4%20data%20corruption%20in%206.1.64-1&amp;In-Reply-To=%3C170213085751.880636.15744973723197230632.reportbug%40eldamar.lan%3E">reply</a>):</p>

<pre>Source: linux
Version: 6.1.64-1
Severity: grave
Tags: upstream
Justification: causes non-serious data loss
X-Debbugs-Cc: debian-release@lists.debian.org, carnil@debian.org, adsb@debian.org

Hi

I&#39;m filling this for visibility.

There might be a ext4 data corruption issue with the kernel released
in the 12.3 bookworm point release (which is addressed in 6.1.66
upstream already).

The report about the regression and some details:

<a href="https://lore.kernel.org/stable/20231205122122.dfhhoaswsfscuhc3@quack3/">https://lore.kernel.org/stable/20231205122122.dfhhoaswsfscuhc3@quack3/</a>

Regards,
Salvatore


</pre>

<div><hr/><p>
<a name="6"></a>
<!-- command:tag -->
<!-- requester: Salvatore Bonaccorso <carnil@debian.org> -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1702132023 -->
<!-- new_data:
$new_data = {
              'keywords' => 'confirmed upstream'
            };
-->
<!-- old_data:
$old_data = {
              'keywords' => 'upstream'
            };
-->
<strong>Added tag(s) confirmed.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 09 Dec 2023 14:27:03 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=7">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=7">mbox</a>, <a href="#6">link</a>).</p></div>



<div><hr/><p>
<a name="10"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team <debian-kernel@lists.debian.org> -->
<!-- time:1702132562 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:</p></div>

<div><hr/><p>
<a name="12"></a>
<!-- request_addr: Salvatore Bonaccorso <carnil@debian.org> -->
<!-- time:1702132562 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:</p></div>

<hr/><p><a name="14"></a><a name="msg14"></a><a href="#14">Message #14</a> received at 1057843@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=14">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=14">mbox</a>, <a href="mailto:1057843@bugs.debian.org?References=%3C170213085751.880636.15744973723197230632.reportbug%40eldamar.lan%3E%0A%20%3CZXR6p7Ze8RwcC3Ax%40eldamar.lan%3E&amp;body=On%20Sat%2C%209%20Dec%202023%2015%3A33%3A11%20%2B0100%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Running%20the%20single%20test%20with%20ext4%3A%0A%3E%20%0A%3E%20%23%20LTP_SINGLE_FS_TYPE%3Dext4%20LTP_DEV_FS_TYPE%3Dext4%20.%2Fpreadv03_64%0A%3E%20tst_device.c%3A96%3A%20TINFO%3A%20Found%20free%20device%200%20%27%2Fdev%2Floop0%27%0A%3E%20tst_test.c%3A1690%3A%20TINFO%3A%20LTP%20version%3A%2020230929-194-g5c096b2cf%0A%3E%20tst_test.c%3A1574%3A%20TINFO%3A%20Timeout%20per%20run%20is%200h%2000m%2030s%0A%3E%20tst_supported_fs_types.c%3A149%3A%20TINFO%3A%20WARNING%3A%20testing%20only%20ext4%0A%3E%20tst_supported_fs_types.c%3A90%3A%20TINFO%3A%20Kernel%20supports%20ext4%0A%3E%20tst_supported_fs_types.c%3A55%3A%20TINFO%3A%20mkfs.ext4%20does%20exist%0A%3E%20tst_test.c%3A1650%3A%20TINFO%3A%20%3D%3D%3D%20Testing%20on%20ext4%20%3D%3D%3D%0A%3E%20tst_test.c%3A1105%3A%20TINFO%3A%20Formatting%20%2Fdev%2Floop0%20with%20ext4%20opts%3D%27%27%20extra%20opts%3D%27%27%0A%3E%20mke2fs%201.47.0%20%285-Feb-2023%29%0A%3E%20tst_test.c%3A1119%3A%20TINFO%3A%20Mounting%20%2Fdev%2Floop0%20to%20%2Ftmp%2FLTP_preWBHd7l%2Fmntpoint%20fstyp%3Dext4%20flags%3D0%0A%3E%20preadv03.c%3A102%3A%20TINFO%3A%20Using%20block%20size%20512%0A%3E%20preadv03.c%3A77%3A%20TFAIL%3A%20Buffer%20wrong%20at%200%20have%2062%20expected%2061%0A%3E%20preadv03.c%3A77%3A%20TFAIL%3A%20Buffer%20wrong%20at%200%20have%2062%20expected%2061%0A%3E%20preadv03.c%3A66%3A%20TFAIL%3A%20preadv%28O_DIRECT%29%20read%200%20bytes%2C%20expected%20512%0A%3E%20%0A%3E%20Summary%3A%0A%3E%20passed%20%20%200%0A%3E%20failed%20%20%203%0A%3E%20broken%20%20%200%0A%3E%20skipped%20%200%0A%3E%20warnings%200%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20Bug%231057843%3A%20linux%3A%20ext4%20data%20corruption%20in%206.1.64-1&amp;In-Reply-To=%3CZXR6p7Ze8RwcC3Ax%40eldamar.lan%3E">reply</a>):</p>

<pre>Running the single test with ext4:

# LTP_SINGLE_FS_TYPE=ext4 LTP_DEV_FS_TYPE=ext4 ./preadv03_64
tst_device.c:96: TINFO: Found free device 0 &#39;/dev/loop0&#39;
tst_test.c:1690: TINFO: LTP version: 20230929-194-g5c096b2cf
tst_test.c:1574: TINFO: Timeout per run is 0h 00m 30s
tst_supported_fs_types.c:149: TINFO: WARNING: testing only ext4
tst_supported_fs_types.c:90: TINFO: Kernel supports ext4
tst_supported_fs_types.c:55: TINFO: mkfs.ext4 does exist
tst_test.c:1650: TINFO: === Testing on ext4 ===
tst_test.c:1105: TINFO: Formatting /dev/loop0 with ext4 opts=&#39;&#39; extra opts=&#39;&#39;
mke2fs 1.47.0 (5-Feb-2023)
tst_test.c:1119: TINFO: Mounting /dev/loop0 to /tmp/LTP_preWBHd7l/mntpoint fstyp=ext4 flags=0
preadv03.c:102: TINFO: Using block size 512
preadv03.c:77: TFAIL: Buffer wrong at 0 have 62 expected 61
preadv03.c:77: TFAIL: Buffer wrong at 0 have 62 expected 61
preadv03.c:66: TFAIL: preadv(O_DIRECT) read 0 bytes, expected 512

Summary:
passed   0
failed   3
broken   0
skipped  0
warnings 0


</pre>

<div><hr/><p>
<a name="15"></a>
<!-- command:tag -->
<!-- requester: Salvatore Bonaccorso <carnil@debian.org> -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1702132743 -->
<!-- new_data:
$new_data = {
              'keywords' => 'upstream fixed-upstream confirmed'
            };
-->
<!-- old_data:
$old_data = {
              'keywords' => 'confirmed upstream'
            };
-->
<strong>Added tag(s) fixed-upstream.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 09 Dec 2023 14:39:03 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=16">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=16">mbox</a>, <a href="#15">link</a>).</p></div>

<div><hr/><p>
<a name="17"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team <debian-kernel@lists.debian.org> -->
<!-- time:1702133822 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:</p></div>

<div><hr/><p>
<a name="19"></a>
<!-- request_addr: Salvatore Bonaccorso <carnil@debian.org> -->
<!-- time:1702133822 -->
<strong>Acknowledgement sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:</p></div>

<hr/><p><a name="21"></a><a name="msg21"></a><a href="#21">Message #21</a> received at 1057843@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=21">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=21">mbox</a>, <a href="mailto:1057843@bugs.debian.org?References=%3C170213085751.880636.15744973723197230632.reportbug%40eldamar.lan%3E%0A%20%3CZXR_TwLmkoTlM7Il%40eldamar.lan%3E&amp;body=On%20Sat%2C%209%20Dec%202023%2015%3A53%3A03%20%2B0100%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20wrote%3A%0A%3E%20Hi%2C%0A%3E%20%0A%3E%20On%20Sat%2C%20Dec%2009%2C%202023%20at%2003%3A07%3A37PM%20%2B0100%2C%20Salvatore%20Bonaccorso%20wrote%3A%0A%3E%20%3E%20Source%3A%20linux%0A%3E%20%3E%20Version%3A%206.1.64-1%0A%3E%20%3E%20Severity%3A%20grave%0A%3E%20%3E%20Tags%3A%20upstream%0A%3E%20%3E%20Justification%3A%20causes%20non-serious%20data%20loss%0A%3E%20%3E%20X-Debbugs-Cc%3A%20debian-release%40lists.debian.org%2C%20carnil%40debian.org%2C%20adsb%40debian.org%0A%3E%20%3E%20%0A%3E%20%3E%20Hi%0A%3E%20%3E%20%0A%3E%20%3E%20I%27m%20filling%20this%20for%20visibility.%0A%3E%20%3E%20%0A%3E%20%3E%20There%20might%20be%20a%20ext4%20data%20corruption%20issue%20with%20the%20kernel%20released%0A%3E%20%3E%20in%20the%2012.3%20bookworm%20point%20release%20%28which%20is%20addressed%20in%206.1.66%0A%3E%20%3E%20upstream%20already%29.%0A%3E%20%3E%20%0A%3E%20%3E%20The%20report%20about%20the%20regression%20and%20some%20details%3A%0A%3E%20%3E%20%0A%3E%20%3E%20https%3A%2F%2Flore.kernel.org%2Fstable%2F20231205122122.dfhhoaswsfscuhc3%40quack3%2F%0A%3E%20%0A%3E%206.1.66%20upstream%20fixes%20the%20issue%3A%0A%3E%20%0A%3E%20%23%20uname%20-a%0A%3E%20Linux%20bookworm-amd64%206.1.0-15-amd64%20%231%20SMP%20PREEMPT_DYNAMIC%20Debian%206.1.66-1%20%282023-12-06%29%20x86_64%20GNU%2FLinux%0A%3E%20%23%20LTP_SINGLE_FS_TYPE%3Dext4%20LTP_DEV_FS_TYPE%3Dext4%20.%2Fpreadv03_64%0A%3E%20tst_device.c%3A96%3A%20TINFO%3A%20Found%20free%20device%200%20%27%2Fdev%2Floop0%27%0A%3E%20tst_test.c%3A1690%3A%20TINFO%3A%20LTP%20version%3A%2020230929-194-g5c096b2cf%0A%3E%20tst_test.c%3A1574%3A%20TINFO%3A%20Timeout%20per%20run%20is%200h%2000m%2030s%0A%3E%20tst_supported_fs_types.c%3A149%3A%20TINFO%3A%20WARNING%3A%20testing%20only%20ext4%0A%3E%20tst_supported_fs_types.c%3A90%3A%20TINFO%3A%20Kernel%20supports%20ext4%0A%3E%20tst_supported_fs_types.c%3A55%3A%20TINFO%3A%20mkfs.ext4%20does%20exist%0A%3E%20tst_test.c%3A1650%3A%20TINFO%3A%20%3D%3D%3D%20Testing%20on%20ext4%20%3D%3D%3D%0A%3E%20tst_test.c%3A1105%3A%20TINFO%3A%20Formatting%20%2Fdev%2Floop0%20with%20ext4%20opts%3D%27%27%20extra%20opts%3D%27%27%0A%3E%20mke2fs%201.47.0%20%285-Feb-2023%29%0A%3E%20tst_test.c%3A1119%3A%20TINFO%3A%20Mounting%20%2Fdev%2Floop0%20to%20%2Ftmp%2FLTP_preGGYjTj%2Fmntpoint%20fstyp%3Dext4%20flags%3D0%0A%3E%20preadv03.c%3A102%3A%20TINFO%3A%20Using%20block%20size%20512%0A%3E%20preadv03.c%3A87%3A%20TPASS%3A%20preadv%28O_DIRECT%29%20read%20512%20bytes%20successfully%20with%20content%20%27a%27%20expectedly%0A%3E%20preadv03.c%3A87%3A%20TPASS%3A%20preadv%28O_DIRECT%29%20read%20512%20bytes%20successfully%20with%20content%20%27a%27%20expectedly%0A%3E%20preadv03.c%3A87%3A%20TPASS%3A%20preadv%28O_DIRECT%29%20read%20512%20bytes%20successfully%20with%20content%20%27b%27%20expectedly%0A%3E%20%0A%3E%20Summary%3A%0A%3E%20passed%20%20%203%0A%3E%20failed%20%20%200%0A%3E%20broken%20%20%200%0A%3E%20skipped%20%200%0A%3E%20warnings%200%0A%3E%20%0A%3E%20Regards%2C%0A%3E%20Salvatore%0A%3E%20%0A%3E%20%0A&amp;subject=Re%3A%20Bug%231057843%3A%20linux%3A%20ext4%20data%20corruption%20in%206.1.64-1&amp;In-Reply-To=%3CZXR_TwLmkoTlM7Il%40eldamar.lan%3E">reply</a>):</p>

<pre>Hi,

On Sat, Dec 09, 2023 at 03:07:37PM +0100, Salvatore Bonaccorso wrote:
&gt; Source: linux
&gt; Version: 6.1.64-1
&gt; Severity: grave
&gt; Tags: upstream
&gt; Justification: causes non-serious data loss
&gt; X-Debbugs-Cc: debian-release@lists.debian.org, carnil@debian.org, adsb@debian.org
&gt; 
&gt; Hi
&gt; 
&gt; I&#39;m filling this for visibility.
&gt; 
&gt; There might be a ext4 data corruption issue with the kernel released
&gt; in the 12.3 bookworm point release (which is addressed in 6.1.66
&gt; upstream already).
&gt; 
&gt; The report about the regression and some details:
&gt; 
&gt; <a href="https://lore.kernel.org/stable/20231205122122.dfhhoaswsfscuhc3@quack3/">https://lore.kernel.org/stable/20231205122122.dfhhoaswsfscuhc3@quack3/</a>

6.1.66 upstream fixes the issue:

# uname -a
Linux bookworm-amd64 6.1.0-15-amd64 #1 SMP PREEMPT_DYNAMIC Debian 6.1.66-1 (2023-12-06) x86_64 GNU/Linux
# LTP_SINGLE_FS_TYPE=ext4 LTP_DEV_FS_TYPE=ext4 ./preadv03_64
tst_device.c:96: TINFO: Found free device 0 &#39;/dev/loop0&#39;
tst_test.c:1690: TINFO: LTP version: 20230929-194-g5c096b2cf
tst_test.c:1574: TINFO: Timeout per run is 0h 00m 30s
tst_supported_fs_types.c:149: TINFO: WARNING: testing only ext4
tst_supported_fs_types.c:90: TINFO: Kernel supports ext4
tst_supported_fs_types.c:55: TINFO: mkfs.ext4 does exist
tst_test.c:1650: TINFO: === Testing on ext4 ===
tst_test.c:1105: TINFO: Formatting /dev/loop0 with ext4 opts=&#39;&#39; extra opts=&#39;&#39;
mke2fs 1.47.0 (5-Feb-2023)
tst_test.c:1119: TINFO: Mounting /dev/loop0 to /tmp/LTP_preGGYjTj/mntpoint fstyp=ext4 flags=0
preadv03.c:102: TINFO: Using block size 512
preadv03.c:87: TPASS: preadv(O_DIRECT) read 512 bytes successfully with content &#39;a&#39; expectedly
preadv03.c:87: TPASS: preadv(O_DIRECT) read 512 bytes successfully with content &#39;a&#39; expectedly
preadv03.c:87: TPASS: preadv(O_DIRECT) read 512 bytes successfully with content &#39;b&#39; expectedly

Summary:
passed   3
failed   0
broken   0
skipped  0
warnings 0

Regards,
Salvatore


</pre>

<div><hr/><p>
<a name="22"></a>
<!-- command:tag -->
<!-- requester: Salvatore Bonaccorso <carnil@debian.org> -->
<!-- request_addr: control@bugs.debian.org -->
<!-- time:1702139223 -->
<!-- new_data:
$new_data = {
              'keywords' => 'upstream confirmed pending fixed-upstream'
            };
-->
<!-- old_data:
$old_data = {
              'keywords' => 'upstream fixed-upstream confirmed'
            };
-->
<strong>Added tag(s) pending.</strong>
Request was from <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>
to <code>control@bugs.debian.org</code>.
 (Sat, 09 Dec 2023 16:27:03 GMT) (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=23">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=23">mbox</a>, <a href="#22">link</a>).</p></div>

<div><hr/><p>
<a name="24"></a>
<!-- request_addr: Salvatore Bonaccorso <carnil@debian.org> -->
<!-- time:1702144808 -->
<strong>Reply sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:</p></div>

<div><hr/><p>
<a name="26"></a>
<!-- request_addr: Salvatore Bonaccorso <carnil@debian.org> -->
<!-- time:1702144808 -->
<strong>Notification sent</strong>
to <code>Salvatore Bonaccorso &lt;carnil@debian.org&gt;</code>:</p></div>

<hr/><p><a name="28"></a><a name="msg28"></a><a href="#28">Message #28</a> received at 1057843-close@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=28">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=28">mbox</a>, <a href="mailto:1057843@bugs.debian.org?References=%3CE1rC1Z2-0039fW-ST%40fasolo.debian.org%3E&amp;body=On%20Sat%2C%2009%20Dec%202023%2017%3A56%3A32%20%2B0000%20Debian%20FTP%20Masters%20%3Cftpmaster%40ftp-master.debian.org%3E%20wrote%3A%0A%3E%20Source%3A%20linux%0A%3E%20Source-Version%3A%206.1.66-1%0A%3E%20Done%3A%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%0A%3E%20%0A%3E%20We%20believe%20that%20the%20bug%20you%20reported%20is%20fixed%20in%20the%20latest%20version%20of%0A%3E%20linux%2C%20which%20is%20due%20to%20be%20installed%20in%20the%20Debian%20FTP%20archive.%0A%3E%20%0A%3E%20A%20summary%20of%20the%20changes%20between%20this%20version%20and%20the%20previous%20one%20is%0A%3E%20attached.%0A%3E%20%0A%3E%20Thank%20you%20for%20reporting%20the%20bug%2C%20which%20will%20now%20be%20closed.%20%20If%20you%0A%3E%20have%20further%20comments%20please%20address%20them%20to%201057843%40bugs.debian.org%2C%0A%3E%20and%20the%20maintainer%20will%20reopen%20the%20bug%20report%20if%20appropriate.%0A%3E%20%0A%3E%20Debian%20distribution%20maintenance%20software%0A%3E%20pp.%0A%3E%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%20%28supplier%20of%20updated%20linux%20package%29%0A%3E%20%0A%3E%20%28This%20message%20was%20generated%20automatically%20at%20their%20request%3B%20if%20you%0A%3E%20believe%20that%20there%20is%20a%20problem%20with%20it%20please%20contact%20the%20archive%0A%3E%20administrators%20by%20mailing%20ftpmaster%40ftp-master.debian.org%29%0A%3E%20%0A%3E%20%0A%3E%20-----BEGIN%20PGP%20SIGNED%20MESSAGE-----%0A%3E%20Hash%3A%20SHA512%0A%3E%20%0A%3E%20Format%3A%201.8%0A%3E%20Date%3A%20Sat%2C%2009%20Dec%202023%2016%3A48%3A39%20%2B0100%0A%3E%20Source%3A%20linux%0A%3E%20Architecture%3A%20source%0A%3E%20Version%3A%206.1.66-1%0A%3E%20Distribution%3A%20bookworm%0A%3E%20Urgency%3A%20medium%0A%3E%20Maintainer%3A%20Debian%20Kernel%20Team%20%3Cdebian-kernel%40lists.debian.org%3E%0A%3E%20Changed-By%3A%20Salvatore%20Bonaccorso%20%3Ccarnil%40debian.org%3E%0A%3E%20Closes%3A%201032104%201057790%201057843%0A%3E%20Changes%3A%0A%3E%20%20linux%20%286.1.66-1%29%20bookworm%3B%20urgency%3Dmedium%0A%3E%20%20.%0A%3E%20%20%20%20%2A%20New%20upstream%20stable%20update%3A%0A%3E%20%20%20%20%20%20https%3A%2F%2Fwww.kernel.org%2Fpub%2Flinux%2Fkernel%2Fv6.x%2FChangeLog-6.1.65%0A%3E%20%20%20%20%20%20-%20afs%3A%20Fix%20afs_server_list%20to%20be%20cleaned%20up%20with%20RCU%0A%3E%20%20%20%20%20%20-%20afs%3A%20Make%20error%20on%20cell%20lookup%20failure%20consistent%20with%20OpenAFS%0A%3E%20%20%20%20%20%20-%20%5Barm64%2Carmhf%5D%20drm%2Fpanel%3A%20simple%3A%20Fix%20Innolux%20G101ICE-L01%20bus%20flags%0A%3E%20%20%20%20%20%20-%20%5Barm64%2Carmhf%5D%20drm%2Fpanel%3A%20simple%3A%20Fix%20Innolux%20G101ICE-L01%20timings%0A%3E%20%20%20%20%20%20-%20wireguard%3A%20use%20DEV_STATS_INC%28%29%0A%3E%20%20%20%20%20%20-%20ata%3A%20pata_isapnp%3A%20Add%20missing%20error%20check%20for%20devm_ioport_map%28%29%0A%3E%20%20%20%20%20%20-%20%5Bx86%5D%20drm%2Fi915%3A%20do%20not%20clean%20GT%20table%20on%20error%20path%0A%3E%20%20%20%20%20%20-%20%5Barm64%2Carmhf%5D%20drm%2Frockchip%3A%20vop%3A%20Fix%20color%20for%20RGB888%2FBGR888%20format%20on%20VOP%0A%3E%20%20%20%20%20%20%20%20full%0A%3E%20%20%20%20%20%20-%20HID%3A%20fix%20HID%20device%20resource%20race%20between%20HID%20core%20and%20debugging%20support%0A%3E%20%20%20%20%20%20-%20ipv4%3A%20Correct%2Fsilence%20an%20endian%20warning%20in%20__ip_do_redirect%0A%3E%20%20%20%20%20%20-%20net%3A%20usb%3A%20ax88179_178a%3A%20fix%20failed%20operations%20during%20ax88179_reset%0A%3E%20%20%20%20%20%20-%20net%2Fsmc%3A%20avoid%20data%20corruption%20caused%20by%20decline%0A%3E%20%20%20%20%20%20-%20%5Barmhf%5D%20arm%2Fxen%3A%20fix%20xen_vcpu_info%20allocation%20alignment%0A%3E%20%20%20%20%20%20-%20%5Bamd64%2Carm64%5D%20amd-xgbe%3A%20handle%20corner-case%20during%20sfp%20hotplug%0A%3E%20%20%20%20%20%20-%20%5Bamd64%2Carm64%5D%20amd-xgbe%3A%20handle%20the%20corner-case%20during%20tx%20completion%0A%3E%20%20%20%20%20%20-%20%5Bamd64%2Carm64%5D%20amd-xgbe%3A%20propagate%20the%20correct%20speed%20and%20duplex%20status%0A%3E%20%20%20%20%20%20-%20afs%3A%20Return%20ENOENT%20if%20no%20cell%20DNS%20record%20can%20be%20found%0A%3E%20%20%20%20%20%20-%20afs%3A%20Fix%20file%20locking%20on%20R%2FO%20volumes%20to%20operate%20in%20local%20mode%0A&amp;subject=Re%3A%20Bug%231057843%3A%20fixed%20in%20linux%206.1.66-1&amp;In-Reply-To=%3CE1rC1Z2-0039fW-ST%40fasolo.debian.org%3E">reply</a>):</p>

<pre>Source: linux
Source-Version: 6.1.66-1
Done: Salvatore Bonaccorso &lt;carnil@debian.org&gt;

We believe that the bug you reported is fixed in the latest version of
linux, which is due to be installed in the Debian FTP archive.

A summary of the changes between this version and the previous one is
attached.

Thank you for reporting the bug, which will now be closed.  If you
have further comments please address them to 1057843@bugs.debian.org,
and the maintainer will reopen the bug report if appropriate.

Debian distribution maintenance software
pp.
Salvatore Bonaccorso &lt;carnil@debian.org&gt; (supplier of updated linux package)

(This message was generated automatically at their request; if you
believe that there is a problem with it please contact the archive
administrators by mailing ftpmaster@ftp-master.debian.org)


-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA512

Format: 1.8
Date: Sat, 09 Dec 2023 16:48:39 +0100
Source: linux
Architecture: source
Version: 6.1.66-1
Distribution: bookworm
Urgency: medium
Maintainer: Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;
Changed-By: Salvatore Bonaccorso &lt;carnil@debian.org&gt;
Closes: <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1032104">1032104</a> <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057790">1057790</a> <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843">1057843</a>
Changes:
 linux (6.1.66-1) bookworm; urgency=medium
 .
   * New upstream stable update:
     <a href="https://www.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.1.65">https://www.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.1.65</a>
     - afs: Fix afs_server_list to be cleaned up with RCU
     - afs: Make error on cell lookup failure consistent with OpenAFS
     - [arm64,armhf] drm/panel: simple: Fix Innolux G101ICE-L01 bus flags
     - [arm64,armhf] drm/panel: simple: Fix Innolux G101ICE-L01 timings
     - wireguard: use DEV_STATS_INC()
     - ata: pata_isapnp: Add missing error check for devm_ioport_map()
     - [x86] drm/i915: do not clean GT table on error path
     - [arm64,armhf] drm/rockchip: vop: Fix color for RGB888/BGR888 format on VOP
       full
     - HID: fix HID device resource race between HID core and debugging support
     - ipv4: Correct/silence an endian warning in __ip_do_redirect
     - net: usb: ax88179_178a: fix failed operations during ax88179_reset
     - net/smc: avoid data corruption caused by decline
     - [armhf] arm/xen: fix xen_vcpu_info allocation alignment
     - [amd64,arm64] amd-xgbe: handle corner-case during sfp hotplug
     - [amd64,arm64] amd-xgbe: handle the corner-case during tx completion
     - [amd64,arm64] amd-xgbe: propagate the correct speed and duplex status
     - afs: Return ENOENT if no cell DNS record can be found
     - afs: Fix file locking on R/O volumes to operate in local mode
     - mm,kfence: decouple kfence from page granularity mapping judgement
     - i40e: use ERR_PTR error print in i40e messages
     - i40e: Fix adding unsupported cloud filters
     - [arm64] USB: dwc3: qcom: fix resource leaks on probe deferral
     - [arm64] USB: dwc3: qcom: fix ACPI platform device leak
     - lockdep: Fix block chain corruption
     - cifs: minor cleanup of some headers
     - smb3: allow dumping session and tcon id to improve stats analysis and
       debugging
     - cifs: print last update time for interface list
     - cifs: distribute channels across interfaces based on speed
     - cifs: account for primary channel in the interface list
     - cifs: fix leak of iface for primary channel
     - ext4: add a new helper to check if es must be kept
     - ext4: factor out __es_alloc_extent() and __es_free_extent()
     - ext4: use pre-allocated es in __es_insert_extent()
     - ext4: use pre-allocated es in __es_remove_extent()
     - ext4: using nofail preallocation in ext4_es_remove_extent()
     - ext4: using nofail preallocation in ext4_es_insert_delayed_block()
     - ext4: using nofail preallocation in ext4_es_insert_extent()
     - ext4: fix slab-use-after-free in ext4_es_insert_extent()
     - ext4: make sure allocate pending entry not fail
     - NFSD: Fix &#34;start of NFS reply&#34; pointer passed to nfsd_cache_update()
     - NFSD: Fix checksum mismatches in the duplicate reply cache
     - ACPI: resource: Skip IRQ override on ASUS ExpertBook B1402CVA
     - swiotlb-xen: provide the &#34;max_mapping_size&#34; method
     - bcache: replace a mistaken IS_ERR() by IS_ERR_OR_NULL() in
       btree_gc_coalesce()
     - md: fix bi_status reporting in md_end_clone_io
     - bcache: fixup multi-threaded bch_sectors_dirty_init() wake-up race
     - io_uring/fs: consider link-&gt;flags when getting path for LINKAT
     - [s390x] dasd: protect device queue against concurrent access
     - USB: serial: option: add Luat Air72*U series products
     - hv_netvsc: fix race of netvsc and VF register_netdevice
     - hv_netvsc: Fix race of register_netdevice_notifier and VF register
     - hv_netvsc: Mark VF as slave before exposing it to user-mode
     - dm-delay: fix a race between delay_presuspend and delay_bio
     - bcache: check return value from btree_node_alloc_replacement()
     - bcache: prevent potential division by zero error
     - bcache: fixup init dirty data errors
     - bcache: fixup lock c-&gt;root error
     - USB: serial: option: add Fibocom L7xx modules
     - USB: serial: option: fix FM101R-GL defines
     - USB: serial: option: don&#39;t claim interface 4 for ZTE MF290
     - usb: typec: tcpm: Skip hard reset when in error recovery
     - [arm64,armhf] USB: dwc2: write HCINT with INTMASK applied
     - [arm64,armhf] usb: dwc3: Fix default mode initialization
     - [arm64,armhf] usb: dwc3: set the dma max_seg_size
     - [arm64] USB: dwc3: qcom: fix software node leak on probe errors
     - [arm64] USB: dwc3: qcom: fix wakeup after probe deferral
     - io_uring: fix off-by one bvec index
     <a href="https://www.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.1.66">https://www.kernel.org/pub/linux/kernel/v6.x/ChangeLog-6.1.66</a>
     - cifs: Fix FALLOC_FL_ZERO_RANGE by setting i_size if EOF moved
     - cifs: Fix FALLOC_FL_INSERT_RANGE by setting i_size after EOF moved
     - smb: client: report correct st_size for SMB and NFS symlinks
     - pinctrl: avoid reload of p state in list iteration
     - firewire: core: fix possible memory leak in create_units()
     - mmc: sdhci-pci-gli: Disable LPM during initialization
     - mmc: cqhci: Increase recovery halt timeout
     - mmc: cqhci: Warn of halt or task clear failure
     - mmc: cqhci: Fix task clearing in CQE error recovery
     - mmc: block: Retry commands in CQE error recovery
     - mmc: block: Do not lose cache flush during CQE error recovery
     - mmc: block: Be sure to wait while busy in CQE error recovery
     - ALSA: hda: Disable power-save on KONTRON SinglePC
     - ALSA: hda/realtek: Headset Mic VREF to 100%
     - ALSA: hda/realtek: Add supported ALC257 for ChromeOS
     - dm-verity: align struct dm_verity_fec_io properly
     - scsi: Change SCSI device boolean fields to single bit flags
     - scsi: sd: Fix system start for ATA devices
     - drm/amd: Enable PCIe PME from D3
     - drm/amdgpu: Force order between a read and write to the same address
     - drm/amd/display: Include udelay when waiting for INBOX0 ACK
     - drm/amd/display: Remove min_dst_y_next_start check for Z8
     - drm/amd/display: Use DRAM speed from validation for dummy p-state
     - drm/amd/display: Update min Z8 residency time to 2100 for DCN314
     - drm/amd/display: fix ABM disablement
     - dm verity: initialize fec io before freeing it
     - dm verity: don&#39;t perform FEC for failed readahead IO
     - nvme: check for valid nvme_identify_ns() before using it
     - [x86] cpufreq/amd-pstate: Fix the return value of amd_pstate_fast_switch()
     - dma-buf: fix check in dma_resv_add_fence
     - bcache: revert replacing IS_ERR_OR_NULL with IS_ERR
     - [amd64] iommu/vt-d: Add MTL to quirk list to skip TE disabling
     - [powerpc*] KVM: PPC: Book3S HV: Fix KVM_RUN clobbering FP/VEC user
       registers
     - [powerpc*] Don&#39;t clobber f0/vs0 during fp|altivec register save
       (Closes: #<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1032104">1032104</a>)
     - btrfs: add dmesg output for first mount and last unmount of a filesystem
     - btrfs: ref-verify: fix memory leaks in btrfs_ref_tree_mod()
     - btrfs: fix off-by-one when checking chunk map includes logical address
     - btrfs: send: ensure send_fd is writable
     - btrfs: make error messages more clear when getting a chunk map
     - btrfs: fix 64bit compat send ioctl arguments not initializing version
       member
     - Input: xpad - add HyperX Clutch Gladiate Support
     - wifi: cfg80211: fix CQM for non-range use
     - [arm64,armhf] USB: xhci-plat: fix legacy PHY double init
     - USB: core: Change configuration warnings to notices
     - usb: config: fix iteration issue in &#39;usb_get_bos_descriptor()&#39;
     - ipv4: igmp: fix refcnt uaf issue when receiving igmp query packet
     - [arm64] dpaa2-eth: increase the needed headroom to account for alignment
     - net: stmmac: xgmac: Disable FPE MMC interrupts
     - r8169: prevent potential deadlock in rtl8169_close
     - [x86] KVM: x86: Fix lapic timer interrupt lost after loading a snapshot.
     - PCI: Lengthen reset delay for VideoPropulsion Torrent QN16e card
     - spi: Fix null dereference on suspend
     - drm/amd/display: Restore rptr/wptr for DMCUB as workaround
     - drm/amd/display: Guard against invalid RPTR/WPTR being set
     - [armhf] cpufreq: imx6q: don&#39;t warn for disabling a non-existing frequency
     - [armhf] cpufreq: imx6q: Don&#39;t disable 792 Mhz OPP unnecessarily
     - [amd64] iommu/vt-d: Omit devTLB invalidation requests when TES=0
     - [amd64] iommu/vt-d: Allocate pasid table in device probe path
     - [amd64] iommu/vt-d: Add device_block_translation() helper
     - [amd64] iommu/vt-d: Disable PCI ATS in legacy passthrough mode
     - [amd64] iommu/vt-d: Make context clearing consistent with context mapping
     - drm/amd/pm: fix a memleak in aldebaran_tables_init
     - mmc: core: add helpers mmc_regulator_enable/disable_vqmmc
     - mmc: sdhci-sprd: Fix vqmmc not shutting down after the card was pulled
     - drm/amd/display: Expand kernel doc for DC
     - drm/amd/display: clean code-style issues in dcn30_set_mpc_shaper_3dlut
     - drm/amd/display: Fix the delta clamping for shaper LUT
     - drm/amd/display: Fix MPCC 1DLUT programming
     - r8169: disable ASPM in case of tx timeout
     - r8169: fix deadlock on RTL8125 in jumbo mtu mode (Closes: #<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057790">1057790</a>)
     - xen: Allow platform PCI interrupt to be shared
     - xen: simplify evtchn_do_upcall() call maze
     - [x86] xen: fix percpu vcpu_info allocation
     - [x86] apic/msi: Fix misconfigured non-maskable MSI quirk
     - iomap: update ki_pos a little later in iomap_dio_complete
       (Closes: #<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843">1057843</a>)
 .
   [ Salvatore Bonaccorso ]
   * Bump ABI to 15
   * [rt] Update to 6.1.66-rt19
Checksums-Sha1:
 75d087cfc109545360cb85628ca2068a656f58bf 290924 linux_6.1.66-1.dsc
 bec397772676a6f06e2fde4c2328bcdc0beaea06 137491816 linux_6.1.66.orig.tar.xz
 af301e107224490faeda530343f96f17c0684f71 1580256 linux_6.1.66-1.debian.tar.xz
 348664cfbc75b567cf6256557f0c3d09fc8f7997 7065 linux_6.1.66-1_source.buildinfo
Checksums-Sha256:
 769e7dae9fe82bc29b55eb606fda6b0cc6221294a2ba3d7e7fcc78de84683f61 290924 linux_6.1.66-1.dsc
 71edfafca7cd8eaae26a8d29c1091bd39cfc2d196de38570b159c94f0d3e1ad5 137491816 linux_6.1.66.orig.tar.xz
 907af29ab9ff38594df378ba5c60619110389b92ba2a09a21adc0382f76e0240 1580256 linux_6.1.66-1.debian.tar.xz
 342dddfc2e87c8e8211e130e19253e23c1f5952036f29b4c9a7f9273c074d94a 7065 linux_6.1.66-1_source.buildinfo
Files:
 505a701b509c26df837dc4a6ff0f0844 290924 kernel optional linux_6.1.66-1.dsc
 ea8af00da46c0f6392324e83554102a2 137491816 kernel optional linux_6.1.66.orig.tar.xz
 307f584ef754457e172ad498979cba6c 1580256 kernel optional linux_6.1.66-1.debian.tar.xz
 2f1f205c788b2a730a7e7a89145dbf7d 7065 kernel optional linux_6.1.66-1_source.buildinfo

-----BEGIN PGP SIGNATURE-----

iQKmBAEBCgCQFiEERkRAmAjBceBVMd3uBUy48xNDz0QFAmV0kZ5fFIAAAAAALgAo
aXNzdWVyLWZwckBub3RhdGlvbnMub3BlbnBncC5maWZ0aGhvcnNlbWFuLm5ldDQ2
NDQ0MDk4MDhDMTcxRTA1NTMxRERFRTA1NENCOEYzMTM0M0NGNDQSHGNhcm5pbEBk
ZWJpYW4ub3JnAAoJEAVMuPMTQ89ErmUP/RZZN1ZMRy2nqQWPqXDrMUci6fOWcUCj
ZPAH/B9D9/+FYyRylJz8NENzJj82ZfNAUdKNMG0odp85pe6UOwvi6qMVIrsM3UrB
AQEbzEA0CS8XSTD2qdmOe2EaWHi0LvnopIQRGFy5Z3auQOk+EADbibRi2qZjM0Te
+Y1++jfXXLjbY5o+2oJMzaxZLBYRBcQizWfRKWjX4tmwcAZppABFShB5XEBlbeKx
8TZ6HhacpW3UImc1CTi8wFeO3T27bn4HQ9mLeW5vLh8bzbB3wnzmFzOn2wJj8Qf8
lRe6+oolFewZ57hBJjvDoK4CwQ9hapwPMJpAaG1NpE4QXIAAapb3OD5DP8vpsoTQ
bORrs3kvDRCA1ooCmGaEW7JBlolLl/mMxrIR4yGMzkXnA37UmAJ/PfmAJJO81J+H
cAhHdicTGrs6KQfNBBQzHC9vBJZNJ3Z5PpAXUncGQUDRueEz9kJXdwzZDkOf5DCC
JHrBXn7EZQLANXTeCg0za6/29VwURbSmUWXLk914sHb4xEPO/ivOpZAT8baB0JTV
hF8J6rzTyqsbv7gOFgOgrCCCvh5XU9Nvl7W3mRIHwiCdBKr39goL2V1S08kt0bmS
RLW+46T5U3Flcr5UGoIoEoBsav16aaHfaQ7mx182GGoAJqUf6tM4PuC4mDt1W4pQ
4o6djxs85N9S
=gQo4
-----END PGP SIGNATURE-----



</pre>

<div><hr/><p>
<a name="29"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team <debian-kernel@lists.debian.org> -->
<!-- time:1702195205 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:</p></div>

<div><hr/><p>
<a name="31"></a>
<!-- request_addr: Stephan Verbücheln <verbuecheln@posteo.de> -->
<!-- time:1702195205 -->
<strong>Acknowledgement sent</strong>
to <code>Stephan Verbücheln &lt;verbuecheln@posteo.de&gt;</code>:</p></div>

<hr/><p><a name="33"></a><a name="msg33"></a><a href="#33">Message #33</a> received at 1057843@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=33">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=33">mbox</a>, <a href="mailto:1057843@bugs.debian.org?In-Reply-To=%3Ceb683128391f1068690f55df4383d7e585d89cb5.camel%40posteo.de%3E&amp;subject=Re%3A%20Bug%231057843%3A%20Guidelines%20for%20affected%20users&amp;body=On%20Sun%2C%2010%20Dec%202023%2007%3A56%3A36%20%2B0000%20Stephan%20%3D%3FISO-8859-1%3FQ%3FVerb%3DFCcheln%3F%3D%20%3Cverbuecheln%40posteo.de%3E%20wrote%3A%0A%3E%20Are%20there%20any%20guidelines%20for%20affected%20users%20who%20already%20updated%20before%0A%3E%20they%20got%20the%20warning%3F%0A%3E%20%0A%3E%20Interesting%20questions%20for%20affected%20users%3A%0A%3E%20-%20Is%20it%20safe%20to%20assume%20that%20other%20filesystems%20%28like%20BTRFS%29%20are%20not%0A%3E%20affected%3F%0A%3E%20-%20Does%20this%20cause%20filesystem%20corruption%20or%20only%20file%20corruption%3F%0A%3E%20-%20Does%20this%20affect%20metadata%20or%20only%20file%20contents%3F%0A%3E%20-%20Is%20there%20a%20way%20to%20detect%20corrupted%20files%3F%0A%3E%20-%20If%20metadata%20is%20not%20affected%2C%20is%20it%20safe%20to%20assume%20that%20all%20files%20with%0A%3E%20a%20modification%20date%20older%20than%20the%20update%20are%20fine%3F%0A%3E%20-%20Does%20it%20help%20to%20shut%20down%20services%20%28such%20as%20Apache%29%20or%20the%20whole%0A%3E%20machine%20until%20the%20fix%20is%20available%3F%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;References=%3C170213085751.880636.15744973723197230632.reportbug%40eldamar.lan%3E%0A%09%20%3CZXR_TwLmkoTlM7Il%40eldamar.lan%3E%0A%20%3Ceb683128391f1068690f55df4383d7e585d89cb5.camel%40posteo.de%3E">reply</a>):</p>

<pre>Are there any guidelines for affected users who already updated before
they got the warning?

Interesting questions for affected users:
- Is it safe to assume that other filesystems (like BTRFS) are not
affected?
- Does this cause filesystem corruption or only file corruption?
- Does this affect metadata or only file contents?
- Is there a way to detect corrupted files?
- If metadata is not affected, is it safe to assume that all files with
a modification date older than the update are fine?
- Does it help to shut down services (such as Apache) or the whole
machine until the fix is available?



</pre>

<div><hr/><p>
<a name="34"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team <debian-kernel@lists.debian.org> -->
<!-- time:1702201323 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:</p></div>

<div><hr/><p>
<a name="36"></a>
<!-- request_addr: Dale Richards <dale@dalerichards.net> -->
<!-- time:1702201323 -->
<strong>Acknowledgement sent</strong>
to <code>Dale Richards &lt;dale@dalerichards.net&gt;</code>:</p></div>

<hr/><p><a name="38"></a><a name="msg38"></a><a href="#38">Message #38</a> received at 1057843@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=38">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=38">mbox</a>, <a href="mailto:1057843@bugs.debian.org?body=On%20Sun%2C%2010%20Dec%202023%2009%3A39%3A21%20%2B0000%20Dale%20Richards%20%3Cdale%40dalerichards.net%3E%20wrote%3A%0A%3E%20On%20Sun%2C%2010%20Dec%202023%2007%3A56%3A36%20%2B0000%20Stephan%20%3D%3FISO-8859-%0A%3E%201%3FQ%3FVerb%3DFCcheln%3F%3D%20%3Cverbuecheln%40posteo.de%3E%20wrote%3A%0A%3E%20%3E%0A%3E%20%3E%20-%20Is%20it%20safe%20to%20assume%20that%20other%20filesystems%20%28like%20BTRFS%29%20are%20not%0A%3E%20%3E%20affected%3F%0A%3E%20%3E%20-%20Does%20this%20cause%20filesystem%20corruption%20or%20only%20file%20corruption%3F%0A%3E%20%3E%20-%20Does%20this%20affect%20metadata%20or%20only%20file%20contents%3F%0A%3E%20%3E%20-%20Is%20there%20a%20way%20to%20detect%20corrupted%20files%3F%0A%3E%20%3E%20-%20If%20metadata%20is%20not%20affected%2C%20is%20it%20safe%20to%20assume%20that%20all%20files%0A%3E%20with%0A%3E%20%3E%20a%20modification%20date%20older%20than%20the%20update%20are%20fine%3F%0A%3E%20%3E%20-%20Does%20it%20help%20to%20shut%20down%20services%20%28such%20as%20Apache%29%20or%20the%20whole%0A%3E%20%3E%20machine%20until%20the%20fix%20is%20available%3F%0A%3E%20%0A%3E%20The%20bug%20appears%20to%20be%20triggered%20when%20an%20-%3Eend_io%20handler%20returns%20a%20non-%0A%3E%20zero%20value%20to%20iomap%20after%20a%20direct%20IO%20write.%0A%3E%20%0A%3E%20It%20looks%20like%20the%20ext4%20handler%20is%20the%20only%20one%20that%20returns%20non-zero%20in%0A%3E%20kernel%206.1.64%2C%20so%20for%20now%20one%20can%20assume%20that%20only%20ext4%20filesystems%20are%0A%3E%20affected.%0A%3E%20%0A%3E%20The%20bug%20corrupts%20file%20data%20during%20a%20direct%20write%20operation%2C%20so%20I%20would%0A%3E%20also%20assume%20that%20files%20last%20modified%20before%206.1.64%20was%20installed%20will%0A%3E%20not%20be%20corrupted.%0A%3E%20%0A%3E%20As%20far%20as%20I%20can%20tell%2C%20the%20corruption%20only%20affects%20file%20data%20%28not%0A%3E%20metadata%29%20but%20perhaps%20someone%20with%20more%20kernel%20experience%20than%20me%20can%0A%3E%20confirm.%0A%3E%20%0A%3E%20Best%20regards%2C%0A%3E%20Dale%20Richards%0A%3E%20%0A%3E%20%0A%3E%20%0A&amp;References=%3Ca722c3143849adf970ef67050861bf686dfb6933.camel%40dalerichards.net%3E&amp;In-Reply-To=%3Ca722c3143849adf970ef67050861bf686dfb6933.camel%40dalerichards.net%3E&amp;subject=Re%3A%20Bug%231057843%3A%20Guidelines%20for%20affected%20users">reply</a>):</p>

<pre>On Sun, 10 Dec 2023 07:56:36 +0000 Stephan =?ISO-8859-
1?Q?Verb=FCcheln?= &lt;verbuecheln@posteo.de&gt; wrote:
&gt;
&gt; - Is it safe to assume that other filesystems (like BTRFS) are not
&gt; affected?
&gt; - Does this cause filesystem corruption or only file corruption?
&gt; - Does this affect metadata or only file contents?
&gt; - Is there a way to detect corrupted files?
&gt; - If metadata is not affected, is it safe to assume that all files
with
&gt; a modification date older than the update are fine?
&gt; - Does it help to shut down services (such as Apache) or the whole
&gt; machine until the fix is available?

The bug appears to be triggered when an -&gt;end_io handler returns a non-
zero value to iomap after a direct IO write.

It looks like the ext4 handler is the only one that returns non-zero in
kernel 6.1.64, so for now one can assume that only ext4 filesystems are
affected.

The bug corrupts file data during a direct write operation, so I would
also assume that files last modified before 6.1.64 was installed will
not be corrupted.

As far as I can tell, the corruption only affects file data (not
metadata) but perhaps someone with more kernel experience than me can
confirm.

Best regards,
Dale Richards



</pre>

<div><hr/><p>
<a name="39"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team <debian-kernel@lists.debian.org> -->
<!-- time:1702202583 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:</p></div>

<div><hr/><p>
<a name="41"></a>
<!-- request_addr: Umberto Zappi <uzappi@gmail.com> -->
<!-- time:1702202583 -->
<strong>Acknowledgement sent</strong>
to <code>Umberto Zappi &lt;uzappi@gmail.com&gt;</code>:</p></div>

<hr/><p><a name="43"></a><a name="msg43"></a><a href="#43">Message #43</a> received at 1057843@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=43">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=43">mbox</a>, <a href="mailto:1057843@bugs.debian.org?In-Reply-To=%3CCAD0%3Df%2BDguJ%3Dti9tvcvB1XJ%2Bsjcs-dRUKJvL4Lnv%2BzcbSDKSjbA%40mail.gmail.com%3E&amp;subject=Re%3A%20Bug%231057843%3A%20Guidelines%20for%20affected%20users%20which%20use%20etx4&amp;body=On%20Sun%2C%2010%20Dec%202023%2010%3A58%3A31%20%2B0100%20Umberto%20Zappi%20%3Cuzappi%40gmail.com%3E%20wrote%3A%0A%3E%20Are%20there%20any%20guidelines%20for%20affected%20users%20who%20already%20updated%20before%0A%3E%20they%20got%20the%20warning%3F%0A%3E%20%0A%3E%20For%20example%2C%20is%20it%20fine%20to%20start%20with%20the%20previous%20kernel%0A%3E%206.1.0-13-amd64%20%28version%206.1.55-1%29%20%3F%0A%3E%20%0A%3E%20Thanks%0A%3E%20UmbertoZ.%0A&amp;References=%3CCAD0%3Df%2BDguJ%3Dti9tvcvB1XJ%2Bsjcs-dRUKJvL4Lnv%2BzcbSDKSjbA%40mail.gmail.com%3E">reply</a>):</p>

<pre>[<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?att=0;bug=1057843;msg=43">Message part 1</a> (text/plain, inline)]</pre>
<pre>Are there any guidelines for affected users who already updated before
they got the warning?

For example, is it fine to start with the previous kernel
6.1.0-13-amd64 (version 6.1.55-1) ?

Thanks
UmbertoZ.
</pre>
<pre>[<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?att=1;bug=1057843;msg=43">Message part 2</a> (text/html, inline)]</pre>

<div><hr/><p>
<a name="44"></a>
<!-- request_addr: debian-bugs-dist@lists.debian.org, Debian Kernel Team <debian-kernel@lists.debian.org> -->
<!-- time:1702209783 -->
<strong>Information forwarded</strong>
to <code>debian-bugs-dist@lists.debian.org, Debian Kernel Team &lt;debian-kernel@lists.debian.org&gt;</code>:</p></div>

<div><hr/><p>
<a name="46"></a>
<!-- request_addr: Tim Connors <tim.w.connors@gmail.com> -->
<!-- time:1702209783 -->
<strong>Acknowledgement sent</strong>
to <code>Tim Connors &lt;tim.w.connors@gmail.com&gt;</code>:</p></div>

<hr/><p><a name="48"></a><a name="msg48"></a><a href="#48">Message #48</a> received at 1057843@bugs.debian.org (<a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;msg=48">full text</a>, <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1057843;mbox=yes;msg=48">mbox</a>, <a href="mailto:1057843@bugs.debian.org?subject=Re%3A%20Bug%231057843%3A%20Guidelines%20for%20affected%20users&amp;In-Reply-To=%3Ca953a46a-ec1e-61e9-bfce-60d6cbfabc59%40rather.puzzling.org%3E&amp;References=%3Ca953a46a-ec1e-61e9-bfce-60d6cbfabc59%40rather.puzzling.org%3E&amp;body=On%20Sun%2C%2010%20Dec%202023%2022%3A58%3A52%20%2B1100%20%28AEDT%29%20Tim%20Connors%20%3Ctim.w.connors%40gmail.com%3E%20wrote%3A%0A%3E%20Meanwhile%2C%20can%20the%20ftp%20admins%20pull%20this%20faulty%20version%3F%0A%3E%20%0A%3E%20I%20just%20managed%20to%20download%20and%20install%20this%2C%20but%20fortunately%20didn%27t%20reboot%0A%3E%20on%20all%20of%20my%20systems%20before%20coming%20across%20this%20bug%20via%20LWN%20via%20reddit.%0A%3E%20%0A%3E%20If%20you%27re%20in%20such%20a%20pickle%20as%20myself%2C%20you%27re%20able%20to%20get%20around%20it%20for%20now%0A%3E%20by%3A%0A%3E%20%0A%3E%20apt%20install%20linux-image-amd64%2Fbookworm-security%0A%3E%20dpkg%20--get-selections%20%7C%20grep%206.1.0.14%0A%3E%20apt%20purge%20linux-image-6.1.0-14-amd64%0A%3E%20%28probably%20want%20to%20mark%20that%20one%20as%20uninstallable%20too%2C%20but%20there%27s%20only%20one%0A%3E%20of%20me%2C%20surely%20I%27ll%20remember%20not%20to%20install%20it%20at%20a%20later%20date%3F%3F%21%29%0A%3E%20%0A%3E%20and%20at%20worst%20you%27ll%20be%20left%20on%20the%20kernel%20you%27re%20currently%20running.%0A%3E%20%0A%3E%20I%20am%20basing%20this%20off%20https%3A%2F%2Flwn.net%2FArticles%2F954285%2F%0A%3E%20%0A%3E%20%22-%20Stable%20kernels%20%3C%206.5%20are%20affected%20if%20they%20have%2091562895f803%20%28ext4%0A%3E%20commit%29%0A%3E%20-%20Kernels%20%3E%3D%206.5%20are%20not%20affected%2C%20as%20they%20will%20_also_%20have%20936e114a245b6%0A%3E%20%28iomap%20commit%29%22%0A%3E%20%0A%3E%2091562895f803%20is%20not%20in%206.1.55-1%20that%20anyone%20who%20last%20updated%203%20weeks%20ago%0A%3E%20would%20have%20encountered%2C%20nor%20in%20the%20current%20bookworm-security%20version.%0A%3E%20%0A%3E%20%0A%3E%20--%20%0A%3E%20Tim%20Connors%0A%3E%20%0A%3E%20%0A">reply</a>):</p>

<pre>Meanwhile, can the ftp admins pull this faulty version?

I just managed to download and install this, but fortunately didn&#39;t reboot
on all of my systems before coming across this bug via LWN via reddit.

If you&#39;re in such a pickle as myself, you&#39;re able to get around it for now
by:

apt install linux-image-amd64/bookworm-security
dpkg --get-selections | grep 6.1.0.14
apt purge linux-image-6.1.0-14-amd64
(probably want to mark that one as uninstallable too, but there&#39;s only one
of me, surely I&#39;ll remember not to install it at a later date??!)

and at worst you&#39;ll be left on the kernel you&#39;re currently running.

I am basing this off <a href="https://lwn.net/Articles/954285/">https://lwn.net/Articles/954285/</a>

&#34;- Stable kernels &lt; 6.5 are affected if they have 91562895f803 (ext4
commit)
- Kernels &gt;= 6.5 are not affected, as they will _also_ have 936e114a245b6
(iomap commit)&#34;

91562895f803 is not in 6.1.55-1 that anyone who last updated 3 weeks ago
would have encountered, nor in the current bookworm-security version.


-- 
Tim Connors


</pre>

<hr/>
<p>Send a report that <a href="https://bugs.debian.org/cgi-bin/bugspam.cgi?bug=1057843">this bug log contains spam</a>.</p>
<hr/>
<address>Debian bug tracking system administrator &lt;<a href="mailto:owner@bugs.debian.org">owner@bugs.debian.org</a>&gt;.
Last modified:
<!--timestamp-->Sun Dec 10 15:10:30 2023<!--end timestamp-->; 
Machine Name:
<!--machinename-->buxtehude<!--machinename-->
<p>
<a href="https://www.debian.org/Bugs/">Debian Bug tracking system</a>
</p>
<p>
  Debbugs is free software and licensed under the terms of the GNU
  Public License version 2. The current version can be obtained
  from <a href="https://bugs.debian.org/debbugs-source/">https://bugs.debian.org/debbugs-source/</a>.
</p>
<p>
Copyright © 1999 Darren O. Benham,
1997,2003 nCipher Corporation Ltd,
1994-97 Ian Jackson,
2005-2017 Don Armstrong, and many other contributors.
</p>
</address>



</div>
  </body>
</html>
