<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://dataswamp.org/~solene/2022-05-05-i-wrote-a-gui-frontend-with-a-game-engine.html">Original</a>
    <h1>Using a game engine to write a GUI to the OpenBSD package manager</h1>
    
    <div id="readability-page-1" class="page"><div>
<article id="20220505">
  <header>
  
    
    <p>Written by <em>Sol√®ne</em>, on 05 May 2022.</p>
    
  </header>
  
<p>I&#39;m really trying hard to lower the barrier entry to OpenBSD, I realize most of my efforts are toward making OpenBSD easier.
</p>
<p>One thing I often mumbled about on OpenBSD was the lack of a user interface to browse packages and install them, there was a console program named pkg_mgr, but I never got it to work.  Of course, I&#39;m totally able to install packages using the command line, but I like to stroll looking for packages I wouldn&#39;t know about, a GUI is perfect for doing so, and is also useful for people less comfortable with the command line.
</p>
<p>So, today, I made a graphical user interface (GUI) using OpenBSD, using a game engine.  Don&#39;t worry, all the packages operations are delegated to pkg_add and pkg_delete because they are doing they job fine.
</p>
<p><a href="https://tildegit.org/solene/AppManager">OpenBSD AppManager project website</a></p>
<p><a href="https://dataswamp.org/~solene/static/appmanager-list.png"><img src="https://dataswamp.org/~solene/static/appmanager-list.png" alt="AppManager main menu" width="60%"/></a></p>
<p><a href="https://dataswamp.org/~solene/static/appmanager-recap.png"><img src="https://dataswamp.org/~solene/static/appmanager-recap.png" alt="AppManager giving a summary of changes" width="60%"/></a></p>

<p>The purpose of this program is simple, display the list of available packages, highlight in yellow the one you have installed on your system, and let you select new packages to install or installed packages to remove.
</p>
<p>It features a search input instead of displaying a blunt list of a dozen of thousands of entries.  The development was made on my Thinkpad T400 (core 2 duo), performance are excellent.
</p>
<p>One simple feature I&#39;m proud of is the automatic classification of packages into three categories: GUI programs, terminal/console user interface programs and others.  While this is not perfect because we don&#39;t have this metadata anywhere, I&#39;m reusing the dependencies&#39; information to guess in which category each package belongs, so far it&#39;s giving great results.
</p>

<p>I rarely write GUI application because it&#39;s often very tedious and give poor results, so the ratio time/result is very bad.  I&#39;ve been playing with the Godot game engine for a week now, and I was astonished when I&#39;ve been told the engine editor is done using the engine itself.  As it was blazing fast and easy to make small games, I wondered if this would be suitable for a simple program like a package manager interface.
</p>
<p>First thing I checked was if it was supporting sqlite or json data natively without much work.  This was important as the data used to query the package list is originally found in a sqlite database provided by the sqlports package, however the sqlite support was only available through 3rd party code while JSON was natively supported.  When writing then simple script converting data from the sqlite database into a json, I took the opportunity to add the logic to determine if it&#39;s a GUI or a TUI (Terminal UI) and make the data format very easy to reuse.
</p>
<p>Finally, I got a proof of concept within 2h, it was able to install packages from a list.  Then I added support for displaying already installed packages and then to delete packages.  The polishing of the interfaces took the most time, but the whole project didn&#39;t take more than 8h which is unbelievable for me.
</p>

<p>From today, I&#39;ll seriously think about using Godot for writing GUI application, did I say it&#39;s cross platform?  AppManager can be run on Linux or Windows (given you have pkg.json), except it will just fail at installing packages, but the whole UI works.
</p>
<p>Thinking about it, it could be easy to reuse it for another package manager.
</p>

</article>
</div></div>
  </body>
</html>
