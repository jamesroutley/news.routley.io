<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://louwrentius.com/benchmarking-cheap-ssds-for-fun-no-profit-be-warned.html">Original</a>
    <h1>Benchmarking Cheap SSDs for Fun, No Profit</h1>
    
    <div id="readability-page-1" class="page"><div>
              <p>The price of Solid-state drives (SSDs) has dropped significantly over the last few years. It&#39;s now possible to buy a 1TB solid-state drive for less than €60. However, at such low price points, there is a catch.</p>
<p>Although cheap SSDs do perform fine regarding reads, sustained write performance can be really atrocious. To demonstrate this concept, I bought a bunch of the cheapest SATA SSDs I could find - as listed below - and benchmarked them with <a href="https://fio.readthedocs.io/en/latest/fio_doc.html">Fio</a>. </p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Capacity</th>
<th>Price</th>
</tr>
</thead>
<tbody>
<tr>
<td>ADATA Ultimate SU650</td>
<td>240 GB</td>
<td>€ 15,99</td>
</tr>
<tr>
<td>PNY CS900</td>
<td>120 GB</td>
<td>€ 14,56</td>
</tr>
<tr>
<td>Kingston A400</td>
<td>120 GB</td>
<td>€ 20,85</td>
</tr>
<tr>
<td>Verbatim Vi550 S3</td>
<td>128 GB</td>
<td>€ 14,99</td>
</tr>
</tbody>
</table>
<p>I didn&#39;t have the budget to buy a bunch of 1TB of 2TB SSD, so these ultra-cheap, low capacity SSDs are a bit of a stand-in. I&#39;ve also added a Crucial MX500 1TB (CT1000MX500SSD1) SATA<sup id="fnref:sata"><a href="#fn:sata">1</a></sup> SSD - which I already owned - to the benchmarks to see how well those small-capacity SSDs stack up to a cheap SSD with a much larger capacity.</p>
<h3>Understanding SSD write performance</h3>
<p>To understand the benchmark results a bit better, we discuss some SSD concepts in this section. Feel free to skip to the actual benchmarks if you&#39;re already familiar with them.</p>
<h4>SLC Cache</h4>
<p>SSDs originally used single-level cell (SLC) flash memory, which can hold a single bit and is the fastest and most reliable flash memory available. Unfortunately, it&#39;s also the most expensive. To reduce cost, multi-level cell (MLC) flash was invented, which can hold two bits instead of one, at the cost of speed and longevity<sup id="fnref:longevity"><a href="#fn:longevity">2</a></sup>. This is even more so for triple-level cell (TLC) and quad-level cell (QLC) flash memory. All &#39;cheap&#39; SSDs I benchmark use 3D v-nand<sup id="fnref:vnand"><a href="#fn:vnand">3</a></sup> TLC flash memory.</p>
<p>One technique to temporarily boost SSD performance is to use a (small) portion of (in our case) TLC flash memory as if it was SLC memory. This SLC memory then acts as a fast write cache<sup id="fnref:dynamic"><a href="#fn:dynamic">4</a></sup>. When the SSD is idle, data is moved from the SLC cache to the TLC flash memory in the background. However, this process is limited by the speed of the &#39;slower&#39; TLC flash memory and can take a while to complete.</p>
<p>While this trick with SLC memory works well for brief, intermittent write loads, sustained write loads will fill up the SLC cache and cause a significant drop in performance as the SSD is forced to write data into slower TLC memory.</p>
<h4>DRAM cache</h4>
<p>As flash memory has a limited lifespan and can only take a limited number of writes, a wear-leveling mechanism is used to distribute writes over all cells evenly, regardless of where data is written logically. Keeping track of this mapping between logical and physical &#39;locations&#39; can be sped up with a DRAM cache (chip) as DRAM tend to be faster than flash memory. In addition, the DRAM can also be used to cache writes, improving performance. Cheap SSDs don&#39;t use DRAM cache chips to reduce cost, thus they have to update their data mapping tables in flash memory, which is slower. This can also impact (sustained) write performance. To be frank, I&#39;m not sure how much a lack of DRAM impacts our benchmarks.</p>
<h3>Benchmark method</h3>
<p>Before I started benchmarking I submitted a trim command to clear each drive.
Next, I performed a sequential write benchmark of the entire SSD with a block size of 1 megabyte and a queue depth of 32. The benchmark is performed on the &#39;raw&#39; device, no filesystem is used. I used <a href="https://fio.readthedocs.io/en/latest/fio_doc.html">Fio</a> for these benchmarks.</p>
<h3>Benchmark results</h3>
<p>The chart below shows write bandwith over time for all tested SSDs. Each drive has been benchmarked in full, but the data is truncated to the first 400 seconds for readability (performance didn&#39;t change). The raw <a href="https://fio.readthedocs.io/en/latest/fio_doc.html">Fio</a> benchmark data can be found <a href="https://louwrentius.com/files/benchmarkdata.tgz">here</a> (.tgz).</p>
<p><a href="https://louwrentius.com/static/images/cheapssd01.png"><img alt="chart" src="https://louwrentius.com/static/images/cheapssd01.png"/></a></p>
<p><em>click for a larger image</em></p>
<p>It&#39;s funny to me that some cheap SSDs initially perform way better than the more expensive Crucial 1TB SSD<sup id="fnref:crucial"><a href="#fn:crucial">5</a></sup>. As soon as their SLC cache runs out, the Crucial 1TB has the last laugh as it shows best sustained throughput, beating all cheaper drives, but the Kingston A400 comes close. </p>
<p>Of all the cheap SSDs only the Kingston shows the best sustained write speed at around 100 MB/s and there are no intermittent drops in performance. The ADATA, PNY and Verbatim SSDs show flakey behaviour and basically terrible sustained write performance. But make no mistake, I would not call the performance of the Kingston SSD, nor the Crucial SSD - added as a reference - &#39;good&#39; by any definition of that word. Even the Kingston can&#39;t saturate gigabit Ethernet.</p>
<p>The bandwidth alone doesn&#39;t tell the whole story. The latency or responsiveness of the SSDs is also significantly impacted:</p>
<p><a href="https://louwrentius.com/static/images/cheapssd03.png"><img alt="chart" src="https://louwrentius.com/static/images/cheapssd03.png"/></a></p>
<p><em>click for a larger image</em></p>
<p>The Crucial 1TB SSD shows best latency overall, followed by the Kingston SSD. The rest of the cheap SSDs show quite high latency spikes and very high latency overall, even when some of the spikes settle, like for the ADATA SSD. When latency is measured in seconds, things are bad.</p>
<p>To put things a bit in perspective, let&#39;s compare these results to a Toshiba 8 TB 7200 RPM hard drive I had lying around.</p>
<p><a href="https://louwrentius.com/static/images/cheapssd02.png"><img alt="chart" src="https://louwrentius.com/static/images/cheapssd02.png"/></a></p>
<p><em>click for a larger image</em></p>
<p>The hard drive shows better write throughput and latency<sup id="fnref:funny"><a href="#fn:funny">6</a></sup> as compared to most of the tested SSDs. Yes, except for the initial few minutes where the cheap SSDs tend to be faster (except for the Kingston &amp; Crucial SSDs) but how much does that matter?</p>
<p>As we&#39;ve shown the performance of a hard drive to contrast the terrible write performance of the cheap SSDs, it&#39;s time to also compare them to a more expensive, higher-tier SSD. </p>
<p><a href="https://louwrentius.com/static/images/cheapssd05.png"><img alt="chart" src="https://louwrentius.com/static/images/cheapssd05.png"/></a></p>
<p><em>click for a larger image</em></p>
<p>I&#39;ve bought this Samsung SSD in 2019 for €137 euro, so that&#39;s quite a different price point. I think the graph speaks for itself, especially if you consider that this graph is not truncated, this is the full drive write.</p>
<h3>Evaluation &amp; conclusion</h3>
<p>One of the funnier conclusions to draw is that it&#39;s beter to use a hard drive than to use cheap SSDs if you need to ingest a lot of data. Even the Crucial 1TB SSD could not keep up with the HDD.</p>
<p>A more interesting conclusion is that the 1TB SSD didn&#39;t perform that much better than the small cheaper SSDs. Or to put it differently: although the performance of the small, cheap SSDs is not representative of the larger SSD, it is still quite in the same ball park. I don&#39;t think it&#39;s a coincidence that the Kingston SSD came very close to the performance of the Crucial SSD, as it&#39;s the most &#39;expensive&#39; of the cheap drives.</p>
<p>In the end, my intend was to demonstrate with actual benchmarks how cheap SSDs show bad sustained write performance and I think I succeeded. I hope it helps people to understand that good SSD write performance is not a given, especially for cheaper drives.</p>
<h3>Disclaimer</h3>
<p>I&#39;m not sponsored in any way. All mentioned products have been bought with my own money.</p>
<p>The graphs are created with <a href="https://github.com/louwrentius/fio-plot">fio-plot</a>, a tool I&#39;ve made and maintain.
The benchmarks have been performed with bench-fio, a tool included with fio-plot, to automate benchmarking with Fio.</p>

            </div></div>
  </body>
</html>
