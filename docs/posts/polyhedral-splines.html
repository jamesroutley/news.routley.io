<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://projects.blender.org/blender/blender-addons/issues/91180">Original</a>
    <h1>Polyhedral Splines</h1>
    
    <div id="readability-page-1" class="page"><div>
		
<div>
	
	<div>
		
			
		
		<p><span>
					
						opened <relative-time prefix="" tense="past" datetime="2021-09-04T17:41:21+02:00" data-tooltip-content="" data-tooltip-interactive="true">2021-09-04 17:41:21 +02:00</relative-time> by <a href="https://erikarow.land/m043010016">Kyle</a>
					
					Â·
					39 comments
				</span>
			
		</p>
	</div>
</div>

		
		<div>
	
	
	<div>
		<div>
			<div id="issue-2207">
				
				<p><a href="https://erikarow.land/m043010016">
					<img src="https://erikarow.land/avatars/d3c93ff82625b539e38510b93fea14c4?size=80" title="Kyle" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto"><strong>Low-degree semi-structured splines</strong> (LDssS) is a Blender add-on that converts quad-dominant meshes into B-spline patches.</p>
<p dir="auto">Blender currently provides no convenient spline creation, modeling, or reshaping tool. Splines are a standard representation in the CAD industry.</p>
<p dir="auto">LDssS yields</p>
<ol dir="auto">
<li>Smooth surfaces without subdividing the mesh. (The Blender&#39;s default subdivision or smooth operator exponentially increases the number of vertices. This can cause high computational and storage overhead for downstream operations)</li>
<li>Easy, exact computation of moments, e.g. volume, the center of mass, axes of inertia, ...</li>
<li>Preserves the polyhedral character of the input (Low-degree splines generalize bi-2, bi-quadratic, splines. Bi-2 splines are by default less smooth than bi-3 splines, and curvature changes more sharply.)</li>
</ol>
<p dir="auto">Please visit  the [documentation ]] and [<a href="https:*uf-cise-surflab.github.io/blender-polyhedral-splines-web" rel="nofollow"> https:*github.com/UF-CISE-Surflab/blender-polyhedral-splines | source code </a> for more details.</p>
<p dir="auto"><a href="https://archive.blender.org/developer/F10376618/blender-semi-structure-spline.zip" rel="nofollow">blender-semi-structure-spline.zip</a></p>

							
						</div>
						<p>**Low-degree semi-structured splines** (LDssS) is a Blender add-on that converts quad-dominant meshes into B-spline patches.
This enables artists to edit spline surfaces in real-time via the existing polyhedral modeling capabilities of Blender.

Blender currently provides no convenient spline creation, modeling, or reshaping tool. Splines are a standard representation in the CAD industry.
LDssS, therefore, provides a bridge between Blender modeling and spline-based industrial design.

LDssS yields
1. Smooth surfaces without subdividing the mesh. (The Blender&#39;s default subdivision or smooth operator exponentially increases the number of vertices. This can cause high computational and storage overhead for downstream operations)
2. Easy, exact computation of moments, e.g. volume, the center of mass, axes of inertia, ...
3. Preserves the polyhedral character of the input (Low-degree splines generalize bi-2, bi-quadratic, splines. Bi-2 splines are by default less smooth than bi-3 splines, and curvature changes more sharply.)

Please visit  the [documentation ]] and [[ https:*github.com/UF-CISE-Surflab/blender-polyhedral-splines | source code ](https:*uf-cise-surflab.github.io/blender-polyhedral-splines-web/) for more details.


[blender-semi-structure-spline.zip](https://archive.blender.org/developer/F10376618/blender-semi-structure-spline.zip)

</p>
						
						
					</div>
					
					
				</div>
			</div>

			





	
		

		
		
			<p><span><svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M10.561 8.073a6.005 6.005 0 0 1 3.432 5.142.75.75 0 1 1-1.498.07 4.5 4.5 0 0 0-8.99 0 .75.75 0 0 1-1.498-.07 6.004 6.004 0 0 1 3.431-5.142 3.999 3.999 0 1 1 5.123 0ZM10.5 5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path></svg></span>
				
					
						<a href="https://erikarow.land/ideasman42"><img src="https://erikarow.land/avatars/f69a90831bb4ad971599e1dbc9961eb73cdf4a2a8fbd82d392067849eacfb5a3?size=56" title="Campbell Barton" width="28" height="28"/></a>

						<span>
							<a href="https://erikarow.land/ideasman42">Campbell Barton</a>

							
								was assigned by <b>Kyle</b> <relative-time prefix="" tense="past" datetime="2021-09-04T17:41:21+02:00" data-tooltip-content="" data-tooltip-interactive="true">2021-09-04 17:41:21 +02:00</relative-time>
							
						</span>
					
				
			</p>
		
	

	
		

		
		
			<div id="issuecomment-18770">
			
				<p><a href="https://erikarow.land/m043010016">
					<img src="https://erikarow.land/avatars/d3c93ff82625b539e38510b93fea14c4?size=80" title="Kyle" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						
						<p>Added subscriber: @m043010016</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18771">
			
				<p><a href="https://erikarow.land/ideasman42">
					<img src="https://erikarow.land/avatars/f69a90831bb4ad971599e1dbc9961eb73cdf4a2a8fbd82d392067849eacfb5a3?size=80" title="Campbell Barton" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						
						<p>Added subscribers: @Funnybob, @DanielBystedt, @howardt</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18772">
			
				<p><a href="https://erikarow.land/ideasman42">
					<img src="https://erikarow.land/avatars/f69a90831bb4ad971599e1dbc9961eb73cdf4a2a8fbd82d392067849eacfb5a3?size=80" title="Campbell Barton" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">Thanks for this contribution, some questions regarding this functionality:</p>
<ul dir="auto">
<li>What is the intended use case (or some example use cases?)</li>
<li>In what situations is this preferable compared to subdivision surfaces?</li>
<li>Does other software already have this feature, if so - how does it handle topologies unsupported by this add-on?</li>
</ul>
<p dir="auto">Some comments on this feature:</p>
<ul dir="auto">
<li>I think most users would want to access this as a modifier, instead of a one time conversion since the one off conversion results in many separate nurbs patches aren&#39;t convenient to work with.</li>
<li>The conversion to nurbs looses custom data such as UV&#39;s vertex weights, vertex-colors (a limitation in Blender, not this add-on) - still, it makes the final result less useful.</li>
<li>Lack of support for common topologies involving quads/tris (as found on &#34;Suzzane&#34; for example), will seem like a bug from a user perspective. I don&#39;t know how difficult it would be to support this - even a fall back would be better than failing to convert the geometry.</li>
</ul>
<hr/>
<p dir="auto">In it&#39;s current form this seems like a way to explore this method as an alternative to subdivision surfaces, however for this to be something that would be included in Blender, I think we would want this to be a modifier.</p>
<p dir="auto">CC&#39;ing <a href="https://projects.blender.org/howardt" rel="nofollow">@howardt</a>, <a href="https://projects.blender.org/DanielBystedt" rel="nofollow">@DanielBystedt</a> and <a href="https://projects.blender.org/Funnybob" rel="nofollow">@Funnybob</a> for user feedback.</p>

							
						</div>
						<p>Thanks for this contribution, some questions regarding this functionality:

- What is the intended use case (or some example use cases?)
- In what situations is this preferable compared to subdivision surfaces?
- Does other software already have this feature, if so - how does it handle topologies unsupported by this add-on?


Some comments on this feature:

- I think most users would want to access this as a modifier, instead of a one time conversion since the one off conversion results in many separate nurbs patches aren&#39;t convenient to work with.
- The conversion to nurbs looses custom data such as UV&#39;s vertex weights, vertex-colors (a limitation in Blender, not this add-on) - still, it makes the final result less useful.
- Lack of support for common topologies involving quads/tris (as found on &#34;Suzzane&#34; for example), will seem like a bug from a user perspective. I don&#39;t know how difficult it would be to support this - even a fall back would be better than failing to convert the geometry.

---

In it&#39;s current form this seems like a way to explore this method as an alternative to subdivision surfaces, however for this to be something that would be included in Blender, I think we would want this to be a modifier.

CC&#39;ing @howardt, @DanielBystedt and @Funnybob for user feedback.</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18773">
			
				<p><a href="https://erikarow.land/DanielBystedt">
					<img src="https://erikarow.land/avatars/2113abda2ffce2babf78ef4b5fe0588527f1215bc06ffb75a40865ed169b8f55?size=80" title="Daniel Bystedt" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">Speaking from an artists point of view: I have a hard time seeing the usefulness of the addon when doing actual modeling work. Therefore I am sceptical if it is worth the time to put a developer into making this a modifier. I would much rather that developers time would be put into tackling features that could be useful for a larger group of blender users (such as the UV improvements ;-) ). There are very few 3d artists that I know of that is using NURBS surfaces in their modeling workflow. The exception would be 3d hard surface modelers that use the 3d application &#34;Moi 3D&#34;. The biggest selling point of that application is strong use of parametric modeling and boolean use.</p>
<p dir="auto">A hypothetical usecase would be if I need to import a model into an 3d application that only accepts nurbs surfaces and not polygons. Then I could convert a mesh to nurbs surfaces before exporting.</p>

							
						</div>
						<p>Speaking from an artists point of view: I have a hard time seeing the usefulness of the addon when doing actual modeling work. Therefore I am sceptical if it is worth the time to put a developer into making this a modifier. I would much rather that developers time would be put into tackling features that could be useful for a larger group of blender users (such as the UV improvements ;-) ). There are very few 3d artists that I know of that is using NURBS surfaces in their modeling workflow. The exception would be 3d hard surface modelers that use the 3d application &#34;Moi 3D&#34;. The biggest selling point of that application is strong use of parametric modeling and boolean use.  

A hypothetical usecase would be if I need to import a model into an 3d application that only accepts nurbs surfaces and not polygons. Then I could convert a mesh to nurbs surfaces before exporting. </p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18774">
			
				<p><a href="https://erikarow.land/Funnybob">
					<img src="https://erikarow.land/avatars/5dded795fbf5363b4a3f18fd9036f78b?size=80" title="Robert Rioux" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<p dir="auto">That could be useful if you need to imply poly objects into CAD but usually it&#39;s the opposite. Now, doing a demo on a monkey is one thing, doing it on a highly complex surface with holes in it, that&#39;s another game. I would need to see a demo on a geo that has irregular poly distribution. I used NURBS since 1995. They are impossible to texture as they don&#39;t have UVs. You have to deal with texture stretching, time surfaces, tangent continuity and many other issues that we don&#39;t have with polys anymore. NURBS have their advantages, like doing fillets, but nothing I can&#39;t deal with in polys. NURBS also need tessellation otherwise they will look faceted. That is unless you use a renderer that fully support NURBS like Renderman that will do micropolygon tessellation.</p>
						<p>That could be useful if you need to imply poly objects into CAD but usually it&#39;s the opposite. Now, doing a demo on a monkey is one thing, doing it on a highly complex surface with holes in it, that&#39;s another game. I would need to see a demo on a geo that has irregular poly distribution. I used NURBS since 1995. They are impossible to texture as they don&#39;t have UVs. You have to deal with texture stretching, time surfaces, tangent continuity and many other issues that we don&#39;t have with polys anymore. NURBS have their advantages, like doing fillets, but nothing I can&#39;t deal with in polys. NURBS also need tessellation otherwise they will look faceted. That is unless you use a renderer that fully support NURBS like Renderman that will do micropolygon tessellation.</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18775">
			
				<p><a href="https://erikarow.land/ideasman42">
					<img src="https://erikarow.land/avatars/f69a90831bb4ad971599e1dbc9961eb73cdf4a2a8fbd82d392067849eacfb5a3?size=80" title="Campbell Barton" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<p dir="auto"><a href="https://projects.blender.org/Funnybob" rel="nofollow">@Funnybob</a> this could be converted into a mesh modifier that handles UV coordinates and other custom data, so it may be worth considering this functionality without getting caught up in details about Blenders current NURBS support which is quite limited.</p>
						<p>@Funnybob this could be converted into a mesh modifier that handles UV coordinates and other custom data, so it may be worth considering this functionality without getting caught up in details about Blenders current NURBS support which is quite limited.</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18776">
			
				<p><a href="https://erikarow.land/Funnybob">
					<img src="https://erikarow.land/avatars/5dded795fbf5363b4a3f18fd9036f78b?size=80" title="Robert Rioux" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<p dir="auto">But what is the ultimate goal of this addon? Who is it for?</p>
						<p>But what is the ultimate goal of this addon? Who is it for?</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18777">
			
				<p><a href="https://erikarow.land/kursadk">
					<img src="https://erikarow.land/avatars/bf67ab34c4b18c1f2a34fe7b29845312?size=80" title="kursad k" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						
						<p>Added subscriber: @kursadk</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18778">
			
				<p><a href="https://erikarow.land/kursadk">
					<img src="https://erikarow.land/avatars/bf67ab34c4b18c1f2a34fe7b29845312?size=80" title="kursad k" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<p dir="auto">This can provide better landing for the people coming from the CAD world, and make Blender more useful for them. I saw many people try to convert Nurbs objects to Blender with minimal curvature loss, maybe this add-on can be expanded in that direction.</p>
						<p>This can provide better landing for the people coming from the CAD world, and make Blender more useful for them. I saw many people try to convert Nurbs objects to Blender with minimal curvature loss, maybe this add-on can be expanded in that direction.</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18779">
			
				<p><a href="https://erikarow.land/zanqdo">
					<img src="https://erikarow.land/avatars/011497ee087eea664cd27be0f01ee999b0b6e5ecc81a5eddbc9ca681c94ef9b3?size=80" title="Daniel Salazar" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						
						<p>Added subscriber: @zanqdo</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18780">
			
				<p><a href="https://erikarow.land/zanqdo">
					<img src="https://erikarow.land/avatars/011497ee087eea664cd27be0f01ee999b0b6e5ecc81a5eddbc9ca681c94ef9b3?size=80" title="Daniel Salazar" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">The potencial usefulness of NURBS is beyond question when dealing with CAD models. It would be a dream to be able to load CAD objects in Blender.</p>
<p dir="auto">However I agree that seing this in a Suzanne is not a good enough example of it&#39;s pottencial, specially since this is still based on Blender&#39;s ancient and limited NURBS patch so it is unclear how a real CAD surface would transfer to it.</p>

							
						</div>
						<p>The potencial usefulness of NURBS is beyond question when dealing with CAD models. It would be a dream to be able to load CAD objects in Blender.

However I agree that seing this in a Suzanne is not a good enough example of it&#39;s pottencial, specially since this is still based on Blender&#39;s ancient and limited NURBS patch so it is unclear how a real CAD surface would transfer to it.</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18781">
			
				<p><a href="https://erikarow.land/pafurijaz-4">
					<img src="https://erikarow.land/avatars/774a4f082a07f7532f1fd9ea79684a7b?size=80" title="Paolo Furani" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						
						<p>Added subscriber: @pafurijaz-4</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18782">
			
				<p><a href="https://erikarow.land/surfacionado">
					<img src="https://erikarow.land/avatars/59370b4e223d99b3c99d4b6672ccd948?size=80" title="jorg peters" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						
						<p>Added subscriber: @surfacionado</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18783">
			
				<p><a href="https://erikarow.land/surfacionado">
					<img src="https://erikarow.land/avatars/59370b4e223d99b3c99d4b6672ccd948?size=80" title="jorg peters" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">We need some help/input.</p>
<p dir="auto">First what is now available thanks to your input:</p>
<ul dir="auto">
<li>Polyhedral Splines now has a rudimentary modifier version (campbellbarton) that needs cleaning up and  information to be offered for community comment  -- see ^* below.</li>
<li>Polyhedral splines have an exact interactive moment calculation (volume, center of mass, axes of inertia see <a href="https://www.cise.ufl.edu/research/SurfLab/pre99-papers/97CMP.pdf" rel="nofollow">https://www.cise.ufl.edu/research/SurfLab/pre99-papers/97CMP.pdf</a>)</li>
<li>Output in .iges is easily added to communicate (one way) to CAD packages -- there are many good reasons to avoid the reverse communication of trimmed NURBS coming from CAD packages (riouxr).  Subdivision surfaces do not conform to the common CAD standard.</li>
<li>A polyhedral spline model, originally created by a designer at the tesla car company, has been added (zanqdo)</li>
<li>see <a href="https://www.cise.ufl.edu/research/SurfLab/papers/1109reyes.pdf" rel="nofollow">https://www.cise.ufl.edu/research/SurfLab/papers/1109reyes.pdf</a> for pixel-accurate rendering equivalent to real time ray casting (riouxr)</li>
<li>UV improvements: (dbystedt) please explain what is wanted. Textures can be placed on polyhedral splines</li>
</ul>
<p dir="auto">^*  Now our questions:</p>
<ol dir="auto">
<li>opensubdiv renders using the graphics engine.  We would love to use the tessellation engine to display polyhedral splines rather than converting to Blender NURBS.</li>
</ol>
<p dir="auto">2a. How does the built-in NURBS surface get rendered in Blender?</p>
<ol start="3" dir="auto">
<li>Would it be of interest to add the CAD industry standard</li>
</ol>

							
						</div>
						<p> We need some help/input.

First what is now available thanks to your input:

 - Polyhedral Splines now has a rudimentary modifier version (campbellbarton) that needs cleaning up and  information to be offered for community comment  -- see ^* below.
  - Polyhedral splines have an exact interactive moment calculation (volume, center of mass, axes of inertia see https://www.cise.ufl.edu/research/SurfLab/pre99-papers/97CMP.pdf)
  - Output in .iges is easily added to communicate (one way) to CAD packages -- there are many good reasons to avoid the reverse communication of trimmed NURBS coming from CAD packages (riouxr).  Subdivision surfaces do not conform to the common CAD standard.
 - A polyhedral spline model, originally created by a designer at the tesla car company, has been added (zanqdo)
 - see https://www.cise.ufl.edu/research/SurfLab/papers/1109reyes.pdf for pixel-accurate rendering equivalent to real time ray casting (riouxr) 
  - UV improvements: (dbystedt) please explain what is wanted. Textures can be placed on polyhedral splines

^*  Now our questions:
0. Is there a similar modifier that can be used for style and approach?
Currently, after making the surface, we call BKE_mesh_new_from_object to generate a fine mesh. That is not our favorite solution, see below.

1.  opensubdiv renders using the graphics engine.  We would love to use the tessellation engine to display polyhedral splines rather than converting to Blender NURBS. 
1a Is rendering from the modifier to the OpenGl 4.x graphics pipeline an option?
1b Where do we find specific information for how Blender likes to link to the GPU? ( We are familiar with OpenGL 4x but reading the opensubdiv code is no fun)
1c Do we need to provide a legacy solution for ancient graphics cards?

2a. How does the built-in NURBS surface get rendered in Blender?
If it is an efficient and correct algorithm, we could just feed it our coefficients for legacy.
2b. Does Blender convert NURBS into mesh before rendering?
If so we may want to generate that mesh directly without NURBS intermediary.
2c. Can a modifier keep NURBS surfaces (not converting them into mesh)?

3. Would it be of interest to add the CAD industry standard
 IGES (.igs) output format so that Blender polyhedral spline designs
can be directly exported to CAD packages?
</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18784">
			
				<p><a href="https://erikarow.land/TimMann">
					<img src="https://erikarow.land/avatars/b3b236f4e8785e4c13f8bb5dd87c9d07?size=80" title="Tim Mann" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						
						<p>Added subscriber: @TimMann</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18785">
			
				<p><a href="https://erikarow.land/TimMann">
					<img src="https://erikarow.land/avatars/b3b236f4e8785e4c13f8bb5dd87c9d07?size=80" title="Tim Mann" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto"><a href="https://projects.blender.org/surfacionado" rel="nofollow">@surfacionado</a></p>
<blockquote>
<ol start="3" dir="auto">
<li>Would it be of interest to add the CAD industry standard IGES (.igs) output format so that Blender polyhedral spline designs can be directly exported to CAD packages?</li>
</ol>
</blockquote>
<p dir="auto">Yes. it&#39;ll be nice to have an .igs exporter to verify it in Autodesk Alias.</p>

							
						</div>
						<p>@surfacionado 
Hi, somehow the patches around extraordinary vertices are not generated. Also is there a reason why the generated Bspline patches don&#39;t have knots? ![missingPatch_ext.gif](https://archive.blender.org/developer/F13260815/missingPatch_ext.gif)

&gt; 3. Would it be of interest to add the CAD industry standard IGES (.igs) output format so that Blender polyhedral spline designs can be directly exported to CAD packages?


Yes. it&#39;ll be nice to have an .igs exporter to verify it in Autodesk Alias.
</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18786">
			
				<p><a href="https://erikarow.land/Funnybob">
					<img src="https://erikarow.land/avatars/5dded795fbf5363b4a3f18fd9036f78b?size=80" title="Robert Rioux" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						
						<p>Removed subscriber: @Funnybob</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18787">
			
				<p><a href="https://erikarow.land/surfacionado">
					<img src="https://erikarow.land/avatars/59370b4e223d99b3c99d4b6672ccd948?size=80" title="jorg peters" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">Thank you Tim</p>
<p dir="auto">Polyhedral spline patterns [intentionally] require sufficient separation between the irregularities (see Mesh Inspection and minuite 2:45 of the video at <a href="https://uf-cise-surflab.github.io/blender-polyhedral-splines-web/" rel="nofollow">https://uf-cise-surflab.github.io/blender-polyhedral-splines-web/</a>  and the bottom of the page).</p>
<p dir="auto">You have three choices to avoid holes in the original Suzanne mesh which has many &#34;tight&#34; configurations:</p>
<ol dir="auto">
<li>run 1 step of subd and then input that mesh    or</li>
<li>use our modified Suzanne mesh that features all patterns   or</li>
<li>apply <a href="https://www.cise.ufl.edu/research/SurfLab/papers/22remesh.pdf" rel="nofollow">https://www.cise.ufl.edu/research/SurfLab/papers/22remesh.pdf</a> (to be added, if there is sufficient interest)</li>
</ol>
<p dir="auto">We will add the igs exporter (that, incidentally,  we wrote to compare the high-end version of polyhedral splines with Autodesk surfaces ;-)</p>

							
						</div>
						<p>Thank you Tim

Polyhedral spline patterns [intentionally] require sufficient separation between the irregularities (see Mesh Inspection and minuite 2:45 of the video at https://uf-cise-surflab.github.io/blender-polyhedral-splines-web/  and the bottom of the page).
Btw: we renamed semi-structured to polyhedral splines...

You have three choices to avoid holes in the original Suzanne mesh which has many &#34;tight&#34; configurations:

 1. run 1 step of subd and then input that mesh    or
 2. use our modified Suzanne mesh that features all patterns   or
 3. apply https://www.cise.ufl.edu/research/SurfLab/papers/22remesh.pdf (to be added, if there is sufficient interest)

We will add the igs exporter (that, incidentally,  we wrote to compare the high-end version of polyhedral splines with Autodesk surfaces ;-)
</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18788">
			
				<p><a href="https://erikarow.land/TimMann">
					<img src="https://erikarow.land/avatars/b3b236f4e8785e4c13f8bb5dd87c9d07?size=80" title="Tim Mann" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto"><a href="https://projects.blender.org/surfacionado" rel="nofollow">@surfacionado</a> Great, look forward to the igs exporter.</p>
<p dir="auto">I&#39;d definitely implement your localized remeshing algorithm to make it more robust if I were you, especially when Subdiv Modeling in Alias already works for all cases.</p>
<p dir="auto">I also compared the result of Subdiv Modeling and Polyhedral Splines and marked some details that might be improved in the future.</p>
<p dir="auto"><a href="https://archive.blender.org/developer/F13324006/1.jpg" target="_blank" rel="nofollow noopener"><img src="https://archive.blender.org/developer/F13324006/1.jpg" alt="1.jpg"/></a></p>

							
						</div>
						<p>@surfacionado Great, look forward to the igs exporter.

I&#39;d definitely implement your localized remeshing algorithm to make it more robust if I were you, especially when Subdiv Modeling in Alias already works for all cases. 

I also compared the result of Subdiv Modeling and Polyhedral Splines and marked some details that might be improved in the future. 
B. The amount of patches at extraodinary point by Polyhedral Splines is a bit disproportional(Suzzane&#39;s nose), maybe it can be improved.
C. Having three coefficients at the same location(Suzzane&#39;s eye) seems like a temporary work around, not a final solution.
D. It&#39;s hard to tell if these crease lines are caused by different rendering engines or if it&#39;s a continuity problem without an .iges from Polyhedral Splines.

![1.jpg](https://archive.blender.org/developer/F13324006/1.jpg)</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18789">
			
				<p><a href="https://erikarow.land/surfacionado">
					<img src="https://erikarow.land/avatars/59370b4e223d99b3c99d4b6672ccd948?size=80" title="jorg peters" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">Thank you so much, Tim.</p>
<p dir="auto">We hope to provide an update addressing &#39;holes&#39; and &#39;iges&#39; mid-August.</p>
<p dir="auto">for now just on B:</p>

							
						</div>
						<p>Thank you so much, Tim.      

We hope to provide an update addressing &#39;holes&#39; and &#39;iges&#39; mid-August.

for now just on B:  
on the left (subd) each &#34;patch&#34; of Catmull-Clark subdivision consists of an  INFINITE sequence of polynomial pieces. You likely show is the projection of the control net on the surface -- that projection has the same structure for polyhedral splines. What you show on the right are the outlines of FINITELY many polynomial pieces of the polyhedral spline.  
Why would a designer care whether it is infinitely many pieces (subd) or finitely many (polyhedral spline)?  (1) export to iges, (2) exact moment computation, (3) no singularities (except at polar points, where the surface is perfectly smooth), whereas subd viewed in terms of patches generates singularities at every extraordinary point, etc.</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18790">
			
				<p><a href="https://erikarow.land/TimMann">
					<img src="https://erikarow.land/avatars/b3b236f4e8785e4c13f8bb5dd87c9d07?size=80" title="Tim Mann" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto"><a href="https://projects.blender.org/surfacionado" rel="nofollow">@surfacionado</a></p>
<p dir="auto">B on the left(Subdiv) is not a projection of the control net. it&#39;s the outlines of the actual <a href="https://wiki.eclipse.org/IGES_file_Specification#Rational_B-Spline_Surface_.28Type_128.29" rel="nofollow">Rational B-spline Surfaces </a> . On the left of the image below is subdiv suzzane exported to .iges then imported back to Alias with 600 B-spline patches in total, on the right is a selected B-spline patch at nose area with cv/coefficients turned on. It&#39;s not a simple Catmull-Clark algorithm with infinite/singularity issue.</p>
<p dir="auto"><a href="https://archive.blender.org/developer/F13324323/iges.jpg" target="_blank" rel="nofollow noopener"><img src="https://archive.blender.org/developer/F13324323/iges.jpg" alt="iges.jpg"/></a></p>
<p dir="auto">As for the number of Bspline patches, that depends on your target users. Most modern graphic cards are capable of handling Catmull-Clark on low poly objects, unless there&#39;re a million low poly objs; subdivision on high poly objects are mainly used in final production deployment in studios equipped with high end cards. Polyhedral Splines as an alternative lightweight visualization modifier to Catmull-Clark may seem trivial to these artists and studios, however you do have a real case among CAD users given the fact that B-splines parametric properties are necessity to them. Besides, in comparison to CAD vendors flexing their muscles into the Mesh Modeling world with 3-4 years old Subdiv Modeling feature from Alias(or other major CAD vendors) that preserves the original mesh topology with minimal amount of Bspline patches, Surface Modeling in Blender is seriously underdeveloped. If you try to acquire these potential CAD users and go head-to-head on the same feature, keep in mind they&#39;ll probably be looking for something similar in Blender to toggle across platforms. The less the patches, the easier it is for them to manipulate. Or you can offer something different, such as add the high end version you mentioned earlier to your advantage.</p>

							
						</div>
						<p>@surfacionado 

B on the left(Subdiv) is not a projection of the control net. it&#39;s the outlines of the actual [Rational B-spline Surfaces ](https://wiki.eclipse.org/IGES_file_Specification#Rational_B-Spline_Surface_.28Type_128.29) . On the left of the image below is subdiv suzzane exported to .iges then imported back to Alias with 600 B-spline patches in total, on the right is a selected B-spline patch at nose area with cv/coefficients turned on. It&#39;s not a simple Catmull-Clark algorithm with infinite/singularity issue.
 
![iges.jpg](https://archive.blender.org/developer/F13324323/iges.jpg)

As for the number of Bspline patches, that depends on your target users. Most modern graphic cards are capable of handling Catmull-Clark on low poly objects, unless there&#39;re a million low poly objs; subdivision on high poly objects are mainly used in final production deployment in studios equipped with high end cards. Polyhedral Splines as an alternative lightweight visualization modifier to Catmull-Clark may seem trivial to these artists and studios, however you do have a real case among CAD users given the fact that B-splines parametric properties are necessity to them. Besides, in comparison to CAD vendors flexing their muscles into the Mesh Modeling world with 3-4 years old Subdiv Modeling feature from Alias(or other major CAD vendors) that preserves the original mesh topology with minimal amount of Bspline patches, Surface Modeling in Blender is seriously underdeveloped. If you try to acquire these potential CAD users and go head-to-head on the same feature, keep in mind they&#39;ll probably be looking for something similar in Blender to toggle across platforms. The less the patches, the easier it is for them to manipulate. Or you can offer something different, such as add the high end version you mentioned earlier to your advantage. </p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18791">
			
				<p><a href="https://erikarow.land/surfacionado">
					<img src="https://erikarow.land/avatars/59370b4e223d99b3c99d4b6672ccd948?size=80" title="jorg peters" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">Great to get feedback, Tim!</p>
<p dir="auto">We agree that the boundaries of the polynomial pieces are shown in light blue in your example and the boundaries of the macro-patches in bold blue.</p>
<p dir="auto">The Alias output for the once Blender-subd-refined input per original quad  is 2 x2 x degree bi-7 patches = (256 Bezier coefficients) .</p>
<p dir="auto">As you point out, a factor of 16 may not matter and degree bi-7 vs bi-3 is not big deal unless of course you want to compute normals or curvature or intersections or ...</p>
<p dir="auto">Polyhedral splines allow you to design using many configurations not supported by  Alias, such as polar configurations and T-junctions.</p>
<p dir="auto">We are late with posting  the &#34;no holes&#34; version 2 and iges output as well as a nice example. But I am hopeful version 2 will arrive this month.</p>

							
						</div>
						<p>Great to get feedback, Tim!  

We agree that the boundaries of the polynomial pieces are shown in light blue in your example and the boundaries of the macro-patches in bold blue.  

The Alias output for the once Blender-subd-refined input per original quad  is 2 x2 x degree bi-7 patches = (256 Bezier coefficients) .
Polyhedral splines use 9, resp. 16 Bezier coefficients. 

As you point out, a factor of 16 may not matter and degree bi-7 vs bi-3 is not big deal unless of course you want to compute normals or curvature or intersections or ...
Also Blender does not seem to support degree higher than bi-3 and we were hoping to use Blender, not rebuild it. 
So pulling the Alias solution into Blender will presumably fail, whereas exporting polyhedral splines from Blender or pulling polyhedral splines back into Blender is possible.
That is with iges output, one can toggle across platforms. 

Polyhedral splines allow you to design using many configurations not supported by  Alias, such as polar configurations and T-junctions. 
Note that T-splines can model T-junctions using refinement but cannot handle input T-junctions since T-splines require a global parameterization.

We are late with posting  the &#34;no holes&#34; version 2 and iges output as well as a nice example. But I am hopeful version 2 will arrive this month. 
To get the modifier into Blender will depend on the level of enthusiasm. Basically startup with the modifier is instant whereas now , with the add-on, you have to wait for Blender to allocate each piece.</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18792">
			
				<p><a href="https://erikarow.land/kursadk">
					<img src="https://erikarow.land/avatars/bf67ab34c4b18c1f2a34fe7b29845312?size=80" title="kursad k" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">I am testing this with 3.4 nightly and I see that the patches have normals continuity issues. Is this an expected situation?</p>
<p dir="auto"><a href="https://archive.blender.org/developer/F13485118/blender_rS1JqD169B.jpg" target="_blank" rel="nofollow noopener"><img src="https://archive.blender.org/developer/F13485118/blender_rS1JqD169B.jpg" alt="blender_rS1JqD169B.jpg"/></a></p>

							
						</div>
						<p>I am testing this with 3.4 nightly and I see that the patches have normals continuity issues. Is this an expected situation?

![blender_rS1JqD169B.jpg](https://archive.blender.org/developer/F13485118/blender_rS1JqD169B.jpg)

</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18793">
			
				<p><a href="https://erikarow.land/HooglyBoogly">
					<img src="https://erikarow.land/avatars/71b394733f953ceb8855b3ee3559e6f17b056e134eb350b50536cb11a3235ec3?size=80" title="Hans Goudey" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						
						<p>Added subscriber: @HooglyBoogly</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18794">
			
				<p><a href="https://erikarow.land/HooglyBoogly">
					<img src="https://erikarow.land/avatars/71b394733f953ceb8855b3ee3559e6f17b056e134eb350b50536cb11a3235ec3?size=80" title="Hans Goudey" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">Hi! I think this is quite an interesting concept! I can get why surfaces wouldn&#39;t be useful for a lot of artists, but having something like a surface workflow in Blender would be great.</p>
<p dir="auto">I notice the conversation tends to come back to the limitations of Blender&#39;s current surface system.</p>

							
						</div>
						<p>Hi! I think this is quite an interesting concept! I can get why surfaces wouldn&#39;t be useful for a lot of artists, but having something like a surface workflow in Blender would be great.

I notice the conversation tends to come back to the limitations of Blender&#39;s current surface system.
I&#39;d like to point out this design task I made for surfaces recently: blender/blender#100127 (New surface data-block)
It would be great to get feedback from people with more experience with surfaces there.
I realize that would probably take the project in a different direction than you&#39;re proposing, but if you&#39;re interested, I would be happy to help with work on that task.</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18795">
			
				<p><a href="https://erikarow.land/m043010016">
					<img src="https://erikarow.land/avatars/d3c93ff82625b539e38510b93fea14c4?size=80" title="Kyle" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<blockquote>
<p dir="auto">In #91180#1415943, <a href="https://projects.blender.org/kursadk" rel="nofollow">@kursadk</a> wrote:</p>
<p dir="auto"><a href="https://archive.blender.org/developer/F13485118/blender_rS1JqD169B.jpg" target="_blank" rel="nofollow noopener"><img src="https://archive.blender.org/developer/F13485118/blender_rS1JqD169B.jpg" alt="blender_rS1JqD169B.jpg"/></a></p>
</blockquote>
<p dir="auto">Hi Kursad,</p>
<p dir="auto">Thank you for pointing this out :)  We also noticed this issue.</p>
<p dir="auto">The .igs exporter feature has been pushed to <a href="https://github.com/UF-CISE-Surflab/blender-polyhedral-splines" rel="nofollow">main branch </a>.</p>
<p dir="auto">We didn&#39;t see the discontinuity when exporting the same splines as igs file and display in FreeCAD.</p>
<p dir="auto">We appreciate any comments!</p>

							
						</div>
						<p>&gt; In #91180#1415943, @kursadk wrote:
&gt; I am testing this with 3.4 nightly and I see that the patches have normals continuity issues. Is this an expected situation?
&gt; 
&gt; ![blender_rS1JqD169B.jpg](https://archive.blender.org/developer/F13485118/blender_rS1JqD169B.jpg)


Hi Kursad,

Thank you for pointing this out :)  We also noticed this issue. 
We wonder if it is because we misuse any functions or if it is a rendering issue in Blender.

The .igs exporter feature has been pushed to [main branch ](https://github.com/UF-CISE-Surflab/blender-polyhedral-splines).
![Screen Shot 2022-09-13 at 11.18.50 PM.png](https://archive.blender.org/developer/F13491175/Screen_Shot_2022-09-13_at_11.18.50_PM.png)

We didn&#39;t see the discontinuity when exporting the same splines as igs file and display in FreeCAD. 
![Screen Shot 2022-09-13 at 11.09.30 PM.png](https://archive.blender.org/developer/F13491177/Screen_Shot_2022-09-13_at_11.09.30_PM.png) ![Screen Shot 2022-09-13 at 11.13.10 PM.png](https://archive.blender.org/developer/F13491179/Screen_Shot_2022-09-13_at_11.13.10_PM.png) ![Screen Shot 2022-09-13 at 11.13.00 PM.png](https://archive.blender.org/developer/F13491180/Screen_Shot_2022-09-13_at_11.13.00_PM.png)

We appreciate any comments!</p>
						
						
					</div>
					
					
						
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18796">
			
				<p><a href="https://erikarow.land/lichtwerk">
					<img src="https://erikarow.land/avatars/67c6552e49f6f7b0c4490f7604dc86955181c3aee4155562bccd958a4f26e855?size=80" title="Philipp Oeser" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						
						<p>Added subscriber: @lichtwerk</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18797">
			
				<p><a href="https://erikarow.land/HooglyBoogly">
					<img src="https://erikarow.land/avatars/71b394733f953ceb8855b3ee3559e6f17b056e134eb350b50536cb11a3235ec3?size=80" title="Hans Goudey" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<blockquote>
<p dir="auto">I am testing this with 3.4 nightly and I see that the patches have normals continuity issues. Is this an expected situation?</p>
</blockquote>
<p dir="auto">This could be due to some of the refactors to mesh normals that have happened recently. It may be necessary to give the mesh custom normals based on the evaluated NURBS patch.</p>

							
						</div>
						<p>&gt;I am testing this with 3.4 nightly and I see that the patches have normals continuity issues. Is this an expected situation?

This could be due to some of the refactors to mesh normals that have happened recently. It may be necessary to give the mesh custom normals based on the evaluated NURBS patch.</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18798">
			
				<p><a href="https://erikarow.land/persun">
					<img src="https://erikarow.land/avatars/14a2f4fa6d13307b3373862b88f7d1c7104e741d3cf362bf059b015562d39e30?size=80" title="Sun Kim" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						
						<p>Added subscriber: @persun</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18799">
			
				<p><a href="https://erikarow.land/TimMann">
					<img src="https://erikarow.land/avatars/b3b236f4e8785e4c13f8bb5dd87c9d07?size=80" title="Tim Mann" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto"><a href="https://projects.blender.org/surfacionado" rel="nofollow">@surfacionado</a></p>
<p dir="auto">ohh that&#39;s what those light blue outlines are, beizier patches. Thanks for clearing that up.</p>
<p dir="auto">Those Alias surfaces are bi-3 to bi-7, and they support T-junctions and Polar. It&#39;s unfortunate that Blender doesn&#39;t support bi-3+.</p>
<p dir="auto">Will it be updated soon? I can help forward it to a friend to share it with his students and in-house CAD modelers and gather some input.</p>

							
						</div>
						<p>@surfacionado 

ohh that&#39;s what those light blue outlines are, beizier patches. Thanks for clearing that up. 

Those Alias surfaces are bi-3 to bi-7, and they support T-junctions and Polar. It&#39;s unfortunate that Blender doesn&#39;t support bi-3+. 

Will it be updated soon? I can help forward it to a friend to share it with his students and in-house CAD modelers and gather some input.
</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18800">
			
				<p><a href="https://erikarow.land/surfacionado">
					<img src="https://erikarow.land/avatars/59370b4e223d99b3c99d4b6672ccd948?size=80" title="jorg peters" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						
						<p>Added subscriber: @Hans-6</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18801">
			
				<p><a href="https://erikarow.land/surfacionado">
					<img src="https://erikarow.land/avatars/59370b4e223d99b3c99d4b6672ccd948?size=80" title="jorg peters" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">Thank you Tim.</p>
<p dir="auto">It may surprise, but Alias (or T-splines) do NOT support T-junctions in the sense that a polyhedral modeler needs it.  In Alias, you can <em>generate</em> T-junctions by partitioning a quad facet.  But you <em>cannot  input</em> a polyhedral mesh with T-junctions and expect to get a surface back.  (You can input a mesh with T-junctions for polyhedral splines of this addon. )  T-splines need a globally consistent knot sequence and that is often not possible.</p>
<p dir="auto">We would love to have a functioning support for Bezier patches in Blender.</p>
<p dir="auto"><a href="https://projects.blender.org/Hans-6" rel="nofollow">@Hans-6</a> Goudey</p>

							
						</div>
						<p>Thank you Tim.

It may surprise, but Alias (or T-splines) do NOT support T-junctions in the sense that a polyhedral modeler needs it.  In Alias, you can *generate* T-junctions by partitioning a quad facet.  But you *cannot  input* a polyhedral mesh with T-junctions and expect to get a surface back.  (You can input a mesh with T-junctions for polyhedral splines of this addon. )  T-splines need a globally consistent knot sequence and that is often not possible.

We would love to have a functioning support for Bezier patches in Blender.
But so far we have not heard from anyone who knows and wants to tackle the innards of the curved surface implementation in Blender.
We  know that pixel-accurate rendering (ray casting in real time  --  certainly as fast as GPU opensubdiv) is both simple and feasible using only shaders in the openGL pipeline, entirely on the graphics card,  without penalty for the CPU.  

@Hans-6 Goudey
It is easy to provide the normal direction of a Bezier patch of degree bi-3 -- where would these &#34;custom normals&#34; be added to fix the problem Blender rendering seems to be experiencing (and iges output of the same Bezier patches to another renderer does not)?
</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18802">
			
				<p><a href="https://erikarow.land/surfacionado">
					<img src="https://erikarow.land/avatars/59370b4e223d99b3c99d4b6672ccd948?size=80" title="jorg peters" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<p dir="auto">I meant  Hans Goudey  (HoogleyBoogley)</p>
						<p>I meant  Hans Goudey  (HoogleyBoogley)   </p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18803">
			
				<p><a href="https://erikarow.land/HooglyBoogly">
					<img src="https://erikarow.land/avatars/71b394733f953ceb8855b3ee3559e6f17b056e134eb350b50536cb11a3235ec3?size=80" title="Hans Goudey" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						
						<p>Removed subscriber: @Hans-6</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18804">
			
				<p><a href="https://erikarow.land/HooglyBoogly">
					<img src="https://erikarow.land/avatars/71b394733f953ceb8855b3ee3559e6f17b056e134eb350b50536cb11a3235ec3?size=80" title="Hans Goudey" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">The normals could be added when generating the Mesh from the surface data. That&#39;s currently in <code>mesh_nurbs_displist_to_mesh</code> in the C++ code. It probably won&#39;t be that efficient but it&#39;s on the performance improvement list anyway. This might actually be a bug that this is missing.</p>
<p dir="auto">Like I mentioned before in this task though, I really think that a new surface data-block could the workflow here significantly. It could be dynamically generated from meshes or edited directly, and could be changed procedurally with directly in geometry nodes.</p>

							
						</div>
						<p>The normals could be added when generating the Mesh from the surface data. That&#39;s currently in `mesh_nurbs_displist_to_mesh` in the C++ code. It probably won&#39;t be that efficient but it&#39;s on the performance improvement list anyway. This might actually be a bug that this is missing.

Like I mentioned before in this task though, I really think that a new surface data-block could the workflow here significantly. It could be dynamically generated from meshes or edited directly, and could be changed procedurally with directly in geometry nodes.
Considering the interested from various developers, I feel like that&#39;s a reasonable direction to take this project.</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18805">
			
				<p><a href="https://erikarow.land/surfacionado">
					<img src="https://erikarow.land/avatars/59370b4e223d99b3c99d4b6672ccd948?size=80" title="jorg peters" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">Thank you Hans!      I do not know how to ask github nicely to tell me where   mesh_nurbs_displist_to_mesh   occurs. Maybe one has to clone to search?</p>
<p dir="auto">There is a routine evaluate_segment  that implements <em>forward differencing</em>for a polynomial of degree 3 (the 3 in  rt3) in one variable (presumably after converting from the B-spline form to Bezier form?).</p>

							
						</div>
						<p>Thank you Hans!      I do not know how to ask github nicely to tell me where   mesh_nurbs_displist_to_mesh   occurs. Maybe one has to clone to search? 

There is a routine evaluate_segment  that implements *forward differencing*for a polynomial of degree 3 (the 3 in  rt3) in one variable (presumably after converting from the B-spline form to Bezier form?).
My guess is that this routine is used, in parallel along the other variable, to fill an array?
Likely (I searched in vein for the cross product) the evaluation points are then interpreted as micro-quad facets and any normals are computed for those? 
If this is a correct interpretation of the code, there is an alternative: one can  evaluate efficiently  (re-using all intermediate coefficients as one does in forward differencing) using  de Casteljau&#39;s algorithm.
This allows computing exact normals in parallel. I have some code if that is of interest.</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18806">
			
				<p><a href="https://erikarow.land/TimMann">
					<img src="https://erikarow.land/avatars/b3b236f4e8785e4c13f8bb5dd87c9d07?size=80" title="Tim Mann" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto"><a href="https://projects.blender.org/surfacionado" rel="nofollow">@surfacionado</a></p>
<blockquote>
<p dir="auto">But so far we have not heard from anyone who knows and wants to tackle the innards of the curved surface implementation in Blender.</p>
</blockquote>
<p dir="auto">Perhaps you can install and import a nurbs python library such as <a href="https://github.com/orbingol/NURBS-Python/" rel="nofollow">Nurbs-Python</a> to Blender to go around the built-in limitations, decrease the degree only for Blender visualization purposes while keeping higher degree surfaces, etc.</p>

							
						</div>
						<p>@surfacionado 
Here&#39;s a rough model I made that contains T0/T1/T 2/Polar3/Polar5/Polar6/Polar7/Polar8/3-gon/5-gon/6-gon/7-gon/8-gon and the resulting surfaces in Alias are fine. ![comp_1.jpg](https://archive.blender.org/developer/F13994424/comp_1.jpg)
Here&#39;s the .blend file and output .
[data.zip](https://archive.blender.org/developer/F13966331/data.zip)
Follow this video to reproduce.
[turorial.mp4](https://archive.blender.org/developer/F13966248/turorial.mp4)


&gt; But so far we have not heard from anyone who knows and wants to tackle the innards of the curved surface implementation in Blender.


Perhaps you can install and import a nurbs python library such as [Nurbs-Python](https://github.com/orbingol/NURBS-Python/) to Blender to go around the built-in limitations, decrease the degree only for Blender visualization purposes while keeping higher degree surfaces, etc. 

</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-18807">
			
				<p><a href="https://erikarow.land/surfacionado">
					<img src="https://erikarow.land/avatars/59370b4e223d99b3c99d4b6672ccd948?size=80" title="jorg peters" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">Thank you Tim!  I appreciate the detail and demo!</p>
<p dir="auto">Yes, Alias software can apply two Catmull-Clark smoothing steps to any mesh:  that eliminates T0/T1/T 2/Polar3/Polar5/Polar6/Polar7/Polar8/3-gon/5-gon/6-gon/7-gon/8-gon  by converting them to isolated n-valent vertices.</p>
<p dir="auto">The higher degree polyhedral splines work well with Rhino, but our goal was to donate to the Blender community a CAD-compatible smooth surface construction that uses the existing Blender infrastructure. Unfortunately, this infrastructure has degree 3 hard coded (so we adjusted to that) and does not render correctly (that is not a bug but an incorrect algorithm for generating the normals) .</p>

							
						</div>
						<p>Thank you Tim!  I appreciate the detail and demo!

Yes, Alias software can apply two Catmull-Clark smoothing steps to any mesh:  that eliminates T0/T1/T 2/Polar3/Polar5/Polar6/Polar7/Polar8/3-gon/5-gon/6-gon/7-gon/8-gon  by converting them to isolated n-valent vertices. 
T-splines cannot model the eliminated configurations. 
Alias then fits degree bi-7 patches, (not T-splines).    
So the final count is  x16  pieces x  64 Bezier coefficients per sector    vs  (if built right from the start no Catmull-Clark is needed, otherwise x4 pieces) of 16 Bezier coefficients (degree bi-3 ).
That comparison is cheating slightly since polyhedral splines sometimes use multiple patches and for n&gt;5 also uses more pieces. On the other hand bi-7 is more expensive to render and use downstream than bi-3.

The higher degree polyhedral splines work well with Rhino, but our goal was to donate to the Blender community a CAD-compatible smooth surface construction that uses the existing Blender infrastructure. Unfortunately, this infrastructure has degree 3 hard coded (so we adjusted to that) and does not render correctly (that is not a bug but an incorrect algorithm for generating the normals) .
 If we knew where to place it, we would use the GPU tessellation engine for rendering the bicubic splines, avoiding conversion on the CPU and in Blender source altogether. I think &#34;subd&#34; does this already?</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	

	
		

		
		
			<div id="issuecomment-980051">
			
				<p><a href="https://erikarow.land/surfacionado">
					<img src="https://erikarow.land/avatars/59370b4e223d99b3c99d4b6672ccd948?size=80" title="jorg peters" width="40" height="40"/>
				</a></p><div>
					
					<div role="article">
						<div>
							
								<p dir="auto">Any progress on the issue of incorrect rendering of bi-3 splines in Blender?</p>
<p dir="auto">We&#39;d be happy to bypass the incorrect evaluation and send the surface control points directly to the GPU if  we get some help in setting this up (this was done for subd).</p>

							
						</div>
						<p>Any progress on the issue of incorrect rendering of bi-3 splines in Blender?
 It is my understanding that bi-3 is the only supported degree option, or has that changed?

We&#39;d be happy to bypass the incorrect evaluation and send the surface control points directly to the GPU if  we get some help in setting this up (this was done for subd).</p>
						
						
					</div>
					
					
				</div>
			</div>
		
	



			

			 
				
					<p><a href="https://erikarow.land/user/login?redirect_to=%2Fblender%2Fblender-addons%2Fissues%2F91180">Sign in</a> to join this conversation.
					</p>
				
			
		</div>
	</div>

	<div>
	<div>
		


<div data-no-results="No results found.">
	<p><span>No Branch/Tag Specified</span>
		
	</p>
	<div>
		
		
		<div id="branch-list">
			
			
				<p>main</p>
			
				<p>blender-v3.6-release</p>
			
				<p>asset-shelf</p>
			
				<p>blender-v3.3-release</p>
			
				<p>blender-v3.5-release</p>
			
				<p>brush-assets-project</p>
			
				<p>blender-v2.93-release</p>
			
				<p>blender-v3.4-release</p>
			
				<p>xr-dev</p>
			
				<p>blender-v3.2-release</p>
			
				<p>blender-v3.1-release</p>
			
				<p>screenshots-manual</p>
			
				<p>gltf_vtree</p>
			
				<p>blender-v2.83-release</p>
			
				<p>blender-v3.0-release</p>
			
				<p>xr-controller-support</p>
			
				<p>studio-sprite-fright</p>
			
				<p>asset-browser-poselib</p>
			
				<p>blender-v2.92-release</p>
			
				<p>blender-v2.91-release</p>
			
				<p>blender-v2.90-release</p>
			
				<p>greasepencil-addon</p>
			
				<p>xr-world-navigation</p>
			
				<p>soc-2019-openxr</p>
			
				<p>blender-v2.82-release</p>
			
				<p>blender-v2.81-release</p>
			
				<p>filebrowser_redesign</p>
			
				<p>blender-v2.80-release</p>
			
				<p>blender2.7</p>
			
				<p>blender-v2.79b-release</p>
			
				<p>blender-v2.79a-release</p>
			
				<p>blender-v2.79-release</p>
			
				<p>fbx_experiments</p>
			
				<p>blender-v2.78b-release</p>
			
				<p>collada-2</p>
			
				<p>blender-v2.78-release</p>
			
				<p>rigify_fixes</p>
			
				<p>fbx_io_export_ignore_parents</p>
			
		</div>
		<div id="tag-list">
			
			
				<p>v3.6.0</p>
			
				<p>v3.3.8</p>
			
				<p>v3.3.7</p>
			
				<p>v2.93.18</p>
			
				<p>v3.5.1</p>
			
				<p>v3.3.6</p>
			
				<p>v2.93.17</p>
			
				<p>v3.5.0</p>
			
				<p>v2.93.16</p>
			
				<p>v3.3.5</p>
			
				<p>v3.3.4</p>
			
				<p>v2.93.15</p>
			
				<p>v2.93.14</p>
			
				<p>v3.3.3</p>
			
				<p>v2.93.13</p>
			
				<p>v2.93.12</p>
			
				<p>v3.4.1</p>
			
				<p>v3.3.2</p>
			
				<p>v3.4.0</p>
			
				<p>v3.3.1</p>
			
				<p>v2.93.11</p>
			
				<p>v3.3.0</p>
			
				<p>v3.2.2</p>
			
				<p>v2.93.10</p>
			
				<p>v3.2.1</p>
			
				<p>v3.2.0</p>
			
				<p>v2.83.20</p>
			
				<p>v2.93.9</p>
			
				<p>v3.1.2</p>
			
				<p>v3.1.1</p>
			
				<p>v3.1.0</p>
			
				<p>v2.83.19</p>
			
				<p>v2.93.8</p>
			
				<p>v3.0.1</p>
			
				<p>v2.93.7</p>
			
				<p>v3.0.0</p>
			
				<p>v2.93.6</p>
			
				<p>v2.93.5</p>
			
				<p>v2.83.18</p>
			
				<p>v2.93.4</p>
			
				<p>v2.93.3</p>
			
				<p>v2.83.17</p>
			
				<p>v2.93.2</p>
			
				<p>v2.93.1</p>
			
				<p>v2.83.16</p>
			
				<p>v2.93.0</p>
			
				<p>v2.83.15</p>
			
				<p>v2.83.14</p>
			
				<p>v2.83.13</p>
			
				<p>v2.92.0</p>
			
				<p>v2.83.12</p>
			
				<p>v2.91.2</p>
			
				<p>v2.83.10</p>
			
				<p>v2.91.0</p>
			
				<p>v2.83.9</p>
			
				<p>v2.83.8</p>
			
				<p>v2.83.7</p>
			
				<p>v2.90.1</p>
			
				<p>v2.83.6</p>
			
				<p>v2.90.0</p>
			
				<p>v2.83.5</p>
			
				<p>v2.83.4</p>
			
				<p>v2.83.3</p>
			
				<p>v2.83.2</p>
			
				<p>v2.83.1</p>
			
				<p>v2.83</p>
			
				<p>v2.82a</p>
			
				<p>v2.82</p>
			
				<p>v2.81a</p>
			
				<p>v2.81</p>
			
				<p>v2.80</p>
			
				<p>v2.80-rc3</p>
			
				<p>v2.80-rc2</p>
			
				<p>v2.80-rc1</p>
			
				<p>v2.79b</p>
			
				<p>v2.79a</p>
			
				<p>v2.79</p>
			
				<p>v2.79-rc2</p>
			
				<p>v2.79-rc1</p>
			
				<p>v2.78b</p>
			
				<p>v2.78a</p>
			
				<p>v2.78</p>
			
				<p>v2.78-rc2</p>
			
				<p>v2.78-rc1</p>
			
				<p>v2.77a</p>
			
				<p>v2.77</p>
			
				<p>v2.77-rc2</p>
			
				<p>v2.77-rc1</p>
			
				<p>v2.76a</p>
			
				<p>v2.76</p>
			
				<p>v2.76-rc3</p>
			
				<p>v2.76-rc1</p>
			
				<p>v2.75</p>
			
				<p>v2.75-rc2</p>
			
				<p>v2.75-rc1</p>
			
				<p>v2.74</p>
			
				<p>v2.74-rc4</p>
			
				<p>v2.74-rc3</p>
			
				<p>v2.74-rc2</p>
			
				<p>v2.74-rc1</p>
			
				<p>v2.73a</p>
			
				<p>v2.73</p>
			
				<p>v2.73-rc1</p>
			
				<p>v2.72</p>
			
				<p>v2.72-rc1</p>
			
				<p>v2.71</p>
			
				<p>v2.71-rc1</p>
			
				<p>v2.70a</p>
			
				<p>v2.70</p>
			
				<p>v2.70-rc</p>
			
				<p>v2.69</p>
			
				<p>v2.68</p>
			
				<p>v2.67b</p>
			
				<p>v2.67a</p>
			
				<p>v2.67</p>
			
				<p>v2.66a</p>
			
				<p>v2.66</p>
			
				<p>v2.65a</p>
			
				<p>v2.65</p>
			
				<p>v2.64a</p>
			
				<p>v2.64</p>
			
				<p>v2.63a</p>
			
				<p>v2.63</p>
			
				<p>v2.62</p>
			
				<p>v2.61</p>
			
				<p>v2.60a</p>
			
				<p>v2.60</p>
			
				<p>v2.59</p>
			
				<p>v2.58a</p>
			
				<p>v2.58</p>
			
				<p>v2.57b</p>
			
				<p>v2.57a</p>
			
				<p>v2.57</p>
			
				<p>v2.56a</p>
			
				<p>v2.56</p>
			
				<p>v2.55</p>
			
				<p>v2.54</p>
			
				<p>v2.53</p>
			
		</div>
	</div>
</div>





		

		

		


		

		<div>
			<p><a>
				<strong>Milestone</strong>
				
			</a></p><div data-action="update" data-issue-id="2207" data-update-url="/blender/blender-addons/issues/milestone">
				<p>Set milestone</p>

<p>Clear milestone</p>

	<p>
		No items
	</p>


			</div>
		</div>
		

		
			

			
			
		

		

		
		

		

		
			<p><span><strong>12 Participants</strong></span></p><p><a href="https://erikarow.land/m043010016" data-tooltip-content="Kyle">
						<img src="https://erikarow.land/avatars/d3c93ff82625b539e38510b93fea14c4?size=56" title="Kyle" width="28" height="28"/>
					</a>
				
					<a href="https://erikarow.land/ideasman42" data-tooltip-content="Campbell Barton">
						<img src="https://erikarow.land/avatars/f69a90831bb4ad971599e1dbc9961eb73cdf4a2a8fbd82d392067849eacfb5a3?size=56" title="Campbell Barton" width="28" height="28"/>
					</a>
				
					<a href="https://erikarow.land/DanielBystedt" data-tooltip-content="Daniel Bystedt">
						<img src="https://erikarow.land/avatars/2113abda2ffce2babf78ef4b5fe0588527f1215bc06ffb75a40865ed169b8f55?size=56" title="Daniel Bystedt" width="28" height="28"/>
					</a>
				
					<a href="https://erikarow.land/Funnybob" data-tooltip-content="Robert Rioux">
						<img src="https://erikarow.land/avatars/5dded795fbf5363b4a3f18fd9036f78b?size=56" title="Robert Rioux" width="28" height="28"/>
					</a>
				
					<a href="https://erikarow.land/kursadk" data-tooltip-content="kursad k">
						<img src="https://erikarow.land/avatars/bf67ab34c4b18c1f2a34fe7b29845312?size=56" title="kursad k" width="28" height="28"/>
					</a>
				
					<a href="https://erikarow.land/zanqdo" data-tooltip-content="Daniel Salazar">
						<img src="https://erikarow.land/avatars/011497ee087eea664cd27be0f01ee999b0b6e5ecc81a5eddbc9ca681c94ef9b3?size=56" title="Daniel Salazar" width="28" height="28"/>
					</a>
				
					<a href="https://erikarow.land/pafurijaz-4" data-tooltip-content="Paolo Furani">
						<img src="https://erikarow.land/avatars/774a4f082a07f7532f1fd9ea79684a7b?size=56" title="Paolo Furani" width="28" height="28"/>
					</a>
				
					<a href="https://erikarow.land/surfacionado" data-tooltip-content="jorg peters">
						<img src="https://erikarow.land/avatars/59370b4e223d99b3c99d4b6672ccd948?size=56" title="jorg peters" width="28" height="28"/>
					</a>
				
					<a href="https://erikarow.land/TimMann" data-tooltip-content="Tim Mann">
						<img src="https://erikarow.land/avatars/b3b236f4e8785e4c13f8bb5dd87c9d07?size=56" title="Tim Mann" width="28" height="28"/>
					</a>
				
					<a href="https://erikarow.land/HooglyBoogly" data-tooltip-content="Hans Goudey">
						<img src="https://erikarow.land/avatars/71b394733f953ceb8855b3ee3559e6f17b056e134eb350b50536cb11a3235ec3?size=56" title="Hans Goudey" width="28" height="28"/>
					</a>
				
					<a href="https://erikarow.land/lichtwerk" data-tooltip-content="Philipp Oeser">
						<img src="https://erikarow.land/avatars/67c6552e49f6f7b0c4490f7604dc86955181c3aee4155562bccd958a4f26e855?size=56" title="Philipp Oeser" width="28" height="28"/>
					</a>
				
					<a href="https://erikarow.land/persun" data-tooltip-content="Sun Kim">
						<img src="https://erikarow.land/avatars/14a2f4fa6d13307b3373862b88f7d1c7104e741d3cf362bf059b015562d39e30?size=56" title="Sun Kim" width="28" height="28"/>
					</a>
				
			</p>
		

		
			

			
		
		

		
		<p><span><strong>Due Date</strong></span></p><div id="deadline-loader">
			<div id="deadline-err-invalid-date">
				<svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"></path></svg><p>
				The due date is invalid or out of range. Please use the format &#39;yyyy-mm-dd&#39;.
			</p></div>
			
				<p>No due date set.</p>
			

			
		</div>

		
			

			

			
		

		
		<div>
			
			<p><span>Reference: blender/blender-addons#91180</span>
				
			</p>
		</div>

		

		
	</div>
</div>

</div>

<template id="issue-comment-editor-template">
	
</template>




<p><span>There is no content yet.</span>
</p>

<div>
	<div>
		<svg viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M11 1.75V3h2.25a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1 0-1.5H5V1.75C5 .784 5.784 0 6.75 0h2.5C10.216 0 11 .784 11 1.75ZM4.496 6.675l.66 6.6a.25.25 0 0 0 .249.225h5.19a.25.25 0 0 0 .249-.225l.66-6.6a.75.75 0 0 1 1.492.149l-.66 6.6A1.748 1.748 0 0 1 10.595 15h-5.19a1.75 1.75 0 0 1-1.741-1.575l-.66-6.6a.75.75 0 1 1 1.492-.15ZM6.5 1.75V3h3V1.75a.25.25 0 0 0-.25-.25h-2.5a.25.25 0 0 0-.25.25Z"></path></svg><p>
		Delete Branch &#34;%!s(&lt;nil&gt;)&#34;
	</p></div>
	<p>Deleting a branch is permanent. Although the deleted branch may exist for a short time before cleaning up, in most cases it CANNOT be undone. Continue?</p>
	


</div>

	</div></div>
  </body>
</html>
