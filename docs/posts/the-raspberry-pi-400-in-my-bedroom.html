<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://joeldare.com/private-analtyics-and-my-raspberry-pi-400.html">Original</a>
    <h1>The Raspberry Pi 400 in My Bedroom</h1>
    
    <div id="readability-page-1" class="page"><div>
      
      
      

      

<p>I wrote a privacy focused analytics program, embedded it on a handful of personal sites and hosted it on a Raspberry Pi 400 on a desk at home.</p>

<p><img src="https://joeldare.com/media/pi-stats-dashboard.jpg" alt="Raspberry Pi and Stats Dashboard"/></p>

<h2 id="the-dashboard">The Dashboard</h2>

<p>This is the fun part, so lets get it out of the way first. The dashboard is a web page with a set of tables showing impressions on various websites. It’s on a bright blue background with inset panels. It’s modeled after my nostalgia for the Renegade BBS I ran in my bedroom as a teen. Specifically, the waiting for caller screen.</p>

<h2 id="the-counter">The Counter</h2>

<p>The counter is a bit like an early internet page counter but it uses JavaScript instead of an image. If you have JS disabled, you’re simply not counted. If you’re a bot, who processes JS, I’m counting you anyway.</p>

<p>It logs the date, time, the URL you requested and nothing more. I don’t log your IP address, your browser type, your country, or anything else.</p>

<p>It takes just 30-seconds to install on a new site. I just drop the script tag on the page and it’s ready to go.</p>

<p>It’s a microservice that’s just 36 lines of code. I imagine it can handle quite a few of these tiny requests but I have no idea how many.</p>

<h2 id="the-database">The Database</h2>

<p>It’s backed by a simple SQLite database. Each impression is logged to the DB.</p>

<p>A separate service run’s a series of queries against the database. The dashboard calls this service to get it’s list of totals. It’s polling, grabbing the totals every hour or so.</p>

<h2 id="the-server">The Server</h2>

<p>It’s running on my desk on a simple Raspberry Pi 400. It’s got a full desktop environment and I’m running the dashboard in a full screen browser window. All self-contained. There’s nostalgia here too. My first computer was a TRS-80 CoCo that was a computer and keyboard in one gray box. The Pi 400 certainly has parallels to that machine.</p>

<p>I’m runny the Caddy web server because I wanted to give it a try. Nginx may be a bit more performant but Caddy’s ease of configuration lured me in. I struggled with it at first, but I’m pretty happy with it now.</p>

<p>I don’t have a static IP so I use Namecheap with dynamic DNS. It’s not a hardy solution but it’s mine. I can live with a bit of downtime now and then.</p>

<p><em>Written on October 20, 2022</em></p>


      
    </div></div>
  </body>
</html>
