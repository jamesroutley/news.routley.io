<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/">Original</a>
    <h1>Show HN: 3D printing giant things with a Python jigsaw generator</h1>
    
    <div id="readability-page-1" class="page"><div><div id="centre"><div id="hero"><picture><source onload="this.style.background=&#34;none&#34;" srcset="/blog/3d-printing-giant-things-with-jigsaw-generator/bed-17_hu44b41be395f83c9527170d0597ef0b13_122438_1160x500_fill_q85_bg666_h2_box_center_3.webp" type="image/webp"/><img alt="A panel split in 2" src="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/bed-17_hu44b41be395f83c9527170d0597ef0b13_122438_1398x500_fill_q90_bg666_box_center_3.jpg" onload="this.style.background=&#34;none&#34;"/></picture></div><p>I really like the idea of a fully automated pipeline<sup id="fnref:1"><a href="#fn:1" role="doc-noteref">1</a></sup> when I build anything – it’s highly satisfying to see a machine do all the work for you. Combine this with parametric design, and it makes iteration and customisation a breeze. My flagship example is my recent <a href="https://calbryant.uk/blog/speakers/">speaker project.</a></p><p>With the previous speaker project I was literally at the margins for the largest speaker I could comfortably make with my 3D printer – without significantly more work splitting up the design. I was looking to see what large format printers were out there – there are a handful but they’re expensive and possibly not as capable as what I have now.</p><p>Then I happened to watch a video where Richard from <a href="https://www.retrocollective.co.uk/" target="_blank" rel="noopener">RMC</a> 3D prints an <a href="https://www.youtube.com/watch?v=SONO6LTHuR8" target="_blank" rel="noopener">entire arcade machine</a> using a farm of relatively small printers. After creating the model, <sup id="fnref:2"><a href="#fn:2" role="doc-noteref">2</a></sup> he split it into macro layers, each of which where split into smaller parts that had a dovetail slot for assembly. It apparently worked really well.<sup id="fnref:3"><a href="#fn:3" role="doc-noteref">3</a></sup></p><figure><a href="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/machine.jpg" target="_blank"><picture><source onload="this.style.background=&#34;none&#34;" srcset="/blog/3d-printing-giant-things-with-jigsaw-generator/machine_hu7ff84e3b53c77de1700c82efc5f2d6cc_269557_240x240_fit_q85_h2_lanczos.webp, /blog/3d-printing-giant-things-with-jigsaw-generator/machine_hu7ff84e3b53c77de1700c82efc5f2d6cc_269557_480x480_fit_q85_h2_lanczos.webp 2x" type="image/webp"/><img alt="Richard assembling the arcade machine on RMC. Lots of colours, great use of spare filament. It&#39;s where I got the idea!" src="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/machine_hu7ff84e3b53c77de1700c82efc5f2d6cc_269557_240x240_fit_q90_lanczos.jpg" loading="lazy" height="124" onload="this.style.background=&#34;none&#34;" width="240"/></picture></a><figcaption>Richard assembling the arcade machine on RMC. Lots of colours, great use of spare filament. It&#39;s where I got the idea!</figcaption></figure><p><strong>What if I could automate this process?</strong></p><p>In the last article about speaker design I mention the possibility of floor-standing speakers, glossing over the fact that I’d have to segment the print. If I constrained the system to work on panel-type designs such as this speaker system, it would be quite straightforward to implement.</p><p>I already wrote a system to place the parts nested on individual beds; I decided to adapt that code to also be able to split up panels into a what is effectively a jigsaw. I could use dovetail joins to do this, allowing something that can be easily glued and requiring no extra parts like dowels.</p><p>If I got it right, it would divide the parts through complex geometry without a significant impact on the final finish.</p><h2 id="the-dovetail-profile">The dovetail profile</h2><p>Dovetail joins are a traditional way to join wood together. They’re generally used for strength, but also aesthetics. They can be manually cut, or made using a handheld router (using a jig) or CNC router.</p><p>The strength comes from the tightening/wedging effect when pulling the join apart. If the dovetail is tapered, the join can also tighten when it aligns too – this is highly desirable for gluing, as it means the glue will not be scraped away.</p><figure><a href="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/1280px-Finished_dovetail.jpg" target="_blank"><picture><source onload="this.style.background=&#34;none&#34;" srcset="/blog/3d-printing-giant-things-with-jigsaw-generator/1280px-Finished_dovetail_hu747bf50ca9daa6f77c0e5b8ae16cce78_119418_240x240_fit_q85_h2_lanczos.webp, /blog/3d-printing-giant-things-with-jigsaw-generator/1280px-Finished_dovetail_hu747bf50ca9daa6f77c0e5b8ae16cce78_119418_480x480_fit_q85_h2_lanczos.webp 2x" type="image/webp"/><img alt="Dovetail example (from wikipedia!)" src="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/1280px-Finished_dovetail_hu747bf50ca9daa6f77c0e5b8ae16cce78_119418_240x240_fit_q90_lanczos.jpg" loading="lazy" height="180" onload="this.style.background=&#34;none&#34;" width="240"/></picture></a><figcaption>Dovetail example (from wikipedia!)</figcaption></figure><p>I took a look at some dovetail implementations in OpenSCAD, but none had all the features I needed.</p><p>I desired an approach that would subtract plastic once such that we end up with a fully mated join straight away. In theory this would simplify the design such that the two parts don’t need 2 separate, complicated and overlapping negatives to subtract.</p><p>This calls for a thin “shell” type structure, like a zig-zagging ribbon; even better it should be tapered!</p><figure><a href="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-2020-45-32.png" target="_blank"><picture><source onload="this.style.background=&#34;none&#34;" srcset="/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-2020-45-32_hud2a5095a9f9c0916bbf8663d87156411_72554_854x480_fit_q85_h2_lanczos_3.webp, /blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-2020-45-32_hud2a5095a9f9c0916bbf8663d87156411_72554_1708x960_fit_q85_h2_lanczos_3.webp 2x" type="image/webp"/><img alt="Through the magic of anachronism, this is what I had in mind" src="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-2020-45-32_hud2a5095a9f9c0916bbf8663d87156411_72554_854x480_fit_q90_bgffffff_lanczos_3.jpg" loading="lazy" height="366" onload="this.style.background=&#34;none&#34;" width="854"/></picture></a><figcaption>Through the magic of anachronism, this is what I had in mind</figcaption></figure><p>OpenSCAD, being <a href="https://en.wikipedia.org/wiki/Constructive_solid_geometry" target="_blank" rel="noopener">CSG</a> based is not well suited to creating thin shells, so this can be a bit awkward to do.</p><h2 id="deriving-the-geometry">Deriving the geometry</h2><p>Here is the deconstruction of the dovetail profile, after a few iterations to remove artefacts and optimise.</p><p>Interestingly, step 8 was originally done as an intersection, but I found that it absolutely destroyed OpenSCAD performance. You’re talking one frame every few minutes instead of dozens per second!</p><figure><a href="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-41-43.png" target="_blank"><picture><source onload="this.style.background=&#34;none&#34;" srcset="/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-41-43_hua78f9bad5acdff96e52432891916ee69_38023_854x480_fit_q85_h2_lanczos_3.webp, /blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-41-43_hua78f9bad5acdff96e52432891916ee69_38023_1708x960_fit_q85_h2_lanczos_3.webp 2x" type="image/webp"/><img alt="Step 9: Iterate to join several together" src="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-41-43_hua78f9bad5acdff96e52432891916ee69_38023_854x480_fit_q90_bgffffff_lanczos_3.jpg" loading="lazy" height="201" onload="this.style.background=&#34;none&#34;" width="854"/></picture></a><figcaption>Step 9: Iterate to join several together</figcaption></figure><p>I didn’t remove the interfering edges at first – see the hanging artefacts screenshot later on. I was confused and thought it was a bug at first, until I examined the 3D tooth again.</p><figure><a href="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-42-00.png" target="_blank"><picture><source onload="this.style.background=&#34;none&#34;" srcset="/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-42-00_hue666869e072277a5304096b562bd0529_28655_854x480_fit_q85_h2_lanczos_3.webp, /blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-42-00_hue666869e072277a5304096b562bd0529_28655_1708x960_fit_q85_h2_lanczos_3.webp 2x" type="image/webp"/><img alt="Step 10: Subtract this from the work piece" src="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-42-00_hue666869e072277a5304096b562bd0529_28655_854x480_fit_q90_bgffffff_lanczos_3.jpg" loading="lazy" height="201" onload="this.style.background=&#34;none&#34;" width="854"/></picture></a><figcaption>Step 10: Subtract this from the work piece</figcaption></figure><figure><a href="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-41-52.png" target="_blank"><picture><source onload="this.style.background=&#34;none&#34;" srcset="/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-41-52_hua22aef69526da4a6eb8697da66e7b837_8788_854x480_fit_q85_h2_lanczos_3.webp, /blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-41-52_hua22aef69526da4a6eb8697da66e7b837_8788_1708x960_fit_q85_h2_lanczos_3.webp 2x" type="image/webp"/><img alt="Success! Note, the parts are not separable in OpenSCAD" src="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-41-52_hua22aef69526da4a6eb8697da66e7b837_8788_854x480_fit_q90_bgffffff_lanczos_3.jpg" loading="lazy" height="201" onload="this.style.background=&#34;none&#34;" width="854"/></picture></a><figcaption>Success! Note, the parts are not separable in OpenSCAD</figcaption></figure><p>Here’s the code that does exactly what you see above, complete with annotations to show what step corresponds to what. Only 68 lines!</p><div><div><div><div><table><tbody><tr><td><pre tabindex="0"><code><span> 1
</span><span> 2
</span><span> 3
</span><span> 4
</span><span> 5
</span><span> 6
</span><span> 7
</span><span> 8
</span><span> 9
</span><span>10
</span><span>11
</span><span>12
</span><span>13
</span><span>14
</span><span>15
</span><span>16
</span><span>17
</span><span>18
</span><span>19
</span><span>20
</span><span>21
</span><span>22
</span><span>23
</span><span>24
</span><span>25
</span><span>26
</span><span>27
</span><span>28
</span><span>29
</span><span>30
</span><span>31
</span><span>32
</span><span>33
</span><span>34
</span><span>35
</span><span>36
</span><span>37
</span><span>38
</span><span>39
</span><span>40
</span><span>41
</span><span>42
</span><span>43
</span><span>44
</span><span>45
</span><span>46
</span><span>47
</span><span>48
</span><span>49
</span><span>50
</span><span>51
</span><span>52
</span><span>53
</span><span>54
</span><span>55
</span><span>56
</span><span>57
</span><span>58
</span><span>59
</span><span>60
</span><span>61
</span><span>62
</span><span>63
</span><span>64
</span><span>65
</span><span>66
</span><span>67
</span><span>68
</span><span>69
</span><span>70
</span><span>71
</span><span>72
</span><span>73
</span><span>74
</span><span>75
</span><span>76
</span></code></pre></td><td><pre tabindex="0"><code data-lang=".scad"><span><span><span>height</span> <span>=</span> <span>20</span><span>;</span>
</span></span><span><span><span>size</span> <span>=</span> <span>height</span><span>/</span><span>4</span><span>;</span>
</span></span><span><span><span>ratio</span> <span>=</span> <span>1.4</span><span>;</span>
</span></span><span><span><span>rounding</span> <span>=</span> <span>size</span><span>/</span><span>5</span><span>;</span>
</span></span><span><span><span>gap</span> <span>=</span> <span>0.2</span><span>;</span>
</span></span><span><span>
</span></span><span><span><span>module</span> <span>tooth</span><span>()</span> <span>intersection</span><span>()</span> <span>{</span>
</span></span><span><span>    <span>$fn</span><span>=</span><span>160</span><span>;</span> 
</span></span><span><span>    <span>translate</span><span>([</span><span>0</span><span>,</span> <span>gap</span><span>/</span><span>2</span><span>])</span>
</span></span><span><span>    <span>// STEP 3: Quad offset
</span></span></span><span><span><span></span>    <span>// external
</span></span></span><span><span><span></span>    <span>offset</span><span>(</span><span>rounding</span><span>)</span> <span>offset</span><span>(</span><span>-</span><span>rounding</span><span>)</span>
</span></span><span><span>    <span>// internal
</span></span></span><span><span><span></span>    <span>offset</span><span>(</span><span>-</span><span>rounding</span><span>)</span> <span>offset</span><span>(</span><span>rounding</span><span>)</span>
</span></span><span><span>    <span>// adding rounding to sides to cancel radius when looping
</span></span></span><span><span><span></span>    <span>// STEP 1
</span></span></span><span><span><span></span>    <span>polygon</span><span>([</span>
</span></span><span><span>        <span>[</span><span>-</span><span>size</span> <span>-</span> <span>rounding</span><span>,</span> <span>-</span><span>size</span><span>/</span><span>2</span><span>],</span> <span>// left shoulder
</span></span></span><span><span><span></span>        <span>[</span><span>-</span><span>size</span><span>/</span><span>2</span>  <span>*</span> <span>(</span><span>2</span><span>-</span><span>ratio</span><span>),</span> <span>-</span><span>size</span><span>/</span><span>2</span><span>],</span> <span>// left neck
</span></span></span><span><span><span></span>        <span>// STEP 2 (ratio)
</span></span></span><span><span><span></span>        <span>[</span><span>-</span><span>size</span><span>*</span><span>ratio</span><span>/</span><span>2</span><span>,</span> <span>size</span><span>/</span><span>2</span><span>],</span> <span>// left ear
</span></span></span><span><span><span></span>        <span>[</span><span>size</span><span>*</span><span>ratio</span><span>/</span><span>2</span><span>,</span> <span>size</span><span>/</span><span>2</span><span>],</span> <span>// right ear
</span></span></span><span><span><span></span>        <span>[</span><span>size</span><span>/</span><span>2</span> <span>*</span> <span>(</span><span>2</span><span>-</span><span>ratio</span><span>),</span> <span>-</span><span>size</span><span>/</span><span>2</span><span>],</span> <span>// right neck
</span></span></span><span><span><span></span>
</span></span><span><span>        <span>[</span><span>size</span> <span>+</span> <span>rounding</span><span>,</span> <span>-</span><span>size</span><span>/</span><span>2</span><span>],</span> <span>// right shoulder
</span></span></span><span><span><span></span>        <span>[</span><span>size</span> <span>+</span> <span>rounding</span><span>,</span> <span>-</span><span>size</span><span>*</span><span>2</span><span>],</span> <span>// right bottom
</span></span></span><span><span><span></span>        <span>[</span><span>-</span><span>size</span> <span>-</span> <span>rounding</span><span>,</span> <span>-</span><span>size</span><span>*</span><span>2</span><span>],</span> <span>// left bottom
</span></span></span><span><span><span></span>    <span>]);</span> 
</span></span><span><span>
</span></span><span><span>    <span>// shave off the rounded bit of the shoulders
</span></span></span><span><span><span></span>    <span>translate</span><span>([</span><span>-</span><span>size</span><span>,</span> <span>-</span><span>size</span><span>*</span><span>4</span><span>])</span> <span>square</span><span>([</span><span>size</span><span>*</span><span>2</span><span>,</span> <span>size</span><span>*</span><span>5</span><span>]);</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span>
</span></span><span><span><span>module</span> <span>tooth_cut</span><span>()</span> <span>difference</span><span>()</span> <span>{</span>
</span></span><span><span>    <span>// STEP 4
</span></span></span><span><span><span></span>    <span>tooth</span><span>();</span>
</span></span><span><span>    <span>offset</span><span>(</span><span>-</span><span>gap</span><span>)</span> <span>tooth</span><span>();</span>
</span></span><span><span>    <span>// STEP 5
</span></span></span><span><span><span></span>    <span>translate</span><span>([</span><span>-</span><span>size</span><span>*</span><span>2</span><span>,</span> <span>-</span><span>size</span><span>*</span><span>5</span> <span>-</span> <span>size</span><span>/</span><span>2</span> <span>-</span> <span>gap</span><span>/</span><span>2</span><span>,</span> <span>0</span><span>])</span> <span>square</span><span>([</span><span>size</span><span>*</span><span>4</span><span>,</span> <span>size</span><span>*</span><span>5</span><span>]);</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span>
</span></span><span><span><span>// this is done in 3D rather than 2D to allow for a taper -- this way the fit
</span></span></span><span><span><span>// tightens as the teeth are pushed in, and the glue is squeezed instead of
</span></span></span><span><span><span>// scraped
</span></span></span><span><span><span></span> <span>module</span> <span>tooth_cut_3d</span><span>()</span> <span>difference</span><span>()</span> <span>{</span>
</span></span><span><span>    <span>translate</span><span>([</span><span>size</span><span>,</span> <span>0</span><span>,</span> <span>-</span><span>1</span><span>])</span>
</span></span><span><span>    <span>// STEP 6 &amp; 7
</span></span></span><span><span><span></span>    <span>linear_extrude</span><span>(</span><span>height</span><span>,</span> <span>scale</span><span>=</span><span>ratio</span><span>,</span> <span>convexity</span><span>=</span><span>3</span><span>)</span>
</span></span><span><span>    <span>tooth_cut</span><span>();</span>
</span></span><span><span>    <span>// STEP 8
</span></span></span><span><span><span></span>    <span>// difference is used to constrain the edges to prevent overlap
</span></span></span><span><span><span></span>    <span>// I tried intersection (to do it in one pass) but performance TANKED!
</span></span></span><span><span><span></span>    <span>translate</span><span>([</span><span>-</span><span>size</span><span>*</span><span>2</span><span>-</span><span>0.01</span><span>,</span><span>-</span><span>size</span><span>,</span> <span>-</span><span>1</span><span>])</span> <span>linear_extrude</span><span>(</span><span>height</span><span>+</span><span>2</span><span>)</span> <span>square</span><span>([</span><span>size</span><span>*</span><span>2</span><span>,</span> <span>size</span><span>*</span><span>2</span><span>]);</span>
</span></span><span><span>    <span>translate</span><span>([</span><span>size</span><span>*</span><span>2</span><span>+</span><span>0.01</span><span>,</span><span>-</span><span>size</span><span>,</span> <span>-</span><span>1</span><span>])</span> <span>linear_extrude</span><span>(</span><span>height</span><span>+</span><span>2</span><span>)</span> <span>square</span><span>([</span><span>size</span><span>*</span><span>2</span><span>,</span> <span>size</span><span>*</span><span>2</span><span>]);</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>// will get at least length
</span></span></span><span><span><span></span><span>module</span> <span>teeth_cut_3d</span><span>(</span><span>length</span><span>)</span> <span>{</span>
</span></span><span><span>    <span>n</span> <span>=</span> <span>ceil</span><span>(</span><span>length</span> <span>/</span> <span>(</span><span>size</span><span>*</span><span>2</span><span>))</span><span>+</span><span>2</span><span>;</span>
</span></span><span><span>    <span>real_length</span> <span>=</span> <span>n</span> <span>*</span> <span>size</span><span>*</span><span>2</span><span>;</span>
</span></span><span><span>
</span></span><span><span>    <span>// STEP 9
</span></span></span><span><span><span></span>    <span>for</span> <span>(</span><span>i</span><span>=</span><span>[</span><span>0</span><span>:</span><span>n</span><span>-</span><span>1</span><span>])</span>
</span></span><span><span>        <span>translate</span><span>([</span><span>i</span><span>*</span><span>size</span><span>*</span><span>2</span> <span>-</span> <span>real_length</span><span>/</span><span>2</span><span>,</span> <span>0</span><span>])</span> <span>tooth_cut_3d</span><span>();</span>
</span></span><span><span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>module</span> <span>dovetail_demo</span><span>()</span> <span>difference</span><span>()</span> <span>{</span>
</span></span><span><span>    <span>linear_extrude</span><span>(</span><span>18</span><span>)</span> <span>square</span><span>([</span><span>110</span><span>,</span> <span>60</span><span>],</span> <span>center</span><span>=</span><span>true</span><span>);</span>
</span></span><span><span>    <span>// STEP 10
</span></span></span><span><span><span></span>    <span>teeth_cut_3d</span><span>(</span><span>300</span><span>);</span>
</span></span><span><span><span>}</span>
</span></span><span><span>
</span></span><span><span><span>dovetail_demo</span><span>();</span>
</span></span></code></pre></td></tr></tbody></table></div></div><p><span>dovetail.scad</span> <a href="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/dovetail.scad" target="_blank">Download</a>Copy</p></div></div><h2 id="test-prints">Test prints</h2><p>I made several test prints to find what felt like the right set of parameters for the ratios described above. I settled on quite a small tooth, as it would reduce the size of any artefacts produced. Plus, the fit felt tighter.</p><p>In case you’re wondering, I found the 0.2mm interference fit that Richard used in the video worked best, leaving a bit of play and somewhere for the glue to go.</p><figure><a href="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-19%2020-18-28.png" target="_blank"><picture><source onload="this.style.background=&#34;none&#34;" srcset="/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-19%2020-18-28_hue8163f7f0d724a677934911cbe437506_14404_854x480_fit_q85_h2_lanczos_3.webp, /blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-19%2020-18-28_hue8163f7f0d724a677934911cbe437506_14404_1708x960_fit_q85_h2_lanczos_3.webp 2x" type="image/webp"/><img alt="Successful implementation after several iterations" src="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-19%2020-18-28_hue8163f7f0d724a677934911cbe437506_14404_854x480_fit_q90_bgffffff_lanczos_3.jpg" loading="lazy" height="480" onload="this.style.background=&#34;none&#34;" width="801"/></picture></a><figcaption>Successful implementation after several iterations</figcaption></figure><p>Performance was kept in check by limiting the number of faces (<code>$fn=16</code>) in the tooth code. This was a good compromise, smooth enough and reduces stress concentration sufficiently.<sup id="fnref:4"><a href="#fn:4" role="doc-noteref">4</a></sup></p><figure><a href="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-45-01.png" target="_blank"><picture><source onload="this.style.background=&#34;none&#34;" srcset="/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-45-01_hue5f10e153626d5bb5b4095d7be384e2f_51443_854x480_fit_q85_h2_lanczos_3.webp, /blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-45-01_hue5f10e153626d5bb5b4095d7be384e2f_51443_1708x960_fit_q85_h2_lanczos_3.webp 2x" type="image/webp"/><img alt="Z fighting (sparkles)" src="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-20%2021-45-01_hue5f10e153626d5bb5b4095d7be384e2f_51443_854x480_fit_q90_bgffffff_lanczos_3.jpg" loading="lazy" height="446" onload="this.style.background=&#34;none&#34;" width="854"/></picture></a><figcaption>Z fighting (sparkles)</figcaption></figure><p>I am a little concerned about the <a href="https://en.wikipedia.org/wiki/Z-fighting" target="_blank" rel="noopener">Z-fighting</a> hat occurs when the parts are joined. Usually I make sure the parts intersect a little to avoid this. It looks fine, I’ll just hope I don’t have any manifolding issues later on for now.</p><h3 id="edge-artefacts">Edge artefacts</h3><p>Sometimes the top part of a tapered tooth can be suspended in mid-air – this occurs when a boundary occurs at a tooth edge. This is a problem as it will cause spaghetti when printing, not to mention missing chunks in the final design.</p><figure><a href="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-2020-35-43.png" target="_blank"><picture><source onload="this.style.background=&#34;none&#34;" srcset="/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-2020-35-43_hu1e64fc6794f8612664e91376595638c9_39380_854x480_fit_q85_h2_lanczos_3.webp, /blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-2020-35-43_hu1e64fc6794f8612664e91376595638c9_39380_1708x960_fit_q85_h2_lanczos_3.webp 2x" type="image/webp"/><img alt="Close up of hanging artefacts together with the scaled edges interfering (fixed since)" src="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/Screenshot%20from%202025-01-2020-35-43_hu1e64fc6794f8612664e91376595638c9_39380_854x480_fit_q90_bgffffff_lanczos_3.jpg" loading="lazy" height="436" onload="this.style.background=&#34;none&#34;" width="854"/></picture></a><figcaption>Close up of hanging artefacts together with the scaled edges interfering (fixed since)</figcaption></figure><p>I realised I could at least detect and remove these artefacts in the (post-processing)<sup id="fnref:5"><a href="#fn:5" role="doc-noteref">5</a></sup> code by looking for independent tiny fragments that aren’t touching the bed. I can at least then prevent the spaghetti; there will still be a hole in the design but I presume most of the time that can be addressed in the finishing step.</p><h2 id="automatically-splitting-up-stls">Automatically splitting up STLs</h2><p>Now that I had geometry to create the joins in-place, I needed to automate the process so I can cut up an <a href="https://www.xkcd.com/974/" target="_blank" rel="noopener">arbitrary</a> design to fit on a given printer.</p><p>As I’ve mentioned, this only has to work on panels<sup id="fnref:6"><a href="#fn:6" role="doc-noteref">6</a></sup> so I have the luxury of only having to operate in 2D and assume the parts are mainly flat and rectangular.</p><p>To automate it, I figured it would be far easier to do this (mostly) outside of OpenSCAD and operate on <a href="https://en.wikipedia.org/wiki/STL_(file_format)" target="_blank" rel="noopener">STLs</a> directly. That way this system will work on 3D printed models from any CAD software.</p><p>I have already developed some part nesting software using <a href="https://github.com/secnot/rectpack" target="_blank" rel="noopener">rectpack</a> and <a href="https://pypi.org/project/numpy-stl/" target="_blank" rel="noopener">numpy-stl</a>, so I decided to use that as a base.</p><p>The resulting code is straightforward. Here’s how it works:</p><ol><li>Load the STL file and find the bounding box of the model</li><li>Rotate it so the aspect ratio matches the bed of the printer (and optionally, so the design is at its longest along the same axis as the printer bed)</li><li>Calculate how m any sub-divisions are necessary on each axis to produce parts that will fit on the bed (margin of tooth size required)</li><li>Execute an OpenSCAD template that will subtract the dovetail teeth from the model, translating the STL so each cut is in the right place</li><li>Split those STLs into separate files with <code>slic3r</code> cli</li><li>Remove any edge artefacts by looking for small objects</li></ol><h2 id="results">Results</h2><p>I refactored by nesting code to allow adding the dovetail splitting code without causing a mess. After a lot of debugging I ran the code, only to be disappointed! It took 4 hours to run per operation, only to fail with these errors:</p><ul><li><code>ERROR: CGAL error in CGALUtils::applyBinaryOperator difference: CGAL ERROR: assertion violation!</code></li><li><code>ERROR: The given mesh is not closed! Unable to convert to CGAL_Nef_Polyhedron</code></li></ul><p>OpenSCAD uses the <a href="https://www.cgal.org/" target="_blank" rel="noopener">CGAL</a> library which is notoriously slow, and it can produce non-manifold meshes. The speaker design I made produces <a href="https://blender.stackexchange.com/questions/7910/what-is-non-manifold-geometry" target="_blank" rel="noopener">non-manifold</a> STLs – I think they have holes in due to some OpenSCAD implementation issues, or something with my code.</p><p>Those errors above are likely to be caused by these non-manifold edges. What could I do? I didn’t want to get this far only to abandon the project. Luckily, recently OpenSCAD has integrated a new geometry library called <a href="https://github.com/elalish/manifold" target="_blank" rel="noopener">manifold</a><sup id="fnref:7"><a href="#fn:7" role="doc-noteref">7</a></sup> which is apparently several orders of magnitude faster and more robust.</p><p>I tried this using an unstable version of OpenSCAD with the <code>--backend=manifold</code> flag, and it worked! Not only did it work, but it computed the design in <strong>223ms!</strong> This is 64500x improvement (and it works).</p><p>I should try manifold with the rest of the design. Manifold seems to use more memory and is multi-threaded, so I’d have to modify my build scripts which currently build 16 parts at once – last time I tried it overwhelmed the system.</p><p>Anyway, after an evening of more hacking I got it properly integrated and behaving as expected. Here’s <a href="https://calbryant.uk/blog/speakers/">the previous speaker design</a> with a bed size reduced to 200x200 – this means it could be printed on a Prusa i3!<sup id="fnref:8"><a href="#fn:8" role="doc-noteref">8</a></sup></p><figure><a href="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/exploded.png" target="_blank"><picture><source onload="this.style.background=&#34;none&#34;" srcset="/blog/3d-printing-giant-things-with-jigsaw-generator/exploded_hubbefd18749a3a8ade3c44a984e4881b8_102750_854x480_fit_q85_h2_lanczos_3.webp, /blog/3d-printing-giant-things-with-jigsaw-generator/exploded_hubbefd18749a3a8ade3c44a984e4881b8_102750_1708x960_fit_q85_h2_lanczos_3.webp 2x" type="image/webp"/><img alt="The original design, so you can imagine how the parts assemble." src="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/exploded_hubbefd18749a3a8ade3c44a984e4881b8_102750_854x480_fit_q90_bgffffff_lanczos_3.jpg" loading="lazy" height="480" onload="this.style.background=&#34;none&#34;" width="363"/></picture></a><figcaption>The original design, so you can imagine how the parts assemble.</figcaption></figure><p>It seems to have worked exceptionally well. I like how the nesting algorithm has placed the split parts together as well to reduce required beds. This will decrease total printing time and effort. In one case (bed 17) the part did not fit in one bed, but was split so it could be.</p><figure><a href="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/tooth.png" target="_blank"><picture><source onload="this.style.background=&#34;none&#34;" srcset="/blog/3d-printing-giant-things-with-jigsaw-generator/tooth_huceb226d99db8ee78c9d3355e07c9ccf8_98669_854x480_fit_q85_h2_lanczos_3.webp, /blog/3d-printing-giant-things-with-jigsaw-generator/tooth_huceb226d99db8ee78c9d3355e07c9ccf8_98669_1708x960_fit_q85_h2_lanczos_3.webp 2x" type="image/webp"/><img alt="Worryingly thin tooth that could cause print issues" src="https://calbryant.uk/blog/3d-printing-giant-things-with-jigsaw-generator/tooth_huceb226d99db8ee78c9d3355e07c9ccf8_98669_854x480_fit_q90_bgffffff_lanczos_3.jpg" loading="lazy" height="480" onload="this.style.background=&#34;none&#34;" width="688"/></picture></a><figcaption>Worryingly thin tooth that could cause print issues</figcaption></figure><p>Looking at the corners, it seems quite common for the above to occur. As we know where the intersections of dovetail joins are, we could skip teeth to avoid the issue. That’s for another day though.</p><p>I’ve linked the code above. It expects <code>slic3r</code>, <code>rectpack</code>, <code>openscad-nightly</code> and <code>numpy-stl</code>, as well as the dovetail.scad to be in <code>lib/</code>. I hacked it from 2 files, so it might need a few fixes to work.</p><h2 id="conclusion">Conclusion</h2><p>The chosen profile is self-aligning, and increases the surface area for glue to bond. It’s easy to align against a straight edge if a silicone mat is used to prevent the glue from sticking to things it shouldn’t.</p><p>This has successfully unlocked a floor-standing speaker design using this method in the near future, after validating the design and experimenting with different adhesives and finishes.<sup id="fnref:9"><a href="#fn:9" role="doc-noteref">9</a></sup> Or, perhaps I will repackage my small MDF subwoofer I built a few years ago.</p><p>I could have implemented this as part of the speaker design with about 12 special cases. This way I could also avoid edge artefacts and more carefully place the joins to avoid detailed geometry. However, this is less transferable to other designs and less elegant in my opinion.</p><p>With some improvements, I could have the best of both worlds:</p><ul><li>Give it the ability to vary the part division location to avoid complex geometry for the best part finish. This would involve evaluating potential cross-sections of the model for complexity; a simple heuristic of the number of faces in a given cross section would be a good start.</li><li>Do the same to try to avoid big gaps (for the brace, for instance)</li><li>Skip teeth where joins intersect as mentioned above</li><li>Skip teeth near voids/edges</li></ul><p>To do this, and possibly to replace the use of numpy-stl and/or OpenSCAD, I could look into <a href="https://trimsh.org" target="_blank" rel="noopener">trimesh</a> which can do a lot more.</p><p>I’m confident the assembled parts will allow for a flawless finish if filled and sanded, given my experience with the last project.</p><p>I have made the code available linked to this post for the time being – I will happily package this up properly if there’s significant interest. I’m curious as to what other people could do with the idea or variant thereof.</p><div role="doc-endnotes"><hr/><ol><li id="fn:1"><p>…because I’m a coder at heart <a href="#fnref:1" role="doc-backlink">↩︎</a></p></li><li id="fn:2"><p>derived from an imperfect scanned reference. Impressive. <a href="#fnref:2" role="doc-backlink">↩︎</a></p></li><li id="fn:3"><p>The video doesn’t do justice to the monumental amount of work this represents. <a href="#fnref:3" role="doc-backlink">↩︎</a></p></li><li id="fn:4"><p>I imagine! <a href="#fnref:4" role="doc-backlink">↩︎</a></p></li><li id="fn:5"><p>“We’ll fix it in post!” <a href="#fnref:5" role="doc-backlink">↩︎</a></p></li><li id="fn:6"><p>OK so technically it’s not arbitrary, but it’s a good word! I had to get that XKCD reference in there somewhere. <a href="#fnref:6" role="doc-backlink">↩︎</a></p></li><li id="fn:7"><p>Thanks to Olivier Chafik <a href="https://ochafik.com/" target="_blank" rel="noopener">https://ochafik.com/</a> and others. <a href="#fnref:7" role="doc-backlink">↩︎</a></p></li><li id="fn:8"><p>Of course you could go the other way and print something giant on my 256x256 X1C bed, but then I’d be doing the title justice! <a href="#fnref:8" role="doc-backlink">↩︎</a></p></li><li id="fn:9"><p>I had assumed I’d want to mill the next speaker, but my last project was such as success I will happily take the advantages! <a href="#fnref:9" role="doc-backlink">↩︎</a></p></li></ol></div><hr/><hr/><p>Thanks for reading! If you have comments or like this article, please post or upvote it on <a href="https://news.ycombinator.com/" target="_blank" rel="noopener">Hacker news</a>, <a href="https://twitter.com/" target="_blank" rel="noopener">Twitter</a>, <a href="https://hackaday.com/" target="_blank" rel="noopener">Hackaday</a>, <a href="https://lobste.rs" target="_blank" rel="noopener">Lobste.rs</a>, <a href="https://reddit.com/" target="_blank" rel="noopener">Reddit</a> and/or <a href="https://linkedin.com/" target="_blank" rel="noopener">LinkedIn.</a></p><p>Please <a href="https://calbryant.uk/cdn-cgi/l/email-protection#1d7e7c71717c73337f6f647c73695d7a707c7471337e7270">email me</a> with any corrections or feedback.</p></div></div></div>
  </body>
</html>
