<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/aspen-cloud/triplit">Original</a>
    <h1>Show HN: Triplit â€“ Open-source syncing database that runs on server and client</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text"><p dir="auto"><a target="_blank" rel="noopener noreferrer nofollow" href="https://camo.githubusercontent.com/fb93d6db5185980771c4cf6643133714789c20fd55f58750acc63ddf11b81233/68747470733a2f2f7777772e747269706c69742e6465762f6f70656e67726170682d696d6167652e706e67"><img src="https://camo.githubusercontent.com/fb93d6db5185980771c4cf6643133714789c20fd55f58750acc63ddf11b81233/68747470733a2f2f7777772e747269706c69742e6465762f6f70656e67726170682d696d6167652e706e67" alt="Triplit banner" data-canonical-src="https://www.triplit.dev/opengraph-image.png"/></a></p>

<p dir="auto"><a href="https://www.triplit.dev" rel="nofollow">Triplit</a> is an open-source database that syncs data between server and browser in real-time.</p>
<p dir="auto">Triplit provides a real-time syncing datastore that you can drop into your app as a Typescript package. Triplit handles storing your data on the server and intelligently syncs your queries to your clients. <strong>We call this type of system a â€œfull stack databaseâ€</strong>â€”you can watch our presentation to the <a href="https://localfirstweb.dev/" rel="nofollow">Local First community</a> on this new paradigm <a href="https://www.youtube.com/watch?v=SEB-hF1F-UU&amp;t=1465s" rel="nofollow">here</a>.</p>
<p dir="auto">Triplit brings together:</p>
<p dir="auto">ğŸ”„Â <strong>Real-time sync</strong> with incremental updates and conflict resolution at the property level</p>
<p dir="auto">ğŸ  <strong>Local caching</strong> powered by a full-fledged client-side database</p>
<p dir="auto">ğŸ’½ <strong>Durable server-side storage</strong> with an admin dashboard</p>
<p dir="auto">ğŸ”Œ <strong>Pluggable storage providers</strong> like SQLite, IndexedDB, LevelDB, Memory, etc</p>
<p dir="auto">ğŸ˜ƒ <strong>Optimistic updates</strong> to make every interaction feel fast</p>
<p dir="auto">ğŸ”—Â <strong>Relational querying</strong> for complex data models</p>
<p dir="auto">ğŸ›«Â <strong>Offline-mode</strong> with automatic reconnection and consistency guarantees</p>
<p dir="auto">ğŸ”™ <strong>Rollback and retry management</strong> on failed updates</p>
<p dir="auto">ğŸ—‚ï¸Â <strong>Schemas</strong> for data safety and Typescript autocompletion</p>
<p dir="auto">ğŸ”Â <strong>Authorization</strong> that&#39;s enforced on the server for both read and writes</p>
<p dir="auto">ğŸ¤Â <strong>Collaboration/Multiplayer</strong> powered by <a href="https://en.wikipedia.org/wiki/Conflict-free_replicated_data_type" rel="nofollow">CRDTs</a></p>
<p dir="auto">ğŸï¸ <strong>Low latency</strong> with minimal network traffic using delta patches</p>
<p dir="auto">ğŸ“ <strong>Simple API</strong> for querying and mutating data in both vanilla Javascript and React</p>
<p dir="auto">âœ…Â <strong>Fully open-source!</strong></p>

<p dir="auto">In <code>triplit/packages</code> you can find the various projects that power Triplit:</p>
<ul dir="auto">
<li><a href="https://github.com/aspen-cloud/triplit/tree/main/packages/db">TriplitDB</a> - Designed to run in any JS environment (browser, node, deno, React Native, etc) and provide expressive, fast, and live updating queries while maintaining consistency with many writers over a network.</li>
<li><a href="https://github.com/aspen-cloud/triplit/tree/main/packages/client">Client</a> - Browser library to interact with local and remote TriplitDBs.</li>
<li><a href="https://github.com/aspen-cloud/triplit/tree/main/packages/cli">CLI</a> - CLI tool with commands to scaffold a project, run the full-stack development environment, migrate a server, and more.</li>
<li><a href="https://github.com/aspen-cloud/triplit/tree/main/packages/react">React</a> - React bindings for @triplit/client.</li>
<li><a href="https://github.com/aspen-cloud/triplit/tree/main/packages/svelte">Svelte</a> - Svelte bindings for @triplit/client.</li>
<li><a href="https://github.com/aspen-cloud/triplit/tree/main/packages/console">Console</a> - App for viewing and mutating data in Triplit projects and managing their schemas.</li>
<li><a href="https://github.com/aspen-cloud/triplit/tree/main/packages/server">Server</a> - Node server for syncing data between Triplit clients.</li>
<li><a href="https://github.com/aspen-cloud/triplit/tree/main/packages/server-core">Server-core</a> - Protocol agnostic library for building servers running Triplit.</li>
<li><a href="https://github.com/aspen-cloud/triplit/tree/main/packages/docs">Docs</a> - Triplit docs, built with Nextra.</li>
<li><a href="https://github.com/aspen-cloud/triplit/tree/main/packages/types">Types</a> - Shared types for various Triplit projects.</li>
<li><a href="https://github.com/aspen-cloud/triplit/tree/main/packages/ui">UI</a> - Shared UI components for Triplit frontend projects, built with <a href="https://ui.shadcn.com/" rel="nofollow">shadcn</a>.</li>
</ul>

<p dir="auto">Start a new project.</p>
<div dir="auto" data-snippet-clipboard-copy-content="npm create triplit-app@latest my-app"><pre>npm create triplit-app@latest my-app</pre></div>
<p dir="auto">Or add the dependencies to an existing project.</p>
<div dir="auto" data-snippet-clipboard-copy-content="npm install --save-dev @triplit/cli
npm run triplit init"><pre>npm install --save-dev @triplit/cli
npm run triplit init</pre></div>
<p dir="auto">Define a <a href="https://www.triplit.dev/docs/schemas" rel="nofollow">schema</a> in <code>my-app/triplit/schema.ts</code>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="import { Schema as S, ClientSchema } from &#39;@triplit/client&#39;;

export const schema = {
  todos: {
    schema: S.Schema({
      id: S.Id(),
      text: S.String(),
      completed: S.Boolean({ default: false }),
    }),
  },
} satisfies ClientSchema;"><pre><span>import</span> <span>{</span> <span>Schema</span> <span>as</span> <span>S</span><span>,</span> <span>ClientSchema</span> <span>}</span> <span>from</span> <span>&#39;@triplit/client&#39;</span><span>;</span>

<span>export</span> <span>const</span> <span>schema</span> <span>=</span> <span>{</span>
  <span>todos</span>: <span>{</span>
    <span>schema</span>: <span>S</span><span>.</span><span>Schema</span><span>(</span><span>{</span>
      <span>id</span>: <span>S</span><span>.</span><span>Id</span><span>(</span><span>)</span><span>,</span>
      <span>text</span>: <span>S</span><span>.</span><span>String</span><span>(</span><span>)</span><span>,</span>
      <span>completed</span>: <span>S</span><span>.</span><span>Boolean</span><span>(</span><span>{</span> <span>default</span>: <span>false</span> <span>}</span><span>)</span><span>,</span>
    <span>}</span><span>)</span><span>,</span>
  <span>}</span><span>,</span>
<span>}</span> <span>satisfies</span> <span>ClientSchema</span><span>;</span></pre></div>
<p dir="auto">Start the Triplit development <a href="https://www.triplit.dev/docs/local-development" rel="nofollow">sync server</a>.</p>

<p dir="auto">This will output some important <a href="https://www.triplit.dev/docs/local-development#additional-environment-variables" rel="nofollow">environmental variables</a> that your app will need to sync with the server. Add them to your <code>.env</code> file (Vite example below).</p>
<div dir="auto" data-snippet-clipboard-copy-content="VITE_TRIPLIT_SERVER_URL=http://localhost:6543
VITE_TRIPLIT_TOKEN=copied-in-from-triplit-dev"><pre>VITE_TRIPLIT_SERVER_URL=http://localhost:6543
VITE_TRIPLIT_TOKEN=copied-in-from-triplit-dev</pre></div>
<p dir="auto">Define a <a href="https://www.triplit.dev/docs/client/query" rel="nofollow">query</a> in your App (React example below).</p>
<div dir="auto" data-snippet-clipboard-copy-content="import { TriplitClient } from &#39;@triplit/client&#39;;
import { useQuery } from &#39;@triplit/react&#39;;
import { schema } from &#39;../triplit/schema&#39;;

const client = new TriplitClient({
  schema,
  serverUrl: import.meta.env.VITE_TRIPLIT_SERVER_URL,
  token: import.meta.env.VITE_TRIPLIT_TOKEN,
});

function App() {
  const { results: todos } = useQuery(client.query(&#39;todos&#39;));

  return (
    &lt;div&gt;
      {Array.from(todos.values()).map((todo) =&gt; (
        &lt;div key={todo.id}&gt;
          &lt;input
            type=&#34;checkbox&#34;
            checked={todo.completed}
            onChange={() =&gt;
              client.update(&#39;todos&#39;, todo.id, (todo) =&gt; ({
                todo.completed = !todo.completed,
              })
            }
          /&gt;
          {todo.text}
        &lt;/div&gt;
      ))}
    &lt;/div&gt;
  );
}"><pre><span>import</span> <span>{</span> <span>TriplitClient</span> <span>}</span> <span>from</span> <span>&#39;@triplit/client&#39;</span><span>;</span>
<span>import</span> <span>{</span> <span>useQuery</span> <span>}</span> <span>from</span> <span>&#39;@triplit/react&#39;</span><span>;</span>
<span>import</span> <span>{</span> <span>schema</span> <span>}</span> <span>from</span> <span>&#39;../triplit/schema&#39;</span><span>;</span>

<span>const</span> <span>client</span> <span>=</span> <span>new</span> <span>TriplitClient</span><span>(</span><span>{</span>
  schema<span>,</span>
  <span>serverUrl</span>: <span>import</span><span>.</span><span>meta</span><span>.</span><span>env</span><span>.</span><span>VITE_TRIPLIT_SERVER_URL</span><span>,</span>
  <span>token</span>: <span>import</span><span>.</span><span>meta</span><span>.</span><span>env</span><span>.</span><span>VITE_TRIPLIT_TOKEN</span><span>,</span>
<span>}</span><span>)</span><span>;</span>

<span>function</span> <span>App</span><span>(</span><span>)</span> <span>{</span>
  <span>const</span> <span>{</span> <span>results</span>: <span>todos</span> <span>}</span> <span>=</span> <span>useQuery</span><span>(</span><span>client</span><span>.</span><span>query</span><span>(</span><span>&#39;todos&#39;</span><span>)</span><span>)</span><span>;</span>

  <span>return</span> <span>(</span>
    <span>&lt;</span><span>div</span><span>&gt;</span>
      <span>{</span><span>Array</span><span>.</span><span>from</span><span>(</span><span>todos</span><span>.</span><span>values</span><span>(</span><span>)</span><span>)</span><span>.</span><span>map</span><span>(</span><span>(</span><span>todo</span><span>)</span> <span>=&gt;</span> <span>(</span>
        <span>&lt;</span><span>div</span> <span>key</span><span>=</span><span>{</span><span>todo</span><span>.</span><span>id</span><span>}</span><span>&gt;</span>
          <span>&lt;</span><span>input</span>
            <span>type</span><span>=</span><span>&#34;checkbox&#34;</span>
            <span>checked</span><span>=</span><span>{</span><span>todo</span><span>.</span><span>completed</span><span>}</span>
            <span>onChange</span><span>=</span><span>{</span><span>(</span><span>)</span> <span>=&gt;</span>
              <span>client</span><span>.</span><span>update</span><span>(</span><span>&#39;todos&#39;</span><span>,</span> <span>todo</span><span>.</span><span>id</span><span>,</span> <span>(</span><span>todo</span><span>)</span> <span>=&gt;</span> <span>(</span><span>{</span>
                todo<span></span><span>.</span><span>completed</span> <span>=</span> <span>!</span><span>todo</span><span>.</span><span>completed</span><span>,</span>
              <span>}</span><span>)</span>
            <span>}</span>
          <span>/</span>&gt;
          <span>{</span><span>todo</span><span>.</span><span>text</span><span>}</span>
        <span>&lt;</span><span>/</span><span>div</span><span>&gt;</span>
      <span>)</span><span>)</span><span>}</span><span></span>
    <span>&lt;</span><span>/</span><span>div</span><span>&gt;</span>
  );
<span>}</span></pre></div>
<p dir="auto">Start your app, open another browser tab, and watch the data sync in real-time.</p>
<p dir="auto">Read the full getting started guide <a href="https://www.triplit.dev/docs/getting-started" rel="nofollow">here</a>. For an even more detailed and explanatory tutorial, check out this step-by-step guide to <a href="https://www.triplit.dev/docs/react-tutorial" rel="nofollow">building a real-time todo app with Triplit, Vite, and React</a>.</p>

<p dir="auto">If you&#39;re interested in getting early access to Triplit Cloud (currently in developer preview), sign up <a href="https://www.triplit.dev/waitlist" rel="nofollow">here</a> to join the waitlist.</p>
<p dir="auto">The best way to get in touch is to join our <a href="https://discord.gg/q89sGWHqQ5" rel="nofollow">Discord</a>! We&#39;re here to answer questions, help developers get started with Triplit and preview new features.</p>
<p dir="auto">You can follow us on <a href="https://twitter.com/triplit_dev" rel="nofollow">Twitter/X</a> to see our latest announcements.</p>
</article></div></div>
  </body>
</html>
