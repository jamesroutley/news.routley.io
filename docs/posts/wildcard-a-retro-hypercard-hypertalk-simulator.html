<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://hypervariety.com/WildCard/">Original</a>
    
    <div id="readability-page-1" class="page"><div><td colspan="2">
		
		
		<!--details open><summary>Script Reference</summary!-->
		<table id="reference">
			
			<!--tr class=bold><td colspan=2>Message box</td></tr!-->
			<tbody><tr id="messagetr"><td colspan="2">
				<modal-dialog id="message-box" name="Message Box" x="1" y="1" visible="true">
				</modal-dialog>
			</td></tr>
		
			<tr><td>Wildcard script</td><td>—&gt; JavaScript</td></tr>
			<tr><td>on &lt;handler&gt; &lt;parameterList&gt;</td><td>function &lt;handler&gt;(&lt;parameterList&gt;) {</td></tr>
			<tr><td colspan="2">    [ &lt;command&gt; | &lt;statement&gt; ]*</td><td></td></tr>
			<tr><td>end &lt;handler&gt; </td><td>}</td></tr>
			
			<tr><td>&lt;command&gt;</td><td></td></tr>
			<tr><td>if &lt;expression&gt; then</td><td>if (&lt;expression&gt;) {</td></tr>
			<tr><td>else</td><td>} else {</td></tr>
			<tr><td>end if</td><td>}</td></tr>
			<tr><td>return &lt;expression&gt;</td><td>return &lt;expression&gt;;</td></tr>
			
			<tr><td>&lt;statement&gt;</td><td></td></tr>
			<tr><td>get &lt;expression&gt;</td><td>_.it = &lt;expression&gt;;</td></tr>
			<tr><td>put &lt;expression&gt; into &lt;variable&gt;</td><td>_.&lt;variable&gt; = &lt;expression&gt;;</td></tr>
			<tr><td>answer &lt;expression&gt;</td><td>alert(&lt;expression&gt;);</td></tr>
			<tr><td>ask &lt;expression&gt; with &lt;expression&gt;</td><td>prompt(&lt;expression&gt;,&lt;expression&gt;);</td></tr>
			<tr><td>ask &lt;expression&gt;</td><td>confirm(&lt;expression&gt;);</td></tr>
			<tr><td>set [the] &lt;property&gt; of &lt;part&gt; to &lt;expression&gt;</td><td>&lt;part&gt;.&lt;property&gt; = &lt;expression&gt;;</td></tr>
			<tr><td>send &lt;message&gt; &lt;expressionList&gt; to &lt;part&gt;</td><td>Script.Send(&lt;part&gt;,&lt;message&gt;,&lt;expressionList&gt;);</td></tr>
			<tr><td>&lt;message&gt; &lt;expressionList&gt;</td><td>(this.&lt;message&gt;)(&lt;expressionList&gt;);</td></tr>
			
			<tr><td>&lt;expression&gt;</td><td></td></tr>
			<tr><td>&lt;expression&gt; or &lt;expression&gt;</td><td>boolean(&lt;expression&gt;) || boolean(&lt;expression&gt;)</td></tr>
			<tr><td>&lt;expression&gt; and &lt;expression&gt;</td><td>boolean(&lt;expression&gt;) &amp;&amp; boolean(&lt;expression&gt;)</td></tr>
			<tr><td>&lt;expression&gt; [ is | equals | = ]! &lt;expression&gt;</td><td>&lt;expression&gt; == &lt;expression&gt;</td></tr>
			<tr><td>| &lt;expression&gt; [ is not | ≠ | &lt;&gt; ]! &lt;expression&gt;</td><td>&lt;expression&gt; != &lt;expression&gt;</td></tr>
			<tr><td>&lt;expression&gt; [ &lt; | is less than ]! &lt;expression&gt;</td><td>number(&lt;expression&gt;) &lt; number(&lt;expression&gt;)</td></tr>
			<tr><td>| &lt;expression&gt; [ &gt; | is more than ]! &lt;expression&gt;</td><td>number(&lt;expression&gt;) &gt; number(&lt;expression&gt;)</td></tr>
			<tr><td>| &lt;expression&gt; [ &lt;= | is less [than] or equal to ]! &lt;expression&gt;</td><td>number(&lt;expression&gt;) &lt;= number(&lt;expression&gt;)</td></tr>
			<tr><td>| &lt;expression&gt; [ &gt;= | is more [than] or equal to ]! &lt;expression&gt;</td><td>number(&lt;expression&gt;) &gt;= number(&lt;expression&gt;)</td></tr>
			<tr><td>&lt;expression&gt; &amp; &lt;expression&gt;</td><td>Array(&lt;expression&gt;,&lt;expression&gt;).join(&#39;&#39;)</td></tr>
			<tr><td>| &lt;expression&gt; &amp;&amp; &lt;expression&gt;</td><td>Array(&lt;expression&gt;,&lt;expression&gt;).join(&#39; &#39;)</td></tr>
			<tr><td>&lt;expression&gt; [ plus | + ]! &lt;expression&gt;</td><td>number(&lt;expression&gt;)+number(&lt;expression&gt;)</td></tr>
			<tr><td>| &lt;expression&gt; [ minus | - ]! &lt;expression&gt;</td><td>number(&lt;expression&gt;)-number(&lt;expression&gt;)</td></tr>
			<tr><td>&lt;expression&gt; [ times | * ]! &lt;expression&gt;</td><td>number(&lt;expression&gt;)*number(&lt;expression&gt;)</td></tr>
			<tr><td>| &lt;expression&gt; [ divided by | / ]! &lt;expression&gt;</td><td>number(&lt;expression&gt;)/number(&lt;expression&gt;)</td></tr>
			<tr><td>| &lt;expression&gt; div &lt;expression&gt;</td><td>Math.floor(number(&lt;expression&gt;)/number(&lt;expression&gt;))</td></tr>
			<tr><td>| &lt;expression&gt; mod &lt;expression&gt;</td><td>number(&lt;expression&gt;) % number(&lt;expression&gt;)</td></tr>
			<tr><td>&lt;factor&gt;^&lt;expression&gt;</td><td>Math.pow(&lt;factor&gt;, &lt;expression&gt;)</td></tr>
			<tr><td>&lt;factor&gt;</td><td></td></tr>

			<tr><td>&lt;factor&gt;</td><td></td></tr>
			<tr><td>&lt;number&gt; | &lt;string&gt; | true | false</td><td></td></tr>
			<tr><td>&lt;message&gt;(&lt;expressionList&gt;)</td><td>this.&lt;message&gt;(&lt;expressionList&gt;)</td></tr>
			<tr><td>[the] &lt;identifier&gt; of &lt;part&gt;</td><td>&lt;part&gt;.&lt;identifier&gt;</td></tr>
			<tr><td>[the] &lt;message&gt; of &lt;factor&gt;</td><td>this.&lt;message&gt;(&lt;factor&gt;)</td></tr>
			<tr><td>the &lt;identifier&gt;</td><td>wildcard.&lt;identifier&gt;</td><td></td></tr>
			<tr><td>my &lt;identifier&gt;</td><td>this.me.&lt;identifier&gt;</td></tr>
			<tr><td>me</td><td>this.me</td></tr>
			<tr><td>comma</td><td>&#39;,&#39;</td></tr>
			<tr><td>return</td><td>&#39;\n&#39;</td></tr>
			<tr><td>space</td><td>&#39; &#39;</td></tr>
			<tr><td>empty</td><td>&#39;&#39;</td></tr>
			<tr><td>-&lt;factor&gt;</td><td></td></tr>
			<tr><td>not &lt;factor&gt;</td><td>!boolean(&lt;factor&gt;)</td></tr>
			<tr><td>&lt;variable&gt;</td><td>_.&lt;variable&gt;</td></tr>
			<tr><td>&lt;identifier&gt;</td><td>this.&lt;identifier&gt;</td></tr>
			<tr><td>(&lt;expression&gt;)</td><td>(&lt;expression&gt;)</td></tr>

			<tr><td>&lt;part&gt;</td><td></td></tr>
			<tr><td>wildcard</td><td></td></tr>
			<tr><td>me</td><td>this.me</td></tr>
			<tr><td>this stack</td><td>(this.me.closest(&#39;stack-part&#39;) || currentStack())</td></tr>
			<tr><td>this card</td><td>(this.me.closest(&#39;card-part&#39;) || currentStack().querySelector(&#39;card-part.current&#39;))</td></tr>

			<tr><td>Where</td></tr>
			<tr><td colspan="2">&lt;expressionList&gt; = [ &lt;expression&gt; [, &lt;expression&gt; ]* ]</td></tr>
			<tr><td colspan="2">&lt;parameterList&gt; = [ &lt;parameter&gt; [, &lt;parameter&gt; ]* ]</td></tr>
			<tr><td colspan="2">&lt;handler&gt; | &lt;message&gt; | &lt;variable&gt; | &lt;property&gt; = &lt;identifier&gt;</td></tr>
			<tr><td>&lt;identifier&gt; </td><td>/[A-Z][A-Z\d]*/i</td></tr>
			<tr><td>&lt;number&gt; </td><td>/[\d]+([.][\d]+)?/</td></tr>
			<tr><td>&lt;string&gt; </td><td>/&#34;[^&#34;]*&#34;/</td></tr>

			<tr><td colspan="2">
				<button-part name="× ↻" type="oval" onclick="localStorage.removeItem(&#39;wildcard_script&#39;); location.reload();"></button-part>
				<p>Wildcard script</p>
			</td></tr>
			<tr><td colspan="2">
				<field-part id="wildcard_script" type="rectangle" spellcheck="false" autoreplace="false" contenteditable="" font="1em monospace" onkeydown="if (event.keyCode==9) { 
						event.preventDefault(); 
						document.execCommand(&#39;insertHTML&#39;,false,&#39;&lt;span&gt;\t&lt;/span&gt;&#39;);
					}" tabindex="0" oninput="var er; /*console.log(this.contents);*/ try { wildcard = new Script(document.getRootNode(), this.contents); localStorageSetItem(&#39;wildcard_script&#39;,this.contents); } catch(e) { er = e } scripterror.innerText=er||&#39;Wildcard script&#39;;">-- these handlers are available to all Wildcard scripts.

-- When WildCard gets the message called beep, this handler acts
-- To send the &#39;beep&#39; message, you type &#39;beep&#39; in the message box
on beep
	perform_system_beep();
end beep

-- Handlers can accept parameters and return a value
on double n
  return n plus n
end double 

-- You can use JavaScript
on sqrt n
	return Math.sqrt(n);
end sqrt

on random n
	return 1+Math.floor(Math.random()*n);
end random

-- Send messages from Javascript with wildcard.do(&#39;beep&#39;) or just wildcard.Beep();
on do lineOfScript
	put &#34;on run&#34; &amp; return &amp; lineOfScript &amp; return &amp; &#34;end run&#34; into handler
	return new Script(null, _.handler).run();
end do

</field-part></td></tr>

</tbody></table>
	</td></div></div>
  </body>
</html>
