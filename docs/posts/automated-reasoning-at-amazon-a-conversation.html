<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.amazon.science/blog/automated-reasoning-at-federated-logic-conference-floc">Original</a>
    <h1>Automated Reasoning at Amazon: A Conversation</h1>
    
    <div id="readability-page-1" class="page"><div>
                            
                                <div>
    
        <div><p>The Federated Logic Conference (FLoC) is a superconference that, like the Olympics, happens every four years. FLoC draws together 12 distinct conferences on logic-related topics, most of which meet annually. The individual conferences have their own invited speakers, but FLoC as a whole has several plenary speakers as well.</p><p>At the last FLoC, in 2018, one of those plenary speakers was Byron Cook, who leads Amazon’s automated-reasoning group, and he was introduced by Daniel Kröning, then a professor of computer science at the University of Oxford</p><div data-align-right="">
            <div><div data-video-disable-history="">
    
        <p><ps-youtubeplayer data-video-player="" data-player-id="f1b3320330ace450c8ab4a007fde6bb04" data-video-id="JfjLKBO27nw" data-video-title="Byron Cook&#39;s keynote at FLoC 2018">

    <iframe id="YouTubeVideoPlayer-f1b3320330ace450c8ab4a007fde6bb04" role="application" title="YouTube embedded video player" allowfullscreen="" src="https://www.youtube.com/embed/JfjLKBO27nw?enablejsapi=1"></iframe>
</ps-youtubeplayer>
</p>
    
    <div>
        
            <p>Byron Cook&#39;s keynote at FLoC 2018</p>
        
        
            <p>With introduction by Daniel Kröning.</p>
        
    </div>
</div>
</div>
        </div><p>“What makes me so proud that Byron is here,” Kröning said, is “he’s now at Amazon, and he’s going to run the next Bell Labs, he’s going to run the next Microsoft Research, from within Amazon. My prediction is that — not 10 years but 16 years; remember, it’s multiples of four — 16 years from now you’ll be at a FLoC, and you’ll hear these stories about the great thing that Byron Cook built up at Amazon Web Services. And we’ll speak about it in the same tone as we’re now talking about Bell Labs and Microsoft Research.”</p><p>In the audience at the talk was Marijn Heule, a <a href="https://scholar.google.com/citations?view_op=search_authors&amp;hl=en&amp;mauthors=label:automated_reasoning&amp;after_author=GgkJAKDm__8J&amp;astart=20" target="_blank" data-cms-ai="0">highly cited</a> automated-reasoning researcher who was then at the University of Texas.</p><p>“I hadn&#39;t met Marijn, though I had heard about him from a couple other people and thought I should talk to him,” Cook says. “And then Marijn found me at the banquet after the talk and was like, ‘I want a job.’”</p><div data-align-center="">
            <div><figure>
    

    
        <p><figcaption>L to R: Amazon vice president and distinguished scientist Byron Cook; Amazon Scholar Marijn Heule; Amazon senior principal scientist Daniel Kröning.</figcaption></p>
    
</figure></div>
        </div><p>Heule is now an Amazon Scholar who divides his time between Amazon and his new appointment at Carnegie Mellon University. Kröning, too, has joined Amazon as a senior principal scientist, working closely with Cook’s group.</p><p>As 2022’s FLoC approached, Cook, Kröning, and Heule took some time to talk with Amazon Science about the current state of automated-reasoning research and its implications for Amazon customers.</p><p><b>Amazon Science:</b> The conference name has the word “logic” in it. Does FLoC deal with other aspects of logic, or is logic coextensive with automated reasoning now?</p><p><b>Byron Cook:</b> It’s about the intersection of logic and computer science. Automated reasoning is one dimension of that intersection.</p><p><b>Daniel Kröning:</b> Traditionally, FLoC is split into two halves, with the first half more theoretical and the second half more applied.</p><p><b>Cook:</b> One of the things about automated reasoning is you&#39;re on the bleeding edge of what is even computable. We&#39;re often working on intractable or undecidable problems. So people automating reasoning are really paying attention to both the applied and the theoretical.</p><p><b>AS:</b> I know Marijn is concentrating on SAT solvers, and SAT is an intractable problem, right? It’s NP-complete?</p><p><b>Marijn Heule:</b> Yes, but you can also use these techniques to solve problems that go beyond NP. For example, solvers for SAT modulo theories, called SMT. I even have a project with one student <a href="https://arxiv.org/abs/2105.14697" target="_blank" data-cms-ai="0">trying to solve the famous Collatz conjecture</a> with these tools.</p><div data-align-center="">
            <div><figure>
    

    
        <p><figcaption>The Collatz conjecture posits that any integer will be transformed into the integer 1 through iterative application of two operations: n/2 and 3n+1. This figure shows a &#34;Collatz cascade&#34; of possible transitions from 27 to 1 using a set of seven symbols, which can be interpreted as simple calculations, and 11 rules for transforming those symbols into symbols consistent with the Collatz operations. At top right are the symbol rewrite rules; at bottom left is a blowup of part of the cascade, illustrating sequences of rewrites that yield the number 425 and its transformation through Collatz operations.</figcaption></p>
    
</figure></div>
        </div><p><b>Kröning:</b> SAT is now the inexpensive, easy-to-solve workhorse for really hard problems. People still have it in their heads that SAT equals NP hard, therefore difficult to solve or impossible to solve. But for us, it&#39;s the lowest entry point. On top of SAT, we build algorithms for solving problems that are way harder.</p><p><b>Cook:</b> One of the tricks of the trade is abstraction, where you take a problem that&#39;s much, much bigger but represent it with something smaller, where classes of questions you might ask about the smaller problem imply that the answer also holds for the bigger problem. We also have techniques for <a href="https://web.stanford.edu/class/cs357/cegar.pdf" target="_blank" data-cms-ai="0">refining the abstractions</a> on demand when the abstraction is losing too much information to answer the question. Often we can represent these abstractions in tools for SAT.</p><p>Marijn’s work on the Collatz conjecture is a great example of this. He has done this amazing reduction of Collatz to a series of SAT questions, and he&#39;s tantalizingly close to solving it because he&#39;s got one decidable problem to go — and he&#39;s the world expert on solving those problems. [Laughs]</p><p><b>Heule:</b> Tantalizingly close but also so far away, right? Because this problem might not be solvable even with a million cores.</p><p><b>Cook:</b> But it&#39;s still decidable. And one of the thresholds is that NP, PSpace, all these things, they&#39;re actually decidable. There are questions that are undecidable — and we work on those, too. When a problem is undecidable, it means that your tool will sometimes fail to find an answer, and that&#39;s just fundamental: there are no extra computers you could use ever to solve that. The halting problem is a great example of that.</p><p><b>Heule:</b> For these kinds of problems, you&#39;re asking the question “Is there a termination argument of this kind of shape?” And if there is one, you have your termination argument. If there is no termination argument of that shape, there could be one of another shape. So if the answer is SAT [satisfiable], then you&#39;re happy because you’ve solved the problem. If the answer is no, you try something else.</p><p><b>Cook:</b> It&#39;s really, really exciting. In Amazon, we&#39;re building these increasingly powerful SAT solvers, using the power of the cloud and distributed systems. So there&#39;s no better place for Marijn to be than at Amazon.</p><p><b>AS:</b> Daniel, could we talk a little bit about your research?</p><p><b>Kröning:</b> What I&#39;m looking at right now is reasoning about the cloud infrastructure that performs remote management of EC2 instances — how to secure that in a way that is provable. You also want to do that in a way that is economical.</p><p><b>Cook:</b> One of the things that Daniel&#39;s focusing on is agents. We have pieces of software that run on other machines, like EC2 instances, agents for telemetry or for control, and you give them power to take action on your behalf on your machine. But you want to make sure that an adversary doesn&#39;t trick those agents into doing bad things.</p><h2>Correct software</h2><p><b>AS:</b> I know that, commercially, formal methods have been used in hardware design and transportation systems for some time. But it seems that they’re really starting to make inroads in software development, too.</p><div data-align-right="">
            <div><div>
    <blockquote>The storage team is able to write code that otherwise they might not want to deploy because they wouldn&#39;t be as confident about it, and they&#39;re deploying four times as fast. It was an investment in agility that&#39;s really paid off.</blockquote>

    
        
    
</div>
</div>
        </div><p><b>Cook:</b> The thing we&#39;ve seen is it&#39;s really by need. The storage team, for example, is able to be much more agile and be much more aggressive in the programs that they write because of the formal methods. They&#39;re able to write code that otherwise they might not want to deploy because they wouldn&#39;t be as confident about it, and they&#39;re deploying four times as fast. It was an investment in agility that&#39;s really paid off.</p><p><b>Kröning:</b> There are actually a good number of stories wherein engineering teams didn&#39;t dare to roll out a particular feature or design revision or design variant that offers clear benefits — like being faster, using less power — because they just couldn&#39;t gain the confidence that it&#39;s actually right under all circumstances.</p><p><b>Heule:</b> The interesting thing is that you even see this now in tools. Now we have produced proofs from the tools, and people start implementing features that they wouldn&#39;t dare have in the past because they were not clear that they were correct. So the solvers get faster and more complex because we now can check the results from the tools and to have confidence in their correctness.</p><p><b>Cook:</b> Yeah, I wanted to double down on that point. There’s a distinction in automated reasoning between finding a proof and checking your proof, and the checking is actually relatively easy. It&#39;s an accounting thing. Whereas finding the proof is an incredibly creative activity, and the algorithms that find proofs are mind-blowing. But how do you know that the tool that found the proof is correct? Well, you produce an auditable artifact that you can check with the easy tool.</p><h2>SAT in the cloud</h2><p><b>AS:</b> What are you all most excited about at this year’s FLoC?</p><p><b>Cook:</b> The SAT conference is at FLoC, and there will be the <a href="https://satcompetition.github.io/2022/" target="_blank" data-cms-ai="0">SAT competition</a> results, and one of the things I&#39;m really excited about is the cloud track. Automated reasoning has really moved into the cloud, and the past couple years running the cloud track has really blown the doors off what&#39;s possible. I&#39;m expecting that that will be true again this year.</p><div data-align-right="">
            <div><figure>
    

    
        <p><figcaption>The results of the top-performing cloud-based, parallel, and sequential SAT solvers in this year&#39;s SAT competition, whose results were presented at FLoC. The curves show the number of problems <i>(y-axis) </i>in the SAT competition&#39;s anniversary problem set — which aggregates all 5,355 problems presented in the competition&#39;s 20-year history — that a given solver could solve in the allotted time <i>(x-axis)</i>.</figcaption></p>
    
</figure></div>
        </div><p><b>Heule:</b> This is the first year that Amazon is running both the parallel track and the cloud track, and the cloud track was only possible because of Amazon. Before that, there was no way we had the resources to run a cloud track. In the cloud track, every solver-benchmark combination is run on 1,600 cores. And this year is extra special because it&#39;s 20 years of SAT, and we have a single anniversary track and all the competitions that were run in the past are in there. That is 5,355 problems, and all the solvers are running on this.</p><p><b>Cook:</b> Wow.</p><p><b>Heule:</b> I&#39;m also excited to see the results. We have seen in the last year and the year before that the cloud solver can, say, solve in 100 seconds as much as the sequential solvers can do in 5,000 seconds. The user doesn&#39;t have to wait for four hours but just for four minutes</p><p><b>Cook:</b> And that raises all boats because, as we mentioned earlier, everything is reduced to SAT. If the SAT solvers go from one hour to one minute, that&#39;s really game changing. That means a whole other set of things you can do.</p><p>What has been clear for a while but continues to be true is there&#39;s some sort of Moore&#39;s-law thing happening with SAT. You fix the same hardware, the same benchmarks, and then run all the tools from the past 20 years, and you see every year they&#39;re getting dramatically better. What&#39;s also really amazing is that in many ways the tools are getting simpler.</p><p><b>LH:</b> Are the simplicity and efficiency two sides of the same coin? Understanding the problems better helps you find a simpler solution, which is more efficient?</p><p><b>Cook:</b> Yeah, but it’s also the point that Marijn made that because the tools produce auditable proofs that you can check independently, you can do aggressive things that we were scared to do before. Often, aggressive is much simpler.</p><p><b>Heule:</b> It&#39;s also the case that we now understand there are different kinds of problems, and they need different kinds of heuristics. Solvers are combining different heuristics and have phases: “Let&#39;s first try this. Let&#39;s also try that.” And the code involved in changing the heuristics is very small. It&#39;s just changing a couple of parameters. But if you notice, okay, this set of heuristics works well for this problem, then you kind of focus more on that.</p><p><b>Cook:</b> One of the things a SAT solver does is make decisions fast. It just makes a bunch of choices, and those choices won&#39;t work out, and then it spends some time to learn lessons why. And then it has a very efficient internal database for managing what has been learned, what not to do in the future. And that prunes the search space a lot.</p><p>One of the really exciting things that&#39;s happening in the cloud is that you have, say, 1,000 SAT solvers all running on the same problem, and they&#39;re learning different things and can share that information amongst them. So by adding 5,000 more solvers, if you can make the communication and the lookup efficient between them, you&#39;re really off to the races.</p><p>The other thing that&#39;s quite neat about that is the point that Marijn is making: it&#39;s becoming increasingly clear that there are these fundamental building blocks, and for different kinds of problems, you would want to use one kind of Lego brick versus a different kind of Lego brick. And the cloud allows you to run them all but then to share the information between them.</p><div data-align-center="">
            <div><figure>
    

    
        <div><figcaption>In &#34;<a href="https://www.amazon.science/publications/migrating-solver-state" data-cms-ai="0">Migrating solver state</a>&#34;, Heule and his colleagues show that passing modified versions of a problem between different solvers can accelerate convergence on a solution.</figcaption></div>
    
</figure></div>
        </div><p><b>Heule:</b> We have an Amazon paper at FLoC with some <a href="https://www.amazon.science/publications/migrating-solver-state" data-cms-ai="0">very cool ideas</a>. If you run things in the cloud, you sometimes have a limited time window where you have to solve them, and otherwise it stops. You started with a certain problem, the solver did some modifications, and now we have a different problem. Initially we just tested, Okay, can we stop the solver and then store the modified problem somewhere and continue later, in case we need more time than we allocated initially? And then we can continue solving it.</p><p>But the interesting thing is that if you give the modified problem to another solver, and you give it, say, a couple of minutes, and then it stores the modified problem, and you give it to another solver, it actually really speeds things up. It turns out to solve the most instances from everything that we tried.</p><p><b>AS:</b> Do you do that in a principled way, or do you just pick a new solver randomly?</p><p><b>Heule:</b> The thing that turned out to work really well is to take two top-tier solvers and just Ping-Pong the problem among them. This functionality of storing and continuing search requires some work, so that implementing it in, say, a dozen solvers would require quite some work. But it would be a very interesting experiment.</p><p><b>AS:</b> I’m sure our readers would love to know the result of that experiment!</p><p>Well, thank you all very much for your time. Does anyone have any last thoughts?</p><p><b>Cook:</b> I think I speak for the thousands of others who are attending FLoC: we are ready to having our minds blown, just as we did in 2018. Many of the tools and theories presented by our scientific colleagues at this year’s FLoC will challenge our current assumptions or spark that next big insight in our brains. We will also get to catch up with old friends that we’ve known for around 20 years and meet new ones. I’m particularly excited to meet the new generation of scientists who have entered the field, to see the world afresh through their eyes. This is such an amazing time to be in the field of automated reasoning.</p></div>
    
</div>

                            
                        </div></div>
  </body>
</html>
