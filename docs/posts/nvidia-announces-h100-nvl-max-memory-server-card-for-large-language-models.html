<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.anandtech.com/show/18780/nvidia-announces-h100-nvl-max-memory-server-card-for-large-language-models">Original</a>
    <h1>Nvidia Announces H100 NVL – Max Memory Server Card for Large Language Models</h1>
    
    <div id="readability-page-1" class="page"><div>
            <p>While this year’s Spring GTC event doesn’t feature any new GPUs or GPU architectures from NVIDIA, the company is still in the process of rolling out new products based on the Hopper and Ada Lovelace GPUs its introduced in the past year. At the high-end of the market, the company today is announcing a new H100 accelerator variant specifically aimed at large language model users: the H100 NVL.</p>

<p>The H100 NVL is an interesting variant on <a href="https://www.anandtech.com/show/17581/nvidia-h100-hopper-accelerator-now-in-full-production-dgx-shipping-in-q1-23">NVIDIA’s H100 PCIe card</a> that, in a sign of the times and NVIDIA’s extensive success in the AI field, is aimed at a singular market: large language model (LLM) deployment. There are a few things that make this card atypical from NVIDIA’s usual server fare – not the least of which is that it’s 2 H100 PCIe boards that come already bridged together – but the big takeaway is the big memory capacity. The combined dual-GPU card offers 188GB of HBM3 memory – 94GB per card – offering more memory per GPU than any other NVIDIA part to date, even within the H100 family.</p>

<table>
	<tbody>
		<tr>
			<td colspan="6">NVIDIA H100 Accelerator Specification Comparison</td>
		</tr>
		<tr>
			<td> </td>
			<td>H100 NVL</td>
			<td>H100 PCIe</td>
			<td>H100 SXM</td>
		</tr>
		<tr>
			<td>FP32 CUDA Cores</td>
			<td>2 x 16896?</td>
			<td>14592</td>
			<td>16896</td>
		</tr>
		<tr>
			<td>Tensor Cores</td>
			<td>2 x 528?</td>
			<td>456</td>
			<td>528</td>
		</tr>
		<tr>
			<td>Boost Clock</td>
			<td>1.98GHz?</td>
			<td>1.75GHz</td>
			<td>1.98GHz</td>
		</tr>
		<tr>
			<td>Memory Clock</td>
			<td><strong>~5.1Gbps HBM3</strong></td>
			<td>3.2Gbps HBM2e</td>
			<td>5.23Gbps HBM3</td>
		</tr>
		<tr>
			<td>Memory Bus Width</td>
			<td><strong>6144-bit</strong></td>
			<td>5120-bit</td>
			<td>5120-bit</td>
		</tr>
		<tr>
			<td>Memory Bandwidth</td>
			<td><strong>2 x 3.9TB/sec</strong></td>
			<td>2TB/sec</td>
			<td>3.35TB/sec</td>
		</tr>
		<tr>
			<td>VRAM</td>
			<td><strong>2 x 94GB (188GB)</strong></td>
			<td>80GB</td>
			<td>80GB</td>
		</tr>
		<tr>
			<td>FP32 Vector</td>
			<td>2 x 67 TFLOPS?</td>
			<td>51 TFLOPS</td>
			<td>67 TFLOPS</td>
		</tr>
		<tr>
			<td>FP64 Vector</td>
			<td>2 x 34 TFLOPS?</td>
			<td>26 TFLOPS</td>
			<td>34 TFLOPS</td>
		</tr>
		<tr>
			<td>INT8 Tensor</td>
			<td>2 x 1980 TOPS</td>
			<td>1513 TOPS</td>
			<td>1980 TOPS</td>
		</tr>
		<tr>
			<td>FP16 Tensor</td>
			<td>2 x 990 TFLOPS</td>
			<td>756 TFLOPS</td>
			<td>990 TFLOPS</td>
		</tr>
		<tr>
			<td>TF32 Tensor</td>
			<td>2 x 495 TFLOPS</td>
			<td>378 TFLOPS</td>
			<td>495 TFLOPS</td>
		</tr>
		<tr>
			<td>FP64 Tensor</td>
			<td>2 x 67 TFLOPS?</td>
			<td>51 TFLOPS</td>
			<td>67 TFLOPS</td>
		</tr>
		<tr>
			<td>Interconnect</td>
			<td>NVLink 4</td>
			<td>NVLink 4</td>
			<td>NVLink 4</td>
		</tr>
		<tr>
			<td>GPU</td>
			<td>2 x GH100</td>
			<td>GH100</td>
			<td>GH100</td>
		</tr>
		<tr>
			<td>Transistor Count</td>
			<td>2 x 80B</td>
			<td>80B</td>
			<td>80B</td>
		</tr>
		<tr>
			<td>TDP</td>
			<td>700W</td>
			<td>350W</td>
			<td>700-800W</td>
		</tr>
		<tr>
			<td>Manufacturing Process</td>
			<td>TSMC 4N</td>
			<td>TSMC 4N</td>
			<td>TSMC 4N</td>
		</tr>
		<tr>
			<td>Interface</td>
			<td>2 x PCIe 5.0</td>
			<td>PCIe 5.0</td>
			<td>SXM5</td>
		</tr>
		<tr>
			<td>Architecture</td>
			<td>Hopper</td>
			<td>Hopper</td>
			<td>Hopper</td>
		</tr>
	</tbody>
</table>

<p>Driving this SKU is a specific niche: memory capacity. Large language models like the GPT family are in many respects memory capacity bound, as they’ll quickly fill up even an H100 accelerator in order to hold all of their parameters (175B in the case of the largest GPT-3 models). As a result, NVIDIA has opted to scrape together a new H100 SKU that offers a bit more memory per GPU than their usual H100 parts, which top out at 80GB per GPU.</p>

<p>Under the hood, what we’re looking at is essentially a special bin of the <a href="https://www.anandtech.com/show/17327/nvidia-hopper-gpu-architecture-and-h100-accelerator-announced">GH100 GPU</a> that’s being placed on a PCIe card. All GH100 GPUs come with 6 stacks of HBM memory – either HBM2e or HBM3 – with a capacity of 16GB per stack. However for yield reasons, NVIDIA only ships their regular H100 parts with 5 of the 6 HBM stacks enabled. So while there is nominally 96GB of VRAM on each GPU, only 80GB is available on regular SKUs.</p>

<p><a href="https://images.anandtech.com/doci/18780/big_hopper-die-white-2.jpg"><img alt="" src="https://images.anandtech.com/doci/18780/big_hopper-die-white-2_575px.jpg"/></a></p>

<p>The <a href="https://www.nvidia.com/en-us/data-center/h100/">H100 NVL</a>, in turn, is the mythical fully-enabled SKU with all 6 stacks enabled. By turning on the 6<sup>th</sup> HBM stack, NVIDIA is able to access the additional memory and additional memory bandwidth that it affords. It will have some material impact on yields – how much is a closely guarded NVIDIA secret – but the LLM market is apparently big enough and willing to pay a high enough premium for nearly perfect GH100 packages to make it worth NVIDIA’s while.</p>

<p>Even then, it should be noted that customers aren’t getting access to quite all 96GB per card. Rather, at a total capacity of 188GB of memory, they’re getting effectively 94GB per card. NVIDIA hasn’t gone into detail on this design quirk in our pre-briefing ahead of today’s keynote, but we suspect this is also for yield reasons, giving NVIDIA some slack to disable bad cells (or layers) within the HBM3 memory stacks. The net result is that the new SKU offers 14GB more memory per GH100 GPU, a 17.5% memory increase. Meanwhile the aggregate memory bandwidth for the card stands at 7.8TB/second, which works out to 3.9TB/second for the individual boards.</p>

<p>Besides the memory capacity increase, in a lot of ways the individual cards within the larger dual-GPU/dual-card H100 NVL look a lot like the SXM5 version of the H100 placed on a PCIe card. Whereas the normal H100 PCIe is hamstrung some by the use of slower HBM2e memory, fewer active SMs/tensor cores, and lower clockspeeds, the tensor core performance figures NVIDIA is quoting for the H100 NVL are all at parity with the H100 SXM5, indicating that this card isn’t further cut back like the normal PCIe card. We’re still waiting on the final, complete specifications for the product, but assuming everything here is as presented, then the GH100s going into the H100 NVL would represent the highest binned GH100s currently available.</p>

<p><a href="https://images.anandtech.com/doci/18780/NVIDIA-H100-NVL-Image_center-crop.png"><img alt="" src="https://images.anandtech.com/doci/18780/NVIDIA-H100-NVL-Image_center-crop_575px.png"/></a></p>

<p>And an emphasis on the plural is called for here. As noted earlier, the H100 NVL is not a single GPU part, but rather it’s a dual-GPU/dual-card part, and it presents itself to the host system as such. The hardware itself is based on two PCIe form-factor H100s that are strapped together using three NVLink 4 bridges. Physically, this is virtually identical to NVIDIA’s existing H100 PCIe design – which can already be paired up using NVLink bridges – so the difference isn’t in the construction of the two board/four slot behemoth, but rather the quality of the silicon within. Put another way, you can strap together regular H100 PCie cards today, but it wouldn’t match the memory bandwidth, memory capacity, or tensor throughput of the H100 NVL.</p>

<p>Surprisingly, despite the stellar specs, TDPs remain almost. The H100 NVL is a 700W to 800W part, which breaks down to 350W to 400W per board, the lower bound of which is the same TDP as the regular H100 PCIe. In this case NVIDIA looks to be prioritizing compatibility over peak performance, as few server chassis can handle PCIe cards over 350W (and fewer still over 400W), meaning that TDPs need to stand pat. Still, given the higher performance figures and memory bandwidth, it’s unclear how NVIDIA is affording the extra performance. Power binning can go a long way here, but it may also be a case where NVIDIA is giving the card a higher than usual boost clockspeed since the target market is primarily concerned with tensor performance and is not going to be lighting up the entire GPU at once.</p>

<p>Otherwise, NVIDIA’s decision to release what’s essentially the best H100 bin is an unusual choice given their general preference for SXM parts, but it’s a decision that makes sense in context of what LLM customers need. Large SXM-based H100 clusters can easily scale up to 8 GPUs, but the amount of NVLink bandwidth available between any two is hamstrung by the need to go through NVSwitches. For just a two GPU configuration, pairing a set of PCIe cards is much more direct, with the fixed link guaranteeing 600GB/second of bandwidth between the cards.</p>

<p>But perhaps more importantly than that is simply a matter of being able to quickly deploy H100 NVL in existing infrastructure. Rather than requiring installing H100 HGX carrier boards specifically built to pair up GPUs, LLM customers can just toss H100 NVLs in new server builds, or as a relatively quick upgrade to existing server builds. NVIDIA is going for a very specific market here, after all, so the normal advantage of SXM (and NVIDIA’s ability to throw its collective weight around) may not apply here.</p>

<p>All told, NVIDIA is touting the H100 NVL as offering 12x the GPT3-175B inference throughput as a last-generation HGX A100 (8 H100 NVLs vs. 8 A100s). Which for customers looking to deploy and scale up their systems for LLM workloads as quickly as possible, is certainly going to be tempting. As noted earlier, H100 NVL doesn’t bring anything new to the table in terms of architectural features – much of the performance boost here comes from the Hopper architecture’s new transformer engines – but the H100 NVL will serve a specific niche as the fastest PCIe H100 option, and the option with the largest GPU memory pool.</p>

<p>Wrapping things up, according to NVIDIA, H100 NVL cards will begin shipping in the second half of this year. The company is not quoting a price, but for what’s essentially a top GH100 bin, we’d expect them to fetch a top price. Especially in light of how the explosion of LLM usage is turning into a new gold rush for the server GPU market.</p>

        </div></div>
  </body>
</html>
