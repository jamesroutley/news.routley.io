<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://orib.dev/gefs-future.html">Original</a>
    <h1>gefs-future</h1>
    
    <div id="readability-page-1" class="page">

<p>
<a href="https://orib.dev/gefs.html">Gefs</a> was recently committed to 9front.
Because it hasn&#39;t had many miles put on it yet,
I still consider it very experimental.
</p>
<p>
It is available as a hidden option in the installer.
You can get a GEFS based system by manually typing
<code>gefs</code>
at the prompt where it asks you to select between
<code>cwfs64x</code>
and
<code>hjfs</code>.
</p>
<p>
While gefs is in tree, it&#39;s far from done.
This is an incomplete list of future work that I would like to complete:
</p>
<li>
	Repair tools; right now, we can check for corruption,
	but more would be welcome. there&#39;s also nothing to fix
	corruption if it&#39;s detected.
</li>
<li>
	Storing small files inline; there&#39;s no need to
	create a new block if the file is smaller than
	the maximum size of a value in the BÎµ tree.
</li>
<li>
	Merging/annihilating messages early; right now,
	all messages flush all the way down to the leaf
	before being applied, but they could be merged
	early; eg, a delete could eliminate an insert,
	or a chain of mtime changes could be merged
	into one.
</li>
<li>
	Modifying the root block buffer in-place;
	right now, the root block is copied for every
	upsertion. With some care, an upsert can modify
	the in-memory copy of the root block, which only
	needs to be serialized and flushed on sync or when
	it is full.
</li>
<li>
	Custom snapshot timing; right now, snaps are either
	taken automatically on a hard-coded schedule, or not
	taken at all.
</li>
<li>
	Microoptimization; right now, performance is ok,
	but could be faster; measure and optimize.
</li>
<li>
	Doing more eager space reclaim; getting back space
	from deleted files is delayed, and we could do some
	work in the sweeper to reclaim the space early.
</li>
<li>
	Raid and Autorepair; it would be useful to have the
	filesystem able to support raid.
	It would also be and to use the corruption detection
	it has to build in to repair corrupt reads.
	The split between devfs and the file system in this
	situation isn&#39;t clear.

<p>
All of these seem like they should be easy to implement
without any breaks to compatibility.
The locations for feature flags are all in place.
</p>
<p>
I plan to hack on these as time permits, but at a
fairly low priority. Patches are welcome.
</p>



</li></div>
  </body>
</html>
