<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/twitter/pelikan">Original</a>
    <h1>Pelikan, Twitterâ€™s framework for building caches</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">Pelikan is Twitter&#39;s framework for developing cache services. It is:</p>
<ul dir="auto">
<li>
<p dir="auto"><strong>Fast</strong>: Pelikan provides high-throughput and low-latency caching solutions.</p>
</li>
<li>
<p dir="auto"><strong>Reliable</strong>: Pelikan is designed for large-scale deployment and the
implementation is informed by our operational experiences.</p>
</li>
<li>
<p dir="auto"><strong>Modular</strong>: Pelikan is a framework for rapidly developing new caching
solutions by focusing on the inherent architectural similarity between caching
services and providing reusable low-level components.</p>
</li>
</ul>
<p dir="auto"><a href="https://github.com/twitter/pelikan/blob/master/LICENSE"><img src="https://camo.githubusercontent.com/1698104e976c681143eb0841f9675c6f802bb7aa832afc0c7a4e719b1f3cf955/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f6c6963656e73652d417061636865253230322e302d626c75652e737667" alt="License: Apache-2.0" data-canonical-src="https://img.shields.io/badge/license-Apache%202.0-blue.svg"/></a>
<a href="https://github.com/twitter/pelikan/actions/workflows/cargo.yml?query=branch%3Amaster+event%3Apush"><img src="https://camo.githubusercontent.com/38a559e25fc48d166109e9ee6bd2070e9060737693ef3179be6829f88215992f/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f776f726b666c6f772f7374617475732f747769747465722f70656c696b616e2f636172676f2d6275696c642f6d61737465723f6c6162656c3d6275696c64" alt="Build Status" data-canonical-src="https://img.shields.io/github/workflow/status/twitter/pelikan/cargo-build/master?label=build"/></a>
<a href="https://github.com/twitter/pelikan/actions/workflows/fuzz.yml?query=branch%3Amaster+event%3Apush"><img src="https://camo.githubusercontent.com/c02f1a24a882b10a22f1e1ce48487bb974b914f5fc668cb50bf4e9fd01dd9bde/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f776f726b666c6f772f7374617475732f747769747465722f70656c696b616e2f636172676f2d66757a7a2f6d61737465723f6c6162656c3d66757a7a" alt="Fuzz Status" data-canonical-src="https://img.shields.io/github/workflow/status/twitter/pelikan/cargo-fuzz/master?label=fuzz"/></a>
<a href="https://pelikan.zulipchat.com/" rel="nofollow"><img src="https://camo.githubusercontent.com/7eb9f58d38e917f9e1d72428920b5427a02a6ac3a4c0597485ea0766111fb20c/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f7a756c69702d6a6f696e5f636861742d626c75652e737667" alt="Zulip Chat" data-canonical-src="https://img.shields.io/badge/zulip-join_chat-blue.svg"/></a></p>
<p dir="auto"><a href="http://pelikan.io" rel="nofollow">Website</a> |
<a href="https://pelikan.zulipchat.com/" rel="nofollow">Chat</a></p>

<ul dir="auto">
<li><a href="#overview">Overview</a>
<ul dir="auto">
<li><a href="#products">Products</a></li>
<li><a href="#features">Features</a></li>
</ul>
</li>
<li><a href="#building-pelikan">Build</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#community">Community</a>
<ul dir="auto">
<li><a href="#stay-in-touch">Stay in touch</a></li>
<li><a href="#contributing">Contributing</a></li>
</ul>
</li>
<li><a href="#documentation">Documentation</a></li>
<li><a href="#license">License</a></li>
</ul>

<p dir="auto">After years of using and working on various cache services, we built a common
framework that reveals the inherent architectural similarity among them.</p>
<p dir="auto">By creating well-defined modules, most of the low-level functionalities are
reused as we create different binaries. The implementation learns from our
operational experiences to improve performance and reliability, and leads to
software designed for large-scale deployment.</p>
<p dir="auto">The framework approach allows us to develop new features and protocols quickly.</p>
<h2 dir="auto"><a id="user-content-products" aria-hidden="true" href="#products"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Products</h2>
<p dir="auto">Pelikan contains the following products:</p>
<ul dir="auto">
<li><code>pelikan_segcache_rs</code>: a Memcached-like server with extremely high memory
efficiency and excellent core scalability. See our <a href="https://www.usenix.org/conference/nsdi21/presentation/yang-juncheng" rel="nofollow">NSDI&#39;21 paper</a> for design
and evaluation details.</li>
<li><code>pelikan_pingserver_rs</code>: an over-engineered, production-ready ping server
useful as a tutorial and for measuring baseline RPC performance</li>
<li><a href="https://github.com/twitter/pelikan/blob/master/src/rust/proxy/momento/README.md"><code>momento_proxy</code></a>: a proxy which allows existing
applications to use Momento instead of a Memcache-compatible cache backend.</li>
</ul>
<h2 dir="auto"><a id="user-content-legacy" aria-hidden="true" href="#legacy"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Legacy</h2>
<p dir="auto">Pelikan legacy codebase can be found within the <code>legacy</code> folder of this project.
It is composed of the original C codebase and backend implementations. It
remains as a reference, but is not recommended for production deployments.</p>
<h2 dir="auto"><a id="user-content-features" aria-hidden="true" href="#features"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Features</h2>
<ul dir="auto">
<li>runtime separation of control and data plane</li>
<li>predictably low latencies via lockless data structures, worker never blocks</li>
<li>per-module config options and metrics that can be composed easily</li>
<li>multiple storage and protocol implementations, easy to further extend</li>
<li>low-overhead command logger for hotkey and other important data analysis</li>
</ul>

<h2 dir="auto"><a id="user-content-requirement" aria-hidden="true" href="#requirement"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Requirement</h2>
<ul dir="auto">
<li>Rust <a href="https://www.rust-lang.org/learn/get-started" rel="nofollow">stable toolchain</a></li>
<li>C toolchain: <code>llvm/clang (&gt;= 7.0)</code></li>
<li>Build tools: <code>cmake (&gt;= 3.2)</code></li>
</ul>
<h2 dir="auto"><a id="user-content-build" aria-hidden="true" href="#build"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Build</h2>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/twitter/pelikan.git
cd pelikan
cargo build --release"><pre>git clone https://github.com/twitter/pelikan.git
<span>cd</span> pelikan
cargo build --release</pre></div>
<h2 dir="auto"><a id="user-content-tests" aria-hidden="true" href="#tests"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Tests</h2>


<p dir="auto">Using <code>pelikan_segcache_rs</code> as an example, other executables are highly similar.</p>
<p dir="auto">To get info of the service, including usage format and options, run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="target/release/pelikan_segcache_rs --help"><pre>target/release/pelikan_segcache_rs --help</pre></div>
<p dir="auto">To launch the service with default settings, simply run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="target/release/pelikan_segcache_rs"><pre>target/release/pelikan_segcache_rs</pre></div>
<p dir="auto">To launch the service with the sample config file, run:</p>
<div dir="auto" data-snippet-clipboard-copy-content="target/release/pelikan_segcache_rs config/segcache.toml"><pre>target/release/pelikan_segcache_rs config/segcache.toml</pre></div>
<p dir="auto">You should be able to try out the server using an existing memcached client,
or simply with <code>telnet</code>.</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ telnet localhost 12321
Trying 127.0.0.1...
Connected to localhost.
Escape character is &#39;^]&#39;.
set foo 0 0 3
bar
STORED"><pre>$ telnet localhost 12321
Trying 127.0.0.1...
Connected to localhost.
Escape character is <span><span>&#39;</span>^]<span>&#39;</span></span>.
<span>set</span> foo 0 0 3
bar
STORED</pre></div>
<p dir="auto"><strong>Attention</strong>: use <code>admin</code> port for all non-data commands.</p>
<div dir="auto" data-snippet-clipboard-copy-content="$ telnet localhost 9999
Trying 127.0.0.1...
Connected to localhost.
Escape character is &#39;^]&#39;.
version
VERSION 0.1.0
stats
STAT pid 54937
STAT time 1459634909
STAT uptime 22
STAT version 100
STAT ru_stime 0.019172
..."><pre>$ telnet localhost 9999
Trying 127.0.0.1...
Connected to localhost.
Escape character is <span><span>&#39;</span>^]<span>&#39;</span></span>.
version
VERSION 0.1.0
stats
STAT pid 54937
STAT <span>time</span> 1459634909
STAT uptime 22
STAT version 100
STAT ru_stime 0.019172
...</pre></div>
<h2 dir="auto"><a id="user-content-configuration" aria-hidden="true" href="#configuration"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Configuration</h2>
<p dir="auto">Pelikan is file-first when it comes to configurations, and currently is
config-file only. You can create a new config file following the examples
included under the <code>config</code> directory.</p>

<h2 dir="auto"><a id="user-content-stay-in-touch" aria-hidden="true" href="#stay-in-touch"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Stay in touch</h2>
<ul dir="auto">
<li>Join our project chat on <a href="https://pelikan.zulipchat.com/" rel="nofollow"><img src="https://camo.githubusercontent.com/7eb9f58d38e917f9e1d72428920b5427a02a6ac3a4c0597485ea0766111fb20c/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f7a756c69702d6a6f696e5f636861742d626c75652e737667" alt="Zulip" data-canonical-src="https://img.shields.io/badge/zulip-join_chat-blue.svg"/></a>
for questions and discussions</li>
<li>Follow us on Twitter: <a href="https://twitter.com/pelikan_cache" rel="nofollow">@pelikan_cache</a></li>
<li>Visit <a href="http://pelikan.io" rel="nofollow">http://pelikan.io</a></li>
</ul>
<h2 dir="auto"><a id="user-content-contributing" aria-hidden="true" href="#contributing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Contributing</h2>
<p dir="auto">Please take a look at our <a href="https://github.com/twitter/pelikan/blob/master/docs/manifesto.rst">community manifesto</a>
and <a href="https://github.com/twitter/pelikan/blob/master/docs/coding_style.rst">coding style guide</a>.</p>
<p dir="auto">If you want to submit a patch, please follow these steps:</p>
<ol dir="auto">
<li>create a new issue</li>
<li>fork on github &amp; clone your fork</li>
<li>create a feature branch on your fork</li>
<li>push your feature branch</li>
<li>create a pull request linked to the issue</li>
</ol>

<p dir="auto">We have made progress and are actively working on documentation, and will put it
on our website. Meanwhile, check out the current material under <code>docs/</code></p>
<h2 dir="auto"><a id="user-content-license" aria-hidden="true" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>License</h2>
<p dir="auto">This software is licensed under the Apache 2.0 license, see <a href="https://github.com/twitter/pelikan/blob/master/LICENSE">LICENSE</a> for details.</p>
</article>
          </div></div>
  </body>
</html>
