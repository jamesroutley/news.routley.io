<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://rachelbythebay.com/w/2025/01/22/feedback/">Original</a>
    <h1>Feedback on lessons, leap seconds, and LLMs</h1>
    
    
<p>
I&#39;ll roll up some responses to reader feedback here.
</p>
<p>
...
</p>
<p>
Someone asked if they could view the old code lessons.  The one I 
<a href="https://rachelbythebay.com/w/2024/06/29/edu/">put back online</a>
last year is where I do a terrible little TCP listener, compile it, 
start it in the background, and then connect to it with netcat.  It&#39;s 
awkward as hell, but it&#39;s there if you really want to see it.
</p>
<p>
There is also the six part &#34;protofeed&#34; demo which showed how to fetch a 
feed in this protobuf-based scheme I rigged up.  Spoiler: it&#39;s not there 
any more, since nobody was using it, so it&#39;s not very useful to follow 
the instructions on that thing.
</p>
<p>
Ironically, that fetcher program would run afoul of all kinds of badness 
if it was pointed at a production site.  It doesn&#39;t do conditional 
requests, it doesn&#39;t know about Cache-Control headers, it won&#39;t 
recognize that a 429 is asking for throttling, and so on.  I guess 
that&#39;s okay for something that was a proof of concept to show how to 
fetch something from the network and parse it, but *actual* feed readers 
get all of that stuff wrong, too.
</p>
<p>
...
</p>
<p>
Another reader asked if the Linux &#34;hrtimer&#34; glitch from the leap second 
was fixed.  I have to assume that it was based on the fact that most 
people didn&#39;t have that same problem three years later when we had the 
one in my &#34;leap smearing&#34; story.  My worries were about userspace stuff.
</p>
<p>
This is an opportunity for me to share just why I went to those lengths.  
In short, it was because of a lack of confidence in everyone everywhere 
doing the right thing in terms of time handling.  If everyone uses 
monotonic clocks for measuring durations and otherwise is okay with wall 
time going backwards now and then, then there&#39;s no reason to smear it 
out.  My own personal systems have never smeared a leap second.  They 
just ride it out and keep on going.
</p>
<p>
I couldn&#39;t assume the correctness of such implementations at the 
company.  Worse, even if I went and deliberately injected  
backwards-going time step operations and proved that it would crash 
some code, there was no guarantee of anything coming from it.  I had 
found myself in a place at that company where some 
<a href="https://rachelbythebay.com/w/2019/02/25/destroyer/">parts of it</a>
were 
<a href="https://rachelbythebay.com/w/2023/04/09/note/">completely unresponsive</a>
to the problems they were causing for themselves and sometimes for 
other people, and was starting to tire of the &#34;bad cop&#34; schtick.  
That&#39;s where I&#39;d show up and go &#34;your shit is broken&#34; and they would do 
nothing to work with us (the whole team) to do something about it.
</p>
<p>
I just had this feeling that if we repeated the last UTC second of June 
2015, we&#39;d end up breaking something.  What&#39;s kind of amazing is that 
later on that year, 
<a href="https://rachelbythebay.com/w/2015/09/07/noleap/">it actually happened.</a>
</p>
<p>
Someone misconfigured the ailing NTP appliances to *not* apply the 
correction factor from GPS to UTC.  This ended up forcing one appliance 
into shipping unadjusted GPS time to roughly half of production via NTP, 
and the difference at the time was something like 17 seconds.  (This 
changes, and indeed, it&#39;s no longer 17.)
</p>
<p>
Anyway, I got to working on this after hearing about it and found 
roughly half the fleet running 17 seconds fast.  It was completely 
unreasonable to try to &#34;smear off&#34; 17 seconds to get things back to 
normal - that would have taken weeks.  I made the decision to fix the 
setting and then let every broken machine individually have its clock 
dragged backwards the 17 seconds to where things should be.
</p>
<p>
This broke stuff.  Some kind of sharding mechanism deep inside the 
fabric of things was using wall time to determine something or other, 
and when it jumped back, it fired an assertion and killed the program.  
This nuked the web server (or whatever else was using that library).
</p>
<p>
So, basically, every single machine which had been poisoned with 
the bad time and which was running this library was going to crash 
exactly once and there wasn&#39;t really anything which could be done about 
it.  It was something like 2 in the morning by this point and I opted to 
let it happen.
</p>
<p>
About the only good thing about this is that the adjustments happened at 
different intervals depending on the ntpd poll rate, so it&#39;s not like 
hundreds of thousands of machines all crashed their workloads at the 
same time.  One would pop off here, then one there, and so on... over 
the span of an hour or two... until it was all done.
</p>
<p>
Thus, some services didn&#39;t really go down, but they did have a bad time 
with a bunch of failed/dropped requests which were on the affected 
systems.
</p>
<p>
That one was dubbed the &#34;Back to the Future&#34; SEV.  At least one team 
made a screenshot of some display showing the 17 second offset the 
banner of the group where they talked about production issues.
</p>
<p>
Stuff like that is why I smeared it out.  When you can&#39;t be sure of the 
correctness of implementations, and there are good chances that attempts 
to fix them will be ignored, rebuffed, or actively attacked, you have to 
&#34;treat the whole situation as damage&#34; and route around it.  You remove 
the discontinuity in wall time to save them from themselves.
</p>
<p>
...
</p>
<p>
A reader asked for my take about &#34;AI&#34; and LLMs and all of this.
</p>
<p>
In the vein of the 
<a href="https://rachelbythebay.com/w/2025/01/04/cruft/">&#34;annoyances&#34; post</a>
from earlier in the month, I&#39;ll start by saying that I don&#39;t push any of 
that on you here, either.  All of this stuff is straight off my 
keyboard with a sprinkling of ispell applied after the fact.  Even 
that&#39;s of limited utility since there are a bunch of technical terms 
and not-really-words that I use for various reasons.
</p>
<p>
I think all of the hype and waste has generated an enormous mountain of 
useless nonsense that has attracted the absolute worst of the vampires 
and buzzards and bottom-feeders who are looking to exploit this stuff 
for their own benefit.  
</p>
<p>
The LAST thing we needed was a better way to generate plausible-looking 
horse shit for random gullible people to consume unwittingly, but here 
we are, and it&#39;s only going to get worse.
</p>
<p>
I think a lot of this falls into &#34;the Internet we deserve&#34;.
</p>
<p>
So no, I don&#39;t use anything of the sort, and I tell people not to quote 
any of that crap at me, or to send me screenshots of it pretending to be 
an answer to something, and that they need to find actual sources for 
their data.  This has not made me the most popular person.
</p>
<p>
But hey, I&#39;ve already said that I&#39;m obviously out of touch with what 
most people are up to.  My green-on-black terminal with nano in it 
that&#39;s writing up a bunch of plain text with a handful of triggers for 
callouts to other posts should be proof positive of that already.  
Hardly anyone else does things this way any more.  That makes me the 
weirdo, not them.  I know this.  I&#39;m okay with this.
</p>
<a href="https://rachelbythebay.com/w/2025/01/22/feedback/write.png" class="img-pair"><img src="https://rachelbythebay.com/w/2025/01/22/feedback/write-sm.png" width="300" height="169" alt="Screen shot of my X session showing the post being written and the list of posts off to the side.  Both are just ordinary text files in a boring old text editor."/></a>

  </body>
</html>
