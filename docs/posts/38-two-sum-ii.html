<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://elijer.github.io/garden/devnotes/LeetCode-Journal/38%29-Two-Sum-II">Original</a>
    <h1>38) Two Sum II</h1>
    
    <div id="readability-page-1" class="page"><div id="quartz-body"><div><article><p>Not immediately sure how this is different from <a href="https://leetcode.com/problems/two-sum/description/">OG two sum<svg aria-hidden="true" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="ts" data-theme="github-light github-dark"><code data-language="ts" data-theme="github-light github-dark"><span data-line=""><span>// 1 indexed</span></span>
<span data-line=""><span>// dear god why</span></span>
<span data-line=""><span>// already sorted numbers array</span></span>
<span data-line=""><span>// find two numbers that add up to a target</span></span>
<span data-line=""><span>// return the indices of the two numbers</span></span>
<span data-line=""> </span>
<span data-line=""><span>function</span><span> twoSum</span><span>(</span><span>numbers</span><span>:</span><span> number</span><span>[], </span><span>target</span><span>:</span><span> number</span><span>)</span><span>:</span><span> number</span><span>[] {</span></span>
<span data-line=""><span>    const</span><span> numMap</span><span>:</span><span> Map</span><span>&lt;</span><span>number</span><span>, </span><span>number</span><span>&gt; </span><span>=</span><span> new</span><span> Map</span><span>()</span></span>
<span data-line=""> </span>
<span data-line=""><span>    for</span><span> (</span><span>let</span><span> i </span><span>=</span><span> 1</span><span>; i </span><span>&lt;=</span><span> numbers.</span><span>length</span><span>; i</span><span>++</span><span>){</span></span>
<span data-line=""><span>        let</span><span> num </span><span>=</span><span> numbers[i</span><span>-</span><span>1</span><span>]</span></span>
<span data-line=""><span>        const</span><span> compliment</span><span> =</span><span> target </span><span>-</span><span> num</span></span>
<span data-line=""><span>        if</span><span> (numMap.</span><span>has</span><span>(compliment)){</span></span>
<span data-line=""><span>            return</span><span> [numMap.</span><span>get</span><span>(compliment)</span><span>!</span><span>, i]</span></span>
<span data-line=""><span>        }</span></span>
<span data-line=""><span>        numMap.</span><span>set</span><span>(num, i)</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""><span>};</span></span></code></pre></figure>
<p>Okay yup. Weirdness. Looks like Leetcode is just not really enforcing space-complexity correctly here, which is the kicker as far the differences go. I <em>shouldn’t</em> be allowed to use a hashmap ‘legally’ here, as hashmaps are obviously O(n) space complexity. That is, 100 elements use 100 elements of storage, and 10 use 10.</p>
<p>There is a way to use <em>pointers</em> so that 100 elements use 2 units of storage, as do 10. Let me try to figure that out.</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="ts" data-theme="github-light github-dark"><code data-language="ts" data-theme="github-light github-dark"><span data-line=""><span>function</span><span> twoSum</span><span>(</span><span>nums</span><span>:</span><span> number</span><span>[], </span><span>target</span><span>:</span><span> number</span><span>)</span><span>:</span><span> number</span><span>[] {</span></span>
<span data-line=""><span>    let</span><span> leftPoint </span><span>=</span><span> 0</span></span>
<span data-line=""><span>    let</span><span> rightPoint </span><span>=</span><span> 1</span></span>
<span data-line=""> </span>
<span data-line=""><span>    while</span><span> (leftPoint </span><span>&lt;</span><span> nums.</span><span>length</span><span>-</span><span>1</span><span>){</span></span>
<span data-line=""><span>        if</span><span> (nums[leftPoint]</span><span>+</span><span>nums[rightPoint] </span><span>===</span><span> target){</span></span>
<span data-line=""><span>            return</span><span> [leftPoint, rightPoint]</span></span>
<span data-line=""><span>        }</span></span>
<span data-line=""> </span>
<span data-line=""><span>        if</span><span> (rightPoint </span><span>&lt;</span><span> nums.</span><span>length</span><span>){</span></span>
<span data-line=""><span>            console.</span><span>log</span><span>({rightPoint})</span></span>
<span data-line=""><span>            rightPoint</span><span>++</span></span>
<span data-line=""><span>            continue</span></span>
<span data-line=""><span>        }</span></span>
<span data-line=""><span>        leftPoint</span><span>++</span></span>
<span data-line=""><span>        rightPoint </span><span>=</span><span> leftPoint </span><span>+</span><span> 1</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""><span>};</span></span></code></pre></figure>
<p>Messed up, and didn’t think to add this line at first:
<code>rightPoint = leftPoint + 1</code></p>
<p>There are some more problems. Here is the right solution:</p>
<figure data-rehype-pretty-code-figure=""><pre tabindex="0" data-language="ts" data-theme="github-light github-dark"><code data-language="ts" data-theme="github-light github-dark"><span data-line=""><span>function</span><span> twoSum</span><span>(</span><span>nums</span><span>:</span><span> number</span><span>[], </span><span>target</span><span>:</span><span> number</span><span>)</span><span>:</span><span> number</span><span>[] {</span></span>
<span data-line=""><span>    let</span><span> leftPoint </span><span>=</span><span> 0</span><span>;</span></span>
<span data-line=""><span>    let</span><span> rightPoint </span><span>=</span><span> 1</span><span>;</span></span>
<span data-line=""> </span>
<span data-line=""><span>    while</span><span> (leftPoint </span><span>&lt;</span><span> nums.</span><span>length</span><span> -</span><span> 1</span><span>) {</span></span>
<span data-line=""><span>        if</span><span> (nums[leftPoint] </span><span>+</span><span> nums[rightPoint] </span><span>===</span><span> target) {</span></span>
<span data-line=""><span>            return</span><span> [leftPoint, rightPoint];</span></span>
<span data-line=""><span>        }</span></span>
<span data-line=""> </span>
<span data-line=""><span>        // Move rightPoint to the next element</span></span>
<span data-line=""><span>        rightPoint</span><span>++</span><span>;</span></span>
<span data-line=""> </span>
<span data-line=""><span>        // If rightPoint reaches the end, move leftPoint forward and reset rightPoint</span></span>
<span data-line=""><span>        if</span><span> (rightPoint </span><span>&gt;=</span><span> nums.</span><span>length</span><span>) {</span></span>
<span data-line=""><span>            leftPoint</span><span>++</span><span>;</span></span>
<span data-line=""><span>            rightPoint </span><span>=</span><span> leftPoint </span><span>+</span><span> 1</span><span>;</span></span>
<span data-line=""><span>        }</span></span>
<span data-line=""><span>    }</span></span>
<span data-line=""> </span>
<span data-line=""><span>    // If no pair is found, return an empty array (or handle as needed)</span></span>
<span data-line=""><span>    return</span><span> [];</span></span>
<span data-line=""><span>}</span></span></code></pre></figure>
<p>My solution was weird…it sort of made sense. I was only moving the right point forward if there was “room”, but the clever thing is that I didn’t really <em>need</em> to make this check, as the <code>leftPoint &lt; nums.length-1</code> and the right point start as <em>1</em> more than this, so there’s at least room for it on the first loop.</p>
<p>Instead, I can check to see if we’ve reached that last position, or even <em>out of index</em> - it would be okay I guess if we went out of index since we aren’t going to pass it into the function where the array will be accessed.</p>
<p>So if we do find our right point is leaving the index on the right side, we can conclude</p>
<ol>
<li>We have checked every other potential match for our current left point, and can move the left point along</li>
<li>If we move the left point along, well, we need to “reset” the right point, 1 in front of our new left point</li>
</ol>
<p>The only real thing left to do is to return something if our while loop never finishes. Although. It should.</p></article><hr/></div></div></div>
  </body>
</html>
