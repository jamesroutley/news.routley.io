<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.jacobvosmaer.nl/0005-go-foreshadowings/">Original</a>
    <h1>5. Foreshadowings of the Go programming langauge</h1>
    
    <div id="readability-page-1" class="page"><div><p><i><a href="https://blog.jacobvosmaer.nl/">Jacob Vosmaer&#39;s blog</a></i></p>

<p>2019-12-20</p>

<p>My main programming language these days is Go. I like reading reading old papers and books. When reading things coming out of the old Bell Labs, I often see glimpses of ideas that made it into Go.</p>

<p>This is not an exhaustive list. There are many other places where you can see the Plan 9 - Go connection.</p>

<h2>Rob Pike: Notes on Programming in C</h2>

<p><a href="http://doc.cat-v.org/bell_labs/pikestyle">Notes on Programming in C</a> is a paper from 1989. Rob Pike is one of the three original designers of Go, along with Robert Griesemer and Ken Thompson.</p>

<!--
### Programming with data

This part has not much to do with Go but it stood out to me.

> One of the reasons data-driven programs are not common, at least among beginners, is the tyranny of Pascal.  Pascal, like its creator, believes firmly in the separation of code and data.

(Pike is referring to Niklaus Wirth.) I find this interesting because Wirth and (languages descending from) Pascal are known as one of the main influences on the design of Go.

I know too little about Pascal and its decendents to recognize and appreciate its influences on Go myself.
-->

<h3>Function pointers</h3>

<p>According to Pike function pointers are good. He talks about a programming style where you create a kind of &#34;protocol&#34; where you can swap in different sets of function pointers that satisfy that protocol.</p>

<blockquote>
  <p>There is this idea of a protocol, in that all functions used similarly must behave similarly.</p>

<p>I argue that clear use of function pointers is the heart of object-oriented programming. [...] The O-O languages give you more of course - prettier syntax, derived types and so on - but conceptually they provide little extra. </p>
</blockquote>

<p>This strikes me as the same idea as Go interfaces. Both the idea of having them, and of leaving out other parts of &#34;Object Oriented&#34;.</p>

<h2>Ken Thompson: A New C Compiler</h2>

<p><a href="http://doc.cat-v.org/bell_labs/new_c_compilers/">A New C Compiler</a> appears to be from around 1990.</p>

<p>If you&#39;re going to reinvent Unix by creating Plan 9, you might as well reinvent C. That is an exaggeration but more or less the point of the article.</p>

<p>I don&#39;t understand everything he is talking about but it&#39;s fun to read what the original author of C would have done differently.
Some things I believe made it into later versions of the C standard, such as sparse initialization of arrays.</p>

<p>Of note for Go is the appearance of anonymous struct embedding. Things in structs usually have names but in Go, you can embed structs anonymously, and then access embedded fields transparently through the outer struct.</p>

<pre><code>type Foo struct {
  Bar string
  sync.Mutex
}

f := &amp;Foo{}
f.Lock() // Transparently uses Foo.Mutex.Lock()
</code></pre>

<p>This paper from Ken Thompson shows the same idea, implemented in the Plan 9 dialect of C described by the paper.</p>
<details><summary>Edit history</summary><table>
<tbody><tr><td>2023-12-08</td><td></td><td>Remove embedded dates in favor of meta.json</td></tr>
<tr><td>2023-12-08</td><td></td><td>Add dates to header</td></tr>
<tr><td>2023-12-08</td><td></td><td>Add empty metadata files</td></tr>
<tr><td>2023-12-07</td><td></td><td>Add atom.xml</td></tr>
<tr><td>2023-11-28</td><td></td><td>Add some dates</td></tr>
<tr><td>2019-12-20</td><td></td><td>Typo</td></tr>
<tr><td>2019-12-20</td><td></td><td>Add 0005-go-foreshadowings</td></tr>
</tbody></table></details><p><a href="https://blog.jacobvosmaer.nl/">Back</a></p>
</div></div>
  </body>
</html>
