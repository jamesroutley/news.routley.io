<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://grafana.com/blog/2024/09/12/opentelemetry-and-vendor-neutrality-how-to-build-an-observability-strategy-with-maximum-flexibility/">Original</a>
    <h1>OpenTelemetry and vendor neutrality: how to build an observability strategy</h1>
    
    <div id="readability-page-1" class="page"><div><p>One of the biggest advantages of the OpenTelemetry project is its vendor neutrality — something that many community members appreciate, especially if they’ve spent huge amounts of time migrating from one commercial vendor to another. Vendor neutrality also happens to be a core element of our big tent philosophy here at Grafana Labs. We realize, however, that this neutrality can have its limits when it comes to real-world use cases.</p><p>In this post, we’ll explain vendor neutrality in the context of the open source OpenTelemetry project, including where it starts and ends, and how you can take advantage.</p><h2 id="three-key-layers-of-telemetry">Three key layers of telemetry</h2><p>Before we dive deeper into the concept of vendor neutrality, let’s look at the bigger picture, as it relates to telemetry and the OpenTelemetry project. In general, telemetry approaches usually involve three layers:</p><ol><li><strong>The apps and infrastructure</strong>: This is the source of the telemetry — meaning, the actual thing we will be observing.</li><li><strong>The telemetry collector</strong>: This is software that collects, filters, processes, and forwards telemetry signals.</li><li><strong>The telemetry backend</strong>: This can be broken down into two further layers: storage and exploitation, which is how we extract value out of telemetry signals. For example, at the exploitation layer, an SRE looks at a dashboard and determines that a particular service needs investigation.</li></ol><figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject"><a href="https://grafana.com/media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-components.png" itemprop="contentUrl"><p><img data-src="/media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-components.png" data-srcset="/media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-components.png?w=320 320w, /media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-components.png?w=550 550w, /media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-components.png?w=750 750w, /media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-components.png?w=900 900w, /media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-components.png?w=1040 1040w, /media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-components.png?w=1240 1240w, /media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-components.png?w=1920 1920w" data-sizes="auto" alt="A diagram depicting the layers of telemetry." width="1942" height="820"/></p></a></figure><p>You can get quite complex with all three layers, <a href="https://opentelemetry.io/blog/2024/otel-collector-anti-patterns/" target="_blank" rel="noopener noreferrer">particularly the collector layer</a>, but telemetry solutions usually have something in each category. This is a useful model to help ground what vendor neutrality means in this post, and how you achieve it.</p><h2 id="otels-vision-for-vendor-neutrality">OTel’s vision for vendor neutrality</h2><p>OTel is very appealing to folks coming from commercial vendors because they’ve often been burned by the costs of switching from proprietary instrumentations, agents, and/or collectors. To quote the <a href="https://opentelemetry.io/community/mission/" target="_blank" rel="noopener noreferrer">OpenTelemetry mission, vision, and values</a> page (bolded emphasis is ours):</p><blockquote><p><em>For decades, <strong>proprietary drop-in agents from monitoring and observability vendors have been the primary source for useful telemetry from across the application stack. Unfortunately, the lack of common standards or APIs across these agents has led to vendor lock-in for customers</strong>, and inhibited innovation by <strong>tightly coupling telemetry collection with telemetry storage and analysis</strong>. With OpenTelemetry, we strive to provide a level playing field for all observability providers, avoid lock-in to any vendor, and interoperate with other OSS projects in the telemetry and observability ecosystem.</em></p></blockquote><p>There are two key points to draw out of this:</p><ol><li>Tight coupling between telemetry collection, storage, and analysis is a bad idea (more on this below).</li><li>If you use a proprietary drop-in agent that does not conform to standards as a way of gathering telemetry, you will be locked into that vendor. This is because you cannot have a telemetry system without the data, and that vendor is the one way to get that data. That’s vendor lock-in (the opposite of vendor neutrality), in OTel terms.</li></ol><p>Let’s take a deeper look at both of these points.</p><h3 id="loose-coupling">Loose coupling</h3><p>Tight coupling is something we avoid in all software architecture work, because when system components (such as telemetry collection and exploitation) are tightly coupled, your flexibility to choose different options is limited. In other words, tight coupling facilitates lock-in.</p><p>OpenTelemetry, instead, facilitates “loose coupling,” because the standards and software you use for collection are independent from your backend. That’s a clear win. The way OTel components are built is also loosely coupled; you can use the SDKs without the collector, or a language-specific instrumentation API with a different SDK implementation. You can mix and match the various technical “pieces” of OpenTelemetry (the <a href="https://opentelemetry.io/docs/languages/php/sdk/" target="_blank" rel="noopener noreferrer">SDK</a>, <a href="https://opentelemetry.io/docs/languages/" target="_blank" rel="noopener noreferrer">API</a>, <a href="https://opentelemetry.io/docs/specs/otel/protocol/" target="_blank" rel="noopener noreferrer">OTLP</a>, and <a href="https://opentelemetry.io/docs/collector/" target="_blank" rel="noopener noreferrer">Collector</a>) with other implementations.</p><h3 id="open-standards">Open standards</h3><p>The second point is more complex, but just as important. A “proprietary drop-in agent” is something that represents and transmits telemetry data in a format only one vendor understands. This is where open standards really shine. A community agrees on the <a href="https://opentelemetry.io/docs/concepts/semantic-conventions/" target="_blank" rel="noopener noreferrer">semantic conventions</a> and on the wire representation (<a href="https://github.com/open-telemetry/opentelemetry-proto/blob/main/docs/design-goals.md" target="_blank" rel="noopener noreferrer">OTLP</a>). Any open source telemetry collector that supports those things no longer exhibits proprietary lock-in. Two things to note here:</p><ol><li><a href="https://opensource.org/osd" target="_blank" rel="noopener noreferrer">Open source means</a> anyone can contribute, modify, or fork; it cannot be owned by one company.</li><li>Standards-compliant means the telemetry collector “speaks the agreed upon language” of OpenTelemetry semantics and OTLP.</li></ol><p><a href="https://opentelemetry.io/docs/collector/" target="_blank" rel="noopener noreferrer">OTel Collector</a> is the first and primary telemetry collector that fits this bill, as a reference implementation.</p><p>Vendor lock-in is the opposite of those two facets: if you can’t fork or modify the collector, and if the collector doesn’t speak an open standard as its language, then you’ll be locked into using that vendor’s tools.</p><h2 id="telemetry-backends">Telemetry backends</h2><p>So far, we have been talking about sourcing, collecting, and processing telemetry. What about the backend?</p><p>In any architecture, eventually the data comes out of an OpenTelemetry-compatible collector, and goes into a database somewhere. That database might be <a href="https://grafana.com/oss/loki/">Grafana Loki</a> or <a href="https://grafana.com/oss/mimir/">Mimir</a>, or it could be Prometheus, Elasticsearch, or something else. This is where vendor neutrality starts to look different.</p><figure itemprop="associatedMedia" itemscope="" itemtype="http://schema.org/ImageObject"><a href="https://grafana.com/media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-backends-resized2.png" itemprop="contentUrl"><p><img data-src="/media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-backends-resized2.png" data-srcset="/media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-backends-resized2.png?w=320 320w, /media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-backends-resized2.png?w=550 550w, /media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-backends-resized2.png?w=750 750w, /media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-backends-resized2.png?w=900 900w, /media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-backends-resized2.png?w=1040 1040w, /media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-backends-resized2.png?w=1240 1240w, /media/blog/otel-vendor-neutrality/otel-vendor-neutrality-telemetry-backends-resized2.png?w=1920 1920w" data-sizes="auto" alt="A diagram depicting how telemetry backends work. " width="586" height="391"/></p></a></figure><p>At this point, it’s no longer about telemetry data being sourced and flowing on the wire — it’s about telemetry data at rest in a database. To utilize that telemetry, we’re going to have to pull it out of the database, and slice and dice it with queries. No matter what database you choose, what matters most is the database’s schema and query language. It will likely respect the semantic standards, but you don’t query databases with OTLP.</p><p>Next, you’ll build some set of dashboards on top of the queries from that database, and you might build alerts and other things, regardless of the vendor you choose. When you do this, you’re out of the OpenTelemetry world, and unavoidably building product-specific resources. If you use <a href="https://grafana.com/products/cloud/?pg=blog&amp;plcmt=body-txt">Grafana Cloud</a>, even if you’re feeding it with OTel signals, it may not be obvious how to migrate those usage patterns to a different backend, and the same is true for all other observability vendors. This is because there are no industry standards for things like dashboards and telemetry databases to adhere to. And, as stated on the “<a href="https://opentelemetry.io/docs/what-is-opentelemetry/" target="_blank" rel="noopener noreferrer">What is OpenTelemetry?</a>” page, telemetry storage and visualization are beyond the scope of the OTel project (bolded emphasis, again, is ours):</p><blockquote><p><em><strong>OpenTelemetry is not an observability backend</strong></em> <em>like Jaeger, Prometheus, or other commercial vendors. OpenTelemetry is focused on the generation, collection, management, and export of telemetry. A major goal of OpenTelemetry is that you can easily instrument your applications or systems, no matter their language, infrastructure, or runtime environment.</em> <em><strong>Crucially, the storage and visualization of telemetry is intentionally left to other tools.</strong></em></p></blockquote><h2 id="vendor-neutrality-from-different-angles">Vendor neutrality from different angles</h2><p>Implementation effort creates sunk cost, which is a factor in how lock-in happens. In this sense, no technology provides a guarantee you can avoid vendor lock-in completely.</p><p>OpenTelemetry is about decoupling and providing options in the app/infrastructure layer and collector layer (the first two “layers” of telemetry); the third layer, telemetry backends, is where most teams put in the effort to customize their view. When they do, they have an investment that can be hard to migrate later. It’s like picking a programming language: if you write an app in Go, we wouldn’t say you’re “locked-in” to Go, but in choosing it, you’ve made it harder to decide to rewrite in Rust later.</p><p>What you get out of telemetry backends comes from your investment: you build visualizations that satisfy your team’s needs. Grafana helps people avoid lock-in by enabling them to build dashboards on top of any database they’d like; you don’t have to use Loki, Mimir, and Tempo. Still, the fundamental remains: implementation effort with any vendor creates customizations, which later limit switching with ease.</p><p>This is why OpenTelemetry cannot create vendor neutrality at the backend layer, which is a common source of confusion for enterprises implementing it. OpenTelemetry is great, but if you’re architecting a solution, it’s important to understand these nuances around vendor neutrality.</p><h2 id="how-to-maximize-your-options">How to maximize your options</h2><h3 id="start-with-apps-and-traces">Start with apps and traces</h3><p>OpenTelemetry comes from roots in tracing and applications, so it is strongest in cases where you’re instrumenting apps that need traces.</p><p>Using an OpenTelemetry SDK and OpenTelemetry-compatible collectors will decouple telemetry collection from storage and exploitation. This can help future-proof your architecture and leave you free to have maximum options at the backend layer.</p><h3 id="adopt-in-layers">Adopt in layers</h3><p>We previously mentioned that OpenTelemetry components (SDKs, APIs, OTLP) are all loosely coupled, which means that you can pick and choose and adopt “layers” of OpenTelemetry as you go. There is simply no need to jump in all at once; layered adoption builds familiarity and mitigates risk. Standardizing at the protocol level of OTLP, though, might be a good first move, which can be done with an open source telemetry collector that supports OTLP.</p><p>This will let you pick and choose which language-specific APIs and SDKs make the most sense for your team. As long as they can write OTLP to a remote destination, you are in good shape. The world can be messy, though, and even if you can’t write OTLP directly from the source, often you can get your collector to emit OTLP, regardless of how the telemetry was gathered from the app. Within the app, if you choose to use non-OTel APIs for instrumentation, give preference to those that adhere to the semantic conventions, so you can benefit from tooling built elsewhere in the ecosystem, such as <a href="https://grafana.com/docs/grafana-cloud/monitor-applications/application-observability/">Grafana Cloud Application Observability</a>.</p><h3 id="ensure-reusable-instrumentation">Ensure reusable instrumentation</h3><p>If you’re evaluating different backends, you can use the same instrumentation setup to push telemetry signals to two or more backends. This way, you can do a “bake-off” and evaluate which one is a better fit.</p><p>Even though you will invest effort to build the solution you need, you still get an extra point of flexibility: upgrades, maintenance, and changes in the telemetry layers are still decoupled, so you can change your collection approach and your backend approach freely without having to rebuild the entire system.</p><h2 id="learn-more">Learn more</h2><p>OpenTelemetry’s original vision was to break out of the tight coupling found in older observability architectures. It also aimed to provide alternatives to proprietary drop-in agents that made switching telemetry backends difficult. The open source project has delivered on both points, and in this post, our goal was to provide some common-sense guidelines on how you can take advantage of that.</p><p>To learn more, check out our <a href="https://grafana.com/blog/2023/12/18/opentelemetry-best-practices-a-users-guide-to-getting-started-with-opentelemetry/">OpenTelemetry best practices</a> post, as well as our post about <a href="https://grafana.com/blog/2024/01/31/opentelemetry-and-grafana-labs-whats-new-and-whats-next/">recent milestones in the OpenTelemetry project and community</a>.</p></div></div>
  </body>
</html>
