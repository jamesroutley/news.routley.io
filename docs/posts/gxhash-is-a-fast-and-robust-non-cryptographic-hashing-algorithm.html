<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/ogxd/gxhash">Original</a>
    <h1>GxHash is a fast and robust non-cryptographic hashing algorithm</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><a href="https://github.com/ogxd/gxhash/actions/workflows/build_test.yml"><img src="https://github.com/ogxd/gxhash/actions/workflows/build_test.yml/badge.svg" alt="Build &amp; Test"/></a></p>
<p dir="auto">GxHash is a <a href="#performance"><strong>blazingly fast</strong></a> and <a href="#robustness"><strong>robust</strong></a> non-cryptographic hashing algorithm.</p>


<p dir="auto">Used directly as a hash function:</p>
<div dir="auto" data-snippet-clipboard-copy-content="let bytes: &amp;[u8] = &#34;hello world&#34;.as_bytes();
let seed = 1234;
println!(&#34; 32-bit hash: {:x}&#34;, gxhash::gxhash32(&amp;bytes, seed));
println!(&#34; 64-bit hash: {:x}&#34;, gxhash::gxhash64(&amp;bytes, seed));
println!(&#34;128-bit hash: {:x}&#34;, gxhash::gxhash128(&amp;bytes, seed));"><pre><span>let</span> bytes<span>:</span> <span>&amp;</span><span>[</span><span>u8</span><span>]</span> = <span>&#34;hello world&#34;</span><span>.</span><span>as_bytes</span><span>(</span><span>)</span><span>;</span>
<span>let</span> seed = <span>1234</span><span>;</span>
<span>println</span><span>!</span><span>(</span><span>&#34; 32-bit hash: {:x}&#34;</span>, gxhash::gxhash32<span>(</span>&amp;bytes, seed<span>)</span><span>)</span><span>;</span>
<span>println</span><span>!</span><span>(</span><span>&#34; 64-bit hash: {:x}&#34;</span>, gxhash::gxhash64<span>(</span>&amp;bytes, seed<span>)</span><span>)</span><span>;</span>
<span>println</span><span>!</span><span>(</span><span>&#34;128-bit hash: {:x}&#34;</span>, gxhash::gxhash128<span>(</span>&amp;bytes, seed<span>)</span><span>)</span><span>;</span></pre></div>
<p dir="auto">Used in <code>HashMap</code>/<code>HashSet</code>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="// Type alias for HashSet::&lt;String, GxBuildHasher&gt;
let mut hashset = gxhash::GxHashSet::default();
hashset.insert(&#34;hello world&#34;);"><pre><span>// Type alias for HashSet::&lt;String, GxBuildHasher&gt;</span>
<span>let</span> <span>mut</span> hashset = gxhash<span>::</span><span>GxHashSet</span><span>::</span><span>default</span><span>(</span><span>)</span><span>;</span>
hashset<span>.</span><span>insert</span><span>(</span><span>&#34;hello world&#34;</span><span>)</span><span>;</span></pre></div>


<p dir="auto">Up to this date, GxHash is the fastest non-cryptographic hashing algorithm of its class, for all input sizes. This performance is possible mostly thanks to heavy usage of SIMD intrinsics, high ILP construction and a small bytecode (easily inlined and cached).</p>

<p dir="auto">GxHash uses several rounds of hardware-accelerated AES block cipher for efficient bit mixing.</p>
<p dir="auto">Check out the <a href="https://github.com/ogxd/gxhash-rust/blob/main/article/article.pdf">paper</a> for more technical details.</p>

<blockquote>
<p dir="auto"><strong>Important</strong>
Because GxHash relies on <code>aes</code> hardware acceleration, you must make sure the <code>aes</code> feature is enabled when building (otherwise it won&#39;t build). This can be done by setting the <code>RUSTFLAGS</code> environment variable to <code>-C target-feature=+aes</code> or <code>-C target-cpu=native</code> (the latter should work if your CPU is properly recognized by rustc, which is the case most of the time).</p>
</blockquote>
<div dir="auto"><h3 tabindex="-1" dir="auto">Architecture Compatibility</h3><a id="user-content-architecture-compatibility" aria-label="Permalink: Architecture Compatibility" href="#architecture-compatibility"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">GxHash is compatible with:</p>
<ul dir="auto">
<li>X86 processors with <code>AES-NI</code> &amp; <code>SSE2</code> intrinsics</li>
<li>ARM processors with <code>AES</code> &amp; <code>NEON</code> intrinsics</li>
</ul>
<blockquote>
<p dir="auto"><strong>Warning</strong>
Other platforms are currently not supported (there is no fallback). GxHash will not build on these platforms.</p>
</blockquote>

<p dir="auto">All generated hashes for a given version of GxHash are stable, meaning that for a given input the output hash will be the same across all supported platforms.</p>

<p dir="auto">To run the benchmarks locally use one of the following:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# Benchmark throughput
cargo bench --bench throughput
# Benchmark performance of GxHash&#39;s Hasher when used in a HashSet
cargo bench --bench hashset
# Benchmark throughput and get output as a markdown table
cargo bench --bench throughput --features bench-md
# Benchmark throughput and get output as .svg plots
cargo bench --bench throughput --features bench-plot"><pre><span><span>#</span> Benchmark throughput</span>
cargo bench --bench throughput
<span><span>#</span> Benchmark performance of GxHash&#39;s Hasher when used in a HashSet</span>
cargo bench --bench hashset
<span><span>#</span> Benchmark throughput and get output as a markdown table</span>
cargo bench --bench throughput --features bench-md
<span><span>#</span> Benchmark throughput and get output as .svg plots</span>
cargo bench --bench throughput --features bench-plot</pre></div>
<p dir="auto">GxHash is continuously benchmarked on X86 and ARM Github runners.</p>
<p dir="auto"><strong>Lastest Benchmark Results:</strong></p>


<p dir="auto">GxHash is a seeded hashing algorithm, meaning that depending on the seed used, it will generate completely different hashes. The default <code>HasherBuilder</code> (<code>GxHasherBuilder::default()</code>) uses seed randomization, making any <code>HashMap</code>/<code>HashSet</code> more DOS resistant, as it will make it much more difficult for attackers to be able to predict which hashes may collide without knowing the seed used. This does not mean however that it is completely DOS resistant. This has to be analyzed further.</p>
<div dir="auto"><h3 tabindex="-1" dir="auto">Multicollisions Resistance</h3><a id="user-content-multicollisions-resistance" aria-label="Permalink: Multicollisions Resistance" href="#multicollisions-resistance"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">GxHash uses a 128-bit internal state. This makes GxHash <a href="https://en.wikipedia.org/wiki/Merkle%E2%80%93Damg%C3%A5rd_construction#Wide_pipe_construction" rel="nofollow">a widepipe construction</a> when generating hashes of size 64-bit or smaller, which had amongst other properties to be inherently more resistant to multicollision attacks. See <a href="https://www.iacr.org/archive/crypto2004/31520306/multicollisions.pdf" rel="nofollow">this paper</a> for more details.</p>

<p dir="auto">GxHash is a non-cryptographic hashing algorithm, thus it is not recommended to use it as a cryptographic algorithm (it is not a replacement for SHA). It has not been assessed if GxHash is preimage resistant and how difficult it is to be reversed.</p>

<ul dir="auto">
<li>Feel free to submit PRs</li>
<li>Repository is entirely usable via <code>cargo</code> commands</li>
<li>Versioning is the following
<ul dir="auto">
<li>Major for stability breaking changes (output hashes for a same input are different after changes)</li>
<li>Minor for API changes/removal</li>
<li>Patch for new APIs, bug fixes and performance improvements</li>
</ul>
</li>
</ul>
<blockquote>
<p dir="auto">ℹ️ <a href="https://github.com/gnzlbg/cargo-asm">cargo-asm</a> is an easy way to view the actual generated assembly code (<code>cargo asm gxhash::gxhash::gxhash64</code>) (method <code>#[inline]</code> should be removed otherwise it won&#39;t be seen by the tool)</p>
</blockquote>

<blockquote>
<p dir="auto">Author note:
I&#39;m committed to the open dissemination of scientific knowledge. In an era where access to information is more democratized than ever, I believe that science should be freely available to all – both for consumption and contribution. Traditional scientific journals often involve significant financial costs, which can introduce biases and can shift the focus from purely scientific endeavors to what is currently trendy.</p>
<p dir="auto">To counter this trend and to uphold the true spirit of research, I have chosen to share my work on &#34;gxhash&#34; directly on GitHub, ensuring that it&#39;s openly accessible to anyone interested. Additionally, the use of a free Zenodo DOI ensures that this research is citable and can be referenced in other works, just as traditional publications are.</p>
<p dir="auto">I strongly believe in a world where science is not behind paywalls, and I am in for a more inclusive, unbiased, and open scientific community.</p>
</blockquote>
<p dir="auto">Publication:</p>
<p dir="auto">Cite this publication / algorithm:</p>
</article></div></div>
  </body>
</html>
