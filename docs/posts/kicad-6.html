<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.revk.uk/2022/01/kicad-6.html">Original</a>
    <h1>KiCad 6</h1>
    
    <div id="readability-page-1" class="page"><div id="post-body-2649305252309606119" itemprop="description articleBody">
<p>I am using KiCad for PCB design, and it is pretty impressive, but KiCad version 6 has just been released.</p><p>There are lots of small changes, but all good. So I checked all my designs. Some tweaks were needed.</p><p>One of the nice things is I decided to look in to was making curvy tracks - mainly for the RF board I have - the PN532 NFC/RFID reader. RF is still voodoo, so no idea just yet if this is going to be an improvement or not. Hopefully the changed boards work just as well, if not better.</p><p>PCBs are like works of art, and a bit like coding, they can be tinkered with and fine tuned over and over again. KiCad caused me to start this again.</p><p>One issue was my antenna design - a simple loop. Previously I could fudge a &#34;line&#34; in copper on a footprint, and as long as the line did not cross the centre point of a pad it was not spotted by the DRC. The new KiCad does spot this, and so spots the antenna is a loop that shorts things. Well, antennas do that! I have yet to work out a way to tell it that this is a special case. So I worked around it.</p><p>What I did was make the 0603 links to the antenna part of its footprint. This means the loop can be a pad design with no pin name/number, and the other end 0603 pads (usually a 0R link) are the connection to the antenna footprint. That way it can pass DRC.</p><p>But the tinkering continued...</p><ul><li>Removed the separate 0.1&#34; connection pads as they fit in the 2.5mm pads and it means less copper near the antenna.</li><li>Re-tracking with curvy tracks and moving some away from antenna.</li><li>Changing layout so the RF Rx line is &#34;cleaner&#34; in that it has more space around it leading in to the PN532 and no ground plane under it.</li><li>Changed silkscreen - cleaner - indeed the &#34;face&#34; has no text. Removed the component designators as they are just clutter. Various tidying. Trying to make it look &#34;distinctive&#34; - did it work?</li><li>Changed LEDs so instead of abusing normal SMD LEDs and fitting backwards (face down) I have actual &#34;reverse mount&#34; LEDs instead. This should mean it is possible to use in a pick and place machine.</li><li>Cleaning up the BOM so I can actually get a quote for sourcing and assembly.</li><li>I hope you like the &#34;eyes&#34; :-)</li></ul><p>We know these boards work well, and all of these tweaks should do no harm, and may even improve it.</p><h3>So what next?</h3><p>Well, I have the reverse mount LEDs coming Thursday, so I can work out the right resistors as they are higher current - also making sure the PN532 can drive them OK. I will then get some PCBs made to test all these changes - probably an express order PCBTrain to arrive Friday.</p><p>Once I have the PCBs I&#39;ll know if the new layout works as well as before, and if the LEDs work properly and so on. The 3D case design does not even need to change!</p><p>This leave the real next step - I have a BOM that loads OK on PCBTrain quoting tool, and gives pricing. I need to talk to them as it seems more for components that direct from Mouser, but I am sure that can be sorted. As with most components there is a shit lead time, especially for the PN532 chip. It does look like it will be not as cheap as I would like, around £30 a board assembled on small ish quantities (100), maybe £20 for 1000 off. So I am interested in if people want this. My plan for now is make some and sell at cost on Amazon.</p><p>They are a cool device for any hobby project and unlike some of the other PN532 boards they are designed to be used for access control, with tamper switch button and traffic light LEDs built in, and a small 40x40 size. Also, unlike a lot of others, they have BAV99 diodes to provide more ESD protection of the pins and LEDs.</p><p><a href="https://blogger.googleusercontent.com/img/a/AVvXsEi7Lmwxf3xDCaJWrdXynoHZzwdCD3-ayIbBv2vrPcaKd3jxiLS7zjvSwVpi5XQ9rp-7TCGJNEocsPHMJ2XO2uAqz6mN7qSIZ7ypT2BoIwY0Q0FT60O585yNgQmo5DWGy6_oiq_eiw-FoGjXNudX0EZxnmyL1HcrsyjbUkuFQ1gnGNpHXeFgOOux208I6Q=s2272"><img data-original-height="2272" data-original-width="2248" height="400" src="https://blogger.googleusercontent.com/img/a/AVvXsEi7Lmwxf3xDCaJWrdXynoHZzwdCD3-ayIbBv2vrPcaKd3jxiLS7zjvSwVpi5XQ9rp-7TCGJNEocsPHMJ2XO2uAqz6mN7qSIZ7ypT2BoIwY0Q0FT60O585yNgQmo5DWGy6_oiq_eiw-FoGjXNudX0EZxnmyL1HcrsyjbUkuFQ1gnGNpHXeFgOOux208I6Q=w396-h400" width="396"/></a></p></div></div>
  </body>
</html>
