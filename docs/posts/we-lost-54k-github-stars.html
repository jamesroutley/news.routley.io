<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://httpie.io/blog/stardust">Original</a>
    <h1>We lost 54k GitHub stars</h1>
    
    <div id="readability-page-1" class="page"><div data-testid="blog-post-content"><section><h2 id="gaining-54k-github-stars">Gaining 54k GitHub stars</h2><p>HTTPie for Terminal is celebrating <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://github.com/httpie/httpie/commit/b966efa17">10 years since the first commit</a>.</p><p>If you‚Äôre unfamiliar with the project, it‚Äôs an open-source CLI HTTP client. What makes HTTPie different is that we build it from the ground up to make API interaction from the terminal as human-friendly as possible.</p><p>Starting with the first public release, published on the 25th of February 2012 from a rainy Copenhagen, we‚Äôve hosted the project on GitHub.</p><p>I‚Äôve been a GitHub fan ever since I became a member a couple of years earlier (the type that wears Octocat-decorated t-shirts, no less). It was back in the day when GitHub‚Äôs <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://web.archive.org/web/20120202143615/https:/github.com/about">about page</a> proudly proclaimed they took $0.00 in VC funding and informed you about the number of delicious beers on tap in their  SF office.</p><p>So GitHub was an obvious choice when I realized that the result of scratching my own API testing itch might be of interest to the wider developer community. And of interest it was.</p><p>I remember the rush of HTTPie becoming the top link on Hacker News for the first time and seeing the GitHub community build up. Over the years as we continued to improve the project it kept attracting widespread adoption. It became the most popular API tool on the platform, and the GitHub community grew to 54k stargazers and 1k+ watchers.</p><div data-image-wrapper="true" data-image-width="1219" data-image-height="831"><p><img alt="stars" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill"/></p></div><p>There are <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://github.com/search">289M public repos</a> so HTTPie was among the top 80 most popular public repos on GitHub overall; in the 99.99997203 percentile. In short, It was incredible to see this humble tool attract a community of that magnitude. And GitHub played an important role in that.</p><p>In the same way that we benefited from GitHub‚Äôs ‚Äúsocial coding‚Äù features, GitHub benefited from our hosting this popular project on their platform. Over the past decade, possibly millions of developers visited our GitHub page. That‚Äôs helped reinforce GitHub (Microsoft) as a company that cares about open source and community. It was a symbiotic relationship.</p></section>
<section><h2 id="losing-54k-github-stars">Losing 54k GitHub stars</h2><p>However, if you are one of our 55k stargazers and watchers, as of a few weeks ago you no longer are üíî</p><section><h3 id="what-happened">What happened?</h3><p>Due to an unfortunate sequence of events, I accidentally made the project‚Äôs repository private for a moment. And GitHub cascade-deleted our community that took 10 years to build.</p><div data-image-wrapper="true" data-image-width="1219" data-image-height="831"><p><img alt="stars2" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill"/></p></div></section><section><h3 id="what-does-it-mean">What does it mean?</h3><p>If you‚Äôre a downstream maintainer or anyone previously watching <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://github.com/httpie/httpie">httpie/httpie</a> for notifications, for example, you‚Äôll need to re-watch the repo. Incidentally, we‚Äôve recently published <a role="link" tabindex="0" href="https://omarish.com/blog/httpie-3.1.0">a security release</a>.</p><p>The same goes for stars. If you‚Äôre one of those 54K people who‚Äôve starred the repo any time in the past decade, the repo is no longer among your starred projects.</p></section><section><h3 id="why-did-you-make-the-repo-private">Why did you make the repo private‚ÄΩ</h3><p>It‚Äôs a peculiarity of GitHub, to put it mildly, that making a repo private permanently deletes all watchers and stars. I was even aware of this, and I obviously had no intention to make <code>httpie/httpie</code> private. So, why then?</p><div data-image-wrapper="true" data-image-width="1495" data-image-height="432"><p><img alt="visibility" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill"/></p></div><p>The proximate cause was that I thought I was inside a different repo; one with no content and zero stars. What I actually intended to do was to hide the <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://github.com/httpie">HTTPie organization‚Äôs</a> profile README, which I had created the week before but had no opportunity to populate.</p><p>What put me on the wrong path was an otherwise completely unrelated action: I had just done the same (i.e., hidden an empty README) on my personal profile by making <code>jakubroztocil/jakubroztocil</code> private.</p><p>GitHub‚Äôs conceptual model treats users and organizations as very similar entities when it comes to profiles and repos. In this context, and since I just wanted to repeat the same benign action on our organization‚Äôs profile, my brain switched to auto-pilot mode.</p><p>I didn‚Äôt realize at the moment there‚Äôs an inconsistency in the naming of this special repo containing profile READMEs and that it differs for users and organizations: <code>name/name</code> vs.  <code>name/.github</code>.</p><p>That‚Äôs why I proceeded to make <code>httpie/httpie</code> private instead of <code>httpie/.github</code> without realizing my mistake.</p></section><section><h3 id="but-theres-a-confirmation-right">But there‚Äôs a confirmation, right‚ÄΩ</h3><p>There‚Äôs a confirmation box. It‚Äôs designed to stop users in a situation like mine from doing something stupid. It tells you that <em>‚ÄúYou will permanently lose all stars and watchers of this repository.‚Äù</em> That‚Äôs pretty scary.</p><p>The problem is that the box looks exactly the same for repos with no commits and stars and for repos with a decade-long history and 55k stargazers and watchers. And it says <em>‚ÄúWarning: this is a <strong>potentially destructive</strong> action.‚Äù</em></p><p>To paraphrase, the box tells you <em>‚ÄúYou‚Äôre about to demolish a house. <strong>If</strong> there are any people inside, they will all die‚Äù</em>.</p><p>But it doesn‚Äôt include anything specific to break you out of your auto-pilot mode if you‚Äôve confused the address and think you‚Äôre looking at an empty house.</p><p>A 54k-star question: Which one of these two dialogs is safe to confirm and which one deletes a 10-year-old community?</p><div data-image-wrapper="true" data-image-width="1263" data-image-height="917"><p><img alt="confirm" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill"/></p></div><p>The dialog should be more contextual and, paraphrasing again, it should say <em>‚ÄúYou‚Äôre about to kill 55,000 people.‚Äù</em> That would‚Äôve certainly made me pause.</p></section><section><h3 id="so-you-made-it-private-just-flip-the-switch">So you made it private, just flip the switch!</h3><p>You can imagine my confusion when I went back to the organization page and not only could I still see the empty README but our most popular repo was nowhere to be found. After a moment I realized what happened. So I went back to the repo‚Äôs settings to flip the switch. But GitHub didn‚Äôt allow me to do that‚Äîfor an entire half an hour.</p><div data-image-wrapper="true" data-image-width="1525" data-image-height="747"><p><img alt="delete" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill"/></p></div><p>If you‚Äôre wondering why so long, it‚Äôs because ü•Å that‚Äôs how long it took GitHub to cascade-delete our decade of stargazers and watchers. And there was no way to stop the process. All I could do was start writing to GitHub support, refresh the page and wait for the number of stars to reach zero before I could make it public again.</p></section><section><h3 id="why-doesnt-github-restore-it">Why doesn‚Äôt GitHub restore it‚ÄΩ</h3><p>GitHub obviously has backups. And it is indeed possible to undo the damage done by accidentally making a repo private. The GitHub team themselves accidentally made the <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://github.com/desktop/desktop">GitHub Desktop app repo</a> private once. And they restored everything for themselves within hours. Here‚Äôs the former GitHub CEO <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://twitter.com/natfriedman/status/1328410589291446274">explaining the situation</a>:</p><div data-image-wrapper="true" data-image-width="1181" data-image-height="633"><p><img alt="tweet" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill"/></p></div><p>In our case, however, they refuse to do that, citing undesirable side effects and the cost of resources. We even offered GitHub financial compensation for any resources required. But, sadly, they declined. They have other priorities than resurrecting the community of one of the oldest and most popular community projects on their platform.</p><p>So the answer to the question is, unfortunately, the following: GitHub will restore a repo damaged by making it private. But only if it‚Äôs one of their own projects, not a community one. The latter gets a <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://twitter.com/github/status/1493329046708670475">tweet</a>, at best.</p></section></section>
<section><h2 id="lessons-learned">Lessons learned</h2><p>One should never let a good crisis go to waste. Our options are limited, but there are at least a few lessons learned that might be valuable to share.</p><section><h3 id="lesson-1-ui-ux-design">Lesson #1: UI/UX design</h3><p>Show, don‚Äôt tell. Design confirmation dialogs in a don‚Äôt-make-me-think fashion. When the user is about to destroy something, don‚Äôt describe that as a potential scenario in abstract words that the user needs to convert to mental images and put values on. Especially when cascade-deleting as a side effect of the primary action. For example, here‚Äôs how we approach that in <a role="link" tabindex="0" href="https://omarish.com/product">HTTPie for Desktop</a>:</p><div data-image-wrapper="true" data-image-width="1282" data-image-height="788"><p><img alt="delete2" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill"/></p></div><p>And, of course, the dialog should reflect the severity of the side-effect. It should be quiet when there are no side effects at all. Otherwise, we risk desensitizing the user by wasting their limited attention capital:</p><div data-image-wrapper="true" data-image-width="1282" data-image-height="586"><p><img alt="delete3" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill"/></p></div></section><section><h3 id="lesson-2-database-design">Lesson #2: Database design</h3><p>Use soft-deletes. People are human and they make mistakes. For hard-deletes, delay the process.</p><div data-image-wrapper="true" data-image-width="1525" data-image-height="841"><p><img alt="soft" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill"/></p></div></section><section><h3 id="lesson-3-relationship-with-github">Lesson #3: Relationship with GitHub</h3><p>It was a human error on our side and GitHub made it clear they‚Äôre not legally obliged to help us. The tone of our decade-long mutually-beneficial relationship is set by GitHub‚Äôs Terms of Service. Thinking there was more to it was naive.</p><p>After all, GitHub has a history of taking <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://news.ycombinator.com/item?id=24872911">controversial actions</a> that go against the spirit of open source and community and then <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://github.blog/2020-11-16-standing-up-for-developers-youtube-dl-is-back/">reverting them</a> only based on public outrage. And Microsoft (which now owns GitHub), despite its newly-found affection for open source, has not always had exactly a <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://www.reddit.com/r/OutOfTheLoop/comments/2v4ses/why_is_microsoft_so_widely_considered_evil/">great</a> <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://en.wikipedia.org/wiki/Embrace,_extend,_and_extinguish">reputation</a>.</p></section></section>
<section><h2 id="whats-next">What‚Äôs next?</h2><p>We continue to hope GitHub/Microsoft change their machine-like attitude and restore the project‚Äôs community one day. They still have all the data and the means to do that. We also hope they improve the UI and database design to prevent this from happening to <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://twitter.com/sourcegraph/status/1070201585102274561">other teams</a> in the future.</p><p>In the meantime, you can help us by sharing this story and <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://github.com/httpie/httpie">re-watching/starring the repo</a>.</p><p>As for me, I will probably take a break from wearing Octocat-decorated t-shirts.</p></section>
<section><h2 id="epilogue">Epilogue</h2><p>Despite our GitHub stars turning into dust, HTTPie has never been doing better. What started as a side project has recently become a company and our team is growing HTTPie into an API development platform (one as delightful as you‚Äôd expect from HTTPie). The private beta of <a role="link" tabindex="0" href="https://omarish.com/product">HTTPie for Web &amp; Desktop</a> has been receiving great feedback, and we cannot wait to launch it to the public in the upcoming weeks.</p><p>If you‚Äôd like to stay up-to-date, you can join our <a role="link" tabindex="0" href="https://omarish.com/discord">Discord community</a> or follow <a role="link" tabindex="0" target="_blank" rel="noopener noreferrer" href="https://twitter.com/httpie">@httpie</a>.</p></section></div></div>
  </body>
</html>
