<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://justinacho.bearblog.dev/breadcrumb-nav/">Original</a>
    <h1>Breadcrumb Navigation Using React Router v6</h1>
    
    <div id="readability-page-1" class="page"><div><p>A couple weeks ago I wanted to add what I recently discovered are called <em>breadcrumbs</em> to my frontend. I described it as &#34;a representation of the pathname in my header&#34;. I didn&#39;t know navigation breadcrumbs was a thing so my first instinct was very simple:</p>
<ol>
<li>Get the path of the current URL (useLocation from React Router, ex: /cooked/recipes/spaghetti)</li>
<li>Tokenize the pathname, display each token string with a separator in the header, and add a link for each token. For example, on the page for a spaghetti recipe, the header would display &#34;cooked / recipes / spaghetti&#34;. Clicking &#34;spaghetti&#34; would link to https://baseURL.com/recipes/spaghetti, &#34;recipes&#34; would link to https://baseURL.com/recipes, and &#34;cooked&#34; would link to https://baseURL.com</li>
</ol>
<p>Looking back, I think this could have also worked. I would have had to get the current URL every time I navigated to a new page and do some small computation to render the proper header, but still, it would have worked.</p>
<p>Later, when I learned the correct terminology and after a simple google search, I found that <a href="https://reactrouter.com/en/main">React Router</a> described a breadcrumbs use case for their <a href="https://reactrouter.com/en/main/hooks/use-matches">useMatches hook</a>, so I attempted to try this.</p>
<p>Unfortunately, the React Router documentation for breadcrumbs isn&#39;t that detailed so I had to do a lot of googling to put the pieces together, but after some time, I realized that my current method of routing using <code>BrowserRouter</code> wasn&#39;t going to work. I wanted to take advantage of React Router&#39;s data API in order to easily render the recipe name in my crumb (instead of id), so before getting to my <code>Breadcrumbs</code> component, I needed to refactor my code to use <code>createBrowserRouter</code> (which is the recommended router for all React Router web projects)</p>
<h2 id="createbrowserrouter"><a href="https://reactrouter.com/en/main/routers/create-browser-router"><code>createBrowserRouter</code></a></h2>
<p>Below is how my routing was set up using <code>BrowserRouter</code>:</p>
<div><pre><span></span><span>// App.tsx</span>

<span>...</span>

<span>function</span><span> </span><span>App</span><span>()</span><span> </span><span>{</span>
<span>  </span><span>return</span><span> </span><span>(</span>
<span>    </span><span>&lt;</span><span>BrowserRouter</span><span>&gt;</span>
<span>      </span><span>&lt;</span><span>div</span><span> </span><span>className</span><span>=</span><span>&#34;flex flex-col m-auto min-h-[100vh]&#34;</span><span>&gt;</span>
<span>        </span><span>&lt;</span><span>Header</span><span> </span><span>/&gt;</span>
<span>        </span><span>&lt;</span><span>div</span><span> </span><span>className</span><span>=</span><span>&#34;flex-grow flex justify-center&#34;</span><span>&gt;</span>
<span>          </span><span>&lt;</span><span>Routes</span><span>&gt;</span>
<span>            </span><span>&lt;</span><span>Route</span><span> </span><span>path</span><span>=</span><span>&#34;/&#34;</span><span> </span><span>element</span><span>=</span><span>{</span><span>&lt;</span><span>Home</span><span> </span><span>/&gt;</span><span>}</span><span> </span><span>/&gt;</span>
<span>            </span><span>&lt;</span><span>Route</span><span> </span><span>path</span><span>=</span><span>&#34;/recipes&#34;</span><span> </span><span>element</span><span>=</span><span>{</span><span>&lt;</span><span>Recipes</span><span> </span><span>/&gt;</span><span>}</span><span> </span><span>/&gt;</span>
<span>            </span><span>&lt;</span><span>Route</span><span> </span><span>path</span><span>=</span><span>&#34;/recipes/:_id&#34;</span><span> </span><span>element</span><span>=</span><span>{</span><span>&lt;</span><span>RecipeDetails</span><span> </span><span>/&gt;</span><span>}</span><span> </span><span>/&gt;</span>
<span>            </span><span>&lt;</span><span>Route</span><span> </span><span>path</span><span>=</span><span>&#34;/recipes/new&#34;</span><span> </span><span>element</span><span>=</span><span>{</span><span>&lt;</span><span>CreateRecipe</span><span> </span><span>/&gt;</span><span>}</span><span> </span><span>/&gt;</span>
<span>          </span><span>&lt;</span><span>/Routes&gt;</span>
<span>        </span><span>&lt;</span><span>/div&gt;</span>
<span>        </span><span>&lt;</span><span>Footer</span><span> </span><span>/&gt;</span>
<span>      </span><span>&lt;</span><span>/div&gt;</span>
<span>    </span><span>&lt;</span><span>/BrowserRouter&gt;</span>
<span>  </span><span>);</span>
<span>}</span>
</pre></div>
<p>Initially, in my refactor, I followed the React Router documentation where <code>createBrowserRouter</code> takes in an array of <code>Route</code> objects with nested routes on the <code>children</code> property. This <code>createBrowserRouter</code> object is passed to the <code>&lt;RouterProvider&gt;</code> component, which is returned and rendered by the app and enables the data APIs.</p>
<div><pre><span></span><span>//App.tsx</span>

<span>...</span>

<span>const</span><span> </span><span>router</span><span> </span><span>=</span><span> </span><span>createBrowserRouter</span><span>([</span>
<span>  </span><span>{</span>
<span>    </span><span>element</span><span>:</span><span> </span><span>&lt;</span><span>Layout</span><span> </span><span>/&gt;</span><span>,</span>
<span>    </span><span>children</span><span>:</span><span> </span><span>[</span>
<span>      </span><span>{</span>
<span>        </span><span>path</span><span>:</span><span> </span><span>&#34;/&#34;</span><span>,</span>
<span>        </span><span>handle</span><span>:</span><span> </span><span>{</span><span> </span><span>crumb</span><span>:</span><span> </span><span>()</span><span> </span><span>=&gt;</span><span> </span><span>&lt;</span><span>Link</span><span> </span><span>to</span><span>=</span><span>{</span><span>`/`</span><span>}</span><span>&gt;</span><span>cooked</span><span>&amp;</span><span>nbsp</span><span>;</span><span>&lt;</span><span>/Link&gt; },</span>
<span>        </span><span>children</span><span>:</span><span> </span><span>[</span>
<span>          </span><span>{</span><span> </span><span>index</span><span>:</span><span> </span><span>true</span><span>,</span><span> </span><span>element</span><span>:</span><span> </span><span>&lt;</span><span>Home</span><span> </span><span>/&gt;</span><span> </span><span>},</span>
<span>          </span><span>{</span>
<span>            </span><span>path</span><span>:</span><span> </span><span>&#34;/recipes&#34;</span><span>,</span>
<span>            </span><span>handle</span><span>:</span><span> </span><span>{</span>
<span>              </span><span>crumb</span><span>:</span><span> </span><span>()</span><span> </span><span>=&gt;</span><span> </span><span>&lt;</span><span>Link</span><span> </span><span>to</span><span>=</span><span>&#34;/recipes&#34;</span><span>&gt;</span><span>/&amp;nbsp;recipes&amp;nbsp;&lt;/Link&gt;,</span>
<span>            </span><span>},</span>
<span>            </span><span>children</span><span>:</span><span> </span><span>[</span>
<span>              </span><span>{</span>
<span>                </span><span>index</span><span>:</span><span> </span><span>true</span><span>,</span>
<span>                </span><span>loader</span><span>:</span><span> </span><span>async</span><span> </span><span>()</span><span> </span><span>=&gt;</span><span> </span><span>{</span>
<span>                  </span><span>const</span><span> </span><span>recipes</span><span> </span><span>=</span><span> </span><span>await</span><span> </span><span>recipeService</span><span>.</span><span>getAll</span><span>();</span>
<span>                  </span><span>return</span><span> </span><span>recipes</span><span>.</span><span>reverse</span><span>();</span>
<span>                </span><span>},</span>
<span>                </span><span>element</span><span>:</span><span> </span><span>&lt;</span><span>Recipes</span><span> </span><span>/&gt;</span><span>,</span>
<span>              </span><span>},</span>
<span>              </span><span>{</span>
<span>                </span><span>path</span><span>:</span><span> </span><span>&#34;/recipes/:_id&#34;</span><span>,</span>
<span>                </span><span>element</span><span>:</span><span> </span><span>&lt;</span><span>RecipeDetails</span><span> </span><span>/&gt;</span><span>,</span>
<span>                </span><span>loader</span><span>:</span><span> </span><span>async</span><span> </span><span>({</span><span> </span><span>params</span><span> </span><span>})</span><span> </span><span>=&gt;</span><span> </span><span>{</span>
<span>                  </span><span>return</span><span> </span><span>await</span><span> </span><span>recipeService</span><span>.</span><span>get</span><span>(</span><span>params</span><span>.</span><span>_id</span><span>!</span><span>);</span>
<span>                </span><span>},</span>
<span>                </span><span>handle</span><span>:</span><span> </span><span>{</span>
<span>                  </span><span>crumb</span><span>:</span><span> </span><span>(</span><span>data</span><span>:</span><span> </span><span>RecipeType</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>(</span>
<span>                    </span><span>&lt;</span><span>Link</span><span> </span><span>to</span><span>=</span><span>{</span><span>`/recipes/</span><span>${</span><span>data</span><span>.</span><span>_id</span><span>}</span><span>`</span><span>}</span><span> </span><span>reloadDocument</span><span>&gt;</span>
<span>                      </span><span>/&amp;nbsp;</span>
<span>                      </span><span>{</span><span>data</span><span>.</span><span>name</span><span>}</span>
<span>                    </span><span>&lt;</span><span>/Link&gt;</span>
<span>                  </span><span>),</span>
<span>                </span><span>},</span>
<span>              </span><span>},</span>
<span>              </span><span>{</span>
<span>                </span><span>path</span><span>:</span><span> </span><span>&#34;/recipes/new&#34;</span><span>,</span>
<span>                </span><span>element</span><span>:</span><span> </span><span>&lt;</span><span>CreateRecipe</span><span> </span><span>/&gt;</span><span>,</span>
<span>                </span><span>handle</span><span>:</span><span> </span><span>{</span>
<span>                  </span><span>crumb</span><span>:</span><span> </span><span>()</span><span> </span><span>=&gt;</span><span> </span><span>&lt;</span><span>Link</span><span> </span><span>to</span><span>=</span><span>&#34;/recipes/new&#34;</span><span>&gt;</span><span>/&amp;nbsp;new&lt;/Link&gt;,</span>
<span>                </span><span>},</span>
<span>              </span><span>},</span>
<span>            </span><span>],</span>
<span>          </span><span>},</span>
<span>        </span><span>],</span>
<span>      </span><span>},</span>
<span>    </span><span>],</span>
<span>  </span><span>},</span>
<span>]);</span>

<span>function</span><span> </span><span>App</span><span>()</span><span> </span><span>{</span>
<span>  </span><span>return</span><span> </span><span>&lt;</span><span>RouterProvider</span><span> </span><span>router</span><span>=</span><span>{</span><span>router</span><span>}</span><span> </span><span>/&gt;</span><span>;</span>
<span>}</span>

<span>export</span><span> </span><span>default</span><span> </span><span>App</span><span>;</span>
</pre></div>
<p>As you can see, <code>createBrowserRouter</code> looks very different from the <code>BrowserRouter</code> usage that I initially had, which uses JSX. It turns out that <code>createBrowserRouter</code> router can also be written with JSX!</p>
<div><pre><span></span><span>...</span>

<span>const</span><span> </span><span>router</span><span> </span><span>=</span><span> </span><span>createBrowserRouter</span><span>(</span>
<span>  </span><span>createRoutesFromElements</span><span>(</span>
<span>    </span><span>&lt;</span><span>Route</span><span> </span><span>element</span><span>=</span><span>{</span><span>&lt;</span><span>Layout</span><span> </span><span>/&gt;</span><span>}</span><span>&gt;</span>
<span>      </span><span>&lt;</span><span>Route</span>
<span>        </span><span>path</span><span>=</span><span>&#34;/&#34;</span>
<span>        </span><span>handle</span><span>=</span><span>{{</span><span> </span><span>crumb</span><span>:</span><span> </span><span>()</span><span> </span><span>=&gt;</span><span> </span><span>&lt;</span><span>Link</span><span> </span><span>to</span><span>=</span><span>{</span><span>`/`</span><span>}</span><span>&gt;</span><span>cooked</span><span>&amp;</span><span>nbsp</span><span>;</span><span>&lt;</span><span>/Link&gt; }}</span>
<span>      </span><span>&gt;</span>
<span>        </span><span>&lt;</span><span>Route</span><span> </span><span>index</span><span>=</span><span>{</span><span>true</span><span>}</span><span> </span><span>element</span><span>=</span><span>{</span><span>&lt;</span><span>Home</span><span> </span><span>/&gt;</span><span>}</span><span> </span><span>/&gt;</span>
<span>        </span><span>&lt;</span><span>Route</span>
<span>          </span><span>path</span><span>=</span><span>&#34;/recipes&#34;</span>
<span>          </span><span>handle</span><span>=</span><span>{{</span>
<span>            </span><span>crumb</span><span>:</span><span> </span><span>()</span><span> </span><span>=&gt;</span><span> </span><span>&lt;</span><span>Link</span><span> </span><span>to</span><span>=</span><span>&#34;/recipes&#34;</span><span>&gt;</span><span>/&amp;nbsp;recipes&amp;nbsp;&lt;/Link&gt;,</span>
<span>          </span><span>}}</span>
<span>        </span><span>&gt;</span>
<span>          </span><span>&lt;</span><span>Route</span>
<span>            </span><span>index</span><span>=</span><span>{</span><span>true</span><span>}</span>
<span>            </span><span>element</span><span>=</span><span>{</span><span>&lt;</span><span>Recipes</span><span> </span><span>/&gt;</span><span>}</span>
<span>            </span><span>loader</span><span>=</span><span>{</span><span>async</span><span> </span><span>()</span><span> </span><span>=&gt;</span><span> </span><span>{</span>
<span>              </span><span>const</span><span> </span><span>recipes</span><span> </span><span>=</span><span> </span><span>await</span><span> </span><span>recipeService</span><span>.</span><span>getAll</span><span>();</span>
<span>              </span><span>return</span><span> </span><span>recipes</span><span>.</span><span>reverse</span><span>();</span>
<span>            </span><span>}}</span>
<span>          </span><span>/&gt;</span>
<span>          </span><span>&lt;</span><span>Route</span>
<span>            </span><span>path</span><span>=</span><span>&#34;/recipes/:id&#34;</span>
<span>            </span><span>element</span><span>=</span><span>{</span><span>&lt;</span><span>RecipeDetails</span><span> </span><span>/&gt;</span><span>}</span>
<span>            </span><span>loader</span><span>=</span><span>{({</span><span> </span><span>params</span><span> </span><span>})</span><span> </span><span>=&gt;</span><span> </span><span>recipeService</span><span>.</span><span>get</span><span>(</span><span>params</span><span>.</span><span>id</span><span>!</span><span>)}</span>
<span>            </span><span>handle</span><span>=</span><span>{{</span>
<span>              </span><span>crumb</span><span>:</span><span> </span><span>(</span><span>data</span><span>:</span><span> </span><span>RecipeType</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>(</span>
<span>                </span><span>&lt;</span><span>Link</span><span> </span><span>to</span><span>=</span><span>{</span><span>`/recipes/</span><span>${</span><span>data</span><span>.</span><span>_id</span><span>}</span><span>`</span><span>}</span><span> </span><span>reloadDocument</span><span>&gt;</span>
<span>                  </span><span>/&amp;nbsp;</span>
<span>                  </span><span>{</span><span>data</span><span>.</span><span>name</span><span>}</span>
<span>                </span><span>&lt;</span><span>/Link&gt;</span>
<span>              </span><span>),</span>
<span>            </span><span>}}</span>
<span>          </span><span>/&gt;</span>
<span>          </span><span>&lt;</span><span>Route</span>
<span>            </span><span>path</span><span>=</span><span>&#34;/recipes/new&#34;</span>
<span>            </span><span>element</span><span>=</span><span>{</span><span>&lt;</span><span>CreateRecipe</span><span> </span><span>/&gt;</span><span>}</span>
<span>            </span><span>handle</span><span>=</span><span>{{</span>
<span>              </span><span>crumb</span><span>:</span><span> </span><span>()</span><span> </span><span>=&gt;</span><span> </span><span>&lt;</span><span>Link</span><span> </span><span>to</span><span>=</span><span>&#34;/recipes/new&#34;</span><span>&gt;</span><span>/&amp;nbsp;new&lt;/Link&gt;,</span>
<span>            </span><span>}}</span>
<span>          </span><span>/&gt;</span>
<span>        </span><span>&lt;</span><span>/Route&gt;</span>
<span>      </span><span>&lt;</span><span>/Route&gt;</span>
<span>    </span><span>&lt;</span><span>/Route&gt;</span>
<span>  </span><span>)</span>
<span>);</span>

<span>function</span><span> </span><span>App</span><span>()</span><span> </span><span>{</span>
<span>  </span><span>return</span><span> </span><span>&lt;</span><span>RouterProvider</span><span> </span><span>router</span><span>=</span><span>{</span><span>router</span><span>}</span><span> </span><span>/&gt;</span><span>;</span>
<span>}</span>

<span>export</span><span> </span><span>default</span><span> </span><span>App</span><span>;</span>
</pre></div>
<p>The <code>&lt;Route handle&gt;</code> property is particularly important for our implementation of breadcrumbs using the react router hook <code>useMatches</code>. In the <code>handle</code>, I define a function to &#34;crumb&#34; that will be rendered in the breadcrumbs for that route. For example, we define a <code>Route</code> for the path <code>/recipes/:id</code> where <code>:id</code> is the id for a specific recipe. When the user navigates to that path, the <code>&lt;Route loader&gt;</code> fetches the data for that recipe from our backend and the data can be accessed by the <code>crumb handle</code> at <code>data</code> in order to render the recipe name (instead of the id). Code is as follows:</p>
<div><pre><span></span><span>...</span>
<span>handle</span><span>=</span><span>{{</span><span>  </span><span>crumb</span><span>:</span><span> </span><span>(</span><span>data</span><span>:</span><span> </span><span>RecipeType</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>(</span>
<span>                </span><span>&lt;</span><span>Link</span><span> </span><span>to</span><span>=</span><span>{</span><span>`/recipes/</span><span>${</span><span>data</span><span>.</span><span>_id</span><span>}</span><span>`</span><span>}</span><span> </span><span>reloadDocument</span><span>&gt;</span>
<span>                  </span><span>/&amp;nbsp;</span>
<span>                  </span><span>{</span><span>data</span><span>.</span><span>name</span><span>}</span>
<span>                </span><span>&lt;</span><span>/Link&gt;</span>
<span>              </span><span>),</span>
<span>            </span><span>}}</span>
<span>            </span><span>...</span>
</pre></div>
<p>There is a <code>Link</code> element wrapping the name so that when the name in the breadcrumb is clicked, we will navigate to the designated path at <code>to={/recipes/${data._id}}</code></p>
<p>Up to now I reviewed some of the logic and implementation of the breadcrumbs but how is this displayed/rendered to the user? This is where the <code>Breadcrumbs</code> component comes in.</p>

<div><pre><span></span><span>import</span><span> </span><span>{</span><span> </span><span>UIMatch</span><span>,</span><span> </span><span>useMatches</span><span>,</span><span> </span><span>useSearchParams</span><span> </span><span>}</span><span> </span><span>from</span><span> </span><span>&#34;react-router-dom&#34;</span><span>;</span>
<span>type</span><span> </span><span>HandleType</span><span> </span><span>=</span><span> </span><span>{</span>
<span>  </span><span>crumb</span><span>:</span><span> </span><span>(</span><span>data?</span><span>:</span><span> </span><span>RecipeType</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>React</span><span>.</span><span>ReactNode</span><span>;</span>
<span>};</span>

<span>function</span><span> </span><span>Breadcrumbs</span><span>()</span><span> </span><span>{</span>
<span>  </span><span>const</span><span> </span><span>[</span><span>searchParams</span><span>]</span><span> </span><span>=</span><span> </span><span>useSearchParams</span><span>();</span>
<span>  </span><span>const</span><span> </span><span>edit</span><span> </span><span>=</span><span> </span><span>searchParams</span><span>.</span><span>get</span><span>(</span><span>&#34;edit&#34;</span><span>);</span>

<span>  </span><span>const</span><span> </span><span>matches</span><span> </span><span>=</span><span> </span><span>useMatches</span><span>()</span><span> </span><span>as</span><span> </span><span>UIMatch</span><span>&lt;</span><span>RecipeType</span><span>,</span><span> </span><span>HandleType</span><span>&gt;</span><span>[];</span>
<span>  </span><span>const</span><span> </span><span>crumbs</span><span> </span><span>=</span><span> </span><span>matches</span>
<span>    </span><span>// first get rid of any matches that don&#39;t have handle and crumb</span>
<span>    </span><span>.</span><span>filter</span><span>((</span><span>match</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>match</span><span>.</span><span>handle</span><span>?</span><span>.</span><span>crumb</span><span>)</span>
<span>    </span><span>// now map them into an array of elements, passing the loader</span>
<span>    </span><span>// data to each one</span>
<span>    </span><span>.</span><span>map</span><span>((</span><span>match</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>match</span><span>.</span><span>handle</span><span>.</span><span>crumb</span><span>(</span><span>match</span><span>.</span><span>data</span><span>));</span>

<span>  </span><span>return</span><span> </span><span>(</span>
<span>    </span><span>&lt;</span><span>ol</span><span> </span><span>className</span><span>=</span><span>&#34;flex text-lg&#34;</span><span>&gt;</span>
<span>      </span><span>{</span><span>crumbs</span><span>.</span><span>map</span><span>((</span><span>crumb</span><span>,</span><span> </span><span>index</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>(</span>
<span>        </span><span>&lt;</span><span>li</span><span> </span><span>key</span><span>=</span><span>{</span><span>index</span><span>}</span><span>&gt;</span><span>{</span><span>crumb</span><span>}</span><span>&lt;</span><span>/li&gt;</span>
<span>      </span><span>))}</span>
<span>      </span><span>{</span><span>edit</span><span> </span><span>===</span><span> </span><span>&#34;true&#34;</span><span> </span><span>&amp;&amp;</span><span> </span><span>&lt;</span><span>li</span><span>&gt;&amp;</span><span>nbsp</span><span>;</span><span>/&amp;nbsp;edit&lt;/li&gt;}</span>
<span>    </span><span>&lt;</span><span>/ol&gt;</span>
<span>  </span><span>);</span>
<span>}</span>

<span>export</span><span> </span><span>default</span><span> </span><span>Breadcrumbs</span><span>;</span>
</pre></div>
<p>In order to make the <code>Breadcrumbs</code> component, we use the React Router <code>useMatches</code> hook, which returns the current route matches on the page. Pairing <code>&lt;Route handle&gt;</code> with <code>useMatches</code> is very powerful because we can access <code>useMatches</code> from anywhere in our app. Simply put, we can access and render the various crumb handles that make up our current route.</p>
<p>We grab our current route matches. For example, for the path <code>/recipes/new</code>, we can match the routes <code>/recipes</code> and <code>/recipes/new</code> and access the associated crumb handles.</p>
<div><pre><span></span><span>...</span>

<span>const</span><span> </span><span>matches</span><span> </span><span>=</span><span> </span><span>useMatches</span><span>()</span><span> </span><span>as</span><span> </span><span>UIMatch</span><span>&lt;</span><span>RecipeType</span><span>,</span><span> </span><span>HandleType</span><span>&gt;</span><span>[];</span>

<span>...</span>
</pre></div>
<p>The array of matches is filtered for those that have a <code>crumb</code> and then mapped to an array of React elements, providing data from the route loader, if it exists.</p>
<div><pre><span></span><span>...</span>

<span>const</span><span> </span><span>crumbs</span><span> </span><span>=</span><span> </span><span>matches</span>
<span>    </span><span>// first get rid of any matches that don&#39;t have handle and crumb</span>
<span>    </span><span>.</span><span>filter</span><span>((</span><span>match</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>match</span><span>.</span><span>handle</span><span>?</span><span>.</span><span>crumb</span><span>)</span>
<span>    </span><span>// now map them into an array of elements, passing the loader</span>
<span>    </span><span>// data to each one</span>
<span>    </span><span>.</span><span>map</span><span>((</span><span>match</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>match</span><span>.</span><span>handle</span><span>.</span><span>crumb</span><span>(</span><span>match</span><span>.</span><span>data</span><span>));</span>

<span>...</span>
</pre></div>
<p>Finally, the array items are each mapped to a list <code>&lt;li&gt;</code> element and nested in an ordered list <code>&lt;ol&gt;</code> element which is returned and rendered in the UI.</p>
<div><pre><span></span><span>...</span>

<span>return</span><span> </span><span>(</span>
<span>    </span><span>&lt;</span><span>ol</span><span> </span><span>className</span><span>=</span><span>&#34;flex text-lg&#34;</span><span>&gt;</span>
<span>      </span><span>{</span><span>crumbs</span><span>.</span><span>map</span><span>((</span><span>crumb</span><span>,</span><span> </span><span>index</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>(</span>
<span>        </span><span>&lt;</span><span>li</span><span> </span><span>key</span><span>=</span><span>{</span><span>index</span><span>}</span><span>&gt;</span><span>{</span><span>crumb</span><span>}</span><span>&lt;</span><span>/li&gt;</span>
<span>      </span><span>))}</span>
<span>      </span><span>{</span><span>edit</span><span> </span><span>===</span><span> </span><span>&#34;true&#34;</span><span> </span><span>&amp;&amp;</span><span> </span><span>&lt;</span><span>li</span><span>&gt;&amp;</span><span>nbsp</span><span>;</span><span>/&amp;nbsp;edit&lt;/li&gt;}</span>
<span>    </span><span>&lt;</span><span>/ol&gt;</span>
<span>  </span><span>);</span>
<span>...</span>
</pre></div>
<h2 id="the-product">The product</h2>
<p>Check out the final breadcrumbs feature below:</p>
<p><img alt="breadcrumbs.gif" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExZ255Nms1cnQycmc1MnRzbmI2Z2h0bWE3Nm85ZWN3dGd3emZwd2ZiYSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/zlPUj5hJ4sZSA2sIEG/giphy.gif"/></p>
<h2 id="lessons-learned">Lessons Learned</h2>
<p>There&#39;s a few things I learned while implementing this feature.</p>
<ol>
<li>It&#39;s always a good idea to talk to people about my ideas because it is likely a learning opportunity. As I wrote at the start of this post, I didn&#39;t know &#34;breadcrumbs&#34; were a thing. I had no idea that what I wanted to implement had an actual name.</li>
<li>Go to the documentation first for problem-solving. Frameworks/libraries are changing all the time so it&#39;s good to start at the source so that you&#39;re implementing with the recommended methods and approaches for the most recent version.</li>
<li>Sometimes documentation can be pretty confusing and lack detailso supplement it with googling! Don&#39;t be afraid to google. It&#39;s actually a very useful skill and can help fill gaps that are possibly assumed in the source documentation.</li>
<li>Recognize that there&#39;s no &#34;right&#34; way of doing something. There were various ways that people on the internet implemented their breadcrumbs. Sure, maybe some were more concise or more efficient than other implementations but sometimes those things don&#39;t end up mattering too much if it works and the code is readable. Ultimately, it&#39;s up to us to weigh the pros, cons, goals of the app :)</li>
</ol>
</div></div>
  </body>
</html>
