<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://blog.jacobstoner.com/use-a-laptop-or-tablet-as-a-2nd-display-on-linux-with-a-dummy-monitor-and-rdp/">Original</a>
    <h1>Use a laptop as a 2nd display on Linux using FreeRDP</h1>
    
    <div id="readability-page-1" class="page"><div id="site-main">
<article>

    <header>

        

        


        <div>
        <section>

            <ul>
                <li>
                    <a href="https://blog.jacobstoner.com/author/jacob/"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"></path></g></svg>
</a>
                </li>
            </ul>

            <div>
                
                <p><time datetime="2022-12-15">Dec 15, 2022</time>
                        <span><span>•</span> 2 min read</span>
                </p>
            </div>

        </section>
        </div>

            <figure>
                <img srcset="/content/images/size/w300/2022/12/HwZdh1SzRyKWB7RdMAnk-Q.jpg 300w,
                            /content/images/size/w600/2022/12/HwZdh1SzRyKWB7RdMAnk-Q.jpg 600w,
                            /content/images/size/w1000/2022/12/HwZdh1SzRyKWB7RdMAnk-Q.jpg 1000w,
                            /content/images/size/w2000/2022/12/HwZdh1SzRyKWB7RdMAnk-Q.jpg 2000w" sizes="(min-width: 1400px) 1400px, 92vw" src="https://blog.jacobstoner.com/content/images/size/w2000/2022/12/HwZdh1SzRyKWB7RdMAnk-Q.jpg" alt="Use a laptop as a 2nd display on Linux using FreeRDP"/>
            </figure>

    </header>

    <section>
        <p>Dual monitors using a laptop as a second display. This guide assumes that you are using a Debian based distro (X11 only). Both devices must be connected to the same network.</p><p>1.  <strong>Define an output to be a used as a dummy monitor</strong></p><pre><code># find an unused output
find -L /sys/class/drm -maxdepth 1 -type d -name &#39;card0-*&#39; -exec sh -c &#39;if [ $(cat $0/status) = &#34;disconnected&#34; ]; then echo $0; fi&#39; {} \;|cut -c22-|sort
#on my system DP-1 is available
OUTPUT=DP-1
DIR=/sys/kernel/debug/dri/0/$OUTPUT</code></pre><p>b.  The other way: use the evdi kernel module to add an output</p><pre><code># typically the evdi module must be installed first
sudo apt install -y evdi-dkms

# load the module, requesting a dummy device
sudo modprobe evdi initial_device_count=1

# find the new output
DIR=$(sudo find /sys/kernel/debug/dri/1/ -maxdepth 1 -name &#39;DVI*&#39;|head -1)</code></pre><p>2.  <strong>Force activate the output</strong></p><pre><code># override EDID (pretend to be a 1080P monitor with lots of resolution options)
EDID_BASE64=AP///////wAebdVZ+KEJAAQXAQNoNR546jMxpFdRoCYQUFSna4CzAIGAlQBxT6nAgQCBwJBAAjqAGHE4LUBYLEUACSUhAAAeAAAA/QA4Sx5TDwAKICAgICAgAAAA/AAyNEVOMzMKICAgICAgAAAA/wAzMDRORFBISksyODgKAJ8=
sudo bash -c &#34;base64 -d &lt;&lt;&lt;$EDID_BASE64 &gt; $DIR/edid_override&#34;

# force output on
sudo sh -c &#34;echo on &gt; $DIR/force&#34;

# add an additional resolution to the dummy display (optional)
# check the xrandr output name, it may be different than the kernel name
xrandr|grep &#39; connected&#39;
OUTPUT=DP-1
RES=&#34;1920 1200&#34;
MODELINE=$(cvt $RES|awk &#39;/Modeline/{print substr($0,10)}&#39;)
MODE=$(sed &#39;s/^&#34;\([^&#34;]\+\).*/\1/&#39; &lt;&lt;&lt;$MODELINE)
sh -c &#34;xrandr --newmode $MODELINE&#34;
xrandr --addmode $OUTPUT $MODE

# Use the standard display configuration utility to configure the dummy display.
# Match the resolution of your device and position the display.
</code></pre><p><em>If the display fails to activate or 1920x1080 doesn&#39;t show up, then reboot and select a different output in step one.</em></p><pre><code>sudo apt install -y freerdp2-shadow-x11
freerdp-shadow-cli -auth -may-interact /monitors:1</code></pre><p>4.  <strong>Connect FreeRDP client</strong></p><pre><code>sudo apt install -y freerdp2-x11
xfreerdp /v:YOUR_HOST_IP /cert-ignore /floatbar:sticky:off,show:always -gfx /rfx /f</code></pre><p><strong>Notes:</strong></p><p><strong>Discussion:</strong></p>
    </section>


</article>
</div></div>
  </body>
</html>
