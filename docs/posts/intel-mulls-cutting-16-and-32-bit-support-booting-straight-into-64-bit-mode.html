<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.theregister.com/2023/05/25/intel_proposes_dropping_16_bit_mode/">Original</a>
    <h1>Intel mulls cutting 16 and 32-bit support, booting straight into 64-bit mode</h1>
    
    <div id="readability-page-1" class="page"><div id="body">
<p>Chip giant Intel has proposed something rather unusual: a potential <em>simplification</em> of the x86 architecture by removing old features.</p>
<p>A <a href="https://www.intel.com/content/www/us/en/developer/articles/technical/envisioning-future-simplified-architecture.html" rel="nofollow">technical note</a> on Intel&#39;s developer blog puts forward a rather radical change to the x86-64 architecture: a new x86S architecture, which simplifies the design of future processors and a PC&#39;s start-up process, by removing 16-bit and some elements of 32-bit support from the hardware.</p>
<p>The result would be a family of processors which boot straight into x86-64 mode.</p>

    

<p>That would mean bypassing the <a target="_blank" rel="nofollow" href="https://wiki.osdev.org/Setting_Up_Long_Mode">traditional series</a> of transitions – 16-bit real mode to 32-bit protected mode to 64-bit long mode; or 16-bit mode <a target="_blank" rel="nofollow" href="https://wiki.osdev.org/Entering_Long_Mode_Directly">straight into</a> 64-bit mode – that chips are obliged to go through as the system starts up.</p>

        


        

<p>The developer note is accompanied by a 46-page technical <a href="https://cdrdv2.intel.com/v1/dl/getContent/776648" rel="nofollow">white paper</a> [PDF] that goes into considerable detail about the exact changes that Intel is considering. Some of the changes are quite dramatic, although the impact upon how most people use computers today would probably be invisible – which is undoubtedly the idea.</p>
<p>And remember, this is Intel we&#39;re talking about; backwards compatibility is something it&#39;s been famous for, for decades.</p>

        

<p>Apart from eliminating 8086-style 16-bit real mode, and 80286-style 16-bit protected mode, it would also remove 32-bit ring zero, and completely remove protection rings one and two from the architecture.</p>
<p>Just in case the distinction between the x86 protection rings has temporarily slipped your mind, we explained them and how they work in <a href="https://www.theregister.com/2011/07/11/a_brief_history_of_virtualisation_part_one/">part one</a> of our brief history of virtualization in 2011. Quickly though: ring zero is where an OS typically lives, and ring three is where apps run.</p>
<p>Intel&#39;s developer note suggests:</p>

<p>This parallels the way <em>The Reg</em> FOSS desk put it a dozen years back:</p>

<p>As it happens, both of these are operating systems of which we&#39;re quite fond. But to be honest, losing direct support for either of them on future hardware isn&#39;t going to inconvenience anybody. They, and any other operating system which starts in 16-bit mode – such as DOS or Windows 9X – won&#39;t even boot on any contemporary UEFI machine anyway.</p>
<p>Losing ring zero in 32-bit mode means that you wouldn&#39;t be able to run an x86-32 hypervisor – but again, nobody is going to want to do that when a 64-bit one offers you so much more memory.</p>

        

<p>When we initially read this proposal, we thought that it also meant eliminating x86-32 mode entirely, but that&#39;s not the case. It will just be significantly more limited. It will still be possible to start up an x86-32 operating system inside a VM – these have to emulate system firmware in any case, alongside the emulated graphics cards, network cards and so on that they must provide.</p>
<p>You will also still be able to run x86-32 binaries and apps in ring three on your 64-bit OS in ring zero – so long as the operating system provides the appropriate libraries and APIs, of course. They <a href="https://www.theregister.com/2019/06/24/steam_wine_ubuntu_32_bit/">nearly disappeared</a> from Ubuntu a few years back, and it still might happen. What X86S really means is removing the ability to boot 32-bit systems on bare metal. UEFI has already effectively eliminated the ability to boot 16-bit operating systems on bare metal, and barely anybody noticed.</p>
<p>Similarly, it&#39;s quite hard to run <a href="https://www.theregister.com/2022/06/28/friday_foss_fest_running_dos/">DOS software on a modern 64-bit system</a>, because back at the turn of the 21st century, AMD&#39;s x86-64 removed the VM86 mode used for running real-mode code while an x86-32 chip is in 32-bit protected mode. VM86 mode was introduced with the 80386DX in 1987, disappeared about 20 years ago … and virtually nobody has noticed.</p>
<p>There is actually another precedent for this which we are prepared to bet few remember now. Long ago, Intel for a while offered a cutdown version of the 80386 processor which could <em>only</em> run in 32-bit mode, and which completely eliminated 16-bit mode – which was clearly already on the way out even back in 1989.</p>
<p>We are not talking about the famed 80386SX, but a variant of it: the little-known Intel <a href="https://www.cpu-world.com/CPUs/80376/index.html" rel="nofollow">80376</a>. We&#39;re amused to note that one of the few <a href="https://www.pagetable.com/?p=460" rel="nofollow">descriptions</a> of this chip still to be found on the web hypothetically proposed – <em>in 2010</em> – how handy it would be if modern processors booted directly into 32-bit mode.</p>
<p>A big difference is that the 80376 didn&#39;t support paged memory mode, whereas the putative X86S <em>only</em> supports operation in paged memory mode.</p>
<h3>Historical Bootnote</h3>
<p>There are also some loose parallels here with the origins of Intel&#39;s whole x86 architecture. In the mid-1970s, Intel started work on an <a href="https://www.theregister.com/2004/02/17/who_sank_itanic/">extremely ambitious 32-bit &#34;micromainframe&#34;</a>, codenamed <em>8800</em> to succeed its successful 8080 and 8085. With the <a href="https://www.theregister.com/2023/03/25/gordon_moore/">recent passing</a> of Intel cofounder Gordon Moore, what eventually became the <em>iAPX432</em> has been getting a little bit of attention once again, such as this <a href="https://thechipletter.substack.com/p/iapx432-gordon-moore-risk-and-intels" rel="nofollow">overview</a>. It shipped as a complex of three c.100,000-transistor chips – vast for the time.</p>
<p>Chip boffin&#39;s chip boffin <a href="http://www.righto.com/" rel="nofollow">Ken Shirriff</a> has also tweeted some in-depth threads about some of this complex&#39;s components, including the <a href="https://twitter.com/kenshirriff/status/1654211176870322176" rel="nofollow">43202</a> and <a href="https://twitter.com/kenshirriff/status/1657107008141643776" rel="nofollow">43201</a>.</p>
<ul>

<li><a href="https://www.theregister.com/2023/04/14/return_flying_toasters/">The return of the classic Flying Toasters screensaver</a></li>

<li><a href="https://www.theregister.com/2023/01/21/apple_lisa_source_code_release/">Apple releases Lisa source code on landmark machine&#39;s 40th birthday</a></li>

<li><a href="https://www.theregister.com/2023/01/03/sidecar_getting_psions_online/">Riding in Sidecar: How to get a Psion online in 2023</a></li>

<li><a href="https://www.theregister.com/2022/09/30/hdd_clicker/">HDD Clicker gizmo makes flash sound like spinning rust</a></li>
</ul>
<p>The iAPX432 project ran so horribly late that it only shipped in 1981. In an effort to salvage something, Intel put out a <a href="https://thechipletter.substack.com/p/trillion-dollar-stopgap-the-intel" rel="nofollow">stopgap</a>: a partially-compatible 16-bit extension of its 8080 architecture, which extended the design to allow it to access a whole megabyte of memory in 20 separate 64KB segments. This was the 16-bit 8086, launched in 1978 – the first x86 device, whose execution model Intel is still trying to get rid of in 2023.</p>
<p>An interesting theory is that the origin story is a little more recursive than that. Realizing that the iAPX432 would be late, big, and expensive, Intel sketched out a design for a much simpler chip – with a much simpler segmented protected-memory design based on the memory architecture of the iAPX432. Although this eventually shipped in 1982 as the Intel 80286 – which Microsoft boss Bill Gates famously described as &#34;brain dead&#34; – Intel realized that a 120,000-transistor 80286 would be too complex and expensive to sell profitably. Thus it cut the design down even more to create the 8086.</p>
<p>The 8086&#39;s hardware was, of course, cut down still further with an eight-bit memory bus to create a budget model: the 8088. That was the CPU that IBM used in its <a href="https://www.theregister.com/2021/08/12/ibm_pc_40_anniversary/">model 5150</a> – the original IBM PC, which more or less spawned the modern computer industry. ®</p>                                


                    </div></div>
  </body>
</html>
