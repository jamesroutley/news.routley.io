<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.jvt.me/posts/2024/07/12/things-know-commits/">Original</a>
    <h1>Things I know about Git commits</h1>
    
    <div id="readability-page-1" class="page"><div><div><p><img src="https://media.jvt.me/53239026de.png" alt="Featured image for sharing metadata for article" loading="lazy"/></p><div><p>This is an article that&#39;s been swimming around in my head for ~5 weeks now, and may become a &#34;living post&#34; that I keep updated over time.</p><p>In no particular order, some things I&#39;ve learned about Git commits and commit history, over the last 12 years. This is a mix of experience in companies with teams of 2-12 people, as well as in Open Source codebases with a vast range of contributors.</p><ol><li>Git has different uses - a collaboration tool, a backup tool, a documentation tool</li><li>Git commit messages are excellent</li><li>I&#39;ve never met anyone who likes reading commit messages as much as me</li><li>Finding out why a change was made is easier sorting through commits than it is through an issue/bug tracker</li><li>It&#39;s better to have a commit that says &#34;Various fixes. DEV-123&#34; than it is to have &#34;Various fixes&#34;</li><li>It&#39;s worse to have a commit that says &#34;Various fixes. DEV-123&#34; when the issue itself has no useful information</li><li>Rebase-merging is my preference. Then squash-merge, then merge</li><li>If you don&#39;t learn how to rebase, you&#39;re missing out on a good skill</li><li>People who say &#34;just delete the repo&#34; when things go wrong really frustrate me</li><li>Learn how to use <code>git reflog</code>, and it&#39;ll save you deleting a repo and work that was recoverable</li><li>Learn how to use <code>git reflog</code>, and you&#39;ll be able to save yourself from mistakes that aren&#39;t that bad</li><li>No amount of learning fancy tools and commands saves you from fucking up every once in a while</li><li>My most recent botched rebase was last week, and I needed <code>git reflog</code> to help un-fuck it</li><li>Learn how to <a href="https://www.jvt.me/posts/2021/10/23/undo-force-push/">undo a force push</a> and then how to <a href="https://www.jvt.me/posts/2018/09/18/safely-force-git-push/">more safely force push</a> (remember the <code>=ref</code>!!)</li><li>Squashing is a waste of well-written atomic commits</li><li>Squashing is better than 100 crap commits</li><li>Squashing, and writing a good commit message at the time of merge is good</li><li>Squashing, and then not re-editing the message is the worst</li><li>Squashing, when you have 100 crap commits, and then not re-editing the message is <strong>a crime</strong></li><li>Squashing, and then not re-editing the message is worse than a merge commit from a branch with 100 crap commits</li><li>Writing a well documented PR/MR description but not using that to inform the squash-merge message is a waste of time</li><li>Writing commit messages have helped me pick up on missing test cases, missing documentation, or invalid thought processes, as it helps me rewrite <em>why</em> the changes are being made</li><li>Using your <code>git log</code> as an indication for standup updates is valid</li><li>I can&#39;t be bothered to sign my commits (unless I&#39;m forced to)</li><li>If I have to sign my commits, SSH key signing makes it almost not awful</li><li>If you&#39;re moving files between repos, you need to keep the history intact, <a href="https://www.jvt.me/posts/2018/06/01/git-subtree-monorepo/">using <code>git subtree</code></a></li><li>Commits should be atomic - all the code and tests, and configuration changes should all be in there</li><li>I spend a good chunk of time ensuring that each commit passes CI checks atomically</li><li>Some people do horrific things, like split their implementation and test code from each other</li><li>It&#39;s OK to put documentation in a separate commit - we don&#39;t have to have a whole end-to-end feature delivery in a single commit</li><li>Repos that use squash-merges suck</li><li>As a maintainer of Open Source projects, I like squash-merge, so I can rewrite contributors&#39; commit messages</li><li>Sometimes it&#39;s not worth coaching how to write a given commit message</li><li>The people around you shape the way you write commits</li><li>Do the work up front to make your history atomic</li><li>It&#39;s much more painful to split a mega-commit into atomic commits after the fact</li><li>Splitting work atomically can be good for improving your reward drive - you can get many more things done</li><li>Atomic commits work really well with <a href="https://www.jvt.me/posts/2022/04/12/prefactor/">prefactoring</a></li><li>Sometimes prefactor commits can go into separate PRs (especially if squash-merge is used)</li><li>Writing commit messages can take longer than the implementation</li><li>The commit message can be an order of magnitude larger than the number of lines changed in a commit</li><li>If you end up writing a lot of &#34;and&#34;s or &#34;also&#34; in a commit message, you may be trying to do too many things</li><li>Trawling through Git commit history in the past has helped unlock a number of cases where I could then understand the <em>why</em> without the original authors there to answer my questions</li><li>Commit messages are a great point to reflect on not just what you&#39;ve done, but <strong>why</strong></li><li>Why is more important than what - anyone can look at the diff and generally work out what changes were made, but the intent behind it is the special sauce</li><li>If you only write what changed, you&#39;re annoying, and I dislike you</li><li>A commit that explains what is better than a commit that just has &#34;fixes&#34;</li><li><span><a href="https://cbea.ms/">Chris Beams</a></span>&#39; article, <a href="https://cbea.ms/git-commit/"><em>How to Write a Git Commit Message</em></a> is still an excellent post and a great place to start, just under 10 years later!</li><li>Commits are a point-in-time explanation of the assumptions and the state of the world for the committer. Don&#39;t be too hard on them</li><li>I don&#39;t want to read AI/LLM rewrites of your changes - either write it yourself, or call it <code>Various fixes</code></li><li>There needs to be a way to add an annotation (maybe using <code>git notes</code>) to a previous message to correct assumptions</li><li>I won&#39;t write perfect commit messages up front - they&#39;ll sometimes be as much as <code>rew! add support for SBOMs</code> or <code>sq</code>, or <a href="https://www.jvt.me/posts/2019/01/10/git-commit-fixup/">use <code>git commit --fixup</code></a></li><li>I will, generally, break off very good atomic chunks of work into commits</li><li>I will split atomic commits into multiple commits, sometimes</li><li>Make sure you <a href="https://www.jvt.me/posts/2019/01/12/self-code-review/">review your own code changes</a> before you send it out for review to your collaborators</li><li>Reviewing your commit messages should be as important as reviewing the code changes</li><li>Getting all your contributors to invest the same amount of care into the commit history is a losing battle</li><li>Trying to police commit history is going to be painful</li><li>Trying to mandate reviews of commit messages as part of code review is going to be painful</li><li>Trying to police commit history does lead to a greater level of documentation and consideration around changes int he codebase</li><li>Making implicit assumptions explicit is really useful</li><li>Introducing <code>commitlint</code> can be useful, but also frustrating</li><li>It&#39;s nicer to have your collaborators want to write good commit messages than you having to force them</li><li>Some people don&#39;t write, and that&#39;s alright</li><li>Writing is a skill</li><li>I&#39;m not perfect at writing (commit messages)</li><li>Sometimes I can&#39;t be arsed to write the perfect message</li><li>Sometimes I write some really great commit messages, and impress myself</li><li>Using a <a href="https://www.jvt.me/posts/2017/04/17/commit-templates/">template for your Git commit messages</a> is a good nudge to doing it right</li><li><a href="https://www.jvt.me/posts/2019/01/10/git-commit-fixup/"><code>fixup</code> commits</a> and <code>git rebase --autosquash</code> has been one of the best Git tips I&#39;ve learned</li><li>I value working on a team with a diverse set of perspectives, skills and approaches to work</li><li>But I also really value having a team who writes atomic commits with well-written commit messages</li><li>Commit message writing is as useful as writing well-refined user stories/tickets</li><li><code>git commit -m sq</code> is probably my most-run command</li><li>Using <code>git add -p</code> and <code>git commit -p</code> are hugely important for atomic commits</li><li>Never use <code>git add -u</code> or <code>git add .</code></li><li>Learn when you can use <code>git add -u</code> or <code>git add .</code></li><li>I really need to look into tools like Graphite, <code>git-branchless</code> and other means to provide a stacked PR setup</li><li>Using <a href="https://www.conventionalcommits.org/en/v1.0.0/">conventional commits</a> with <a href="https://github.com/semantic-release/semantic-release">semantic-release</a> or <a href="https://github.com/go-semantic-release/semantic-release">go-semantic-release</a> can make a huge difference when wanting to release automagically and often</li><li>Using <a href="https://www.conventionalcommits.org/en/v1.0.0/">conventional commits</a> as a framework for your commits can be really useful</li><li>Using <a href="https://www.conventionalcommits.org/en/v1.0.0/">conventional commits</a>, as someone with ADHD, reduces the need for thinking at times and can allow you to focus more on what the changes are</li><li>Using <a href="https://www.conventionalcommits.org/en/v1.0.0/">conventional commits</a> helps you work out when you&#39;re trying to do too much in a commit</li><li>I <a href="https://www.jvt.me/posts/2023/10/04/blogging-neurodiversity/">think through writing</a> so commit messages help understand <a href="https://www.youtube.com/watch?v=1qdyNoe3q2A">why I did the thing</a></li><li>It can be better to write a good commit message than a piece of documentation, stored elsewhere</li><li>It can be better to write a good commit message than a code comment</li><li>Give people space to learn</li><li>Give people space to fail</li><li>Remember you weren&#39;t so great at one point in time</li><li>Documentation is rad. Do more of it</li></ol></div></div><div><p>Written by <span><img src="https://www.jvt.me/img/profile.png" alt="Jamie Tanna&#39;s profile image" loading="lazy"/> <a href="https://www.jvt.me">Jamie Tanna</a></span>
on <strong><time datetime="2024-07-12T20:01:09+01:00">Fri, 12 Jul 2024 20:01:09+01:00</time></strong>, and last updated on <strong><a href="https://gitlab.com/jamietanna/jvt.me/commit/8a5a17d3e4d2714b532b26dbbcbf41e7c8e99ff6"><time datetime="2024-07-12T20:00:52+01:00">Fri, 12 Jul 2024 20:00:52+01:00</time></a></strong>.</p><p>Content for this article is shared under the terms of the <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/legalcode">Creative Commons Attribution Non Commercial Share Alike 4.0 International</a>, and code is shared under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a>.</p><p><i></i>
<a href="https://interjectedfuture.com/tags/git/">#<span>git</span></a>.</p></div></div><div><p>This post was filed under <a href="https://interjectedfuture.com/kind/articles">articles</a>.</p><div><details><summary>Interactions with this post</summary><h2>Interactions with this post</h2><p>Below you can find the interactions that this page has had using <a href="http://indieweb.org/webmention">WebMention</a>.</p><div><p>Have you written a <a href="https://indieweb.org/responses">response</a> to this post? Let me know the URL:</p><p>Do you not have a website set up with WebMention capabilities? You can use <a href="https://commentpara.de/">Comment Parade</a>.</p></div></details></div></div></div>
  </body>
</html>
