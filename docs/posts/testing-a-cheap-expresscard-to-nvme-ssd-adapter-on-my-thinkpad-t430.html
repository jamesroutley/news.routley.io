<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://ounapuu.ee/posts/2022/10/04/testing-expresscard-nvme-ssd-adapter/">Original</a>
    <h1>Testing a Cheap ExpressCard to NVMe SSD Adapter on My ThinkPad T430</h1>
    
    <div id="readability-page-1" class="page"><div>
      
      <p>I stumbled upon <a href="https://www.reddit.com/r/thinkpad/comments/urvkeb/expresscard_to_m2_nvme_key_m_adapter_from/">this post in /r/thinkpad</a>,
which got my attention. It showcases an ExpressCard to M.2 NGFF adapter that
they purchased from AliExpress. The adapter has a similar purpose to the one
designed by <a href="https://thinkmods.store/">thinkmods.store</a>, with the added bonus
that it could fit longer NVMe SSD-s if you didn’t mind them sticking out of the
case. You could also order one instantly, so I did.</p>
<p>For those interested, the title of the listing at the time of writing of this
article is “ExpressCard interface to m.2 NGFF nvme solid state disc x201 t430 hp8570 w520”.
The listing I chose was <a href="https://www.aliexpress.com/item/1005002023877404.html?spm=a2g0o.order_list.0.0.74c21802cTrI3L">this one.</a>
I’m not affiliated with the manufacturer or the seller in any way.</p>

  <figure>
    <img src="https://ounapuu.ee/media/testing-expresscard-nvme-ssd-adapter/0-cover.jpg" alt="Bits and pieces."/>
    
      <figcaption>Bits and pieces.</figcaption>
    
  </figure>


<h3 id="the-idea">The idea</h3>
<p>I try to avoid buying things that I don’t need, which is why I came up with an
excuse for getting this adapter: adding a cache SSD to my <a href="https://ounapuu.ee/posts/2022/05/10/thinkpad-as-a-home-server/">ThinkPad-as-a-server</a>.</p>
<p>The OS is running off of an mSATA SSD that I could theoretically use for the
same purpose, but eventually killing the SSD that also hosts the OS with constant
writes sounded like a really bad idea. I also didn’t want to have excessive writes
on my pair of Samsung 870 QVO 4TB SATA SSD-s, because replacing those will be
quite expensive down the line.</p>
<p>Here’s what we’re working with:</p>
<ul>
<li><a href="https://sabrent.com/collections/memory-and-storage/products/sb-1342-512">Sabrent Rocket Nano NVMe 2242 SSD (512GB)</a></li>
<li>the aforementioned ExpressCard to M.2 NGFF adapter</li>
<li>ThinkPad T430 with an ExpressCard34 slot</li>
</ul>
<p>Quick word on the packaging: it was packaged in a small cardboard box, which
held up okay, but a more rough treatment of the box would probably have broken
the tiny PCB.</p>

  <figure>
    <img src="https://ounapuu.ee/media/testing-expresscard-nvme-ssd-adapter/1-parts.jpg" alt="The SSD, adapter PCB, and the case."/>
    
      <figcaption>The SSD, adapter PCB, and the case.</figcaption>
    
  </figure>


<h3 id="assembly">Assembly</h3>
<p>According to comments I saw before purchasing the adapter, I expected the assembly
to be a bit tricky, and after assembling it I have to agree with that sentiment.</p>
<p>First, you’ll have to squeeze the SSD in there. Unlike M.2 slots that are common
in laptops and desktops alike, this one requires you to horizontally push the SSD
in without breaking anything. Don’t be afraid to use a bit of force here, but be
careful in how you apply it.</p>

  <figure>
    <img src="https://ounapuu.ee/media/testing-expresscard-nvme-ssd-adapter/2-assembly.jpg" alt="na-no"/>
    
      <figcaption>na-no</figcaption>
    
  </figure>



  <figure>
    <img src="https://ounapuu.ee/media/testing-expresscard-nvme-ssd-adapter/3-underside.jpg" alt="Bottom of the adapter."/>
    
      <figcaption>Bottom of the adapter.</figcaption>
    
  </figure>


<p>After the SSD is in, screw it in properly and place the assembly on one of the
metal parts.</p>
<p>Now comes the fun part: you’ll have to clip on the top part as well. My
recommendation is to first clip in the part that sits near the contact pins,
then the one at the other end of the adapter, and then push in the metal
shielding at the edges.</p>

  <figure>
    <img src="https://ounapuu.ee/media/testing-expresscard-nvme-ssd-adapter/4-assembled.jpg" alt="The adapter, 100% assembled."/>
    
      <figcaption>The adapter, 100% assembled.</figcaption>
    
  </figure>



  <figure>
    <img src="https://ounapuu.ee/media/testing-expresscard-nvme-ssd-adapter/5-sideview.jpg" alt="For some reason, mine ended up a bit crooked near the connector."/>
    
      <figcaption>For some reason, mine ended up a bit crooked near the connector.</figcaption>
    
  </figure>



  <figure>
    <img src="https://ounapuu.ee/media/testing-expresscard-nvme-ssd-adapter/6-opening.jpg" alt="This opening allows for the installation of longer M.2 SSD-s."/>
    
      <figcaption>This opening allows for the installation of longer M.2 SSD-s.</figcaption>
    
  </figure>


<h3 id="tests">Tests</h3>
<p>To test this adapter out, I just plugged it into my main ThinkPad T430 running
Fedora 36 and Linux kernel version 5.19.12. It worked right out of the box.</p>

  <figure>
    <img src="https://ounapuu.ee/media/testing-expresscard-nvme-ssd-adapter/7-led.jpg" alt="Yes, it has a blue LED that blinks."/>
    
      <figcaption>Yes, it has a blue LED that blinks.</figcaption>
    
  </figure>



  <figure>
    <img src="https://ounapuu.ee/media/testing-expresscard-nvme-ssd-adapter/8-installed.jpg" alt="When not blinking, it looks something like this."/>
    
      <figcaption>When not blinking, it looks something like this.</figcaption>
    
  </figure>



  <figure>
    <img src="https://ounapuu.ee/media/testing-expresscard-nvme-ssd-adapter/9-dmesg.png" alt="Fedora picked it up with no issues."/>
    
      <figcaption>Fedora picked it up with no issues.</figcaption>
    
  </figure>


<p>My ThinkPad T430 can now support hotpluggable NVMe SSD-s, and 4 internal SSD-s
in total. Not quite tricked out as <a href="https://youtu.be/tHNQOJ_nsLc">this setup</a>,
but not bad for a 10 year old laptop.</p>

  <figure>
    <img src="https://ounapuu.ee/media/testing-expresscard-nvme-ssd-adapter/10-gnome-disks.png" alt="4 SSD-s on a ThinkPad T430. Bonkers."/>
    
      <figcaption>4 SSD-s on a ThinkPad T430. Bonkers.</figcaption>
    
  </figure>


<p>Please note that these tests are not done with any meaningful testing methodology
and are just quick one-off tests that aim to showcase what to expect when using
this adapter with the configuration I’m using it with.</p>
<p>To check how well the adapter performs, I opened <code>gnome-disks</code> and did a quick
benchmark offered by it.</p>

  <figure>
    <img src="https://ounapuu.ee/media/testing-expresscard-nvme-ssd-adapter/11-benchmark.png" alt="Results of the quick one-off benchmark."/>
    
      <figcaption>Results of the quick one-off benchmark.</figcaption>
    
  </figure>


<p>The average read speed is at 411.2 MB/s, and writes at 366.7 MB/s.</p>
<p>The results are in line with the limitations of a PCIe 2.0 x1 link, which has a
theoretical cap of 500 MB/s.</p>
<p>What’s more noteworthy is the latency. Average access time is at 0.03 ms,
which compares well to a Samsung 870 EVO 1TB SATA SSD that’s connected to the
same machine, which reports an average access time of 0.07 ms.</p>
<p>When copying files to the SSD, the temperature sensor reported a maximum of 60°C.
Additional read operations in the form of an ZFS scrub hit 63°C, which was the
maximum I observed during my quick testing.</p>
<p>When I threw both read and write operations to the SSD, the total I/O bandwidth
for both operations was capped at around 390 MB/s according to <code>zpool iostat 1 -v</code>.
If your workloads do a lot of read-write operations in parallel, then take this
into account.</p>

  <figure>
    <img src="https://ounapuu.ee/media/testing-expresscard-nvme-ssd-adapter/12-zfs-bandwidth.png" alt="I/O stats during heavy read-write operations."/>
    
      <figcaption>I/O stats during heavy read-write operations.</figcaption>
    
  </figure>


<p>As for my use case, it seems to be holding up okay. I’ll have to report back
after this adapter and SSD combo has been in use for a longer time.</p>

<p>If you prefer to share your thoughts on this post privately,
<a href="mailto:ihavesomethoughtsonyourblog@ounapuu.ee">just send me an e-mail!</a></p>
<p>Places where you can discuss this post:</p>
<ul>
<li><a href="https://news.ycombinator.com/item?id=33076160">Hacker News</a></li>
<li><a href="https://ounapuu.ee/posts/2022/10/04/testing-expresscard-nvme-ssd-adapter/">Level1Techs forum</a></li>
<li><a href="https://www.linkedin.com/posts/%F0%9F%94%A5-herman-%C3%B5unapuu-600516152_testing-a-cheap-expresscard-to-nvme-ssd-adapter-activity-6982891677984153600-mitW">LinkedIn</a></li>
<li><a href="https://www.reddit.com/user/hddherman/comments/xv312a/testing_a_cheap_expresscard_to_nvme_ssd_adapter/">Reddit</a></li>
</ul>

    </div></div>
  </body>
</html>
