<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://tailscale.com/blog/peer-relays-beta">Original</a>
    <h1>Tailscale Peer Relays</h1>
    
    <div id="readability-page-1" class="page"><p><span>Today we’re excited to announce public availability of Tailscale Peer Relays, a traffic relaying alternative to Tailscale’s managed DERP servers that can be enabled on any Tailscale node.</span></p><div><div><p>Tailscale Peer Relays provides a customer-deployed and managed traffic relaying mechanism. By advertising itself as a peer relay, a Tailscale node can relay traffic for any peer nodes on the tailnet, even for traffic bound to itself. Tailscale Peer Relays can only relay traffic for nodes on your tailnet, and only for nodes that have access to the peer relay. Because they’re managed entirely by the customer, peer relays are less throughput-constrained than Tailscale’s managed DERP relays, and can provide higher throughput connections for traffic to and from locked-down cloud infrastructure, or behind strict network firewalls.</p><p>In testing with early design partners, we’ve seen throughputs nearing that of a direct connection; often multiple orders of magnitude higher than Tailscale’s managed DERP fleet.</p><h2 id="moving-past-hard-nat"><a href="#moving-past-hard-nat">Moving past hard NAT<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2><p>Over the past few weeks, you’ve heard us talk about <a target="" rel="noreferrer" href="https://tailscale.com/blog/nat-traversal-improvements-pt-1">improvements we’ve made to</a> Network Address Translation (NAT) traversal techniques, so that Tailscale can establish direct connections wherever possible (<em>hint: it’s over 90% of the time</em>). However, we’ve also outlined places where this isn’t possible or desirable today for a variety of reasons, <a target="" rel="noreferrer" href="https://tailscale.com/blog/nat-traversal-improvements-pt-2-cloud-environments">especially in cloud environments</a>. And, we’ve postulated a bit about <a target="" rel="noreferrer" href="https://tailscale.com/blog/nat-traversal-improvements-pt3-looking-ahead">where we think the industry is going</a>.</p><p>While we’ve been keeping your network reliably connected for years with <a target="" rel="noreferrer" href="https://tailscale.com/kb/1232/derp-servers">DERP</a>, we’ve heard from customers that the throughput and performance aspects of a QoS-aware managed relay fleet makes deployments in certain environments difficult or untenable. Furthermore, customers have noted that it’s non-trivial to deploy and manage <a target="" rel="noreferrer" href="https://tailscale.com/kb/1232/derp-servers#custom-derp-servers">custom DERP fleets</a> (which run as a separate service and binary).</p><p>DERP provides an incredibly valuable service, setting up reliable connections between Tailscale clients anywhere in the world (including negotiating connections through peer relays). But often, DERP’s focus as a reliability and NAT traversal tool results in performance tradeoffs.</p><p>By contrast, Tailscale Peer Relays is designed as a performant connectivity tool, and can perform at a level rivaling direct connections. Peer relays can be placed right next to the resources they serve, and peer relays also run on top of UDP, both characteristics beneficial to lower latency and resource overhead. And, they are built into the Tailscale client itself for ease of deployment.</p><p>We want to move past even more hard NATs, and put Tailscale’s relaying technology in our customers’ hands, so they can use Tailscale at scale, anywhere, with ease. We believe our new Tailscale Peer Relays connectivity option—unique to Tailscale—gives customers the best performance and flexibility.</p><h2 id="how-it-works"><a href="#how-it-works">How it works<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2><p>Peer relays are configured with a single UDP port that must be available to both sides of a connection. Tailscale Peer Relays is built right into the Tailscale client, and can be enabled with a simple command, using the <code>tailscale set --relay-server-port</code> flag from the Tailscale CLI. Once enabled via <a target="" rel="noreferrer" href="https://tailscale.com/kb/1591/peer-relays?utm_source=blog&amp;utm_medium=content&amp;utm_campaign=fall-update-2025 ">the steps in our documentation</a>, clients can connect to infrastructure in hard NAT environments over the peer relay.</p><p><strong>And don’t worry, we still prefer to fly direct.</strong> Tailscale prefers direct connections wherever possible. Clients can then fall back to available peer relays, and finally leverage Tailscale’s managed DERP fleet, or any customer-deployed custom DERPs, to ensure you have connectivity wherever you need it. All of this traffic, over any connection, is still end-to-end encrypted via WireGuard®.</p><p>Tailscale Peer Relays is designed for the real world, based on the feedback we’ve received from customers and our own hard-earned networking expertise. It allows customers to make just one firewall exception for connections only coming from their tailnet. Peer relays scale across regions, are resilient to real-world network conditions, and graciously fall back to DERP (Tailscale’s or custom). Your network maintains its shape, but gains all kinds of flexibility.</p><h2 id="connectivity-everywhere-at-warp-speed"><a href="#connectivity-everywhere-at-warp-speed">Connectivity, everywhere, at warp speed<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2><p>Customers can now maintain performance benchmarks even where direct connections aren’t possible, by enabling Tailscale Peer Relays to build a deterministic and high-throughput relay topology.</p><figure id=""><img _type="asset" video="[object Object]" alt="Green checked background. On top, a left node, &#34;Your Network,&#34; with &#34;Your Resource&#34; (database) pointing into &#34;Peer relay,&#34; then into a checkmark box on the &#34;Network Firewall,&#34; with &#34;Customer Network&#34; inside, and &#34;Resource&#34; (database) inside that." loading="lazy" width="1152" height="688" decoding="async" data-nimg="1" srcset="https://cdn.sanity.io/images/w77i7m8x/production/d160d9fa1e9477445b543c120b310e5086325245-1152x688.svg?w=1200&amp;q=75&amp;fit=clip&amp;auto=format 1x, https://cdn.sanity.io/images/w77i7m8x/production/d160d9fa1e9477445b543c120b310e5086325245-1152x688.svg?w=3840&amp;q=75&amp;fit=clip&amp;auto=format 2x" src="https://cdn.sanity.io/images/w77i7m8x/production/d160d9fa1e9477445b543c120b310e5086325245-1152x688.svg?w=3840&amp;q=75&amp;fit=clip&amp;auto=format"/></figure><p>We’ve had customers use peer relays to provide access into unmanaged networks, allowing their partners or customers to provide a controllable and auditable connectivity path without sacrificing performance.</p><figure id=""><img _type="asset" video="[object Object]" alt="A node, User, into a block in a Network Firewall square, &#34;Peer relay ip:port exception,&#34; into &#34;Peer relay,&#34; and then to &#34;Customer Network,&#34; with three &#34;Resource&#34; (database) nodes inside." loading="lazy" width="1152" height="688" decoding="async" data-nimg="1" srcset="https://cdn.sanity.io/images/w77i7m8x/production/8c2d19093b0e49986ad91123e2178ef49f8df4b1-1152x688.svg?w=1200&amp;q=75&amp;fit=clip&amp;auto=format 1x, https://cdn.sanity.io/images/w77i7m8x/production/8c2d19093b0e49986ad91123e2178ef49f8df4b1-1152x688.svg?w=3840&amp;q=75&amp;fit=clip&amp;auto=format 2x" src="https://cdn.sanity.io/images/w77i7m8x/production/8c2d19093b0e49986ad91123e2178ef49f8df4b1-1152x688.svg?w=3840&amp;q=75&amp;fit=clip&amp;auto=format"/></figure><p>In strict private networks, customers can build predictable access paths. Tailscale Peer Relays can be placed in public subnets with VPC peering to private subnets, allowing security teams to efficiently segment their private network infrastructure, while enabling networking teams to roll Tailscale out in full-mesh mode across the subnet.</p><p>Today, customers are using peer relays to establish relayed connections at near-direct speeds across a variety of environments and settings.</p><ul><li><strong>Enable high-throughput traffic through cloud NATs, like AWS Managed NAT Gateways:</strong> Applications and services behind a Managed NAT Gateway can leverage peer relays to relay traffic that can’t establish direct connections.</li><li><strong>Relay through network firewalls:</strong> Workloads running in strictly firewalled environments can predictably expose a single UDP port, limiting the Tailscale surface area and fast-tracking the approval process for firewall exceptions.</li><li><strong>Offload from Custom and Managed DERP: </strong>Minimize data-in-transit through Tailscale‘s managed DERP network, and remove the need for customer-maintained DERP servers.</li><li><strong>Provide access to locked down customer networks: </strong>Data plane traffic can be relayed through predictable endpoints in customer networks, so that they only need to open minimal numbers of ports to facilitate cross network connections.</li></ul><h2 id="its-not-perfect-but-were-getting-there"><a href="#its-not-perfect-but-were-getting-there">It’s not perfect, but we’re getting there<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 7h3a5 5 0 0 1 5 5 5 5 0 0 1-5 5h-3m-6 0H6a5 5 0 0 1-5-5 5 5 0 0 1 5-5h3"></path><line x1="8" y1="12" x2="16" y2="12"></line></svg></a></h2><p>Tailscale Peer Relays is available today as a public beta. We’ve yet to establish all the connectivity paths we want to, and there’s still visibility and debugging improvements to work through. However, we’ve reliably seen our early design partners move to peer relay deployments with relative ease, and we’re ready for you to give it a try on your tailnet.</p><p>Tailscale Peer Relays can be enabled on all plans, including free (it’s our little way of working through the kinks of the modern internet with our customers). All customers can use two peer relays, for free, forever. As your needs scale, so will the number of available peer relays. To add even more peer relays to your tailnet, <a target="_blank" rel="noreferrer" href="https://tailscale.com/contact/sales?utm_source=blog&amp;utm_medium=content&amp;utm_campaign=fall-update-2025P">come have a chat with us</a>.</p></div></div></div>
  </body>
</html>
