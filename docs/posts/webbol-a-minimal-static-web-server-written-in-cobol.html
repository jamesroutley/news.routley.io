<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/jmsdnns/webbol">Original</a>
    <h1>Webbol: A minimal static web server written in COBOL</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">A minimal static web server written in COBOL using GnuCOBOL.</p>

<ul dir="auto">
<li>Serves static files from the current directory</li>
<li>Automatic MIME type detection for common file types</li>
<li>HTTP status codes: 200 (OK), 403 (Forbidden), 404 (Not Found), 413 (Payload Too Large)</li>
<li>Path traversal attack prevention</li>
<li>Clean request logging with full HTTP headers</li>
<li>Defaults to <code>index.html</code> for root path requests</li>
</ul>

<ul dir="auto">
<li>GnuCOBOL (cobc) compiler</li>
<li>POSIX-compatible operating system (Linux, macOS, BSD)</li>
<li>make</li>
</ul>

<p dir="auto"><strong>macOS:</strong></p>

<p dir="auto"><strong>Ubuntu/Debian:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo apt-get install gnucobol"><pre>sudo apt-get install gnucobol</pre></div>
<p dir="auto"><strong>Fedora/RHEL:</strong></p>
<div dir="auto" data-snippet-clipboard-copy-content="sudo dnf install gnucobol"><pre>sudo dnf install gnucobol</pre></div>

<p dir="auto">Clone or download the repository, then compile:</p>

<p dir="auto">This will compile all modules and create the <code>webserver</code> executable.</p>
<p dir="auto">To clean build artifacts:</p>


<p dir="auto">Start the server from the directory you want to serve:</p>

<p dir="auto">The server will start on port 8080 and serve files from the current directory.</p>

<div dir="auto" data-snippet-clipboard-copy-content="# Create a test HTML file
echo &#34;&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello from COBOL!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;&#34; &gt; index.html

# Start the server
./webserver

# In another terminal, test it
curl http://localhost:8080/"><pre><span><span>#</span> Create a test HTML file</span>
<span>echo</span> <span><span>&#34;</span>&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello from COBOL!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;<span>&#34;</span></span> <span>&gt;</span> index.html

<span><span>#</span> Start the server</span>
./webserver

<span><span>#</span> In another terminal, test it</span>
curl http://localhost:8080/</pre></div>

<p dir="auto">Once running, you can access files via:</p>
<ul dir="auto">
<li><code>http://localhost:8080/</code> - serves <code>index.html</code> from the current directory</li>
<li><code>http://localhost:8080/filename.html</code> - serves the specified file</li>
<li><code>http://localhost:8080/path/to/file.txt</code> - serves files from subdirectories</li>
</ul>
<p dir="auto">Press <code>Ctrl+C</code> to stop the server.</p>

<p dir="auto">To change the server port, edit <code>config.cpy</code> and modify the <code>SERVER-PORT</code> value:</p>
<div dir="auto" data-snippet-clipboard-copy-content="01 SERVER-PORT          PIC 9(5) VALUE 8080."><pre><span>01</span> SERVER-PORT          <span>PIC 9</span>(<span>5</span>) <span>VALUE</span> <span>8080</span>.</pre></div>
<p dir="auto">Then recompile with <code>make</code>.</p>

<div data-snippet-clipboard-copy-content="webbol/
├── Makefile              # Build configuration
├── README.md            # This file
├── config.cpy           # Server configuration
├── socket-defs.cpy      # Socket structure definitions
├── http-structs.cpy     # HTTP data structures
├── file-structs.cpy     # File handling structures
├── path-utils.cbl       # Path validation and sanitization
├── mime-types.cbl       # MIME type detection
├── file-ops.cbl         # File reading operations
├── http-handler.cbl     # HTTP request/response handling
└── webserver.cbl        # Main server program"><pre><code>webbol/
├── Makefile              # Build configuration
├── README.md            # This file
├── config.cpy           # Server configuration
├── socket-defs.cpy      # Socket structure definitions
├── http-structs.cpy     # HTTP data structures
├── file-structs.cpy     # File handling structures
├── path-utils.cbl       # Path validation and sanitization
├── mime-types.cbl       # MIME type detection
├── file-ops.cbl         # File reading operations
├── http-handler.cbl     # HTTP request/response handling
└── webserver.cbl        # Main server program
</code></pre></div>

<ul dir="auto">
<li>HTML: <code>text/html</code></li>
<li>CSS: <code>text/css</code></li>
<li>JavaScript: <code>application/javascript</code></li>
<li>JSON: <code>application/json</code></li>
<li>XML: <code>application/xml</code></li>
<li>Plain text: <code>text/plain</code></li>
<li>PNG: <code>image/png</code></li>
<li>JPEG: <code>image/jpeg</code></li>
<li>GIF: <code>image/gif</code></li>
<li>SVG: <code>image/svg+xml</code></li>
<li>ICO: <code>image/x-icon</code></li>
<li>PDF: <code>application/pdf</code></li>
</ul>
<p dir="auto">Additional MIME types can be added by editing <code>mime-types.cbl</code>.</p>

<ul dir="auto">
<li>Path traversal prevention: Blocks requests containing <code>..</code> sequences</li>
<li>Directory access restriction: Only serves files from the current directory and subdirectories</li>
<li>Safe file handling: Validates all paths before file system access</li>
</ul>

<ul dir="auto">
<li>Single-threaded: Handles one request at a time</li>
<li>No SSL/TLS support</li>
<li>Maximum file size: 64KB</li>
<li>Line sequential file organization only (text files)</li>
<li>No caching or compression</li>
<li>No range requests or partial content support</li>
</ul>

<p dir="auto"><strong>Port already in use:</strong></p>
<div data-snippet-clipboard-copy-content="Bind failed - check if port is in use"><pre><code>Bind failed - check if port is in use
</code></pre></div>
<p dir="auto">Another process is using port 8080. Either stop that process or change the port in <code>config.cpy</code>.</p>
<p dir="auto"><strong>Permission denied:</strong>
Ensure the files you&#39;re trying to serve have read permissions and the current user can access them.</p>
<p dir="auto"><strong>File not found (404):</strong>
Verify the file exists in the current directory where the server is running. File paths are case-sensitive.</p>

<p dir="auto">This project is released into the public domain. Use it however you&#39;d like.</p>

<p dir="auto">Built with GnuCOBOL, demonstrating that COBOL can still be used for modern systems programming tasks.</p>
</article></div></div>
  </body>
</html>
