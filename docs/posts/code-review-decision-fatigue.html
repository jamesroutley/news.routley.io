<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://tylercipriani.com/blog/2022/03/12/code-review-procrastination-and-clarity/">Original</a>
    <h1>Code review decision fatigue</h1>
    
    <div id="readability-page-1" class="page"><article class="page">







<div id="pagebody">

<section id="content" role="main">
<blockquote>
<p>People think they lack motivation, what they really lack is clarity</p>
<p>– James Clear, <u>Atomic Habits</u></p>
</blockquote>
<p>Code review innocently asks a staggering question: “does this code look good to you?” It’s not even clear how to start to answer this question – which makes putting off code reviews easy.</p>
<p>With so many decisions left for the reviewer, the easiest decision is to opt out – to defer code review for a time when I have more mental energy.</p>
<p>This post explores the problem of decision fatigue in code review. Then it looks at individual and institutional strategies for fighting fatigue.</p>
<section id="code-review-is-a-request-for-my-willpower">
<h2>Code review is a request for my willpower <a href="#code-review-is-a-request-for-my-willpower">¶</a></h2>
<figure>
<img src="https://photos.tylercipriani.com/2022-03-07_10loc-500loc.png" alt=""/><figcaption>The <strong>chaotic evil</strong> response to an unreasonable review request</figcaption>
</figure>
<p>Code review is a big task for even a tiny change. But if your patch is enormous and tricky, then you’re asking for a titanic share of my willpower.</p>
<p>When a review demands too much of my daily willpower reserve, I have a few options:</p>
<ul>
<li><strong>Lawful Good</strong>: Carve out time when I know I’ll be able to power through the review.</li>
<li><strong>Neutral</strong>: Defer reviewing your code — and devoutly wish that it somehow disappears.</li>
<li><strong>Chaotic Evil</strong>: YOLO it into production and let you deal with the fallout.</li>
</ul>
<p>None of these options is fair to both the developer and the reviewer.</p>
</section>
<section id="where-to-even-begin-code-review">
<h2>Where to even begin code review <a href="#where-to-even-begin-code-review">¶</a></h2>
<p>Often even the basic questions of code review are up to a reviewer to decide.</p>
<p>A thread on hacker news recently asked a fundamental question about code review: <a href="https://news.ycombinator.com/item?id=30577735">do you run the code as part of your review</a>? The immediate responses were illuminating to me, and I can summarize them as follows:</p>
<ol type="1">
<li><a href="https://news.ycombinator.com/item?id=30578033">No, but here’s how I trick developers into running their own code</a></li>
<li><a href="https://news.ycombinator.com/item?id=30577790">Yes, because neglecting to run code has left me traumatized</a></li>
<li><a href="https://news.ycombinator.com/item?id=30579389">Rarely, because tests</a></li>
<li><a href="https://news.ycombinator.com/item?id=30578049">It depends, and you need a standard</a></li>
</ol>
<p>Google’s code review guidelines are blasé on the subject:</p>
<blockquote>
<p>You can validate the CL [code under review] if you want</p>
<p>– What to look for in a code review, https://google.github.io/eng-practices/review/</p>
</blockquote>
<p>Google’s engineering practices documentation goes on to mention times you’ll definitely want to ensure you’ve run the code: UI changes and parallelism — places where it’s easy (even likely) for an individual to make a noticeable (in retrospect) mistake. But what about all the other code reviews?</p>
</section>
<section id="requesting-changes-to-the-code-review-process">
<h2>Requesting changes to the code review process <a href="#requesting-changes-to-the-code-review-process">¶</a></h2>
<p>We should optimize the code review process to reduce the decision fatigue of reviewers.</p>
<p>Here are a few tricks developers can use to lessen the mental load:</p>
<ul>
<li>Split your merge request into smaller, independent merge requests</li>
<li>Add some tests and linting to exercise the code</li>
<li>Write clearer commit messages</li>
<li>Add comments to the code</li>
<li>Ask them for a narrower review — e.g., a design review or an architecture review</li>
<li>Write better code</li>
</ul>
<p>Some tools exist that ease the burden of remembering your review backlog – Automattic has <a href="https://www.software-engineering-unlocked.com/episode-4-leif-singer/">The Stick</a>, and Microsoft has <a href="https://arxiv.org/pdf/2011.12468v1.pdf">Nudge</a>. And studies have shown code review reminder tools like these may <a href="https://www.michaelagreiler.com/code-review-reminder/">speed up reviews by as much as 60%</a>.</p>
<p>But there are no magic bullets. Code review’s harshest feedback is silence. There are times when you gape as your code rots, awaiting final judgement. And that sucks for everyone.</p>
<p>To speed up the process, <strong>we’ve got to make it easier for reviewers</strong> – we should start with a shared agreement about the scope of review. Perhaps beginning with the fundamental question of whether they’re even supposed to run the code. The answer here is probably different for different teams and various types of software, but we all do reviews; maybe we should all have review standards, too.</p>
<hr/>
<p><small>Thanks to <a href="https://p1k3.com/">Brennen Bearnes</a> for reading an early draft of this post and making it less wronger.</small></p>
</section>

</section>









</div>



</article></div>
  </body>
</html>
