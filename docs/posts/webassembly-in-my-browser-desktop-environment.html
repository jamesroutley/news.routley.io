<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.wasm.builders/dustinbrett/webassembly-in-my-browser-desktop-environment-3alc">Original</a>
    <h1>WebAssembly in my browser desktop environment</h1>
    
    <div id="readability-page-1" class="page"><div id="main-title">
            <p><img src="https://www.wasm.builders/images/4oa0Zz7paDyeQWq1RSK4WJmzoBE5fbZokx8T21w-oJs/s:1000:420/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy8zcHFz/dnhnNHhzYzE2aThv/MTFkMS5wbmc" width="1000" height="420" alt="Cover image for WebAssembly in my Browser Desktop Environment"/>
            </p>

          <div>
            <div>
              
              <div>
                <p><a href="https://www.wasm.builders/dustinbrett"><img src="https://www.wasm.builders/images/etaZn9ztCavxnWJyp2gWlnXZSB26a5lz916A1tB73BY/rs:fill:50:50/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy91/c2VyL3Byb2ZpbGVf/aW1hZ2UvNTU0Lzhj/OGRkYTFhLWFlMmUt/NGQ2NC04MzY3LTc4/ZGU4ZTRlNjU4My5q/cGVn" width="40" height="40" alt="Dustin Brett"/></a>
                </p>
                
              </div>
            </div>

            

              
          </div>
        </div><div>

          <div data-article-id="57" id="article-body">
            <p>For over a year now I&#39;ve been working on <a href="https://github.com/DustinBrett/daedalOS">daedalOS</a>, my desktop environment in the browser. At the start of 2022 I published the app as <a href="https://dustinbrett.com/">my website</a> for everyone to play with.</p>

<p>Website: <a href="https://dustinbrett.com/">dustinbrett.com</a></p>

<p>For the WebAssembly audience I wanted to discuss the many features I&#39;ve integrated into my desktop environment which use WebAssembly. Here is a list in no particular order:</p>
<h2>
  <a name="x86-emulation-via-v86" href="#x86-emulation-via-v86">
  </a>
  x86 Emulation via <a href="https://github.com/copy/v86">v86</a>
</h2>

<p>I support dragging <code>.iso</code> &amp; <code>.img</code> files into the app which can be ran on v86. It also comes loaded with <a href="https://dustinbrett.com/?url=/Users/Public/Documents/Disk%20Images/kolibri.img">Kolibri</a> and <a href="https://dustinbrett.com/?app=V86&amp;url=/Users/Public/Documents/Disk%20Images/linux4.iso">Linux</a>. When an app is closed a snapshot of the current state is saved to <code>/Users/Public/Snapshots</code> which is automatically loaded the next time the same image is opened.</p>

<p><a href="https://www.wasm.builders/images/N26DnUkqqxd0EsVj11DoIDMfRltw8yaIAC1StD_s_2w/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy96dXZ4/MmYydDQzZnVxcjZw/YmE2ai5wbmc"><img src="https://www.wasm.builders/images/N26DnUkqqxd0EsVj11DoIDMfRltw8yaIAC1StD_s_2w/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy96dXZ4/MmYydDQzZnVxcjZw/YmE2ai5wbmc" alt="V86 running Kolibri" loading="lazy" width="880" height="688"/></a></p>
<h2>
  <a name="dos-emulation-via-jsdos" href="#dos-emulation-via-jsdos">
  </a>
  DOS Emulation via <a href="https://github.com/caiiiycuk/js-dos">js-dos</a>
</h2>

<p>For this app you can open any <code>.zip</code> or <code>.jsdos</code> file in it. If you don&#39;t provide a jsdos config file it will boot to the command prompt. I have some preloaded DOS shareware games such as <a href="https://dustinbrett.com/?url=/Users/Public/Documents/DOS%20Bundles/doom.jsdos">Doom</a> and <a href="https://dustinbrett.com/?url=/Users/Public/Documents/DOS%20Bundles/dn3d.jsdos">Duke Nukem 3D</a>. Like v86 it will save snapshots on close and reload them on reopen, but instead of loading the emulator state it just loads the directory contents such as save games.</p>

<p><a href="https://www.wasm.builders/images/tsH3pUlVoQ-QU4jQXPXNhQgb2mwJve6M8wovMFx96_o/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy90MXg0/dGl1YW9mb2Q5ejZx/bTVuOS5wbmc"><img src="https://www.wasm.builders/images/tsH3pUlVoQ-QU4jQXPXNhQgb2mwJve6M8wovMFx96_o/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy90MXg0/dGl1YW9mb2Q5ejZx/bTVuOS5wbmc" alt="JS-DOS running Duke Nukem 3D" loading="lazy" width="677" height="453"/></a></p>
<h2>
  <a name="wine-1632bit-via-boxedwine" href="#wine-1632bit-via-boxedwine">
  </a>
  WINE (16/32-bit) via <a href="https://github.com/danoon2/Boxedwine">Boxedwine</a>
</h2>

<p>This also supports <code>.zip</code> files and will try and run <code>.exe</code> too. It can run various apps as BoxedWine shows on their <a href="http://www.boxedwine.org/search-apps/?_sft_feature=demo">Apps and Games</a> page. As an example I downloaded the latest <code>32-bit x86 Portable (zip)</code> version of <a href="https://notepad-plus-plus.org/downloads/">Notepad++</a>, shown below.</p>

<p><a href="https://www.wasm.builders/images/X5nqLXEM9iDTtMr0oCb1dmZ1ona8fgWaUbc18RpkFOQ/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy9mb3o0/OGQ2ZWt1NGZld2kz/NmduYS5wbmc"><img src="https://www.wasm.builders/images/X5nqLXEM9iDTtMr0oCb1dmZ1ona8fgWaUbc18RpkFOQ/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy9mb3o0/OGQ2ZWt1NGZld2kz/NmduYS5wbmc" alt="BoxedWine running Notepad++" loading="lazy" width="660" height="535"/></a></p>
<h2>
  <a name="flash-emulation-via-ruffle" href="#flash-emulation-via-ruffle">
  </a>
  Flash Emulation via <a href="https://github.com/ruffle-rs/ruffle">Ruffle</a>
</h2>

<p>This app supports <code>.swf</code> and <code>.spl</code> files. I have a few fun demos on my site such as the <a href="https://dustinbrett.com/?url=/Users/Public/Documents/Flash%20Files/badger.swf">Badger Badger Badger</a> and <a href="https://dustinbrett.com/?url=/Users/Public/Documents/Flash%20Files/Windows%20RG%20Build%20207.swf">Windows RG (Really Good Edition)</a>.</p>

<p><a href="https://www.wasm.builders/images/w1PnQ6PEyCTZj0hny_6OLrz9cBo5n1itwh43XFw2zZE/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy9vcGw4/aDN1bGh0ZnY2bml3/NGxjaC5wbmc"><img src="https://www.wasm.builders/images/w1PnQ6PEyCTZj0hny_6OLrz9cBo5n1itwh43XFw2zZE/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy9vcGw4/aDN1bGh0ZnY2bml3/NGxjaC5wbmc" alt="Ruffle running Badger" loading="lazy" width="591" height="458"/></a></p>
<h2>
  <a name="7zrartar-extraction-via-libarchivejs" href="#7zrartar-extraction-via-libarchivejs">
  </a>
  7z/RAR/TAR Extraction via <a href="https://github.com/nika-begiashvili/libarchivejs">Libarchivejs</a>
</h2>

<p>I support <code>.zip</code> &amp; <code>.iso</code> mounting through non-WebAssembly methods, so to handle <code>.7z</code>, <code>.rar</code>, <code>.tar</code> &amp; <code>.tar.gz</code> I&#39;ve added Libarchive.js. Extracting is done from the right click context menu on each file.</p>

<p><a href="https://www.wasm.builders/images/1V31qxT1teiUu0f5YlKFegugXpfstkLb6Bnb2ePGLGk/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy94ODI1/MzdhcG43YmtoeDAx/cWdmbC5wbmc"><img src="https://www.wasm.builders/images/1V31qxT1teiUu0f5YlKFegugXpfstkLb6Bnb2ePGLGk/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy94ODI1/MzdhcG43YmtoeDAx/cWdmbC5wbmc" alt="Files extracted via Libarchive.js" loading="lazy" width="513" height="319"/></a></p>
<h2>
  <a name="audiovideo-conversion-via-ffmpegwasm" href="#audiovideo-conversion-via-ffmpegwasm">
  </a>
  Audio/Video Conversion via <a href="https://github.com/ffmpegwasm/ffmpeg.wasm">ffmpeg.wasm</a>
</h2>

<p>Currently only supporting single thread because of the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer#security_requirements">SharedArrayBuffer limitation</a> and my desire to not deal with CORS issues. For video you can convert <code>.avi</code>, <code>.flv</code>, <code>.m4v</code>, <code>.mov</code>, <code>.mp4</code>, <code>.mpeg</code>, <code>.ogv</code>, <code>.webm</code> &amp; <code>.wmv</code>. For audio it supports converting <code>.aac</code>, <code>.aiff</code>, <code>.ape</code>, <code>.flac</code>, <code>.m4a</code>, <code>.mp3</code>, <code>.oga</code>, <code>.ogg</code> <code>.wav</code> &amp; <code>.wma</code>. These conversion options can be access via the context menu on each file.</p>

<p><a href="https://www.wasm.builders/images/1nrn5giaTj55u2MsErf0wGr9bxukBJxW444HLAdax5k/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy81eGtr/OGN2aTc3cGRucnZ3/dGQ1YS5wbmc"><img src="https://www.wasm.builders/images/1nrn5giaTj55u2MsErf0wGr9bxukBJxW444HLAdax5k/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy81eGtr/OGN2aTc3cGRucnZ3/dGQ1YS5wbmc" alt="File converted from MP4 to MKV" loading="lazy" width="394" height="327"/></a></p>
<h2>
  <a name="image-conversion-via-wasmimagemagick" href="#image-conversion-via-wasmimagemagick">
  </a>
  Image Conversion via <a href="https://github.com/KnicKnic/WASM-ImageMagick">WASM-ImageMagick</a>
</h2>

<p>Similar to audio/video, I support various formats of images that can be converted. They are <code>.bmp</code>, <code>.gif</code>, <code>.ico</code>, <code>.jpg</code>, <code>.png</code>, <code>.psd</code>, <code>.tiff</code> &amp; <code>.xcf</code>.</p>

<p><a href="https://www.wasm.builders/images/dSDzNeFa0B6oSZnZ2L86mLLChJRiRVpSaRhFl16LjOA/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy8za3Zt/Z2NzeTN6Y21vejZv/cWowdy5wbmc"><img src="https://www.wasm.builders/images/dSDzNeFa0B6oSZnZ2L86mLLChJRiRVpSaRhFl16LjOA/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy8za3Zt/Z2NzeTN6Y21vejZv/cWowdy5wbmc" alt="File converted from JPG to PNG" loading="lazy" width="423" height="328"/></a></p>
<h2>
  <a name="python-via-pyodide" href="#python-via-pyodide">
  </a>
  Python via <a href="https://github.com/pyodide/pyodide">Pyodide</a>
</h2>

<p>I&#39;ve added support to run <code>.py</code> scripts in the terminal. It&#39;s also possible to open the <a href="https://dustinbrett.com/?app=Terminal">Terminal</a> directly and run a command such as <code>py import sys; sys.version</code> to see the same result as this example script.</p>

<p><a href="https://www.wasm.builders/images/5-o5PYrDWRF3_w01T_VT5V5fjvpYQ9aN8-Z_Q7Ar4Qc/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy80ZTNx/aTNwZTFhenZhbHp5/a2M1bC5wbmc"><img src="https://www.wasm.builders/images/5-o5PYrDWRF3_w01T_VT5V5fjvpYQ9aN8-Z_Q7Ar4Qc/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy80ZTNx/aTNwZTFhenZhbHp5/a2M1bC5wbmc" alt="Running a Python script" loading="lazy" width="642" height="538"/></a></p>
<h2>
  <a name="wasi-modules-via-wasmer-js" href="#wasi-modules-via-wasmer-js">
  </a>
  WASI Modules via <a href="https://github.com/wasmerio/wasmer-js">Wasmer JS</a>
</h2>

<p>I&#39;ve added limited support to run <a href="https://wapm.io/">wapm.io</a> directly from the <a href="https://dustinbrett.com/?app=Terminal">Terminal</a>. Examples of commands that work well are <code>wapm cowsay {Text}</code> and <code>wapm uuid</code>.</p>

<p><a href="https://www.wasm.builders/images/Rnk46XUtA53bXANaWEQWaWKxv3zhAFtF_WYaWOgqTbw/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy9ucXMw/OWQ0bDdxaGszNzJ6/eXp6bS5wbmc"><img src="https://www.wasm.builders/images/Rnk46XUtA53bXANaWEQWaWKxv3zhAFtF_WYaWOgqTbw/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy9ucXMw/OWQ0bDdxaGszNzJ6/eXp6bS5wbmc" alt="Running wapm commands in Terminal" loading="lazy" width="572" height="394"/></a></p>
<h2>
  <a name="space-cadet-via-spacecadetpinball" href="#space-cadet-via-spacecadetpinball">
  </a>
  Space Cadet via <a href="https://github.com/k4zmu2a/SpaceCadetPinball">SpaceCadetPinball</a>
</h2>

<p>Finally for a blast from the past I&#39;ve added <a href="https://dustinbrett.com/?app=SpaceCadet">3D Pinball Space Cadet</a> which has been ported to many platforms including to WebAssembly.</p>

<p><a href="https://www.wasm.builders/images/-x7t-tcM9L7UOWjDe_XdFaung6wbjhjmBGDntuZu5Ig/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy9uNzVm/MHV2YWg3OHE2M2xt/YzJxcS5wbmc"><img src="https://www.wasm.builders/images/-x7t-tcM9L7UOWjDe_XdFaung6wbjhjmBGDntuZu5Ig/w:880/mb:500000/ar:1/aHR0cHM6Ly93d3cu/d2FzbS5idWlsZGVy/cy9yZW1vdGVpbWFn/ZXMvdXBsb2Fkcy9h/cnRpY2xlcy9uNzVm/MHV2YWg3OHE2M2xt/YzJxcS5wbmc" alt="Playing Space Cadet" loading="lazy" width="639" height="504"/></a></p>
<h2>
  <a name="the-future" href="#the-future">
  </a>
  The Future...
</h2>

<p>Thanks for checking out my post/app!!! If you&#39;d like to follow my progress as I continue to play with <a href="https://www.youtube.com/c/DustinBrett/videos">all things web/dev</a>, please check out my <a href="https://www.youtube.com/c/DustinBrett">YouTube channel</a>. Here is my latest video where I discuss progress on this app:</p>

<p><iframe width="710" height="399" src="https://www.youtube.com/embed/Jj18hV82FeI" allowfullscreen="" loading="lazy">
</iframe>
</p>


          </div>

        </div></div>
  </body>
</html>
