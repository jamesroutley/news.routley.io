<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/holepunchto/hypershell">Original</a>
    <h1>HyperShell: Spawn shells anywhere. Fully peer-to-peer</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">Spawn shells anywhere. Fully peer-to-peer, authenticated, and end to end encrypted.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-install" aria-hidden="true" href="#install"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Install</h2>

<h2 tabindex="-1" dir="auto"><a id="user-content-usage" aria-hidden="true" href="#usage"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Usage</h2>
<div dir="auto" data-snippet-clipboard-copy-content="# Create keys
hypershell-keygen [-f keyfile] [-c comment]

# Create a P2P server
hypershell-server [-f keyfile] [--firewall filename] [--disable-firewall] [--protocol name]

# Connect to a P2P shell
hypershell &lt;server key or name&gt; [-f keyfile]

# Local tunnel that forwards to remote host
hypershell &lt;server key or name&gt; -L [address:]port:host:hostport

# Copy files (download and upload)
hypershell-copy &lt;[@host:]source&gt; &lt;[@host:]target&gt; [-f keyfile]"><pre><span><span>#</span> Create keys</span>
hypershell-keygen [-f keyfile] [-c comment]

<span><span>#</span> Create a P2P server</span>
hypershell-server [-f keyfile] [--firewall filename] [--disable-firewall] [--protocol name]

<span><span>#</span> Connect to a P2P shell</span>
hypershell <span>&lt;</span>server key or name<span>&gt;</span> [-f keyfile]

<span><span>#</span> Local tunnel that forwards to remote host</span>
hypershell <span>&lt;</span>server key or name<span>&gt;</span> -L [address:]port:host:hostport

<span><span>#</span> Copy files (download and upload)</span>
hypershell-copy <span>&lt;</span>[@host:]source<span>&gt;</span> <span>&lt;</span>[@host:]target<span>&gt;</span> [-f keyfile]</pre></div>
<p dir="auto">Use <code>--help</code> with any command for more information, for example <code>hypershell-server --help</code>.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-first-steps" aria-hidden="true" href="#first-steps"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>First steps</h2>
<p dir="auto">Keys are automatically created with a default filename on first run.</p>
<p dir="auto">Otherwise, you can first do:</p>

<p dir="auto">Just connect to servers (they have to allow your public key):</p>
<div dir="auto" data-snippet-clipboard-copy-content="hypershell &lt;server name or public key&gt;"><pre>hypershell <span>&lt;</span>server name or public key<span>&gt;</span></pre></div>
<p dir="auto">You could also create a server:</p>

<p dir="auto"><code>~/.hypershell/authorized_peers</code> file will be empty, denying all connections by default.</p>
<p dir="auto">Or you can use the <code>--disable-firewall</code> flag to allow anyone to connect, useful for public services like game servers.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-known-peers" aria-hidden="true" href="#known-peers"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Known peers</h2>
<p dir="auto">There will be a file <code>~/.hypershell/known_peers</code>.</p>
<p dir="auto">Add named peers to the file like for example:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# &lt;name&gt; &lt;public key&gt;
home cdb7b7774c3d90547ce2038b51367dc4c96c42abf7c2e794bb5eb036ec7793cd "><pre><span><span>#</span> &lt;name&gt; &lt;public key&gt;</span>
home cdb7b7774c3d90547ce2038b51367dc4c96c42abf7c2e794bb5eb036ec7793cd </pre></div>
<p dir="auto">Now just <code>hypershell home</code> (it saves you writing the entire public key).</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-hypershell-copy" aria-hidden="true" href="#hypershell-copy"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>hypershell-copy</h2>
<p dir="auto">Similar to <code>scp</code>. It works with files, and with folders recursively.</p>
<p dir="auto">For the next examples, <code>remote_peer</code> is a name that can be added to the <code>known_peers</code> file.</p>
<p dir="auto">Upload a file from your desktop to a remote server:</p>
<div dir="auto" data-snippet-clipboard-copy-content="hypershell-copy ~/Desktop/file.txt @remote_peer:/root/file.txt"><pre>hypershell-copy <span>~</span>/Desktop/file.txt @remote_peer:/root/file.txt</pre></div>
<p dir="auto">Download a file from a remote server to your desktop:</p>
<div dir="auto" data-snippet-clipboard-copy-content="hypershell-copy @remote_peer:/root/database.json ~/Desktop/db-backup.json"><pre>hypershell-copy @remote_peer:/root/database.json <span>~</span>/Desktop/db-backup.json</pre></div>
<p dir="auto">Note: in the future, the <code>@</code> might be removed.</p>
<p dir="auto">You can also use the public key of the server directly (without <code>@</code>):</p>
<div dir="auto" data-snippet-clipboard-copy-content="hypershell-copy ~/Desktop/some-folder cdb7b7774c3d90547ce2038b51367dc4c96c42abf7c2e794bb5eb036ec7793cd:/root/backup-folder"><pre>hypershell-copy <span>~</span>/Desktop/some-folder cdb7b7774c3d90547ce2038b51367dc4c96c42abf7c2e794bb5eb036ec7793cd:/root/backup-folder</pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-local-tunnel" aria-hidden="true" href="#local-tunnel"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Local tunnel</h2>
<h4 tabindex="-1" dir="auto"><a id="user-content-client" aria-hidden="true" href="#client"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Client</h4>
<p dir="auto">It creates a local server, and every connection is forwarded to the remote host.</p>
<p dir="auto">In this example, creates a local tunnel at <code>127.0.0.1:2020</code> (where you can connect to),</p>
<div dir="auto" data-snippet-clipboard-copy-content="hypershell remote_peer -L 127.0.0.1:2020:127.0.0.1:3000"><pre>hypershell remote_peer -L 127.0.0.1:2020:127.0.0.1:3000</pre></div>
<p dir="auto">Instead of <code>remote_peer</code> you can use the server public key as well.</p>
<p dir="auto">You can also pass several <code>-L</code> to run multiple local servers that remote forwards:</p>
<div dir="auto" data-snippet-clipboard-copy-content="hypershell remote_peer -L 2020:127.0.0.1:3000 -L 2021:127.0.0.1:3000 -L 2022:127.0.0.1:3000"><pre>hypershell remote_peer -L 2020:127.0.0.1:3000 -L 2021:127.0.0.1:3000 -L 2022:127.0.0.1:3000</pre></div>
<h4 tabindex="-1" dir="auto"><a id="user-content-server" aria-hidden="true" href="#server"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Server</h4>
<p dir="auto">By default, <code>hypershell-server</code> runs a server with full access, including forwarding to all hosts and ports.</p>
<p dir="auto">You can run a server with restricted permissions to allow forwarding a specific host and port only.</p>
<p dir="auto">Let&#39;s say you have a local project like a React app at <code>http://127.0.0.1:3000/</code>,</p>
<div dir="auto" data-snippet-clipboard-copy-content="hypershell-server --protocol tunnel --tunnel-host 127.0.0.1 --tunnel-port 3000"><pre>hypershell-server --protocol tunnel --tunnel-host 127.0.0.1 --tunnel-port 3000</pre></div>
<p dir="auto">Or if you want to allow multiple hosts, port range, etc:</p>
<div dir="auto" data-snippet-clipboard-copy-content="hypershell-server --protocol tunnel --tunnel-host 127.0.0.1 --tunnel-host 192.168.0.25 --tunnel-port 1080 --tunnel-port 3000 --tunnel-port 4100-4200"><pre>hypershell-server --protocol tunnel --tunnel-host 127.0.0.1 --tunnel-host 192.168.0.25 --tunnel-port 1080 --tunnel-port 3000 --tunnel-port 4100-4200</pre></div>
<p dir="auto">Clients trying to use any different hosts/ports are automatically disconnected.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-multiple-keys" aria-hidden="true" href="#multiple-keys"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Multiple keys</h2>
<p dir="auto">To have multiple servers, you need multiple keys.</p>
<p dir="auto">Generate another key:</p>
<div dir="auto" data-snippet-clipboard-copy-content="hypershell-keygen -f ~/.hypershell/my-server"><pre>hypershell-keygen -f <span>~</span>/.hypershell/my-server</pre></div>
<p dir="auto">Now create a new shell server:</p>
<div dir="auto" data-snippet-clipboard-copy-content="hypershell-server -f ~/.hypershell/my-server --firewall ~/.hypershell/my-server-firewall"><pre>hypershell-server -f <span>~</span>/.hypershell/my-server --firewall <span>~</span>/.hypershell/my-server-firewall</pre></div>
<p dir="auto">The client also accepts <code>-f</code> in case you need it.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-restrict-server-protocols" aria-hidden="true" href="#restrict-server-protocols"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Restrict server protocols</h2>
<p dir="auto">This is the list of server protocols:</p>
<ul dir="auto">
<li><code>shell</code></li>
<li><code>upload</code></li>
<li><code>download</code></li>
<li><code>tunnel</code></li>
</ul>
<p dir="auto">By default, all of them are enabled when running a server.</p>
<p dir="auto">For example, you could limit it to shell only:</p>
<p dir="auto">Or only allow file upload and/or download:</p>
<p dir="auto">Restrict to tunnel only:</p>
<p dir="auto">For example, if you only allow <code>tunnel</code>, then any attempt from clients to <code>shell</code> into the server will auto disconnect them.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-license" aria-hidden="true" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>License</h2>
<p dir="auto">MIT</p>
</article>
          </div></div>
  </body>
</html>
