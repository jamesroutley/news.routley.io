<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://community.sonarsource.com/t/sonar-is-destroying-my-job-and-its-driving-me-to-despair/92438">Original</a>
    <h1>Sonar is destroying my job and it&#39;s driving me to despair</h1>
    
    <div id="readability-page-1" class="page"><div itemscope="" itemtype="http://schema.org/DiscussionForumPosting">
      <meta itemprop="headline" content="Sonar is destroying my job and it&#39;s driving me to despair"/>
      
      <meta itemprop="datePublished" content="2023-06-13T12:17:38Z"/>
        <meta itemprop="articleSection" content="SonarQube"/>
      <meta itemprop="keywords" content="kotlin, sonarqube"/>
      


          <div id="post_1">
            
            <div itemprop="text">
              <p>First of all, I understand that Sonar is a well intentioned product.</p>
<p>It’s right <em>most</em> of the time.  Unfortunately coding is, of course, complex and it’s challenging for a product like Sonar to keep pace with the fast changing syntax of newer languages.</p>
<p>I’m an experienced Developer and Team Lead, currently coding in Kotlin with Coroutines. I’ve also worked with Java, C++, C, Objective-C and Swift.  We can all learn more, but I’ve been around the block and know a few things about what code quality looks like and how to make pragmatic decisions around it.</p>
<p>Our ‘default’ Sonar setup is currently making me ‘butcher’ my Kotlin code to comply with it’s rules and, as you may tell, it’s really upsetting.</p>
<p>You may say <em>“The rules can be customised”</em>, or <em>“Allow an exception”</em>.  You need to understand <strong>that is not a simple option for many of your users</strong>.  In my case, I have a superior who administers Sonar and is, let’s say, completely committed to it.  For any ‘exception granted’ we would have to book time with them days in advance then white-board the reason why Sonar is wrong, or produce a sample program - who has got time for that with tight deadlines?</p>
<p>Please rethink your UX with the realisation that there are probably many professional and experienced software engineers out there who - far from appreciating your product, actually feel genuinely oppressed by it: like victims of a cold unfeeling system with no ‘right to reply’.  Unable to merge deadline code until every point is addressed, for better or worse.  It’s a terrible helpless feeling.</p>
<p>A couple of Kotlin examples:</p>
<ul>
<li>
<p>Inability to define a single suspending function interface. Sonar tells me to make it a fun interface, then tells me fun interfaces can’t have suspending functions.  I should make this a functional type instead?  Completely <em>inconsistent</em> with the rest of the code and removes the opportunity to provide information though labelling the function.</p>
</li>
<li>
<p>Sonar doesn’t respect import aliasing.  Let’s say I have Domain and Service models for some entities.  I have ‘Person’ defined in domain and service packages. In one of those packages, I want to write a mapper extension.  I use import aliasing to disambiguate each ‘Person’ as DomainPerson and ServicePerson.  This is an informative convention, but Sonar doesn’t allow it: <code>import service.Person as ServicePerson</code> is considered redundant.  I could then use a private typealias ServicePerson = Person` but this isn’t the same.</p>
</li>
</ul>
<p>These are just two examples, I could find more.</p>
<p><strong>Can you do something with your product</strong> to give users more of a ‘right to reply’ and re-empower them?</p>
<ul>
<li>Allow a user role where rules can be overridden but the admin gets informed and can remove the override at a later time.</li>
<li>A mode where an override can be granted by 3-4 other users all agreeing, who aren’t admins.</li>
<li>Button to fast-access (lazily create) a community thread regarding a certain rule, to report a problem with it, so you know your difficulty is being heard at least by Sonar, if not within your organisation.</li>
</ul>
<p>Thank you for listening to my part rant, part suggestions.  This is sincere.</p>
            </div>

            

            

                
          </div>
          <div id="post_2" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://community.sonarsource.com/u/Colin"><span itemprop="name">Colin</span></a>
                (Colin)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2023-06-14T08:51:41Z">
                    June 14, 2023,  8:51am
                  </time>
                  <meta itemprop="dateModified" content="2023-06-14T09:29:39Z"/>
              <span itemprop="position">2</span>
              </span>
            </p>
            <div itemprop="text">
              <p>Hey there.</p>
<p>Thanks for the feedback. It’s essential in our quest to ensure developers not only find value in our products but also enjoy and feel empowered by the experience.</p>
<p>If you disagree with a rule implementation, I encourage you to post the details in the category titled <a href="https://community.sonarsource.com/c/clean-code/fp/7">Report a False-Positive/False-Negative</a>, for which we <a href="https://community.sonarsource.com/t/how-to-report-a-false-positive-false-negative/37022">have a post detailing what is required to report</a> (code sample, product versions, rule IDs…). Our teams are very reactive and enjoy engaging in these discussions.</p>

<p>There is an <a href="https://docs.sonarqube.org/latest/instance-administration/security/#:~:text=permission%C2%A0below.-,Project%20permissions,-Project%20permissions%20are"><strong>Administer Issue</strong></a> permission that in most organizations would be granted to Team leaders or experienced developers (like yourself) to be able to mark issues as False-Positive/Won’t Fix.</p>
<p>Somebody else (like your superior) has at least two options (maybe more) to discover these exceptions:</p>
<ul>
<li>Using the <strong>Issues</strong> tab of a project (or the SonarQube instance overall) to filter for issues that are marked as False-Positive / Won’t Fix if they want to do some kind of global review.</li>
<li>Configure a project-level <a href="https://docs.sonarqube.org/latest/instance-administration/notifications/">e-mail notification</a> for <strong>Issues resolved as false positive or won’t fix</strong></li>
</ul>
<p>And, to be honest, Chris, if you have a superior that trusts in Sonar 100% and trusts you and your fellow developers very little (unwilling to delegate permissions, decision making)… I think that’s the root of your problem and not one that can be fixed with product changes. We create a new user role? Enable some kind of consensus-driven issue status? Your superior could just decide not to grant it.</p>
<p>Happy to continue discussing this.</p>
            </div>

            

            

          </div>
          <div id="post_4" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://community.sonarsource.com/u/john.clifton"><span itemprop="name">john.clifton</span></a>
                (John Clifton)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2023-06-14T09:51:59Z">
                    June 14, 2023,  9:51am
                  </time>
                  <meta itemprop="dateModified" content="2023-06-14T09:51:59Z"/>
              <span itemprop="position">4</span>
              </span>
            </p>
            <div itemprop="text">
              
<p>Hi <a href="https://community.sonarsource.com/u/chris_hatton">@Chris_Hatton</a>, we are looking into something similar to this at the moment. If you would be willing, I’d love to have a short call to talk to you about your suggestion.</p>
            </div>

            

            

          </div>
          <div id="post_7" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://community.sonarsource.com/u/Jeremy_Cox"><span itemprop="name">Jeremy_Cox</span></a>
                (Jeremy Cox)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2023-06-28T13:24:02Z">
                    June 28, 2023,  1:24pm
                  </time>
                  <meta itemprop="dateModified" content="2023-06-28T13:30:14Z"/>
              <span itemprop="position">7</span>
              </span>
            </p>
            <div itemprop="text">
              <blockquote>
<p>if you have a superior that trusts in Sonar 100% and trusts you and your fellow developers very little (unwilling to delegate permissions, decision making)… I think that’s the root of your problem</p>
</blockquote>
<p>You make a fair point that anyone who uses a tool and does not understand is part of the problem.  However, if the tool could be easier to understand, that could go a long way to addressing that issue.</p>
<p>Respectfully, the root of the problem is that SonarQube is not clear to everyone who uses it.  Specifically, it offers little towards gauging what is important and and what is not.  Programmers have been engaged with a tug of war with management since the dawn of the digital era.  Managers, who don’t understand coding well enough to police it, are now offered Sonarqube as a policing tool.  They are given a bat to hit programmers over the head.  This has an easy metric for determining perfections – 0 issues found.  It’s a managers dream – a computer that sums up everything you need to know in one number.  If you give someone a bat, they’re going to use it to hit things.  It’s pretty simple.</p>
<p>The number of issues found in your project is similar to likes on social media – it’s a badge of honor to show off to all your manager friends. I have a coding library that’s tens of thousands of lines.  Military Standard data types are defined by two numbers, so my (Java) class names end with something like “_1234_567”  Like a good programmer, my fields and getters follow the same naming pattern.</p>
<p>The OP point is well taken, that if I had an opportunity to add some structured comments to that report before a manager read it, the sky would not be falling.  Now I am having trouble explaining in meeting after meeting, “we violated 4 <em>MINOR</em> rules on purpose.  So if we ignore those rules like we’re supposed to, the 4,700 hits go away.”  To which they respond, “You want us to cover up 4,700 hits?”</p>
<p>Clearly, it’s a major problem that they don’t understand a minor sonarqube finding “<a href="https://docs.sonarqube.org/latest/user-guide/issues/#:~:text=MINOR%3A%20A%20quality%20flaw%20that,quality%20flaw%2C%20just%20a%20finding." rel="noopener nofollow ugc">may slightly impact developer productivity</a>” and it <strong>may also not</strong> affect quality.</p>
<p>So thanks to Sonarqube, I am going to have to make my code unreadable to a human in order to please management, which means INTENTIONALLY creating a mountain of technical debt.  But that’s okay, because Sonarqube doesn’t count it.</p>
<p>Sonarqube exacerbates the problem of communication with management; it does not help it. The problem is how the information is presented.  As OP pointed out, Programmers don’t have an opportunity to respond proactively to the issues.  It’s fair to blame managers, it also fair to blame the bad information they are given to make decisions. For example, your issue count could be broken down into “must address” and “not urgent” or the like.  It could further have something like, “4,712 issues have open discussions, here is a link.”  The idea that a single number could sum up technical debt is simply dangerous.  It encourages people to NOT investigate and learn more.  It encourages people to not listen.</p>
<p>“Dude, look, it’s really simple, your project has 4,700 sonarqube findings, everyone else has less than 100.  This is a job performance problem.”  – Overheard in a meeting</p>
<p>Finally, I have a question.  Are there articles posted by Sonarsource telling managers how to interpret sonarqube results properly?  I’ve been scouring the web for “how to handle minor sonarqube issues best practice” and found nothing useful to my case.  I’d welcome knowledge if anyone has any.</p>
            </div>

            

            

          </div>
          <div id="post_11" itemprop="comment" itemscope="" itemtype="http://schema.org/Comment">
            <p><span itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                <a itemprop="url" href="https://community.sonarsource.com/u/Colin"><span itemprop="name">Colin</span></a>
                (Colin)
              </span>



              <span>
                  <time itemprop="datePublished" datetime="2023-07-07T11:10:25Z">
                    July 7, 2023, 11:10am
                  </time>
                  <meta itemprop="dateModified" content="2023-07-07T11:10:25Z"/>
              <span itemprop="position">11</span>
              </span>
            </p>
            <div itemprop="text">
              <p>Hey there <a href="https://community.sonarsource.com/u/jeremy_cox">@Jeremy_Cox</a>.</p>
<p>Thanks for the super valuable feedback (that we’ve been discussing a lot internally). I want to provide a few preliminary notes.</p>
<ul>
<li>
<p>We’re conscious of the fact that Sonar can be misused, and we’ve made some efforts to minimize how easy that is. We once had a feature (meant to “gamify” fixing issues and not introducing new ones) which… you guessed it, resulted in some managers using it to measure individual performance. Some organizations loved this feature! We removed it because it absolutely didn’t align with our values.</p>
</li>
<li>
<p>A big shift is going to come to our products soon (this year) that will shift focus on raising <em>findings</em> about <em>facts</em> about the code (<em>this is not a coding practice that aligns with our organization’s practices</em>), rather than <em>issues</em> with a hypothesized impact (“this may slightly impact developer productivity”). This repositioning might also make it easier to explain why you want to ignore a rule. T</p>
</li>
<li>
<p>As part of this shift we are also looking at how to make sure Clean Code (and Clean as You Code) is easy to understand by governance stakeholders and de-emphasize issue count. Yes, there will be product changes that have to happen as well as education/positioning that has to change (no silver bullets, only lots of reuglar ones)</p>
</li>
</ul>

<p>I don’t think we have anything regarding this. It’s a valid point I’ll pass on.</p>
<p>Please don’t hesitate to keep giving us honest feedback as things progress, or if you’ve thought of any other points you want to share. Feedback is a gift. <img src="https://emoji.discourse-cdn.com/twitter/gift.png?v=12" title=":gift:" alt=":gift:" loading="lazy" width="20" height="20"/></p>
            </div>

            

            

          </div>
    </div></div>
  </body>
</html>
