<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://supabase.com/blog/chatgpt-supabase-docs">Original</a>
    <h1>Show HN: Supabase Clippy – ChatGPT for Supabase Docs</h1>
    
    <div id="readability-page-1" class="page"><article><div><p><span><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill"/></span></p><p>We all know that Microsoft&#39;s real agenda for pouring billions into OpenAI to revive their favorite friend Clippy.
Today, we&#39;re doing our part to support the momentum by releasing “Supabase Clippy” for our docs (and we don&#39;t expect this name to last long before the lawyers catch on).</p>
<p><span><span><img alt="Clippy" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill"/></span></span></p>
<p>Want to try it out? It&#39;s a hidden feature while in MVP - visit <a href="https://supabase.com/docs">supabase.com/docs</a> and hit <code>cmd</code> + <code>/</code> to pull up the search box (sorry mobile users).</p>

<p>Last launch week we <a href="https://supabase.com/blog/new-supabase-docs-built-with-nextjs">released</a> our new documentation site to improve the developer experience, especially for new users.</p>
<p>When we first started Supabase our docs were very concise. We deliberately withheld &#34;non-critical information&#34; so that developers could consume everything in one sitting.</p>
<p>Our product suite has grown in the past 2 years and our docs have grown as a result. There&#39;s a lot to read. We&#39;re also attracting developers who&#39;ve never used Postgres before, and it&#39;s becoming incumbent on us to train these developers on best-practices.</p>
<p><span><span><img alt="Missing indexes" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill"/></span></span></p>
<h3 id="the-ask-interface">The “ask” interface</h3>
<p>Developers have recently gained an the ability to trust a bot. Where Clippy failed, ChatGPT succeeded.</p>
<p>This is convenient timing for us, since our documentation content is more than the average developer wants to consume in one go. Today we&#39;re providing a similar interface to ChatGPT which is trained on our own docs.</p>
<video width="100%" controls=""><source src="/images/blog/embeddings/embeddings.mp4" type="video/mp4"/></video>
<p>To keep your expectations low, this implementation is a 1-week MVP. We&#39;re sharing this iteration to gather feedback and to teach you how to build something similar.</p>
<h2 id="how-its-built">How it&#39;s built</h2>
<p>It&#39;s built with Supabase/Postgres, and consists of several key parts:</p>
<ol>
<li>Parsing the Supabase docs into sections.</li>
<li>Creating embeddings for each section using OpenAI&#39;s embeddings API.</li>
<li>Storing the embeddings in Postgres using the pgvector extension.</li>
<li>Getting a user&#39;s question.</li>
<li>Query the Postgres database for the most relevant documents related to the question.</li>
<li>Inject these documents as context for GPT-3 to reference in its answer.</li>
<li>Streaming the results back to the user in realtime.</li>
</ol>
<p>All the changes we made are in <a href="https://github.com/supabase/supabase/pull/12056">this</a> Pull Request. Greg is here to explain every step in full detail:</p>
<p><iframe title="ClippyGPT" src="https://www.youtube-nocookie.com/embed/Yhtjd7yGGGA" frameborder="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe></p>
<p>You can find a full write up in our previous blog post: <a href="https://supabase.com/blog/openai-embeddings-postgres-vector">Storing OpenAI embeddings in Postgres with pgvector</a>.</p>
<h2 id="whats-next">What&#39;s next</h2>
<p>This current version is very basic, which makes it a good starting point if you want to build something similar.</p>
<ul>
<li><strong>Expand the knowledge base:</strong> Create embeddings for our reference docs, GitHub Discussions, Discord discussions, etc. The current iteration is only using the Guides.</li>
<li><strong>Caching:</strong> Cache queries so that we can provide answers instantly to similar/matching questions.</li>
<li><strong>User-assisted improvements:</strong> Ability to thumbs-up responses for relevance.</li>
<li><strong>Beyond search:</strong> perhaps we can make this interface interactive, guiding users through instructions.</li>
</ul>
<h2 id="bonus-the-power-of-open-source">Bonus: The power of open source</h2>
<p>One of the most interesting things about this feature was <em>how</em> it happened - almost completely from open source contributions. A short series of events:</p>
<h3 id="a-friendly-email">A friendly email</h3>
<p>A few weeks ago I received an email, drawing our attention to a <a href="https://github.com/supabase/postgres/pull/472">Pull Request</a> in our <a href="https://github.com/supabase/postgres"><code>postgres</code></a> GitHub repo:</p>
<p><span><span><img alt="Greg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fill"/></span></span></p>
<h3 id="a-friendly-chat">A friendly chat</h3>
<p>After we merged the PR, I reached out to see if Greg was interested in helping with some documentation or a blog post to help the community to use pgvector. On the call, Greg surprised me with an initial prototype where he had ingested the Supabase docs for a ChatGPT-like experience. I was suitably impressed and suggested that we could explore ways to work together to build it into the Supabase docs. He wasted no time:</p>
<p><iframe title="ClippyGPT" src="https://www.youtube-nocookie.com/embed/yAsR7oe5vng" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe></p>
<h3 id="a-friendly-collaboration">A friendly collaboration</h3>
<p>We sponsored Greg to work on an MVP with us, along with some guides to help developers do the same. He <a href="https://github.com/supabase/supabase/pull/12056">pushed all his changes</a> to the Supabase Docs, and we wrote a <a href="https://supabase.com/blog/openai-embeddings-postgres-vector">blog post</a> together to help developers build something similar.</p>
<p>If you re-read the events above and swap “Supabase” for any other big-tech company, you&#39;ll grasp how impossible this series of events is for any company that&#39;s not open source. All the code that was contributed is licensed liberally, so we didn&#39;t need to jump through IP checklists. Our docs are publicly available on GitHub, so Greg could build his prototype without being granted access.</p>
<p>We&#39;re incredibly grateful for Greg&#39;s work here, so if you like what he&#39;s done then consider supporting him by checking out <a href="https://prmpts.ai/">prmpts.ai</a> and following him on twitter: <a href="https://twitter.com/ggrdson">@ggrdson</a>.</p>
<p>While you&#39;re at it, consider supporting <a href="https://github.com/ankane">@ankane</a>&#39;s great work on <a href="https://github.com/pgvector/pgvector">pgvector</a> by starring them on GitHub, and sending your thanks.</p>
<h2 id="try-it-out">Try it out</h2>
<p>Want to try Supabase Clippy? It&#39;s a hidden feature while in MVP - visit <a href="https://supabase.com/docs">supabase.com/docs</a> and hit <code>cmd</code> + <code>/</code> to pull up the search box (sorry mobile users).</p>
<p>If you have any comments we&#39;d love to hear them in our <a href="https://news.ycombinator.com/item?id=34695306">ShowHN</a>.</p></div></article></div>
  </body>
</html>
