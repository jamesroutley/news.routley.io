<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/jqnatividad/qsv">Original</a>
    <h1>Qsv: Efficient CSV CLI Toolkit</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text"><h2 tabindex="-1" dir="auto"><a id="user-content-qsv-blazing-fast-csv-data-wrangling-toolkit" aria-hidden="true" tabindex="-1" href="#qsv-blazing-fast-csv-data-wrangling-toolkit"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>qsv: Blazing-fast CSV data-wrangling toolkit</h2>
<p dir="auto"><a href="https://github.com/jqnatividad/qsv/actions/workflows/rust.yml"><img src="https://github.com/jqnatividad/qsv/actions/workflows/rust.yml/badge.svg" alt="Linux build status"/></a>
<a href="https://github.com/jqnatividad/qsv/actions/workflows/rust-windows.yml"><img src="https://github.com/jqnatividad/qsv/actions/workflows/rust-windows.yml/badge.svg" alt="Windows build status"/></a>
<a href="https://github.com/jqnatividad/qsv/actions/workflows/rust-macos.yml"><img src="https://github.com/jqnatividad/qsv/actions/workflows/rust-macos.yml/badge.svg" alt="macOS build status"/></a>
<a href="https://github.com/jqnatividad/qsv/actions/workflows/security-audit.yml"><img src="https://github.com/jqnatividad/qsv/actions/workflows/security-audit.yml/badge.svg" alt="Security audit"/></a>
<a href="https://github.com/jqnatividad/qsv/releases/latest"><img src="https://camo.githubusercontent.com/d15878a3438a2b2253a2ea181cadf6593f0c311d7bd86b599706b45dd4d83137/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f646f776e6c6f6164732f6a716e61746976696461642f7173762f746f74616c3f6c6f676f3d676974687562" alt="Downloads" data-canonical-src="https://img.shields.io/github/downloads/jqnatividad/qsv/total?logo=github"/></a>
<a href="https://github.com/MShawon/github-clone-count-badge"><img src="https://camo.githubusercontent.com/254ad6909f423c7e6165cedb9e36f821ac051321d9e612d613b8b6b12cbab97c/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f64796e616d69632f6a736f6e3f636f6c6f723d73756363657373266c6162656c3d636c6f6e65732671756572793d636f756e742675726c3d68747470733a2f2f676973742e67697468756275736572636f6e74656e742e636f6d2f6a716e61746976696461642f31336636306164306235343835366135356636306238653635333037393334392f7261772f636c6f6e652e6a736f6e266c6f676f3d676974687562" alt="Clones" data-canonical-src="https://img.shields.io/badge/dynamic/json?color=success&amp;label=clones&amp;query=count&amp;url=https://gist.githubusercontent.com/jqnatividad/13f60ad0b54856a55f60b8e653079349/raw/clone.json&amp;logo=github"/></a>
<a href="https://app.codacy.com/gh/jqnatividad/qsv/dashboard?utm_source=gh&amp;utm_medium=referral&amp;utm_content=&amp;utm_campaign=Badge_grade" rel="nofollow"><img src="https://camo.githubusercontent.com/90fbdbe7c7ddc1263b69c5f3ea0ca1250b22739303eb2f9800bfcaa002752af2/68747470733a2f2f6170702e636f646163792e636f6d2f70726f6a6563742f62616467652f47726164652f3035666466626336646462323465376338323964306336633363653832643138" alt="Codacy Badge" data-canonical-src="https://app.codacy.com/project/badge/Grade/05fdfbc6ddb24e7c829d0c6c3ce82d18"/></a>
<a href="https://github.com/jqnatividad/qsv/discussions"><img src="https://camo.githubusercontent.com/95aaa588092b406df42e1633c207dabcd2e220ee706f59d8ce8f751fa390ab72/68747470733a2f2f696d672e736869656c64732e696f2f6769746875622f64697363757373696f6e732f6a716e61746976696461642f717376" alt="Discussions" data-canonical-src="https://img.shields.io/github/discussions/jqnatividad/qsv"/></a>
<a href="https://formulae.brew.sh/formula/qsv" rel="nofollow"><img src="https://camo.githubusercontent.com/8a31a056e11e368727e01fe2aebba8ee6b41dcb5b234424ecbef5a5507ce4c37/68747470733a2f2f696d672e736869656c64732e696f2f686f6d65627265772f762f7173763f6c6f676f3d686f6d6562726577" alt="HomeBrew" data-canonical-src="https://img.shields.io/homebrew/v/qsv?logo=homebrew"/></a>
<a href="https://crates.io/crates/qsv" rel="nofollow"><img src="https://camo.githubusercontent.com/cef23f95d5a63940128035697e195a7f7eb678591e23f2c1e9937a42b353b172/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f762f7173762e7376673f6c6f676f3d6372617465732e696f" alt="Crates.io" data-canonical-src="https://img.shields.io/crates/v/qsv.svg?logo=crates.io"/></a>
<a href="https://crates.io/crates/qsv" rel="nofollow"><img src="https://camo.githubusercontent.com/98d3bb8eded2ae73b36fb95ea61cac985b4d3adaededf280213ded990333c71f/68747470733a2f2f696d672e736869656c64732e696f2f6372617465732f642f7173763f636f6c6f723d6f72616e6765266c6162656c3d6372617465732e696f253230646f776e6c6f616473" alt="Crates.io downloads" data-canonical-src="https://img.shields.io/crates/d/qsv?color=orange&amp;label=crates.io%20downloads"/></a>
<a href="#minimum-supported-rust-version"><img src="https://camo.githubusercontent.com/9a5df11dca5d8eeff76b16835c9b8780c346f3c41b86a815f133ed380347bfd7/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f527573742d312e37342e302d7265643f6c6f676f3d72757374" alt="Minimum supported Rust version" data-canonical-src="https://img.shields.io/badge/Rust-1.74.0-red?logo=rust"/></a></p>
<div dir="auto">
<table>
<thead>
<tr>
<th>¬†</th>
<th>Table of Contents</th>
</tr>
</thead>
<tbody>
<tr>
<td><a target="_blank" rel="noopener noreferrer" href="https://github.com/jqnatividad/qsv/blob/master/docs/images/qsv-logo.png"><img src="https://github.com/jqnatividad/qsv/raw/master/docs/images/qsv-logo.png" alt="qsv logo"/></a></td>
<td>qsv (pronounced &#34;Quicksilver&#34;) is a command line program</td>
</tr>
</tbody>
</table>
</div>

<table>
<thead>
<tr>
<th><a name="user-content-available-commands">Command</a></th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/apply.rs#L2">apply</a></td>
<td>Apply series of string, date, math &amp; currency transformations to given CSV column/s. It also has some basic <a href="https://en.wikipedia.org/wiki/Natural_language_processing" rel="nofollow">NLP</a> functions (<a href="https://crates.io/crates/strsim" rel="nofollow">similarity</a>, <a href="https://crates.io/crates/vader_sentiment" rel="nofollow">sentiment analysis</a>, <a href="https://docs.rs/censor/latest/censor/" rel="nofollow">profanity</a>, <a href="https://github.com/ticki/eudex#eudex-a-blazingly-fast-phonetic-reductionhashing-algorithm">eudex</a> &amp; <a href="https://crates.io/crates/whatlang" rel="nofollow">language detection</a>).</td>
</tr>
<tr>
<td><a name="user-content-applydp_deeplink"></a><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/applydp.rs#L2">applydp</a></td>
<td>applydp is a slimmed-down version of <code>apply</code> with only <a href="https://github.com/dathere/datapusher-plus">Datapusher+</a> relevant subcommands/operations (<code>qsvdp</code> binary variant only).</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/behead.rs#L2">behead</a></td>
<td>Drop headers from a CSV.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/cat.rs#L2">cat</a></td>
<td>Concatenate CSV files by row or by column.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/count.rs#L2">count</a></td>
<td>Count the rows in a CSV file. (15.82 seconds for 15gb, 27m row NYC 311 dataset without an index. Instantaneous with an index.)</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/dedup.rs#L2">dedup</a></td>
<td>Remove duplicate rows (See also <code>extdedup</code>, <code>extsort</code>, <code>sort</code> &amp; <code>sortcheck</code> commands).</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/describegpt.rs#L2">describegpt</a></td>
<td>Infer extended metadata about a CSV using a GPT model from <a href="https://platform.openai.com/docs/introduction" rel="nofollow">OpenAI&#39;s API</a>.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/diff.rs#L2">diff</a></td>
<td>Find the difference between two CSVs with ludicrous speed!</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/enumerate.rs#L2">enum</a></td>
<td>Add a new column enumerating rows by adding a column of incremental or uuid identifiers. Can also be used to copy a column or fill a new column with a constant value.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/excel.rs#L2">excel</a></td>
<td>Exports a specified Excel/ODS sheet to a CSV file.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/exclude.rs#L2">exclude</a></td>
<td>Removes a set of CSV data from another set based on the specified columns.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/explode.rs#L2">explode</a></td>
<td>Explode rows into multiple ones by splitting a column value based on the given separator.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/extdedup.rs#L2">extdedup</a><br/></td>
<td>Remove duplicate rows from an arbitrarily large CSV/text file using a memory-mapped, <a href="https://crates.io/crates/odht" rel="nofollow">on-disk hash table</a>. Unlike the <code>dedup</code> command, this command does not load the entire file into memory nor does it sort the deduped file.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/extsort.rs#L2">extsort</a></td>
<td>Sort an arbitrarily large CSV/text file using a multithreaded <a href="https://en.wikipedia.org/wiki/External_sorting" rel="nofollow">external merge sort</a> algorithm.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/fetch.rs#L3">fetch</a></td>
<td>Fetches data from web services for every row using <strong>HTTP Get</strong>. Comes with <a href="https://http2-explained.haxx.se/en/part1" rel="nofollow">HTTP/2</a> <a href="https://medium.com/coderscorner/http-2-flow-control-77e54f7fd518" rel="nofollow">adaptive flow control</a>, <a href="https://github.com/yamafaktory/jql#%EF%B8%8F-usage">jql</a> JSON query language support, dynamic throttling (<a href="https://www.ietf.org/archive/id/draft-ietf-httpapi-ratelimit-headers-06.html" rel="nofollow">RateLimit</a>) &amp; caching with optional <a href="https://redis.io/" rel="nofollow">Redis</a> support for persistent caching.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/fetchpost.rs#L3">fetchpost</a></td>
<td>Similar to <code>fetch</code>, but uses <strong>HTTP Post</strong>. (<a href="https://www.geeksforgeeks.org/difference-between-http-get-and-post-methods/" rel="nofollow">HTTP GET vs POST methods</a>)</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/fill.rs#L2">fill</a></td>
<td>Fill empty values.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/fixlengths.rs#L2">fixlengths</a></td>
<td>Force a CSV to have same-length records by either padding or truncating them.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/flatten.rs#L2">flatten</a></td>
<td>A flattened view of CSV records. Useful for viewing one record at a time.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/fmt.rs#L2">fmt</a></td>
<td>Reformat a CSV with different delimiters, record terminators or quoting rules. (Supports ASCII delimited data.)</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/foreach.rs#L3">foreach</a></td>
<td>Loop over a CSV to execute shell commands. (not available on Windows)</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/frequency.rs#L2">frequency</a></td>
<td>Build <a href="https://statisticsbyjim.com/basics/frequency-table/" rel="nofollow">frequency tables</a> of each column. Uses multithreading to go faster if an index is present.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/geocode.rs#L2">geocode</a></td>
<td>Geocodes a location against an updatable local copy of the <a href="https://www.geonames.org/" rel="nofollow">Geonames</a> cities database. With caching and multi-threading, it geocodes up to 360,000 records/sec!</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/generate.rs#L2">generate</a></td>
<td>Generate test data by profiling a CSV using <a href="https://crates.io/crates/test-data-generation" rel="nofollow">Markov decision process</a> machine learning.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/headers.rs#L2">headers</a></td>
<td>Show the headers of a CSV. Or show the intersection of all headers between many CSV files.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/index.rs#L2">index</a></td>
<td>Create an index (üìá) for a CSV. This is very quick (even the 15gb, 28m row NYC 311 dataset takes all of 15 seconds to index) &amp; provides constant time indexing/random access into the CSV. With an index, <code>count</code>, <code>sample</code> &amp; <code>slice</code> work instantaneously; random access mode is enabled in <code>luau</code>; and multithreading (üèéÔ∏è) is enabled for the <code>frequency</code>, <code>split</code>, <code>stats</code>, <code>schema</code> &amp; <code>tojsonl</code> commands.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/input.rs#L2">input</a></td>
<td>Read CSV data with special commenting, quoting, trimming, line-skipping &amp; non-UTF8 encoding handling rules. Typically used to &#34;normalize&#34; a CSV for further processing with other qsv commands.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/join.rs#L2">join</a></td>
<td>Inner, outer, right, cross, anti &amp; semi joins. Automatically creates a simple, in-memory hash index to make it fast.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/joinp.rs#L2">joinp</a></td>
<td>Inner, outer, cross, anti, semi &amp; asof joins using the <a href="https://www.pola.rs" rel="nofollow">Pola.rs</a> engine. Unlike the <code>join</code> command, <code>joinp</code> can process files larger than RAM, is multi-threaded, has join key validation, pre-join filtering, supports <a href="https://pola-rs.github.io/polars/py-polars/html/reference/dataframe/api/polars.DataFrame.join_asof.html" rel="nofollow">asof joins</a> &amp; its output doesn&#39;t have duplicate columns. However, <code>joinp</code> doesn&#39;t have an --ignore-case option &amp; it doesn&#39;t support right outer joins.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/jsonl.rs#L2">jsonl</a></td>
<td>Convert newline-delimited JSON (<a href="https://jsonlines.org/" rel="nofollow">JSONL</a>/<a href="http://ndjson.org/" rel="nofollow">NDJSON</a>) to CSV. See <code>tojsonl</code> command to convert CSV to JSONL.</td>
</tr>
<tr>
<td><a name="user-content-luau_deeplink"></a></td>
<td>Create multiple new computed columns, filter rows, compute aggregations and build complex data pipelines by executing a <a href="https://luau-lang.org" rel="nofollow">Luau</a> <a href="https://github.com/Roblox/luau/releases/tag/0.606">0.606</a> expression/script for every row of a CSV file (<a href="https://github.com/jqnatividad/qsv/blob/bb72c4ef369d192d85d8b7cc6e972c1b7df77635/tests/test_luau.rs#L254-L298">sequential mode</a>), or using <a href="https://www.webopedia.com/definitions/random-access/" rel="nofollow">random access</a> with an index (<a href="https://github.com/jqnatividad/qsv/blob/bb72c4ef369d192d85d8b7cc6e972c1b7df77635/tests/test_luau.rs#L367-L415">random access mode</a>).</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/partition.rs#L2">partition</a></td>
<td>Partition a CSV based on a column value.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/pseudo.rs#L2">pseudo</a></td>
<td><a href="https://en.wikipedia.org/wiki/Pseudonymization" rel="nofollow">Pseudonymise</a> the value of the given column by replacing them with an incremental identifier.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/python.rs#L2">py</a></td>
<td>Create a new computed column or filter rows by evaluating a python expression on every row of a CSV file. Python&#39;s <a href="https://www.freecodecamp.org/news/python-f-strings-tutorial-how-to-use-f-strings-for-string-formatting/" rel="nofollow">f-strings</a> is particularly useful for extended formatting, <a href="https://github.com/jqnatividad/qsv/blob/4cd00dca88addf0d287247fa27d40563b6d46985/src/cmd/python.rs#L23-L31">with the ability to evaluate Python expressions as well</a>.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/rename.rs#L2">rename</a></td>
<td>Rename the columns of a CSV efficiently.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/replace.rs#L2">replace</a></td>
<td>Replace CSV data using a regex. Applies the regex to each field individually.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/reverse.rs#L2">reverse</a></td>
<td>Reverse order of rows in a CSV. Unlike the <code>sort --reverse</code> command, it preserves the order of rows with the same key.</td>
</tr>
<tr>
<td><a name="user-content-safenames_deeplink"></a><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/safenames.rs#L2">safenames</a></td>
<td>Modify headers of a CSV to only have <a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/safenames.rs#L5-L14">&#34;safe&#34; names</a> - guaranteed &#34;database-ready&#34;/&#34;CKAN-ready&#34; names.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/sample.rs#L2">sample</a></td>
<td>Randomly draw rows (with optional seed) from a CSV using <a href="https://en.wikipedia.org/wiki/Reservoir_sampling" rel="nofollow">reservoir sampling</a>, using memory proportional to the sample size. If an index is present, using random indexing with constant memory.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/schema.rs#L2">schema</a></td>
<td>Infer schema from CSV data, replete with data type &amp; domain/range validation &amp; output in <a href="https://json-schema.org/" rel="nofollow">JSON Schema</a> format. Uses multithreading to go faster if an index is present. See <code>validate</code> command to use the generated JSON Schema to validate if similar CSVs comply with the schema.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/search.rs#L2">search</a></td>
<td>Run a regex over a CSV. Applies the regex to each field individually &amp; shows only matching rows.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/searchset.rs#L2">searchset</a></td>
<td><em>Run multiple regexes over a CSV in a single pass.</em> Applies the regexes to each field individually &amp; shows only matching rows.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/select.rs#L2">select</a></td>
<td>Select, re-order, duplicate or drop columns.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/slice.rs#L2">slice</a></td>
<td>Slice rows from any part of a CSV. When an index is present, this only has to parse the rows in the slice (instead of all rows leading up to the start of the slice).</td>
</tr>
<tr>
<td><a name="user-content-snappy_deeplink"></a><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/snappy.rs#L2">snappy</a></td>
<td>Does streaming compression/decompression of the input using Google&#39;s <a href="https://github.com/google/snappy/blob/main/docs/README.md">Snappy</a> framing format (<a href="#snappy-compressiondecompression">more info</a>).</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/sniff.rs#L2">sniff</a></td>
<td>Quickly sniff &amp; infer CSV metadata (delimiter, header row, preamble rows, quote character, flexible, is_utf8, average record length, number of records, content length &amp; estimated number of records if sniffing a CSV on a URL, number of fields, field names &amp; data types). It is also a general mime type detector.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/sort.rs#L2">sort</a></td>
<td>Sorts CSV data in alphabetical (with case-insensitive option), numerical, reverse, unique or random (with optional seed) order (See also <code>extsort</code> &amp; <code>sortcheck</code> commands).</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/sortcheck.rs#L2">sortcheck</a></td>
<td>Check if a CSV is sorted. With the --json options, also retrieve record count, sort breaks &amp; duplicate count.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/split.rs#L2">split</a></td>
<td>Split one CSV file into many CSV files of N chunks. Uses multithreading to go faster if an index is present.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/sqlp.rs#L2">sqlp</a></td>
<td>Run blazing-fast Polars SQL queries against several CSVs - converting queries to <a href="https://pola-rs.github.io/polars-book/user-guide/sql/intro/" rel="nofollow">fast LazyFrame expressions</a>, processing larger than memory CSV files.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/stats.rs#L2">stats</a></td>
<td>Compute <a href="https://en.wikipedia.org/wiki/Summary_statistics" rel="nofollow">summary statistics</a> (sum, min/max/range, min/max length, mean, stddev, variance, nullcount, sparsity, quartiles, IQR, lower/upper fences, skewness, median, mode/s, antimode/s &amp; cardinality) &amp; make GUARANTEED data type inferences (Null, String, Float, Integer, Date, DateTime, Boolean) for each column in a CSV.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/table.rs#L2">table</a></td>
<td>Show aligned output of a CSV using <a href="https://github.com/BurntSushi/tabwriter">elastic tabstops</a>.  To interactively view CSV files, qsv pairs well with <a href="https://github.com/YS-L/csvlens#csvlens">csvlens</a>.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/to.rs#L2">to</a></td>
<td>Convert CSV files to <a href="https://www.postgresql.org" rel="nofollow">PostgreSQL</a>, <a href="https://www.sqlite.org/index.html" rel="nofollow">SQLite</a>, XLSX, <a href="https://parquet.apache.org" rel="nofollow">Parquet</a> and <a href="https://datahub.io/docs/data-packages/tabular" rel="nofollow">Data Package</a>.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/tojsonl.rs#L3">tojsonl</a></td>
<td>Smartly converts CSV to a newline-delimited JSON (<a href="https://jsonlines.org/" rel="nofollow">JSONL</a>/<a href="http://ndjson.org/" rel="nofollow">NDJSON</a>). By scanning the CSV first, it &#34;smartly&#34; infers the appropriate JSON data type for each column. See <code>jsonl</code> command to convert JSONL to CSV.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/transpose.rs#L2">transpose</a></td>
<td>Transpose rows/columns of a CSV.</td>
</tr>
<tr>
<td><a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/validate.rs#L2">validate</a></td>
<td>Validate CSV data blazingly-fast using <a href="https://json-schema.org/draft/2020-12/json-schema-validation.html" rel="nofollow">JSON Schema Validation</a> &amp; put invalid records into a separate file with an accompanying detailed validation error report file (e.g. <em>up to 680,000 rows/second</em> using <a href="https://github.com/jqnatividad/qsv/blob/master/resources/test/311_Service_Requests_from_2010_to_Present-2022-03-04.csv.schema.json">NYC&#39;s 311 schema</a> generated by the <code>schema</code> command).</td>
</tr>
</tbody>
</table>
<p><sub><sup>Performance metrics compiled on an M2 Pro 12-core Mac Mini with 32gb RAM</sup></sub></p>
<p dir="auto">‚ú®: enabled by a <a href="#feature-flags">feature flag</a>.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-installation-options" aria-hidden="true" tabindex="-1" href="#installation-options"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Installation Options</h2>
<h3 tabindex="-1" dir="auto"><a id="user-content-option-1-download-prebuilt-binaries" aria-hidden="true" tabindex="-1" href="#option-1-download-prebuilt-binaries"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Option 1: Download Prebuilt Binaries</h3>
<p dir="auto">Full-featured prebuilt <a href="#variants">binary variants</a> of the latest qsv version for Linux, macOS &amp; Windows are available <a href="https://github.com/jqnatividad/qsv/releases/latest">for download</a>, including binaries compiled with <a href="https://stackoverflow.com/questions/70745970/rust-nightly-vs-beta-version" rel="nofollow">Rust Nightly</a> (<a href="https://github.com/jqnatividad/qsv/blob/master/docs/PERFORMANCE.md#nightly-release-builds">more info</a>).</p>
<p dir="auto">These prebuilt binaries are also built with CPU optimizations enabled for x86_64 (e.g. <a href="https://en.wikipedia.org/wiki/SSE4#SSE4.2" rel="nofollow">SSE4.2</a>, <a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#Advanced_Vector_Extensions_2" rel="nofollow">AVX2</a>, <a href="https://en.wikipedia.org/wiki/Advanced_Vector_Extensions#Advanced_Vector_Extensions_512" rel="nofollow">AVX512</a>, etc. on Intel and AMD processors) and Apple Silicon processors (<a href="https://eclecticlight.co/2021/08/06/accelerating-the-m1-mac-an-introduction-to-simd/" rel="nofollow">ARM64 SIMD NEON</a>) for even more performance gains.</p>
<p dir="auto">For Windows, an MSI Installer wrapping the x86_64-pc-windows-msvc build is also available for download.</p>
<p dir="auto">For macOS, <a href="https://users.rust-lang.org/t/distributing-cli-apps-on-macos/70223" rel="nofollow">&#34;ad-hoc&#34; signatures</a> are used to sign our binaries, so you will need to <a href="https://support.apple.com/en-us/HT202491" rel="nofollow">set appropriate Gatekeeper security settings</a> or run the following command to remove the quarantine attribute from qsv before you run it for the first time:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# replace qsv with qsvlite or qsvdp if you installed those binary variants
xattr -d com.apple.quarantine qsv"><pre><span><span>#</span> replace qsv with qsvlite or qsvdp if you installed those binary variants</span>
xattr -d com.apple.quarantine qsv</pre></div>
<h4 tabindex="-1" dir="auto"><a id="user-content-verifying-the-integrity-of-the-prebuilt-binaries-zip-archives" aria-hidden="true" tabindex="-1" href="#verifying-the-integrity-of-the-prebuilt-binaries-zip-archives"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Verifying the Integrity of the Prebuilt Binaries Zip Archives</h4>
<p dir="auto">All prebuilt binaries zip archives are signed with <a href="https://github.com/Kijewski/zipsign#zipsign">zipsign</a> with the following public key <a href="https://github.com/jqnatividad/qsv/raw/master/src/qsv-zipsign-public.key">qsv-zipsign-public.key</a>. To verify the integrity of the downloaded zip archives:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# if you don&#39;t have zipsign installed yet
cargo install zipsign

# verify the integrity of the downloaded prebuilt binary zip archive
# after downloading the zip archive and the qsv-zipsign-public.key file.
# replace &lt;PREBUILT-BINARY-ARCHIVE.zip&gt; with the name of the downloaded zip archive
# e.g. zipsign verify zip qsv-0.118.0-aarch64-apple-darwin.zip qsv-zipsign-public.key
zipsign verify zip &lt;PREBUILT-BINARY-ARCHIVE.zip&gt; qsv-zipsign-public.key"><pre><span><span>#</span> if you don&#39;t have zipsign installed yet</span>
cargo install zipsign

<span><span>#</span> verify the integrity of the downloaded prebuilt binary zip archive</span>
<span><span>#</span> after downloading the zip archive and the qsv-zipsign-public.key file.</span>
<span><span>#</span> replace &lt;PREBUILT-BINARY-ARCHIVE.zip&gt; with the name of the downloaded zip archive</span>
<span><span>#</span> e.g. zipsign verify zip qsv-0.118.0-aarch64-apple-darwin.zip qsv-zipsign-public.key</span>
zipsign verify zip <span>&lt;</span>PREBUILT-BINARY-ARCHIVE.zip<span>&gt;</span> qsv-zipsign-public.key</pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-option-2-homebrew" aria-hidden="true" tabindex="-1" href="#option-2-homebrew"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Option 2: Homebrew</h3>
<p dir="auto">For <a href="https://formulae.brew.sh/formula/qsv" rel="nofollow">macOS and Linux (64-bit)</a>, you can quickly install qsv with <a href="https://brew.sh" rel="nofollow">Homebrew</a>. However, only the <code>apply</code> and <code>luau</code> <a href="#feature-flags">features</a> are enabled.</p>

<h3 tabindex="-1" dir="auto"><a id="user-content-option-3-install-with-rust" aria-hidden="true" tabindex="-1" href="#option-3-install-with-rust"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Option 3: Install with Rust</h3>
<p dir="auto">If you have <a href="https://www.rust-lang.org/tools/install" rel="nofollow">Rust installed</a>, you can also install from source using Rust&#39;s cargo command<sup><a href="#user-content-fn-1-5f85958c548eb7ce5984b54b1c11f6c3" id="user-content-fnref-1-5f85958c548eb7ce5984b54b1c11f6c3" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="cargo install qsv --locked --features all_features"><pre>cargo install qsv --locked --features all_features</pre></div>
<p dir="auto">The binary will be installed in <code>~/.cargo/bin</code>.</p>
<p dir="auto">To install different <a href="#variants">variants</a> and enable optional features, use cargo <code>--features</code> (see <a href="#feature-flags">Feature Flags</a> for more info):</p>
<div dir="auto" data-snippet-clipboard-copy-content="# to install qsv with all features enabled
cargo install qsv --locked --bin qsv --features feature_capable,apply,generate,luau,fetch,foreach,python,to,self_update,polars
# or shorthand
cargo install qsv --locked --bin qsv -F all_features

# or enable only the apply and polars features
cargo install qsv --locked --bin qsv -F feature_capable,apply,polars

# or to install qsvlite
cargo install qsv --locked --bin qsvlite -F lite

# or to install qsvdp
cargo install qsv --locked --bin qsvdp -F datapusher_plus,luau"><pre><span><span>#</span> to install qsv with all features enabled</span>
cargo install qsv --locked --bin qsv --features feature_capable,apply,generate,luau,fetch,foreach,python,to,self_update,polars
<span><span>#</span> or shorthand</span>
cargo install qsv --locked --bin qsv -F all_features

<span><span>#</span> or enable only the apply and polars features</span>
cargo install qsv --locked --bin qsv -F feature_capable,apply,polars

<span><span>#</span> or to install qsvlite</span>
cargo install qsv --locked --bin qsvlite -F lite

<span><span>#</span> or to install qsvdp</span>
cargo install qsv --locked --bin qsvdp -F datapusher_plus,luau</pre></div>
<h3 tabindex="-1" dir="auto"><a id="user-content-option-4-compile-from-source" aria-hidden="true" tabindex="-1" href="#option-4-compile-from-source"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Option 4: Compile from Source</h3>
<p dir="auto">Compiling from source also works similarly<sup><a href="#user-content-fn-1-5f85958c548eb7ce5984b54b1c11f6c3" id="user-content-fnref-1-2-5f85958c548eb7ce5984b54b1c11f6c3" data-footnote-ref="" aria-describedby="footnote-label">1</a></sup>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="git clone https://github.com/jqnatividad/qsv.git
cd qsv
cargo build --release --locked --bin qsv --features all_features"><pre>git clone https://github.com/jqnatividad/qsv.git
<span>cd</span> qsv
cargo build --release --locked --bin qsv --features all_features</pre></div>
<p dir="auto">The compiled binary will end up in <code>./target/release/</code>.</p>
<p dir="auto">To compile different <a href="#variants">variants</a> and enable optional <a href="#feature-flags">features</a>:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# to compile qsv with all features enabled
cargo build --release --locked --bin qsv --features feature_capable,apply,generate,luau,fetch,foreach,python,to,self_update,polars
# shorthand
cargo build --release --locked --bin qsv -F all_features

# or build qsv with only the fetch and foreach features enabled
cargo build --release --locked --bin qsv -F feature_capable,fetch,foreach

# for qsvlite
cargo build --release --locked --bin qsvlite -F lite

# for qsvdp
cargo build --release --locked --bin qsvdp -F datapusher_plus,luau"><pre><span><span>#</span> to compile qsv with all features enabled</span>
cargo build --release --locked --bin qsv --features feature_capable,apply,generate,luau,fetch,foreach,python,to,self_update,polars
<span><span>#</span> shorthand</span>
cargo build --release --locked --bin qsv -F all_features

<span><span>#</span> or build qsv with only the fetch and foreach features enabled</span>
cargo build --release --locked --bin qsv -F feature_capable,fetch,foreach

<span><span>#</span> for qsvlite</span>
cargo build --release --locked --bin qsvlite -F lite

<span><span>#</span> for qsvdp</span>
cargo build --release --locked --bin qsvdp -F datapusher_plus,luau</pre></div>
<p dir="auto">NOTE: To build with Rust nightly, see <a href="https://github.com/jqnatividad/qsv/blob/master/docs/PERFORMANCE.md#nightly-release-builds">Nightly Release Builds</a>.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-variants" aria-hidden="true" tabindex="-1" href="#variants"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Variants</h3>
<p dir="auto">There are three binary variants of qsv:</p>
<ul dir="auto">
<li><code>qsv</code> - <a href="#feature-flags">feature</a>-capable(‚ú®), with the <a href="https://github.com/jqnatividad/qsv/releases/latest">prebuilt binaries</a> enabling all applicable features except Python <sup><a href="#user-content-fn-2-5f85958c548eb7ce5984b54b1c11f6c3" id="user-content-fnref-2-5f85958c548eb7ce5984b54b1c11f6c3" data-footnote-ref="" aria-describedby="footnote-label">2</a></sup></li>
<li><code>qsvlite</code> - all features disabled (~13% of the size of <code>qsv</code>)</li>
<li><code>qsvdp</code> - optimized for use with <a href="https://github.com/dathere/datapusher-plus">DataPusher+</a> with only DataPusher+ relevant commands; an embedded <a href="#luau_deeplink"><code>luau</code></a> interpreter; <a href="#applydp_deeplink"><code>applydp</code></a>, a slimmed-down version of the <code>apply</code> feature; the <code>--progressbar</code> option disabled; and the self-update only checking for new releases, requiring an explicit <code>--update</code> (~12% of the the size of <code>qsv</code>).</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-regular-expression-syntax" aria-hidden="true" tabindex="-1" href="#regular-expression-syntax"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Regular Expression Syntax</h2>
<p dir="auto">The <code>--select</code> option and several commands (<code>apply</code>, <code>applydp</code>, <code>replace</code>, <code>schema</code>, <code>search</code>, <code>searchset</code>, <code>select</code> &amp; <code>sqlp</code>) allow the user to specify regular expressions. We use the <a href="https://docs.rs/regex" rel="nofollow"><code>regex</code></a> crate to parse, compile and execute these expressions. <sup><a href="#user-content-fn-3-5f85958c548eb7ce5984b54b1c11f6c3" id="user-content-fnref-3-5f85958c548eb7ce5984b54b1c11f6c3" data-footnote-ref="" aria-describedby="footnote-label">3</a></sup></p>
<p dir="auto">Its syntax can be found <a href="https://docs.rs/regex/latest/regex/#syntax" rel="nofollow">here</a> and <em>&#34;is similar to other regex engines, but it lacks several features that are not known how to implement efficiently. This includes, but is not limited to, look-around and backreferences. In exchange, all regex searches in this crate have worst case O(m * n) time complexity, where m is proportional to the size of the regex and n is proportional to the size of the string being searched.&#34;</em></p>
<p dir="auto">If you want to test your regular expressions, <a href="https://regex101.com" rel="nofollow">regex101</a> supports the syntax used by the <code>regex</code> crate. Just select the &#34;Rust&#34; flavor.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-file-formats" aria-hidden="true" tabindex="-1" href="#file-formats"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>File formats</h2>
<p dir="auto">qsv recognizes UTF-8/ASCII encoded, CSV (<code>.csv</code>) &amp; TSV files (<code>.tsv</code> &amp; <code>.tab</code>). CSV files are assumed to have &#34;,&#34; (comma) as a delimiter,
and TSV files, &#34;\t&#34; (tab) as a delimiter. The delimiter is a single ascii character that can be set either by the <code>--delimiter</code> command-line option or
with the <code>QSV_DEFAULT_DELIMITER</code> environment variable or automatically detected when <code>QSV_SNIFF_DELIMITER</code> is set.</p>
<p dir="auto">When using the <code>--output</code> option, qsv will UTF-8 encode the file &amp; automatically change the delimiter used in the generated file based on the file extension - i.e. comma for <code>.csv</code>, tab for <code>.tsv</code> &amp; <code>.tab</code> files.</p>
<p dir="auto"><a href="https://jsonlines.org/" rel="nofollow">JSONL</a>/<a href="http://ndjson.org/" rel="nofollow">NDJSON</a> files are also recognized &amp; converted to/from CSV with the <a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/jsonl.rs#L11"><code>jsonl</code></a> and <a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/tojsonl.rs#L12"><code>tojsonl</code></a> commands respectively.</p>
<p dir="auto">The <code>fetch</code> &amp; <code>fetchpost</code> commands also produces JSONL files when its invoked without the <code>--new-column</code> option &amp; TSV files with the <code>--report</code> option.</p>
<p dir="auto">The <code>excel</code>, <code>safenames</code>, <code>sniff</code>, <code>sortcheck</code> &amp; <code>validate</code> commands produce JSON files with their JSON options following the <a href="https://jsonapi.org/format/" rel="nofollow">JSON API 1.1 specification</a>, so it can return detailed machine-friendly metadata that can be used by other systems.</p>
<p dir="auto">The <code>schema</code> command produces a <a href="https://json-schema.org/draft/2020-12/json-schema-validation.html" rel="nofollow">JSON Schema Validation (Draft 7)</a> file with the &#34;.schema.json&#34; file extension, which can be used with the <code>validate</code> command to validate other CSV files with an identical schema.</p>
<p dir="auto">The <code>excel</code> command recognizes Excel &amp; Open Document Spreadsheet(ODS) files (<code>.xls</code>, <code>.xlsx</code>, <code>.xlsm</code>, <code>.xlsb</code> &amp; <code>.ods</code> files).</p>
<p dir="auto">Speaking of Excel, if you&#39;re having trouble opening qsv-generated CSV files in Excel, set the QSV_OUTPUT_BOM environment variable to add a <a href="https://en.wikipedia.org/wiki/Byte_order_mark" rel="nofollow">Byte Order Mark</a> to the beginning of the generated CSV file. This is a workaround for <a href="https://stackoverflow.com/questions/155097/microsoft-excel-mangles-diacritics-in-csv-files" rel="nofollow">Excel&#39;s UTF-8 encoding detection bug</a>.</p>
<p dir="auto">The <code>to</code> command converts CSVs to <code>.xlsx</code>, <a href="https://parquet.apache.org" rel="nofollow">Parquet</a> &amp; <a href="https://datahub.io/docs/data-packages/tabular" rel="nofollow">Data Package</a> files, and populates <a href="https://www.postgresql.org" rel="nofollow">PostgreSQL</a> and <a href="https://www.sqlite.org/index.html" rel="nofollow">SQLite</a> databases.</p>
<p dir="auto">The <code>sqlp</code> command returns query results in CSV, JSON, Parquet &amp; <a href="https://arrow.apache.org/docs/format/Columnar.html#ipc-file-format" rel="nofollow">Arrow IPC</a> formats. Polars SQL also supports reading external files directly in various formats with its <code>read_ndjson</code>, <code>read_csv</code>, <code>read_parquet</code> &amp; <code>read_ipc</code> <a href="https://github.com/pola-rs/polars/blob/c7fa66a1340418789ec66bdedad6654281afa0ab/polars/polars-sql/src/table_functions.rs#L9-L36">table functions</a>.</p>
<p dir="auto">The <code>sniff</code> command can also detect the mime type of any file with the <code>--no-infer</code> or <code>--just-mime</code> options, may it be local or remote (http and https schemes supported).
It can detect more than 120 file formats, including MS Office/Open Document files, JSON, XML,
PDF, PNG, JPEG and specialized geospatial formats like GPX, GML, KML, TML, TMX, TSX, TTML.
Click <a href="https://docs.rs/file-format/latest/file_format/#reader-features" rel="nofollow">here</a> for a complete list.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-snappy-compressiondecompression" aria-hidden="true" tabindex="-1" href="#snappy-compressiondecompression"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Snappy Compression/Decompression</h3>
<p dir="auto">qsv supports <em>automatic compression/decompression</em> using the <a href="https://github.com/google/snappy/blob/main/framing_format.txt">Snappy frame format</a>. Snappy was chosen instead of more popular compression formats like gzip because it was designed for <a href="https://github.com/google/snappy/tree/main/docs#readme">high-performance streaming compression &amp; decompression</a> (up to 2.58 gb/sec compression, 0.89 gb/sec decompression).</p>
<p dir="auto">For all commands except the <code>index</code>, <code>extdedup</code> &amp; <code>extsort</code> commands, if the input file has an &#34;.sz&#34; extension, qsv will <em>automatically</em> do streaming decompression as it reads it. Further, if the input file has an extended CSV/TSV &#34;.sz&#34; extension (e.g nyc311.csv.sz/nyc311.tsv.sz/nyc311.tab.sz), qsv will also use the file extension to determine the delimiter to use.</p>
<p dir="auto">Similarly, if the <code>--output</code> file has an &#34;.sz&#34; extension, qsv will <em>automatically</em> do streaming compression as it writes it.
If the output file has an extended CSV/TSV &#34;.sz&#34; extension, qsv will also use the file extension to determine the delimiter to use.</p>
<p dir="auto">Note however that compressed files cannot be indexed, so index-accelerated commands (<code>frequency</code>, <code>schema</code>, <code>split</code>, <code>stats</code>, <code>tojsonl</code>) will not be multi-threaded. Random access is also disabled without an index, so <code>slice</code> will not be instantaneous and <code>luau</code>&#39;s random-access mode will not be available.</p>
<p dir="auto">There is also a dedicated <a href="https://github.com/jqnatividad/qsv/blob/master/src/cmd/snappy.rs#L2"><code>snappy</code></a> command with four subcommands for direct snappy file operations ‚Äî a multithreaded <code>compress</code> subcommand (4-5x faster than the built-in, single-threaded auto-compression); a <code>decompress</code> subcommand with detailed compression metadata; a <code>check</code> subcommand to quickly inspect if a file has a Snappy header; and a <code>validate</code> subcommand to confirm if a Snappy file is valid.</p>
<p dir="auto">The <code>snappy</code> command can be used to compress/decompress ANY file, not just CSV/TSV files.</p>
<p dir="auto">Using the <code>snappy</code> command, we can compress NYC&#39;s 311 data (15gb, 28m rows) to 4.95 gb in <em>5.77 seconds</em> with the multithreaded <code>compress</code> subcommand - <em>2.58 gb/sec</em> with a 0.33 (3.01:1) compression ratio.  With <code>snappy decompress</code>, we can roundtrip decompress the same file in <em>16.71 seconds</em> - <em>0.89 gb/sec</em>.</p>
<p dir="auto">Compare that to <a href="https://infozip.sourceforge.net/Zip.html" rel="nofollow">zip 3.0</a>, which compressed the same file to 2.9 gb in <em>248.3 seconds on the same machine - 43x slower at 0.06 gb/sec</em> with a 0.19 (5.17:1) compression ratio - for just an additional 14% (2.45 gb) of saved space. zip also took 4.3x longer to roundtrip decompress the same file in <em>72 seconds</em> - <em>0.20 gb/sec</em>.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-rfc-4180-csv-standard" aria-hidden="true" tabindex="-1" href="#rfc-4180-csv-standard"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>RFC 4180 CSV Standard</h2>
<p dir="auto">qsv follows the <a href="https://datatracker.ietf.org/doc/html/rfc4180" rel="nofollow">RFC 4180</a> CSV standard. However, in real life, CSV formats vary significantly &amp; qsv is actually not strictly compliant with the specification so it can process &#34;real-world&#34; CSV files.
qsv leverages the awesome <a href="https://docs.rs/csv/latest/csv/" rel="nofollow">Rust CSV</a> crate to read/write CSV files.</p>
<p dir="auto">Click <a href="https://docs.rs/csv-core/latest/csv_core/struct.Reader.html#rfc-4180" rel="nofollow">here</a> to find out more about how qsv conforms to the standard using this crate.</p>
<p dir="auto">When dealing with &#34;atypical&#34; CSV files, you can use the <code>input</code> command to normalize them to be RFC 4180-compliant.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-utf-8-encoding" aria-hidden="true" tabindex="-1" href="#utf-8-encoding"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>UTF-8 Encoding</h2>
<p dir="auto">qsv requires UTF-8 encoded input (of which ASCII is a subset).</p>
<p dir="auto">Should you need to re-encode CSV/TSV files, you can use the <code>input</code> command to &#34;lossy save&#34; to UTF-8 - replacing invalid UTF-8 sequences with <code>ÔøΩ</code> (<a href="https://doc.rust-lang.org/std/char/constant.REPLACEMENT_CHARACTER.html" rel="nofollow">U+FFFD REPLACEMENT CHARACTER</a>).</p>
<p dir="auto">Alternatively, if you want to truly transcode to UTF-8, there are several utilities like <a href="https://en.wikipedia.org/wiki/Iconv" rel="nofollow"><code>iconv</code></a> that you can use to do so on <a href="https://stackoverflow.com/questions/805418/how-can-i-find-encoding-of-a-file-via-a-script-on-linux" rel="nofollow">Linux/macOS</a> &amp; <a href="https://superuser.com/questions/1163753/converting-text-file-to-utf-8-on-windows-command-prompt" rel="nofollow">Windows</a>.</p>
<h3 tabindex="-1" dir="auto"><a id="user-content-windows-excel-usage-note" aria-hidden="true" tabindex="-1" href="#windows-excel-usage-note"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Windows Excel Usage Note</h3>
<p dir="auto">Unlike other modern operating systems, Microsoft Windows&#39; <a href="https://stackoverflow.com/questions/66072117/why-does-windows-use-utf-16le" rel="nofollow">default encoding is UTF16-LE</a>. This will cause problems when redirecting qsv&#39;s output to a CSV file &amp; trying to open it with Excel (which ignores the comma delimiter, with everything in the first column if the file is UTF16-LE encoded):</p>
<div data-snippet-clipboard-copy-content="# the following command will produce a UTF16-LE encoded CSV file on Windows
qsv stats wcp.csv &gt; wcpstats.csv"><pre><code># the following command will produce a UTF16-LE encoded CSV file on Windows
qsv stats wcp.csv &gt; wcpstats.csv
</code></pre></div>
<p dir="auto">Which is weird, since you would think <a href="https://answers.microsoft.com/en-us/msoffice/forum/all/opening-csv-file-with-utf16-encoding-in-excel-2010/ed522cb9-e88d-4b82-b88e-a2d4bd99f874?auth=1" rel="nofollow">Microsoft&#39;s own Excel would properly recognize UTF16-LE encoded CSV files</a>. Regardless, to create a properly UTF-8 encoded file on Windows, use the <code>--output</code> option instead:</p>
<div data-snippet-clipboard-copy-content="# so instead of redirecting stdout to a file
qsv stats wcp.csv &gt; wcpstats.csv

# do this instead
qsv stats wcp.csv --output wcpstats.csv"><pre><code># so instead of redirecting stdout to a file
qsv stats wcp.csv &gt; wcpstats.csv

# do this instead
qsv stats wcp.csv --output wcpstats.csv
</code></pre></div>
<p dir="auto">Alternatively, qsv can add a <a href="https://en.wikipedia.org/wiki/Byte_order_mark" rel="nofollow">Byte Order Mark</a> (BOM) to the beginning of a CSV to indicate it&#39;s UTF-8 encoded. You can do this by setting the <code>QSV_OUTPUT_BOM</code> environment variable to <code>1</code>.</p>
<p dir="auto">This will allow Excel on Windows to properly recognize the CSV file as UTF-8 encoded.</p>
<p dir="auto">Note that this problem does not occur on Excel on macOS, as macOS uses UTF-8 as its default encoding.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-interpreters" aria-hidden="true" tabindex="-1" href="#interpreters"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Interpreters</h2>
<p dir="auto">For complex data-wrangling tasks, you can use Luau and Python scripts.</p>
<p dir="auto">Luau is recommended over Python for complex data-wrangling tasks as it is faster, more memory-efficient, has no external dependencies and has several data-wrangling helper functions as qsv&#39;s DSL.</p>
<p dir="auto">See <a href="https://github.com/jqnatividad/qsv/blob/master/docs/INTERPRETERS.md">Luau vs Python</a> for more info.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-memory-management" aria-hidden="true" tabindex="-1" href="#memory-management"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Memory Management</h2>
<p dir="auto">qsv supports three memory allocators - mimalloc (default), jemalloc and the standard allocator.</p>
<p dir="auto">It also has Out-of-Memory prevention, with two modes - NORMAL (default) &amp; CONSERVATIVE.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-environment-variables--dotenv-file-support" aria-hidden="true" tabindex="-1" href="#environment-variables--dotenv-file-support"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Environment Variables &amp; dotenv file support</h2>
<p dir="auto">qsv supports an extensive list of environment variables and supports <code>.env</code> files to set them.</p>
<p dir="auto">For details, see <a href="https://github.com/jqnatividad/qsv/blob/master/docs/ENVIRONMENT_VARIABLES.md">Environment Variables</a> and the <a href="https://github.com/jqnatividad/qsv/blob/master/dotenv.template"><code>dotenv.template.yaml</code></a> file.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-feature-flags" aria-hidden="true" tabindex="-1" href="#feature-flags"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Feature Flags</h2>
<p dir="auto">qsv has several <a href="https://doc.rust-lang.org/cargo/reference/features.html" rel="nofollow">feature flags</a> that can be used to enable/disable optional features.</p>
<p dir="auto">See <a href="https://github.com/jqnatividad/qsv/blob/master/docs/FEATURES.md">Features</a> for more info.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-minimum-supported-rust-version" aria-hidden="true" tabindex="-1" href="#minimum-supported-rust-version"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Minimum Supported Rust Version</h2>
<p dir="auto">qsv&#39;s MSRV policy is to require the latest <a href="https://github.com/rust-lang/rust/blob/master/RELEASES.md">Rust version</a> that is <a href="https://formulae.brew.sh/formula/rust#default" rel="nofollow">supported by Homebrew</a>, currently <a href="https://formulae.brew.sh/formula/rust" rel="nofollow"><img src="https://camo.githubusercontent.com/4006333d6e8c213cc5c15edfd7c6bca765faff94593cde307c176492e5ce0142/68747470733a2f2f696d672e736869656c64732e696f2f686f6d65627265772f762f727573743f6c6f676f3d686f6d6562726577" alt="HomeBrew" data-canonical-src="https://img.shields.io/homebrew/v/rust?logo=homebrew"/></a>.
However, if the latest Rust stable has been released for more than a week and Homebrew has not yet updated its Rust formula, qsv will go ahead and require the latest Rust stable version.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-goals--non-goals" aria-hidden="true" tabindex="-1" href="#goals--non-goals"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Goals / Non-Goals</h2>
<p dir="auto">QuickSilver&#39;s goals, in priority order, are to be:</p>
<ul dir="auto">
<li><strong>As Fast as Possible</strong> - To do so, it has frequent releases, an aggressive MSRV policy, takes advantage of CPU features, employs various caching strategies, uses <a href="https://www.cloudflare.com/learning/performance/http2-vs-http1.1/#:~:text=Multiplexing%3A%20HTTP%2F1.1%20loads%20resources,resource%20blocks%20any%20other%20resource." rel="nofollow">HTTP/2</a>, and is multi-threaded when possible and it makes sense. See <a href="https://github.com/jqnatividad/qsv/blob/master/docs/PERFORMANCE.md">Performance</a> for more info.</li>
<li><strong>Able to Process Very Large Files</strong> - Most qsv commands are streaming, using constant memory, and can process arbitrarily large CSV files. For those commands that require loading the entire CSV into memory (denoted by ü§Ø), qsv has Out-of-Memory prevention, batch processing strategies and &#34;ext&#34;ernal commands that use the disk to process larger than memory files. See <a href="https://github.com/jqnatividad/qsv/blob/master/docs/PERFORMANCE.md#memory-management">Memory Management</a> for more info.</li>
<li><strong>A Complete Data-Wrangling Toolkit</strong> - qsv aims to be a comprehensive data-wrangling toolkit that you can use for quick analysis and investigations, but is also robust enough for production data pipelines. Its many commands are targeted towards common data-wrangling tasks and can be combined/composed into complex data-wrangling scripts with its Luau-based DSL.</li>
<li><strong>Composable/Interoperable</strong> - qsv is designed to be composable, with a focus on interoperability with other common CLI tools like &#39;awk&#39;, &#39;xargs&#39;, &#39;ripgrep&#39;, &#39;sed&#39;, etc., and with well known ETL/ELT tools like Airbyte, Airflow, Pentaho Kettle, etc. Its commands can be combined with other tools via pipes, and it supports other common file formats like JSONL, Parquet, Arrow IPC, Excel, ODS, PostgreSQL, SQLite, etc. See <a href="#file-formats">File Formats</a> for more info.</li>
<li><strong>As Portable as Possible</strong> - qsv is designed to be portable, with installers on several platforms with an integrated self-update mechanism. In preference order, it supports Linux, macOS and Windows. See <a href="#installation-options">Installation Options</a> for more info.</li>
<li><strong>As Easy to Use as Possible</strong> - qsv is designed to be easy to use. As easy-to-use that is,
as command line interfaces go ü§∑. Its commands have numerous options but have sensible defaults if a user does not want to use options. The usage text is written for a data analyst audience, not developers; and there are numerous examples in the usage text, with the tests doubling as examples as well. In the future, it will also have a Terminal User Interface (TUI).</li>
<li><strong>As Secure as Possible</strong> - qsv is designed to be secure. It has no external runtime dependencies, is <a href="https://aws.amazon.com/blogs/opensource/why-aws-loves-rust-and-how-wed-like-to-help/" rel="nofollow">written</a> <a href="https://msrc.microsoft.com/blog/2019/07/why-rust-for-safe-systems-programming/" rel="nofollow">in</a> <a href="https://opensource.googleblog.com/2023/06/rust-fact-vs-fiction-5-insights-from-googles-rust-journey-2022.html" rel="nofollow">Rust</a>, and it&#39;s codebase is automatically audited for security vulnerabilities with automated <a href="https://github.com/microsoft/DevSkim#devskim">DevSkim</a>, <a href="https://rustsec.org" rel="nofollow">&#34;cargo audit&#34;</a> and <a href="https://app.codacy.com/gh/jqnatividad/qsv/dashboard" rel="nofollow">Codacy</a> Github Actions workflows.</li>
<li><strong>As Easy to Contribute to as Possible</strong> - qsv is designed to be easy to contribute to, with a focus on maintainability. It&#39;s architecture allows the easy addition of self-contained commands gated by feature flags, the source code is heavily commented, the usage text is embedded, and there are helper functions that make it easy to create tests. See <a href="https://github.com/jqnatividad/qsv/blob/master/docs/FEATURES.md">Features</a> and <a href="https://github.com/jqnatividad/qsv/blob/master/CONTRIBUTING.md">Contributing</a> for more info.</li>
</ul>
<p dir="auto">QuickSilver&#39;s non-goals are to be:</p>
<ul dir="auto">
<li><strong>As Small as Possible</strong> - qsv is designed to be small, but not at the expense of performance, features, composability, portability, usability, security or maintainability. However, we do have a <code>qsvlite</code> variant that is ~13% of the size of <code>qsv</code> and a <code>qsvdp</code> variant that is ~12% of the size of <code>qsv</code>. Those variants, however, have reduced functionality.
Further, several commands are gated behind feature flags, so you can compile qsv with only the features you need.</li>
<li><strong>Multi-lingual</strong> - qsv&#39;s <em>usage text</em> and <em>messages</em> are English-only. There are no plans to support other languages. This does not mean it can only process English CSVs.</li>
</ul>
<h2 tabindex="-1" dir="auto"><a id="user-content-testing" aria-hidden="true" tabindex="-1" href="#testing"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Testing</h2>
<p dir="auto">qsv has ~1,250 tests in the <a href="https://github.com/jqnatividad/qsv/tree/master/tests">tests</a> directory.
Each command has its own test suite in a separate file with the convention <code>test_&lt;COMMAND&gt;.rs</code>.
Apart from preventing regressions, the tests also serve as good illustrative examples, and are often linked from the usage text of each corresponding command.</p>
<p dir="auto">To test each binary variant:</p>
<div dir="auto" data-snippet-clipboard-copy-content="# to test qsv
cargo test --features all_features

# to test qsvlite
cargo test --features lite
# to test all tests with &#34;stats&#34; in the name with qsvlite
cargo test stats --features lite

# to test qsvdp
cargo test --features datapusher_plus,luau

# to test a specific command
# here we test only stats and use the
# t alias for test and the -F shortcut for --features
cargo t stats -F all_features

# to test a specific command with a specific feature
# here we test only luau command with the luau feature
cargo t luau -F feature_capable,luau

# to test the count command with multiple features
cargo t count -F feature_capable,luau,polars

# to test using an alternate allocator
# other than the default mimalloc allocator
cargo t --no-default-features -F all_features,jemallocator"><pre><span><span>#</span> to test qsv</span>
cargo <span>test</span> --features all_features

<span><span>#</span> to test qsvlite</span>
cargo <span>test</span> --features lite
<span><span>#</span> to test all tests with &#34;stats&#34; in the name with qsvlite</span>
cargo <span>test</span> stats --features lite

<span><span>#</span> to test qsvdp</span>
cargo <span>test</span> --features datapusher_plus,luau

<span><span>#</span> to test a specific command</span>
<span><span>#</span> here we test only stats and use the</span>
<span><span>#</span> t alias for test and the -F shortcut for --features</span>
cargo t stats -F all_features

<span><span>#</span> to test a specific command with a specific feature</span>
<span><span>#</span> here we test only luau command with the luau feature</span>
cargo t luau -F feature_capable,luau

<span><span>#</span> to test the count command with multiple features</span>
cargo t count -F feature_capable,luau,polars

<span><span>#</span> to test using an alternate allocator</span>
<span><span>#</span> other than the default mimalloc allocator</span>
cargo t --no-default-features -F all_features,jemallocator</pre></div>
<h2 tabindex="-1" dir="auto"><a id="user-content-license" aria-hidden="true" tabindex="-1" href="#license"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>License</h2>
<p dir="auto">Dual-licensed under MIT or the <a href="https://unlicense.org" rel="nofollow">UNLICENSE</a>.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-origins" aria-hidden="true" tabindex="-1" href="#origins"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Origins</h2>
<p dir="auto">Quicksilver (qsv) is a fork of the popular <a href="https://github.com/BurntSushi/xsv">xsv</a> utility, merging several pending PRs <a href="https://github.com/BurntSushi/xsv/issues/267" data-hovercard-type="issue" data-hovercard-url="/BurntSushi/xsv/issues/267/hovercard">since xsv 0.13.0&#39;s May 2018 release</a>. On top of xsv&#39;s 20 commands, it adds numerous new features; 37 additional commands; 5 <code>apply</code> subcommands &amp; 36 operations; 5 <code>to</code> subcommands; 3 <code>cat</code> subcommands; 7 <code>geocode</code> subcommands &amp; 4 index operations; and 4 <code>snappy</code> subcommands.
See <a href="https://github.com/jqnatividad/qsv/discussions/categories/faq">FAQ</a> for more details.</p>
<h2 tabindex="-1" dir="auto"><a id="user-content-sponsor" aria-hidden="true" tabindex="-1" href="#sponsor"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Sponsor</h2>
<div dir="auto">
<table>
<thead>
<tr>
<th>qsv was made possible by</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://datHere.com" rel="nofollow"><img src="https://github.com/jqnatividad/qsv/raw/master/docs/images/datHere-logo-withtagline.png" alt="datHere Logo"/></a><br/></td>
</tr>
<tr>
<td>Standards-based, best-of-breed, open source solutions</td>
</tr>
</tbody>
</table>
</div>
<h2 tabindex="-1" dir="auto"><a id="user-content-naming-collision" aria-hidden="true" tabindex="-1" href="#naming-collision"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a>Naming Collision</h2>
<p dir="auto">This project is unrelated to <a href="https://www.intel.com/content/www/us/en/architecture-and-technology/quick-sync-video/quick-sync-video-general.html" rel="nofollow">Intel&#39;s Quick Sync Video</a>.</p>
<section data-footnotes="">
<ol dir="auto">
<li id="user-content-fn-1-5f85958c548eb7ce5984b54b1c11f6c3">
<p dir="auto">Of course, you&#39;ll also need a linker &amp; a C compiler. Linux users should generally install GCC or Clang, according to their distribution‚Äôs documentation.
For example, if you use Ubuntu, you can install the <code>build-essential</code> package. On macOS, you can get a C compiler by running <code>$ xcode-select --install</code>.
For Windows, this means installing <a href="https://visualstudio.microsoft.com/downloads/">Visual Studio 2022</a>. When prompted for workloads, include &#34;Desktop Development with C++&#34;,
the Windows 10 or 11 SDK &amp; the English language pack, along with any other language packs your require. <a href="#user-content-fnref-1-5f85958c548eb7ce5984b54b1c11f6c3" data-footnote-backref="" aria-label="Back to reference 1">‚Ü©</a> <a href="#user-content-fnref-1-2-5f85958c548eb7ce5984b54b1c11f6c3" data-footnote-backref="" aria-label="Back to reference 1-2">‚Ü©<sup>2</sup></a></p>
</li>
<li id="user-content-fn-2-5f85958c548eb7ce5984b54b1c11f6c3">
<p dir="auto">The <code>foreach</code> feature is not available on Windows. The <code>python</code> feature is not enabled on the prebuilt binaries. Compile qsv with Python development environment installed if you want to enable the <code>python</code> feature (Python 3.7 &amp; above supported). The <code>luau</code> feature is enabled by default on the prebuilt binaries if the platform supports it. <a href="#user-content-fnref-2-5f85958c548eb7ce5984b54b1c11f6c3" data-footnote-backref="" aria-label="Back to reference 2">‚Ü©</a></p>
</li>
<li id="user-content-fn-3-5f85958c548eb7ce5984b54b1c11f6c3">
<p dir="auto">This is the same regex engine used by <a href="https://github.com/BurntSushi/ripgrep#ripgrep-rg"><code>ripgrep</code></a> - the <a href="https://blog.burntsushi.net/ripgrep/">blazingly fast grep replacement</a> that powers Visual Studio&#39;s <a href="https://lab.cccb.org/en/arthur-c-clarke-any-sufficiently-advanced-technology-is-indistinguishable-from-magic/">magical</a> <a href="https://github.com/microsoft/vscode-ripgrep">&#34;Find in Files&#34;</a> feature. <a href="#user-content-fnref-3-5f85958c548eb7ce5984b54b1c11f6c3" data-footnote-backref="" aria-label="Back to reference 3">‚Ü©</a></p>
</li>
</ol>
</section>
</article>
          </div></div>
  </body>
</html>
