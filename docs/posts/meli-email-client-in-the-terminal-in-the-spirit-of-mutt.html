<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://git.meli.delivery/meli/meli">Original</a>
    <h1>Meli â€“ email client in the terminal, in the spirit of mutt</h1>
    
    <div id="readability-page-1" class="page"><p><span id="count_prompt">You can not select more than 25 topics</span>
			<span id="format_prompt">Topics must start with a letter or number, can include dashes (&#39;-&#39;) and can be up to 35 characters long.</span>
		</p><div>
	
	<div>
		<div>
			
				
<p><strong>BSD/Linux terminal email client with support for multiple accounts and Maildir / mbox / notmuch / IMAP / JMAP.</strong></p>
<p>Community links:
<a href="https://lists.meli.delivery/" rel="nofollow">mailing lists</a> | <code>#meli</code> on OFTC IRC | Report bugs and/or feature requests in <a href="https://git.meli.delivery/meli/meli/issues" title="meli gitea issue tracker" rel="nofollow">meli&#39;s issue tracker</a></p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://nickdrozd.github.io/meli/meli/media/branch/master/docs/screenshots/main.webp" title="mail meli view screenshot" rel="nofollow"><img src="https://nickdrozd.github.io/meli/meli/media/branch/master/docs/screenshots/main.webp" alt="Main view screenshot" title="mail meli view screenshot"/></a></td>
<td><a href="https://nickdrozd.github.io/meli/meli/media/branch/master/docs/screenshots/compact.webp" title="compact main view screenshot" rel="nofollow"><img src="https://nickdrozd.github.io/meli/meli/media/branch/master/docs/screenshots/compact.webp" alt="Compact main view screenshot" title="compact main view screenshot"/></a></td>
<td><a href="https://nickdrozd.github.io/meli/meli/media/branch/master/docs/screenshots/compose.webp" title="composing view screenshot" rel="nofollow"><img src="https://nickdrozd.github.io/meli/meli/media/branch/master/docs/screenshots/compose.webp" alt="Compose with embed terminal editor screenshot" title="composing view screenshot"/></a></td>
</tr>
<tr>
<td>Main view</td>
<td>Compact main view</td>
<td>Compose with embed terminal editor</td>
</tr>
</tbody>
</table>
<p>Main repository:</p>
<ul>
<li><a href="https://git.meli.delivery/meli/meli" rel="nofollow">https://git.meli.delivery/meli/meli</a></li>
</ul>
<p>Official mirrors:</p>
<ul>
<li><a href="https://github.com/meli/meli" rel="nofollow">https://github.com/meli/meli</a></li>
</ul>
<h2 id="user-content-install">Install</h2>
<ul>
<li>Try an <a href="https://meli.delivery/wasm2.html" title="online interactive web demo" rel="nofollow">online interactive web demo</a> powered by WebAssembly</li>
<li><a href="https://crates.io/crates/meli" title="crates.io meli package" rel="nofollow"><code>cargo install meli</code></a></li>
<li><a href="https://github.com/meli/meli/releases/" title="github releases for meli" rel="nofollow">Download and install pre-built debian package, static linux binary</a>, or</li>
<li>Install with <a href="https://search.nixos.org/packages?show=meli&amp;query=meli&amp;from=0&amp;size=30&amp;sort=relevance&amp;channel=unstable#disabled" title="nixos package search results for &#39;meli&#39;" rel="nofollow">Nix</a></li>
</ul>
<h2 id="user-content-documentation">Documentation</h2>
<p>See a comprehensive tour of <code>meli</code> in the manual page <a href="https://nickdrozd.github.io/meli/meli/src/branch/master/docs/meli.7" rel="nofollow"><code>meli(7)</code></a>.</p>
<p>See also the <a href="https://meli.delivery/documentation.html#quick-start" rel="nofollow">Quickstart tutorial</a> online.</p>
<p>After installing <code>meli</code>, see <code>meli(1)</code>, <code>meli.conf(5)</code>, <code>meli(7)</code> and <code>meli-themes(5)</code> for documentation. Sample configuration and theme files can be found in the <code>docs/samples/</code> subdirectory. Manual pages are also <a href="https://meli.delivery/documentation.html" title="meli documentation" rel="nofollow">hosted online</a>.</p>
<p><code>meli</code> by default looks for a configuration file in this location: <code>$XDG_CONFIG_HOME/meli/config.toml</code></p>
<p>You can run meli with arbitrary configuration files by setting the <code>$MELI_CONFIG</code>
environment variable to their locations, i.e.:</p>
<pre><code><span>MELI_CONFIG</span><span>=</span>./test_config cargo run
</code></pre><h2 id="user-content-build">Build</h2>
<p>For a quick start, build and install locally:</p>
<pre><code> <span>PREFIX</span><span>=</span>~/.local make install
</code></pre><p>Available subcommands for <code>make</code> are listed with <code>make help</code>. The Makefile <em>should</em> be POSIX portable and not require a specific <code>make</code> version.</p>
<p><code>meli</code> requires rust 1.39 and rust&#39;s package manager, Cargo. Information on how
to get it on your system can be found here: <a href="https://doc.rust-lang.org/cargo/getting-started/installation.html" rel="nofollow">https://doc.rust-lang.org/cargo/getting-started/installation.html</a></p>
<p>With Cargo available, the project can be built with <code>make</code> and the resulting binary will then be found under <code>target/release/meli</code>. Run <code>make install</code> to install the binary and man pages. This requires root, so I suggest you override the default paths and install it in your <code>$HOME</code>: <code>make PREFIX=$HOME/.local install</code>.</p>
<p>You can build and run <code>meli</code> with one command: <code>cargo run --release</code>.</p>
<h3 id="user-content-build-features">Build features</h3>
<p>Some functionality is held behind &#34;feature gates&#34;, or compile-time flags. The following list explains each feature&#39;s purpose:</p>
<ul>
<li><code>gpgme</code> enables GPG support via <code>libgpgme</code> (on by default)</li>
<li><code>dbus-notifications</code> enables showing notifications using <code>dbus</code> (on by default)</li>
<li><code>notmuch</code> provides support for using a notmuch database as a mail backend (on by default)</li>
<li><code>jmap</code> provides support for connecting to a jmap server and use it as a mail backend (off by default)</li>
<li><code>sqlite3</code> provides support for builting fast search indexes in local sqlite3 databases (on by default)</li>
<li><code>cli-docs</code> includes the manpage documentation compiled by either <code>mandoc</code> or <code>man</code> binary to plain text in <code>meli</code>&#39;s command line. Embedded documentation can be viewed with the subcommand <code>meli man [PAGE]</code></li>
<li><code>svgscreenshot</code> provides support for taking screenshots of the current view of <code>meli</code> and saving it as SVG files. Its only purpose is taking screenshots for the official <code>meli</code> webpage. (off by default)</li>
<li><code>debug-tracing</code> enables various trace debug logs from various places around the <code>meli</code> code base. The trace log is printed in <code>stderr</code>. (off by default)</li>
</ul>
<h3 id="user-content-build-debian-package-deb">Build Debian package (<em>deb</em>)</h3>
<p>Building with Debian&#39;s packaged cargo might require the installation of these
two packages: <code>librust-openssl-sys-dev librust-libdbus-sys-dev</code></p>
<p>A <code>*.deb</code> package can be built with <code>make deb-dist</code></p>
<h3 id="user-content-using-notmuch">Using notmuch</h3>
<p>To use the optional notmuch backend feature, you must have <code>libnotmuch5</code> installed in your system. In Debian-like systems, install the <code>libnotmuch5</code> packages. <code>meli</code> detects the library&#39;s presence on runtime.</p>
<h3 id="user-content-using-gpg">Using GPG</h3>
<p>To use the optional gpg feature, you must have <code>libgpgme</code> installed in your system. In Debian-like systems, install the <code>libgpgme11</code> package. <code>meli</code> detects the library&#39;s presence on runtime.</p>
<h3 id="user-content-building-with-jmap">Building with JMAP</h3>
<p>To build with JMAP support, prepend the environment variable <code>MELI_FEATURES=&#39;jmap&#39;</code> to your make invocation:</p>
<pre><code><span>MELI_FEATURES</span><span>=</span><span>&#34;jmap&#34;</span> make
</code></pre><p>or if building directly with cargo, use the flag `--features=&#34;jmap&#34;&#39;.</p>

<p>Development builds can be built and/or run with</p>
<pre><code>cargo build
cargo run
</code></pre><p>There is a debug/tracing log feature that can be enabled by using the flag
<code>--feature debug-tracing</code> after uncommenting the features in <code>Cargo.toml</code>. The logs
are printed in stderr, thus you can run <code>meli</code> with a redirection (i.e <code>2&gt; log</code>)</p>
<p>Code style follows the default rustfmt profile.</p>
<h2 id="user-content-testing">Testing</h2>
<p>How to run specific tests:</p>
<pre><code>cargo <span>test</span> -p <span>{</span>melib, meli<span>}</span> <span>(</span>-- --nocapture<span>)</span> <span>(</span>--test test_name<span>)</span>
</code></pre><h2 id="user-content-profiling">Profiling</h2>
<pre><code>perf record -g target/debug/bin
perf script <span>|</span> stackcollapse-perf <span>|</span> rust-unmangle <span>|</span> flamegraph &gt; perf.svg
</code></pre><h2 id="user-content-running-fuzz-targets">Running fuzz targets</h2>
<p>Note: <code>cargo-fuzz</code> requires the nightly toolchain.</p>
<pre><code>cargo +nightly fuzz run envelope_parse -- -dict<span>=</span>fuzz/envelope_tokens.dict
</code></pre>
			
		</div>
	</div>
</div></div>
  </body>
</html>
