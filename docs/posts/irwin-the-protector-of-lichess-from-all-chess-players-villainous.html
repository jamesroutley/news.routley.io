<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/clarkerubber/irwin">Original</a>
    <h1>Irwin â€“ the protector of Lichess from all chess players villainous</h1>
    
    <div id="readability-page-1" class="page"><div data-target="readme-toc.content">
            <article itemprop="text">
<p dir="auto">irwin is the AI that learns cheating patterns, marks cheaters, and assists moderators in assessing potential cheaters.</p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/7b68c16f64c8fd6fc0ff3b7fc963274b8073d4a605f5d7fd2c9d6c3204855904/68747470733a2f2f692e696d6775722e636f6d2f5563566c444b332e706e67"><img src="https://camo.githubusercontent.com/7b68c16f64c8fd6fc0ff3b7fc963274b8073d4a605f5d7fd2c9d6c3204855904/68747470733a2f2f692e696d6775722e636f6d2f5563566c444b332e706e67" alt="screenshot of Irwin report" data-canonical-src="https://i.imgur.com/UcVlDK3.png"/></a></p>
<p dir="auto"><a target="_blank" rel="noopener noreferrer" href="https://camo.githubusercontent.com/f4d3d6d364eaae1773c10e2391f8d753988cd557dd0586504af46d85a09ed286/68747470733a2f2f692e696d6775722e636f6d2f4c5174535141682e706e67"><img src="https://camo.githubusercontent.com/f4d3d6d364eaae1773c10e2391f8d753988cd557dd0586504af46d85a09ed286/68747470733a2f2f692e696d6775722e636f6d2f4c5174535141682e706e67" alt="screenshot of companion WebApp" data-canonical-src="https://i.imgur.com/LQtSQAh.png"/></a></p>
<h2 dir="auto"><a id="user-content-dependencies" aria-hidden="true" href="#dependencies"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Dependencies</h2>
<p dir="auto">Compatible with Python 3.x</p>
<h3 dir="auto"><a id="user-content-python-libraries" aria-hidden="true" href="#python-libraries"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Python Libraries</h3>
<div data-snippet-clipboard-copy-content="pip3 install pymongo python-chess numpy requests"><pre>pip3 install pymongo python-chess numpy requests</pre></div>
<ul dir="auto">
<li><strong>tensorflow</strong> : <a href="https://www.tensorflow.org/install" rel="nofollow">tensorflow installation guide</a></li>
</ul>
<h3 dir="auto"><a id="user-content-database" aria-hidden="true" href="#database"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Database</h3>
<ul dir="auto">
<li><strong>mongodb</strong> : <a href="https://docs.mongodb.com/manual/installation/" rel="nofollow">mongodb installation guide</a></li>
</ul>
<h2 dir="auto"><a id="user-content-configuring" aria-hidden="true" href="#configuring"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Configuring</h2>
<h3 dir="auto"><a id="user-content-create-confconfigjson" aria-hidden="true" href="#create-confconfigjson"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Create <code>conf/config.json</code></h3>
<div data-snippet-clipboard-copy-content="{
  &#34;api&#34;: {
    &#34;url&#34;: &#34;https://lichess.org/&#34;,
    &#34;token&#34;: &#34;token&#34;
  },
  &#34;stockfish&#34;: {
    &#34;threads&#34;: 4,
    &#34;memory&#34;: 2048,
    &#34;nodes&#34;: 4500000,
    &#34;update&#34;: false
  },
  &#34;db&#34;: {
    &#34;host&#34;: &#34;localhost&#34;,
    &#34;port&#34;: 27017,
    &#34;authenticate&#34;: false,
    &#34;authentication&#34;: {
      &#34;username&#34;: &#34;username&#34;,
      &#34;password&#34;: &#34;password&#34;
    }
  },
  &#34;irwin&#34;: {
    &#34;train&#34;: {
      &#34;batchSize&#34;: 5000,
      &#34;cycles&#34;: 80
    }
  }
}"><pre><span>{</span>
  <span>&#34;api&#34;</span>: <span>{</span>
    <span>&#34;url&#34;</span>: <span>&#34;https://lichess.org/&#34;</span><span>,</span>
    <span>&#34;token&#34;</span>: <span>&#34;token&#34;</span>
  <span>}</span><span>,</span>
  <span>&#34;stockfish&#34;</span>: <span>{</span>
    <span>&#34;threads&#34;</span>: <span>4</span><span>,</span>
    <span>&#34;memory&#34;</span>: <span>2048</span><span>,</span>
    <span>&#34;nodes&#34;</span>: <span>4500000</span><span>,</span>
    <span>&#34;update&#34;</span>: <span>false</span>
  <span>}</span><span>,</span>
  <span>&#34;db&#34;</span>: <span>{</span>
    <span>&#34;host&#34;</span>: <span>&#34;localhost&#34;</span><span>,</span>
    <span>&#34;port&#34;</span>: <span>27017</span><span>,</span>
    <span>&#34;authenticate&#34;</span>: <span>false</span><span>,</span>
    <span>&#34;authentication&#34;</span>: <span>{</span>
      <span>&#34;username&#34;</span>: <span>&#34;username&#34;</span><span>,</span>
      <span>&#34;password&#34;</span>: <span>&#34;password&#34;</span>
    <span>}</span>
  <span>}</span><span>,</span>
  <span>&#34;irwin&#34;</span>: <span>{</span>
    <span>&#34;train&#34;</span>: <span>{</span>
      <span>&#34;batchSize&#34;</span>: <span>5000</span><span>,</span>
      <span>&#34;cycles&#34;</span>: <span>80</span>
    <span>}</span>
  <span>}</span>
<span>}</span></pre></div>
<p dir="auto"><code>conf/config.json</code> contains config for stockfish, mongodb, tensorflow, lichess (authentication token and URL), etc...</p>
<h3 dir="auto"><a id="user-content-build-a-database-of-analysed-players" aria-hidden="true" href="#build-a-database-of-analysed-players"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>Build a database of analysed players</h3>
<p dir="auto">If you do not already have a database of analysed players, it will be necessary to analyse
a few hundred players to train the neural networks on.
<code>python3 main.py --no-assess --no-report</code></p>
<h2 dir="auto"><a id="user-content-about" aria-hidden="true" href="#about"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z"></path></svg></a>About</h2>
<p dir="auto">Irwin (named after Steve Irwin, the Crocodile Hunter) started as the name of the server that the original
cheatnet ran on (now deprecated). This is the successor to cheatnet.</p>
<p dir="auto">Similar to cheatnet, it works on a similar concept of analysing the available PVs of a game to determine
the odds of cheating occurring.</p>
<p dir="auto">This bot makes improvements over cheatnet by taking a dramatically more modular approach to software design.
<code>modules/core</code> contains most of the generic datatypes, BSON serialisation handlers and database interface
layers. It is also significantly faster due to a simplified approach to using stockfish analysis.</p>
<p dir="auto"><code>modules/irwin</code> contains the brains of irwin, this is where the tensorflow learning and application takes place.</p>
<p dir="auto">Irwin has been designed so that <code>modules/irwin</code> can be replaced with other approaches to player assessment.</p>
<p dir="auto"><code>Env.py</code> contains all of the tools to interact with lichess, irwin, and the database handlers.</p>
<p dir="auto"><code>main.py</code> covers accessing the lichess API (<code>modules/Api.py</code>) via Env to get player data; pulling records from mongodb,
analysing games using stockfish, assessing those games using tensorflow and then posting the final assessments.</p>
</article>
          </div></div>
  </body>
</html>
