<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.improvingagents.com/blog/best-input-data-format-for-llms">Original</a>
    <h1>Which table format do LLMs understand best?</h1>
    
    <div id="readability-page-1" class="page"><div> <p>When discussing the reliability of AI-based systems, there’s something
fundamental that doesn’t get enough attention: <strong>what’s the best format for passing
tables of data to an LLM?</strong></p>
<p>Should you use markdown tables or CSV?</p>
<p>JSON or YAML?</p>
<p>Or does some other format work better than any of these?</p>
<h2 id="why-this-question-matters">Why This Question Matters</h2>
<p>As AI systems become integral to data analysis, business intelligence, and decision-making processes, understanding format sensitivity is crucial for:</p>
<ul>
<li><strong>Data Pipeline Architecture</strong>: Structuring data workflows for maximum AI comprehension</li>
<li><strong>Performance Optimization</strong>: Reducing processing overhead while maintaining accuracy</li>
<li><strong>Cost Management</strong>: Minimizing token usage and API costs in production systems</li>
</ul>
<p>Many RAG pipelines involve ingesting documents that contain tables of
data. If we’re not formatting that data in a way that it is easy for an LLM to
consume, then we may be needlessly hurting the accuracy of the overall system.</p>
<h2 id="our-methodology">Our Methodology</h2>
<p>We designed a controlled experiment to test how the formatting of a set of data would affect
how accurately an LLM could answer questions about that data.</p>
<p>Our tests involved passing 1000 records to an LLM and asking it to
answer a question based on the data. We then evaluated whether it
answered correctly or not in each case.</p>
<p>We repeated this process for 1000 questions, using each of 11 different data formats.</p>
<ul>
<li><strong>Dataset</strong>: 1,000 synthetic employee records with 8 attributes each (ID, name, age, city, department, salary, experience, project count)</li>
<li><strong>Questions</strong>: 1,000 randomized queries about specific data points</li>
<li><strong>Model</strong>: GPT-4.1-nano</li>
<li><strong>Formats Tested</strong>: 11 different data representation formats</li>
</ul>
<h3 id="example-question-answer-pairs">Example Question-Answer Pairs</h3>
<pre tabindex="0" data-language="plaintext"><code><span><span>Q. &#34;How many years of experience does Grace X413 have? (Return just the number, e.g. &#39;12&#39;.)&#34;</span></span>
<span><span>A. &#34;15&#34;</span></span></code></pre>
<pre tabindex="0" data-language="plaintext"><code><span><span>Q. &#34;What is Alice W204&#39;s salary? (Return just the number, e.g. &#39;85200&#39;.)&#34;</span></span>
<span><span>A. &#34;131370&#34;</span></span></code></pre>
<h3 id="notes-on-methodology">Notes on Methodology</h3>
<p><em>We opted to pass a relatively large number of records to the LLM in
order to test its limits. In practice, with a large structured dataset,
you’ll often want to chunk it up and/or query it in some way in order to extract just
the most relevant records / information and only pass that reduced amount of context to the LLM.</em></p>
<p><em>When using formats such as CSV, HTML tables and markdown tables that
involve headers, you may want to repeat those
headers on a regular basis (e.g. every 100 records) to help with
understanding. For simplicity, we didn’t do that here.</em></p>
<h2 id="how-well-did-the-llm-understand-each-format">How Well Did the LLM Understand Each Format?</h2>
<figure>
  
</figure>


<table>
  <thead>
    <tr>
      <th scope="col">Format</th>
      <th scope="col">Accuracy</th>
      <th scope="col">95% Confidence Interval</th>
      <th scope="col">Tokens</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Markdown-KV</td>
      <td>60.7%</td>
      <td>57.6% – 63.7%</td>
      <td>52,104</td>
    </tr>
    <tr>
      <td>XML</td>
      <td>56.0%</td>
      <td>52.9% – 59.0%</td>
      <td>76,114</td>
    </tr>
    <tr>
      <td>INI</td>
      <td>55.7%</td>
      <td>52.6% – 58.8%</td>
      <td>48,100</td>
    </tr>
    <tr>
      <td>YAML</td>
      <td>54.7%</td>
      <td>51.6% – 57.8%</td>
      <td>55,395</td>
    </tr>
    <tr>
      <td>HTML</td>
      <td>53.6%</td>
      <td>50.5% – 56.7%</td>
      <td>75,204</td>
    </tr>
    <tr>
      <td>JSON</td>
      <td>52.3%</td>
      <td>49.2% – 55.4%</td>
      <td>66,396</td>
    </tr>
    <tr>
      <td>Markdown-Table</td>
      <td>51.9%</td>
      <td>48.8% – 55.0%</td>
      <td>25,140</td>
    </tr>
    <tr>
      <td>Natural-Language</td>
      <td>49.6%</td>
      <td>46.5% – 52.7%</td>
      <td>43,411</td>
    </tr>
    <tr>
      <td>JSONL</td>
      <td>45.0%</td>
      <td>41.9% – 48.1%</td>
      <td>54,407</td>
    </tr>
    <tr>
      <td>CSV</td>
      <td>44.3%</td>
      <td>41.2% – 47.4%</td>
      <td>19,524</td>
    </tr>
    <tr>
      <td>Pipe-Delimited</td>
      <td>41.1%</td>
      <td>38.1% – 44.2%</td>
      <td>43,098</td>
    </tr>
  </tbody>
</table>
<h2 id="highlights">Highlights</h2>
<ol>
<li><strong>Format seems important</strong>: we saw significant differences in understanding between the different formats.</li>
<li><strong>CSV and JSONL performed poorly</strong>: suggesting the potential for quick wins if
you’re currently using one of these formats by default.</li>
<li><strong>Markdown-KV came out top</strong>, hitting 60.7% accuracy and landing
roughly 16 points ahead of CSV. <em>(Markdown-KV is our term for a non-standardised format featuring “key: value” pairs in markdown.)</em></li>
<li><strong>Accuracy cost tokens</strong>: the top-performing Markdown-KV format
used 2.7 times as many tokens as the most token-efficient format, CSV.</li>
</ol>
<h2 id="data-formats-evaluated">Data Formats Evaluated</h2>
<p><strong>1. JSON</strong></p>
<pre tabindex="0" data-language="json"><code><span><span>[</span></span>
<span><span>  {</span></span>
<span><span>    &#34;id&#34;</span><span>: </span><span>1</span><span>,</span></span>
<span><span>    &#34;name&#34;</span><span>: </span><span>&#34;Diana A0&#34;</span><span>,</span></span>
<span><span>    &#34;age&#34;</span><span>: </span><span>46</span><span>,</span></span>
<span><span>    &#34;city&#34;</span><span>: </span><span>&#34;London&#34;</span><span>,</span></span>
<span><span>    &#34;department&#34;</span><span>: </span><span>&#34;Engineering&#34;</span><span>,</span></span>
<span><span>    &#34;salary&#34;</span><span>: </span><span>141015</span><span>,</span></span>
<span><span>    &#34;years_experience&#34;</span><span>: </span><span>7</span><span>,</span></span>
<span><span>    &#34;project_count&#34;</span><span>: </span><span>17</span></span>
<span><span>  },</span></span>
<span><span>  {</span></span>
<span><span>    &#34;id&#34;</span><span>: </span><span>2</span><span>,</span></span>
<span><span>    &#34;name&#34;</span><span>: </span><span>&#34;Grace B1&#34;</span><span>,</span></span>
<span><span>    &#34;age&#34;</span><span>: </span><span>59</span><span>,</span></span>
<span><span>    &#34;city&#34;</span><span>: </span><span>&#34;Berlin&#34;</span><span>,</span></span>
<span><span>    &#34;department&#34;</span><span>: </span><span>&#34;Engineering&#34;</span><span>,</span></span>
<span><span>    &#34;salary&#34;</span><span>: </span><span>100066</span><span>,</span></span>
<span><span>    &#34;years_experience&#34;</span><span>: </span><span>11</span><span>,</span></span>
<span><span>    &#34;project_count&#34;</span><span>: </span><span>32</span></span>
<span><span>  },</span></span>
<span><span>  {</span></span>
<span><span>    &#34;id&#34;</span><span>: </span><span>3</span><span>,</span></span>
<span><span>    &#34;name&#34;</span><span>: </span><span>&#34;Grace C2&#34;</span><span>,</span></span>
<span><span>    &#34;age&#34;</span><span>: </span><span>64</span><span>,</span></span>
<span><span>    &#34;city&#34;</span><span>: </span><span>&#34;Dubai&#34;</span><span>,</span></span>
<span><span>    &#34;department&#34;</span><span>: </span><span>&#34;Engineering&#34;</span><span>,</span></span>
<span><span>    &#34;salary&#34;</span><span>: </span><span>91727</span><span>,</span></span>
<span><span>    &#34;years_experience&#34;</span><span>: </span><span>9</span><span>,</span></span>
<span><span>    &#34;project_count&#34;</span><span>: </span><span>49</span></span>
<span><span>  }</span></span>
<span><span>]</span></span></code></pre>
<p><strong>2. CSV</strong></p>
<pre tabindex="0" data-language="csv"><code><span><span>id,</span><span>name,</span><span>age,</span><span>city,</span><span>department,</span><span>salary,</span><span>years_experience,</span><span>project_count</span></span>
<span><span>1,</span><span>Diana A0,</span><span>46,</span><span>London,</span><span>Engineering,</span><span>141015,</span><span>7,</span><span>17</span></span>
<span><span>2,</span><span>Grace B1,</span><span>59,</span><span>Berlin,</span><span>Engineering,</span><span>100066,</span><span>11,</span><span>32</span></span>
<span><span>3,</span><span>Grace C2,</span><span>64,</span><span>Dubai,</span><span>Engineering,</span><span>91727,</span><span>9,</span><span>49</span></span></code></pre>
<p><strong>3. XML</strong></p>
<pre tabindex="0" data-language="xml"><code><span><span>&lt;?</span><span>xml</span><span> version</span><span>=</span><span>&#34;1.0&#34;</span><span> ?&gt;</span></span>
<span><span>&lt;</span><span>employees</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>employee</span><span> id</span><span>=</span><span>&#34;1&#34;</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>name</span><span>&gt;Diana A0&lt;/</span><span>name</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>age</span><span>&gt;46&lt;/</span><span>age</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>city</span><span>&gt;London&lt;/</span><span>city</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>department</span><span>&gt;Engineering&lt;/</span><span>department</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>salary</span><span>&gt;141015&lt;/</span><span>salary</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>years_experience</span><span>&gt;7&lt;/</span><span>years_experience</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>project_count</span><span>&gt;17&lt;/</span><span>project_count</span><span>&gt;</span></span>
<span><span>  &lt;/</span><span>employee</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>employee</span><span> id</span><span>=</span><span>&#34;2&#34;</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>name</span><span>&gt;Grace B1&lt;/</span><span>name</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>age</span><span>&gt;59&lt;/</span><span>age</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>city</span><span>&gt;Berlin&lt;/</span><span>city</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>department</span><span>&gt;Engineering&lt;/</span><span>department</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>salary</span><span>&gt;100066&lt;/</span><span>salary</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>years_experience</span><span>&gt;11&lt;/</span><span>years_experience</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>project_count</span><span>&gt;32&lt;/</span><span>project_count</span><span>&gt;</span></span>
<span><span>  &lt;/</span><span>employee</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>employee</span><span> id</span><span>=</span><span>&#34;3&#34;</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>name</span><span>&gt;Grace C2&lt;/</span><span>name</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>age</span><span>&gt;64&lt;/</span><span>age</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>city</span><span>&gt;Dubai&lt;/</span><span>city</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>department</span><span>&gt;Engineering&lt;/</span><span>department</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>salary</span><span>&gt;91727&lt;/</span><span>salary</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>years_experience</span><span>&gt;9&lt;/</span><span>years_experience</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>project_count</span><span>&gt;49&lt;/</span><span>project_count</span><span>&gt;</span></span>
<span><span>  &lt;/</span><span>employee</span><span>&gt;</span></span>
<span><span>&lt;/</span><span>employees</span><span>&gt;</span></span></code></pre>
<p><strong>4. YAML</strong></p>
<pre tabindex="0" data-language="yaml"><code><span><span>records</span><span>:</span></span>
<span><span>  - </span><span>id</span><span>: </span><span>1</span></span>
<span><span>    name</span><span>: </span><span>&#34;Diana A0&#34;</span></span>
<span><span>    age</span><span>: </span><span>46</span></span>
<span><span>    city</span><span>: </span><span>&#34;London&#34;</span></span>
<span><span>    department</span><span>: </span><span>&#34;Engineering&#34;</span></span>
<span><span>    salary</span><span>: </span><span>141015</span></span>
<span><span>    years_experience</span><span>: </span><span>7</span></span>
<span><span>    project_count</span><span>: </span><span>17</span></span>
<span><span>  - </span><span>id</span><span>: </span><span>2</span></span>
<span><span>    name</span><span>: </span><span>&#34;Grace B1&#34;</span></span>
<span><span>    age</span><span>: </span><span>59</span></span>
<span><span>    city</span><span>: </span><span>&#34;Berlin&#34;</span></span>
<span><span>    department</span><span>: </span><span>&#34;Engineering&#34;</span></span>
<span><span>    salary</span><span>: </span><span>100066</span></span>
<span><span>    years_experience</span><span>: </span><span>11</span></span>
<span><span>    project_count</span><span>: </span><span>32</span></span>
<span><span>  - </span><span>id</span><span>: </span><span>3</span></span>
<span><span>    name</span><span>: </span><span>&#34;Grace C2&#34;</span></span>
<span><span>    age</span><span>: </span><span>64</span></span>
<span><span>    city</span><span>: </span><span>&#34;Dubai&#34;</span></span>
<span><span>    department</span><span>: </span><span>&#34;Engineering&#34;</span></span>
<span><span>    salary</span><span>: </span><span>91727</span></span>
<span><span>    years_experience</span><span>: </span><span>9</span></span>
<span><span>    project_count</span><span>: </span><span>49</span></span></code></pre>
<p><strong>5. HTML</strong></p>
<pre tabindex="0" data-language="html"><code><span><span>&lt;</span><span>h1</span><span>&gt;Employee Records&lt;/</span><span>h1</span><span>&gt;</span></span>
<span><span>&lt;</span><span>table</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>thead</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>tr</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>th</span><span>&gt;id&lt;/</span><span>th</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>th</span><span>&gt;name&lt;/</span><span>th</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>th</span><span>&gt;age&lt;/</span><span>th</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>th</span><span>&gt;city&lt;/</span><span>th</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>th</span><span>&gt;department&lt;/</span><span>th</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>th</span><span>&gt;salary&lt;/</span><span>th</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>th</span><span>&gt;years_experience&lt;/</span><span>th</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>th</span><span>&gt;project_count&lt;/</span><span>th</span><span>&gt;</span></span>
<span><span>    &lt;/</span><span>tr</span><span>&gt;</span></span>
<span><span>  &lt;/</span><span>thead</span><span>&gt;</span></span>
<span><span>  &lt;</span><span>tbody</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>tr</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;1&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;Diana A0&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;46&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;London&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;Engineering&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;141015&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;7&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;17&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>    &lt;/</span><span>tr</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>tr</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;2&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;Grace B1&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;59&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;Berlin&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;Engineering&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;100066&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;11&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;32&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>    &lt;/</span><span>tr</span><span>&gt;</span></span>
<span><span>    &lt;</span><span>tr</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;3&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;Grace C2&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;64&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;Dubai&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;Engineering&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;91727&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;9&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>      &lt;</span><span>td</span><span>&gt;49&lt;/</span><span>td</span><span>&gt;</span></span>
<span><span>    &lt;/</span><span>tr</span><span>&gt;</span></span>
<span><span>  &lt;/</span><span>tbody</span><span>&gt;</span></span>
<span><span>&lt;/</span><span>table</span><span>&gt;</span></span></code></pre>
<p><strong>6. Markdown Table</strong></p>
<pre tabindex="0" data-language="markdown"><code><span><span>| id | name | age | city | department | salary | years_experience | project_count |</span></span>
<span><span>| --- | --- | --- | --- | --- | --- | --- | --- |</span></span>
<span><span>| 1 | Diana A0 | 46 | London | Engineering | 141015 | 7 | 17 |</span></span>
<span><span>| 2 | Grace B1 | 59 | Berlin | Engineering | 100066 | 11 | 32 |</span></span>
<span><span>| 3 | Grace C2 | 64 | Dubai | Engineering | 91727 | 9 | 49 |</span></span></code></pre>
<p><strong>7. Markdown KV</strong></p>
<pre tabindex="0" data-language="markdown"><code><span><span># Employee Database</span></span>
<span></span>
<span><span>## Record 1</span></span>
<span></span>
<span><span>```</span></span>
<span><span>id: 1</span></span>
<span><span>name: Charlie A0</span></span>
<span><span>age: 56</span></span>
<span><span>city: New York</span></span>
<span><span>department: Operations</span></span>
<span><span>salary: 67896</span></span>
<span><span>years_experience: 7</span></span>
<span><span>project_count: 1</span></span>
<span><span>```</span></span>
<span></span>
<span><span>## Record 2</span></span>
<span></span>
<span><span>```</span></span>
<span><span>id: 2</span></span>
<span><span>name: Grace B1</span></span>
<span><span>age: 59</span></span>
<span><span>city: Mumbai</span></span>
<span><span>department: Marketing</span></span>
<span><span>salary: 47248</span></span>
<span><span>years_experience: 0</span></span>
<span><span>project_count: 43</span></span>
<span><span>```</span></span>
<span></span>
<span><span>## Record 3</span></span>
<span></span>
<span><span>```</span></span>
<span><span>id: 3</span></span>
<span><span>name: Eve C2</span></span>
<span><span>age: 50</span></span>
<span><span>city: Singapore</span></span>
<span><span>department: Sales</span></span>
<span><span>salary: 102915</span></span>
<span><span>years_experience: 14</span></span>
<span><span>project_count: 11</span></span>
<span><span>```</span></span></code></pre>
<p><strong>8. INI</strong></p>
<pre tabindex="0" data-language="ini"><code><span><span>[employee_1]</span></span>
<span><span>id</span><span> = 1</span></span>
<span><span>name</span><span> = Diana A0</span></span>
<span><span>age</span><span> = 46</span></span>
<span><span>city</span><span> = London</span></span>
<span><span>department</span><span> = Engineering</span></span>
<span><span>salary</span><span> = 141015</span></span>
<span><span>years_experience</span><span> = 7</span></span>
<span><span>project_count</span><span> = 17</span></span>
<span></span>
<span><span>[employee_2]</span></span>
<span><span>id</span><span> = 2</span></span>
<span><span>name</span><span> = Grace B1</span></span>
<span><span>age</span><span> = 59</span></span>
<span><span>city</span><span> = Berlin</span></span>
<span><span>department</span><span> = Engineering</span></span>
<span><span>salary</span><span> = 100066</span></span>
<span><span>years_experience</span><span> = 11</span></span>
<span><span>project_count</span><span> = 32</span></span>
<span></span>
<span><span>[employee_3]</span></span>
<span><span>id</span><span> = 3</span></span>
<span><span>name</span><span> = Grace C2</span></span>
<span><span>age</span><span> = 64</span></span>
<span><span>city</span><span> = Dubai</span></span>
<span><span>department</span><span> = Engineering</span></span>
<span><span>salary</span><span> = 91727</span></span>
<span><span>years_experience</span><span> = 9</span></span>
<span><span>project_count</span><span> = 49</span></span></code></pre>
<p><strong>9. Pipe-Delimited</strong></p>
<pre tabindex="0" data-language="text"><code><span><span>id: 1 | name: Diana A0 | age: 46 | city: London | department: Engineering | salary: 141015 | years_experience: 7 | project_count: 17</span></span>
<span><span>id: 2 | name: Grace B1 | age: 59 | city: Berlin | department: Engineering | salary: 100066 | years_experience: 11 | project_count: 32</span></span>
<span><span>id: 3 | name: Grace C2 | age: 64 | city: Dubai | department: Engineering | salary: 91727 | years_experience: 9 | project_count: 49</span></span></code></pre>
<p><strong>10. JSONL</strong></p>
<pre tabindex="0" data-language="jsonl"><code><span><span>{</span><span>&#34;id&#34;</span><span>: </span><span>1</span><span>, </span><span>&#34;name&#34;</span><span>: </span><span>&#34;Diana A0&#34;</span><span>, </span><span>&#34;age&#34;</span><span>: </span><span>46</span><span>, </span><span>&#34;city&#34;</span><span>: </span><span>&#34;London&#34;</span><span>, </span><span>&#34;department&#34;</span><span>: </span><span>&#34;Engineering&#34;</span><span>, </span><span>&#34;salary&#34;</span><span>: </span><span>141015</span><span>, </span><span>&#34;years_experience&#34;</span><span>: </span><span>7</span><span>, </span><span>&#34;project_count&#34;</span><span>: </span><span>17</span><span>}</span></span>
<span><span>{</span><span>&#34;id&#34;</span><span>: </span><span>2</span><span>, </span><span>&#34;name&#34;</span><span>: </span><span>&#34;Grace B1&#34;</span><span>, </span><span>&#34;age&#34;</span><span>: </span><span>59</span><span>, </span><span>&#34;city&#34;</span><span>: </span><span>&#34;Berlin&#34;</span><span>, </span><span>&#34;department&#34;</span><span>: </span><span>&#34;Engineering&#34;</span><span>, </span><span>&#34;salary&#34;</span><span>: </span><span>100066</span><span>, </span><span>&#34;years_experience&#34;</span><span>: </span><span>11</span><span>, </span><span>&#34;project_count&#34;</span><span>: </span><span>32</span><span>}</span></span>
<span><span>{</span><span>&#34;id&#34;</span><span>: </span><span>3</span><span>, </span><span>&#34;name&#34;</span><span>: </span><span>&#34;Grace C2&#34;</span><span>, </span><span>&#34;age&#34;</span><span>: </span><span>64</span><span>, </span><span>&#34;city&#34;</span><span>: </span><span>&#34;Dubai&#34;</span><span>, </span><span>&#34;department&#34;</span><span>: </span><span>&#34;Engineering&#34;</span><span>, </span><span>&#34;salary&#34;</span><span>: </span><span>91727</span><span>, </span><span>&#34;years_experience&#34;</span><span>: </span><span>9</span><span>, </span><span>&#34;project_count&#34;</span><span>: </span><span>49</span><span>}</span></span></code></pre>
<p><strong>11. Natural Language</strong></p>
<pre tabindex="0" data-language="text"><code><span><span>Employee Records Summary:</span></span>
<span><span></span></span>
<span><span>Diana A0 (ID: 1) is a 46-year-old employee working in the Engineering department in London. They earn $141,015 with 7 years of experience and have completed 17 projects.</span></span>
<span><span>Grace B1 (ID: 2) is a 59-year-old employee working in the Engineering department in Berlin. They earn $100,066 with 11 years of experience and have completed 32 projects.</span></span>
<span><span>Grace C2 (ID: 3) is a 64-year-old employee working in the Engineering department in Dubai. They earn $91,727 with 9 years of experience and have completed 49 projects.</span></span></code></pre>
<h2 id="practical-guidance">Practical Guidance</h2>
<p>Based on the results of our experiment:</p>
<ul>
<li>If you make heavy use of tabular data, consider testing whether transforming that data into a different format gives you improved accuracy.</li>
<li>Markdown-KV looks a good default in situations where accuracy is paramount.</li>
<li>Consider markdown tables when you need a balance between readability and cost.</li>
<li>Be wary of defaulting to CSV or JSONL - these common formats could hurt your system’s
accuracy.</li>
</ul>
<h2 id="limitations-and-areas-for-further-study">Limitations and Areas for Further Study</h2>
<ul>
<li><strong>Models &amp; Providers:</strong> We only tested OpenAI’s GPT-4.1 nano. Other models, particularly those from other providers,
may work best with different data formats (e.g. whatever format was used most in
training that model.)</li>
<li><strong>Data Content:</strong> We only tested one pattern of data. Results might be different with other
patterns of data.</li>
<li><strong>Data Structure</strong>: We only tested straightforward tabular data. It
would be interesting to test with nested data such as JSON configs and tables with
merged cells.</li>
<li><strong>Table Size &amp; Header Repetition</strong>: To stress the model we used a relatively
large table of data and didn’t repeat any headers. We’d expect smaller tables
and/or repeated header rows to lead to higher accuracy, particularly for CSV,
HTML and markdown table formats (the ones that involve header rows.)</li>
<li><strong>Question Type</strong>: Each of our test questions corresponded to retrieving the value of a
field in a given record. It would be interesting to test other types of question.</li>
</ul>
<h2 id="closing-thoughts">Closing Thoughts</h2>
<p>We were surprised by how much the input data format seemed to matter.</p>
<p>Our findings suggest that implementing simple data
transformations could, in some cases, be an easy way to improve the
accuracy of your LLM-based systems.</p>
<p>We’re keen to investigate this topic more.</p>
<p>Subscribe to our newsletter if you’d like to be updated when we have new findings about this or other topics relating to <strong>improving AI agents</strong>.</p> </div></div>
  </body>
</html>
