<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/flexipede.htm">Original</a>
    <h1>The Flexipede Revisited</h1>
    
    <div id="readability-page-1" class="page">
 

<div>
<h3>On The Flexipede:</h3>
<p>Hugh &#39;Ras&#39; Riddle: <em>I didn&#39;t see it as significant as I do now.</em></p>
</div>
<ul>
<li><a href="#c1">1. Introduction</a></li>
<li><a href="#c2">2. Flexipede Card Box</a></li>
<li><a href="#c3">3. The Flexipede Program</a></li>
<li><a href="#c4">4. Approach</a>
<ul>
<li><a href="#c4p1">4.1 The Java Approach</a></li>
</ul>
</li>
<li><a href="#c5">5. Reprogramming Flexipede</a>
<ul>
<li><a href="#c5p1">5.1 Body Parts</a></li>
<li><a href="#c5p2">5.2 Story Board</a></li>
<li><a href="#c5p3">5.3 Flexipede Walk</a></li>
<li><a href="#c5p4">5.4 Solipede Leap</a></li>
<li><a href="#c5p5">5.5 Solipede Capture</a></li>
<li><a href="#c5p6">5.6 Flexipede Hits the Wall</a></li>
</ul></li>
<li><a href="#c6">6. Conclusions</a></li>
</ul>


<h2 id="c1">1.  Introduction</h2>
<p><a href="http://www.catherinemason.co.uk/remembering-tony-pritchett/">Tony Pritchett</a> created <a href="https://www.youtube.com/watch?v=aVQHYeUHBXM">The Flexipede</a> in 1967, probably the first known character computer animation telling a story worldwide, 
certainly in the UK. And it had a soundtrack.</p>
<p><img src="https://www.chilton-computing.org.uk/acl/htmls/flexipede/pritchett.jpg" width="420" height="281"/></p>
<h5><a href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/pritchett.jpg">Large View</a></h5>
<h3>Outside the Chilton Atlas building:
Kate Sullivan, Tony Pritchett, Dik Leatherdale, Bob Hopgood,
26 February 2016 when Tony showed Kate around one of his old stomping grounds</h3>
<p>Sadly, Tony Pritchett passed away on the 28 August 2017.</p>
<p>Animator and filmmaker Kate Sullivan was a friend of Tony’s. She is currently creating a multimedia
project which documents his work. The pair were working on the project together at the time of his passing.</p>
<p>Kate is providing a temporary home for Tony’s archive. The collection includes all sorts of
fascinating materials relating to his animation career, (1967 – 1982). Items include, the original
16mm master negative of ‘The Flexipede’ along with film footage and printed materials relating to a
wide range of projects, (Ridley Scott’s ‘Alien’, ‘Blade Runner’ and the very first Channel Four logo
to name but a few.)</p>
<p>Kate is very keen to hear from any one who would like to contribute to the project, which is
currently in progress. It is centred upon Tony’s career, but by extension documents the work of his
colleagues and the formative years of the British computer animation industry. All contributions
would be very much appreciated. No contribution is either too anecdotal or technical!
If you would like to get in touch or simply find out more about the project-in-progress, please visit;
it’s (regularly-updated) home: <a href="http://www.Tonypritchett.co.uk/">http://www.TonyPritchett.co.uk/</a>.</p>
<p>Back in the archive - Kate mentioned to Victoria Marshall that amongst Tony&#39;s possessions was a 2000-card drawer of computer punched-cards cards which, according to Tony,
included his Flexipede program. Would it be possible to recreate The Flexipede 50 years after it was written?</p>

<p><img src="https://www.chilton-computing.org.uk/acl/htmls/flexipede/small_card_deck.jpg" width="363" height="153"/></p>
<h5><a target="new" href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/card_deck.jpg">Large View</a></h5>
<h2 id="c2">2. Flexipede Card Box</h2>
<p>The card box included several card decks destined for the London Atlas Computing Service. 
Most cards had  printing across the top, rather faded at times. 
Some had no printing. It was then necessary to read the hole punching.</p>
<p><img src="https://www.chilton-computing.org.uk/acl/htmls/flexipede/card.jpg" width="214" height="97"/></p>
<h3>Card with Printing</h3>
<h5><a target="new" href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/card.jpg">Large View</a></h5>
<p>An early deck that we looked at appeared to be Flexipede but it was an earlier version.
Kate has some experimental 16mm footage containing this version. Other decks were from other animation projects.
</p>
<p>
<svg id="early" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" height="140">

<!--<rect class="background" width="400" height="140"/>-->
<text x="200" y="40">An Early Flexipede</text>
<g transform="translate(100,0)">
<g transform="translate(0,140)scale(0.25,-0.25)">
<path transform="translate(700,100)" d="  M40  180 L     30  187     15  194      0  198    -20  201    -40  202    -50  202    -50  -20     90   30     82   64       M40  180 L     53  178     65  172     77  164     87  150     94  132     97  110     95   92     90   77     82   64     70   53     55   45     35   41     17   42      5   47     -5   55    -15   70    -20   85    -24  105    -25  125    -25  145    -18  158    -10  168      0  174     13  179     30  180"></path>
<path transform="translate(700,100)" d="  M-50  189 L    -70  190    -90  189   -110  186   -130  180   -150  170   -150   20   -130   15   -110   12    -90   10    -70   10    -50   11"></path>
<path transform="translate(620,100)" d="  M-50  189 L    -70  190    -90  189   -110  186   -130  180   -150  170   -150   20   -130   15   -110   12    -90   10    -70   10    -50   11"></path>
<path transform="translate(540,100)" d="  M-50  189 L    -70  190    -90  189   -110  186   -130  180   -150  170   -150   20   -130   15   -110   12    -90   10    -70   10    -50   11"></path>
<path transform="translate(460,100)" d="  M-50  189 L    -70  190    -90  189   -110  186   -130  180   -150  170   -150   20   -130   15   -110   12    -90   10    -70   10    -50   11"></path>
<path transform="translate(380,100)" d="  M-50  189 L    -70  190    -90  189   -110  186   -130  180   -150  170   -150   20   -130   15   -110   12    -90   10    -70   10    -50   11"></path>
<path transform="translate(300,100)" d="  M-50  189 L    -70  190    -90  189   -110  186   -130  180   -150  170   -150   20   -130   15   -110   12    -90   10    -70   10    -50   11"></path>
<path transform="translate(220,100)" d="  M-50  189 L    -70  190    -90  189   -110  186   -130  180   -150  170   -150   20   -130   15   -110   12    -90   10    -70   10    -50   11"></path>
<path transform="translate(140,100)" d="  M-50  189 L    -70  190    -90  189   -110  186   -130  180   -150  170   -150   20   -130   15   -110   12    -90   10    -70   10    -50   11"></path>
<path transform="translate(60,100)" d="  M-50  189 L    -70  190    -90  189   -110  186   -130  180   -150  170   -150   20   -130   15   -110   12    -90   10    -70   10    -50   11"></path>
<path transform="translate(-20,100)" d="  M-50  189 L    -70  190    -90  189   -110  186   -130  180   -150  170   -150   20   -130   15   -110   12    -90   10    -70   10    -50   11"></path>
<path transform="translate(-20,100)" d="  M-150  159 L   -170  150   -190  137   -209  119   -225  100   -240   80   -250   70   -230   56   -210   47   -190   40   -150   31"></path>
<path transform="translate(700,100)" d="  M-10  180  L     50  250    100  300    160  350    210  380    250  400    246  404    245  409    246  414    250  418    255  419    250  418    264  414    265  409    264  404    260  400    255  399    250  400"></path>
<path transform="translate(700,100)" d="  M15  194  L     50  220    100  250    160  275    230  290    300  300    299  305    300  310    304  314    309  315    314  314    318  310    319  305    318  300    314  296    309  295    304  296    300  300  "></path>
</g>
</g>
</svg>
</p>
<h2 id="c3">3. The Flexipede Program</h2>
<p>Eventually, a card deck was found that looked correct. It was generating an IBM-compatible magnetic tape
for the Benson-Lehner 120 (BL120) Microfilm Recorder at Culham Laboratory (where Tony Pritchett said the film was produced).</p>
<p>In the 1960s, the  sensible way to generate computer animation was to use a microfilm recorder. 
A Stromberg-Carlson 4020 (SC4020) microfilm recorder
was installed at AWRE Aldermaston in 1963 and was also used by Harwell for displaying nuclear simulations on hardcopy paper or 16mm/35mm film.
In 1965 thermonuclear research moved from Harwell to Culham, 
who purchased a BL120 microfilm recorder (compatible with the SC4020).
The BL120 was a faster cheaper second-generation alternative that could process all SC4020 magnetic tapes. </p>
<p>Kate Sullivan took on the mammoth job of photographing the box of cards, 3 cards per photograph. Bob Hopgood
typed in the contents (making quite a few errors in the process) and David Duce produced a Java program that performed as 
close to the Fortran program as possible generating frames of SVG graphics 
that could be displayed approaching 24 frames per second to simulate the BL120 output. 
This uncovered quite a few errors in the card transcriptions that needed to be addressed.</p>
<p>Only  two cards of the deck were missing and we were able to deduce these
to arrive at a complete listing of the card deck:</p>

<pre id="flexipede_deck">JOB
LRF91PB1, A PRITCHETT BL120 TEST
INPUT
1 LEAP TRAJECTORY
2 WALK TABLE
OUTPUT
0 LINEPRINTER 2000 LINES
13 ANY 100 LINES
STORE 50/120 BLOCKS
TAPE
1 BL L0454*INHIBIT
TAPE IBM
14 LP099*PERMIT 556 DENSITY
COMPUTING 5 MINUTES
COMPILER FORTRAN
*RUN
*FORTRAN SOURCE
*LIBRARY TAPE 1 BLOCK 1
      BEGIN
      LM=12
      NS=11
      NAM=24
      BEGIN
      DIMENSION XK(NS,NAM),YK(NS,NAM),XFT(NS,NAM),YFT(NS,NAM),XBOD(NS)
      READ(2,2) XFT,YFT,XK,YK,XBOD
    2 FORMAT(1X,11F7.1)
C
      YSKULL=0
      YJAW=0
C
      INTEGER XS,YS,XF,YF
      REAL XSFTA,YSFTA,SBOT
      PI=3.1416
      PITCH=100
      D=48
      DX=8
      BB=19600
      DXSOL=40
      DFT=6
C
C SET UP SOLIPEDE
      DIMENSION YSOL(LM),XSFT(LM),YSFT(LM),XKS(LM),YKS(LM)
C
      DO (SETUP) L=1,LM
C
      READ(1,1) YSOL(L),YSFT(L)
    1 FORMAT(2F5.0)
C
      IF(YSFT(L)=0) XSFT(L)=DXSOL*(L-1)
      IF(YSFT(L).NE.0) XSFT(L)=XSFT(L-1)+DFT
C
      AY=YSOL(L)-YSFT(L)
      AA = XSFT(L)**2 + AY**2
      A = SQRT(AA)
      C = SQRT(BB-AA)
      XKSL(L) = (C*AY/A+XSFT(L))/2
      YKSL(L) = (AY - C*XSFT(L)/A)/2
C
SETUP CONTINUE
C
C PICTURE ARRAYS
      REAL (BODY(2,4)/
     1   50.,  5.,
     2  -50., -5.,
     3  -50.,205.,
     4   50.,195./
      NBODY=4
      REAL SOLIBOD(2,5)/
     1   50.,5.,
     2  -50.,-5.,
     3  -50.,205.,
     4   50.,195.,
     5   50.,5./
      NSOLIBOD=5
      REAL FOOT(2,4)/
     1  0.,0.,
     2  0.,-10.,
     3  40.,-10.,
     4  0.,0./
      NFOOT=4
      REAL SKULL(2,5)/
     1  50.,30.,
     2  50,.205.,
     3  150.,195.,
     4  230.,30.,
     5  50.,30./
      NSKULL=5
      REAL DJAW(2,5)/
     1  50.,30.,
     2  210.,30.,
     3  160.,0.,
     4  50.,-10.,
     5  50.,30./
      NJAW=5
      REAL EYE(2,8)/
     1  150.,140.,
     2  120.,140.,
     3  120.,170.,
     4  150.,170.,
     5  150.,150.,
     6  130.,150.,
     7  130.,160.,
     8  140.160./
      NEYE=8
      REAL PAD(2,11)/
     1  -25.,50.,
     2  -25.,30.,
     3  -20.,20.,
     4  -10.,12.,
     5  -3.,10.,
     6   0.,10.,
     7   0.,70.,
     8  -3.,70.,
     9  -10.,68.,
     /  -20.,60.,
     1  -25,50./
      NPAD=11
C
     REAL PL(4,4)/
    1  50.,50.,90.,110.,
    2  66.,25.,120.,70.,
    3  69.,10.,136.,30.,
    4  70.,0.,140.,6./
C
C MAIN PROGRAM
C
     CALL IDST
C
      NS=10
      L=1
      NEYE=2
      NA=1
C
C 1)FCROSS
      SCALE=0.5
      INVX=0
      GRND=903
      BOT=GRND+120
      XHEAD=-240
      NF=420
      CALL FLEXIGO
C
      NF=24
      CALL BLANK
C
C 2)SCROSS
      SCALE=0.2
      INVX=1
      SGRND=3250
      XSOL=-50
      NF=150
      CALL SOLIHOP
C
      NF=24
      CALL BLANK
C
C 3)FCROSS
      SCALE=0.75
      INVX=1
      GRND=420
      BOT=GRND+120
      XHEAD=-240
      NF=100
      CALL FLEXIGO
C
C 4)F STOPS, S APPEARS
      SGRND=2000
      XSOL=-1000
      NF=120
      NEYE=8
C

      DO(SPY) M=1,NF
      CALL ADVFLM(1)
      SCALE=0.75
      INVX=1
      CALL FLEXIPEDE
      SCALE=0.3
      INVX=0
      CALL LEAP
SPY   CALL SOLIPEDE
C
C 6) F CONTINUES
      SCALE=0.75
      INVX=1
      NEYE=2
      NF=300
      CALL FLEXIGO
C
      NF=24
      CALL BLANK
C
C 7) S FINAL CROSS

      SCALE=1
      INVX=1
      SGRND=296
      XSOL=-50
      NF=30
      CALL SOLIHOP
C
      NF=24
      CALL BLANK
C
C MEET
      GRND=296
      SGRND=GRND
      BOT=GRND+120
      XSOL=-190
      XHEAD=-250
      YSKULL=20
      SCALE=1
      INVX=0
      L=10
      NMEET=14
C
      DO(MEET) N=1,NMEET
      CALL ADVFLM(1)
      CALL LEAP
      CALL SOLIPEDE
MEET  CONTINUE
C
C GRAB
      XTONG=200
      CALL ADVFLM(1)
      CALL LEAP
      CALL SOLIPEDE
      CALL TONGUE
      CALL ADVFLM(1)
      CALL LEAP
      CALL SOLIPEDE
      XTONG=XSOL-50
      CALL TONGUE
C
C GRABHOLD
      NHA=24
      DO (GRAB) M=1,NF
      CALL ADVFLM(1)
      CALL SOLIPEDE
GRAB  CALL TONGUE
C
C ZOOM
      XPAN=15
      NZOOM=40
      NA=6
      SCNEW=0.6
      SCOLD=SCALE
      OD=1/SCOLD
      DD=(1/SCNEW-OD)/NZOOM
      ZZ=0
C
      DO (ZOOM) M=1,NZOOM
C
      D=1/SCOLD+DD*M
      SCALE=1/D
      Z=ZZ
      ZZ=512*(D*SCOLD-1)
      Z=ZZ-Z
      X=XPAN+Z
C
      CALL PAN
      CALL ADVFLM(1)
      CALL FLEXIPEDE
      CALL TONGUE
      CALL SOLIPEDE
ZOOM  CONTINUE
100   CONTINUE
C
      NHA=24
      CALL HOLD(1,NHA)
C
C OPEN
      OS=3
      OJ=0.673
      NOPEN=52
      DO (OPEN) M=1,NOPEN
      CALL ADVFLM(1)
      CALL OPEN(OS,OJ)
      CALL FLEXIPEDE
      CALL TONGUE
      CALL SOLIPEDE
OPEN  CONTINUE
C
      NHB=24
      CALL HOLD(1,NHB)
C
C PULL
      DPULL=150
      NPULL=3
      DO(PULL) N=1,NPULL
      CALL ADVFLM(1)
      XTONG=XTONG-DPULL
      XSOL=XTONG+50
      CALL FLEXIPEDE
      CALL TONGUE
      CALL PULSOL(N)
PULL   CONTINUE
C
C HLDIN
      NHLDIN=24
      XSOL=XHEAD+100
      DO (HLDIN) M=1,NHLDIN
      CALL ADVFLM(1)
      CALL FLEXIPEDE
      CALL PULSOL(4)
HLDIN CONTINUE
C
C GULP
      NS=11
      NA=NA+6
      X=50
      Z=0
      CALL PAN
      NGULP=24
      DO (GULP) M=1,NGULP
      CALL ADVFLM(1)
      CALL FLEXIPEDE
GULP  CONTINUE
C
C SHUT
      SS=-4
      SJ=-0.795
      NSHUT=44
      DO (SHUT) N=1,NSHUT
      CALL ADVFLM(1)
      CALL OPEN(SS,SJ)
      CALL FLEXIPEDE
SHUT  CONTINUE
C
      NHC=24
      CALL HOLD(2,NHC)
C
C  EXIT
      NEXIT=270
      DO(EXIT) N=1,NEXIT
      CALL ADVFLM(1)
      CALL WALK
      CALL FLEXIPEDE
EXIT  CONTINUE
C
      CALL IDEND
C
      STOP
C
      SUBROUTINE FLEXIPEDE
      DO(FLEX) N=1,NS
      CALL START (XHEAD-XBOD(N),BOT)
      CALL TO (XHEAD+XK(N,NA),BOT-YK(N,NA))
      CALL TO (XHEAD+XFT(N,NA),GRND+YFT(N,NA))
      CALL DRAW (FOOT, NFOOT, XHEAD+XFT(N,NA),GRND+YFT(N,NA))
      CALL DRAW(BODY, NBODY, XHEAD-XBOD(N), BOT)
FLEX  CONTINUE
C
      CALL DRAW (SKULL, NSKULL, XHEAD, BOT+YSKULL)
      CALL TO (XHEAD+DJAW(1,1), BOT+YJAW+DJAW(2,1))
      CALL DRAW (DJAW, NJAW, XHEAD, BOT+YJAW)
      CALL DRAW (EYE, NEYE, XHEAD, BOT+YSKULL)
C
      RETURN
      END
C
      SUBROUTINE SOLIPEDE
C
      CALL START(XSOL,SBOT)
      CALL TO(XSOL+XKS(L),SBOT-YKS(L))
      CALL TO(XSFTA,YSTFA)
      CALL DRAW(FOOT,NFOOT,XSFTA,YSTFA)
      CALL DRAW(SOLIBOD,NSOLIBOD,XSOL,SBOT)
      RETURN
      END
C
      SUBROUTINE WALK
      NA=NA+1
      IF(NA.GT.NAM) NA=1
      XHEAD=XHEAD+DX
      RETURN
      END
C
      SUBROUTINE LEAP
      L=L+1
      IF(L.GT.LM) L=1
      XSOL = XSOL+DXSOL
      SBOT = SGRND+YSOL(L)
      XSFTA = XSOL+XSFT(L)
      YSFTA = SGRND+YSFT(L)
      RETURN
      END
C
      SUBROUTINE OPEN(IS,IJ)
      YSKULL=YSKULL+IS
      YJAW=YJAW-IJ
      RETURN
      END
C
      SUBROUTINE TONGUE
      CALL DRAW(PAD,NPAD,XTONG,BOT)
      DO 1 K=1,2
      CALL START (XTONG+PAD(1,K), BOT+PAD(2,K))
    1 CALL TO (XHEAD+50,BOT+PAD(2,K))
      RETURN
      END
C
      SUBROUTINE HOLD(K,N)
      DO I = 1,N
      CALL ADVFLM(1)
      CALL FLEXIPEDE
      IF(K=1) BEGIN
      CALL SOLIPEDE
      CALL TONGUE
      END
    1 CONTINUE
      RETURN
      END
C
      SUBROTINE PULSOL(J)
      CALL DRAW (SOLIBOD,NSOLIBOD,XSOL,BOT)
      CALL START (XSOL,BOT)
      CALL TO  (XSOL+PL(1,J), BOT-PL(2,J))
      CALL DRAW (FOOT,NFOOT, XSOL+PL(3,J), BOT-PL(4,J))
      RETURN
      END
C
      SUBROUTINE FLEXIGO
      BOT=GRND+120
      DO 1 I=1,NF
      CALL ADVFLM(1)
      CALL WALK
      CALL FLEXIPEDE
    1 CONTINUE
      RETURN
      END
C
      SUBROUTINE SOLIHOP
      DO 1 I=1,NF
      CALL ADVFLM(1)
      CALL LEAP
      CALL SOLIPEDE
    1 CONTINUE
      RETURN
      END
C
      SUBROUTINE BLANK
      DO 1 I=1,NF
      CALL ADVFLM(1)
    1 CONTINUE
      RETURN
      END
C
      SUBROUTINE PAN
      XHEAD=XHEAD+X
      XSOL=XSOL+X
      XTONG=XTONG+X
      XSFTA=XSFTA+X
      YSFTA=YSFTA+2
      SGRND=SGRND+2
      GRND=GRND+2
      SBOT=SBOT+2
      BOT=GRND+120
      RETURN
      END
C
      SUBROUTINE START(XX,YY)
      XS=INT(XX*SCALE)
      YS =1023-INT(YY*SCALE)
      IF(INVX.NE.0) XS=1023-XS
      RETURN
      END
      SUBROUTINE TO(XX,YY)
      XF=INT(XX*SCALE)
      YF = 1023-INT(YY*SCALE)
      IF(INVX.NE.0) XF=1023-XF
      CALL VECTOR(XS,YS,XF,YF)
      XS=XF
      YS=YF
      RETURN
      END
      SUBROUTINE DRAW(FIG,N,XORGN,YORGN)
      DIMENSION FIG(2,N)
      XS = INT((FIG(1,1)+XORGN)*SCALE)
      YS = 1023-INT((FIG(2,1)+YORGN)*SCALE)
      IF(INVX.NE.0) XS=1023-XS
      DO 1 K=2,N
      XF = INT((FIG(1,K)+XORGN)*SCALE)
      YF = 1023-INT((FIG(2,K)+YORGN)*SCALE)
      IF(INVX.NE.0) XF=1023-XF
      CALL VECTOR(XS,YS,XF,YF)
      XS=XF
    1 YS=YF
      RETURN
      END
      END
      END
*ENTER
7/8 CARD
DATA
LEAP TRAJECTORY
   80    0
  120    0
  192   72
  248  138
  288  188
  312  222
  320  240
  312  232
  288  208
  248  168
  192  102
  120   20
7/8 CARD
</pre>
<pre id="datacards">DATA
WALK TABLE
    48.0 -100.0 -248.0 -300.0 -352.0 -500.0 -648.0 -700.0 -752.0 -900.0-1048.0
    40.0  -87.6 -246.4 -308.0 -360.0 -487.6 -646.4 -708.0 -760.0 -887.6-1046.4
    32.0  -76.0 -241.6 -316.0 -368.0 -476.0 -641.6 -716.0 -768.0 -876.0-1041.6
    24.0  -66.1 -233.9 -324.0 -376.0 -466.1 -633.9 -724.0 -776.0 -866.1-1033.9
    16.0  -58.4 -224.0 -332.0 -384.0 -458.4 -624.0 -732.0 -784.0 -858.4-1024.0
     8.0  -53.6 -212.4 -340.0 -392.0 -453.6 -612.4 -740.0 -792.0 -853.6-1012.4
     0.0  -52.0 -200.0 -348.0 -400.0 -452.0 -600.0 -748.0 -800.0 -852.0-1000.0
    -8.0  -60.0 -187.6 -346.4 -408.0 -460.0 -587.6 -746.4 -808.0 -860.0 -987.6
   -16.0  -68.0 -176.0 -341.6 -416.0 -468.0 -576.0 -741.6 -816.0 -868.0 -976.0
   -24.0  -76.0 -166.1 -333.9 -424.0 -476.0 -566.1 -733.9 -824.0 -876.0 -966.1
   -32.0  -84.0 -158.4 -324.0 -432.0 -484.0 -558.4 -724.0 -832.0 -884.0 -958.4
   -40.0  -92.0 -153.6 -312.4 -440.0 -492.0 -553.6 -712.4 -840.0 -892.0 -953.6
   -48.0 -100.0 -152.0 -300.0 -448.0 -500.0 -552.0 -700.0 -848.0 -900.0 -952.0
   -46.4 -108.0 -160.0 -287.6 -446.4 -508.0 -560.0 -687.6 -846.4 -908.0 -960.0
   -41.6 -116.0 -168.0 -276.0 -441.6 -516.0 -568.0 -676.0 -841.6 -916.0 -968.0
   -33.9 -124.0 -176.0 -266.1 -433.9 -524.0 -576.0 -661.1 -833.9 -924.0 -976.0
   -24.0 -132.0 -184.0 -258.4 -424.0 -532.0 -584.0 -658.4 -824.0 -932.0 -984.0
   -12.4 -140.0 -192.0 -253.6 -412.4 -540.0 -592.0 -653.6 -812.4 -940.0 -992.0
     0.0 -148.0 -200.0 -252.0 -400.0 -548.0 -600.0 -652.0 -800.0 -948.0-1000.0
    12.4 -146.4 -208.0 -260.0 -387.6 -546.4 -608.0 -660.0 -787.6 -946.4-1008.0
    24.0 -141.6 -216.0 -268.0 -376.0 -541.6 -616.0 -668.0 -776.0 -941.6-1016.0
    33.9 -133.9 -224.0 -276.0 -366.1 -533.9 -624.0 -676.0 -766.1 -933.9-1024.0
    41.6 -124.0 -232.0 -284.0 -358.4 -524.0 -632.0 -684.0 -758.4 -924.0-1032.0
    46.4 -112.4 -240.0 -292.0 -353.6 -512.4 -640.0 -692.0 -753.6 -912.4-1040.0

     0.0   30.0    0.0    0.0    0.0   30.0    0.0    0.0    0.0   30.0    0.0
     0.0   29.0    7.8    0.0    0.0   29.0    7.8    0.0    0.0   29.0    7.8
     0.0   26.0   15.0    0.0    0.0   26.0   15.0    0.0    0.0   26.0   15.0
     0.0   21.2   21.2    0.0    0.0   21.2   21.2    0.0    0.0   21.2   21.2
     0.0   15.0   26.0    0.0    0.0   15.0   26.0    0.0    0.0   15.0   26.0
     0.0    7.8   29.0    0.0    0.0    7.8   29.0    0.0    0.0    7.8   29.0
     0.0    0.0   30.0    0.0    0.0    0.0   30.0    0.0    0.0    0.0   30.0
     0.0    0.0   29.0    7.8    0.0    0.0   29.0    7.8    0.0    0.0   29.0
     0.0    0.0   26.0   15.0    0.0    0.0   26.0   15.0    0.0    0.0   26.0
     0.0    0.0   21.2   21.2    0.0    0.0   21.2   21.2    0.0    0.0   21.2
     0.0    0.0   15.0   26.0    0.0    0.0   15.0   26.0    0.0    0.0   15.0
     0.0    0.0    7.8   29.0    0.0    0.0    7.8   29.0    0.0    0.0    7.8
     0.0    0.0    0.0   30.0    0.0    0.0    0.0   30.0    0.0    0.0    0.0
     7.8    0.0    0.0   29.0    7.8    0.0    0.0   29.0    7.8    0.0    0.0
    15.0    0.0    0.0   26.0   15.0    0.0    0.0   26.0   15.0    0.0    0.0
    21.2    0.0    0.0   21.2   21.2    0.0    0.0   21.2   21.2    0.0    0.0
    26.0    0.0    0.0   15.0   26.0    0.0    0.0   15.0   26.0    0.0    0.0
    29.0    0.0    0.0    7.8   29.0    0.0    0.0    7.8   29.0    0.0    0.0
    30.0    0.0    0.0    0.0   30.0    0.0    0.0    0.0   30.0    0.0    0.0
    29.0    7.8    0.0    0.0   29.0    7.8    0.0    0.0   29.0    7.8    0.0
    26.0   15.0    0.0    0.0   26.0   15.0    0.0    0.0   26.0   15.0    0.0
    21.2   21.2    0.0    0.0   21.2   21.2    0.0    0.0   21.2   21.2    0.0
    15.0   26.0    0.0    0.0   15.0   26.0    0.0    0.0   15.0   26.0    0.0
     7.8   29.0    0.0    0.0    7.8   29.0    0.0    0.0    7.8   29.0    0.0
     
    49.0  -46.4 -199.0 -263.9 -351.0 -446.4 -599.0 -663.9 -751.0 -846.4 -999.0
    48.5  -41.5 -191.0 -268.2 -351.5 -441.5 -591.0 -668.2 -751.5 -841.5 -991.0
    47.2  -39.1 -182.3 -273.2 -352.8 -439.1 -582.3 -673.2 -752.8 -839.1 -982.3
    45.3  -39.0 -172.9 -278.7 -354.7 -439.0 -572.9 -678.7 -754.7 -839.0 -972.9
    42.8  -40.7 -163.1 -284.8 -357.2 -440.7 -563.1 -684.8 -757.2 -840.7 -963.1
    39.8  -44.6 -153.9 -291.5 -360.2 -444.6 -553.9 -691.5 -760.2 -844.6 -953.9
    36.1  -51.0 -146.4 -299.0 -363.9 -451.0 -546.4 -699.0 -763.9 -851.0 -946.4
    31.8  -51.5 -141.5 -291.0 -368.2 -451.5 -541.5 -691.0 -768.2 -851.5 -941.5
    26.8  -52.8 -139.1 -282.3 -373.2 -452.8 -539.1 -682.3 -773.2 -852.8 -939.1
    21.3  -54.7 -139.0 -272.9 -378.7 -454.7 -539.0 -672.9 -778.7 -854.7 -939.0
    15.2  -57.2 -140.7 -263.1 -384.8 -457.2 -540.7 -663.1 -784.8 -857.2 -940.7
     8.5  -60.2 -144.6 -253.9 -391.5 -460.2 -544.6 -653.9 -791.5 -860.2 -944.6
     1.0  -63.9 -151.0 -246.4 -399.0 -463.9 -551.0 -646.4 -799.0 -863.9 -951.0
     9.0  -68.2 -151.5 -241.5 -391.0 -468.2 -551.5 -641.5 -791.0 -868.2 -951.5
    17.7  -73.2 -152.8 -239.1 -382.3 -473.2 -552.8 -639.1 -782.3 -873.2 -952.8
    27.1  -78.7 -154.7 -239.0 -372.9 -478.7 -554.7 -639.0 -772.9 -878.7 -954.7
    36.9  -84.8 -157.2 -240.7 -363.1 -484.8 -557.2 -640.7 -763.1 -884.8 -957.2
    46.1  -91.5 -160.2 -244.6 -353.9 -491.5 -560.2 -644.6 -753.9 -891.5 -960.2
    53.6  -99.0 -163.9 -251.0 -346.4 -499.0 -563.9 -651.0 -746.4 -899.0 -963.9
    58.5  -91.0 -168.2 -251.5 -341.5 -491.0 -568.2 -651.5 -741.5 -891.0 -968.2
    60.9  -82.3 -173.2 -252.8 -339.1 -482.3 -573.2 -652.8 -739.1 -882.3 -973.2
    61.0  -72.9 -178.7 -254.7 -339.0 -472.9 -578.7 -654.7 -739.0 -872.9 -978.7
    59.3  -63.1 -184.8 -257.2 -340.7 -463.1 -584.8 -657.2 -740.7 -863.1 -984.8
    55.4  -53.9 -191.5 -260.2 -344.6 -453.9 -591.5 -660.2 -744.6 -853.9 -991.5
    
    50.0   45.0   70.0   60.0   50.0   45.0   70.0   60.0   50.0   45.0   70.0
    50.5   38.4   69.4   62.4   50.5   38.4   69.4   62.4   50.5   38.4   69.4
    51.7   34.5   67.7   64.6   51.7   34.5   67.6   64.6   51.7   34.5   67.7
    53.3   34.2   64.5   66.7   53.3   34.2   64.5   66.7   53.3   34.2   64.5
    55.4   37.3   59.5   68.3   55.4   37.3   59.5   68.3   55.4   37.3   59.5
    57.6   42.8   52.7   69.5   57.6   42.8   52.7   69.5   57.6   42.8   52.7
    60.0   50.0   45.0   70.0   60.0   50.0   45.0   70.0   60.0   50.0   45.0
    62.4   50.5   38.4   69.4   62.4   50.5   38.4   69.4   62.4   50.5   38.4
    64.6   51.7   34.5   67.7   64.6   51.7   34.5   67.7   64.6   51.7   34.5
    66.7   53.3   34.2   64.5   66.7   53.3   34.2   64.5   66.7   53.2   34.2
    68.3   55.4   37.3   59.5   68.3   55.4   37.2   59.5   68.3   55.4   37.3
    69.5   57.6   42.8   52.7   69.5   57.6   42.0   52.7   69.5   57.6   42.8
    70.0   60.0   50.0   45.0   70.0   60.0   50.0   45.0   70.0   60.0   50.0
    69.4   62.4   50.5   38.4   69.4   62.4   50.5   38.4   69.4   62.4   50.5
    67.7   64.6   51.7   34.5   67.7   64.6   51.7   34.5   67.7   64.6   51.7
    64.5   66.7   53.3   34.2   64.5   66.7   53.3   34.2   64.5   66.7   53.3
    59.5   68.3   55.4   37.3   59.5   68.3   55.4   37.9   59.5   68.3   55.4
    52.7   69.5   57.6   42.8   52.7   69.5   57.6   42.8   52.7   69.5   57.6
    45.0   70.0   60.0   50.0   45.0   70.0   60.0   50.0   45.0   70.0   60.0
    38.4   69.4   62.4   50.5   38.4   69.4   62.4   50.5   38.4   69.4   62.4
    34.5   67.7   64.6   51.7   34.5   67.7   64.6   51.7   34.5   67.7   64.6
    34.2   64.5   66.7   53.3   34.2   64.5   66.7   53.3   34.2   64.5   66.7
    37.3   59.5   68.3   55.4   37.3   59.5   68.3   55.4   37.3   59.5   68.3
    42.8   52.7   69.5   57.6   42.8   52.7   69.5   57.6   42.8   52.7   69.5
     0.0  100.0  200.0  300.0  400.0  500.0  600.0  700.0  800.0  900.0 1000.0
</pre>





Four  subroutines were not found called IDST, IDEND, ADVFLM and VECTOR. 
It turned out that these were provided as <a href="http://www.chilton-computing.org.uk/acl/applications/hartran/p020.htm">BAS</a> cards. 
We decided against reconstructing the Atlas instructions from the BAS binary cards and then trying to work out what the original 
Fortran code was.



<p>Later, Kate found in her archive confirmation that Tony had made  visits to  Aldermaston, Culham and Chilton
to see if he could get access to the Culham BL120 or the Aldermaston SC4020 and was offered access to the BL120.
Paul Nelson at Chilton offered him a Hartran Fortran version of the basic SC4020 SCORS code for generating IBM-compatible magnetic tapes for either the 
BL120 or the SC4020. As these were written for Hartran&#39;s Fortran compiler, Tony used these as the basis of a rewrite in London&#39;s Fortran V.
The result was the BAS subroutines IDST, IDEND, ADVFLM and VECTOR which Tony used on a number of projects.
To give some idea of the code, Woody Anderson did a similar recoding for the IBM 360 
which he published in the <a href="http://www.chilton-computing.org.uk/acl/technology/sc4020/p011.htm#Cp1p6">UAIDE Proceedings for 1970</a>. 

Tony&#39;s Fortran deck included a large set of data cards giving all the positions of the flexipede legs
An earlier program must have pre-calculated these to save time in short development runs.</p>
<h2 id="c4">4. Approach</h2>
<p>The ultimate goal was a Scalable Vector Graphics (SVG) definition of The Flexipede using either Javascript  
or <a href="http://www.content-animation.org.uk/declarative_animation/index.htm">SVG&#39;s declarative animation</a>
that was as close to the original as possible. The ability to repeat an animation cycle via the <em>repeatCount</em> attribute
in SVG would greatly reduced the size of the completed SVG document.</p>


To understand the Flexipede program itself, the decision was made for David Duce to reprogram it in Java
and for Bob Hopgood to focus on generating an animation that used the full power of SVG.
<!--
</p>
<p style="text-align:center"><img  src="david_duce.jpg" width="219" height="203" /></p>
<h5 class="heading"><a  target="new" href="david_duce.jpg">Large View</a></h5>
<h3 class="figtitle">David Duce demonstrating an embryonic version of SVG, December 1998</h3>
<p>
-->
Although the Flexipede Program is not overly long, some of the code around the 
algorithms used was worth reprogramming to ensure correctness.
<p>The titles at the beginning and end were not part of the Flexipede Fortran program. 
Tony had mentioned to Kate that he had done these using Letraset and  Kate  found the original Letraset artwork in the archive
and was able to produce a good rendering of these.</p>
<p>The existing sound track needed some filtering to make it sound more like the original. Paul Hopgood obliged.</p>
<p>The graphics package used was unknown initially but eventually it was clear that it was a low level set of routines that just took
coordinates defined on the 1023 by 1023 grid of the microfilm recorder and output vectors given the start and end positions.</p>
<h2 id="c4p1">4.1 The Java Approach</h2>
<p>The aim here was to answer the question <em>Is it feasible that the Fortran we have was used to
create The Flexipede animation?</em>
To an author whose first exposure to Fortran was through Fortran IV in the early 1970s,
the code raised a few issues. Firstly, it contains DO loops with alphabetic labels, e.g.
</p>
<pre>      DO (GULP) M=1,NGULP
      CALL ADVFLM(1)
      CALL FLEXIPEDE
GULP  CONTINUE
</pre>
<p>
Secondly the program structure was unusual:
</p>
<pre>       BEGIN
       ...
       STOP
       SUBROUTINE  FLEXIPEDE
       ...
       RETURN
       END
       ...
       SUBROUTINE ...
       ...
       RETURN
       END
       END
       END
</pre>
<p>
Looking at the data flow through the program, some variables were passed through
subroutine arguments, other variables were clearly shared, but the program didn&#39;t use COMMON blocks to 
achieve sharing. It appeared that the dialect of Fortran used supported block structuring in a
similar manner to Algol and PL/1.
In the absence of any Fortran compiler with these features it was decided, for pragmatic reasons, to translate the program into Java where it was straightforward
to match this structure.
Since this work was done, a <a href="http://www.chilton-computing.org.uk/acl/pdfs/fortran_v.pdf">Fortran V manual</a> from ULCC (dated May 1967) 
has come to light in Tony&#39;s archive. This describes these Fortran extensions so we are confident this is the Fortran dialect used.
</p>
<p>The aim of the Java translation was then to generate a frame-based animation from output &#34;similar&#34; to that produced by the original program. 
The  four subroutines not defined in the Fortran card deck but via BAS cards were:
</p>
<pre>IDST       ADVFLM(N)     VECTOR(XS,YS,XF,YF)      IDEND
</pre>
<p>
The subroutine ADVFLM was always called with argument 1.
We initially guessed, correctly, that IDST and IDEND were microfilm recorder initialisation and termination routines, 
ADVFLM advanced the film to a new frame and VECTOR drew a vector from (XS, YS) to (XF, YF) in the 1023 by 1023 coordinate system.
Rather than generate graphical output directly from the Fortran program we generated a trace file that recorded invocations of these routines and their argument values along with a lot of other tracing information that was used during debugging and to better understand how the program was working.
</p>
<p>The trace file was then converted to Scalable Vector Graphics (SVG) for display using a simple
script written in the awk scripting language.
Output from IDST and IDEND was translated to startup and termination markup.
Output from VECTOR was directly translated to SVG line elements:
</p>
<pre>&lt;line x1=&#39;XS&#39; y1=&#39;YS&#39; x2=&#39;XF&#39; y2=&#39;YF&#39; /&gt;
</pre>
<p>ADVFLM calls in the trace were translated into SVG group (g) elements so that the content of each frame was
wrapped in a g element. An id attribute containing the frame number was added to each g element.
For example:
</p>
<pre>&lt;g id=&#39;f8&#39; class=&#39;frameInvis&#39;&gt;
&lt;line x1=&#39;-84.00&#39; y1=&#39;511.00&#39; x2=&#39;-73.00&#39; y2=&#39;545.00&#39; /&gt;
...
&lt;/g&gt;
</pre>
<p>
The style associated with the class attribute made the group invisible (frameInvis) or visible
(frameVis). Initially, all groups except the first were made invisible.
JavaScript code was added to control the animation. The control panel at the top of the 
<a href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/java_flexipede.htm">web document</a> is shown below.</p>
<p><img src="https://www.chilton-computing.org.uk/acl/htmls/flexipede/javascript_fig_1.png" alt="Screen shot of the animation control panel" width="796" height="83"/></p>
<h3>Animation Control Panel</h3>
<p>
When the Run button is pressed a JavaScript function is invoked which in turn calls another function, 
UpdateAnimation() at specified intervals (24 times per second). 
Update animation changes the value of the class attribute of the currently visible group from frameVis to frameInvis and the next group from frameInvis to frameVis, thereby cycling through all the frames in turn. 
When the maximum frame count is reached the animation recycles to frame 0.
Pressing the Stop button halts the animation. 
It turned out to be very useful in understanding the code to be able to step through the animation frame by frame (button Step) and 
to set a starting frame for this (number input box and button Set Start Frame). </p>
<p>It was by stepping through the animation frame-by-frame, in conjunction with examining the program and trace output that we discovered some transcription errors in
the data cards and worked out how the flexipede is lengthened when the solipod (effectively solipede) is swallowed.</p>
<p>The SVG animation generated in this way is an 8.3 MB document. Representing each graphical element in the animation by a separate SVG line element is very inefficient so an additional post-processing step
was added to replace sets of line elements by more compact path elements. The advantage of doing
this in a post processing step was that no changes were required to the original program.</p>
<h2 id="c5">5. Reprogramming Flexipede in SVG</h2>
<h3 id="c5p1">5.1 Body Parts</h3>
<p>The body parts are defined by the arrays BODY, SOLIBOD, FOOT, SKULL, DJAW, EYE and PAD at the beginning
of the program:</p>
<p>
<svg id="bodyparts" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="315" height="180">


<defs>
<path id="flexleg01_1" d="M0,0    l 49.0,  50.0  l  -1.0, 70.0l0,10 l40,0 l-40,-10"></path>
<path id="flexleg01_2" d="M0,0    l 53.6,  45.0  l -53.6, 45.0l0,10 l40,0 l-40,-10"></path>
<path id="flexleg01_3" d="M0,0    l  30.0,  70.0  l -29.0, 50.0l0,10 l40,0 l-40,-10"></path>
<path id="flexleg01_4" d="M0,0    l 36.1,  60.0  l -36.1, 60.0l0,10 l40,0 l-40,-10"></path>

</defs>
<g transform="scale(0.45)">
<!--<rect class="background" width="700" height="400"/>-->
<g transform="translate(100,70)">
<g transform="scale(0.5)">
<path id="body" transform="translate(  0,100)scale(1,-1)" d="M50 5 L -50 -5 -50 205 50 195"></path>

<path id="skull" transform="translate(200,100)scale(1,-1)" d="M50 30 L50 205 150 195 230 30 50 30"></path>
<path id="jaw" transform="translate(400,100)scale(1,-1)" d="M50 30 L210 30 160 0 50 -10 50 30"></path>
<path id="eye" transform="translate(550,100)scale(1,-1)" d="M150 140 L120 140 120 170 150 170 150 150 130 150 130 160 140 160"></path>
<path id="solibod" transform="translate(900,100)scale(1,-1)" d="M50 5 L-50 -5 -50 205 50 195 50 5"></path>
<path id="pad" transform="translate(1100,100)scale(1,-1)" d="M-25,50 L-25,30,-20,20,-10,12,-3,10,0,10,0,70,-3,70,-10,68-20,60,-25,50"></path>
</g>
<text transform="translate(  0,100)">BODY</text>
<text transform="translate(70,100)">FOOT</text>
<text transform="translate(170,100)">SKULL</text>
<text transform="translate(260,100)">DJAW</text>
<text transform="translate(350,100)">EYE</text>
<text transform="translate(460,100)">SOLIBOD</text>
<text transform="translate(550,100)">PAD</text>
</g>
<text transform="translate(300,380)">FLEXIPEDE PARTS TOGETHER PLUS LEGS</text>
<g transform="translate(500,290)">
<g transform="scale(0.5,-0.5)">
<path d="
M50 30 L50 205 150 195 230 30 50 30 
M50 30 L210 30 160 0 50 -10 50 30 
M150 140 L120 140 120 170 150 170 150 150 130 150 130 160 140.160"></path>
<path d="M50 5 L -50 -5 -50 205 50 195"></path>
<path d="M-50 5 l -100 -10 v 200l 100 -10"></path>
<path d="M-150 5 l -100 -10 v 200l 100 -10"></path>
<path d="M-250 5 l -100 -10 v 200l 100 -10"></path>
<path d="M-350 5 l -100 -10 v 200l 100 -10"></path>
<path d="M-450 5 l -100 -10 v 200l 100 -10"></path>
<path d="M-550 5 l -100 -10 v 200l 100 -10"></path>
<path d="M-650 5 l -100 -10 v 200l 100 -10"></path>
<path d="M-750 5 l -100 -10 v 200l 100 -10"></path>
<path d="M-850 5 l -100 -10 v 200l 100 -10"></path>
</g>
<use transform="translate(0,0)scale(0.5)" xlink:href="#flexleg01_1"></use>
<use transform="translate(-50,0)scale(0.5)" xlink:href="#flexleg01_2"></use>
<use transform="translate(-100,0)scale(0.5)" xlink:href="#flexleg01_3"></use>
<use transform="translate(-150,0)scale(0.5)" xlink:href="#flexleg01_1"></use>
<use transform="translate(-200,0)scale(0.5)" xlink:href="#flexleg01_2"></use>
<use transform="translate(-250,0)scale(0.5)" xlink:href="#flexleg01_3"></use>
<use transform="translate(-300,0)scale(0.5)" xlink:href="#flexleg01_1"></use>
<use transform="translate(-350,0)scale(0.5)" xlink:href="#flexleg01_2"></use>
<use transform="translate(-400,0)scale(0.5)" xlink:href="#flexleg01_3"></use>
<use transform="translate(-450,0)scale(0.5)" xlink:href="#flexleg01_1"></use>

</g>
</g>
</svg>

</p>
 
<p>The SKULL and JAW are separate so that the flexipede can open  up its head to swallow the solipede.
Only the first two lines of the eye are normally drawn but the full eye is drawn  when the solipede passes overhead.
PAD is the suction end of the flexipede&#39;s tongue.</p>
<h3 id="c5p2">5.2 Story Board</h3>
<p>The <em>storyboard</em> of the animation is quite simple where the numbers indicate the number of frames of the activity:
(1) Flexipede lumbers across screen from Left to Right (420 then 24 blank), 
(2) Solipede bounces across from Right to Left (150 frames then 24 blank),
(3) Flexipede returns from R to L, stops as solipede bounces over its head,  continues off  R (100, 120, 300),
(4) Solipede bounces  fast from R to L and starts returning L to R when it is caught by a large tongue (34, 14, 2),
(5) Pause then pan and zoom showing the long tongue of the flexipede and another pause (24, 40, 24),
(6) The flexipede&#39;s jaws open, hold,  tongue pulls solipede in, it  is then swallowed (gulp)  increasing flexipede&#39;s  size by one segment, jaws close,  hold, (52, 24, 3, 24, 24, 44)
(7) The satisfied flexipede crosses from R to L (270).
The flexipede and solipede sizes change on each crossing.</p>
<p>Effectively the flexipede and solipede only travel from left to right at full size but two variables 
adjust the size and flip the coordinate in the X-direction about
the centre so that right-to-left and left-to-right traversals at various sizes can be easily achieved.</p>
<p>Accompanying the animation is a sound track of a flexipede that needs oiling 
and a sprightly bouncing solipede that Tony created.
Tony told Kate  that he created the film&#39;s soundtrack
recording the sound of a squeaky office chair, 
a garage hoist, a jaw harp and himself gulping using a domestic Philips reel-to-reel tape recorder
belonging to the sister of his friend, Hugh &#39;Ras&#39; Riddle.</p>
<p>(Tony went on to create the installation &#39;Sidebands&#39; with Ras, which, along with The Flexipede, was exhibited at 
Cybernetic Serendipity, 1968.)
Tony told Kate that the sound was sneakily recorded at night at Ras&#39;s workplace - a basement lab in the medical electronics research 
department of Bart&#39;s Hospital.</p>
<p>Tony: &#34;There was no security in those days!&#34;</p>
<p>The timings for the various events defined in the program matched those in The Flexipede film
except that the holds between scenes were not the same in the released film version. 
Our guess is that additional blank frames were inserted at some later stage,
presumably to fit the soundtrack exactly to where it should be relative to the animation and titles.</p>
<h3 id="c5p3">5.3 Flexipede Walk</h3>
<p>The <a href="#datacards">Flexipede walk</a>  is  defined by a set of arrays (XK, YK, XFT, YFT, XBOD) 
giving the absolute positions of the 11 legs
for the 24 positions of the animation cycle which are read in from  data cards. 
Using absolute position values somewhat
obscures the fact that the leg movements are in a cycle of four (the 5th segment of the flexipede has the same leg movement as the first,
the 6th the same as the second and so on. Also,  the 2nd leg cycle is the same as the first but displaced by 6 places, 
the 3rd displaced by 12 and the 4th displaced by 18. So one leg cycle provides all the information needed to create the animation of all the legs.</p>
<p>The path of each  leg is from the top of the  leg to the knee and then to  
the start of the foot with the same horizontal foot for each position. </p>

The array XBOD defines the positions of the individual segments which was one of the missing cards but easily guessed and the other missing card 
was the final YFT positions which had to be guessed/interpolated.
Using absolute position values somewhat
obscures the fact that the leg movements are in a cycle of four,  that is the fifth segment of the flexipede has the same leg movement as the first,
the sixth the same as the second and so on. The walk, therefore, in relative coordinates, only needs the 
first four of the 11 entries. 
Also,  the second leg cycle is the same as the first but displaced by 6 places, the third displaced by 12 and the fourth displaced by 18.
So actually one leg cycle provides all the information needed.
<p>The walk tables define (XFT, YFT), (XK, YK) for the 24 frames in the walk cycle.</p>
<p>The path of each  leg is basically the top of the  leg at (0,GRND+120), the knee at  
(XK,YK) and the start of the foot at (XFT,GRND+YFT). The coordinate system had the Y axis going upwards while the microfilm recorders had it going downwards.
Changing the Y to go downwards with the origin at the top of the leg
gives us an SVG path of:</p>
<pre>M0,0 l XK,YK l XFT-XK,120-YFT-YK  l 0,10 l40,0 l-40,-10
</pre>
<p><span>M</span> defines the position at the top of the leg, <span>l</span> gives the X,Y distances from the previous point. The last three <span>l</span> values define the foot.</p>
<p>So in relative coordinates, the first leg cycle before the foot is:</p>
<pre>M0,0    l 49.0,  50.0  l  -1.0, 70.0      M0,0    l 48.5,  50.5  l  -8.5, 69.5      M0,0    l 47.2,  51.7  l -15.2, 68.3
M0,0    l 45.3,  53.3  l -21.3, 66.7      M0,0    l 42.8,  55.4  l -26.8, 64.0      M0,0    l 39.8,  57.6  l -31.8, 62.4

M0,0    l 36.1,  60.0  l -36.1, 60.0      M0,0    l 31.8,  62.4  l -39.8, 57.6      M0,0    l 26.8,  64.6  l -42.8, 55.4
M0,0    l 21.3,  66.7  l -45.3, 53.3      M0,0    l 15.2,  68.3  l -47.2, 51.7      M0,0    l  8.5,  69.5  l -48.5, 50.5

M0,0    l  1.0,  70.0  l -49.0, 50.0      M0,0    l  9.0,  69.4  l -55.4, 42.8      M0,0    l 17.7,  67.7  l -59.3, 37.3
M0,0    l 27.1,  64.5  l -61.0, 34.3      M0,0    l 36.9,  59.5  l -60.9, 34.5      M0,0    l 46.1,  52.7  l -58.5, 38.3

M0,0    l 53.6,  45.0  l -53.6, 45.0      M0,0    l 58.5,  38.4  l -46.1, 52.6      M0,0    l 60.9,  34.5  l -36.9, 59.5
M0,0    l 61.0,  34.2  l -27.1, 64.6      M0,0    l 59.3,  37.3  l -17.7, 67.7      M0,0    l 55.4,  42.8  l  -9.0, 69.4
</pre>
<p>The second leg cycle starts:</p>
<pre>M0,0    l 53.6,  45.0  l -53.6, 45.0      M0,0    l 58.5,  38.4  l -46.1, 52.6      M0,0    l 60.9,  34.5  l -36.9, 59.5
</pre>
<p>The third leg cycle starts:</p>
<pre>M0,0    l  1.0,  70.0  l -49.0, 50.0      M0,0    l  9.0,  69.4  l -55.4, 42.8      M0,0    l 17.7,  67.7  l -59.3, 37.3
</pre>
<p>The fourth leg cycle starts:</p>
<pre>M0,0    l 36.1,  60.0  l -36.1, 60.0      M0,0    l 31.8,  62.4  l -39.8, 57.6      M0,0    l 26.8,  64.6  l -42.8, 55.4
</pre>



<p>The 24 leg positions are shown below. The dashed lines are the starting positions from right to left
of the animation of the first four legs which then get repeated for the following legs.</p>

<p>Going from right to left, the foot positions move backwards along the ground then come forward on the curve of a circle.
The knee positions are calculated using a similar algorithm we believe to that which is used for the 
solipede.</p>
<p>
<svg id="legdef" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="450" height="210">

<defs>
<marker id="arrend" refX="4.5" refY="3" markerWidth="6" markerHeight="6" orient="auto">
<path d="M 0.75 3 L0.75 0.75 5.25 3 0.75 5.25z"></path>
</marker>
</defs>

<!--<rect class="background" width="450" height="210" />-->
<g transform="translate(120,10)scale(1.2)">
<path d="M0,0 v30 l 100,-10"></path>  
<g transform="translate(50,25)">
<path d="M0,0    l 49.0,  50.0  l  -1.0, 70.0  l0,10 l40,0 l-40,-10"></path>

<path d="M48,120L40,120L32,120L24,120L16,120L8,120L0,120L-8,120L-16,120L-24,120L-32,120L-40,120
L-48,120L-46.4,112.2L-41.6,105L-33.9,98.8L-24,94L-12.4,91L0,90L12.4,91L24,94L33.9,98.8L41.6,112.2L46.4,120
"></path>
<path marker-end="url(#arrend)" d="M0,125 h-40"></path>
<path marker-end="url(#arrend)" d="M-15,105 c10,-4,20,-4,30,0"></path>

<path marker-end="url(#arrend)" d="M40,63 c-4,4,-8,7,-12,9"></path>
<path marker-end="url(#arrend)" d="M26,58 c4,-2,8,-5,12,-9"></path>
<path marker-end="url(#arrend)" d="M65,40 c-4,8,-8,11,-12,13"></path>


<circle style="opacity:0.52" cx="48" cy="120" r="1.5"></circle>
<circle style="opacity:0.54" cx="40" cy="120" r="1.5"></circle>
<circle style="opacity:0.56" cx="32" cy="120" r="1.5"></circle>
<circle style="opacity:0.58" cx="24" cy="120" r="1.5"></circle>
<circle style="opacity:0.60" cx="16" cy="120" r="1.5"></circle>
<circle style="opacity:0.62" cx="8" cy="120" r="1.5"></circle>
<circle style="opacity:0.64" cx="0" cy="120" r="1.5"></circle>
<circle style="opacity:0.66" cx="-8" cy="120" r="1.5"></circle>
<circle style="opacity:0.68" cx="-16" cy="120" r="1.5"></circle>
<circle style="opacity:0.70" cx="-24" cy="120" r="1.5"></circle>
<circle style="opacity:0.72" cx="-32" cy="120" r="1.5"></circle>
<circle style="opacity:0.74" cx="-40" cy="120" r="1.5"></circle>
<circle style="opacity:0.76" cx="-48" cy="120" r="1.5"></circle>
<circle style="opacity:0.78" cx="-46.4" cy="112.2" r="1.5"></circle>
<circle style="opacity:0.80" cx="-41.6" cy="105" r="1.5"></circle>
<circle style="opacity:0.82" cx="-33.9" cy="98.8" r="1.5"></circle>
<circle style="opacity:0.84" cx="-24" cy="94" r="1.5"></circle>
<circle style="opacity:0.86" cx="-12.4" cy="91" r="1.5"></circle>
<circle style="opacity:0.88" cx="0" cy="90" r="1.5"></circle>
<circle style="opacity:0.90" cx="12.4" cy="91" r="1.5"></circle>
<circle style="opacity:0.92" cx="24" cy="94" r="1.5"></circle>
<circle style="opacity:0.94" cx="33.9" cy="98.8" r="1.5"></circle>
<circle style="opacity:0.96" cx="41.6" cy="112.2" r="1.5"></circle>
<circle style="opacity:0.98" cx="46.4" cy="120" r="1.5"></circle>


<!--
<circle class="bl" style="opacity:0.52" cx="49" cy="50" r="0.5"/>
<circle class="bl" style="opacity:0.54" cx="48.5" cy="50.5" r="0.5"/>
<circle class="bl" style="opacity:0.56" cx="47.2" cy="51.7" r="0.5"/>
<circle class="bl" style="opacity:0.58" cx="45.3" cy="53.3" r="0.5"/>
<circle class="bl" style="opacity:0.60" cx="42.8" cy="55.4" r="0.5"/>
<circle class="bl" style="opacity:0.62" cx="39.8" cy="57.6" r="0.5"/>
<circle class="bl" style="opacity:0.64" cx="36.1" cy="60" r="0.5"/>
<circle class="bl" style="opacity:0.66" cx="31.8" cy="62.4" r="0.5"/>
<circle class="bl" style="opacity:0.68" cx="26.8" cy="64.6" r="0.5"/>
<circle class="bl" style="opacity:0.70" cx="21.3" cy="66.7" r="0.5"/>
<circle class="bl" style="opacity:0.72" cx="15.2" cy="68.3" r="0.5"/>
<circle class="bl" style="opacity:0.74" cx="8.5" cy="69.5" r="0.5"/>
<circle class="bl" style="opacity:0.76" cx="1" cy="70" r="0.5"/>
<circle class="bl" style="opacity:0.78" cx="9" cy="69.4" r="0.5"/>
<circle class="bl" style="opacity:0.80" cx="17.7" cy="67.7" r="0.5"/>
<circle class="bl" style="opacity:0.82" cx="27.1" cy="64.5" r="0.5"/>
<circle class="bl" style="opacity:0.84" cx="36.9" cy="59.5" r="0.5"/>
<circle class="bl" style="opacity:0.86" cx="46.1" cy="52.7" r="0.5"/>
<circle class="bl" style="opacity:0.88" cx="53.6" cy="45" r="0.5"/>
<circle class="bl" style="opacity:0.90" cx="58.5" cy="38.4" r="0.5"/>
<circle class="bl" style="opacity:0.92" cx="60.9" cy="34.5" r="0.5"/>
<circle class="bl" style="opacity:0.94" cx="61" cy="34.2" r="0.5"/>
<circle class="bl" style="opacity:0.96" cx="59.3" cy="37.3" r="0.5"/>
<circle class="bl" style="opacity:0.98" cx="55.4" cy="42.8" r="0.5"/>
-->
<!--
<path class="line" transform="translate(0,3)" d="
M49,50L48.5,50.5L47.2,51.7L45.3,53.3L42.8,55.5L39.8,57.6L36.1,60L31.8,62.4L26.8,64.6L21.3,66.7L15.2,68.3L8.5,69.5L1,70
"/>
<path class="line"  transform="translate(0,-3)" d="M1,70L9,69.4L17.7,67.7L27.1,64.5L36.9,59.5L46.1,52.7L53.6,45L58.5,38.4L60.9,34.5L61,34.2L59.3,37.3L55.4,42.8
"/>
-->
<path transform="translate(0,1)" d="
M49,50C48.5,50.5,47.2,51.7,45.3,53.3C42.8,55.5,39.8,57.6,36.1,60C31.8,62.4,26.8,64.6,21.3,66.7C15.2,68.3,8.5,69.5,1,69
"></path>
<path transform="translate(0,-1)" d="
M1,71C9,69.4,17.7,67.7,27.1,64.5C36.9,59.5,46.1,52.7,53.6,45C58.5,38.4,60.9,34.5,61,34.2

"></path>
<path transform="translate(0,1)" d="
M61,32.2C59.3,37.3,55.4,42.8,49,50
"></path>
<path d="M-200,133 h400"></path>
<circle cx="0" cy="0" r="1.5"></circle>
<circle cx="49" cy="52" r="1.5"></circle>
<circle cx="48" cy="120" r="1.5"></circle>
<text x="-70" y="90">Foot positions</text>
<text x="70" y="40">Knee positions</text>
</g>
</g>
</svg>
</p>
<h3>The Flexipede Walk</h3>
<p>For each traversal of the flexipede variables are set to give its size and direction of travel. For the initial walk the legs cycle through the 24 positions 
as the flexipede traverses the screen over 420 frames. At 24 frames per cycle that amounts to 17.5 repeats which SVG can handle so only a single 24 loop needs to be declared
but with a <em>repeatCount</em> attribute set to 17.5. </p>


<h3 id="c5p4">5.4 Solipede Leap</h3>
<p>The path  of the Solipede is defined by the leap trajectory which gives the Y position of  the top of leg 
and how far the foot is off the ground for a 12-frame  rather than 24-frame cycle. Most of the y-values are defined as:</p>
<p>y = -72 + 112Ã—t - Â½Ã—16Ã—t<sup>2</sup></p>
<p>This is the standard vertical positioning of an object  with an initial velocity of 112  units per sec and a gravity of 16 units per sec<sup>2</sup>.
The initial position being at y=-72. In the leap trajectory, all the values correspond with the formula above except for the initial positions that effectively generate the initial velocity.</p>
<p>There is a large constant forward movement of the solipede together with a smaller additional forward movement in the first half of the leap cycle
and the same move backward in the second half that simulates the added velocity forward at the start of the cycle after the jump starts and the slowing down of the solipede during the cycle.
This is similar to the trajectory of a running kangaroo.</p>


<p id="flexipede4bar">The solipede foot moves forward 6 units each frame of the cycle and the position of the knee is calculated
from the X and  Y positions of the foot and the Y-position of the top of the leg defined by the leap trajectory table.
This could be regarded as a straightforward  <em>four-bar linkage</em>
with the foot position  and top of leg constraining the knee position by the fixed lengths of the upper and lower leg (similar to cycling). </p>
<p>The example below shows a similar  movement on a complete flexipede.</p>



<p>The basic motion from the leap trajectory table is shown together with a forward movement to give the leaping motion.</p>
<p>
<svg id="leap" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="620" height="170">

<!--<rect class="background" width="620" height="180"/>-->
<g transform="translate(10,50)scale(0.45)">
<g transform="translate(0,240)">
<circle cx="20" cy="    -80" r="6"></circle>
<circle cx="120" cy="    -120" r="6"></circle>
<circle cx="220" cy="   -192" r="6"></circle>
<circle cx="320" cy="   -248" r="6"></circle>
<circle cx="420" cy="   -288" r="6"></circle>
<circle cx="520" cy="   -312" r="6"></circle>
<circle cx="620" cy="   -320" r="6"></circle>
<circle cx="720" cy="   -312" r="6"></circle>
<circle cx="820" cy="   -288" r="6"></circle>
<circle cx="920" cy="   -248" r="6"></circle>
<circle cx="1020" cy="   -192" r="6"></circle>
<circle cx="1120" cy="   -120" r="6"></circle>
<circle cx="1220" cy="    -80" r="6"></circle>

<path transform="translate( 20, -80)" d="M0,80  l0,5h20l-20,-5"></path>
<path transform="translate( 120,-120)" d="M6,120  l0,5h20l-20,-5"></path>
<path transform="translate(220,-192)" d="M12,120   l0,5h20l-20,-5"></path>
<path transform="translate(320,-248)" d="M18,110   l0,5h20l-20,-5"></path>
<path transform="translate(420,-288)" d="M24,100  l0,5h20l-20,-5"></path>
<path transform="translate(520,-312)" d="M30,90   l0,5h20l-20,-5"></path>
<path transform="translate(620,-320)" d="M36,80   l0,5h20l-20,-5"></path>
<path transform="translate(720,-312)" d="M42,80  l0,5h20l-20,-5"></path>
<path transform="translate(820,-288)" d="M48,80   l0,5h20l-20,-5"></path>
<path transform="translate(920,-248)" d="M54,80  l0,5h20l-20,-5"></path>
<path transform="translate(1020,-192)" d="M60,90   l0,5h20l-20,-5"></path>
<path transform="translate(1120,-120)" d="M66,100   l0,5h20l-20,-5"></path>
<path transform="translate(1220, -80)" d="M72,80   l0,5h20l-20,-5"></path>

<path d="M0,10h1350"></path>
</g>
</g>
</svg>
<h3>The Solipede Jump</h3>
</p>
<p>The leap program is designed to give a reasonably correct positioning for the 
knee in this motion. This is done by a heuristic 
that  moves  the knee up and forward depending on the 
distance that the foot is in front of the top of the leg.
The line between the top of the leg and the foot is moved  forward as though the leg was longer creating a parallel line that stops at an arbitrary line above the 
top of the leg.
The knee is then positioned  half way between the original half way  point and the new one.
The choice of heuristic seems to be one that Tony invented. 
Perhaps flexipedes and solipedes do have legs that stretch and contract.</p>
<p>
<svg id="kneepos" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="380" height="290">

<!--<rect class="background" width="380" height="290"/>-->
<g transform="scale(0.55)">
<g transform="translate(0,-90)">
<path d="M200,  300L308,425L300,600 l0,10l40,0l-40,-10"></path>
<circle cx="250" cy="450" r="4"></circle>
<circle cx="367" cy="400" r="4"></circle>
<circle cx="308" cy="425" r="4"></circle>
<path style="stroke-dasharray:3 3" d="M200,  300v300"></path>
<path style="stroke-dasharray:3 3" d="M200,  300L300,600"></path>
<path style="stroke-dasharray:10 10" d="M50,  200h600"></path><text x="500" y="215">line above leg top</text>
<circle cx="200" cy="300" r="4"></circle><path d="M200,  300l50,-5v-190l-100,-10v210z"></path>
<circle cx="300" cy="600" r="4"></circle>
<path d="M50,  600h600"></path>
<path style="stroke-dasharray:3 3" d="M433,  600l-133,-400"></path>
</g>
</g>
</svg>
</p>
<h3>Positioning the Knee</h3>
<p>The table of positions that define the flexipede&#39;s walk appear to  be defined in a similar way. 
An earlier program found in the deck of cards may be an early version of the program that generated the
flexipede&#39;s leg movements.</p>






<p>The cycle of the animated solipede jump is shown below:</p>
  

<h3 id="c5p5">5.5 Solipede Capture</h3>
<p>The solipede capture is reasonably complicated as the solipede has to be sucked into the open jaws without the 
legs dangling below and then to right the legs once the capture has occurred.</p>
<p>The array defined by:</p>
<pre>     REAL PL(4,4)/50.,50.,90.,110.,66.,25.,120.,70.,69.,10.,136.,30.,70.,0.,140.,6./
</pre>
<p>gives the intermediate coordinates of the solipede leg during capture. Once captured, the head moves forward half a body segment length and the body back by the same amount
thus creating a flexipede with an extra segment that walks off satisfied.</p>
<p>
<svg id="gulp" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="460" height="190">
 
<!--<path style="stroke:black;fill:none;stroke-width:2" d="M2,2h456v186h-456z" />-->
<g>
<g transform="translate(60,65)scale(0.15)">
<g transform="translate(0,0)">
<path transform="translate(0,-156)" d="M-50 -40 v-175 l50,5l50,5 l80,165 h-180 m100 -110 h-30"></path>
<path transform="translate(0,55)" d="M-50,-40 h160l-50,30l-110 10v-60 "></path>
<path d="M-50,-40h585l0,20l5,10l10,8l7,2v-60h-3l-7,2l-10,8l-5,10v20h-585"></path>
<g transform="translate(605,0)"><path d="M50 -190 l-100,-10  v210l 100,-10v-190"></path>  class=&#34;line07&#34; d=&#34;M0,0   l 32,64   l -40, 56      l0,10l40,0l-40,-10&#34;/&gt; </g>
<g transform="translate(-100,0)"><path d="M50 -190 l-100,-10  v210l 100,-10v-190"></path> 
<path d="M0,0 l49,52l-9,68l0,10l40,0l-40,-10"></path>
 </g>
</g>
<g transform="translate(1000,0)">
<path transform="translate(0,-156)" d="M-50 -40 v-175 l50,5l50,5 l80,165 h-180 m100 -110 h-30"></path>
<path transform="translate(0,55)" d="M-50,-40 h160l-50,30l-110 10v-60 "></path>
<path d="M-50,-40h439l0,20l5,10l10,8l7,2v-60h-3l-7,2l-10,8l-5,10v20h-439"></path>
<g transform="translate(459,0)"><path d="M50 -190 l-100,-10  v210l 100,-10v-190"></path> 
<path d="M0,0   l 50,50   l  90,110      l0,10l40,0l-40,-10"></path>
 </g>
<g transform="translate(-100,0)"><path d="M50 -190 l-100,-10  v210l 100,-10v-190"></path> 
<path d="M0,0 l49,52l-9,68l0,10l40,0l-40,-10"></path>
</g>
</g>
<g transform="translate(2000,0)">
<path transform="translate(0,-156)" d="M-50 -40 v-175 l50,5l50,5 l80,165 h-180 m100 -110 h-30"></path>
<path transform="translate(0,55)" d="M-50,-40 h160l-50,30l-110 10v-60 "></path>
<path d="M-50,-40h293l0,20l5,10l10,8l7,2v-60h-3l-7,2l-10,8l-5,10v20h-293"></path>
<g transform="translate(313,0)"><path d="M50 -190 l-100,-10  v210l 100,-10v-190"></path> 
<path d="M0,0   l 66,25   l 120, 70      l0,10l40,0l-40,-10"></path>
 </g>
<g transform="translate(-100,0)"><path d="M50 -190 l-100,-10  v210l 100,-10v-190"></path> 
<path d="M0,0 l49,52l-9,68l0,10l40,0l-40,-10"></path>
 </g>
</g>
<g transform="translate(0,600)">
<path transform="translate(0,-156)" d="M-50 -40 v-175 l50,5l50,5 l80,165 h-180 m100 -110 h-30"></path>
<path transform="translate(0,55)" d="M-50,-40 h160l-50,30l-110 10v-60 "></path>
<path d="M-50,-40h147l0,20l5,10l10,8l7,2v-60h-3l-7,2l-10,8l-5,10v20h-147"></path>
<g transform="translate(167,0)"><path d="M50 -190 l-100,-10  v210l 100,-10v-190"></path> 
<path d="M0,0   l 69,10   l 136, 30      l0,10l40,0l-40,-10"></path>
 </g>
<g transform="translate(-100,0)"><path d="M50 -190 l-100,-10  v210l 100,-10v-190"></path> 
<path d="M0,0 l49,52l-9,68l0,10l40,0l-40,-10"></path>
 </g>
</g>
<g transform="translate(1000,600)">
<path transform="translate(0,-156)" d="M-50 -40 v-175 l50,5l50,5 l80,165 h-180 m100 -110 h-30"></path>
<path transform="translate(0,55)" d="M-50,-40 h160l-50,30l-110 10v-60 "></path>
<g transform="translate(0,0)"><path d="M50 -190 l-100,-10  v210l 100,-10v-190"></path> 
<path d="M0,0   l 70, 0   l 140,  6      l0,10l40,0l-40,-10"></path>
 </g>
<g transform="translate(-100,0)"><path d="M50 -190 l-100,-10  v210l 100,-10v-190"></path> 
<path d="M0,0 l49,52l-9,68l0,10l40,0l-40,-10"></path>
 </g>
</g>
<g transform="translate(2000,600)">
<path transform="translate(50,-156)" d="M-50 -40 v-175 l50,5l50,5 l80,165 h-180 m100 -110 h-30"></path>
<path transform="translate(50,55)" d="M-50,-40 h160l-50,30l-110 10v-60 "></path>
<g transform="translate(-50,0)"><path d="M50 -190 l-100,-10  v210l 100,-10v-190"></path> 
<path d="M0,0 l32,64l-40,56l0,10l40,0l-40,-10"></path>
</g>
<g transform="translate(-150,0)"><path d="M50 -190 l-100,-10  v210l 100,-10v-190"></path> 
<path d="M0,0 l49,52l-9,68l0,10l40,0l-40,-10"></path>
</g>
</g>
</g>
</g>
</svg>
<h3>The Solipede Capture</h3>
</p>
<h3 id="c5p6">5.6 Flexipede Hits the Wall</h3>

<p>One unusal aspect of  the Flexipede film was that on reaching the edge of the screen area it starts to generate a wall.
Effectively the lines of the Flexipede that are greater than 1023 in the X direction or less than zero
have the X-coordinate changed to either 1023 or zero thus creating a set of vertical lines. With the microfilm
recorder overstriking the lines in question giving a much more intense (thicker line) that appears on the film image.</p>
<p>That confirmed that the library used to draw the Flexipede was relatively low level and had not included genuine
clipping at the screen boundary that was limited to lines drawn between 0 and 1023 in the X and Y directions.</p>
<p>The basic SCORS library on the SC4020 which Tony used to define his version of VECTOR had a routine:</p>
<pre>      CALL VECTOR(X1, Y1, X2, Y2)
</pre>
<p>The X and Y positions should be in the range 0 to 1023. As both the SC4020 and BL120 microfilm recorders 
only draw vectors with less than 64 increments in the X and Y direction,
the VECTOR routine breaks the line into a set of segments. 
However, before breaking the line into sections, the SCORS VECTOR code is:</p>
<pre>      DO 400 I=1,4
      IF(J(I).LT.0) J(I)=0
      IF(J(I).GT.1023) J(I)=1023
400   CONTINUE
</pre> 
<p>It just reduces the coordinate values to the relevant boundary value and this gives 
the exact effect seen on the Flexipede film.</p>
<p>This pretty well confirmed that Tony used the low-level SCORS routine clipping
for generating the Flexipede BL120 output.</p>
<p>The algorithm is quite crude biting off 64-bit sections of the line to be output
and finishing with whatever is left in the final section. </p>


<p>An <a href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/flexipedescorsclip.htm">animation of The Flexipede</a> shows the SCORS clip as the flexipede emeges from a wall on the left and exits via one on the right.</p>


<p>The only way to be absolutely sure would of course be to work out what the 38 binary BAS cards for VECTOR actually did. 
That would entail examining
over 500 Atlas machine instructions that the Fortran compiler generated for the subroutine VECTOR. However, the code for changing the coordinates outside the 
plotting area needs to be done almost immediately so the code would be close to the top of the subroutine.</p>
<p>VECTOR00, the first  card indicated that  the total length of  the routine in octal was 1030(8) and that the 
compilation took place on the 27 June 1966 so the routine had been in use for quite some time.</p>
<p><img src="https://www.chilton-computing.org.uk/acl/htmls/flexipede/vector00.jpg" width="283" height="131"/></p>
<h3>VECTOR Initial BAS Card</h3>
<h5><a target="new" href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/vector00.jpg">Large View</a></h5>
<p>BAS cards are relatively easy to read but quite time consuming. Columns 7 and 8 give the relocatable 
address for the 16 instructions on  the card. On loading,
addresses will be incremented to the actual position in the memory where the routine will be executed.  
Starting at column 9 the columns 9-12 have the 48 hole positions making up the first 48-bit Atlas word.
A hole punched indicates a 1 and no hole punched a zero. You start at the top of the first column and finish at the bottom of the fourth column.
Columns 13-16 give the next word and so on. What you find may be an Atlas instruction, alternatively it can be a data value.
Unless you know what the code generated by  the compiler is likely to be, it is a bit hit and miss trying to work out which it is.
It is somewhat helped by the columns 2-4 that say whether each half-word on the card contains an address that needs to be relocated.</p>
<p>After decoding the first few BAS cards it appeared that both INTEGER and REAL variables were using floating point arithmetic to do calculations
and that the integer operations were using the unstandardised floating point arithmetic which kept the integer values in the lower right-hand bits of the
48-bit word. Also the first few cards seemed to be taking the subroutine parameters and storing them in consecutive positions in the relocatable storage
which is what  you would expect if  the plan was to do some tests in a DO loop for values  greater than 1023 or less than zero.</p>
<p>Things got more interesting around cards VECTOR05 and VECTOR06.</p>
<p><img src="https://www.chilton-computing.org.uk/acl/htmls/flexipede/vector05.jpg" width="283" height="131"/></p>
<h3>VECTOR05  BAS Card</h3>
<h5><a target="new" href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/vector05.jpg">Large View</a></h5>
<p><img src="https://www.chilton-computing.org.uk/acl/htmls/flexipede/vector06.jpg" width="283" height="131"/></p>
<h3>VECTOR06 BAS Card</h3>
<h5><a target="new" href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/vector06.jpg">Large View</a></h5>
<p>VECTOR05 is defining the contents of locations 126(8) to 145(8) and VECTOR06 from 146(8) to 165(8).</p>

<p>Starting at column 53 on VECTOR05 are the instructions in positions 141(8) to 145(8) and starting at column 9 
on VECTOR06 are the instructions in positions 146(8) onwards.</p>
<pre>53-56 0011011100 0000000 0000000 000000000000 000001000000   141
57-60 0010011110 1111111 0000000 000000000000 001100101000   142   
61-64 0011011100 0000000 0000000 000000000001 000100100000   143   
65-68 0011011100 0000000 0000000 000000000000 000001000000   144   
69-72 0011011100 0000000 0000000 000000000000 000001000000   145   
 9-12 0011011010 0000000 0000000 000000000001 000101001000   146   
13-16 0010011110 1111111 0000000 000000000000 001101010000   147      
17-20 0011011100 0000000 0000000 000000000001 000101001000   150   
21-24 0011101110 0000000 0000000 000000000000 000001000000   151   
</pre>
<p>The first 10 bits give the instruction, the next 7 bits the first  B-register called Ba,
the next 7  bits the second B-register called Bm and  the remaining 24 bits give the address.
The  top  bit of  the instruction indicates an extracode which doesn&#39;t get used here.
The next 9 bits give the octal value of the instruction. Using the standard Atlas layout
for machine instructions (the B-registers are in decimal) gives:</p>

<pre>141   0334   0   0    10   Load storage location 10 into the  floating point accumulator (Acc)
142   0236 127   0   145   Jump to  address 145 if Acc is greater or equal to zero
143   0334   0   0  1044   Otherwise load the contents of address 1044 into Acc
144   0334   0   0    10   Store the contents of Acc in to address 10
145   0334   0   0    10   Store the contents of Acc in to address 10
146   0332   0   0  1051   Negate Acc and add the contents of 1051
147   0236 127   0   152   Jump to  address 152 if Acc is greater or equal to zero
150   0334   0   0  1051   Otherwise load the contents of address 1051 into Acc
151   0356   0   0    10   Store contents of Acc in to address 10
</pre>
<p>So what are the contents of address 1044(8) and 1051(8)?</p>
<p>The answer is that we have to look at the VECTOR33 card columns 65 to 68
and columns 21 to 24 of VECTOR34.</p>
<pre>1044  000011000000 000000000000 000000000000 000000000000    
1051  000011000000 000000000000 000000000001 111111111000  
</pre>

<p>Both 1044 and 1051 have an exponent of 24 which moves the fractional values leftwards
to having the integer values 0 and 1023 as expected. In  consequence, the sequence above
is equivalent to the Fortran statements:</p>
<pre>      IF(V.LT.0) V=0
      IF(V.GT.1023) V=1023
</pre>
<p>So the VECTOR subroutine does constrain values provided as parameters to be in the range 0 to 1023.</p>
<p>The compiled code is reasonably efficient but not optimal.</p>

<h2 id="c6">6. Conclusions</h2>
<p>The big question was whether the card deck we found was the program that generated the film called The Flexipede. 
The Java program indicated that the program generated 1784 frames of film.
Kate managed to find a Job Control card saying it was the final run and the lineprinter output giving the results of the run on the London Atlas.
This was:</p>
<pre>LRF91PB1, A PRITCHETT BL120 TEST
DATE 07.10.67
TIME 14.35.27
SERIAL NUMBER    12337285
                         REQUESTED        USED          COMPILE
INSTRUCTION INTERRUPTS       96000       43353             1360
COMPILE STORE                  120          89 
EXECUTION STORE                 50          34
                             DECKS      BLOCKS          WAITING
MAGNETIC  TAPES                  1          37               56
IBM MAGNETIC TAPES               1        1799
                        STORE TIME   DRUM TIME        DECK TIME
                             16718          10              322
COMPILER NUMBER                 34
F FACTOR            18
BC 1               758
BC 2               762

INPUT    0      11    BLOCKS  READER   1
INPUT    1       1    BLOCKS  READER   1
INPUT    2       3    BLOCKS  READER   1
OUTPUT   0     648   RECORDS  LINE PRINTER
OUTPUT  13      32   RECORDS  ANY
</pre>
<p>The run was made on 7 October 1967, ran for 4 minutes and 31 seconds (of which 8.5 secs were for compilation).
The main output was 1799 blocks of IBM magnetic tape. Magnetic tape blocks destined for the SC4020 and BL120
had a maximum of 512 instructions. New frames took place each  advance film. Looking at the amount of instructions
required for each flexipede frame this was well within the 512 instruction limit for all but the most complex scene. 
The tongue is the main
drawing that needs vectors greater than 64 units long. Tapes destined for the BL120 had header and footer frames added to identify whose output it was.
In consequence, the flexipede program generating 1784 film frames would require a few more than 1784 blocks of IBM tape so 1799 blocks produced
is pretty well exactly what you would expect for a complete run of the Flexipede card deck.
The evidence is not conclusive but leads us to believe that Kate does have the card deck that generated the film The Flexipede.</p>
<p>Some of the manuals that Tony had related to his use of the Culham BL120 microfilm recorder from the London Atlas are
 available at the Chilton website. Links to these and the various animations of <em>The Flexipede</em> described above
are:</p>
               <ul>
                  <li>
                     <a href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/TheFlexipede.mp4">Original Flexipede Film</a>
                  </li>
                  <li>
                     <a href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/flexipede_svg_comparison_original.htm">Flexipede in SVG compared with Original</a>
                  </li>
                  <li>
                     <a href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/just_flexipede_in_svg.htm">Flexipede in SVG using either SVG animation or Javascript (GSAP)</a>
                  </li>
                  <li>
                     <a href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/java_flexipede.htm">Flexipede via Java</a>
                  </li>

                  <li>
                     <a href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/flexipedescorsclip.htm">Flexipede via Java with the SCORS simple clip at the edge of the display area</a>
                  </li>
                  <li>
                     <a href="https://www.chilton-computing.org.uk/acl/htmls/flexipede/fulljavaflexipede.htm">Flexipede via Java with SCORS clip, soundtrack and titles</a>
                  </li>

                  <li>
                     <a href="http://www.chilton-computing.org.uk/acl/pdfs/fortran_v.pdf">Fortran V  Manual, 1967</a>
                  </li>
                  <li>
                     <a href="http://www.chilton-computing.org.uk/acl/pdfs/benson_lehner_120.pdf">Benson-Lehner 120 Manual, 1966</a>
                  </li>

                  <li>
                     <a href="http://www.chilton-computing.org.uk/acl/pdfs/sc4020_plotter_manual.pdf">SC4020 Plotter Manual, 1967</a>
                  </li>

                  <li>
                     <a href="http://www.chilton-computing.org.uk/acl/pdfs/sc4020_supplement_fortran.pdf">SC4020 Supplement (FORTRAN), 1969</a>
                  </li>
                  <li>
                     <a href="http://www.chilton-computing.org.uk/acl/pdfs/algol_groats_manual.pdf">Algol GROATS Manual, 1969</a>
                  </li>
                  <li>
                     <a href="http://www.chilton-computing.org.uk/acl/pdfs/groats_implemtation.pdf">GROATS Implementation, 1970</a>
                  </li>

                  
                  <li>
                     <a href="http://www.chilton-computing.org.uk/acl/pdfs/clm_p139.pdf">GHOST  Manual, 1967</a>
                  </li>
                  <li>
                     <a href="http://www.chilton-computing.org.uk/acl/pdfs/clm-r84.pdf">GHOST Guide, 1967</a>
                  </li>
               </ul>
<h2 id="c7">7. Acknowledgements</h2>
<p>We would like to thank Paul Hopgood for getting rid of the worst of the background noise on the soundtrack and increasing it to a meaningful volume.
Also to Victoria Marshall at Chilton who made us aware of the possibilities, provided a home for online copies of the relevant manuals etc,
and gave some useful comments on the paper.</p>

<p>
<svg id="exmp" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 800 700">

<rect x="3" y="3" width="794" height="694"></rect>
<text x="400" y="30">Some Early Tests</text>
<path d="M50,140c17,-9,34,-6,51,9v-6c17,-9,34,-6,51,9v-12c26,-2,64,4,78,60m-3,-6l-75,8v-54m0,54l69,18l-30,21l-39,-39v27c-17,9,-34,6,-51,3v-3c-17,9,-34,6,-51,3v-91m144,36l36,-96l78,-27c0,-6,6,-6,6,0c0,6,-6,6,-6,0m-93,117l42,-24l38,-54l54,12c0,-6,6,-6,6,0c0,6,-6,6,-6,0m-195,99l270,-6c7,0,21,-10,21,-15c0,-10,-14,-21,-21,-21c-12,0,-24,14,-24,21c0,4,12,12,18,12c5,0,15,-10,15,-15c0,-3,-8,-9,-12,-9c-3,0,-9,6,-9,9c0,2,4,6,6,6c3,0,9,0,9,-3c0,-3,-3,-3,-6,-3m-297,54l21,27l-21,27l-6,6h24l-18,-6"></path>
<path d="M600,60 l66,15l36,81l-102,0v-96m0,96l-60,-6v132l60,-6v-120m0,126h93l-6,-15l-6,15l-6,-15l-6,15l-6,-15l-6,15l-6,-15l-6,15l-6,-15l-6,15l-6,-15l-6,15l-6,-15l-6,15v-120l12,3v6l-12,-3v6 l12,3v6l-12,-3v6l12,3v6l-12,-3v6l12,3v6l-12,-3v6l12,3v6l-12,-3v6l12,3v6l-12,-3v6l12,3v6l-12,-3v6l12,3v6l-12,-3v6l12,3v6l-12,-3v6l12,3v6l-12,-3v6v-126l6,15l6,-15l6,15l6,-15l6,15l6,-15l6,15l6,-15l6,15l6,-15l6,15l6,-15l6,15l6,-15l6,15l6,-15m-56,-60h7v-7h-7v7  v7h7v-7h-7v7 h7 h7v-7h-7v7 v-7 h7v-7h-7v7"></path>
<path d="M580,340v156l-144,-51v-54l144,-51l-144,51v-45l-87,-12v156l87,-12v-33m-87,15 h-60v-15h60 h-80v-15h80 h-100v-15h100 h-120v-15h120 h-100v-15h100 h-80v-15h80 h-60v-15h60"></path>
<path d="M250,540l-75,-12v150l75,-9m-75,-66h-78v-56h48v42h-39v-24h33v18h-15v-9h6"></path>
<path d="M650,540l-75,-12v150l75,-9m-75,-96h-78 v60h40v-60l-40,60h40l-40,-60h20v60m20,-30h-40"></path>
</svg>



</p></div>
  </body>
</html>
