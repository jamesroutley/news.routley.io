<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://coe.psu.ac.th/ad/invhyper/">Original</a>
    <h1>Python for Inversive and Hyperbolic Geometry</h1>
    
    <div id="readability-page-1" class="page">


<pre> 
</pre>

<p>The Python code available on this page is a collection of classes and support functions for visualizing 
<a href="https://en.wikipedia.org/wiki/Inversive_geometry">inversive</a> and 
<a href="https://en.wikipedia.org/wiki/Hyperbolic_geometry">hyperbolic geometry</a>, with the hyperbolic examples utilizing the 
<a href="https://en.wikipedia.org/wiki/Poincar%C3%A9_disk_model">Poincaré disc model</a>. For more online information on hyperbolic geometry see 
<a href="https://eschermath.org/wiki/Hyperbolic_Geometry.html">here</a>.</p>

<p>I was prompted to develop this software while reading about these topics in the excellent textbook 
<a href="https://www.cambridge.org/th/universitypress/subjects/mathematics/geometry-and-topology/geometry-2nd-edition?format=PB&amp;isbn=9781107647831">&#34;Geometry&#34;</a> by David A. Brannan, Matthew F. Esplen, and Jeremy J. Gray, Cambridge University Press; 2nd ed., and in particular chapters 5 and 6. I also found chapter 10 of  
<a href="https://www.macmillanlearning.com/college/us/product/Euclidean-and-Non-Euclidean-Geometries/p/0716799480">&#34;Euclidean and Non-Euclidean Geometries&#34;</a> by Marvin J. Greenberg, W.H. Freeman, 4th ed., useful for additional information on hyperbolic trigonometry.</p> 

<p>I&#39;ve &#39;repurposed&#39; most of my code from two sources – 
Casey Duckering&#39;s <a href="https://github.com/cduck/hyperbolic/tree/master">Python hyperbolic library</a> and the <a href="https://github.com/pim-book/programmers-introduction-to-mathematics"><tt>hyperbolic_tessellation</tt></a> code in Section 16.7
of <a href="https://pimbook.org/">&#34;A Programmer&#39;s Introduction to Mathematics&#34;</a> by Jeremy Kun. My main &#39;contribution&#39;, especially in the case of Duckering library, was to drastically simplify the implementation. The difference can be seen by comparing the output of one of his examples with a similar version using my library:</p>

<p><img src="https://coe.psu.ac.th/ad/invhyper/beforeAfter.png" alt="Before and After Disk Drawings"/></p>

<p>The difference reflects one of my aims: to make the code simple enough to be easily understood while still being able to reproduce most of the drawings in chapters 5 and 6 of Brannan <i>et al.</i>. Also, in the context of inversion geometry, I wanted to generate a <a href="https://en.wikipedia.org/wiki/Pappus_chain">Pappus Chain</a> similar to one drawn by hand in the Numberphile Youtube video <a href="https://www.youtube.com/watch?v=sG_6nlMZ8f4">&#34;Epic Circles&#34;</a>.  My results are shown below:</p>

<p><img src="https://coe.psu.ac.th/ad/invhyper/pappusPics.png" alt="Pappus Pics"/></p>

<p>A central aim of my hyperbolic geometry code, and the reason for using the Poncaré Disk Model, was to generate versions of 
<a href="https://eschermath.org/wiki.html">M.C. Escher&#39;s</a> four 
<a href="https://eschermath.org/wiki/Hyperbolic_Geometry.html">Circle Limit</a> drawings:</p>

<p><img src="https://coe.psu.ac.th/ad/invhyper/circleLimitsEscher.png" alt="Escher&#39;s Circle Limits"/></p>

<p>The hyperbolic plane can be 
<a href="http://mathcs.clarku.edu/~djoyce/poincare/">tessellated</a> using p-sided polygons with q of them meeting at each vertex provided that (p-2)(q-2) &gt; 4, which can be denoted as {p,q}. Escher used the regular tessellations {6,4} for Circle Limit I and IV, and {8,3} for Circle Limit II and III.</p>

<p>My Circle Limit code (circleLimit.py) generates the following images when supplied with the necessary values for p and q:</p>

<p><img src="https://coe.psu.ac.th/ad/invhyper/myCircleLimits.png" alt="My Circle Limits"/></p>

<p>As these examples show, my library only supports right-angled 
<a href="https://en.wikipedia.org/wiki/Hyperbolic_triangle">hyperbolic triangles</a>, not arbitrary images, or even regular polygons. However, it is fairly simple to build polygons by reflecting triangles around specific edges.</p>

<p>My triangles can also be understood as right-angled hyperbolic <a href="https://en.wikipedia.org/wiki/Schwarz_triangle">Schwarz triangles</a>, commonly denoted by {p, q, r}, with vertex angles π/p, π/q, and π/r. In my case, one of these angles, for instance at r, is always π/2, so its value is always 2.</p>

<p>It&#39;s worth noting that Escher&#39;s 
<a href="https://en.wikipedia.org/wiki/Circle_Limit_III">Circle Limit III</a> is a little more complicated than the others. The backbone arcs of the fish are not quite hyperbolic lines, touching the bounding circle at an angle of about 80° rather than 90°. Also, 
<a href="https://www.d.umn.edu/~ddunham/dunbrid06.pdf">Douglas Dunham</a> employs a triplet notation to capture how the fish meet at a vertex, since four meet at right fin tips, three meet at left fin tips, and three fish meet at their noses. Dunham&#39;s <a href="https://www.d.umn.edu/~ddunham/">website</a> is a gold mine of interesting papers on hyperbolic geometry and Escher</p>


<pre> 
</pre>
<h2>Software Details</h2>

<p>My Python code relies on three modules: <a href="https://numpy.org/">numpy</a> (for a tiny amount of linear algebra), <a href="https://matplotlib.org/">matplotlib</a> (for displaying the drawings), and <a href="https://pypi.org/project/drawsvg/">drawsvg</a> (for rendering the drawings as SVGs, although the final output is in PNG format). drawsvg is by Casey Duckering, the same developer as the Python hyperbolic library mentioned above.</p>

<p>The inversion geometry classes and utilities are in <tt>geom.py</tt>. The classes are ELine, EVertical, ESegment, ECircle, and EArc (&#34;E&#34; stands for Euclidean). The utilities roughly divide into groups related to intersection-finding, and extras for simplifying the use of matplotlib and drawsvg.</p>

<p>The hyperbolic geometry classes and utilities are in <tt>pgeom.py</tt> (&#34;p&#34; stands for Poincaré disk model). The classes are Point, Ideal, Line, Triangle, Circle, and Transform. The Transform class implements several <a href="https://en.wikipedia.org/wiki/M%C3%B6bius_transformation">Möbius transformations</a>, including translation, rotation, complex conjugation, matrix inversion, and mirroring.</p>

<p>The <tt>geom.py</tt> and <tt>pgeom.py</tt> features are illustrated through many short examples, which are listed in readme.txt in the 
<a href="https://coe.psu.ac.th/ad/invhyper/invhyper.zip">zip file</a>. Every Python example generates a correspondingly named PNG file, which I&#39;ve also included in the zip.</p>

<p>Two fun inversion examples are invParabola.py and invTangents.py whose outputs are:</p>

<p><img src="https://coe.psu.ac.th/ad/invhyper/invExamples.png" alt="Inversion Examples"/></p>

<p>invParabola.py inverts sample points from a parabola, creating the coordinates of a <a href="https://en.wikipedia.org/wiki/Cardioid">cardioid</a>. invTangents.py inverts several blue circles that all have a tangent to the y-axis. The thick blue circle 
which passes through the origin intersects all of these circles at the same angle, which is apparent by looking at how its inverse (an orange line) intersects their inverted lines. This example comes from Fig. 29 in chapter 4 of <a href="https://www.amazon.com/Excursions-Geometry-Dover-Books-Mathematics/dp/0486265307">&#34;Excursions in Geometry&#34;</a> by C.S. Ogilvy, Dover, 1990.</p>

<p>The hyperbolic geometry examples fall into three main groups:</p>

<ul>
<li>Drawing tests: diskTest1.py, diskTest2.py</li><li>Simplified versions of Duckering&#39;s examples: mirrorPoints.py, recurLines.py, polyRandom.py, polyRegular.py, polyCircle.py, tree.py</li><li>Transformation tests: polyTransforms.py, hexMirror.py, triMove.py, triTransforms.py, circleLimit.py
</li></ul>

<p>Two pretty hyperbolic examples are recurLines.py and tree.py whose outputs are:</p>

<p><img src="https://coe.psu.ac.th/ad/invhyper/hyperExamples.png" alt="Hyperbolic Examples"/></p>


<pre> 
</pre>
<h2>Downloads</h2>

<ul>
<li>A zipped collection of the 
<a href="https://coe.psu.ac.th/ad/invhyper/invhyper.zip">inversive and hyperbolic geometry</a> Python code and examples (1.05 MB). 
</li></ul>

<pre> 
</pre>
<hr/>
Dr. Andrew Davison</div>
  </body>
</html>
