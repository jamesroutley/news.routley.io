<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="http://www.righto.com/2023/01/counting-transistors-in-8086-processor.html">Original</a>
    <h1>Counting the transistors in the 8086 processor: it&#39;s harder than you might think</h1>
    
    <div id="readability-page-1" class="page"><div id="post-body-823107564209308759" itemprop="description articleBody">


<p>How many transistors are in Intel&#39;s 8086 processor? This seems like a straightforward question, but it doesn&#39;t have a straightforward answer.
Most sources say that this processor has 29,000 transistors.<span id="fnref:manual"><a href="#fn:manual">1</a></span>
However, I have traced out every transistor from die photos and my count is 19,618. What accounts for the 9382 missing transistors?</p>
<p>The explanation is that when manufacturers report the transistor count of chips, typically often report &#34;potential&#34; transistors.
Chips that include a ROM will have different numbers of transistors depending on the values stored in the ROM.
Since marketing doesn&#39;t want to publish varying numbers depending on the number of 1 bits and 0 bits, they often count ROM sites:
places that could have transistors, but might not.
A PLA (Programmable Logic Array) has similar issues; the transistor count depends on the desired logic functions.</p>
<p>What are these potential transistor sites?
ROMs are typically constructed as a grid of cells, with a transistor at a cell for a 1 bit, and no transistor for a 0 bit.<span id="fnref:bits"><a href="#fn:bits">2</a></span>
In the 8086, transistors are created or not through the pattern of silicon doping. 
The photo below shows a closeup of the silicon layer for part of the 8086&#39;s microcode ROM. The empty regions are undoped silicon, while the other regions are doped silicon.
Transistor gates are formed where vertical polysilicon lines (removed for the photo) passed over the doped silicon.
Thus, depending on the data encoded into the ROM during manufacturing, the number of transistors varies.</p>
<p><a href="https://static.righto.com/images/8086-transistors/microcode.jpg"><img alt="A closeup of part of the microcode ROM. The dark circles indicate vias between the silicon and the metal on top." height="405" src="https://static.righto.com/images/8086-transistors/microcode-w400.jpg" title="A closeup of part of the microcode ROM. The dark circles indicate vias between the silicon and the metal on top." width="400"/></a></p><p>A closeup of part of the microcode ROM. The dark circles indicate vias between the silicon and the metal on top.</p>
<p>The diagram below provides more detail, showing the microcode ROM up close. Green T&#39;s indicate transistors, while red X&#39;s indicate positions with no transistor.
As you can see, the potential transistor positions form a grid, but only some of the positions are occupied by transistors.
The common method for counting transistors counts all the potential positions (18 below) rather than the actual transistors that are implemented (12 below).</p>
<p><a href="https://static.righto.com/images/8086-transistors/microcode-labeled2.jpg"><img alt="An extreme closeup of the microcode ROM. Green T&#39;s indicate transistors, while red X&#39;s indicate positions with no transistor." height="164" src="https://static.righto.com/images/8086-transistors/microcode-labeled2-w300.jpg" title="An extreme closeup of the microcode ROM. Green T&#39;s indicate transistors, while red X&#39;s indicate positions with no transistor." width="300"/></a></p><p>An extreme closeup of the microcode ROM. Green T&#39;s indicate transistors, while red X&#39;s indicate positions with no transistor.</p>
<p>I found <a href="https://stevemorse.org/8086history/8086history.pdf">an Intel history</a> that confirmed that the 8086 transistor count includes potential sites, saying
&#34;This is 29,000 transistors if all ROM and PLA available placement sites are counted.&#34;
That paper gives the approximate number of (physical) transistors in the 8086 as 20,000. This number is close to my count of 19,618.</p>
<p>To get a transistor count that includes empty sites,
I counted the number of transistor sites in the various ROMs and PLAs in the 8086 chip. This is harder than you might expect because the smaller ROMs, such as the constant ROM,
have some layout optimization.
The photo below shows a closeup of the constant ROM. It is essentially a grid, but has been &#34;squeezed&#34; slightly to optimize its layout, making it slightly irregular.
I&#39;m counting its &#34;potential&#34; transistors, but
one could argue that it shouldn&#39;t be counted because filling in these transistors might run into problems.</p>
<p><a href="https://static.righto.com/images/8086-transistors/constants2.jpg"><img alt="Closeup of the constant ROM showing the silicon and polysilicon." height="466" src="https://static.righto.com/images/8086-transistors/constants2-w300.jpg" title="Closeup of the constant ROM showing the silicon and polysilicon." width="300"/></a></p><p>Closeup of the constant ROM showing the silicon and polysilicon.</p>
<p>The following table breaks down the ROM and PLA counts by subcomponent.
I found a total of approximately 9659 unfilled transistor vacancies. If you add those to my transistor count, it works out to 29,277 transistors.</p>


<table id="transistors">
<tbody><tr><th>Component</th><th>Transistor sites</th><th>Transistors</th><th>Vacancies</th></tr>
<tr><td>Microcode</td><td>13904</td><td>6210</td><td>7694</td></tr>
<tr><td>Group Decode ROM</td><td>1254</td><td>603</td><td>651</td></tr>
<tr><td>Translation ROM</td><td>1050</td><td>431</td><td>619</td></tr>
<tr><td>Register PLAs</td><td>465</td><td>182</td><td>283</td></tr>
<tr><td>ALU PLA</td><td>354</td><td>170</td><td>184</td></tr>
<tr><td>Constant ROM</td><td>203</td><td>109</td><td>94</td></tr>
<tr><td>Condition PLA</td><td>160</td><td>74</td><td>86</td></tr>
<tr><td>Segment PLA</td><td>90</td><td>42</td><td>48</td></tr>
</tbody></table>

<p>The image below shows these ROMs and PLAs on the die and how much the vacancies increase the transistor count.
Not surprisingly, the large microcode ROM and its decoding PLA are responsible for most of the vacancies.</p>
<p><a href="https://static.righto.com/images/8086-transistors/die-labeled.jpg"><img alt="The 8086 die with transistor vacancy counts and how much they contribute to the final transistor count. (Click this image or any other for a larger version.)" height="687" src="https://static.righto.com/images/8086-transistors/die-labeled-w700.jpg" title="The 8086 die with transistor vacancy counts and how much they contribute to the final transistor count. (Click this image or any other for a larger version.)" width="700"/></a></p><p>The 8086 die with transistor vacancy counts and how much they contribute to the final transistor count. (Click this image or any other for a larger version.)</p>
<h2>Potential exclusions</h2>
<p>So are my counts of 19,618 transistors and 29,277 transistor sites correct?
There are some subtleties that could lower this count slightly.
First, the output pins use large, high-current transistors. Each output transistor is constructed from more than a dozen transistors wired in parallel.
Should this be counted as a dozen transistors or a single transistor? I&#39;m counting the component transistors.</p>
<p><a href="https://static.righto.com/images/8086-transistors/driver.jpg"><img alt="An output pad with a bond wire attached. Driver transistors next to the pad are constructed from multiple transistors in parallel." height="183" src="https://static.righto.com/images/8086-transistors/driver-w350.jpg" title="An output pad with a bond wire attached. Driver transistors next to the pad are constructed from multiple transistors in parallel." width="350"/></a></p><p>An output pad with a bond wire attached. Driver transistors next to the pad are constructed from multiple transistors in parallel.</p>
<p>The 8086 has about 43 transistors wired as diodes for various purposes. Some are input protection diodes, while others are used in the charge pump for the <a href="https://www.righto.com/2020/07/inside-8086-processor-tiny-charge-pumps.html">substrate bias generator</a>.
Should these be excluded from the transistor count? Physically they are transistors but functionally they aren&#39;t.</p>
<p>The 8086 is built with NMOS logic which builds gates out of active &#34;enhancement&#34; transistors as well as &#34;depletion&#34; transistors which basically act as pull-up resistors.
I count 2689 depletion-mode transistors, but you could exclude them from the count as not &#34;real&#34; transistors.</p>
<h2>Conclusions</h2>
<p>The number of transistors in a chip is harder to define than you might expect.
The 8086 is commonly described as having 29,000 transistors when including empty sites in ROMs and PLAs that potentially could have a transistor.
The published number of physical transistors in the 8086 is &#34;approximately 20,000&#34;.
From my counts, the 8086 has 19,618 physical transistors and 29,277 transistors when including empty sites.
Given the potential uncertainties in counting, it&#39;s not surprising that Intel rounded the numbers to the nearest thousand.</p>
<p>The practice of counting empty transistor sites may seem like an exaggeration of the real transistor count, but there are some good reasons to count this way.
Including empty sites gives a better measure of the size and complexity of the chip, since these sites take up area whether or not they are used.
This number also lets one count the number of transistors before the microcode is written, and it is also stable as the microcode changes.
But when looking at transistor counts, it&#39;s good to know exactly what is getting counted.</p>
<p>I plan to continue reverse-engineering the 8086 die so
follow me on Twitter <a href="https://twitter.com/kenshirriff">@kenshirriff</a> or <a href="http://www.righto.com/feeds/posts/default">RSS</a> for updates.
I&#39;ve also started experimenting with Mastodon recently as <a href="https://oldbytes.space/@kenshirriff">@<span data-cfemail="f29d9e96908b869781dc8182939197b299979c819a9b80809b9494">[email protected]</span></a>.
I discussed the transistor count in the 6502 processor <a href="https://www.righto.com/2013/09/intel-x86-documentation-has-more-pages.html">here</a>.</p>
<h2>Notes and references</h2>


</div></div>
  </body>
</html>
