<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://fernandovillalba.substack.com/p/its-not-microservice-or-monolith">Original</a>
    <h1>It&#39;s not microservice or monolith; it&#39;s cognitive load</h1>
    
    <div id="readability-page-1" class="page"><div><div><article><div class=""><div><div dir="auto"><ul><li><p>“Instead of choosing between a monolithic architecture or a microservices architecture, design the software to fit the maximum team cognitive load”</p></li><li><p>If you have only one team, consider adjusting your architecture to match the team’s capacity. Favour monolithic, cohesive and modular architectures.</p></li><li><p>If you have multiple teams, consider doing microservices or similar type of architectures so they can work independently.</p></li><li><p>Not all cognitive loads are created equal. Different types of cognitive load will affect the amount of quality outcomes that teams can deliver. Organizations should endeavour to mitigate or eliminate intrinsic and extraneous cognitive load so that teams have mostly germane cognitive load.</p></li><li><p>The types of communication boundaries change significantly between single and multiple team architectures. Single teams are optimized to communicate via the codebase, documentation, discussions and design meetings. Multiple teams are better optimized to communicate via well-designed APIs (or libraries) that abstract the complexities of their domains.</p></li></ul><p><span>This post is inspired by this quote in the book </span><a href="https://teamtopologies.com/" rel="nofollow ugc noopener">Team Topologies</a><span> which I am now reading for the third time:</span></p><p>“Instead of choosing between a monolithic architecture or a microservices architecture, design the software to fit the maximum team cognitive load”</p><p>I really love this quote because it provides an excellent rule of thumb as to what architecture you should decide, and it also comes with the wise caveat of not biting off more than you can chew. </p><p>So before you pick any type of architecture, what you need to ask yourself is how much cognitive load capacity your organization has available to meet the demands of the product you want to deliver and then adjust accordingly. </p><p>But how do you determine cognitive load capacity? And is all cognitive load created equal? Let’s try and answer that…</p><p><span>Let’s look at the three types of cognitive load as defined by psychologist </span><a href="https://www.routledge.com/Cognitive-Load-Theory-A-Special-Issue-of-educational-Psychologist/Paas-Renkl-Sweller/p/book/9780805896107" rel="nofollow ugc noopener">John Sweller</a><span> and how understanding them can help us design software architecture that matches their level of cognitive capacity and assign the right amount of work:</span></p><div><figure><a target="_blank" href="https://substackcdn.com/image/fetch/f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb6fe8814-89f3-4c53-8b73-f8e1b0c7cc66_1200x600.png" data-component-name="Image2ToDOM" rel="nofollow ugc noopener"><div><picture><source type="image/webp" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb6fe8814-89f3-4c53-8b73-f8e1b0c7cc66_1200x600.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb6fe8814-89f3-4c53-8b73-f8e1b0c7cc66_1200x600.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb6fe8814-89f3-4c53-8b73-f8e1b0c7cc66_1200x600.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_webp,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb6fe8814-89f3-4c53-8b73-f8e1b0c7cc66_1200x600.png 1456w" sizes="100vw"/><img src="https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb6fe8814-89f3-4c53-8b73-f8e1b0c7cc66_1200x600.png" width="1200" height="600" data-attrs="{&#34;src&#34;:&#34;https://substack-post-media.s3.amazonaws.com/public/images/b6fe8814-89f3-4c53-8b73-f8e1b0c7cc66_1200x600.png&#34;,&#34;srcNoWatermark&#34;:null,&#34;fullscreen&#34;:null,&#34;imageSize&#34;:null,&#34;height&#34;:600,&#34;width&#34;:1200,&#34;resizeWidth&#34;:null,&#34;bytes&#34;:54082,&#34;alt&#34;:null,&#34;title&#34;:null,&#34;type&#34;:&#34;image/png&#34;,&#34;href&#34;:null,&#34;belowTheFold&#34;:true,&#34;topImage&#34;:false,&#34;internalRedirect&#34;:null}" alt="" srcset="https://substackcdn.com/image/fetch/w_424,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb6fe8814-89f3-4c53-8b73-f8e1b0c7cc66_1200x600.png 424w, https://substackcdn.com/image/fetch/w_848,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb6fe8814-89f3-4c53-8b73-f8e1b0c7cc66_1200x600.png 848w, https://substackcdn.com/image/fetch/w_1272,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb6fe8814-89f3-4c53-8b73-f8e1b0c7cc66_1200x600.png 1272w, https://substackcdn.com/image/fetch/w_1456,c_limit,f_auto,q_auto:good,fl_progressive:steep/https%3A%2F%2Fsubstack-post-media.s3.amazonaws.com%2Fpublic%2Fimages%2Fb6fe8814-89f3-4c53-8b73-f8e1b0c7cc66_1200x600.png 1456w" sizes="100vw" loading="lazy"/></picture></div></a><figcaption>Two examples of cognitive load distribution</figcaption></figure></div><p>This is how much expertise a team has on the domain they are tackling. If your team is tasked with creating a ML vision project but no one in it has any experience with AI, then their intrinsic cognitive load will be initially very high as they learn this domain. Ideally, teams should work with domains that mostly align with their expertise but also leave some room for growth to keep it exciting. A bit of intrinsic cognitive load is good because engineers love skilling up, but too much of it can cause significant delays and anxiety about delivering quality outcomes soon.</p><p><strong>Single team</strong></p><p>Even though a team can be cross-functional and have expertise across various disciplines, there is an upper limit of how much this can be stretched. If there is a significant gap in skills for the team to achieve what they need, consider enabling them by providing them with the necessary training and time to catch up.</p><p>If your project requires too much expertise across too many domains you run the risk of turning the team into a group of individuals that each specialise on a separate domains, this will likely diminish their quality of outcome by making them work independently, rather than as a team. </p><p><strong>Multiple teams</strong></p><p>Having multiple teams gives you a wider scope to be able to split the domains across a larger number of people and will also give you more choices on the scope of expertise available to you. As an organization you may want to consider strategies to reduce intrinsic cognitive load by assigning no more than one complex domain per team, and also providing training or having enabling teams that can teach other teams to get better in a particular area. For example an SRE team that helps other teams understanding SLOs and observability in general.</p><p><strong>Recommendations</strong></p><ul><li><p>If you have a single team available to work on your vision and their expertise does not align with the problem you are trying to solve, consider enhancing the teams abilities by providing them with training.</p></li><li><p>Don’t assign too many domains for a single team, or risk them becoming a collection of individuals not working together and learning as a group.</p></li><li><p>Having multiple teams allows you to increase the scope of your software architecture with additional expertise. Align each domain with the right team for the task and enhance skillsets where needed with training or having enabling teams to train and assist their expertise.</p></li></ul><p>These are all the things that a team needs to do that does not contribute directly to the outcome of their work. Extraneous cognitive load can happen for multiple reasons, many of which may be inescapable or time consuming to fix, affecting the entire company. For example, a team that’s bogged down with tedious infrastructure tasks, tedious company processes, yak shaving, waiting for tickets to be fulfilled by another team, technical debt accrued company wide - all those things are extraneous cognitive load that don’t directly contribute to outcomes. Hence extraneous cognitive load is the least desirable of cognitive loads because it can create too much friction on the way to delivery.</p><p>In addition to extraneous cognitive load affecting the organization, the type of architecture can also, in some cases, add extraneous cognitive load:</p><p><strong>Single team</strong></p><p>Splitting a single team’s work into multiple microservices has the potential to add additional extraneous cognitive load in the form of costly communication boundaries that can fragment the team’s work.</p><p><a href="https://www.opslevel.com/resources/optimizing-engineering-communication-for-better-developer-experience#1-work-as-a-form-of-communication" rel="nofollow ugc noopener">Communicating via work</a><span> is the best form of engineering communication, but this takes different forms whether communicating across teams or within the same team. The ideal communication boundaries for collaboration across teams are well-designed APIs (or libraries!). But this is not the case for communication within a team because all members will be familiar with the domain they are working on, hence abstractions within the team aren’t as much of a requirement and can create extraneous cognitive load. In this case it will be the clarity of your code, your documentation, your design and discussions that drive your communication. </span></p><p>Splitting the work of a single team into multiple microservices, each with their own API can have a significant overhead in the amount of work that a team has to do to keep these APIs well-designed, user friendly and documented, and it can fragment the team’s work across multiple repositories and unnecessary boundaries. In this case a modular approach in a single code base may be preferable to keep consistency and focus within the team. </p><p><strong>Multiple teams</strong></p><p>Splitting the architecture into microservices when having multiple teams frees them with more time to implement well-designed communication boundaries in the form of APIs, ceasing to be extraneous cognitive load. Because these APIs will be used by other teams, it has two main advantages:</p><ol><li><p>It reduces the need for different teams to have to constantly talk to each other to get work done.</p></li><li><p>It enables other teams to self-service the abstractions of another team’s work. It mitigates or eliminates their extraneous cognitive load because they won’t need to be overly familiar with every domain, as long as they know how to use the API - which must be well-designed and intuitive.</p></li></ol><p>In this case the API keeps the organization well-oiled as it reduces the cognitive load of other teams and unnecessary communication, helping every team get into the flow.</p><p>However if you split the domains across multiple teams and communication boundaries are not properly defined with elegant APIs or other self-service tooling, then you will quickly find yourself in a situation where every team is constantly communicating with everyone, trying to understand each other’s domain to do their job. This is far from ideal and will create a significant amount of extraneous cognitive load.</p><p><strong>Recommendations</strong></p><ul><li><p>It is a joint engineering and leadership effort to ensure that all extraneous cognitive load is mitigated or ideally eliminated. This can be done by simplifying processes, reducing yak shaving, abstracting domains in the forms of APIs for other teams to use, designing architecture in a way that does not create redundant communication channels, etc.  If reducing or eliminating extraneous cognitive load is not possible at the moment, it must be taken into consideration when assigning work to a team. Too much extraneous cognitive load limits the amount (and potentially the quality) of outcomes a team can deliver and can lead to burnout.</p></li><li><p>A single team working on multiple microservices can introduce additional extraneous work in the form of communication boundaries and fragmenting the work within the team. It may be preferable instead to work on a modular monolith that can later be split if necessary.</p></li><li><p>Your communication across teams should be done predominantly with self-service tooling, be it APIs, libraries, CLI or whatever works. Too much communication can cause friction and hurts flow when too many teams are talking to each other when they shouldn’t have to.</p></li></ul><p>Germane cognitive load comes from solving problems that relate to the domain the team is working on, it is what leads to flow state, general developer happiness and quality of outcomes. This cognitive load is mostly positive, provided that teams are not overloaded with too many objectives in too short a time. The more intrinsic and extraneous work you can mitigate, the more germane work your team can focus on.</p><p><strong>Single team</strong></p><p>If you only have one team, consider narrowing down the ambitions of your architecture design before assigning it to the team. Always take into consideration the amount of extraneous cognitive load they will need to deal with. Remember that assigning a complex microservice architecture to a single team will in itself add additional extraneous cognitive load, even if there is none imposed on the team by bad tooling, technical debt, or friction from corporate processes or silos.</p><p>It is better to narrow down your ambitions to what the team is able to deliver safely and adequately than overstretching them until they burn out or aren’t able to delivery features with quality. You can always grow your capacity as the need arises and teams can always make their monoliths modular so it’s easier to split them later, if you ever have to.</p><p><strong>Multiple teams</strong></p><p>If, on the other hand, you have multiple teams at your disposal, then you can consider splitting your architecture into microservices or something similar so that teams can work on their own domain independently. This is better than everyone working together in a monolith or a gigantic shared codebase where everyone is overloaded with continuous communication.</p><p>When multiple teams work together to deliver software, make sure your team topologies reflect your software architecture and favour well-designed APIs as a form of communication for teams. This makes it easier for a team to abstract the complexities of their domain and it reduces the amount of talking needed to deliver work by the organization as a whole. </p><p><strong>Recommendations</strong></p><ul><li><p>Favour modular, monolithic architecture if you only have a single team. Design the software to fit the team’s capacity so they can deliver quality of outcomes. Always take intrinsic and extraneous cognitive load into consideration, as they will reduce the amount of germane cognitive load your team can handle.</p></li><li><p>If you have multiple teams and complex requirements, favour microservices or architectures that make it easy for teams to communicate and abstract their domain via well-designed APIs. Never assign more than a single complex domain to each team.</p></li></ul><p>Just like an organization chart should never be designed without consulting technical teams to match the architecture designs, architectural styles should never be decided without understanding capacity and the types of cognitive load affecting engineering.</p><p>Once these are understood, leadership and engineering can decide on more effective architectural designs and can take steps to mitigate or eliminate extraneous cognitive load and help the intrinsic load.</p><p>There is room in this topic to explore cross team communication in more detail, but that deserves its own post some time later.</p><p><span>Fernando Villalba is a Developer Relations at </span><a href="https://www.opslevel.com/" rel="nofollow ugc noopener">OpsLevel</a><span>, he has over a decade of miscellaneous IT experience. He started in IT support (&#34;Have you tried turning it on and off?&#34;), veered to become a SysAdmin (&#34;Don&#39;t you dare turn it off&#34;) and later segued into DevOps type of roles (&#34;Destroy and replace!&#34;). He has been a consultant for various multi-billion dollar organizations helping them achieve their highest potential with their DevOps processes. Now he is passionate about platform engineering, developer portals and DevEx, which he feels is where the future of software delivery shines brightest.</span></p><p><span>Follow Fernando Villalba in </span><strong><a href="https://www.linkedin.com/in/nandoit/" rel="nofollow ugc noopener">LinkedIn</a></strong><span> or </span><strong><a href="https://twitter.com/nandoyum" rel="nofollow ugc noopener">Twitter</a></strong></p></div></div></div></article></div></div></div>
  </body>
</html>
