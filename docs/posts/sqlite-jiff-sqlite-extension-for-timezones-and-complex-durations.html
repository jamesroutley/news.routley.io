<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/asg017/sqlite-jiff">Original</a>
    <h1>SQLite-jiff: SQLite extension for timezones and complex durations</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto">Work-in-progress date-time SQLite extension that will support timezones, complex durations, and daylight savings calculations, based on the <a href="https://github.com/BurntSushi/jiff"><code>jiff</code> library</a>.</p>
<div dir="auto" data-snippet-clipboard-copy-content=".load ./jiff0

select jiff_duration(
  &#39;2024-11-02T01:59:59[America/Los_Angeles]&#39;,
  &#39;2024-11-02T02:00:01[America/New_York]&#39;,
  &#39;minutes&#39;
) as result;
/*
┌──────────────────┐
│      result      │
├──────────────────┤
│ 179.966666666667 │
└──────────────────┘
*/

select jiff_duration(
  &#39;2024-11-03T01:59:59[America/Los_Angeles]&#39;,
  &#39;2024-11-03T02:00:01[America/New_York]&#39;,
  &#39;minutes&#39;
) as result;
/*
┌──────────────────┐
│      result      │
├──────────────────┤
│ 119.966666666667 │
└──────────────────┘
*/"><pre>.load .<span>/</span>jiff0

<span>select</span> jiff_duration(
  <span><span>&#39;</span>2024-11-02T01:59:59[America/Los_Angeles]<span>&#39;</span></span>,
  <span><span>&#39;</span>2024-11-02T02:00:01[America/New_York]<span>&#39;</span></span>,
  <span><span>&#39;</span>minutes<span>&#39;</span></span>
) <span>as</span> result;
<span><span>/*</span></span>
<span>┌──────────────────┐</span>
<span>│      result      │</span>
<span>├──────────────────┤</span>
<span>│ 179.966666666667 │</span>
<span>└──────────────────┘</span>
<span><span>*/</span></span>

<span>select</span> jiff_duration(
  <span><span>&#39;</span>2024-11-03T01:59:59[America/Los_Angeles]<span>&#39;</span></span>,
  <span><span>&#39;</span>2024-11-03T02:00:01[America/New_York]<span>&#39;</span></span>,
  <span><span>&#39;</span>minutes<span>&#39;</span></span>
) <span>as</span> result;
<span><span>/*</span></span>
<span>┌──────────────────┐</span>
<span>│      result      │</span>
<span>├──────────────────┤</span>
<span>│ 119.966666666667 │</span>
<span>└──────────────────┘</span>
<span><span>*/</span></span></pre></div>
<p dir="auto">Note that in this example, <code>2024-11-03</code> at 2AM is Daylight Savings &#34;fall back&#34;, which results in a 2hr difference instead of the &#34;normal&#34; 3hr difference.</p>
<p dir="auto">Mostly a &#34;this can work&#34; project, not usable for most people.</p>
<p dir="auto">If there&#39;s a feature or use-case that you think would be interesting in this extension, feel free to file an issue! I personally won&#39;t work much on this extension until <code>sqlite-vec</code> is out.</p>
</article></div></div>
  </body>
</html>
