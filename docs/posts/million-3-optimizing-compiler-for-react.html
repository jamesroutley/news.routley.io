<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://million.dev/blog/million-3.en-US">Original</a>
    <h1>Show HN: Million 3 – Optimizing compiler for React</h1>
    
    <div id="readability-page-1" class="page"><div><article><main><p><img src="https://million.dev/v3-thumbnail.png" width="100%"/></p>

<hr/>
<p>After many months of development (<em>and one <a href="https://twitter.com/aidenybai/status/1732812329434423647" target="_blank" rel="noreferrer">soft launch<span> (opens in a new tab)</span></a> later</em>), we are <strong>so excited</strong> to finally release Million 3. Thousands of hours have gone into this release by the Million community, including the core team, contributors, and many Discord members who have helped us test and provide feedback.</p>
<h2>What is Million?<a href="#what-is-million" id="what-is-million" aria-label="Permalink for this section"></a></h2>
<p>Million is an optimizing compiler for React. The React virtual DOM represents the user interface (UI) as a tree. Every time a component (node) renders, React traverses the virtual DOM tree to update the UI, resulting in <code dir="ltr">O(n)</code> time complexity. As your website grows, this can lead to sluggish user experiences.</p>
<p>Million takes a fundamentally different approach. It still represents a UI as a tree, but it discriminates between nodes. In an application, some nodes will never change (static text, images, etc.), while others will change frequently (user input, dynamic data, etc.). Instead of traversing every node, Million uses a compiler to directly update dynamic nodes, resulting in <code dir="ltr">O(1)</code> time complexity.</p>
<p>Since launching Million 1 &amp; 2, we have found that this approach works exceptionally well for data-heavy UIs, like dashboard with real-time information. However, there were certain caveats – some common libraries were not compatible, non-deterministic returns could not be optimized, and the compiler was not as stable as we would like.</p>
<p>Million 3 is a signficant update that solves these issues. We believe that Million 3 is the best way to build React applications, and we are excited to share it with you.</p>
<p><iframe width="560" height="315" src="https://www.youtube.com/embed/VkezQMb1DHw?si=dHe45lhM2uTOBQP9" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe></p>
<h2>What&#39;s new?<a href="#whats-new" id="whats-new" aria-label="Permalink for this section"></a></h2>
<h3>Performance<a href="#performance" id="performance" aria-label="Permalink for this section"></a></h3>
<p>The biggest challenge with Million 2 was hydration. In React, hydration is the process of attaching event listeners to the server-rendered HTML – making the page interactive. Just like how the virtual DOM needs to be traversed, hydration is also <code dir="ltr">O(n)</code> time complexity. This means that as your application grows, hydration can become a bottleneck.</p>

<p>In Million 3, we have introduced a new hydration system that only traverses the parts of the component that are dynamic, resulting in <code dir="ltr">O(d)</code> time complexity (where <code dir="ltr">d</code> is the number of dynamic nodes, <code dir="ltr">d</code> ≤ <code dir="ltr">n</code>).</p>

<p>We are also currently working on removing <code dir="ltr">&lt;slot&gt;</code> elements. In Million 2, this was necessary to mount blocks and portals properly, but often resulted in extra memory overhead and issues with parent-dependent styling (such as <code dir="ltr">flex-box</code> or <code dir="ltr">grid</code>). We expect to ship a full revamp of this system in the next minor release.</p>
<h3>Stability<a href="#stability" id="stability" aria-label="Permalink for this section"></a></h3>
<p>One of the major focuses of this release was to improve the stability of the developer experience.</p>
<p>Million 3 is a complete rewrite of the compiler. We have refactored based on correctness, to cover significantly more edge cases. These include: better TypeScript support, multiple returns, conditionals support, and handling of nested React components. This means that you can expect a more seamless and stable experience when using Million 3.</p>
<p>In the next few minor releases, we will be focusing on improving the performance of the compiler. This will make Million 3.x even faster and more reliable.</p>
<h3>Docs &amp; i18n upgrade<a href="#docs--i18n-upgrade" id="docs--i18n-upgrade" aria-label="Permalink for this section"></a></h3>
<p>The official <a href="https://million.dev" target="_blank" rel="noreferrer">million.dev<span> (opens in a new tab)</span></a> site has gotten an overhaul. We have added a new i18n system, so the site is now available in multiple languages! In addition, the documentation has been reorganized to show automatic mode as the default and manual mode as an advanced feature.</p>
<h2>Upgrading to version 3<a href="#upgrading-to-version-3" id="upgrading-to-version-3" aria-label="Permalink for this section"></a></h2>
<p>Your current 2.x.x code should work with 3.x.x with no changes. To upgrade, simply run:</p>

<p>That&#39;s all!</p>
<h2>The road ahead<a href="#the-road-ahead" id="the-road-ahead" aria-label="Permalink for this section"></a></h2>
<p>In the coming weeks, the Million team will ship a suite of developer tools to redefine how frontend engineering teams approach <span>debugging</span>, fixing, and maintaining web performance. Our mission is to enable developers to deliver fast software effortlessly: with any system, on any platform.</p>
<p>Today, dealing with performance issues is a nightmare. The status quo is navigating through React Devtools, <code dir="ltr">Profiler</code>, Chrome Devtools, <code dir="ltr">why-did-you-render</code>, Forget, and the lot. This is a fundamentally broken experience, leading to some developers spending more time debugging rerenders than shipping features.</p>
<p>Even within the React ecosystem, there is a basic lack of understanding on how to enable developers to build and maintain fast applications. Frameworks like Next.js and Gatsby have made it easier to build performant websites, but they can&#39;t optimize inefficiently implemented code. Hosting services scale as your application grows, but they can&#39;t fix a poorly designed architecture.</p>
<p>We need to build tools that make it easy to deliver fast applications, regardless of the framework, platform, or the size of your engineering team.</p>
<p>At Million, we have a simple thesis for software performance – we can build tools that make <em>existing</em> tooling fast and easy to use. Developers should think only of shipping features and fixing bugs – not keeping their apps fast. We plan to start with React, then extend to the roader frontend, backend, and other platforms.</p>
<p>I invite you to join Million on this journey. We are looking for talented frontend (dev tools) and pl/ml engineers to join us in the Bay Area. If you are interested, please email <a href="https://million.dev/blog/aiden@million.dev"><span data-cfemail="7a1b131e1f143a17131616131514541e1f0c">[email protected]</span></a> with your resume and something you built using Million.</p>
<p>Let&#39;s make the future of software fast, together.</p>
<h2>Acknowledgements<a href="#acknowledgements" id="acknowledgements" aria-label="Permalink for this section"></a></h2>
<p>Thank you to the many contributors who made this release possible. Special thanks to <a href="https://twitter.com/lxsmnsyc" target="_blank" rel="noreferrer">@lxsmnsyc<span> (opens in a new tab)</span></a>, <a href="https://twitter.com/asleMammadam" target="_blank" rel="noreferrer">@asleMammadam<span> (opens in a new tab)</span></a>, <a href="https://twitter.com/nisargptel" target="_blank" rel="noreferrer">@nisargptel<span> (opens in a new tab)</span></a>, <a href="https://twitter.com/fiveseveny" target="_blank" rel="noreferrer">@fiveseveny<span> (opens in a new tab)</span></a>, <a href="https://github.com/melindachang" target="_blank" rel="noreferrer">@melindachang<span> (opens in a new tab)</span></a> for their contributions to this release.</p>
<p>Feel free to ask questions and reach out to us on <a href="https://twitter.com/milliondotjs" target="_blank" rel="noreferrer">Twitter<span> (opens in a new tab)</span></a> or <a href="https://github.com/aidenybai/million" target="_blank" rel="noreferrer">GitHub<span> (opens in a new tab)</span></a>.</p></main></article></div></div>
  </body>
</html>
