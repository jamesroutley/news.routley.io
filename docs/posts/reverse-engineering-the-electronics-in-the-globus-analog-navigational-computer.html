<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="http://www.righto.com/2023/03/reverse-engineering-electronics-in.html">Original</a>
    <h1>Reverse-engineering the electronics in the Globus analog navigational computer</h1>
    
    <div id="readability-page-1" class="page"><div id="post-body-6097486051589556772" itemprop="description articleBody">


<p>In the Soyuz space missions, cosmonauts tracked their position above the Earth with a remarkable electromechanical
device with a rotating globe.
This navigation instrument was an analog computer that used an elaborate system of gears, cams, and differentials
to compute the spacecraft&#39;s position.
Officially, the unit was called a &#34;space navigation indicator&#34; with the Russian acronym ИНК (INK),<span id="fnref:ink"><a href="#fn:ink">1</a></span>
but I&#39;ll use the nickname &#34;Globus&#34;.</p>
<p><a href="https://static.righto.com/images/globus-electronics/globus.jpg"><img alt="The INK-2S &#34;Globus&#34; space navigation indicator." height="457" src="https://static.righto.com/images/globus-electronics/globus-w600.jpg" title="The INK-2S &#34;Globus&#34; space navigation indicator." width="600"/></a></p><p>The INK-2S &#34;Globus&#34; space navigation indicator.</p>
<p>We recently received a Globus from a collector and opened it up for repair and reverse engineering. 
Although the Globus does all its calculations mechanically, it has some electronics to control the motors.
Inconveniently, all the wires in the wiring harness to the external connector had been cut so
I had to do some reverse engineering before we could power it up.
In this blog post, I explain how the electronics operate.
(For an overview of the mechanical components inside the Globus, see my <a href="https://www.righto.com/2023/01/inside-globus-ink-mechanical-navigation.html">previous article</a>.)</p>
<p><a href="https://static.righto.com/images/globus-electronics/gears.jpg"><img alt="A closeup of the gears inside the Globus. It performed calculations with gears, cams, and differentials." height="375" src="https://static.righto.com/images/globus-electronics/gears-w500.jpg" title="A closeup of the gears inside the Globus. It performed calculations with gears, cams, and differentials." width="500"/></a></p><p>A closeup of the gears inside the Globus. It performed calculations with gears, cams, and differentials.</p>
<!--
![A closeup of the differential gears inside the Globus. It performed calculations with gears, cams, and differentials.](differentials.jpg "w600")
-->

<h2>Functionality</h2>
<p>The primary purpose of the Globus is to indicate the spacecraft&#39;s position. The globe rotated while fixed crosshairs on the
plastic dome 
indicated the spacecraft&#39;s position.
Thus, the globe matched the cosmonauts&#39; view of the Earth, allowing them to confirm their location.
Latitude and longitude dials next to the globe provided a numerical indication of location.
The light/shadow dial at the bottom showed when the spacecraft would be illuminated by the sun or in shadow.</p>
<p>The mode of the Globus is controlled by a three-position rotary switch near the top of the Globus.
The middle position &#34;З&#34; (Земля, Earth) shows the position of the spacecraft over the Earth.
The left position, &#34;МП&#34; (место посадки, landing site) selects the landing position mode.
The third position &#34;Откл&#34; (off) turns off most of the Globus.
This rotary switch is surprisingly complicated with three wafers, each with two poles. Most of the electronics
go through this switch, so this switch will appear often in the schematics below.</p>
<p><a href="https://static.righto.com/images/globus-electronics/rotary-switch.jpg"><img alt="The rotary switch to select the landing angle mode." height="204" src="https://static.righto.com/images/globus-electronics/rotary-switch-w300.jpg" title="The rotary switch to select the landing angle mode." width="300"/></a></p><p>The rotary switch to select the landing angle mode.</p>
<p>In the landing position mode, the Globus rotates to show where the spacecraft would land if you fired the retrorockets now.
This allowed the cosmonauts to evaluate the suitability of this landing site.
This position is computed simply by rapidly rotating the globe through a fraction of an orbit, since the landing position
will be on the current orbital track. Most of the electronics in the Globus control the motor that performs this rotation.</p>
<h2>Overview of the electronics</h2>
<p>The Globus is primarily mechanical, but it has more electrical and electronic components than you might expect.
The mechanical motion is powered by two solenoids with ratchets to turn gears.
The landing site mode is implemented with a motor to rotate to the landing position, controlled by two limit switches.
An electroluminescent light indicates the landing position mode.
A potentiometer provides position feedback to external devices.</p>
<p>To control these components, the Globus has an electronics board
with four relays, along with a germanium power transistor and some resistors and diodes.<span id="fnref:flyback"><a href="#fn:flyback">2</a></span>
Bundles of thin white wires with careful lacing connect the electronics board to the other components.</p>
<p><a href="https://static.righto.com/images/globus-electronics/electronics.jpg"><img alt="The electronics circuit board." height="267" src="https://static.righto.com/images/globus-electronics/electronics-w700.jpg" title="The electronics circuit board." width="700"/></a></p><p>The electronics circuit board.</p>
<p>The back of the circuit board has a few more diodes. The wiring is all point-to-point; it is not a printed-circuit board.
I will explain the circuitry in more detail below.</p>
<p><a href="https://static.righto.com/images/globus-electronics/board-back.jpg"><img alt="The back of the circuit board." height="272" src="https://static.righto.com/images/globus-electronics/board-back-w700.jpg" title="The back of the circuit board." width="700"/></a></p><p>The back of the circuit board.</p>
<h2>The drive solenoids</h2>
<p><a href="https://static.righto.com/images/globus-electronics/upper-solenoid.jpg"><img alt="The green cylinder at the front is the upper solenoid, driving the orbital motion. The digit wheels to indicate orbital time are at the left." height="256" src="https://static.righto.com/images/globus-electronics/upper-solenoid-w400.jpg" title="The green cylinder at the front is the upper solenoid, driving the orbital motion. The digit wheels to indicate orbital time are at the left." width="400"/></a></p><p>The green cylinder at the front is the upper solenoid, driving the orbital motion. The digit wheels to indicate orbital time are at the left.</p>
<p>The Globus contains two ratchet solenoids: one for the orbital rotation and one for the Earth&#39;s rotation.
The complex gear trains and the motion of the globe are driven by these solenoids.
These solenoids take 1-hertz pules of 27 volts and 100ms duration.
Each pulse causes the solenoid to advance the gear by one tooth; a pawl keeps the gear from slipping back.
These small rotations drive the gears throughout the Globus and result in a tiny movement of the globe.</p>
<p><a href="https://static.righto.com/images/globus-electronics/solenoid2.jpg"><img alt="The lower driving solenoid powers the Earth rotation." height="281" src="https://static.righto.com/images/globus-electronics/solenoid2-w300.jpg" title="The lower driving solenoid powers the Earth rotation." width="300"/></a></p><p>The lower driving solenoid powers the Earth rotation.</p>
<p>As the schematic shows, the solenoids are controlled by two switches that are closed in the МП (landing position) and З (Earth orbit) modes.
The solenoids are powered through three pins.
The wiring doesn&#39;t entirely make sense to me. If powered through pins 2A and 7A, the Earth motor is switched while
the orbit motor is always powered. But if powered through pins 2A and 5B, both motors are switched.
Maybe pin 7A monitors the on/off status of the Globus.</p>
<p><a href="https://static.righto.com/images/globus-electronics/schematic-solenoids.jpg"><img alt="Schematic diagram of the solenoid wiring." height="283" src="https://static.righto.com/images/globus-electronics/schematic-solenoids-w200.jpg" title="Schematic diagram of the solenoid wiring." width="200"/></a></p><p>Schematic diagram of the solenoid wiring.</p>
<p>By powering the solenoids with 1 hertz pulses, we caused the Globus to rotate. The motion is very slow (90 minutes for an orbit and one day for the Earth&#39;s rotation), so we tried overclocking it at 10 hertz. This made the motion barely visible; Marc used a time-lapse to speed it up in the video below.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/vCogLM-R8FU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen=""></iframe>

<h2>The landing location mechanism</h2>
<p>The Globus can display where the spacecraft would land if you started a re-entry burn now, with an accuracy
of 150 km.
This is computed by projecting the current orbit forward for a particular distance, specified as an angle.
The cosmonaut specifies this value with the landing angle knob (<a href="http://www.svengrahn.pp.se/histind/Ugol/Ugol.html">details</a>).
Rotating the globe to this new position is harder than you might expect, using a motor, limit switches, and the
majority of the electronics in the Globus.</p>
<p><a href="https://static.righto.com/images/globus-electronics/landing-angle.jpg"><img alt="The landing angle control." height="146" src="https://static.righto.com/images/globus-electronics/landing-angle-w300.jpg" title="The landing angle control." width="300"/></a></p><p>The landing angle control.</p>
<p>The landing angle knob pivots the angle limit switch, shown below.
The swing arm moves as the globe rotates to the landing position and
hits the angle limit switch when the landing position is reached.
When returning to Earth orbit mode, the swing arm swings back until it hits the fixed limit switch.
Thus, the globe is rotated by the selected amount when displaying the landing position.</p>
<p><a href="https://static.righto.com/images/globus-electronics/landing-angle-diagram.jpg"><img alt="The landing angle function uses a complex mechanism." height="471" src="https://static.righto.com/images/globus-electronics/landing-angle-diagram-w450.jpg" title="The landing angle function uses a complex mechanism." width="450"/></a></p><p>The landing angle function uses a complex mechanism.</p>
<p>To control the motor, the rotary switch reverses the DC motor based on the mode, while the limit switches and power transistor turn the motor on and off.
In landing position mode (МП), the motor spins the globe forward.
The mode switch controls the direction of current flow: from upper right, through the motor, through the angle
limit switch, through the transistor, and to ground at the bottom.
The motor will rotate the globe and the arm until it hits the &#34;landing position&#34; limit switch, cutting power to the motor and
activating the path to the light circuit,
which I will discuss below. The diode prevents current flowing backward through the motor to the relay.
The power transistor apparently acts as a current sink, regulating the current through the motor. </p>
<p><a href="https://static.righto.com/images/globus-electronics/schematic-landing.jpg"><img alt="Schematic diagram of the landing location mechanism." height="591" src="https://static.righto.com/images/globus-electronics/schematic-landing-w400.jpg" title="Schematic diagram of the landing location mechanism." width="400"/></a></p><p>Schematic diagram of the landing location mechanism.</p>
<p>In Earth orbit mode (З), the motor spins the globe back to its regular position.
The mode switch reverses the current flow through the motor: from the upper-left,
through the diode and the motor, and out the lower-right to the transistor.
At the bottom, the relay completes the circuit until the moving arm hits the fixed orbit limit switch.
This opens the normally-closed contact, cutting power to the relay, opening the relay contact, and stopping the motor.</p>
<h2>The landing place light</h2>
<p>The upper-left corner of the Globus has an electroluminescent light labeled &#34;Место посадки&#34; (Landing place).
This light illuminates when the globe indicates the landing place rather than the orbital position.
The light is powered by AC provided on two external pins and is controlled by two relays.
One relay is activated by the landing circuit described above, when the limit switch closes. The second relay is driven
by an external pin.
I don&#39;t know if this is for a &#34;lamp test&#34; or control from an external system.</p>
<p><a href="https://static.righto.com/images/globus-electronics/schematic-light.jpg"><img alt="Schematic diagram of the circuitry that controls the electroluminescent light." height="361" src="https://static.righto.com/images/globus-electronics/schematic-light-w400.jpg" title="Schematic diagram of the circuitry that controls the electroluminescent light." width="400"/></a></p><p>Schematic diagram of the circuitry that controls the electroluminescent light.</p>
<p>We powered the light with an EL inverter from <a href="http://adafru.it/448">Adafruit</a>, which produces 100 VAC at 2KHz, perhaps.
The spacecraft used a &#34;Static Inverter&#34; to power the light, but I don&#39;t have any details on it.
The display provides a nice blue glow.</p>
<!--
![The Adafruit inverter. ](inverter.jpg "w300")
-->

<p><a href="https://static.righto.com/images/globus-electronics/illuminated.jpg"><img alt="The landing position indicator, illuminated." height="230" src="https://static.righto.com/images/globus-electronics/illuminated-w300.jpg" title="The landing position indicator, illuminated." width="300"/></a></p><p>The landing position indicator, illuminated.</p>
<h2>The potentiometer</h2>
<p>A 360° potentiometer (below) converts the spacecraft&#39;s orbital position into a resistance. Sources indicate that
the Globus provides this signal to other units on the spacecraft, but I don&#39;t know specifically what
these devices are.
The potentiometer appears to linearly track the spacecraft&#39;s position through the orbital cycle.
Note that this is not the same as the latitude, which oscillates, or the longitude, which is non-linear.</p>
<p><a href="https://static.righto.com/images/globus-electronics/rheostat.jpg"><img alt="The potentiometer converts the orbital position into a voltage.
To the right is the cam that produces the longitude display. Antarctica is visible on the globe." height="351" src="https://static.righto.com/images/globus-electronics/rheostat-w400.jpg" title="The potentiometer converts the orbital position into a voltage.
To the right is the cam that produces the longitude display. Antarctica is visible on the globe." width="400"/></a></p><p>The potentiometer converts the orbital position into a voltage.
To the right is the cam that produces the longitude display. Antarctica is visible on the globe.</p>
<p>As the schematic below shows, the potentiometer has a resistor on one leg for some reason.</p>
<p><a href="https://static.righto.com/images/globus-electronics/schematic-pot.jpg"><img alt="Schematic diagram of the orbital-position potentiometer." height="206" src="https://static.righto.com/images/globus-electronics/schematic-pot-w230.jpg" title="Schematic diagram of the orbital-position potentiometer." width="230"/></a></p><p>Schematic diagram of the orbital-position potentiometer.</p>
<h2>The external connector</h2>
<p>To connect the Globus to the rest of the spacecraft, the back of the Globus has a 32-pin connector, a standard RS32TV Soviet military design.</p>
<p><a href="https://static.righto.com/images/globus-electronics/back.jpg"><img alt="The back of the Globus, with the connector at the upper left." height="289" src="https://static.righto.com/images/globus-electronics/back-w400.jpg" title="The back of the Globus, with the connector at the upper left." width="400"/></a></p><p>The back of the Globus, with the connector at the upper left.</p>
<p>The connector was wired to nearby 5-pin and 7-pin terminal strips. In the schematics, I label these connectors as
&#34;B&#34; and &#34;A&#34; respectively.
Inconveniently, all the wires to the box&#39;s external connector were cut (the black wires), perhaps to decommission the
unit.
The pinout of the external connector is unknown so we can&#39;t easily reconnect the wires.</p>
<p><a href="https://static.righto.com/images/globus-electronics/cut-wires.jpg"><img alt="A closeup of the back of the connector showing the cut black wires." height="295" src="https://static.righto.com/images/globus-electronics/cut-wires-w400.jpg" title="A closeup of the back of the connector showing the cut black wires." width="400"/></a></p><p>A closeup of the back of the connector showing the cut black wires.</p>
<h2>Conclusions</h2>
<p>By tracing out the wiring of the Globus, I determined its circuitry. 
This was more difficult than expected, since the wiring consists of bundles of identical white wires.
Moreover, many things go through the mode switch, and its terminals were inaccessible.
Between the mode switch and the limit switches, there were many cases to check.</p>
<p>Once I determined the circuitry, we could power up the Globus. So far, we have powered the solenoids to turn
the Globus. We also illuminated the landing position light. Finally, we ran the landing position motor.</p>
<p>Follow me on Twitter <a href="https://twitter.com/kenshirriff">@kenshirriff</a> or <a href="http://www.righto.com/feeds/posts/default">RSS</a> for updates.
I&#39;ve also started experimenting with Mastodon recently as <a href="https://oldbytes.space/@kenshirriff">@<span data-cfemail="5a35363e38232e3f2974292a3b393f1a313f342932332828333c3c">[email protected]</span></a>.
Many thanks to Marcel for providing the Globus.</p>
<h2>Notes and references</h2>


</div></div>
  </body>
</html>
