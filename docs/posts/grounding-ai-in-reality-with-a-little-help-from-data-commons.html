<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://research.google/blog/grounding-ai-in-reality-with-a-little-help-from-data-commons/">Original</a>
    <h1>Grounding AI in reality with a little help from Data Commons</h1>
    
    <div id="readability-page-1" class="page"><section data-gt-id="blog_summary" data-gt-component-name="Blog Summary">
                        
                        



<p data-block-key="1i0lv"><i>Google&#39;s DataGemma models bridge the gap between large language models (LLMs) and real-world data by leveraging the Data Commons knowledge graph to improve the factuality and trustworthiness of LLM responses.</i></p>
                        
                    </section><div data-gt-publish-date="20240912">
                    
                    
    


<section>
    <div>
        
  <div data-gt-id="rich_text" data-gt-component-name="">
    <p data-block-key="7jtcm">Large Language Models (LLMs) have revolutionized how we interact with information, but grounding their responses in verifiable facts remains a fundamental challenge. This is compounded by the fact that real-world knowledge is often scattered across numerous sources, each with its own data formats, schemas, and APIs, making it difficult to access and integrate. Lack of grounding can lead to hallucinations — instances where the model generates incorrect or misleading information. Building responsible and trustworthy AI systems is a core focus of our research, and addressing the challenge of hallucination in LLMs is crucial to achieving this goal.</p><p data-block-key="almiv">Today we&#39;re excited to announce DataGemma, an experimental set of open models that help address the challenges of hallucination by grounding LLMs in the vast, real-world statistical data of Google&#39;s <a href="https://datacommons.org/about" target="_blank" rel="noopener noreferrer">Data Commons</a>. Data Commons already has a <a href="https://blog.google/technology/ai/google-data-commons-ai/" target="_blank" rel="noopener noreferrer">natural language interface</a>. Inspired by the ideas of simplicity and universality, DataGemma leverages this pre-existing interface so natural language can act as the “API”. This means one can ask things like, “What industries contribute to California jobs?” or “Are there countries in the world where forest land has increased?” and get a response back without having to write a traditional database query. By using Data Commons, we overcome the difficulty of dealing with data in a variety of schemas and APIs. In a sense, LLMs provide a single “universal” API to external data sources.</p>
</div>

    </div>
</section>

                    
                    
    


<section>
    <div>
        
  <div data-gt-id="rich_text" data-gt-component-name="">
    <h2 data-block-key="7jtcm">Data Commons is a foundation for factual AI</h2><p data-block-key="5c26"><a href="https://datacommons.org/" target="_blank" rel="noopener noreferrer">Data Commons</a> is Google’s publicly available knowledge graph that contains over 250 billion global data points across hundreds of thousands of statistical variables, sourced from trusted organizations like the United Nations, the World Health Organization, health ministries, census bureaus, and more, who provide factual data covering a wide range of topics, from economics and climate change to health and demographics<footnote id="2f38b877-f420-405d-ac9e-a28ad57c779b">[2f38b8]</footnote>. This broad and openly available repository continues to expand its global coverage and exemplifies what it means to make data AI-ready, providing a rich foundation for building more grounded and reliable AI.</p>
</div>

    </div>
</section>

                    
                    
    


<section>
    <div>
        
  <div data-gt-id="rich_text" data-gt-component-name="">
    <h2 data-block-key="7jtcm">DataGemma connects LLMs to Data Commons’ real-world data</h2><p data-block-key="7nqtg">Gemma is a family of lightweight, state-of-the-art, open models built from the same research and technology used to create our <a href="https://blog.google/technology/ai/google-gemini-ai/#sundar-note" target="_blank" rel="noopener noreferrer">Gemini</a> models. DataGemma expands the capabilities of the <a href="https://blog.google/technology/developers/gemma-open-models/" target="_blank" rel="noopener noreferrer">Gemma family</a> by harnessing the knowledge of Data Commons to enhance LLM factuality and reasoning. By leveraging innovative retrieval techniques, DataGemma helps LLMs access and incorporate into their responses data sourced from trusted institutions (including governmental and intergovernmental organizations and NGOs), mitigating the risk of hallucinations and improving the trustworthiness of their outputs.</p><p data-block-key="2nmms">Instead of needing knowledge of the specific data schema or API of the underlying datasets, DataGemma utilizes the natural language interface of Data Commons to ask questions. The nuance is in training the LLM to know when to ask. For this, we use two different approaches, Retrieval Interleaved Generation (RIG) and Retrieval Augmented Generation (RAG).</p>
</div>

    </div>
</section>

                    
                    
    


<section>
    <div>
        
  <div data-gt-id="rich_text" data-gt-component-name="">
    <h3 data-block-key="7jtcm">Retrieval Interleaved Generation (RIG)</h3><p data-block-key="4f1pf">This approach fine-tunes Gemma 2 to identify statistics within its responses and annotate them with a call to Data Commons, including a relevant query and the model&#39;s initial answer for comparison. Think of it as the model double-checking its work against a trusted source.</p><p data-block-key="2bdbo">Here&#39;s how RIG works:</p><ol><li data-block-key="f2i23"><b>User query:</b> A user submits a query to the LLM.</li><li data-block-key="2hhtl"><b>Initial response &amp; Data Commons query:</b> The DataGemma model (based on the 27 billion parameter Gemma 2 model and fully fine-tuned for this <i>RIG</i> task) generates a response, which includes a natural language query for Data Commons&#39; existing natural language interface, specifically designed to retrieve relevant data. For example, instead of stating &#34;The population of California is 39 million&#34;, the model would produce &#34;The population of California is [DC(What is the population of California?) → &#34;39 million&#34;]&#34;, allowing for external verification and increased accuracy.</li><li data-block-key="3eor9"><b>Data retrieval &amp; correction:</b> Data Commons is queried, and the data are retrieved. These data, along with source information and a link, are then automatically used to replace potentially inaccurate numbers in the initial response.</li><li data-block-key="fh30n"><b>Final response with source link:</b> The final response is presented to the user, including a link to the source data and metadata in Data Commons for transparency and verification.</li></ol>
</div>

    </div>
</section>

                    
                    
    


<section>
    
</section>

                    
                    
    


<section>
    <div>
        
  <div data-gt-id="rich_text" data-gt-component-name="">
    <h4 data-block-key="7jtcm">Trade-offs of the RIG approach</h4><p data-block-key="2s4c7">An advantage of this approach is that it doesn’t alter the user query and can work effectively in all contexts. However, the LLM doesn’t inherently learn or retain the updated data from Data Commons, making any secondary reasoning or follow-on queries oblivious to the new information. In addition, fine-tuning the model requires specialized datasets tailored to specific tasks.</p>
</div>

    </div>
</section>

                    
                    
    


<section>
    <div>
        
  <div data-gt-id="rich_text" data-gt-component-name="">
    <h3 data-block-key="7jtcm">Retrieval Augmented Generation (RAG)</h3><p data-block-key="1miqc">This established approach retrieves relevant information from Data Commons before the LLM generates text, providing it with a factual foundation for its response. The challenge here is that the data returned from broad queries may contain a large number of tables that span multiple years of data. In fact, from our synthetic query set, there was an average input length of 38,000 tokens with a max input length of 348,000 tokens. Hence, the implementation of RAG is only possible because of <a href="https://storage.googleapis.com/deepmind-media/gemini/gemini_v1_5_report.pdf" target="_blank" rel="noopener noreferrer">Gemini 1.5 Pro’s</a> long context window, which allows us to append the user query with such extensive Data Commons data.</p><p data-block-key="1c3eo">Here&#39;s how RAG works:</p><ol><li data-block-key="d92rt"><b>User query:</b> A user submits a query to the LLM.</li><li data-block-key="el17s"><b>Query analysis &amp; Data Commons query generation:</b> The DataGemma model (based on the Gemma 2 (27B) model and fully fine-tuned for this <i>RAG</i> task) analyzes the user&#39;s query and generates a corresponding query (or queries) in natural language that can be understood by Data Commons&#39; existing natural language interface.</li><li data-block-key="b8nb1"><b>Data retrieval from Data Commons:</b> Data Commons is queried using this natural language query, and relevant data tables, source information, and links are retrieved.</li><li data-block-key="686so"><b>Augmented prompt:</b> The retrieved information is added to the original user query, creating an augmented prompt.</li><li data-block-key="4k2n1"><b>Final response generation:</b> A larger LLM (e.g., Gemini 1.5 Pro) uses this augmented prompt, including the retrieved data, to generate a comprehensive and grounded response.</li></ol>
</div>

    </div>
</section>

                    
                    
    


<section>
    
</section>

                    
                    
    


<section>
    
</section>

                    
                    
    


<section>
    <div>
        
  <div data-gt-id="rich_text" data-gt-component-name="">
    <h4 data-block-key="7jtcm">Trade-offs of the RAG approach</h4><p data-block-key="f9u9n">Advantages to using this approach are that RAG automatically benefits from ongoing model evolution, particularly improvements in the LLM generating the final response. As this LLM advances, it can better utilize the context retrieved by RAG, leading to more accurate and insightful outputs even with the same retrieved data generated by the query LLM. A disadvantage is that modifying the user&#39;s prompt can sometimes lead to a less intuitive user experience. In addition, the effectiveness of grounding depends on the quality of the generated queries to Data Commons.</p>
</div>

    </div>
</section>

                    
                    
    


<section>
    <div>
        
  <div data-gt-id="rich_text" data-gt-component-name="">
    <h2 data-block-key="7jtcm">Join us in shaping the future of grounded AI</h2><p data-block-key="dot9r">While DataGemma represents a significant step forward, we recognize that it&#39;s still early in the development of grounded AI. We invite researchers, developers, and anyone passionate about responsible AI to explore DataGemma and join us in this exciting journey. We believe that by grounding LLMs in the real-world data of Data Commons, we can unlock new possibilities for AI and create a future where information is not only intelligent but also grounded in facts and evidence. To go deeper into the research behind DataGemma, we encourage you to read <a href="http://datacommons.org/link/DataGemmaPaper" target="_blank" rel="noopener noreferrer">our research paper</a>.</p><p data-block-key="9of9t">We also hope researchers extend this work past our specific implementation with Data Commons. Data Commons itself provides ways for third parties to <a href="https://datacommons.org/build" target="_blank" rel="noopener noreferrer">set up their own Data Commons instances</a>. In addition, we believe this work is generally extensible to any knowledge graph format and look forward to further research and exploration in this space.</p><p data-block-key="f80vh"><b>Ready to get started?</b> Download the DataGemma models from <a href="https://huggingface.co/collections/google/datagemma-release-66df7636084d2b150a4e6643" target="_blank" rel="noopener noreferrer">Hugging Face</a> or Kaggle (<a href="https://www.kaggle.com/models/google/datagemma-rig" target="_blank" rel="noopener noreferrer">RIG</a>, <a href="https://www.kaggle.com/models/google/datagemma-rag/transformers/datagemma-rag-27b/" target="_blank" rel="noopener noreferrer">RAG</a>). To help you get started quickly, try our quickstart notebooks for both the <a href="https://colab.research.google.com/github/datacommonsorg/llm-tools/blob/master/notebooks/datagemma_rig.ipynb">RIG</a> and <a href="https://colab.research.google.com/github/datacommonsorg/llm-tools/blob/master/notebooks/datagemma_rag.ipynb">RAG</a> approaches. These notebooks provide a hands-on introduction to using DataGemma and exploring its capabilities.</p>
</div>

    </div>
</section>

                    
                </div></div>
  </body>
</html>
