<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://github.com/noboruma/go-msquic">Original</a>
    <h1>Go-msquic: A new QUIC/HTTP3 library for Go</h1>
    
    <div id="readability-page-1" class="page"><div data-hpc="true"><article itemprop="text">
<p dir="auto"><code>go-msquic</code> is a Go wrapper for the <a href="https://github.com/microsoft/msquic">Microsoft&#39;s QUIC library</a>, providing Go developers with an easy interface to work with QUIC-based protocols such as HTTP/3.
<code>go-msquic</code> API is inspired from <a href="https://github.com/quic-go/quic-go">quic-go</a> and can be used as a drop-in replacement. Unless you are ready to deal with C libraries, we do actually recommend <code>quic-go</code> over <code>go-msquic</code>.</p>


<p dir="auto">Before all, it is necessary to have a local <code>MsQuic</code> C library build.
<code>go-msquic</code> relies on CGO and needs both C headers &amp; the library (shared or static, see below).</p>
<ul dir="auto">
<li>First, get <code>MsQuic</code> via:</li>
</ul>
<div data-snippet-clipboard-copy-content="git clone https://github.com/microsoft/msquic
cd msquic
git submodule update --init --recursive"><pre><code>git clone https://github.com/microsoft/msquic
cd msquic
git submodule update --init --recursive
</code></pre></div>
<ul dir="auto">
<li>For a static build (libmsquic.a), do the following:</li>
</ul>
<div data-snippet-clipboard-copy-content="mkdir build-static
cd build-static
cmake .. -DCMAKE_BUILD_TYPE=MinSizeRel -DQUIC_BUILD_SHARED=OFF"><pre><code>mkdir build-static
cd build-static
cmake .. -DCMAKE_BUILD_TYPE=MinSizeRel -DQUIC_BUILD_SHARED=OFF
</code></pre></div>
<ul dir="auto">
<li>Alternatively, for a dynamic build (libmsquic.so), do the following:</li>
</ul>
<div data-snippet-clipboard-copy-content="mkdir build
cd build
cmake .. -DCMAKE_BUILD_TYPE=MinSizeRel"><pre><code>mkdir build
cd build
cmake .. -DCMAKE_BUILD_TYPE=MinSizeRel
</code></pre></div>
<ul dir="auto">
<li>Then proceed with the compilation</li>
</ul>

<div dir="auto"><h3 tabindex="-1" dir="auto">Set the right package-config</h3><a id="user-content-set-the-right-package-config" aria-label="Permalink: Set the right package-config" href="#set-the-right-package-config"><svg viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg></a></div>
<p dir="auto">Package-config is the tool used by CGO to find the headers &amp; library automatically.</p>
<p dir="auto">You can find package-config (.pc) file in this repository. Copy the following <code>pcs/msquic-static.pc</code> (for a static build) or <code>pcs/msquic.pc</code> (for a dynamic build) into <code>/usr/share/pkgconfig/msquic.pc</code> - or anywhere accessible by pkg-config tool.</p>

<p dir="auto">To install <code>go-msquic</code>, ensure you have Go installed on your system. Then run the following command to install the package:</p>
<div dir="auto" data-snippet-clipboard-copy-content="go get github.com/noboruma/go-msquic"><pre>go get github.com/noboruma/go-msquic</pre></div>
<p dir="auto">And use in code via:</p>
<div data-snippet-clipboard-copy-content="import &#34;github.com/noboruma/go-msquic/pkg/quic&#34;"><pre><code>import &#34;github.com/noboruma/go-msquic/pkg/quic&#34;
</code></pre></div>
<p dir="auto">If the prerequisites are done properly, you can now compile your Go project relying on <code>go-msquic</code> with <code>CGO_ENABLED=1</code> and start using msquic.</p>

<p dir="auto">There is a client &amp; server code in the <a href="https://github.com/noboruma/go-msquic/tree/main/sample"><code>sample/</code></a> directory.</p>

<p dir="auto">MIT License</p>
</article></div></div>
  </body>
</html>
