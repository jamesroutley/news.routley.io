<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://lisp-journey.gitlab.io/blog/debugging-lisp-fix-and-resume-a-program-from-any-point-in-stack/">Original</a>
    <h1>Debugging Lisp: fix and resume a program from any point in stack</h1>
    
    <div id="readability-page-1" class="page"><div><p>You are doing god’s work on a time-intensive computation, but your final step errors out :S Are you doomed to start everything from zero, and wait again for this long process? No! Find out.</p>

<p>I show this with Emacs and Slime, then with the <a href="https://github.com/lem-project/lem/">Lem editor</a> (ready-to-use for CL, works with many more languages thanks to its LSP client).</p>

<p>(This video is so cool :D Sound on)</p>

<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/jBBS4FeY7XM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>We use the built-in Common Lisp interactive debugger that lets us restart one precise frame from the call stack. Once you get the debugger:</p>

<ul>
<li>press “v” on a frame to go to the corresponding source file</li>
<li>fix the buggy function, compile it again (C-c C-c in Slime)</li>
<li>come back to the debugger, place the point on the frame you want to try again, press “r” (sldb-restart-frame, see your editor’s menu)</li>
<li>see everything succeed. You did <em>not</em> restart everything from zero.</li>
<li>if you don’t see some function calls and variables in the debugger, compile your code with max debug settings (<code>C-u C-c C-c</code> in Slime).</li>
</ul>

<p>For more:</p>

<ul>
<li><a href="https://lispcookbook.github.io/cl-cookbook/debugging.html">https://lispcookbook.github.io/cl-cookbook/debugging.html</a> - see how to break and step, how to trace function calls, etc.</li>
</ul>

<p>Other videos:</p>

<ul>
<li><a href="https://www.youtube.com/watch?v=XFc513MJjos">How to create a full-featured Common Lisp project</a> with <a href="https://github.com/vindarel/cl-cookieproject">my project generator</a>.</li>
<li><a href="https://www.youtube.com/watch?v=TAtwcBh1QLg">How to call a REST API in Common Lisp - example with the GitHub API</a>, sending HTTP requests, parsing JSON, building a binary.</li>
</ul>

<p>Hope you learned something!</p>

<hr/>

<p><img src="https://lisp-journey.gitlab.io/images/debugging-python-VS-lisp.png" alt="Debugging a complex stacktrace in Python VS Common Lisp (unknown author)"/></p>
</div></div>
  </body>
</html>
