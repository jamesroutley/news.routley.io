<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://www.browserless.io/blog/2024/02/26/unblock-api/?apcid=00620de59ffc742367908900&amp;utm_campaign=unblock-api-announcement&amp;utm_content=unblock-api-announcement&amp;utm_medium=email&amp;utm_source=ortto">Original</a>
    <h1>The /unblock API from Browserless: dodging bot detection as a service</h1>
    
    <div id="readability-page-1" class="page"><div>
<p>The cat-and-mouse between bots and WAFs requires increasingly sophisticates solutions.</p>



<p>Traditional methods often rely on “mocking” JavaScript APIs or setting Chrome flags, but these are becoming less reliable due to advances in protections from Cloudflare. Even plugins like<code> puppeteer-extra-plugin-stealth</code> fails to mask fundamental aspects of how Puppeteer effects a browser.</p>



<p>It’s why we’ve taken a new deeper approach to humanizing traffic.</p>



<h2>When was the last time you loaded a browser at 800×600 pixels?</h2>



<p>That’s what Puppeteer does. Every time you run a script with Puppeteer, it creates a 800x600px browsers.</p>



<p>Even if you use <code>Page.setViewport()</code>, it will only change resize the browser once it’s been instantiated at the default size. This behavior is just one of the many dead giveaways that the traffic is coming from a bot, not a human.</p>



<p>To hide fingerprints like these, our /unblock API runs modifies behavior at the CDP layer.</p>



<p>For this browser size example, the API creates the browser at a more typical 1920×1080 pixels. Only once that’s done is Puppeteer allowed to connect to it. By feeding Chrome modified instructions with the Chrome DevTools Protocol, we’re able to tidy away all the breadcrumbs like these which bot detectors pick up on.</p>



<h2>Launching Chrome like a human would</h2>



<p>The aim of this /unblock API is to launch Chrome with settings that are what you’d expect on a normal computer. Bot detectors can’t start filtering out traffic using a 1920×1080 browser, as that would start blocking authentic traffic. </p>



<p>While there will still be some amount of cat and mouse as we find increasingly subtle fingerprints, we expect that once changed that each one will permanently help with avoiding bot blockers.</p>



<h2>Ask and you shall receive (a site)</h2>



<p>Whether you’re looking to connect Puppeteer to an “unblocked” browser, or you’re simply after cookies, our JSON-based API is designed to cater to a wide range of needs. This flexibility is crucial for developers with different setups. </p>



<p>The experience using the Unblock API is as follows: </p>



<ol>
<li>You provide a URL of the website that’s difficult to access.</li>



<li>We’ll instantiate the browser leaving as few breadcrumbs as possible and bypass bot detection depending on mechanisms identified on the site.</li>



<li>Once the site is accessed, the API will return the data of that site.</li>



<li>Unless cookies content or screenshot are set to false in the POST’ed payload, it’ll generate those.</li>



<li>If browserWSEndpoint is set to true, it’ll generate a custom one-time link for puppeteer or any other CDP-like library to reconnect to.</li>



<li>It’ll return these values above in a JSON response.</li>
</ol>



<p>You shouldn’t need to setup stealth libraries, test chrome flags combinations, or implement bot-solving technologies. However, you might still want to use our usual<a href="https://www.browserless.io/docs/bypass-bot-detection" target="_blank" rel="noreferrer noopener"> bypassing bot detection mechanisms</a> such as residential proxies.</p>



<h2>Staying ahead of bot detection mechanisms</h2>



<p>Looking ahead, we commit to continuously improving. This means we’ll constantly update and fixes for new detection mechanisms. We’re always open to knowing what sites you’re having a problem bypassing because we can use those as samples of sites we need to analyze and setup bypassing mechanisms on.</p>



<p>Some sites enforce Captchas 100% even on our real human computers, which means we’re also working on supporting Captcha auto-solving soon.</p>



<h2>Try the /unblock API yourself</h2>



<p>To use the API you’ll need to use our new V2 service. That means the code becomes:</p>


<div><pre><code><span>curl --request POST \
</span><span>  --url </span><span>&#39;https://production-sfo.browserless.io/unblock?timeout=300000&amp;token=YOUR-API-TOKEN&#39;</span><span> \
</span><span>  --header </span><span>&#39;content-type: application/json&#39;</span><span> \
</span><span>  --data </span><span>&#39;{
</span><span>  &#34;url&#34;: &#34;https://example.com&#34;,
</span><span>  &#34;browserWSEndpoint&#34;:true
</span><span>}&#39;
</span></code></pre></div>


<p>Or use production-lon.browserless.io for the London server.</p>



<p>The API is now publicly available for our users. Sign up for a 7-day trial of browserless to test it with your existing Puppeteer scripts.</p>



<p><a href="https://www.browserless.io/pricing/">7-Day Browserless Trial</a></p>



<p><em>Note: as this process is resource intensive, it will use extra Units, and is not available for our free tier users.</em></p>
</div></div>
  </body>
</html>
