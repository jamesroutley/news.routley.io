<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://joseph.yiasemides.com/posts/visualizing-amass-data-over-time">Original</a>
    <h1>Visualizing Amass Data Over Time</h1>
    
    <div id="readability-page-1" class="page"><div id="post-content">
<p>
I want to share an idea I’m really excited about!</p>
<p>
There is a lot you can do with all the historical data you’re collecting, if you’re running <a href="https://owasp.org/www-project-amass/">Amass</a> periodically, and you’re currently tracking changes between just the most recent enumerations.<a href="#fn:1" id="fnref:1" title="see footnote">1</a></p>
<p>
How about getting your data to look like this…</p>
<figure>
    <img src="https://makerfaire.com/images/DNHCOT.svg"/>
  <figcaption><span>Figure 1.</span> Domain Name → Host Count Over Time. The chart plots the Amass enumeration index along the x-axis, domain name along the y-axis, and the dot size and shade indicate the number of hosts behind that domain for that enumeration. The data has been shortened and domain names obfuscated for this post.</figcaption></figure>
<p>
…instead of like this?</p>
<figure>
    <pre>Found: about.example.com XXX.XXX.XXX.XXX
Found: analytics.example.com XXX.XXX.XXX.XXX
Found: api.example.com XXX.XXX.XXX.XXX,XXX.XXX.XXX.XXX
Found: app.example.com XXX.XXX.XXX.XXX
Found: blog.example.com XXX.XXX.XXX.XXX
</pre>
  <figcaption><span>Figure 2.</span> Example sample of Amass&#39;s `track` output.</figcaption></figure>
<p>
AFAICT, the status quo is all about using a line-based diff to capture changes to an asset space over the two most recent enumerations, and then getting notified about those changes.<a href="#fn:2" id="fnref:2" title="see footnote">2</a>
The idea is that this will keep us up to date with assets that might be more vulnerable because they haven’t been exposed as long, any issues are yet to be discovered, and yet to be fixed.</p>
<p>
Sticking to just the two most recent enumerations seems extremely limiting.
Why only compare the most recent data by doing a simple line-by-line comparison when the Amass DB stores historical data stretching further back and much more of it than we can get with an <code>amass track</code>?
Admittedly, making good sense of connected categorical data (domain names, IP address, etc.) over time is difficult, but it’s clear from the chart that there’s a lot more going on than a line-by-line comparison can show us.
Not least that what looks like a new asset when comparing just two enumerations, had in fact existed historically: it was there, it went, and it came back.</p>
<p>
A line-based diff is excellent for looking at the details (e.g. exactly which domain and address at which point in time need closer examination), but they make it much harder to get the big picture and discern patterns, like what’s normal and what’s not.<a href="#fn:3" id="fnref:3" title="see footnote">3</a>
This sort of framework might actually help us learn about an organization’s routines, habits, and historical mistakes.</p>
<p>
Spotting a pattern in the past and learning to exploit it in the future means that we can be proactive in trying to predict or narrow our focus.
No doubt, notifications are great for keeping up-to-date, but as real-time as they might be, they will only ever be a reactive mechanism.</p>
<p>
I have a few more ideas working along this theme, but more than anything, I’d love your thoughts and feedback.
I don’t have as much time as I’d like to validate this idea but perhaps you do.
If you have Amass set-up and running periodically you can point <a href="https://gist.github.com/Dzol/e2a016d89a056a57f1b1807fd40cbbf1">the code (and write-up) in this notebook</a> to your Amass data directory to get the same chart as above.</p>
<p>
Write to me at <a href="mailto:joseph@yiasemides.com?subject=Visualising Amass Data Over Time">joseph@yiasemides.com</a>.</p>
<div>
  <hr/>
  <ol>
    <li id="fn:1">
<a href="#fnref:1" title="return to article">↩</a>      <p>
In short, Amass is a tool used by security professionals to gather information on a target off of the Web, including domains, IP Addresses, etc.      </p>
    </li>
    <li id="fn:2">
<a href="#fnref:2" title="return to article">↩</a>      <p>
I learnt about reconnaissance over time from <a href="https://www.youtube.com/watch?v=DABPWQ40yb0&amp;t=322s">Codingo’s</a> video, <a href="https://www.bugcrowd.com/resources/levelup/implementing-recon-over-time/">sw33tLie’s</a> post, and <a href="https://hakluke.com/open-source-asm-spiderfoot/">Hakluke’s</a> post. I searched the Web (Google, Bing, and DuckDuckGo), consulted ChatGPT, searched on forums and chat servers, and took a look at every product I could find in the space. I couldn’t find anything providing an overview over time. Let me know if there’s something out there.      </p>
    </li>
    <li id="fn:3">
<a href="#fnref:3" title="return to article">↩</a>      <p>
The chart generated by the notebook below does in fact provide a diff when hovering over the dots.      </p>
    </li>
  </ol>
</div>

  </div></div>
  </body>
</html>
