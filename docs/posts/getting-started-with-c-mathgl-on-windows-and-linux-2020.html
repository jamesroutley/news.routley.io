<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://solarianprogrammer.com/2020/06/25/getting-started-mathgl-windows-linux/">Original</a>
    <h1>Getting started with C&#43;&#43; MathGL on Windows and Linux (2020)</h1>
    
    <div id="readability-page-1" class="page"><div> <header> <section id="title_subtitle">  <h4 id="blog_subtitle">My programming ramblings</h4> </section> <nav></nav>   </header> <section> <article>    <h2> Posted on June 25, 2020 by Paul </h2> <p>In this article, I will show you how to install and get started with the C++ interface of <a href="http://mathgl.sourceforge.net/doc_en/Main.html">MathGL</a> on Linux and Windows. <em>MathGL</em> is a high quality scientific graphics library.</p> <p>In the first two parts of the article I will describe how to install the library and how to build a C++ MathGL example. In the third part of the article we’ll use <em>MathGL</em> to create a 2D function graphic and save it as an image file. As a second example, we’ll use the <a href="https://www.fltk.org/">FLTK</a> GUI library to show the same 2D function:</p> <p><img src="https://solarianprogrammer.com/images/2020/06/25/mathgl_demo.png" alt="MathGL Demo two dimensional wave curve function" width="700"/></p> <p>This article is split in three parts:</p> <ul> <li><a href="https://solarianprogrammer.com/2020/06/25/getting-started-mathgl-windows-linux/#mathgl_installation_windows">Install MathGL on Windows</a></li> <li><a href="https://solarianprogrammer.com/2020/06/25/getting-started-mathgl-windows-linux/#mathgl_installation_linux">Install MathGL on Linux</a></li> <li><a href="https://solarianprogrammer.com/2020/06/25/getting-started-mathgl-windows-linux/#mathgl_usage_example">C++ MathGL usage example</a></li> </ul> <p>I recommend that you read the install part for your OS and the part that shows how to use <em>MathGL</em> to create some graphics.</p> <p><a id="mathgl_installation_windows"><strong>Install MathGL on Windows:</strong></a></p> <p>On Windows, the recommended approach to install <em>MathGL</em> is to use the official <a href="http://mathgl.sourceforge.net/doc_en/Download.html#Download">MathGL binaries</a>. From the above page, download the <em>GPL</em> or <em>LGPL</em> binaries for <em>MinGW 64 bits</em>. After you’ve finished downloading the archive, you can extract it with <a href="https://www.7-zip.org/">7zip</a>.</p> <p>Next, we are going to install the <em>MinGW 64 GCC</em> toolchain that was used to build the library. At the current time, easiest approach is to download <a href="http://www.codeblocks.org/downloads/26">Code::Blocks</a> version 20.03. Make sure to download the file named <em>codeblocks-20.03mingw-setup.exe</em>.</p> <p>Start the <em>Code::Blocks</em> installer and accept the defaults. Once the installation is finished, <em>Code::Blocks</em> will detect the included <em>GCC toolchain</em>.</p> <p>Next, you will need to manually copy the content of the <em>MathGL</em> archive to the location where <em>Code::Blocks</em> has installed <em>GCC</em>, this is usually <em>C:\Program Files\CodeBlocks\MinGW</em>.</p> <p>Copy the content of the <em>bin</em> folder of <em>MathGL</em> to the the <em>bin</em> folder of <em>MinGW</em>. When asked if you want to overwrite some files with the same names, skip these files.</p> <p>Copy the content of the <em>lib</em> folder of <em>MathGL</em> to the the <em>lib</em> folder of <em>MinGW</em>.</p> <p>Open the <em>include</em> folder of <em>MathGL</em> and copy the include folder <em>mgl2</em>. Inside the <em>MinGW</em> folder, go to <em>x86_64-w64-mingw32</em>, open the <em>include</em> folder and paste the <em>mgl2</em> folder in here.</p> <p>Open <em>Code::Blocks</em> and create a new project, chose <em>Console Application</em> and <em>C++</em>. Chose a name for the project and a location.</p> <p>Once the C++ console project is open, right click on the project name (in the left panel) and select <em>Build options</em>. Select <em>Linker Settings</em> and in the <em>Other linker options</em> panel add the desired libraries: <em>-lmgl</em> in this case. If you want to be able to use the <em>FLTK</em> GUI library, like you will see in our second example, you will need to add <em>-lmgl -lmgl-fltk</em>. Press OK.</p> <p>In <em>Code::Blocks</em>, you can use the <em>Build and Run</em> button (the small wheel with a green triangle icon) to compile and execute a program.</p> <p>Next, remove the default C++ generated code from <em>main.cpp</em> and go to <a href="https://solarianprogrammer.com/2020/06/25/getting-started-mathgl-windows-linux/#mathgl_usage_example">MathGL usage</a> part of this article for an example.</p> <p><a id="mathgl_installation_linux"><strong>Install MathGL on Linux:</strong></a></p> <p>For Linux, I will exemplify the installation part on a Debian based system.</p> <p>Let’s start by installing a C++ toolchain. Open a <em>Terminal</em> and write:</p> <figure><pre><code data-lang="console"><span></span><span>1 </span><span>sudo apt install build-essential</span></code></pre></figure> <p>Next, install <em>MathGL</em> with:</p> <figure><pre><code data-lang="console"><span></span><span>1 </span><span>sudo apt install libmgl-dev</span></code></pre></figure> <p>Assuming that you’ve saved your <em>MathGL</em> program in a file named <em>mgl_ex1.cpp</em>, this is how you can build it:</p> <figure><pre><code data-lang="console"><span></span><span>1 </span><span>g++ mgl_ex1.cpp -o mgl_ex1 -lmgl</span></code></pre></figure> <p>or, if you are using the <em>FLTK</em> GUI library:</p> <figure><pre><code data-lang="console"><span></span><span>1 </span><span>g++ mgl_ex1.cpp -o mgl_ex1 -lmgl -lmgl-fltk</span></code></pre></figure> <p>Once the program is compiled, you can run it as usual on Linux with:</p> <figure><pre><code data-lang="console"><span></span><span>1 </span><span>./mgl_ex1</span></code></pre></figure> <p>Next, go to the <a href="https://solarianprogrammer.com/2020/06/25/getting-started-mathgl-windows-linux/#mathgl_usage_example">MathGL usage</a> part of this article for an example program.</p> <p><a id="mathgl_usage_example"><strong>C++ MathGL usage example:</strong></a></p> <p>Here is a small C++ MathGL program that will draw a wave curve and save the graphic in an image file named <em>mgl_example.png</em>:</p> <figure><pre><code data-lang="cpp"><span></span><span> 1 </span><span>#include</span> <span>&lt;mgl2\mgl.h&gt;</span><span></span>
<span> 2 </span>
<span> 3 </span><span>int</span> <span>main</span><span>()</span> <span>{</span>
<span> 4 </span>    <span>mglGraph</span> <span>gr</span><span>;</span>
<span> 5 </span>    <span>gr</span><span>.</span><span>Title</span><span>(</span><span>&#34;MathGL Demo&#34;</span><span>);</span>
<span> 6 </span>    <span>gr</span><span>.</span><span>SetOrigin</span><span>(</span><span>0</span><span>,</span> <span>0</span><span>);</span>
<span> 7 </span>    <span>gr</span><span>.</span><span>SetRanges</span><span>(</span><span>0</span><span>,</span> <span>10</span><span>,</span> <span>-</span><span>2.5</span><span>,</span> <span>2.5</span><span>);</span>
<span> 8 </span>    <span>gr</span><span>.</span><span>FPlot</span><span>(</span><span>&#34;sin(1.7*2*pi*x) + sin(1.9*2*pi*x)&#34;</span><span>,</span> <span>&#34;r-2&#34;</span><span>);</span>
<span> 9 </span>    <span>gr</span><span>.</span><span>Axis</span><span>();</span>
<span>10 </span>    <span>gr</span><span>.</span><span>Grid</span><span>();</span>
<span>11 </span>    <span>gr</span><span>.</span><span>WriteFrame</span><span>(</span><span>&#34;mgl_example.png&#34;</span><span>);</span>
<span>12 </span><span>}</span></code></pre></figure> <p>The image will be saved where your program executable is located.</p> <p>Next, we’ll draw the same curve, but this time using a <em>FLTK</em> window that will let you play with the graph: zoom, pan, rotate and other operations:</p> <figure><pre><code data-lang="cpp"><span></span><span> 1 </span><span>#include</span> <span>&lt;mgl2/fltk.h&gt;</span><span></span>
<span> 2 </span>
<span> 3 </span><span>int</span> <span>graph</span><span>(</span><span>mglGraph</span> <span>*</span><span>gr</span><span>)</span> <span>{</span>
<span> 4 </span>    <span>gr</span><span>-&gt;</span><span>Title</span><span>(</span><span>&#34;MathGL Demo&#34;</span><span>);</span>
<span> 5 </span>    <span>gr</span><span>-&gt;</span><span>SetOrigin</span><span>(</span><span>0</span><span>,</span> <span>0</span><span>);</span>
<span> 6 </span>    <span>gr</span><span>-&gt;</span><span>SetRanges</span><span>(</span><span>0</span><span>,</span> <span>10</span><span>,</span> <span>-</span><span>2.5</span><span>,</span> <span>2.5</span><span>);</span>
<span> 7 </span>    <span>gr</span><span>-&gt;</span><span>FPlot</span><span>(</span><span>&#34;sin(1.7*2*pi*x) + sin(1.9*2*pi*x)&#34;</span><span>,</span> <span>&#34;r-4&#34;</span><span>);</span>
<span> 8 </span>    <span>gr</span><span>-&gt;</span><span>Axis</span><span>();</span>
<span> 9 </span>    <span>gr</span><span>-&gt;</span><span>Grid</span><span>();</span>
<span>10 </span>    <span>return</span> <span>0</span><span>;</span>
<span>11 </span><span>}</span>
<span>12 </span>
<span>13 </span><span>int</span> <span>main</span><span>()</span> <span>{</span>
<span>14 </span>    <span>mglFLTK</span> <span>gr</span><span>(</span><span>graph</span><span>,</span> <span>&#34;MathGL demo window title&#34;</span><span>);</span>
<span>15 </span>    <span>return</span> <span>gr</span><span>.</span><span>Run</span><span>();</span>
<span>16 </span><span>}</span></code></pre></figure> <p>If you want to learn more about the capabilities of <em>MathGL</em> I recommend that you check their examples and the <a href="http://mathgl.sourceforge.net/doc_en/index.html#SEC_Contents">user manual</a>.</p> </article>  </section>     </div></div>
  </body>
</html>
