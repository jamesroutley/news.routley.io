<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>James Routley | Feed</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="../styles.css"
      media="screen"
    />
  </head>
  <body>
    <a href="/index.html">Back</a>
    <a href="https://devblogs.microsoft.com/dotnet/announcing-dotnet-run-app/">Original</a>
    <h1>Run a C# file directly using dotnet run app.cs</h1>
    
    <div id="readability-page-1" class="page"><div id="single-wrapper">
    
    <article data-clarity-region="article" id="post-56905">
        <div data-bi-area="body_article" data-bi-id="post_page_body_article">
            <p>We are super excited to introduce a new feature that was released as part of .NET 10 Preview 4 that makes getting started with C# easier than ever. You can now run a C# file directly using <code>dotnet run app.cs</code>. This means you no longer need to create a project file or scaffold a whole application to run a quick script, test a snippet, or experiment with an idea. It’s simple, intuitive, and designed to streamline the C# development experience, especially for those just getting started.</p>
<h2>What is <code>dotnet run app.cs</code>?</h2>
<p>Until now, executing C# code using the <code>dotnet</code> CLI required a project structure that included a <code>.csproj</code> file. With this new capability, which we call <em>file-based apps</em>, you can run a standalone <code>.cs</code> file directly, much like you would with scripting languages such as Python or JavaScript.</p>
<p>This lowers the entry barrier to trying out C# and makes the language a much more attractive choice for learning, prototyping, or automation scenarios.</p>
<ul>
<li><strong>Quick Start, No Project File Required</strong> – Great for learning, experimentation, and small scripts.</li>
<li><strong>First-Class CLI Integration</strong> – No extra tools, no dependencies, just <code>dotnet</code> and your <code>.cs</code> file.</li>
<li><strong>Scales to Real Applications</strong> – This isn’t a separate dialect or runtime. When your script grows up, it can evolve into a full-fledged project using the same language, syntax, and tooling.</li>
</ul>
<h2>New file-level directives for file-based C# apps</h2>
<p>With .NET 10 Preview 4, file-based apps also support a set of powerful <strong>file-level directives</strong> that allow to declare a small number of important things that are stored in project files for project-based apps, all without leaving your single <code>.cs</code> file. These directives make file-based apps more flexible and expressive while maintaining compatibility with MSBuild concepts.</p>
<h3>Referencing NuGet packages with <code>#:package</code></h3>
<p>You can add NuGet package references directly in your <code>.cs</code> file using the <code>#:package</code> directive:</p>
<pre><code>#:package Humanizer@2.14.1

using Humanizer;

var dotNet9Released = DateTimeOffset.Parse(&#34;2024-12-03&#34;);
var since = DateTimeOffset.Now - dotNet9Released;

Console.WriteLine($&#34;It has been {since.Humanize()} since .NET 9 was released.&#34;);</code></pre>
<h3>Specifying an SDK with <code>#:sdk</code></h3>
<p>By default, file-based apps use the <code>Microsoft.NET.Sdk</code> SDK. If you’re building something like a web API, you can change the SDK using the <code>#:sdk</code> directive:</p>
<pre><code>#:sdk Microsoft.NET.Sdk.Web</code></pre>
<p>This tells the tooling to treat the file as if it were part of a web project, enabling features of ASP.NET Core like Minimal APIs and MVC.</p>
<h3>Setting MSBuild properties with <code>#:property</code></h3>
<p>You can configure additional build properties using <code>#:property</code>. For example:</p>
<pre><code>#:property LangVersion preview</code></pre>
<p>This allows your file-based app to opt into advanced language features and platform targeting, without needing a full project file.</p>
<h3>Using shebang lines for shell scripts</h3>
<p>File-based apps also support <a href="https://en.wikipedia.org/wiki/Shebang_%28Unix%29">shebang</a> lines (<code>#!</code>), allowing you to write cross-platform C# shell scripts that are executable directly on Unix-like systems. For example:</p>
<pre><code>#!/usr/bin/dotnet run
Console.WriteLine(&#34;Hello from a C# script!&#34;);</code></pre>
<p>You can make the file executable and run it directly:</p>
<pre><code>chmod +x app.cs
./app.cs</code></pre>
<p>This makes C# a convenient option for CLI utilities, automation scripts, and tooling, no project setup required.</p>
<h2>Converting to a project-based app</h2>
<p>When your file-based app grows in complexity, or you simply want the extra capabilities afforded in project-based apps, you can convert it to a standard project with:</p>
<pre><code>dotnet project convert app.cs</code></pre>
<p>This command creates a new directory named for your file, scaffolds a <code>.csproj</code> file, moves your code into a <code>Program.cs</code> file, and translates any <code>#:</code> directives into MSBuild properties and references.</p>
<h3>Example</h3>
<p>Given this file:</p>
<pre><code>#:sdk Microsoft.NET.Sdk.Web
#:package Microsoft.AspNetCore.OpenApi@10.*-*

var builder = WebApplication.CreateBuilder();

builder.AddOpenApi();

var app = builder.Build();

app.MapGet(&#34;/&#34;, () =&gt; &#34;Hello, world!&#34;);
app.Run();</code></pre>
<p>The generated <code>.csproj</code> would be:</p>
<pre><code>&lt;Project Sdk=&#34;Microsoft.NET.Sdk.Web&#34;&gt;

  &lt;PropertyGroup&gt;
    &lt;TargetFramework&gt;net10.0&lt;/TargetFramework&gt;
    &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;
    &lt;Nullable&gt;enable&lt;/Nullable&gt;
  &lt;/PropertyGroup&gt;

  &lt;ItemGroup&gt;
    &lt;PackageReference Include=&#34;Microsoft.AspNetCore.OpenApi&#34; Version=&#34;10.*-*&#34; /&gt;
  &lt;/ItemGroup&gt;

&lt;/Project&gt;</code></pre>
<p>This makes the transition seamless, from a single file to a fully functional, buildable, and extensible project.</p>
<h2>Existing ways to run C# without projects</h2>
<p>This is far from the first time developers have wanted to run C# without a project. Community projects like <a href="https://github.com/oleg-shilo/cs-script">CS-Script</a>, <a href="https://github.com/dotnet-script/dotnet-script">dotnet-script</a>, <a href="https://cakebuild.net/">Cake</a>, and others have long filled this role, enabling scripting workflows, REPL experiences, and other experiences with C#. Here’s a <a href="https://www.hanselman.com/blog/c-and-net-core-scripting-with-the-dotnetscript-global-tool">blog post by Scott Hanselman from 2018 detailing the <code>dotnet-script</code> global tool</a>.</p>
<p>These tools remain valuable and are worth checking out, especially for more advanced scripting scenarios. However, with this new built-in support, developers can get started immediately: no additional installation, configuration, or discovery steps required.</p>
<p>Equally important: this isn’t a separate dialect or mode of C#. We’re being intentional about making this feature a natural earlier “click-stop” from a regular C# project-based app. You’re writing the same C#, using the same compiler, and when your code grows up, it transitions naturally into a project-based app, if and when you want.</p>
<h2>Getting Started</h2>
<ol>
<li><strong>Install .NET 10 Preview 4</strong>
Download and install it from <a href="https://dotnet.microsoft.com/download/dotnet/10.0">dotnet.microsoft.com</a>.</li>
<li><strong>Install Visual Studio Code (recommended)</strong>
If you’re using Visual Studio Code, install the <a href="https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csdevkit">C# Dev Kit</a> and then follow these instructions to update the C# extension for file-based apps support:
<blockquote><p>To enable support for file-based apps and directives, you’ll need the latest <strong>pre-release version</strong> of the C# extension:</p>
<ul>
<li>Open the Extensions sidebar (<code>Ctrl+Shift+X</code>)</li>
<li>Search for “C#”</li>
<li>In the extension page, click the <strong>Switch to Pre-Release Version</strong> button</li>
<li>Ensure the version installed is at least <code>2.79.8</code></li>
</ul>
</blockquote>
</li>
<li><strong>Write your code</strong>
Create a file called <code>hello.cs</code>:
<pre><code>Console.WriteLine(&#34;Hello, world!&#34;);</code></pre>
</li>
<li><strong>Run it!</strong>
Open a terminal in the same folder and run:
<pre><code>dotnet run hello.cs</code></pre>
</li>
<li><strong>Convert to a project</strong>
To convert the file to a project, run:
<pre><code>dotnet project convert hello.cs</code></pre>
</li>
</ol>
<h2>Learn more</h2>
<p>Watch this feature in action in this <a href="https://build.microsoft.com/sessions/DEM518?source=sessions">demo session from Microsoft Build</a>:
<a href="https://www.youtube.com/watch?v=98MizuB7i-w">No projects, just C# with <code>dotnet run app.cs</code></a></p>
<p>You’ll see how easy it is to get started, explore directives, and convert to a full project when ready.
<iframe width="800" height="450" src="https://www.youtube.com/embed/98MizuB7i-w?si=l_k3YRlViQR-rCpr" allowfullscreen=""></iframe></p>
<p>You’ll see how easy it is to get started, explore directives, and convert to a full project when ready.</p>
<h2>The road ahead</h2>
<p>With <code>dotnet run app.cs</code>, we’re making C# more approachable, while preserving the full power and depth of the .NET ecosystem. Whether you’re prototyping, teaching, or building production systems, this new capability helps you move faster from idea to execution.</p>
<p>In upcoming .NET 10 previews we’re aiming to improve the experience of working with file-based apps in VS Code, with enhnanced IntelliSense for the new file-based directives, improved performance, and support for debugging. At the command line we’re exploring support for file-based apps with <a href="https://github.com/dotnet/sdk/blob/main/documentation/general/dotnet-run-file.md#multiple-c-files">multiple files</a>, and ways to make running file-based apps faster.</p>
<p>Try it out today and send your <a href="https://github.com/dotnet/sdk/issues/new">feedback to GitHub</a> as we continue to shape this experience during .NET 10 and beyond.</p>
        </div><!-- .entry-content -->

        <!-- AI Disclaimer -->
            </article>
    
</div></div>
  </body>
</html>
